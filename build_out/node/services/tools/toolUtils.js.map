{"version":3,"file":"toolUtils.js","sourceRoot":"","sources":["../../../../src/node/services/tools/toolUtils.ts"],"names":[],"mappings":";;;;;;;;;AAAA,gEAAwC;AAOxC,4BAAmC,MAAyB,EAAE,QAAgB,EAAU;IACtF,IAAA,gBAAM,EAAC,MAAM,CAAC,WAAW,EAAE,GAAG,QAAQ,uBAAuB,CAAC,CAAC;IAC/D,OAAO,MAAM,CAAC,WAAW,CAAC;AAAA,CAC3B;AAED,4BAAmC,MAAyB,EAAE,QAAgB,EAAe;IAC3F,IAAA,gBAAM,EAAC,MAAM,CAAC,WAAW,EAAE,GAAG,QAAQ,uBAAuB,CAAC,CAAC;IAC/D,OAAO,MAAM,CAAC,WAAW,CAAC;AAAA,CAC3B;AAED,yBACE,MAA0B,EAC1B,KAAc,EACd,QAAgB,EACP;IACT,MAAM,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IACvC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QACpB,MAAM,IAAI,KAAK,CAAC,GAAG,QAAQ,mCAAmC,MAAM,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;IACxF,CAAC;IACD,OAAO,MAAM,CAAC,IAAI,CAAC;AAAA,CACpB;AAED,uBAA8B,MAAyB,EAAY;IACjE,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;AAAA,CACpC","sourcesContent":["import assert from \"node:assert/strict\";\r\n\r\nimport type { z } from \"zod\";\r\n\r\nimport type { ToolConfiguration } from \"@/common/utils/tools/tools\";\r\nimport type { TaskService } from \"@/node/services/taskService\";\r\n\r\nexport function requireWorkspaceId(config: ToolConfiguration, toolName: string): string {\r\n  assert(config.workspaceId, `${toolName} requires workspaceId`);\r\n  return config.workspaceId;\r\n}\r\n\r\nexport function requireTaskService(config: ToolConfiguration, toolName: string): TaskService {\r\n  assert(config.taskService, `${toolName} requires taskService`);\r\n  return config.taskService;\r\n}\r\n\r\nexport function parseToolResult<TSchema>(\r\n  schema: z.ZodType<TSchema>,\r\n  value: unknown,\r\n  toolName: string\r\n): TSchema {\r\n  const parsed = schema.safeParse(value);\r\n  if (!parsed.success) {\r\n    throw new Error(`${toolName} tool result validation failed: ${parsed.error.message}`);\r\n  }\r\n  return parsed.data;\r\n}\r\n\r\nexport function dedupeStrings(values: readonly string[]): string[] {\r\n  return Array.from(new Set(values));\r\n}\r\n"]}