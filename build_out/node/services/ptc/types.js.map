{"version":3,"file":"types.js","sourceRoot":"","sources":["../../../../src/node/services/ptc/types.ts"],"names":[],"mappings":";AAAA;;;;;GAKG","sourcesContent":["/**\n * Programmatic Tool Calling (PTC) Types\n *\n * Event and result types for the sandboxed JS runtime that enables\n * multi-tool workflows via code execution.\n */\n\n/**\n * Event emitted when a tool call starts within the sandbox.\n */\nexport interface PTCToolCallStartEvent {\n  type: \"tool-call-start\";\n  callId: string; // Unique ID for correlation with end event\n  toolName: string;\n  args: unknown;\n  startTime: number;\n}\n\n/**\n * Event emitted when a tool call ends within the sandbox.\n */\nexport interface PTCToolCallEndEvent {\n  type: \"tool-call-end\";\n  callId: string; // Same ID as start event for correlation\n  toolName: string;\n  args: unknown;\n  result?: unknown;\n  error?: string;\n  startTime: number;\n  endTime: number;\n}\n\n/**\n * Event emitted when console.log/warn/error is called in the sandbox.\n */\nexport interface PTCConsoleEvent {\n  type: \"console\";\n  level: \"log\" | \"warn\" | \"error\";\n  args: unknown[];\n  timestamp: number;\n}\n\nexport type PTCEvent = PTCToolCallStartEvent | PTCToolCallEndEvent | PTCConsoleEvent;\n\n/**\n * Record of a tool call made during execution.\n */\nexport interface PTCToolCallRecord {\n  toolName: string;\n  args: unknown;\n  result?: unknown;\n  error?: string;\n  duration_ms: number;\n}\n\n/**\n * Record of console output during execution.\n */\nexport interface PTCConsoleRecord {\n  level: \"log\" | \"warn\" | \"error\";\n  args: unknown[];\n  timestamp: number;\n}\n\n/**\n * Result of executing code in the PTC sandbox.\n */\nexport interface PTCExecutionResult {\n  success: boolean;\n  /** Final return value from the code (if success) */\n  result?: unknown;\n  /** Error message (if !success) */\n  error?: string;\n  /** Tool calls made during execution (for partial results on failure) */\n  toolCalls: PTCToolCallRecord[];\n  /** Console output captured during execution */\n  consoleOutput: PTCConsoleRecord[];\n  /** Total execution time in milliseconds */\n  duration_ms: number;\n}\n"]}