{"version":3,"file":"types.js","sourceRoot":"","sources":["../../../../src/node/services/ptc/types.ts"],"names":[],"mappings":";AAAA;;;;;GAKG","sourcesContent":["/**\r\n * Programmatic Tool Calling (PTC) Types\r\n *\r\n * Event and result types for the sandboxed JS runtime that enables\r\n * multi-tool workflows via code execution.\r\n */\r\n\r\n/**\r\n * Event emitted when a tool call starts within the sandbox.\r\n */\r\nexport interface PTCToolCallStartEvent {\r\n  type: \"tool-call-start\";\r\n  callId: string; // Unique ID for correlation with end event\r\n  toolName: string;\r\n  args: unknown;\r\n  startTime: number;\r\n}\r\n\r\n/**\r\n * Event emitted when a tool call ends within the sandbox.\r\n */\r\nexport interface PTCToolCallEndEvent {\r\n  type: \"tool-call-end\";\r\n  callId: string; // Same ID as start event for correlation\r\n  toolName: string;\r\n  args: unknown;\r\n  result?: unknown;\r\n  error?: string;\r\n  startTime: number;\r\n  endTime: number;\r\n}\r\n\r\n/**\r\n * Event emitted when console.log/warn/error is called in the sandbox.\r\n */\r\nexport interface PTCConsoleEvent {\r\n  type: \"console\";\r\n  level: \"log\" | \"warn\" | \"error\";\r\n  args: unknown[];\r\n  timestamp: number;\r\n}\r\n\r\nexport type PTCEvent = PTCToolCallStartEvent | PTCToolCallEndEvent | PTCConsoleEvent;\r\n\r\n/**\r\n * Record of a tool call made during execution.\r\n */\r\nexport interface PTCToolCallRecord {\r\n  toolName: string;\r\n  args: unknown;\r\n  result?: unknown;\r\n  error?: string;\r\n  duration_ms: number;\r\n}\r\n\r\n/**\r\n * Record of console output during execution.\r\n */\r\nexport interface PTCConsoleRecord {\r\n  level: \"log\" | \"warn\" | \"error\";\r\n  args: unknown[];\r\n  timestamp: number;\r\n}\r\n\r\n/**\r\n * Result of executing code in the PTC sandbox.\r\n */\r\nexport interface PTCExecutionResult {\r\n  success: boolean;\r\n  /** Final return value from the code (if success) */\r\n  result?: unknown;\r\n  /** Error message (if !success) */\r\n  error?: string;\r\n  /** Tool calls made during execution (for partial results on failure) */\r\n  toolCalls: PTCToolCallRecord[];\r\n  /** Console output captured during execution */\r\n  consoleOutput: PTCConsoleRecord[];\r\n  /** Total execution time in milliseconds */\r\n  duration_ms: number;\r\n}\r\n"]}