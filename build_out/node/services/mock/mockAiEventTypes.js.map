{"version":3,"file":"mockAiEventTypes.js","sourceRoot":"","sources":["../../../../src/node/services/mock/mockAiEventTypes.ts"],"names":[],"mappings":"","sourcesContent":["import type { CompletedMessagePart } from \"@/common/types/stream\";\r\nimport type { StreamErrorType } from \"@/common/types/errors\";\r\n\r\nimport type { LanguageModelV2Usage } from \"@ai-sdk/provider\";\r\n\r\nexport type MockEventKind =\r\n  | \"stream-start\"\r\n  | \"stream-delta\"\r\n  | \"stream-end\"\r\n  | \"stream-error\"\r\n  | \"reasoning-delta\"\r\n  | \"tool-start\"\r\n  | \"tool-end\"\r\n  | \"usage-delta\";\r\n\r\nexport interface MockAssistantEventBase {\r\n  kind: MockEventKind;\r\n  delay: number;\r\n}\r\n\r\nexport interface MockStreamStartEvent extends MockAssistantEventBase {\r\n  kind: \"stream-start\";\r\n  messageId: string;\r\n  model: string;\r\n  mode?: \"plan\" | \"exec\" | \"compact\";\r\n}\r\n\r\nexport interface MockStreamDeltaEvent extends MockAssistantEventBase {\r\n  kind: \"stream-delta\";\r\n  text: string;\r\n}\r\n\r\nexport interface MockStreamEndEvent extends MockAssistantEventBase {\r\n  kind: \"stream-end\";\r\n  metadata: {\r\n    model: string;\r\n    inputTokens?: number;\r\n    outputTokens?: number;\r\n    systemMessageTokens?: number;\r\n  };\r\n  parts: CompletedMessagePart[];\r\n}\r\n\r\nexport interface MockStreamErrorEvent extends MockAssistantEventBase {\r\n  kind: \"stream-error\";\r\n  error: string;\r\n  errorType: StreamErrorType;\r\n}\r\n\r\nexport interface MockReasoningEvent extends MockAssistantEventBase {\r\n  kind: \"reasoning-delta\";\r\n  text: string;\r\n}\r\n\r\nexport interface MockToolStartEvent extends MockAssistantEventBase {\r\n  kind: \"tool-start\";\r\n  toolCallId: string;\r\n  toolName: string;\r\n  args: unknown;\r\n}\r\n\r\nexport interface MockUsageDeltaEvent extends MockAssistantEventBase {\r\n  kind: \"usage-delta\";\r\n  /** Step-level usage (for context window display) */\r\n  usage: LanguageModelV2Usage;\r\n  providerMetadata?: Record<string, unknown>;\r\n\r\n  /** Cumulative usage (for cost display) */\r\n  cumulativeUsage: LanguageModelV2Usage;\r\n  cumulativeProviderMetadata?: Record<string, unknown>;\r\n}\r\n\r\nexport interface MockToolEndEvent extends MockAssistantEventBase {\r\n  kind: \"tool-end\";\r\n  toolCallId: string;\r\n  toolName: string;\r\n  result: unknown;\r\n}\r\n\r\nexport type MockAssistantEvent =\r\n  | MockStreamStartEvent\r\n  | MockStreamDeltaEvent\r\n  | MockStreamEndEvent\r\n  | MockStreamErrorEvent\r\n  | MockReasoningEvent\r\n  | MockToolStartEvent\r\n  | MockToolEndEvent\r\n  | MockUsageDeltaEvent;\r\n"]}