{"version":3,"file":"mockAiEventTypes.js","sourceRoot":"","sources":["../../../../src/node/services/mock/mockAiEventTypes.ts"],"names":[],"mappings":"","sourcesContent":["import type { CompletedMessagePart } from \"@/common/types/stream\";\nimport type { StreamErrorType } from \"@/common/types/errors\";\n\nimport type { LanguageModelV2Usage } from \"@ai-sdk/provider\";\n\nexport type MockEventKind =\n  | \"stream-start\"\n  | \"stream-delta\"\n  | \"stream-end\"\n  | \"stream-error\"\n  | \"reasoning-delta\"\n  | \"tool-start\"\n  | \"tool-end\"\n  | \"usage-delta\";\n\nexport interface MockAssistantEventBase {\n  kind: MockEventKind;\n  delay: number;\n}\n\nexport interface MockStreamStartEvent extends MockAssistantEventBase {\n  kind: \"stream-start\";\n  messageId: string;\n  model: string;\n  mode?: \"plan\" | \"exec\" | \"compact\";\n}\n\nexport interface MockStreamDeltaEvent extends MockAssistantEventBase {\n  kind: \"stream-delta\";\n  text: string;\n}\n\nexport interface MockStreamEndEvent extends MockAssistantEventBase {\n  kind: \"stream-end\";\n  metadata: {\n    model: string;\n    inputTokens?: number;\n    outputTokens?: number;\n    systemMessageTokens?: number;\n  };\n  parts: CompletedMessagePart[];\n}\n\nexport interface MockStreamErrorEvent extends MockAssistantEventBase {\n  kind: \"stream-error\";\n  error: string;\n  errorType: StreamErrorType;\n}\n\nexport interface MockReasoningEvent extends MockAssistantEventBase {\n  kind: \"reasoning-delta\";\n  text: string;\n}\n\nexport interface MockToolStartEvent extends MockAssistantEventBase {\n  kind: \"tool-start\";\n  toolCallId: string;\n  toolName: string;\n  args: unknown;\n}\n\nexport interface MockUsageDeltaEvent extends MockAssistantEventBase {\n  kind: \"usage-delta\";\n  /** Step-level usage (for context window display) */\n  usage: LanguageModelV2Usage;\n  providerMetadata?: Record<string, unknown>;\n\n  /** Cumulative usage (for cost display) */\n  cumulativeUsage: LanguageModelV2Usage;\n  cumulativeProviderMetadata?: Record<string, unknown>;\n}\n\nexport interface MockToolEndEvent extends MockAssistantEventBase {\n  kind: \"tool-end\";\n  toolCallId: string;\n  toolName: string;\n  result: unknown;\n}\n\nexport type MockAssistantEvent =\n  | MockStreamStartEvent\n  | MockStreamDeltaEvent\n  | MockStreamEndEvent\n  | MockStreamErrorEvent\n  | MockReasoningEvent\n  | MockToolStartEvent\n  | MockToolEndEvent\n  | MockUsageDeltaEvent;\n"]}