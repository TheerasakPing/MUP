{"version":3,"file":"providerRequirements.test.js","sourceRoot":"","sources":["../../../src/node/utils/providerRequirements.test.ts"],"names":[],"mappings":";;AAAA,uCAAgD;AAGhD,iEAAkE;AAElE,IAAA,mBAAQ,EAAC,0BAA0B,EAAE,GAAG,EAAE,CAAC;IACzC,IAAA,aAAE,EAAC,wCAAwC,EAAE,GAAG,EAAE,CAAC;QACjD,IAAA,iBAAM,EAAC,IAAA,+CAAwB,EAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACnD,IAAA,iBAAM,EAAC,IAAA,+CAAwB,EAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAAA,CAClD,CAAC,CAAC;IAEH,IAAA,aAAE,EAAC,6CAA6C,EAAE,GAAG,EAAE,CAAC;QACtD,MAAM,SAAS,GAAoB;YACjC,SAAS,EAAE,EAAE,MAAM,EAAE,aAAa,EAAE;SACrC,CAAC;QAEF,IAAA,iBAAM,EAAC,IAAA,+CAAwB,EAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAAA,CACxD,CAAC,CAAC;IAEH,IAAA,aAAE,EAAC,wDAAwD,EAAE,GAAG,EAAE,CAAC;QACjE,MAAM,SAAS,GAAoB;YACjC,MAAM,EAAE;gBACN,UAAU,EAAE;oBACV,IAAI,EAAE,OAAO;oBACb,MAAM,EAAE,mBAAmB;oBAC3B,OAAO,EAAE,oBAAoB;oBAC7B,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE,GAAG,MAAM;oBAC5B,SAAS,EAAE,UAAU;iBACtB;aACF;SACF,CAAC;QAEF,IAAA,iBAAM,EAAC,IAAA,+CAAwB,EAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAAA,CACxD,CAAC,CAAC;IAEH,IAAA,aAAE,EAAC,yDAAyD,EAAE,GAAG,EAAE,CAAC;QAClE,MAAM,SAAS,GAAoB;YACjC,MAAM,EAAE;gBACN,OAAO,EAAE,4BAA4B;aACtC;SACF,CAAC;QAEF,IAAA,iBAAM,EAAC,IAAA,+CAAwB,EAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAAA,CACxD,CAAC,CAAC;AAAA,CACJ,CAAC,CAAC","sourcesContent":["import { describe, expect, it } from \"bun:test\";\n\nimport type { ProvidersConfig } from \"@/node/config\";\nimport { hasAnyConfiguredProvider } from \"./providerRequirements\";\n\ndescribe(\"hasAnyConfiguredProvider\", () => {\n  it(\"returns false for null or empty config\", () => {\n    expect(hasAnyConfiguredProvider(null)).toBe(false);\n    expect(hasAnyConfiguredProvider({})).toBe(false);\n  });\n\n  it(\"returns true when a provider has an API key\", () => {\n    const providers: ProvidersConfig = {\n      anthropic: { apiKey: \"sk-ant-test\" },\n    };\n\n    expect(hasAnyConfiguredProvider(providers)).toBe(true);\n  });\n\n  it(\"returns true for OpenAI Codex OAuth-only configuration\", () => {\n    const providers: ProvidersConfig = {\n      openai: {\n        codexOauth: {\n          type: \"oauth\",\n          access: \"test-access-token\",\n          refresh: \"test-refresh-token\",\n          expires: Date.now() + 60_000,\n          accountId: \"acct_123\",\n        },\n      },\n    };\n\n    expect(hasAnyConfiguredProvider(providers)).toBe(true);\n  });\n\n  it(\"returns true for keyless providers with explicit config\", () => {\n    const providers: ProvidersConfig = {\n      ollama: {\n        baseUrl: \"http://localhost:11434/api\",\n      },\n    };\n\n    expect(hasAnyConfiguredProvider(providers)).toBe(true);\n  });\n});\n"]}