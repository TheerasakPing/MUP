{"version":3,"file":"backgroundCommands.test.js","sourceRoot":"","sources":["../../../src/node/runtime/backgroundCommands.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { describe, it, expect } from \"bun:test\";\nimport { execSync } from \"child_process\";\nimport * as fs from \"fs/promises\";\nimport {\n  shellQuote,\n  buildWrapperScript,\n  buildSpawnCommand,\n  buildTerminateCommand,\n  parseExitCode,\n  parsePid,\n} from \"./backgroundCommands\";\n\ndescribe(\"backgroundCommands\", () => {\n  describe(\"shellQuote\", () => {\n    it(\"quotes empty string\", () => {\n      expect(shellQuote(\"\")).toBe(\"''\");\n    });\n\n    it(\"quotes simple strings and paths\", () => {\n      expect(shellQuote(\"hello\")).toBe(\"'hello'\");\n      expect(shellQuote(\"/path/with spaces/file\")).toBe(\"'/path/with spaces/file'\");\n    });\n\n    it(\"escapes single quotes\", () => {\n      expect(shellQuote(\"it's\")).toBe(\"'it'\\\"'\\\"'s'\");\n      expect(shellQuote(\"it's a 'test'\")).toBe(\"'it'\\\"'\\\"'s a '\\\"'\\\"'test'\\\"'\\\"''\");\n    });\n\n    it(\"preserves special characters inside quotes\", () => {\n      expect(shellQuote(\"$HOME\")).toBe(\"'$HOME'\");\n      expect(shellQuote(\"a && b\")).toBe(\"'a && b'\");\n      expect(shellQuote(\"foo\\nbar\")).toBe(\"'foo\\nbar'\");\n    });\n  });\n\n  describe(\"buildWrapperScript\", () => {\n    it(\"builds script with trap, cd, and user script joined by &&\", () => {\n      const result = buildWrapperScript({\n        exitCodePath: \"/tmp/exit_code\",\n        cwd: \"/home/user/project\",\n        script: \"echo hello\",\n      });\n\n      expect(result).toBe(\n        `__MUX_EXIT_CODE_PATH='/tmp/exit_code' && trap 'echo $? > \"$__MUX_EXIT_CODE_PATH\"' EXIT && cd '/home/user/project' && echo hello`\n      );\n    });\n\n    it(\"includes env exports\", () => {\n      const result = buildWrapperScript({\n        exitCodePath: \"/tmp/exit_code\",\n        cwd: \"/home/user\",\n        env: { FOO: \"bar\", BAZ: \"qux\" },\n        script: \"env\",\n      });\n\n      expect(result).toContain(\"export FOO='bar'\");\n      expect(result).toContain(\"export BAZ='qux'\");\n    });\n\n    it(\"quotes paths with spaces\", () => {\n      const result = buildWrapperScript({\n        exitCodePath: \"/tmp/my dir/exit_code\",\n        cwd: \"/home/user/my project\",\n        script: \"ls\",\n      });\n\n      expect(result).toContain(\"'/tmp/my dir/exit_code'\");\n      expect(result).toContain(\"'/home/user/my project'\");\n    });\n\n    it(\"produces valid bash when exit code path contains spaces\", async () => {\n      // Regression test: spaces in process ID (display_name) caused invalid trap syntax\n      // The trap command needs to properly nest quoted paths\n      const testDir = `/tmp/PR Checks ${Date.now()}`;\n      const exitCodePath = `${testDir}/exit_code`;\n\n      const result = buildWrapperScript({\n        exitCodePath,\n        cwd: \"/tmp\",\n        script: \"exit 42\",\n      });\n\n      // The wrapper script should be valid bash - execute it and verify exit code is captured\n      await fs.mkdir(testDir, { recursive: true });\n      // Ensure no stale file\n      await fs.rm(exitCodePath, { force: true });\n\n      try {\n        execSync(`bash -c ${shellQuote(result)}`, { stdio: \"pipe\" });\n      } catch {\n        // Expected - script exits with 42\n      }\n\n      // The exit code file MUST exist if the trap worked correctly\n      const exitCode = await fs.readFile(exitCodePath, \"utf-8\");\n      expect(exitCode.trim()).toBe(\"42\");\n\n      await fs.rm(testDir, { recursive: true });\n    });\n\n    it(\"escapes single quotes in env values\", () => {\n      const result = buildWrapperScript({\n        exitCodePath: \"/tmp/exit_code\",\n        cwd: \"/home\",\n        env: { MSG: \"it's a test\" },\n        script: \"echo $MSG\",\n      });\n\n      expect(result).toContain(\"export MSG='it'\\\"'\\\"'s a test'\");\n    });\n  });\n\n  describe(\"buildSpawnCommand\", () => {\n    it(\"uses set -m, nohup, unified output with 2>&1, and echoes PID\", () => {\n      const result = buildSpawnCommand({\n        wrapperScript: \"echo hello\",\n        outputPath: \"/tmp/output.log\",\n      });\n\n      expect(result).toMatch(/^\\(set -m; nohup 'bash' -c /);\n      expect(result).toContain(\"> '/tmp/output.log' 2>&1\");\n      expect(result).toContain(\"< /dev/null\");\n      expect(result).toContain(\"& echo $!)\");\n    });\n\n    it(\"uses custom bash path (including paths with spaces)\", () => {\n      const result = buildSpawnCommand({\n        wrapperScript: \"echo hello\",\n        outputPath: \"/tmp/output.log\",\n        bashPath: \"/c/Program Files/Git/bin/bash.exe\",\n      });\n\n      expect(result).toContain(\"'/c/Program Files/Git/bin/bash.exe' -c\");\n    });\n\n    it(\"quotes the wrapper script\", () => {\n      const result = buildSpawnCommand({\n        wrapperScript: \"echo 'hello world'\",\n        outputPath: \"/tmp/output.log\",\n      });\n\n      expect(result).toContain(\"-c 'echo '\\\"'\\\"'hello world'\\\"'\\\"''\");\n    });\n  });\n\n  describe(\"buildTerminateCommand\", () => {\n    it(\"sends SIGTERM then SIGKILL to process group using negative PID\", () => {\n      const result = buildTerminateCommand(1234, \"/tmp/exit_code\");\n\n      expect(result).toContain(\"kill -15 -1234 2>/dev/null || true\");\n      expect(result).toContain(\"sleep 2\");\n      expect(result).toContain(\"kill -0 -1234\");\n      expect(result).toContain(\"kill -9 -1234 2>/dev/null || true\");\n      expect(result).toContain(\"echo 137 >\"); // SIGKILL exit code\n      expect(result).toContain(\"echo 143 >\"); // SIGTERM exit code (written after process exits)\n    });\n\n    it(\"quotes exit code path with spaces\", () => {\n      const result = buildTerminateCommand(1234, \"/tmp/my dir/exit_code\");\n\n      expect(result).toContain(\"'/tmp/my dir/exit_code'\");\n    });\n\n    it(\"uses custom quotePath function for SSH tilde expansion\", () => {\n      const expandTilde = (p: string) => (p.startsWith(\"~/\") ? `\"$HOME/${p.slice(2)}\"` : `\"${p}\"`);\n      const result = buildTerminateCommand(1234, \"~/mux/exit_code\", expandTilde);\n\n      expect(result).toContain('\"$HOME/mux/exit_code\"');\n    });\n  });\n\n  describe(\"parseExitCode\", () => {\n    it(\"parses valid exit codes with whitespace\", () => {\n      expect(parseExitCode(\"0\")).toBe(0);\n      expect(parseExitCode(\"  137\\n\")).toBe(137);\n      expect(parseExitCode(\"\\t42\\t\")).toBe(42);\n    });\n\n    it(\"returns null for empty or non-numeric input\", () => {\n      expect(parseExitCode(\"\")).toBeNull();\n      expect(parseExitCode(\"   \")).toBeNull();\n      expect(parseExitCode(\"abc\")).toBeNull();\n    });\n  });\n\n  describe(\"parsePid\", () => {\n    it(\"parses valid PID with whitespace\", () => {\n      expect(parsePid(\"1234\")).toBe(1234);\n      expect(parsePid(\"  1234\\n\")).toBe(1234);\n    });\n\n    it(\"returns null for invalid input\", () => {\n      expect(parsePid(\"\")).toBeNull();\n      expect(parsePid(\"   \")).toBeNull();\n      expect(parsePid(\"abc\")).toBeNull();\n      expect(parsePid(\"-1\")).toBeNull();\n      expect(parsePid(\"0\")).toBeNull();\n    });\n  });\n});\n"]}