{"version":3,"file":"runtimeHelpers.js","sourceRoot":"","sources":["../../../src/node/runtime/runtimeHelpers.ts"],"names":[],"mappings":";;;AAEA,qDAAiD;AAYjD;;;;;;GAMG;AACH,mCAA0C,QAAqC,EAAW;IACxF,OAAO,IAAA,8BAAa,EAAC,QAAQ,CAAC,aAAa,EAAE;QAC3C,WAAW,EAAE,QAAQ,CAAC,WAAW;QACjC,aAAa,EAAE,QAAQ,CAAC,IAAI;KAC7B,CAAC,CAAC;AAAA,CACJ","sourcesContent":["import type { RuntimeConfig } from \"@/common/types/runtime\";\nimport type { Runtime } from \"./Runtime\";\nimport { createRuntime } from \"./runtimeFactory\";\n\n/**\n * Minimal workspace metadata needed to create a runtime with proper workspace path.\n * Matches the subset of FrontendWorkspaceMetadata / WorkspaceMetadata used at call sites.\n */\nexport interface WorkspaceMetadataForRuntime {\n  runtimeConfig: RuntimeConfig;\n  projectPath: string;\n  name: string;\n}\n\n/**\n * Create a runtime from workspace metadata, ensuring workspaceName is always passed.\n *\n * Use this helper when creating a runtime from workspace metadata to ensure\n * DevcontainerRuntime.currentWorkspacePath is set, enabling host-path reads\n * (stat, readFile, etc.) before the container is ready.\n */\nexport function createRuntimeForWorkspace(metadata: WorkspaceMetadataForRuntime): Runtime {\n  return createRuntime(metadata.runtimeConfig, {\n    projectPath: metadata.projectPath,\n    workspaceName: metadata.name,\n  });\n}\n"]}