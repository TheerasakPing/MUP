{"version":3,"file":"runtimeHelpers.js","sourceRoot":"","sources":["../../../src/node/runtime/runtimeHelpers.ts"],"names":[],"mappings":";;;AAEA,qDAAiD;AAYjD;;;;;;GAMG;AACH,mCAA0C,QAAqC,EAAW;IACxF,OAAO,IAAA,8BAAa,EAAC,QAAQ,CAAC,aAAa,EAAE;QAC3C,WAAW,EAAE,QAAQ,CAAC,WAAW;QACjC,aAAa,EAAE,QAAQ,CAAC,IAAI;KAC7B,CAAC,CAAC;AAAA,CACJ","sourcesContent":["import type { RuntimeConfig } from \"@/common/types/runtime\";\r\nimport type { Runtime } from \"./Runtime\";\r\nimport { createRuntime } from \"./runtimeFactory\";\r\n\r\n/**\r\n * Minimal workspace metadata needed to create a runtime with proper workspace path.\r\n * Matches the subset of FrontendWorkspaceMetadata / WorkspaceMetadata used at call sites.\r\n */\r\nexport interface WorkspaceMetadataForRuntime {\r\n  runtimeConfig: RuntimeConfig;\r\n  projectPath: string;\r\n  name: string;\r\n}\r\n\r\n/**\r\n * Create a runtime from workspace metadata, ensuring workspaceName is always passed.\r\n *\r\n * Use this helper when creating a runtime from workspace metadata to ensure\r\n * DevcontainerRuntime.currentWorkspacePath is set, enabling host-path reads\r\n * (stat, readFile, etc.) before the container is ready.\r\n */\r\nexport function createRuntimeForWorkspace(metadata: WorkspaceMetadataForRuntime): Runtime {\r\n  return createRuntime(metadata.runtimeConfig, {\r\n    projectPath: metadata.projectPath,\r\n    workspaceName: metadata.name,\r\n  });\r\n}\r\n"]}