{"version":3,"file":"workspaceValidation.js","sourceRoot":"","sources":["../../../../src/common/utils/validation/workspaceValidation.ts"],"names":[],"mappings":";;;AAAA;;;;;GAKG;AACH,+BAAsC,IAAY,EAAsC;IACtF,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QAC/B,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,gCAAgC,EAAE,CAAC;IACnE,CAAC;IAED,IAAI,IAAI,CAAC,MAAM,GAAG,EAAE,EAAE,CAAC;QACrB,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,4CAA4C,EAAE,CAAC;IAC/E,CAAC;IAED,MAAM,YAAY,GAAG,eAAe,CAAC;IACrC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;QAC7B,OAAO;YACL,KAAK,EAAE,KAAK;YACZ,8EAA8E;YAC9E,uDAAuD;YACvD,KAAK,EACH,uFAAuF;SAC1F,CAAC;IACJ,CAAC;IAED,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;AAAA,CACxB","sourcesContent":["/**\r\n * Validates workspace name format\r\n * - Must be 1-64 characters long\r\n * - Can only contain: lowercase letters, digits, underscore, hyphen\r\n * - Pattern: [a-z0-9_-]{1,64}\r\n */\r\nexport function validateWorkspaceName(name: string): { valid: boolean; error?: string } {\r\n  if (!name || name.length === 0) {\r\n    return { valid: false, error: \"Workspace name cannot be empty\" };\r\n  }\r\n\r\n  if (name.length > 64) {\r\n    return { valid: false, error: \"Workspace name cannot exceed 64 characters\" };\r\n  }\r\n\r\n  const validPattern = /^[a-z0-9_-]+$/;\r\n  if (!validPattern.test(name)) {\r\n    return {\r\n      valid: false,\r\n      // Workspace names become folder names, git branches, and session directories,\r\n      // so they need to be filesystem-safe across platforms.\r\n      error:\r\n        \"Workspace names can only contain lowercase letters, numbers, hyphens, and underscores\",\r\n    };\r\n  }\r\n\r\n  return { valid: true };\r\n}\r\n"]}