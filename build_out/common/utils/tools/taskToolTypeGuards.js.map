{"version":3,"file":"taskToolTypeGuards.js","sourceRoot":"","sources":["../../../../src/common/utils/tools/taskToolTypeGuards.ts"],"names":[],"mappings":";AAAA,+CAA+C;AAC/C,EAAE;AACF,kFAAkF;AAClF,mFAAmF;AACnF,yFAAyF;;;;AAUzF,mCAA0C,KAAc,EAAyB;IAC/E,IAAI,CAAC,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE,CAAC;QACxC,OAAO,KAAK,CAAC;IACf,CAAC;IAED,MAAM,IAAI,GAAG,KAA8B,CAAC;IAE5C,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,EAAE,CAAC;QACzB,OAAO,KAAK,CAAC;IACf,CAAC;IAED,IAAI,OAAO,IAAI,CAAC,MAAM,KAAK,QAAQ,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QACvE,OAAO,KAAK,CAAC;IACf,CAAC;IAED,IAAI,OAAO,IAAI,CAAC,YAAY,KAAK,QAAQ,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC;QACjF,OAAO,KAAK,CAAC;IACf,CAAC;IAED,IAAI,IAAI,CAAC,iBAAiB,KAAK,SAAS,IAAI,OAAO,IAAI,CAAC,iBAAiB,KAAK,SAAS,EAAE,CAAC;QACxF,OAAO,KAAK,CAAC;IACf,CAAC;IAED,IAAI,IAAI,CAAC,YAAY,KAAK,SAAS,IAAI,OAAO,IAAI,CAAC,YAAY,KAAK,QAAQ,EAAE,CAAC;QAC7E,OAAO,KAAK,CAAC;IACf,CAAC;IAED,OAAO,IAAI,CAAC;AAAA,CACb;AAED,wBAA+B,KAAc,EAAyB;IACpE,OAAO,yBAAyB,CAAC,KAAK,CAAC,CAAC;AAAA,CACzC","sourcesContent":["// Shared type guards for tool argument shapes.\r\n//\r\n// NOTE: The `task` tool is agent-only today, but older chat histories may contain\r\n// legacy `task(kind=\"bash\")` calls. Keep these helpers in `src/common` so both the\r\n// desktop and mobile renderers can detect those shapes without importing node-only code.\r\n\r\nexport interface TaskBashArgs {\r\n  kind: \"bash\";\r\n  script: string;\r\n  timeout_secs: number;\r\n  run_in_background?: boolean;\r\n  display_name?: string;\r\n}\r\n\r\nexport function isTaskBashArgsFromUnknown(value: unknown): value is TaskBashArgs {\r\n  if (!value || typeof value !== \"object\") {\r\n    return false;\r\n  }\r\n\r\n  const args = value as Partial<TaskBashArgs>;\r\n\r\n  if (args.kind !== \"bash\") {\r\n    return false;\r\n  }\r\n\r\n  if (typeof args.script !== \"string\" || args.script.trim().length === 0) {\r\n    return false;\r\n  }\r\n\r\n  if (typeof args.timeout_secs !== \"number\" || !Number.isFinite(args.timeout_secs)) {\r\n    return false;\r\n  }\r\n\r\n  if (args.run_in_background !== undefined && typeof args.run_in_background !== \"boolean\") {\r\n    return false;\r\n  }\r\n\r\n  if (args.display_name !== undefined && typeof args.display_name !== \"string\") {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nexport function isTaskBashArgs(value: unknown): value is TaskBashArgs {\r\n  return isTaskBashArgsFromUnknown(value);\r\n}\r\n"]}