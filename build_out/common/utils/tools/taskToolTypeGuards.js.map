{"version":3,"file":"taskToolTypeGuards.js","sourceRoot":"","sources":["../../../../src/common/utils/tools/taskToolTypeGuards.ts"],"names":[],"mappings":";AAAA,+CAA+C;AAC/C,EAAE;AACF,kFAAkF;AAClF,mFAAmF;AACnF,yFAAyF;;;;AAUzF,mCAA0C,KAAc,EAAyB;IAC/E,IAAI,CAAC,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE,CAAC;QACxC,OAAO,KAAK,CAAC;IACf,CAAC;IAED,MAAM,IAAI,GAAG,KAA8B,CAAC;IAE5C,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,EAAE,CAAC;QACzB,OAAO,KAAK,CAAC;IACf,CAAC;IAED,IAAI,OAAO,IAAI,CAAC,MAAM,KAAK,QAAQ,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QACvE,OAAO,KAAK,CAAC;IACf,CAAC;IAED,IAAI,OAAO,IAAI,CAAC,YAAY,KAAK,QAAQ,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC;QACjF,OAAO,KAAK,CAAC;IACf,CAAC;IAED,IAAI,IAAI,CAAC,iBAAiB,KAAK,SAAS,IAAI,OAAO,IAAI,CAAC,iBAAiB,KAAK,SAAS,EAAE,CAAC;QACxF,OAAO,KAAK,CAAC;IACf,CAAC;IAED,IAAI,IAAI,CAAC,YAAY,KAAK,SAAS,IAAI,OAAO,IAAI,CAAC,YAAY,KAAK,QAAQ,EAAE,CAAC;QAC7E,OAAO,KAAK,CAAC;IACf,CAAC;IAED,OAAO,IAAI,CAAC;AAAA,CACb;AAED,wBAA+B,KAAc,EAAyB;IACpE,OAAO,yBAAyB,CAAC,KAAK,CAAC,CAAC;AAAA,CACzC","sourcesContent":["// Shared type guards for tool argument shapes.\n//\n// NOTE: The `task` tool is agent-only today, but older chat histories may contain\n// legacy `task(kind=\"bash\")` calls. Keep these helpers in `src/common` so both the\n// desktop and mobile renderers can detect those shapes without importing node-only code.\n\nexport interface TaskBashArgs {\n  kind: \"bash\";\n  script: string;\n  timeout_secs: number;\n  run_in_background?: boolean;\n  display_name?: string;\n}\n\nexport function isTaskBashArgsFromUnknown(value: unknown): value is TaskBashArgs {\n  if (!value || typeof value !== \"object\") {\n    return false;\n  }\n\n  const args = value as Partial<TaskBashArgs>;\n\n  if (args.kind !== \"bash\") {\n    return false;\n  }\n\n  if (typeof args.script !== \"string\" || args.script.trim().length === 0) {\n    return false;\n  }\n\n  if (typeof args.timeout_secs !== \"number\" || !Number.isFinite(args.timeout_secs)) {\n    return false;\n  }\n\n  if (args.run_in_background !== undefined && typeof args.run_in_background !== \"boolean\") {\n    return false;\n  }\n\n  if (args.display_name !== undefined && typeof args.display_name !== \"string\") {\n    return false;\n  }\n\n  return true;\n}\n\nexport function isTaskBashArgs(value: unknown): value is TaskBashArgs {\n  return isTaskBashArgsFromUnknown(value);\n}\n"]}