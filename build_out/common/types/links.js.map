{"version":3,"file":"links.js","sourceRoot":"","sources":["../../../src/common/types/links.ts"],"names":[],"mappings":";AAAA;;GAEG","sourcesContent":["/**\r\n * Types for GitHub PR links and status (branch-based detection).\r\n */\r\n\r\n/**\r\n * Base link metadata.\r\n */\r\nexport interface BaseLinkMetadata {\r\n  /** Timestamp when the link was detected */\r\n  detectedAt: number;\r\n  /** Number of times this link appeared */\r\n  occurrenceCount: number;\r\n}\r\n\r\n/**\r\n * A GitHub PR link with parsed metadata.\r\n */\r\nexport interface GitHubPRLink extends BaseLinkMetadata {\r\n  type: \"github-pr\";\r\n  url: string;\r\n  owner: string;\r\n  repo: string;\r\n  number: number;\r\n}\r\n\r\n/**\r\n * PR status information fetched from GitHub via gh CLI.\r\n */\r\nexport interface GitHubPRStatus {\r\n  /** PR state: OPEN, CLOSED, MERGED */\r\n  state: \"OPEN\" | \"CLOSED\" | \"MERGED\";\r\n  /** Whether the PR is mergeable */\r\n  mergeable: \"MERGEABLE\" | \"CONFLICTING\" | \"UNKNOWN\";\r\n  /** Merge state status (GitHub merge box state). */\r\n  mergeStateStatus:\r\n    | \"CLEAN\"\r\n    | \"BLOCKED\"\r\n    | \"BEHIND\"\r\n    | \"DIRTY\"\r\n    | \"UNSTABLE\"\r\n    | \"HAS_HOOKS\"\r\n    | \"DRAFT\"\r\n    | \"UNKNOWN\";\r\n  /** PR title */\r\n  title: string;\r\n  /** Whether the PR is a draft */\r\n  isDraft: boolean;\r\n  /** Head branch name */\r\n  headRefName: string;\r\n  /** Base branch name */\r\n  baseRefName: string;\r\n\r\n  /**\r\n   * Whether any checks are still pending/running.\r\n   * Optional: not all gh versions/API payloads include check rollup data.\r\n   */\r\n  hasPendingChecks?: boolean;\r\n\r\n  /**\r\n   * Whether any checks have failed.\r\n   * Optional: not all gh versions/API payloads include check rollup data.\r\n   */\r\n  hasFailedChecks?: boolean;\r\n\r\n  /** Last fetched timestamp */\r\n  fetchedAt: number;\r\n}\r\n\r\n/**\r\n * Extended PR link with status information.\r\n */\r\nexport interface GitHubPRLinkWithStatus extends GitHubPRLink {\r\n  status?: GitHubPRStatus;\r\n  /** Whether status is currently being fetched */\r\n  loading?: boolean;\r\n  /** Error message if status fetch failed */\r\n  error?: string;\r\n}\r\n"]}