{"version":3,"file":"review.lineRange.test.js","sourceRoot":"","sources":["../../../src/common/types/review.lineRange.test.ts"],"names":[],"mappings":";;AAAA,uCAAkD;AAElD,qCAAgD;AAEhD,IAAA,mBAAQ,EAAC,sBAAsB,EAAE,GAAG,EAAE,CAAC;IACrC,IAAA,eAAI,EAAC,gCAAgC,EAAE,GAAG,EAAE,CAAC;QAC3C,IAAA,iBAAM,EAAC,IAAA,6BAAoB,EAAC,eAAe,CAAC,CAAC,CAAC,OAAO,CAAC;YACpD,GAAG,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;YAC3B,GAAG,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;SAC5B,CAAC,CAAC;IAAA,CACJ,CAAC,CAAC;IAEH,IAAA,eAAI,EAAC,2BAA2B,EAAE,GAAG,EAAE,CAAC;QACtC,IAAA,iBAAM,EAAC,IAAA,6BAAoB,EAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC;YAC9C,GAAG,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;YAC3B,GAAG,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;SAC5B,CAAC,CAAC;IAAA,CACJ,CAAC,CAAC;IAEH,IAAA,eAAI,EAAC,qCAAqC,EAAE,GAAG,EAAE,CAAC;QAChD,IAAA,iBAAM,EAAC,IAAA,6BAAoB,EAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC;YAC3C,GAAG,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE;YACzB,GAAG,EAAE,SAAS;SACf,CAAC,CAAC;QAEH,IAAA,iBAAM,EAAC,IAAA,6BAAoB,EAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC;YACzC,GAAG,EAAE,SAAS;YACd,GAAG,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE;SAC1B,CAAC,CAAC;IAAA,CACJ,CAAC,CAAC;IAEH,IAAA,eAAI,EAAC,oDAAoD,EAAE,GAAG,EAAE,CAAC;QAC/D,IAAA,iBAAM,EAAC,IAAA,6BAAoB,EAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC;YACzC,GAAG,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;YAC3B,GAAG,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;SAC5B,CAAC,CAAC;QAEH,IAAA,iBAAM,EAAC,IAAA,6BAAoB,EAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC;YAC5C,GAAG,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;YAC3B,GAAG,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE;SAC5B,CAAC,CAAC;IAAA,CACJ,CAAC,CAAC;IAEH,IAAA,eAAI,EAAC,uCAAuC,EAAE,GAAG,EAAE,CAAC;QAClD,IAAA,iBAAM,EAAC,IAAA,6BAAoB,EAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC;QAC5C,IAAA,iBAAM,EAAC,IAAA,6BAAoB,EAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC;QAC7C,IAAA,iBAAM,EAAC,IAAA,6BAAoB,EAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC;IAAA,CACjD,CAAC,CAAC;AAAA,CACJ,CAAC,CAAC","sourcesContent":["import { describe, expect, test } from \"bun:test\";\n\nimport { parseReviewLineRange } from \"./review\";\n\ndescribe(\"parseReviewLineRange\", () => {\n  test(\"parses combined old/new ranges\", () => {\n    expect(parseReviewLineRange(\"-10-12 +14-16\")).toEqual({\n      old: { start: 10, end: 12 },\n      new: { start: 14, end: 16 },\n    });\n  });\n\n  test(\"parses single-line ranges\", () => {\n    expect(parseReviewLineRange(\"-10 +14\")).toEqual({\n      old: { start: 10, end: 10 },\n      new: { start: 14, end: 14 },\n    });\n  });\n\n  test(\"parses old-only and new-only ranges\", () => {\n    expect(parseReviewLineRange(\"-3-5\")).toEqual({\n      old: { start: 3, end: 5 },\n      new: undefined,\n    });\n\n    expect(parseReviewLineRange(\"+7\")).toEqual({\n      old: undefined,\n      new: { start: 7, end: 7 },\n    });\n  });\n\n  test(\"treats legacy ranges as matching either old or new\", () => {\n    expect(parseReviewLineRange(\"42\")).toEqual({\n      old: { start: 42, end: 42 },\n      new: { start: 42, end: 42 },\n    });\n\n    expect(parseReviewLineRange(\"42-45\")).toEqual({\n      old: { start: 42, end: 45 },\n      new: { start: 42, end: 45 },\n    });\n  });\n\n  test(\"returns null for empty/invalid ranges\", () => {\n    expect(parseReviewLineRange(\"\")).toBeNull();\n    expect(parseReviewLineRange(\" \")).toBeNull();\n    expect(parseReviewLineRange(\"nope\")).toBeNull();\n  });\n});\n"]}