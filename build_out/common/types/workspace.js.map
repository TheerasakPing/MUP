{"version":3,"file":"workspace.js","sourceRoot":"","sources":["../../../src/common/types/workspace.ts"],"names":[],"mappings":"","sourcesContent":["/**\r\n * Unified workspace metadata type used throughout the application.\r\n * This is the single source of truth for workspace information.\r\n *\r\n * ID vs Name:\r\n * - `id`: Stable unique identifier (10 hex chars for new workspaces, legacy format for old)\r\n *   Generated once at creation, never changes\r\n * - `name`: User-facing mutable name (e.g., \"feature-branch\")\r\n *   Can be changed via rename operation\r\n *\r\n * For legacy workspaces created before stable IDs:\r\n * - id and name are the same (e.g., \"mux-stable-ids\")\r\n * For new workspaces:\r\n * - id is a random 10 hex char string (e.g., \"a1b2c3d4e5\")\r\n * - name is the branch/workspace name (e.g., \"feature-branch\")\r\n *\r\n * Path handling:\r\n * - Worktree paths are computed on-demand via config.getWorkspacePath(projectPath, name)\r\n * - Directory name uses workspace.name (the branch name)\r\n * - This avoids storing redundant derived data\r\n */\r\nimport type { z } from \"zod\";\r\nimport type {\r\n  FrontendWorkspaceMetadataSchema,\r\n  GitStatusSchema,\r\n  WorkspaceActivitySnapshotSchema,\r\n  WorkspaceMetadataSchema,\r\n} from \"../orpc/schemas\";\r\n\r\nexport type WorkspaceMetadata = z.infer<typeof WorkspaceMetadataSchema>;\r\n\r\n/**\r\n * Git status for a workspace (ahead/behind relative to origin's primary branch)\r\n */\r\nexport type GitStatus = z.infer<typeof GitStatusSchema>;\r\n\r\n/**\r\n * Frontend workspace metadata enriched with computed paths.\r\n * Backend computes these paths to avoid duplication of path construction logic.\r\n * Follows naming convention: Backend types vs Frontend types.\r\n */\r\nexport type FrontendWorkspaceMetadata = z.infer<typeof FrontendWorkspaceMetadataSchema>;\r\n\r\nexport type WorkspaceActivitySnapshot = z.infer<typeof WorkspaceActivitySnapshotSchema>;\r\n"]}