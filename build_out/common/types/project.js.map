{"version":3,"file":"project.js","sourceRoot":"","sources":["../../../src/common/types/project.ts"],"names":[],"mappings":";AAAA;;;GAGG","sourcesContent":["/**\r\n * Project and workspace configuration types.\r\n * Kept lightweight for preload script usage.\r\n */\r\n\r\nimport type { z } from \"zod\";\r\nimport type {\r\n  ProjectConfigSchema,\r\n  SectionConfigSchema,\r\n  WorkspaceConfigSchema,\r\n} from \"../orpc/schemas\";\r\nimport type { TaskSettings, SubagentAiDefaults } from \"./tasks\";\r\nimport type { LayoutPresetsConfig } from \"./uiLayouts\";\r\nimport type { AgentAiDefaults } from \"./agentAiDefaults\";\r\nimport type { IconThemeConfig } from \"./iconTheme\";\r\n\r\nexport type Workspace = z.infer<typeof WorkspaceConfigSchema>;\r\n\r\nexport type SectionConfig = z.infer<typeof SectionConfigSchema>;\r\n\r\nexport type ProjectConfig = z.infer<typeof ProjectConfigSchema>;\r\n\r\nexport type FeatureFlagOverride = \"default\" | \"on\" | \"off\";\r\n\r\nexport interface ProjectsConfig {\r\n  projects: Map<string, ProjectConfig>;\r\n  /**\r\n   * Bind host/interface for the desktop HTTP/WS API server.\r\n   *\r\n   * When unset, mux binds to 127.0.0.1 (localhost only).\r\n   * When set to 0.0.0.0 or ::, mux can be reachable from other devices on your LAN/VPN.\r\n   */\r\n  apiServerBindHost?: string;\r\n  /**\r\n   * Port for the desktop HTTP/WS API server.\r\n   *\r\n   * When unset, mux binds to port 0 (random available port).\r\n   */\r\n  apiServerPort?: number;\r\n  /**\r\n   * When true, the desktop HTTP server also serves the mux web UI at /.\r\n   *\r\n   * This enables other devices (LAN/VPN) to open mux in a browser.\r\n   */\r\n  apiServerServeWebUi?: boolean;\r\n  /**\r\n   * Advertise the API server on the local network via mDNS/Bonjour (DNS-SD).\r\n   *\r\n   * When unset, mux uses \"auto\" behavior (advertise only when apiServerBindHost is non-loopback).\r\n   */\r\n  mdnsAdvertisementEnabled?: boolean;\r\n  /** Optional mDNS DNS-SD service instance name override. */\r\n  mdnsServiceName?: string;\r\n  /** SSH hostname/alias for this machine (used for editor deep links in browser mode) */\r\n  serverSshHost?: string;\r\n  /** IDs of splash screens that have been viewed */\r\n  viewedSplashScreens?: string[];\r\n  /** Cross-client feature flag overrides (shared via ~/.mux/config.json). */\r\n  featureFlagOverrides?: Record<string, FeatureFlagOverride>;\r\n  /** Global task settings (agent sub-workspaces, queue limits, nesting depth) */\r\n  taskSettings?: TaskSettings;\r\n  /** UI layout presets + hotkeys (shared via ~/.mux/config.json). */\r\n  layoutPresets?: LayoutPresetsConfig;\r\n  /**\r\n   * Mux Gateway routing preferences (shared via ~/.mux/config.json).\r\n   * Mirrors browser localStorage so switching server ports doesn't reset the UI.\r\n   */\r\n  muxGatewayEnabled?: boolean;\r\n  muxGatewayModels?: string[];\r\n\r\n  /**\r\n   * Default model used for new workspaces (shared via ~/.mux/config.json).\r\n   * Mirrors the browser localStorage cache (DEFAULT_MODEL_KEY).\r\n   */\r\n  defaultModel?: string;\r\n  /**\r\n   * Hidden model IDs (shared via ~/.mux/config.json).\r\n   * Mirrors the browser localStorage cache (HIDDEN_MODELS_KEY).\r\n   */\r\n  hiddenModels?: string[];\r\n  /**\r\n   * Preferred model for compaction requests (shared via ~/.mux/config.json).\r\n   * Mirrors the browser localStorage cache (PREFERRED_COMPACTION_MODEL_KEY).\r\n   */\r\n  preferredCompactionModel?: string;\r\n\r\n  /** Default model + thinking overrides per agentId (applies to UI agents and subagents). */\r\n  agentAiDefaults?: AgentAiDefaults;\r\n  /** @deprecated Legacy per-subagent default model + thinking overrides. */\r\n  subagentAiDefaults?: SubagentAiDefaults;\r\n  /** Use built-in SSH2 library instead of system OpenSSH for remote connections (non-Windows only) */\r\n  useSSH2Transport?: boolean;\r\n\r\n  /** Mux Governor server URL (normalized origin, no trailing slash) */\r\n  muxGovernorUrl?: string;\r\n  /** Mux Governor OAuth access token (secret - never return to UI) */\r\n  muxGovernorToken?: string;\r\n\r\n  /**\r\n   * When true (default), archiving a Mux workspace will stop its dedicated mux-created Coder\r\n   * workspace first, and unarchiving will attempt to start it again.\r\n   *\r\n   * Stored as `false` only (undefined behaves as true) to keep config.json minimal.\r\n   */\r\n  stopCoderWorkspaceOnArchive?: boolean;\r\n\r\n  /**\r\n   * Custom model configuration overrides (shared via ~/.mux/config.json).\r\n   * Maps model ID to custom settings (costs, limits).\r\n   */\r\n  customModelPrices?: Record<string, CustomModelConfig>;\r\n\r\n  /**\r\n   * Active icon theme configuration (shared via ~/.mux/config.json).\r\n   * Stores current theme ID and list of installed themes.\r\n   */\r\n  iconThemeConfig?: IconThemeConfig;\r\n}\r\n\r\n\r\nexport interface CustomModelConfig {\r\n  maxInputTokens?: number;\r\n  maxOutputTokens?: number;\r\n  inputCostPerToken?: number;\r\n  outputCostPerToken?: number;\r\n  cacheCreationInputTokenCost?: number;\r\n  cacheReadInputTokenCost?: number;\r\n}\r\n"]}