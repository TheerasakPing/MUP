{"version":3,"file":"project.js","sourceRoot":"","sources":["../../../src/common/types/project.ts"],"names":[],"mappings":";AAAA;;;GAGG","sourcesContent":["/**\n * Project and workspace configuration types.\n * Kept lightweight for preload script usage.\n */\n\nimport type { z } from \"zod\";\nimport type {\n  ProjectConfigSchema,\n  SectionConfigSchema,\n  WorkspaceConfigSchema,\n} from \"../orpc/schemas\";\nimport type { TaskSettings, SubagentAiDefaults } from \"./tasks\";\nimport type { LayoutPresetsConfig } from \"./uiLayouts\";\nimport type { AgentAiDefaults } from \"./agentAiDefaults\";\nimport type { IconThemeConfig } from \"./iconTheme\";\n\nexport type Workspace = z.infer<typeof WorkspaceConfigSchema>;\n\nexport type SectionConfig = z.infer<typeof SectionConfigSchema>;\n\nexport type ProjectConfig = z.infer<typeof ProjectConfigSchema>;\n\nexport type FeatureFlagOverride = \"default\" | \"on\" | \"off\";\n\nexport interface ProjectsConfig {\n  projects: Map<string, ProjectConfig>;\n  /**\n   * Bind host/interface for the desktop HTTP/WS API server.\n   *\n   * When unset, mux binds to 127.0.0.1 (localhost only).\n   * When set to 0.0.0.0 or ::, mux can be reachable from other devices on your LAN/VPN.\n   */\n  apiServerBindHost?: string;\n  /**\n   * Port for the desktop HTTP/WS API server.\n   *\n   * When unset, mux binds to port 0 (random available port).\n   */\n  apiServerPort?: number;\n  /**\n   * When true, the desktop HTTP server also serves the mux web UI at /.\n   *\n   * This enables other devices (LAN/VPN) to open mux in a browser.\n   */\n  apiServerServeWebUi?: boolean;\n  /**\n   * Advertise the API server on the local network via mDNS/Bonjour (DNS-SD).\n   *\n   * When unset, mux uses \"auto\" behavior (advertise only when apiServerBindHost is non-loopback).\n   */\n  mdnsAdvertisementEnabled?: boolean;\n  /** Optional mDNS DNS-SD service instance name override. */\n  mdnsServiceName?: string;\n  /** SSH hostname/alias for this machine (used for editor deep links in browser mode) */\n  serverSshHost?: string;\n  /** IDs of splash screens that have been viewed */\n  viewedSplashScreens?: string[];\n  /** Cross-client feature flag overrides (shared via ~/.mux/config.json). */\n  featureFlagOverrides?: Record<string, FeatureFlagOverride>;\n  /** Global task settings (agent sub-workspaces, queue limits, nesting depth) */\n  taskSettings?: TaskSettings;\n  /** UI layout presets + hotkeys (shared via ~/.mux/config.json). */\n  layoutPresets?: LayoutPresetsConfig;\n  /**\n   * Mux Gateway routing preferences (shared via ~/.mux/config.json).\n   * Mirrors browser localStorage so switching server ports doesn't reset the UI.\n   */\n  muxGatewayEnabled?: boolean;\n  muxGatewayModels?: string[];\n\n  /**\n   * Default model used for new workspaces (shared via ~/.mux/config.json).\n   * Mirrors the browser localStorage cache (DEFAULT_MODEL_KEY).\n   */\n  defaultModel?: string;\n  /**\n   * Hidden model IDs (shared via ~/.mux/config.json).\n   * Mirrors the browser localStorage cache (HIDDEN_MODELS_KEY).\n   */\n  hiddenModels?: string[];\n  /**\n   * Preferred model for compaction requests (shared via ~/.mux/config.json).\n   * Mirrors the browser localStorage cache (PREFERRED_COMPACTION_MODEL_KEY).\n   */\n  preferredCompactionModel?: string;\n\n  /** Default model + thinking overrides per agentId (applies to UI agents and subagents). */\n  agentAiDefaults?: AgentAiDefaults;\n  /** @deprecated Legacy per-subagent default model + thinking overrides. */\n  subagentAiDefaults?: SubagentAiDefaults;\n  /** Use built-in SSH2 library instead of system OpenSSH for remote connections (non-Windows only) */\n  useSSH2Transport?: boolean;\n\n  /** Mux Governor server URL (normalized origin, no trailing slash) */\n  muxGovernorUrl?: string;\n  /** Mux Governor OAuth access token (secret - never return to UI) */\n  muxGovernorToken?: string;\n\n  /**\n   * When true (default), archiving a Mux workspace will stop its dedicated mux-created Coder\n   * workspace first, and unarchiving will attempt to start it again.\n   *\n   * Stored as `false` only (undefined behaves as true) to keep config.json minimal.\n   */\n  stopCoderWorkspaceOnArchive?: boolean;\n\n  /**\n   * Custom model configuration overrides (shared via ~/.mux/config.json).\n   * Maps model ID to custom settings (costs, limits).\n   */\n  customModelPrices?: Record<string, CustomModelConfig>;\n\n  /**\n   * Active icon theme configuration (shared via ~/.mux/config.json).\n   * Stores current theme ID and list of installed themes.\n   */\n  iconThemeConfig?: IconThemeConfig;\n}\n\n\nexport interface CustomModelConfig {\n  maxInputTokens?: number;\n  maxOutputTokens?: number;\n  inputCostPerToken?: number;\n  outputCostPerToken?: number;\n  cacheCreationInputTokenCost?: number;\n  cacheReadInputTokenCost?: number;\n}\n"]}