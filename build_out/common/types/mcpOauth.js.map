{"version":3,"file":"mcpOauth.js","sourceRoot":"","sources":["../../../src/common/types/mcpOauth.ts"],"names":[],"mappings":";AAAA;;;;;;GAMG","sourcesContent":["/**\n * Shared types for MCP OAuth (Model Context Protocol authorization).\n *\n * Important: These are wire/storage types only.\n * - Do NOT send access tokens or client secrets to the browser.\n * - Never persist tokens into project-local .mux/mcp.jsonc.\n */\n\nimport type { MCPServerTransport } from \"./mcp\";\n\n/**\n * Transport types supported by MCP OAuth.\n *\n * OAuth is only supported for remote MCP servers (http/sse/auto), not stdio.\n */\nexport type MCPOAuthServerTransport = Exclude<MCPServerTransport, \"stdio\">;\n\n/**\n * Ephemeral MCP server config used to start OAuth flows before the server is saved\n * into project config.\n */\nexport interface MCPOAuthPendingServerConfig {\n  transport: MCPOAuthServerTransport;\n  url: string;\n}\n\n/**\n * OAuth 2.1 token response.\n *\n * Matches the shape used by @ai-sdk/mcp.\n */\nexport interface MCPOAuthTokens {\n  access_token: string;\n  id_token?: string;\n  token_type: string;\n  expires_in?: number;\n  scope?: string;\n  refresh_token?: string;\n}\n\n/**\n * OAuth dynamic client registration information.\n *\n * Matches the shape used by @ai-sdk/mcp.\n */\nexport interface MCPOAuthClientInformation {\n  client_id: string;\n  client_secret?: string;\n  client_id_issued_at?: number;\n  client_secret_expires_at?: number;\n}\n\n/**\n * Credentials stored globally per MCP server URL.\n *\n * NOTE: This object contains secrets and must never be returned over IPC.\n */\nexport interface MCPOAuthStoredCredentials {\n  /**\n   * The MCP server URL these credentials were created for.\n   *\n   * Used for defensive invalidation when the configured server URL changes.\n   */\n  serverUrl: string;\n\n  clientInformation?: MCPOAuthClientInformation;\n  tokens?: MCPOAuthTokens;\n\n  updatedAtMs: number;\n}\n\n/**\n * Redacted auth status safe for IPC/UI.\n */\nexport interface MCPOAuthAuthStatus {\n  serverUrl?: string;\n  isLoggedIn: boolean;\n  hasRefreshToken: boolean;\n  scope?: string;\n  updatedAtMs?: number;\n}\n"]}