{"version":3,"file":"types.js","sourceRoot":"","sources":["../../../src/common/orpc/types.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAqDA,+CAA+C;AAC/C,2BAAkC,GAAyB,EAA0B;IACnF,OAAQ,GAAyB,CAAC,IAAI,KAAK,WAAW,CAAC;AAAA,CACxD;AAED,uBAA8B,GAAyB,EAA6B;IAClF,OAAQ,GAAyB,CAAC,IAAI,KAAK,cAAc,CAAC;AAAA,CAC3D;AAED,yBAAgC,GAAyB,EAAwB;IAC/E,OAAQ,GAAyB,CAAC,IAAI,KAAK,QAAQ,CAAC;AAAA,CACrD;AAED,uBAA8B,GAAyB,EAA2B;IAChF,OAAQ,GAAyB,CAAC,IAAI,KAAK,cAAc,CAAC;AAAA,CAC3D;AAED,uBAA8B,GAAyB,EAA2B;IAChF,OAAQ,GAAyB,CAAC,IAAI,KAAK,cAAc,CAAC;AAAA,CAC3D;AAED,qBAA4B,GAAyB,EAAyB;IAC5E,OAAQ,GAAyB,CAAC,IAAI,KAAK,YAAY,CAAC;AAAA,CACzD;AAED,uBAA8B,GAAyB,EAA2B;IAChF,OAAQ,GAAyB,CAAC,IAAI,KAAK,cAAc,CAAC;AAAA,CAC3D;AAED,yBAAgC,GAAyB,EAA6B;IACpF,OAAQ,GAAyB,CAAC,IAAI,KAAK,iBAAiB,CAAC;AAAA,CAC9D;AAED,yBAAgC,GAAyB,EAA6B;IACpF,OAAQ,GAAyB,CAAC,IAAI,KAAK,iBAAiB,CAAC;AAAA,CAC9D;AAED,2BAAkC,GAAyB,EAA0B;IACnF,OAAQ,GAAyB,CAAC,IAAI,KAAK,aAAa,CAAC;AAAA,CAC1D;AAED,4BAAmC,GAAyB,EAA2B;IACrF,OAAQ,GAAyB,CAAC,IAAI,KAAK,cAAc,CAAC;AAAA,CAC3D;AACD,uBAA8B,GAAyB,EAA2B;IAChF,OAAQ,GAAyB,CAAC,IAAI,KAAK,eAAe,CAAC;AAAA,CAC5D;AAED,0BAAiC,GAAyB,EAA8B;IACtF,OAAQ,GAAyB,CAAC,IAAI,KAAK,iBAAiB,CAAC;AAAA,CAC9D;AAED,wBAA+B,GAAyB,EAA4B;IAClF,OAAQ,GAAyB,CAAC,IAAI,KAAK,eAAe,CAAC;AAAA,CAC5D;AAED,sBAA6B,GAAyB,EAA0B;IAC9E,OAAQ,GAAyB,CAAC,IAAI,KAAK,aAAa,CAAC;AAAA,CAC1D;AAED,sBAA6B,GAAyB,EAAyB;IAC7E,OAAQ,GAAyB,CAAC,IAAI,KAAK,SAAS,CAAC;AAAA,CACtD;AAED,qBACE,GAAyB,EACmC;IAC5D,OAAQ,GAAyB,CAAC,IAAI,KAAK,YAAY,CAAC;AAAA,CACzD;AAED,sBACE,GAAyB,EACoC;IAC7D,OAAQ,GAAyB,CAAC,IAAI,KAAK,aAAa,CAAC;AAAA,CAC1D;AAED,mBACE,GAAyB,EACiC;IAC1D,OAAQ,GAAyB,CAAC,IAAI,KAAK,UAAU,CAAC;AAAA,CACvD;AAED,gCACE,GAAyB,EACiD;IAC1E,OAAQ,GAAyB,CAAC,IAAI,KAAK,wBAAwB,CAAC;AAAA,CACrE;AAED,0BACE,GAAyB,EAC2C;IACpE,OAAQ,GAAyB,CAAC,IAAI,KAAK,kBAAkB,CAAC;AAAA,CAC/D;AAED,yBAAgC,GAAyB,EAA6B;IACpF,OAAQ,GAAyB,CAAC,IAAI,KAAK,gBAAgB,CAAC;AAAA,CAC7D","sourcesContent":["import type { z } from \"zod\";\r\nimport type * as schemas from \"./schemas\";\r\n\r\nimport type {\r\n  StreamStartEvent,\r\n  StreamDeltaEvent,\r\n  StreamEndEvent,\r\n  StreamAbortEvent,\r\n  ToolCallStartEvent,\r\n  ToolCallDeltaEvent,\r\n  ToolCallEndEvent,\r\n  BashOutputEvent,\r\n  TaskCreatedEvent,\r\n  ReasoningDeltaEvent,\r\n  ReasoningEndEvent,\r\n  UsageDeltaEvent,\r\n  RuntimeStatusEvent,\r\n} from \"@/common/types/stream\";\r\n\r\nexport type BranchListResult = z.infer<typeof schemas.BranchListResultSchema>;\r\nexport type SendMessageOptions = z.infer<typeof schemas.SendMessageOptionsSchema>;\r\n\r\n// Provider types (single source of truth - derived from schemas)\r\nexport type AWSCredentialStatus = z.infer<typeof schemas.AWSCredentialStatusSchema>;\r\nexport type ProviderConfigInfo = z.infer<typeof schemas.ProviderConfigInfoSchema>;\r\nexport type CustomModelMetadata = z.infer<typeof schemas.CustomModelMetadataSchema>;\r\nexport type ProvidersConfigMap = z.infer<typeof schemas.ProvidersConfigMapSchema>;\r\nexport type FilePart = z.infer<typeof schemas.FilePartSchema>;\r\nexport type WorkspaceChatMessage = z.infer<typeof schemas.WorkspaceChatMessageSchema>;\r\nexport type CaughtUpMessage = z.infer<typeof schemas.CaughtUpMessageSchema>;\r\nexport type StreamErrorMessage = z.infer<typeof schemas.StreamErrorMessageSchema>;\r\nexport type DeleteMessage = z.infer<typeof schemas.DeleteMessageSchema>;\r\nexport type WorkspaceInitEvent = z.infer<typeof schemas.WorkspaceInitEventSchema>;\r\nexport type UpdateStatus = z.infer<typeof schemas.UpdateStatusSchema>;\r\nexport type ChatMuxMessage = z.infer<typeof schemas.ChatMuxMessageSchema>;\r\nexport type WorkspaceStatsSnapshot = z.infer<typeof schemas.WorkspaceStatsSnapshotSchema>;\r\nexport type WorkspaceActivitySnapshot = z.infer<typeof schemas.WorkspaceActivitySnapshotSchema>;\r\nexport type FrontendWorkspaceMetadataSchemaType = z.infer<\r\n  typeof schemas.FrontendWorkspaceMetadataSchema\r\n>;\r\n\r\n// Server types (single source of truth - derived from schemas)\r\nexport type ApiServerStatus = z.infer<typeof schemas.ApiServerStatusSchema>;\r\n// Experiment types (single source of truth - derived from schemas)\r\n\r\n// Policy types (single source of truth - derived from schemas)\r\nexport type PolicyGetResponse = z.infer<typeof schemas.PolicyGetResponseSchema>;\r\nexport type PolicyStatus = z.infer<typeof schemas.PolicyStatusSchema>;\r\nexport type PolicySource = z.infer<typeof schemas.PolicySourceSchema>;\r\nexport type EffectivePolicy = z.infer<typeof schemas.EffectivePolicySchema>;\r\nexport type PolicyRuntimeId = z.infer<typeof schemas.PolicyRuntimeIdSchema>;\r\nexport type ExperimentValue = z.infer<typeof schemas.ExperimentValueSchema>;\r\n\r\n// Type guards for common chat message variants\r\nexport function isCaughtUpMessage(msg: WorkspaceChatMessage): msg is CaughtUpMessage {\r\n  return (msg as { type?: string }).type === \"caught-up\";\r\n}\r\n\r\nexport function isStreamError(msg: WorkspaceChatMessage): msg is StreamErrorMessage {\r\n  return (msg as { type?: string }).type === \"stream-error\";\r\n}\r\n\r\nexport function isDeleteMessage(msg: WorkspaceChatMessage): msg is DeleteMessage {\r\n  return (msg as { type?: string }).type === \"delete\";\r\n}\r\n\r\nexport function isStreamStart(msg: WorkspaceChatMessage): msg is StreamStartEvent {\r\n  return (msg as { type?: string }).type === \"stream-start\";\r\n}\r\n\r\nexport function isStreamDelta(msg: WorkspaceChatMessage): msg is StreamDeltaEvent {\r\n  return (msg as { type?: string }).type === \"stream-delta\";\r\n}\r\n\r\nexport function isStreamEnd(msg: WorkspaceChatMessage): msg is StreamEndEvent {\r\n  return (msg as { type?: string }).type === \"stream-end\";\r\n}\r\n\r\nexport function isStreamAbort(msg: WorkspaceChatMessage): msg is StreamAbortEvent {\r\n  return (msg as { type?: string }).type === \"stream-abort\";\r\n}\r\n\r\nexport function isToolCallStart(msg: WorkspaceChatMessage): msg is ToolCallStartEvent {\r\n  return (msg as { type?: string }).type === \"tool-call-start\";\r\n}\r\n\r\nexport function isToolCallDelta(msg: WorkspaceChatMessage): msg is ToolCallDeltaEvent {\r\n  return (msg as { type?: string }).type === \"tool-call-delta\";\r\n}\r\n\r\nexport function isBashOutputEvent(msg: WorkspaceChatMessage): msg is BashOutputEvent {\r\n  return (msg as { type?: string }).type === \"bash-output\";\r\n}\r\n\r\nexport function isTaskCreatedEvent(msg: WorkspaceChatMessage): msg is TaskCreatedEvent {\r\n  return (msg as { type?: string }).type === \"task-created\";\r\n}\r\nexport function isToolCallEnd(msg: WorkspaceChatMessage): msg is ToolCallEndEvent {\r\n  return (msg as { type?: string }).type === \"tool-call-end\";\r\n}\r\n\r\nexport function isReasoningDelta(msg: WorkspaceChatMessage): msg is ReasoningDeltaEvent {\r\n  return (msg as { type?: string }).type === \"reasoning-delta\";\r\n}\r\n\r\nexport function isReasoningEnd(msg: WorkspaceChatMessage): msg is ReasoningEndEvent {\r\n  return (msg as { type?: string }).type === \"reasoning-end\";\r\n}\r\n\r\nexport function isUsageDelta(msg: WorkspaceChatMessage): msg is UsageDeltaEvent {\r\n  return (msg as { type?: string }).type === \"usage-delta\";\r\n}\r\n\r\nexport function isMuxMessage(msg: WorkspaceChatMessage): msg is ChatMuxMessage {\r\n  return (msg as { type?: string }).type === \"message\";\r\n}\r\n\r\nexport function isInitStart(\r\n  msg: WorkspaceChatMessage\r\n): msg is Extract<WorkspaceInitEvent, { type: \"init-start\" }> {\r\n  return (msg as { type?: string }).type === \"init-start\";\r\n}\r\n\r\nexport function isInitOutput(\r\n  msg: WorkspaceChatMessage\r\n): msg is Extract<WorkspaceInitEvent, { type: \"init-output\" }> {\r\n  return (msg as { type?: string }).type === \"init-output\";\r\n}\r\n\r\nexport function isInitEnd(\r\n  msg: WorkspaceChatMessage\r\n): msg is Extract<WorkspaceInitEvent, { type: \"init-end\" }> {\r\n  return (msg as { type?: string }).type === \"init-end\";\r\n}\r\n\r\nexport function isQueuedMessageChanged(\r\n  msg: WorkspaceChatMessage\r\n): msg is Extract<WorkspaceChatMessage, { type: \"queued-message-changed\" }> {\r\n  return (msg as { type?: string }).type === \"queued-message-changed\";\r\n}\r\n\r\nexport function isRestoreToInput(\r\n  msg: WorkspaceChatMessage\r\n): msg is Extract<WorkspaceChatMessage, { type: \"restore-to-input\" }> {\r\n  return (msg as { type?: string }).type === \"restore-to-input\";\r\n}\r\n\r\nexport function isRuntimeStatus(msg: WorkspaceChatMessage): msg is RuntimeStatusEvent {\r\n  return (msg as { type?: string }).type === \"runtime-status\";\r\n}\r\n"]}