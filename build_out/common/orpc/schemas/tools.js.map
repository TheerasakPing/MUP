{"version":3,"file":"tools.js","sourceRoot":"","sources":["../../../../src/common/orpc/schemas/tools.ts"],"names":[],"mappings":"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","sourcesContent":["import { z } from \"zod\";\n\nconst ToolOutputUiOnlySchema = z.object({\n  ask_user_question: z\n    .object({\n      questions: z.array(z.unknown()),\n      answers: z.record(z.string(), z.string()),\n    })\n    .optional(),\n  file_edit: z\n    .object({\n      diff: z.string(),\n    })\n    .optional(),\n  notify: z\n    .object({\n      notifiedVia: z.enum([\"electron\", \"browser\"]),\n      workspaceId: z.string().optional(),\n    })\n    .optional(),\n});\n\nconst ToolOutputUiOnlyFieldSchema = {\n  ui_only: ToolOutputUiOnlySchema.optional(),\n};\n\nexport const BashToolResultSchema = z.discriminatedUnion(\"success\", [\n  z\n    .object({\n      success: z.literal(true),\n      wall_duration_ms: z.number(),\n      output: z.string(),\n      exitCode: z.literal(0),\n      note: z.string().optional(),\n      truncated: z\n        .object({\n          reason: z.string(),\n          totalLines: z.number(),\n        })\n        .optional(),\n    })\n    .extend(ToolOutputUiOnlyFieldSchema),\n  z\n    .object({\n      success: z.literal(false),\n      wall_duration_ms: z.number(),\n      output: z.string().optional(),\n      exitCode: z.number(),\n      error: z.string(),\n      note: z.string().optional(),\n      truncated: z\n        .object({\n          reason: z.string(),\n          totalLines: z.number(),\n        })\n        .optional(),\n    })\n    .extend(ToolOutputUiOnlyFieldSchema),\n]);\n\nexport const FileTreeNodeSchema = z.object({\n  name: z.string(),\n  path: z.string(),\n  isDirectory: z.boolean(),\n  get children() {\n    return z.array(FileTreeNodeSchema);\n  },\n  /** Whether this file/directory is gitignored */\n  ignored: z.boolean().optional(),\n  stats: z\n    .object({\n      filePath: z.string(),\n      additions: z.number(),\n      deletions: z.number(),\n    })\n    .optional(),\n  totalStats: z\n    .object({\n      filePath: z.string(),\n      additions: z.number(),\n      deletions: z.number(),\n    })\n    .optional(),\n});\n"]}