{"version":3,"file":"tools.js","sourceRoot":"","sources":["../../../../src/common/orpc/schemas/tools.ts"],"names":[],"mappings":"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","sourcesContent":["import { z } from \"zod\";\r\n\r\nconst ToolOutputUiOnlySchema = z.object({\r\n  ask_user_question: z\r\n    .object({\r\n      questions: z.array(z.unknown()),\r\n      answers: z.record(z.string(), z.string()),\r\n    })\r\n    .optional(),\r\n  file_edit: z\r\n    .object({\r\n      diff: z.string(),\r\n    })\r\n    .optional(),\r\n  notify: z\r\n    .object({\r\n      notifiedVia: z.enum([\"electron\", \"browser\"]),\r\n      workspaceId: z.string().optional(),\r\n    })\r\n    .optional(),\r\n});\r\n\r\nconst ToolOutputUiOnlyFieldSchema = {\r\n  ui_only: ToolOutputUiOnlySchema.optional(),\r\n};\r\n\r\nexport const BashToolResultSchema = z.discriminatedUnion(\"success\", [\r\n  z\r\n    .object({\r\n      success: z.literal(true),\r\n      wall_duration_ms: z.number(),\r\n      output: z.string(),\r\n      exitCode: z.literal(0),\r\n      note: z.string().optional(),\r\n      truncated: z\r\n        .object({\r\n          reason: z.string(),\r\n          totalLines: z.number(),\r\n        })\r\n        .optional(),\r\n    })\r\n    .extend(ToolOutputUiOnlyFieldSchema),\r\n  z\r\n    .object({\r\n      success: z.literal(false),\r\n      wall_duration_ms: z.number(),\r\n      output: z.string().optional(),\r\n      exitCode: z.number(),\r\n      error: z.string(),\r\n      note: z.string().optional(),\r\n      truncated: z\r\n        .object({\r\n          reason: z.string(),\r\n          totalLines: z.number(),\r\n        })\r\n        .optional(),\r\n    })\r\n    .extend(ToolOutputUiOnlyFieldSchema),\r\n]);\r\n\r\nexport const FileTreeNodeSchema = z.object({\r\n  name: z.string(),\r\n  path: z.string(),\r\n  isDirectory: z.boolean(),\r\n  get children() {\r\n    return z.array(FileTreeNodeSchema);\r\n  },\r\n  /** Whether this file/directory is gitignored */\r\n  ignored: z.boolean().optional(),\r\n  stats: z\r\n    .object({\r\n      filePath: z.string(),\r\n      additions: z.number(),\r\n      deletions: z.number(),\r\n    })\r\n    .optional(),\r\n  totalStats: z\r\n    .object({\r\n      filePath: z.string(),\r\n      additions: z.number(),\r\n      deletions: z.number(),\r\n    })\r\n    .optional(),\r\n});\r\n"]}