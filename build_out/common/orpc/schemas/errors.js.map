{"version":3,"file":"errors.js","sourceRoot":"","sources":["../../../../src/common/orpc/schemas/errors.ts"],"names":[],"mappings":";;;AAAA,6BAAwB;AAExB;;;;;;GAMG;AACU,QAAA,sBAAsB,GAAG,OAAC,CAAC,kBAAkB,CAAC,MAAM,EAAE;IACjE,OAAC,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,OAAC,CAAC,OAAO,CAAC,mBAAmB,CAAC,EAAE,QAAQ,EAAE,OAAC,CAAC,MAAM,EAAE,EAAE,CAAC;IACxE,OAAC,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,OAAC,CAAC,OAAO,CAAC,qBAAqB,CAAC,EAAE,QAAQ,EAAE,OAAC,CAAC,MAAM,EAAE,EAAE,CAAC;IAC1E,OAAC,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,OAAC,CAAC,OAAO,CAAC,wBAAwB,CAAC,EAAE,QAAQ,EAAE,OAAC,CAAC,MAAM,EAAE,EAAE,CAAC;IAC7E,OAAC,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,OAAC,CAAC,OAAO,CAAC,sBAAsB,CAAC,EAAE,OAAO,EAAE,OAAC,CAAC,MAAM,EAAE,EAAE,CAAC;IAC1E,OAAC,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,OAAC,CAAC,OAAO,CAAC,wBAAwB,CAAC,EAAE,OAAO,EAAE,OAAC,CAAC,MAAM,EAAE,EAAE,CAAC;IAC5E,OAAC,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,OAAC,CAAC,OAAO,CAAC,mBAAmB,CAAC,EAAE,OAAO,EAAE,OAAC,CAAC,MAAM,EAAE,EAAE,CAAC;IACvE,OAAC,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,OAAC,CAAC,OAAO,CAAC,sBAAsB,CAAC,EAAE,OAAO,EAAE,OAAC,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE,wBAAwB;IACpG,OAAC,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,OAAC,CAAC,OAAO,CAAC,eAAe,CAAC,EAAE,OAAO,EAAE,OAAC,CAAC,MAAM,EAAE,EAAE,CAAC;IACnE,OAAC,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,OAAC,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,GAAG,EAAE,OAAC,CAAC,MAAM,EAAE,EAAE,CAAC;CAC1D,CAAC,CAAC;AAEH;;;GAGG;AACU,QAAA,qBAAqB,GAAG,OAAC,CAAC,IAAI,CAAC;IAC1C,gBAAgB,EAAE,6BAA6B;IAC/C,YAAY,EAAE,oBAAoB;IAClC,cAAc,EAAE,oBAAoB;IACpC,KAAK,EAAE,qBAAqB;IAC5B,cAAc,EAAE,kBAAkB;IAClC,SAAS,EAAE,eAAe;IAC1B,SAAS,EAAE,uBAAuB;IAClC,kBAAkB,EAAE,sCAAsC;IAC1D,OAAO,EAAE,6BAA6B;IACtC,iBAAiB,EAAE,uBAAuB;IAC1C,mBAAmB,EAAE,iEAAiE;IACtF,sBAAsB,EAAE,6DAA6D;IACrF,SAAS,EAAE,YAAY;CACxB,CAAC,CAAC","sourcesContent":["import { z } from \"zod\";\n\n/**\n * Discriminated union for all possible sendMessage errors.\n *\n * The frontend is responsible for language and messaging for api_key_not_found,\n * oauth_not_connected, and provider_not_supported errors. Other error types include\n * details needed for display.\n */\nexport const SendMessageErrorSchema = z.discriminatedUnion(\"type\", [\n  z.object({ type: z.literal(\"api_key_not_found\"), provider: z.string() }),\n  z.object({ type: z.literal(\"oauth_not_connected\"), provider: z.string() }),\n  z.object({ type: z.literal(\"provider_not_supported\"), provider: z.string() }),\n  z.object({ type: z.literal(\"invalid_model_string\"), message: z.string() }),\n  z.object({ type: z.literal(\"incompatible_workspace\"), message: z.string() }),\n  z.object({ type: z.literal(\"runtime_not_ready\"), message: z.string() }),\n  z.object({ type: z.literal(\"runtime_start_failed\"), message: z.string() }), // Transient - retryable\n  z.object({ type: z.literal(\"policy_denied\"), message: z.string() }),\n  z.object({ type: z.literal(\"unknown\"), raw: z.string() }),\n]);\n\n/**\n * Stream error types - categorizes errors during AI streaming\n * Used across backend (StreamManager) and frontend (StreamErrorMessage)\n */\nexport const StreamErrorTypeSchema = z.enum([\n  \"authentication\", // API key issues, 401 errors\n  \"rate_limit\", // 429 rate limiting\n  \"server_error\", // 5xx server errors\n  \"api\", // Generic API errors\n  \"retry_failed\", // Retry exhausted\n  \"aborted\", // User aborted\n  \"network\", // Network/fetch errors\n  \"context_exceeded\", // Context length/token limit exceeded\n  \"quota\", // Usage quota/billing limits\n  \"model_not_found\", // Model does not exist\n  \"runtime_not_ready\", // Container/runtime doesn't exist or failed to start (permanent)\n  \"runtime_start_failed\", // Runtime is starting or temporarily unavailable (retryable)\n  \"unknown\", // Catch-all\n]);\n"]}