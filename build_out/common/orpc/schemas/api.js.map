{"version":3,"file":"api.js","sourceRoot":"","sources":["../../../../src/common/orpc/schemas/api.ts"],"names":[],"mappings":"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","sourcesContent":["import { eventIterator } from \"@orpc/server\";\r\nimport { UIModeSchema } from \"../../types/mode\";\r\nimport { z } from \"zod\";\r\nimport { ChatStatsSchema, SessionUsageFileSchema } from \"./chatStats\";\r\nimport { SendMessageErrorSchema } from \"./errors\";\r\nimport { BranchListResultSchema, FilePartSchema, MuxMessageSchema } from \"./message\";\r\nimport { ProjectConfigSchema, SectionConfigSchema } from \"./project\";\r\nimport { ResultSchema } from \"./result\";\r\nimport { RuntimeConfigSchema, RuntimeAvailabilitySchema } from \"./runtime\";\r\nimport { SecretSchema } from \"./secrets\";\r\nimport {\r\n  CompletedMessagePartSchema,\r\n  SendMessageOptionsSchema,\r\n  StreamEndEventSchema,\r\n  UpdateStatusSchema,\r\n  WorkspaceChatMessageSchema,\r\n} from \"./stream\";\r\nimport { LayoutPresetsConfigSchema } from \"./uiLayouts\";\r\nimport {\r\n  TerminalCreateParamsSchema,\r\n  TerminalResizeParamsSchema,\r\n  TerminalSessionSchema,\r\n} from \"./terminal\";\r\nimport { BashToolResultSchema, FileTreeNodeSchema } from \"./tools\";\r\nimport { WorkspaceStatsSnapshotSchema } from \"./workspaceStats\";\r\nimport { FrontendWorkspaceMetadataSchema, WorkspaceActivitySnapshotSchema } from \"./workspace\";\r\nimport { WorkspaceAISettingsSchema } from \"./workspaceAiSettings\";\r\nimport {\r\n  AgentSkillDescriptorSchema,\r\n  AgentSkillIssueSchema,\r\n  AgentSkillPackageSchema,\r\n  SkillNameSchema,\r\n} from \"./agentSkill\";\r\nimport {\r\n  AgentDefinitionDescriptorSchema,\r\n  AgentDefinitionPackageSchema,\r\n  AgentIdSchema,\r\n} from \"./agentDefinition\";\r\nimport {\r\n  MCPAddGlobalParamsSchema,\r\n  MCPAddParamsSchema,\r\n  MCPListParamsSchema,\r\n  MCPRemoveGlobalParamsSchema,\r\n  MCPRemoveParamsSchema,\r\n  MCPServerMapSchema,\r\n  MCPSetEnabledGlobalParamsSchema,\r\n  MCPSetEnabledParamsSchema,\r\n  MCPSetToolAllowlistGlobalParamsSchema,\r\n  MCPSetToolAllowlistParamsSchema,\r\n  MCPTestGlobalParamsSchema,\r\n  MCPTestParamsSchema,\r\n  MCPTestResultSchema,\r\n  WorkspaceMCPOverridesSchema,\r\n} from \"./mcp\";\r\nimport { PolicyGetResponseSchema } from \"./policy\";\r\n\r\n// Experiments\r\nexport const ExperimentValueSchema = z.object({\r\n  value: z.union([z.string(), z.boolean(), z.null()]),\r\n  source: z.enum([\"posthog\", \"cache\", \"disabled\"]),\r\n});\r\n\r\nexport const experiments = {\r\n  getAll: {\r\n    input: z.void(),\r\n    output: z.record(z.string(), ExperimentValueSchema),\r\n  },\r\n  reload: {\r\n    input: z.void(),\r\n    output: z.void(),\r\n  },\r\n};\r\n// Re-export telemetry schemas\r\nexport { telemetry, TelemetryEventSchema } from \"./telemetry\";\r\n\r\n// Re-export signing schemas\r\nexport { signing, type SigningCapabilities, type SignatureEnvelope } from \"./signing\";\r\n\r\n// --- API Router Schemas ---\r\n\r\n// Background process info (for UI display)\r\nexport const BackgroundProcessInfoSchema = z.object({\r\n  id: z.string(),\r\n  pid: z.number(),\r\n  script: z.string(),\r\n  displayName: z.string().optional(),\r\n  startTime: z.number(),\r\n  status: z.enum([\"running\", \"exited\", \"killed\", \"failed\"]),\r\n  exitCode: z.number().optional(),\r\n});\r\n\r\nexport type BackgroundProcessInfo = z.infer<typeof BackgroundProcessInfoSchema>;\r\n\r\n// Tokenizer\r\nexport const tokenizer = {\r\n  countTokens: {\r\n    input: z.object({ model: z.string(), text: z.string() }),\r\n    output: z.number(),\r\n  },\r\n  countTokensBatch: {\r\n    input: z.object({ model: z.string(), texts: z.array(z.string()) }),\r\n    output: z.array(z.number()),\r\n  },\r\n  calculateStats: {\r\n    input: z.object({\r\n      workspaceId: z.string(),\r\n      messages: z.array(MuxMessageSchema),\r\n      model: z.string(),\r\n    }),\r\n    output: ChatStatsSchema,\r\n  },\r\n};\r\n\r\n// Providers\r\nexport const AWSCredentialStatusSchema = z.object({\r\n  region: z.string().optional(),\r\n  /** Optional AWS shared config profile name (equivalent to AWS_PROFILE). */\r\n  profile: z.string().optional(),\r\n  bearerTokenSet: z.boolean(),\r\n  accessKeyIdSet: z.boolean(),\r\n  secretAccessKeySet: z.boolean(),\r\n});\r\n\r\nexport const CustomModelMetadataSchema = z.object({\r\n  maxInputTokens: z.number().int().positive().optional(),\r\n  maxOutputTokens: z.number().int().positive().optional(),\r\n  inputCostPerToken: z.number().nonnegative().optional(),\r\n  outputCostPerToken: z.number().nonnegative().optional(),\r\n  cacheCreationInputTokenCost: z.number().nonnegative().optional(),\r\n  cacheReadInputTokenCost: z.number().nonnegative().optional(),\r\n});\r\n\r\nexport type CustomModelMetadata = z.infer<typeof CustomModelMetadataSchema>;\r\n\r\nexport const ProviderConfigInfoSchema = z.object({\r\n  apiKeySet: z.boolean(),\r\n  /** Whether this provider is configured and ready to use */\r\n  isConfigured: z.boolean(),\r\n  baseUrl: z.string().optional(),\r\n  models: z.array(z.string()).optional(),\r\n  /** OpenAI-specific fields */\r\n  serviceTier: z.enum([\"auto\", \"default\", \"flex\", \"priority\"]).optional(),\r\n  /** OpenAI-only: whether Codex OAuth tokens are present in providers.jsonc */\r\n  codexOauthSet: z.boolean().optional(),\r\n  /**\r\n   * OpenAI-only: default auth precedence to use for Codex-OAuth-allowed models when BOTH\r\n   * ChatGPT OAuth and an OpenAI API key are configured.\r\n   */\r\n  codexOauthDefaultAuth: z.enum([\"oauth\", \"apiKey\"]).optional(),\r\n  /** AWS-specific fields (only present for bedrock provider) */\r\n  aws: AWSCredentialStatusSchema.optional(),\r\n  /** Mux Gateway-specific fields */\r\n  couponCodeSet: z.boolean().optional(),\r\n  /** Custom model metadata (overrides defaults layer) */\r\n  modelMetadata: z.record(z.string(), CustomModelMetadataSchema).optional(),\r\n});\r\n\r\nexport const ProvidersConfigMapSchema = z.record(z.string(), ProviderConfigInfoSchema);\r\n\r\nexport const providers = {\r\n  setProviderConfig: {\r\n    input: z.object({\r\n      provider: z.string(),\r\n      keyPath: z.array(z.string()),\r\n      value: z.string(),\r\n    }),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  getConfig: {\r\n    input: z.void(),\r\n    output: ProvidersConfigMapSchema,\r\n  },\r\n  setModelMetadata: {\r\n    input: z.object({\r\n      provider: z.string(),\r\n      modelId: z.string(),\r\n      metadata: CustomModelMetadataSchema,\r\n    }),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  setModels: {\r\n    input: z.object({\r\n      provider: z.string(),\r\n      models: z.array(z.string()),\r\n    }),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  list: {\r\n    input: z.void(),\r\n    output: z.array(z.string()),\r\n  },\r\n  // Subscription: emits when provider config changes (API keys, models, etc.)\r\n  onConfigChanged: {\r\n    input: z.void(),\r\n    output: eventIterator(z.void()),\r\n  },\r\n};\r\n\r\n// Policy (admin-enforced config)\r\nexport const policy = {\r\n  get: {\r\n    input: z.void(),\r\n    output: PolicyGetResponseSchema,\r\n  },\r\n  // Subscription: emits when the effective policy changes (file refresh)\r\n  onChanged: {\r\n    input: z.void(),\r\n    output: eventIterator(z.void()),\r\n  },\r\n  // Force a refresh of the effective policy (re-reads MUX_POLICY_FILE or Governor policy)\r\n  refreshNow: {\r\n    input: z.void(),\r\n    output: ResultSchema(PolicyGetResponseSchema, z.string()),\r\n  },\r\n};\r\n\r\n// Mux Gateway OAuth (desktop login flow)\r\nexport const muxGatewayOauth = {\r\n  startDesktopFlow: {\r\n    input: z.void(),\r\n    output: ResultSchema(\r\n      z.object({\r\n        flowId: z.string(),\r\n        authorizeUrl: z.string(),\r\n        redirectUri: z.string(),\r\n      }),\r\n      z.string()\r\n    ),\r\n  },\r\n  waitForDesktopFlow: {\r\n    input: z\r\n      .object({\r\n        flowId: z.string(),\r\n        timeoutMs: z.number().int().positive().optional(),\r\n      })\r\n      .strict(),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  cancelDesktopFlow: {\r\n    input: z.object({ flowId: z.string() }).strict(),\r\n    output: z.void(),\r\n  },\r\n};\r\n\r\n// GitHub Copilot OAuth (Device Code Flow)\r\nexport const copilotOauth = {\r\n  startDeviceFlow: {\r\n    input: z.void(),\r\n    output: ResultSchema(\r\n      z.object({\r\n        flowId: z.string(),\r\n        verificationUri: z.string(),\r\n        userCode: z.string(),\r\n      }),\r\n      z.string()\r\n    ),\r\n  },\r\n  waitForDeviceFlow: {\r\n    input: z\r\n      .object({\r\n        flowId: z.string(),\r\n        timeoutMs: z.number().int().positive().optional(),\r\n      })\r\n      .strict(),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  cancelDeviceFlow: {\r\n    input: z.object({ flowId: z.string() }).strict(),\r\n    output: z.void(),\r\n  },\r\n};\r\n\r\n// Mux Governor OAuth (enrollment for enterprise policy service)\r\nexport const muxGovernorOauth = {\r\n  startDesktopFlow: {\r\n    input: z.object({ governorOrigin: z.string() }).strict(),\r\n    output: ResultSchema(\r\n      z.object({\r\n        flowId: z.string(),\r\n        authorizeUrl: z.string(),\r\n        redirectUri: z.string(),\r\n      }),\r\n      z.string()\r\n    ),\r\n  },\r\n  waitForDesktopFlow: {\r\n    input: z\r\n      .object({\r\n        flowId: z.string(),\r\n        timeoutMs: z.number().int().positive().optional(),\r\n      })\r\n      .strict(),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  cancelDesktopFlow: {\r\n    input: z.object({ flowId: z.string() }).strict(),\r\n    output: z.void(),\r\n  },\r\n};\r\n\r\n// Codex OAuth (ChatGPT subscription auth)\r\nexport const codexOauth = {\r\n  startDesktopFlow: {\r\n    input: z.void(),\r\n    output: ResultSchema(z.object({ flowId: z.string(), authorizeUrl: z.string() }), z.string()),\r\n  },\r\n  waitForDesktopFlow: {\r\n    input: z\r\n      .object({\r\n        flowId: z.string(),\r\n        timeoutMs: z.number().int().positive().optional(),\r\n      })\r\n      .strict(),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  cancelDesktopFlow: {\r\n    input: z.object({ flowId: z.string() }).strict(),\r\n    output: z.void(),\r\n  },\r\n  startDeviceFlow: {\r\n    input: z.void(),\r\n    output: ResultSchema(\r\n      z.object({\r\n        flowId: z.string(),\r\n        userCode: z.string(),\r\n        verifyUrl: z.string(),\r\n        intervalSeconds: z.number().int().positive(),\r\n      }),\r\n      z.string()\r\n    ),\r\n  },\r\n  waitForDeviceFlow: {\r\n    input: z\r\n      .object({\r\n        flowId: z.string(),\r\n        timeoutMs: z.number().int().positive().optional(),\r\n      })\r\n      .strict(),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  cancelDeviceFlow: {\r\n    input: z.object({ flowId: z.string() }).strict(),\r\n    output: z.void(),\r\n  },\r\n  disconnect: {\r\n    input: z.void(),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n};\r\n// Mux Gateway\r\nexport const muxGateway = {\r\n  getAccountStatus: {\r\n    input: z.void(),\r\n    output: ResultSchema(\r\n      z.object({\r\n        remaining_microdollars: z.number().int().nonnegative(),\r\n        ai_gateway_concurrent_requests_per_user: z.number().int().nonnegative(),\r\n      }),\r\n      z.string()\r\n    ),\r\n  },\r\n};\r\n\r\nconst MCPOAuthPendingServerSchema = z\r\n  .object({\r\n    // OAuth is only supported for remote transports.\r\n    transport: z.union([z.literal(\"http\"), z.literal(\"sse\"), z.literal(\"auto\")]),\r\n    url: z.string(),\r\n  })\r\n  .strict();\r\n\r\n// MCP OAuth\r\nexport const mcpOauth = {\r\n  startDesktopFlow: {\r\n    input: z\r\n      .object({\r\n        projectPath: z.string().optional(),\r\n        serverName: z.string(),\r\n        pendingServer: MCPOAuthPendingServerSchema.optional(),\r\n      })\r\n      .strict(),\r\n    output: ResultSchema(\r\n      z.object({\r\n        flowId: z.string(),\r\n        authorizeUrl: z.string(),\r\n        redirectUri: z.string(),\r\n      }),\r\n      z.string()\r\n    ),\r\n  },\r\n  waitForDesktopFlow: {\r\n    input: z\r\n      .object({\r\n        flowId: z.string(),\r\n        timeoutMs: z.number().int().positive().optional(),\r\n      })\r\n      .strict(),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  cancelDesktopFlow: {\r\n    input: z.object({ flowId: z.string() }).strict(),\r\n    output: z.void(),\r\n  },\r\n  startServerFlow: {\r\n    input: z\r\n      .object({\r\n        projectPath: z.string().optional(),\r\n        serverName: z.string(),\r\n        pendingServer: MCPOAuthPendingServerSchema.optional(),\r\n      })\r\n      .strict(),\r\n    output: ResultSchema(\r\n      z.object({\r\n        flowId: z.string(),\r\n        authorizeUrl: z.string(),\r\n        redirectUri: z.string(),\r\n      }),\r\n      z.string()\r\n    ),\r\n  },\r\n  waitForServerFlow: {\r\n    input: z\r\n      .object({\r\n        flowId: z.string(),\r\n        timeoutMs: z.number().int().positive().optional(),\r\n      })\r\n      .strict(),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  cancelServerFlow: {\r\n    input: z.object({ flowId: z.string() }).strict(),\r\n    output: z.void(),\r\n  },\r\n  getAuthStatus: {\r\n    input: z.object({ serverUrl: z.string() }).strict(),\r\n    output: z.object({\r\n      serverUrl: z.string().optional(),\r\n      isLoggedIn: z.boolean(),\r\n      hasRefreshToken: z.boolean(),\r\n      scope: z.string().optional(),\r\n      updatedAtMs: z.number().optional(),\r\n    }),\r\n  },\r\n  logout: {\r\n    input: z.object({ serverUrl: z.string() }).strict(),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n};\r\n\r\n// Projects\r\nexport const projects = {\r\n  create: {\r\n    input: z.object({ projectPath: z.string() }),\r\n    output: ResultSchema(\r\n      z.object({\r\n        projectConfig: ProjectConfigSchema,\r\n        normalizedPath: z.string(),\r\n      }),\r\n      z.string()\r\n    ),\r\n  },\r\n  pickDirectory: {\r\n    input: z.void(),\r\n    output: z.string().nullable(),\r\n  },\r\n  remove: {\r\n    input: z.object({ projectPath: z.string() }),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  list: {\r\n    input: z.void(),\r\n    output: z.array(z.tuple([z.string(), ProjectConfigSchema])),\r\n  },\r\n  getFileCompletions: {\r\n    input: z\r\n      .object({\r\n        projectPath: z.string(),\r\n        query: z.string(),\r\n        limit: z.number().int().positive().max(50).optional(),\r\n      })\r\n      .strict(),\r\n    output: z.object({ paths: z.array(z.string()) }),\r\n  },\r\n  runtimeAvailability: {\r\n    input: z.object({ projectPath: z.string() }),\r\n    output: RuntimeAvailabilitySchema,\r\n  },\r\n  listBranches: {\r\n    input: z.object({ projectPath: z.string() }),\r\n    output: BranchListResultSchema,\r\n  },\r\n  gitInit: {\r\n    input: z.object({ projectPath: z.string() }),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  mcp: {\r\n    list: {\r\n      input: z.object({ projectPath: z.string() }),\r\n      output: MCPServerMapSchema,\r\n    },\r\n    add: {\r\n      input: MCPAddParamsSchema,\r\n      output: ResultSchema(z.void(), z.string()),\r\n    },\r\n    remove: {\r\n      input: MCPRemoveParamsSchema,\r\n      output: ResultSchema(z.void(), z.string()),\r\n    },\r\n    test: {\r\n      input: MCPTestParamsSchema,\r\n      output: MCPTestResultSchema,\r\n    },\r\n    setEnabled: {\r\n      input: MCPSetEnabledParamsSchema,\r\n      output: ResultSchema(z.void(), z.string()),\r\n    },\r\n    setToolAllowlist: {\r\n      input: MCPSetToolAllowlistParamsSchema,\r\n      output: ResultSchema(z.void(), z.string()),\r\n    },\r\n  },\r\n  mcpOauth: {\r\n    startDesktopFlow: {\r\n      input: z\r\n        .object({\r\n          projectPath: z.string(),\r\n          serverName: z.string(),\r\n          pendingServer: MCPOAuthPendingServerSchema.optional(),\r\n        })\r\n        .strict(),\r\n      output: ResultSchema(\r\n        z.object({\r\n          flowId: z.string(),\r\n          authorizeUrl: z.string(),\r\n          redirectUri: z.string(),\r\n        }),\r\n        z.string()\r\n      ),\r\n    },\r\n    waitForDesktopFlow: {\r\n      input: z\r\n        .object({\r\n          flowId: z.string(),\r\n          timeoutMs: z.number().int().positive().optional(),\r\n        })\r\n        .strict(),\r\n      output: ResultSchema(z.void(), z.string()),\r\n    },\r\n    cancelDesktopFlow: {\r\n      input: z.object({ flowId: z.string() }).strict(),\r\n      output: z.void(),\r\n    },\r\n    startServerFlow: {\r\n      input: z\r\n        .object({\r\n          projectPath: z.string(),\r\n          serverName: z.string(),\r\n          pendingServer: MCPOAuthPendingServerSchema.optional(),\r\n        })\r\n        .strict(),\r\n      output: ResultSchema(\r\n        z.object({\r\n          flowId: z.string(),\r\n          authorizeUrl: z.string(),\r\n          redirectUri: z.string(),\r\n        }),\r\n        z.string()\r\n      ),\r\n    },\r\n    waitForServerFlow: {\r\n      input: z\r\n        .object({\r\n          flowId: z.string(),\r\n          timeoutMs: z.number().int().positive().optional(),\r\n        })\r\n        .strict(),\r\n      output: ResultSchema(z.void(), z.string()),\r\n    },\r\n    cancelServerFlow: {\r\n      input: z.object({ flowId: z.string() }).strict(),\r\n      output: z.void(),\r\n    },\r\n    getAuthStatus: {\r\n      input: z\r\n        .object({\r\n          projectPath: z.string(),\r\n          serverName: z.string(),\r\n        })\r\n        .strict(),\r\n      output: z.object({\r\n        serverUrl: z.string().optional(),\r\n        isLoggedIn: z.boolean(),\r\n        hasRefreshToken: z.boolean(),\r\n        scope: z.string().optional(),\r\n        updatedAtMs: z.number().optional(),\r\n      }),\r\n    },\r\n    logout: {\r\n      input: z\r\n        .object({\r\n          projectPath: z.string(),\r\n          serverName: z.string(),\r\n        })\r\n        .strict(),\r\n      output: ResultSchema(z.void(), z.string()),\r\n    },\r\n  },\r\n\r\n  secrets: {\r\n    get: {\r\n      input: z.object({ projectPath: z.string() }),\r\n      output: z.array(SecretSchema),\r\n    },\r\n    update: {\r\n      input: z.object({\r\n        projectPath: z.string(),\r\n        secrets: z.array(SecretSchema),\r\n      }),\r\n      output: ResultSchema(z.void(), z.string()),\r\n    },\r\n  },\r\n  idleCompaction: {\r\n    get: {\r\n      input: z.object({ projectPath: z.string() }),\r\n      output: z.object({ hours: z.number().nullable() }),\r\n    },\r\n    set: {\r\n      input: z.object({\r\n        projectPath: z.string(),\r\n        hours: z.number().min(1).nullable(),\r\n      }),\r\n      output: ResultSchema(z.void(), z.string()),\r\n    },\r\n  },\r\n  sections: {\r\n    list: {\r\n      input: z.object({ projectPath: z.string() }),\r\n      output: z.array(SectionConfigSchema),\r\n    },\r\n    create: {\r\n      input: z.object({\r\n        projectPath: z.string(),\r\n        name: z.string().min(1),\r\n        color: z.string().optional(),\r\n      }),\r\n      output: ResultSchema(SectionConfigSchema, z.string()),\r\n    },\r\n    update: {\r\n      input: z.object({\r\n        projectPath: z.string(),\r\n        sectionId: z.string(),\r\n        name: z.string().min(1).optional(),\r\n        color: z.string().optional(),\r\n      }),\r\n      output: ResultSchema(z.void(), z.string()),\r\n    },\r\n    remove: {\r\n      input: z.object({\r\n        projectPath: z.string(),\r\n        sectionId: z.string(),\r\n      }),\r\n      output: ResultSchema(z.void(), z.string()),\r\n    },\r\n    reorder: {\r\n      input: z.object({\r\n        projectPath: z.string(),\r\n        sectionIds: z.array(z.string()),\r\n      }),\r\n      output: ResultSchema(z.void(), z.string()),\r\n    },\r\n    assignWorkspace: {\r\n      input: z.object({\r\n        projectPath: z.string(),\r\n        workspaceId: z.string(),\r\n        sectionId: z.string().nullable(),\r\n      }),\r\n      output: ResultSchema(z.void(), z.string()),\r\n    },\r\n  },\r\n};\r\n\r\n/**\r\n * MCP server configuration.\r\n *\r\n * Global config lives in <muxHome>/mcp.jsonc, with optional repo overrides in <projectPath>/.mux/mcp.jsonc.\r\n */\r\nexport const mcp = {\r\n  list: {\r\n    input: MCPListParamsSchema,\r\n    output: MCPServerMapSchema,\r\n  },\r\n  add: {\r\n    input: MCPAddGlobalParamsSchema,\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  remove: {\r\n    input: MCPRemoveGlobalParamsSchema,\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  test: {\r\n    input: MCPTestGlobalParamsSchema,\r\n    output: MCPTestResultSchema,\r\n  },\r\n  setEnabled: {\r\n    input: MCPSetEnabledGlobalParamsSchema,\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  setToolAllowlist: {\r\n    input: MCPSetToolAllowlistGlobalParamsSchema,\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n};\r\n\r\n/**\r\n * Secrets store.\r\n *\r\n * - When no projectPath is provided: global secrets\r\n * - When projectPath is provided: project-only secrets\r\n */\r\nexport const secrets = {\r\n  get: {\r\n    input: z.object({ projectPath: z.string().optional() }),\r\n    output: z.array(SecretSchema),\r\n  },\r\n  update: {\r\n    input: z.object({\r\n      projectPath: z.string().optional(),\r\n      secrets: z.array(SecretSchema),\r\n    }),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n};\r\n\r\n// Re-export Coder schemas from dedicated file\r\nexport {\r\n  coder,\r\n  CoderInfoSchema,\r\n  CoderPresetSchema,\r\n  CoderTemplateSchema,\r\n  CoderWorkspaceConfigSchema,\r\n  CoderWorkspaceSchema,\r\n  CoderWorkspaceStatusSchema,\r\n} from \"./coder\";\r\n\r\n// Workspace\r\nconst DebugLlmRequestSnapshotSchema = z\r\n  .object({\r\n    capturedAt: z.number(),\r\n    workspaceId: z.string(),\r\n    messageId: z.string().optional(),\r\n    model: z.string(),\r\n    providerName: z.string(),\r\n    thinkingLevel: z.string(),\r\n    mode: z.string().optional(),\r\n    agentId: z.string().optional(),\r\n    maxOutputTokens: z.number().optional(),\r\n    systemMessage: z.string(),\r\n    messages: z.array(z.unknown()),\r\n    response: z\r\n      .object({\r\n        capturedAt: z.number(),\r\n        metadata: StreamEndEventSchema.shape.metadata,\r\n        parts: z.array(CompletedMessagePartSchema),\r\n      })\r\n      .strict()\r\n      .optional(),\r\n  })\r\n  .strict();\r\n\r\nexport const workspace = {\r\n  list: {\r\n    input: z\r\n      .object({\r\n        /** When true, only return archived workspaces. Default returns only non-archived. */\r\n        archived: z.boolean().optional(),\r\n      })\r\n      .optional(),\r\n    output: z.array(FrontendWorkspaceMetadataSchema),\r\n  },\r\n  create: {\r\n    input: z.object({\r\n      projectPath: z.string(),\r\n      branchName: z.string(),\r\n      /** Trunk branch to fork from - only required for worktree/SSH runtimes, ignored for local */\r\n      trunkBranch: z.string().optional(),\r\n      /** Human-readable title (e.g., \"Fix plan mode over SSH\") - optional for backwards compat */\r\n      title: z.string().optional(),\r\n      runtimeConfig: RuntimeConfigSchema.optional(),\r\n      /** Section ID to assign the new workspace to (optional) */\r\n      sectionId: z.string().optional(),\r\n    }),\r\n    output: z.discriminatedUnion(\"success\", [\r\n      z.object({ success: z.literal(true), metadata: FrontendWorkspaceMetadataSchema }),\r\n      z.object({ success: z.literal(false), error: z.string() }),\r\n    ]),\r\n  },\r\n  remove: {\r\n    input: z.object({\r\n      workspaceId: z.string(),\r\n      options: z.object({ force: z.boolean().optional() }).optional(),\r\n    }),\r\n    output: z.object({ success: z.boolean(), error: z.string().optional() }),\r\n  },\r\n  rename: {\r\n    input: z.object({ workspaceId: z.string(), newName: z.string() }),\r\n    output: ResultSchema(z.object({ newWorkspaceId: z.string() }), z.string()),\r\n  },\r\n  updateTitle: {\r\n    input: z.object({ workspaceId: z.string(), title: z.string() }),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  updateAgentAISettings: {\r\n    input: z.object({\r\n      workspaceId: z.string(),\r\n      agentId: AgentIdSchema,\r\n      aiSettings: WorkspaceAISettingsSchema,\r\n    }),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  updateModeAISettings: {\r\n    input: z.object({\r\n      workspaceId: z.string(),\r\n      mode: UIModeSchema,\r\n      aiSettings: WorkspaceAISettingsSchema,\r\n    }),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  archive: {\r\n    input: z.object({ workspaceId: z.string() }),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  unarchive: {\r\n    input: z.object({ workspaceId: z.string() }),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  archiveMergedInProject: {\r\n    input: z.object({ projectPath: z.string() }),\r\n    output: ResultSchema(\r\n      z.object({\r\n        archivedWorkspaceIds: z.array(z.string()),\r\n        skippedWorkspaceIds: z.array(z.string()),\r\n        errors: z.array(\r\n          z.object({\r\n            workspaceId: z.string(),\r\n            error: z.string(),\r\n          })\r\n        ),\r\n      }),\r\n      z.string()\r\n    ),\r\n  },\r\n  fork: {\r\n    input: z.object({ sourceWorkspaceId: z.string(), newName: z.string() }),\r\n    output: z.discriminatedUnion(\"success\", [\r\n      z.object({\r\n        success: z.literal(true),\r\n        metadata: FrontendWorkspaceMetadataSchema,\r\n        projectPath: z.string(),\r\n      }),\r\n      z.object({ success: z.literal(false), error: z.string() }),\r\n    ]),\r\n  },\r\n  sendMessage: {\r\n    input: z.object({\r\n      workspaceId: z.string(),\r\n      message: z.string(),\r\n      options: SendMessageOptionsSchema.extend({\r\n        fileParts: z.array(FilePartSchema).optional(),\r\n      }),\r\n    }),\r\n    output: ResultSchema(z.object({}), SendMessageErrorSchema),\r\n  },\r\n  answerAskUserQuestion: {\r\n    input: z\r\n      .object({\r\n        workspaceId: z.string(),\r\n        toolCallId: z.string(),\r\n        answers: z.record(z.string(), z.string()),\r\n      })\r\n      .strict(),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  resumeStream: {\r\n    input: z.object({\r\n      workspaceId: z.string(),\r\n      options: SendMessageOptionsSchema,\r\n    }),\r\n    output: ResultSchema(z.void(), SendMessageErrorSchema),\r\n  },\r\n  interruptStream: {\r\n    input: z.object({\r\n      workspaceId: z.string(),\r\n      options: z\r\n        .object({\r\n          soft: z.boolean().optional(),\r\n          abandonPartial: z.boolean().optional(),\r\n          sendQueuedImmediately: z.boolean().optional(),\r\n        })\r\n        .optional(),\r\n    }),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  clearQueue: {\r\n    input: z.object({ workspaceId: z.string() }),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  truncateHistory: {\r\n    input: z.object({\r\n      workspaceId: z.string(),\r\n      percentage: z.number().optional(),\r\n    }),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  replaceChatHistory: {\r\n    input: z.object({\r\n      workspaceId: z.string(),\r\n      summaryMessage: MuxMessageSchema,\r\n      /**\r\n       * Replace strategy.\r\n       * - destructive (default): clear history, then append summary\r\n       * - append-compaction-boundary: keep history and append summary as durable boundary\r\n       */\r\n      mode: z.enum([\"destructive\", \"append-compaction-boundary\"]).nullish(),\r\n      /** When true, delete the plan file (new + legacy paths) and clear plan tracking state. */\r\n      deletePlanFile: z.boolean().optional(),\r\n    }),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  getDevcontainerInfo: {\r\n    input: z.object({ workspaceId: z.string() }),\r\n    output: z\r\n      .object({\r\n        containerName: z.string(),\r\n        containerWorkspacePath: z.string(),\r\n        hostWorkspacePath: z.string(),\r\n      })\r\n      .nullable(),\r\n  },\r\n  getInfo: {\r\n    input: z.object({ workspaceId: z.string() }),\r\n    output: FrontendWorkspaceMetadataSchema.nullable(),\r\n  },\r\n  getLastLlmRequest: {\r\n    input: z.object({ workspaceId: z.string() }),\r\n    output: ResultSchema(DebugLlmRequestSnapshotSchema.nullable(), z.string()),\r\n  },\r\n  getFullReplay: {\r\n    input: z.object({ workspaceId: z.string() }),\r\n    output: z.array(WorkspaceChatMessageSchema),\r\n  },\r\n  /**\r\n   * Load an archived subagent transcript (chat.jsonl + optional partial.json) from this workspace's\r\n   * session dir.\r\n   */\r\n  getSubagentTranscript: {\r\n    input: z.object({\r\n      /** Workspace that owns the transcript artifact index (usually the current workspace). */\r\n      workspaceId: z.string().optional(),\r\n      /** Child task/workspace id whose transcript should be loaded. */\r\n      taskId: z.string(),\r\n    }),\r\n    output: z.object({\r\n      messages: z.array(MuxMessageSchema),\r\n      /** Task-level model string used when running the sub-agent (optional for legacy entries). */\r\n      model: z.string().optional(),\r\n      /** Task-level thinking/reasoning level used when running the sub-agent (optional for legacy entries). */\r\n      thinkingLevel: z.enum([\"off\", \"low\", \"medium\", \"high\", \"xhigh\", \"max\"]).optional(),\r\n    }),\r\n  },\r\n  executeBash: {\r\n    input: z.object({\r\n      workspaceId: z.string(),\r\n      script: z.string(),\r\n      options: z\r\n        .object({\r\n          timeout_secs: z.number().optional(),\r\n        })\r\n        .optional(),\r\n    }),\r\n    output: ResultSchema(BashToolResultSchema, z.string()),\r\n  },\r\n  getFileCompletions: {\r\n    input: z\r\n      .object({\r\n        workspaceId: z.string(),\r\n        query: z.string(),\r\n        limit: z.number().int().positive().max(50).optional(),\r\n      })\r\n      .strict(),\r\n    output: z.object({ paths: z.array(z.string()) }),\r\n  },\r\n  // Subscriptions\r\n  onChat: {\r\n    input: z.object({ workspaceId: z.string() }),\r\n    output: eventIterator(WorkspaceChatMessageSchema), // Stream event\r\n  },\r\n  onMetadata: {\r\n    input: z.void(),\r\n    output: eventIterator(\r\n      z.object({\r\n        workspaceId: z.string(),\r\n        metadata: FrontendWorkspaceMetadataSchema.nullable(),\r\n      })\r\n    ),\r\n  },\r\n  activity: {\r\n    list: {\r\n      input: z.void(),\r\n      output: z.record(z.string(), WorkspaceActivitySnapshotSchema),\r\n    },\r\n    subscribe: {\r\n      input: z.void(),\r\n      output: eventIterator(\r\n        z.object({\r\n          workspaceId: z.string(),\r\n          activity: WorkspaceActivitySnapshotSchema.nullable(),\r\n        })\r\n      ),\r\n    },\r\n  },\r\n  /**\r\n   * Get the current plan file content for a workspace.\r\n   * Used by UI to refresh plan display when file is edited externally.\r\n   */\r\n  getPlanContent: {\r\n    input: z.object({ workspaceId: z.string() }),\r\n    output: ResultSchema(\r\n      z.object({\r\n        content: z.string(),\r\n        path: z.string(),\r\n      }),\r\n      z.string()\r\n    ),\r\n  },\r\n  backgroundBashes: {\r\n    /**\r\n     * Subscribe to background bash state changes for a workspace.\r\n     * Emits full state on connect, then incremental updates.\r\n     */\r\n    subscribe: {\r\n      input: z.object({ workspaceId: z.string() }),\r\n      output: eventIterator(\r\n        z.object({\r\n          /** Background processes (not including foreground ones being waited on) */\r\n          processes: z.array(BackgroundProcessInfoSchema),\r\n          /** Tool call IDs of foreground bashes that can be sent to background */\r\n          foregroundToolCallIds: z.array(z.string()),\r\n        })\r\n      ),\r\n    },\r\n    terminate: {\r\n      input: z.object({ workspaceId: z.string(), processId: z.string() }),\r\n      output: ResultSchema(z.void(), z.string()),\r\n    },\r\n    /**\r\n     * Send a foreground bash process to background.\r\n     * The process continues running but the agent stops waiting for it.\r\n     */\r\n    sendToBackground: {\r\n      input: z.object({ workspaceId: z.string(), toolCallId: z.string() }),\r\n      output: ResultSchema(z.void(), z.string()),\r\n    },\r\n    /**\r\n     * Peek output for a background bash process without consuming the bash_output cursor.\r\n     */\r\n    getOutput: {\r\n      input: z.object({\r\n        workspaceId: z.string(),\r\n        processId: z.string(),\r\n        fromOffset: z.number().int().nonnegative().optional(),\r\n        tailBytes: z.number().int().positive().max(1_000_000).optional(),\r\n      }),\r\n      output: ResultSchema(\r\n        z.object({\r\n          status: z.enum([\"running\", \"exited\", \"killed\", \"failed\"]),\r\n          output: z.string(),\r\n          nextOffset: z.number().int().nonnegative(),\r\n          truncatedStart: z.boolean(),\r\n        }),\r\n        z.string()\r\n      ),\r\n    },\r\n  },\r\n  /**\r\n   * Get post-compaction context state for a workspace.\r\n   * Returns plan path (if exists) and tracked file paths that will be injected.\r\n   */\r\n  getPostCompactionState: {\r\n    input: z.object({ workspaceId: z.string() }),\r\n    output: z.object({\r\n      planPath: z.string().nullable(),\r\n      trackedFilePaths: z.array(z.string()),\r\n      excludedItems: z.array(z.string()),\r\n    }),\r\n  },\r\n  /**\r\n   * Toggle whether a post-compaction item is excluded from injection.\r\n   * Item IDs: \"plan\" for plan file, \"file:<path>\" for tracked files.\r\n   */\r\n  setPostCompactionExclusion: {\r\n    input: z.object({\r\n      workspaceId: z.string(),\r\n      itemId: z.string(),\r\n      excluded: z.boolean(),\r\n    }),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  stats: {\r\n    subscribe: {\r\n      input: z.object({ workspaceId: z.string() }),\r\n      output: eventIterator(WorkspaceStatsSnapshotSchema),\r\n    },\r\n    clear: {\r\n      input: z.object({ workspaceId: z.string() }),\r\n      output: ResultSchema(z.void(), z.string()),\r\n    },\r\n  },\r\n  getSessionUsage: {\r\n    input: z.object({ workspaceId: z.string() }),\r\n    output: SessionUsageFileSchema.optional(),\r\n  },\r\n  /** Batch fetch session usage for multiple workspaces (for archived workspaces cost display) */\r\n  getSessionUsageBatch: {\r\n    input: z.object({ workspaceIds: z.array(z.string()) }),\r\n    output: z.record(z.string(), SessionUsageFileSchema.optional()),\r\n  },\r\n  /** Per-workspace MCP configuration (overrides project-level mcp.jsonc) */\r\n  mcp: {\r\n    get: {\r\n      input: z.object({ workspaceId: z.string() }),\r\n      output: WorkspaceMCPOverridesSchema,\r\n    },\r\n    set: {\r\n      input: z.object({\r\n        workspaceId: z.string(),\r\n        overrides: WorkspaceMCPOverridesSchema,\r\n      }),\r\n      output: ResultSchema(z.void(), z.string()),\r\n    },\r\n  },\r\n};\r\n\r\nexport type WorkspaceSendMessageOutput = z.infer<typeof workspace.sendMessage.output>;\r\n\r\n// Tasks (agent sub-workspaces)\r\nexport const tasks = {\r\n  create: {\r\n    input: z\r\n      .object({\r\n        parentWorkspaceId: z.string(),\r\n        kind: z.literal(\"agent\"),\r\n        agentId: AgentIdSchema.optional(),\r\n        /** @deprecated Legacy alias for agentId (kept for downgrade compatibility). */\r\n        agentType: z.string().min(1).optional(),\r\n        prompt: z.string(),\r\n        title: z.string().min(1),\r\n        modelString: z.string().optional(),\r\n        thinkingLevel: z.string().optional(),\r\n      })\r\n      .superRefine((value, ctx) => {\r\n        const hasAgentId = typeof value.agentId === \"string\" && value.agentId.trim().length > 0;\r\n        const hasAgentType =\r\n          typeof value.agentType === \"string\" && value.agentType.trim().length > 0;\r\n\r\n        if (hasAgentId === hasAgentType) {\r\n          ctx.addIssue({\r\n            code: z.ZodIssueCode.custom,\r\n            message: \"tasks.create: exactly one of agentId or agentType is required\",\r\n            path: [\"agentId\"],\r\n          });\r\n        }\r\n      }),\r\n    output: ResultSchema(\r\n      z.object({\r\n        taskId: z.string(),\r\n        kind: z.literal(\"agent\"),\r\n        status: z.enum([\"queued\", \"running\"]),\r\n      }),\r\n      z.string()\r\n    ),\r\n  },\r\n};\r\n\r\n// Agent definitions (unifies UI modes + subagents)\r\n// Agents can be discovered from either the PROJECT path or the WORKSPACE path.\r\n// - Project path: <projectPath>/.mux/agents - shared across all workspaces\r\n// - Workspace path: <worktree>/.mux/agents - workspace-specific (useful for iterating)\r\n// Default is workspace path when workspaceId is provided.\r\n// Use disableWorkspaceAgents in SendMessageOptions to skip workspace agents during message sending.\r\n\r\n// At least one of projectPath or workspaceId must be provided for agent discovery.\r\n// Agent discovery input supports:\r\n// - workspaceId only: resolve projectPath from workspace metadata, discover from worktree\r\n// - projectPath only: discover from project path (project page, no workspace yet)\r\n// - both: discover from worktree using workspaceId\r\n// - disableWorkspaceAgents: when true with workspaceId, use workspace's runtime but discover\r\n//   from projectPath instead of worktree (useful for SSH workspaces when iterating on agents)\r\nconst AgentDiscoveryInputSchema = z\r\n  .object({\r\n    projectPath: z.string().optional(),\r\n    workspaceId: z.string().optional(),\r\n    /** When true, skip workspace worktree and discover from projectPath (but still use workspace runtime) */\r\n    disableWorkspaceAgents: z.boolean().optional(),\r\n    /** When true, include agents disabled by front-matter (for Settings UI). */\r\n    includeDisabled: z.boolean().optional(),\r\n  })\r\n  .refine((data) => Boolean(data.projectPath ?? data.workspaceId), {\r\n    message: \"Either projectPath or workspaceId must be provided\",\r\n  });\r\n\r\nexport const agents = {\r\n  list: {\r\n    input: AgentDiscoveryInputSchema,\r\n    output: z.array(AgentDefinitionDescriptorSchema),\r\n  },\r\n  get: {\r\n    input: AgentDiscoveryInputSchema.and(z.object({ agentId: AgentIdSchema })),\r\n    output: AgentDefinitionPackageSchema,\r\n  },\r\n};\r\n\r\n// Agent skills\r\nexport const agentSkills = {\r\n  list: {\r\n    input: AgentDiscoveryInputSchema,\r\n    output: z.array(AgentSkillDescriptorSchema),\r\n  },\r\n  listDiagnostics: {\r\n    input: AgentDiscoveryInputSchema,\r\n    output: z.object({\r\n      skills: z.array(AgentSkillDescriptorSchema),\r\n      invalidSkills: z.array(AgentSkillIssueSchema),\r\n    }),\r\n  },\r\n  get: {\r\n    input: AgentDiscoveryInputSchema.and(z.object({ skillName: SkillNameSchema })),\r\n    output: AgentSkillPackageSchema,\r\n  },\r\n};\r\n\r\n// Name generation for new workspaces (decoupled from workspace creation)\r\nexport const nameGeneration = {\r\n  generate: {\r\n    input: z.object({\r\n      message: z.string(),\r\n      /** Ordered list of model candidates to try (frontend applies gateway prefs) */\r\n      candidates: z.array(z.string()),\r\n    }),\r\n    output: ResultSchema(\r\n      z.object({\r\n        /** Short git-safe name with suffix (e.g., \"plan-a1b2\") */\r\n        name: z.string(),\r\n        /** Human-readable title (e.g., \"Fix plan mode over SSH\") */\r\n        title: z.string(),\r\n        modelUsed: z.string(),\r\n      }),\r\n      SendMessageErrorSchema\r\n    ),\r\n  },\r\n};\r\n\r\n// Window\r\nexport const window = {\r\n  setTitle: {\r\n    input: z.object({ title: z.string() }),\r\n    output: z.void(),\r\n  },\r\n};\r\n\r\n// Terminal\r\nexport const terminal = {\r\n  create: {\r\n    input: TerminalCreateParamsSchema,\r\n    output: TerminalSessionSchema,\r\n  },\r\n  close: {\r\n    input: z.object({ sessionId: z.string() }),\r\n    output: z.void(),\r\n  },\r\n  resize: {\r\n    input: TerminalResizeParamsSchema,\r\n    output: z.void(),\r\n  },\r\n  sendInput: {\r\n    input: z.object({ sessionId: z.string(), data: z.string() }),\r\n    output: z.void(),\r\n  },\r\n  onOutput: {\r\n    input: z.object({ sessionId: z.string() }),\r\n    output: eventIterator(z.string()),\r\n  },\r\n  /**\r\n   * Attach to a terminal session with race-free state restore.\r\n   * First yields { type: \"screenState\", data: string } with serialized screen (~4KB),\r\n   * then yields { type: \"output\", data: string } for each live output chunk.\r\n   * Guarantees no missed output between state snapshot and live stream.\r\n   */\r\n  attach: {\r\n    input: z.object({ sessionId: z.string() }),\r\n    output: eventIterator(\r\n      z.discriminatedUnion(\"type\", [\r\n        z.object({ type: z.literal(\"screenState\"), data: z.string() }),\r\n        z.object({ type: z.literal(\"output\"), data: z.string() }),\r\n      ])\r\n    ),\r\n  },\r\n\r\n  onExit: {\r\n    input: z.object({ sessionId: z.string() }),\r\n    output: eventIterator(z.number()),\r\n  },\r\n  openWindow: {\r\n    input: z.object({\r\n      workspaceId: z.string(),\r\n      /** Optional session ID to reattach to an existing terminal session (for pop-out handoff) */\r\n      sessionId: z.string().optional(),\r\n    }),\r\n    output: z.void(),\r\n  },\r\n  closeWindow: {\r\n    input: z.object({ workspaceId: z.string() }),\r\n    output: z.void(),\r\n  },\r\n  /**\r\n   * List active terminal sessions for a workspace.\r\n   * Used by frontend to discover existing sessions to reattach to after reload.\r\n   */\r\n  listSessions: {\r\n    input: z.object({ workspaceId: z.string() }),\r\n    output: z.array(z.string()),\r\n  },\r\n  /**\r\n   * Open the native system terminal for a workspace.\r\n   * Opens the user's preferred terminal emulator (Ghostty, Terminal.app, etc.)\r\n   * with the working directory set to the workspace path.\r\n   */\r\n  openNative: {\r\n    input: z.object({ workspaceId: z.string() }),\r\n    output: z.void(),\r\n  },\r\n};\r\n\r\n// Server\r\n\r\nexport const ApiServerStatusSchema = z.object({\r\n  running: z.boolean(),\r\n  /** Base URL that is always connectable from the local machine (loopback for wildcard binds). */\r\n  baseUrl: z.string().nullable(),\r\n  /** The host/interface the server is actually bound to. */\r\n  bindHost: z.string().nullable(),\r\n  /** The port the server is listening on. */\r\n  port: z.number().int().min(0).max(65535).nullable(),\r\n  /** Additional base URLs that may be reachable from other devices (LAN/VPN). */\r\n  networkBaseUrls: z.array(z.url()),\r\n  /** Auth token required for HTTP/WS API access. */\r\n  token: z.string().nullable(),\r\n  /** Configured bind host from ~/.mux/config.json (if set). */\r\n  configuredBindHost: z.string().nullable(),\r\n  /** Configured port from ~/.mux/config.json (if set). */\r\n  configuredPort: z.number().int().min(0).max(65535).nullable(),\r\n  /** Whether the API server should serve the mux web UI at /. */\r\n  configuredServeWebUi: z.boolean(),\r\n});\r\n\r\nexport const server = {\r\n  getLaunchProject: {\r\n    input: z.void(),\r\n    output: z.string().nullable(),\r\n  },\r\n  getSshHost: {\r\n    input: z.void(),\r\n    output: z.string().nullable(),\r\n  },\r\n  setSshHost: {\r\n    input: z.object({ sshHost: z.string().nullable() }),\r\n    output: z.void(),\r\n  },\r\n  getApiServerStatus: {\r\n    input: z.void(),\r\n    output: ApiServerStatusSchema,\r\n  },\r\n  setApiServerSettings: {\r\n    input: z.object({\r\n      bindHost: z.string().nullable(),\r\n      port: z.number().int().min(0).max(65535).nullable(),\r\n      serveWebUi: z.boolean().nullable().optional(),\r\n    }),\r\n    output: ApiServerStatusSchema,\r\n  },\r\n};\r\n\r\n// Config (global settings)\r\nconst SubagentAiDefaultsEntrySchema = z\r\n  .object({\r\n    modelString: z.string().min(1).optional(),\r\n    thinkingLevel: z.enum([\"off\", \"low\", \"medium\", \"high\", \"xhigh\", \"max\"]).optional(),\r\n    enabled: z.boolean().optional(),\r\n  })\r\n  .strict();\r\n\r\nconst AgentAiDefaultsSchema = z.record(z.string().min(1), SubagentAiDefaultsEntrySchema);\r\nconst SubagentAiDefaultsSchema = z.record(z.string().min(1), SubagentAiDefaultsEntrySchema);\r\n\r\nexport const config = {\r\n  getConfig: {\r\n    input: z.void(),\r\n    output: z.object({\r\n      taskSettings: z.object({\r\n        maxParallelAgentTasks: z.number().int(),\r\n        maxTaskNestingDepth: z.number().int(),\r\n        proposePlanImplementReplacesChatHistory: z.boolean().optional(),\r\n        bashOutputCompactionMinLines: z.number().int().optional(),\r\n        bashOutputCompactionMinTotalBytes: z.number().int().optional(),\r\n        bashOutputCompactionMaxKeptLines: z.number().int().optional(),\r\n        bashOutputCompactionTimeoutMs: z.number().int().optional(),\r\n        bashOutputCompactionHeuristicFallback: z.boolean().optional(),\r\n      }),\r\n      muxGatewayEnabled: z.boolean().optional(),\r\n      muxGatewayModels: z.array(z.string()).optional(),\r\n      defaultModel: z.string().optional(),\r\n      hiddenModels: z.array(z.string()).optional(),\r\n      preferredCompactionModel: z.string().optional(),\r\n      stopCoderWorkspaceOnArchive: z.boolean(),\r\n      agentAiDefaults: AgentAiDefaultsSchema,\r\n      // Legacy fields (downgrade compatibility)\r\n      subagentAiDefaults: SubagentAiDefaultsSchema,\r\n      // Mux Governor enrollment status (safe fields only - token never exposed)\r\n      muxGovernorUrl: z.string().nullable(),\r\n      muxGovernorEnrolled: z.boolean(),\r\n    }),\r\n  },\r\n  saveConfig: {\r\n    input: z.object({\r\n      taskSettings: z.object({\r\n        maxParallelAgentTasks: z.number().int(),\r\n        maxTaskNestingDepth: z.number().int(),\r\n        proposePlanImplementReplacesChatHistory: z.boolean().optional(),\r\n        bashOutputCompactionMinLines: z.number().int().optional(),\r\n        bashOutputCompactionMinTotalBytes: z.number().int().optional(),\r\n        bashOutputCompactionMaxKeptLines: z.number().int().optional(),\r\n        bashOutputCompactionTimeoutMs: z.number().int().optional(),\r\n        bashOutputCompactionHeuristicFallback: z.boolean().optional(),\r\n      }),\r\n      agentAiDefaults: AgentAiDefaultsSchema.optional(),\r\n      // Legacy field (downgrade compatibility)\r\n      subagentAiDefaults: SubagentAiDefaultsSchema.optional(),\r\n    }),\r\n    output: z.void(),\r\n  },\r\n  updateAgentAiDefaults: {\r\n    input: z.object({\r\n      agentAiDefaults: AgentAiDefaultsSchema,\r\n    }),\r\n    output: z.void(),\r\n  },\r\n  updateMuxGatewayPrefs: {\r\n    input: z.object({\r\n      muxGatewayEnabled: z.boolean(),\r\n      muxGatewayModels: z.array(z.string()),\r\n    }),\r\n    output: z.void(),\r\n  },\r\n  updateModelPreferences: {\r\n    input: z.object({\r\n      defaultModel: z.string().optional(),\r\n      hiddenModels: z.array(z.string()).optional(),\r\n      preferredCompactionModel: z.string().optional(),\r\n    }),\r\n    output: z.void(),\r\n  },\r\n  updateCoderPrefs: {\r\n    input: z\r\n      .object({\r\n        stopCoderWorkspaceOnArchive: z.boolean(),\r\n      })\r\n      .strict(),\r\n    output: z.void(),\r\n  },\r\n  unenrollMuxGovernor: {\r\n    input: z.void(),\r\n    output: z.void(),\r\n  },\r\n};\r\n\r\n// UI Layouts (global settings)\r\nexport const uiLayouts = {\r\n  getAll: {\r\n    input: z.void(),\r\n    output: LayoutPresetsConfigSchema,\r\n  },\r\n  saveAll: {\r\n    input: z\r\n      .object({\r\n        layoutPresets: LayoutPresetsConfigSchema,\r\n      })\r\n      .strict(),\r\n    output: z.void(),\r\n  },\r\n};\r\n\r\n// Splash screens\r\nexport const splashScreens = {\r\n  getViewedSplashScreens: {\r\n    input: z.void(),\r\n    output: z.array(z.string()),\r\n  },\r\n  markSplashScreenViewed: {\r\n    input: z.object({\r\n      splashId: z.string(),\r\n    }),\r\n    output: z.void(),\r\n  },\r\n};\r\n\r\n// Update\r\nexport const update = {\r\n  check: {\r\n    input: z.void(),\r\n    output: z.void(),\r\n  },\r\n  download: {\r\n    input: z.void(),\r\n    output: z.void(),\r\n  },\r\n  install: {\r\n    input: z.void(),\r\n    output: z.void(),\r\n  },\r\n  onStatus: {\r\n    input: z.void(),\r\n    output: eventIterator(UpdateStatusSchema),\r\n  },\r\n};\r\n\r\n// Editor config schema for openWorkspaceInEditor\r\nconst EditorTypeSchema = z.enum([\"vscode\", \"cursor\", \"zed\", \"custom\"]);\r\nconst EditorConfigSchema = z.object({\r\n  editor: EditorTypeSchema,\r\n  customCommand: z.string().optional(),\r\n});\r\n\r\nconst StatsTabVariantSchema = z.enum([\"control\", \"stats\"]);\r\nconst StatsTabOverrideSchema = z.enum([\"default\", \"on\", \"off\"]);\r\nconst StatsTabStateSchema = z.object({\r\n  enabled: z.boolean(),\r\n  variant: StatsTabVariantSchema,\r\n  override: StatsTabOverrideSchema,\r\n});\r\n\r\n// Feature gates (PostHog-backed)\r\nexport const features = {\r\n  getStatsTabState: {\r\n    input: z.void(),\r\n    output: StatsTabStateSchema,\r\n  },\r\n  setStatsTabOverride: {\r\n    input: z.object({ override: StatsTabOverrideSchema }),\r\n    output: StatsTabStateSchema,\r\n  },\r\n};\r\n\r\n// General\r\nexport const general = {\r\n  listDirectory: {\r\n    input: z.object({ path: z.string() }),\r\n    output: ResultSchema(FileTreeNodeSchema),\r\n  },\r\n  /**\r\n   * Create a directory at the specified path.\r\n   * Creates parent directories recursively if they don't exist (like mkdir -p).\r\n   */\r\n  createDirectory: {\r\n    input: z.object({ path: z.string() }),\r\n    output: ResultSchema(z.object({ normalizedPath: z.string() }), z.string()),\r\n  },\r\n  ping: {\r\n    input: z.string(),\r\n    output: z.string(),\r\n  },\r\n  /**\r\n   * Test endpoint: emits numbered ticks at an interval.\r\n   * Useful for verifying streaming works over HTTP and WebSocket.\r\n   */\r\n  tick: {\r\n    input: z.object({\r\n      count: z.number().int().min(1).max(100),\r\n      intervalMs: z.number().int().min(10).max(5000),\r\n    }),\r\n    output: eventIterator(z.object({ tick: z.number(), timestamp: z.number() })),\r\n  },\r\n  /**\r\n   * Open a path in the user's configured code editor.\r\n   * For SSH workspaces with useRemoteExtension enabled, uses Remote-SSH extension.\r\n   *\r\n   * @param workspaceId - The workspace (used to determine if SSH and get remote host)\r\n   * @param targetPath - The path to open (workspace directory or specific file)\r\n   * @param editorConfig - Editor configuration from user settings\r\n   */\r\n  openInEditor: {\r\n    input: z.object({\r\n      workspaceId: z.string(),\r\n      targetPath: z.string(),\r\n      editorConfig: EditorConfigSchema,\r\n    }),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n};\r\n\r\n// Menu events (mainrenderer notifications)\r\nexport const menu = {\r\n  onOpenSettings: {\r\n    input: z.void(),\r\n    output: eventIterator(z.void()),\r\n  },\r\n};\r\n\r\n// Voice input (transcription via OpenAI Whisper)\r\nexport const voice = {\r\n  transcribe: {\r\n    input: z.object({ audioBase64: z.string() }),\r\n    output: ResultSchema(z.string(), z.string()),\r\n  },\r\n};\r\n\r\n// Debug endpoints (test-only, not for production use)\r\nexport const debug = {\r\n  /**\r\n   * Trigger an artificial stream error for testing recovery.\r\n   * Used by integration tests to simulate network errors mid-stream.\r\n   */\r\n  triggerStreamError: {\r\n    input: z.object({\r\n      workspaceId: z.string(),\r\n      errorMessage: z.string().optional(),\r\n    }),\r\n    output: z.boolean(), // true if error was triggered on an active stream\r\n  },\r\n};\r\n\r\n// --- Model Presets ---\r\n\r\nexport const PresetModelEntrySchema = z.object({\r\n  provider: z.string(),\r\n  modelId: z.string(),\r\n  metadata: CustomModelMetadataSchema.optional(),\r\n});\r\n\r\nexport const ModelPresetSchema = z.object({\r\n  id: z.string(),\r\n  name: z.string(),\r\n  description: z.string().optional(),\r\n  createdAt: z.number(),\r\n  updatedAt: z.number(),\r\n  models: z.array(PresetModelEntrySchema),\r\n});\r\n\r\nexport type ModelPresetType = z.infer<typeof ModelPresetSchema>;\r\n\r\nexport const modelPresets = {\r\n  list: {\r\n    input: z.void(),\r\n    output: z.array(ModelPresetSchema),\r\n  },\r\n  save: {\r\n    input: z.object({\r\n      name: z.string().min(1),\r\n      models: z.array(PresetModelEntrySchema),\r\n      description: z.string().optional(),\r\n    }),\r\n    output: ModelPresetSchema,\r\n  },\r\n  get: {\r\n    input: z.object({ id: z.string() }),\r\n    output: ModelPresetSchema.nullable(),\r\n  },\r\n  delete: {\r\n    input: z.object({ id: z.string() }),\r\n    output: ResultSchema(z.void(), z.string()),\r\n  },\r\n  update: {\r\n    input: z.object({\r\n      id: z.string(),\r\n      name: z.string().optional(),\r\n      description: z.string().optional(),\r\n      models: z.array(PresetModelEntrySchema).optional(),\r\n    }),\r\n    output: ResultSchema(ModelPresetSchema, z.string()),\r\n  },\r\n  export: {\r\n    input: z.object({ ids: z.array(z.string()).optional() }),\r\n    output: z.string(),\r\n  },\r\n  import: {\r\n    input: z.object({ json: z.string() }),\r\n    output: ResultSchema(z.array(ModelPresetSchema), z.string()),\r\n  },\r\n};\r\n\r\n// --- Model Health Check ---\r\n\r\nexport const CheckStatusSchema = z.enum([\"pass\", \"warn\", \"fail\", \"skip\"]);\r\nexport const OverallStatusSchema = z.enum([\"healthy\", \"warning\", \"error\"]);\r\n\r\nexport const CheckResultSchema = z.object({\r\n  status: CheckStatusSchema,\r\n  message: z.string(),\r\n  details: z.string().optional(),\r\n});\r\n\r\nexport const HealthCheckResultSchema = z.object({\r\n  modelId: z.string(),\r\n  provider: z.string(),\r\n  timestamp: z.number(),\r\n  status: OverallStatusSchema,\r\n  checks: z.object({\r\n    authentication: CheckResultSchema,\r\n    modelExists: CheckResultSchema,\r\n    tokenLimits: CheckResultSchema,\r\n    pricing: CheckResultSchema,\r\n    connectivity: CheckResultSchema,\r\n  }),\r\n});\r\n\r\nexport type HealthCheckResultType = z.infer<typeof HealthCheckResultSchema>;\r\n\r\nexport const modelHealth = {\r\n  checkModel: {\r\n    input: z.object({\r\n      provider: z.string(),\r\n      modelId: z.string(),\r\n      metadata: CustomModelMetadataSchema.optional(),\r\n    }),\r\n    output: HealthCheckResultSchema,\r\n  },\r\n  checkAll: {\r\n    input: z.object({\r\n      models: z.array(\r\n        z.object({\r\n          provider: z.string(),\r\n          modelId: z.string(),\r\n          metadata: CustomModelMetadataSchema.optional(),\r\n        }),\r\n      ),\r\n    }),\r\n    output: z.array(HealthCheckResultSchema),\r\n  },\r\n  getLastResults: {\r\n    input: z.void(),\r\n    output: z.array(HealthCheckResultSchema),\r\n  },\r\n};\r\n\r\n// ---------------------------------------------------------------------------\r\n// Cost Tracking\r\n// ---------------------------------------------------------------------------\r\n\r\nexport const CostEntrySchema = z.object({\r\n  timestamp: z.number(),\r\n  workspaceId: z.string(),\r\n  model: z.string(),\r\n  inputTokens: z.number(),\r\n  outputTokens: z.number(),\r\n  cachedTokens: z.number(),\r\n  cacheCreateTokens: z.number(),\r\n  reasoningTokens: z.number(),\r\n  cost: z.number(),\r\n});\r\n\r\nexport type CostEntryType = z.infer<typeof CostEntrySchema>;\r\n\r\nexport const DailySummarySchema = z.object({\r\n  date: z.string(),\r\n  totalCost: z.number(),\r\n  requestCount: z.number(),\r\n  byModel: z.record(\r\n    z.string(),\r\n    z.object({ cost: z.number(), requests: z.number(), tokens: z.number() }),\r\n  ),\r\n});\r\n\r\nexport type DailySummaryType = z.infer<typeof DailySummarySchema>;\r\n\r\nexport const CostHistoryRangeSchema = z\r\n  .object({ start: z.number().optional(), end: z.number().optional() })\r\n  .optional();\r\n\r\nexport const CostSummaryTotalsSchema = z.object({\r\n  today: z.number(),\r\n  thisWeek: z.number(),\r\n  thisMonth: z.number(),\r\n  previousDay: z.number(),\r\n  previousWeek: z.number(),\r\n  previousMonth: z.number(),\r\n});\r\n\r\nexport type CostSummaryTotalsType = z.infer<typeof CostSummaryTotalsSchema>;\r\n\r\nexport const ModelCostBreakdownSchema = z.record(\r\n  z.string(),\r\n  z.object({ cost: z.number(), requests: z.number(), tokens: z.number() }),\r\n);\r\n\r\nexport const costTracking = {\r\n  getSummary: {\r\n    input: z.void(),\r\n    output: CostSummaryTotalsSchema,\r\n  },\r\n  getDailySummaries: {\r\n    input: z.object({ startDate: z.string().optional(), endDate: z.string().optional() }),\r\n    output: z.array(DailySummarySchema),\r\n  },\r\n  getModelBreakdown: {\r\n    input: CostHistoryRangeSchema,\r\n    output: ModelCostBreakdownSchema,\r\n  },\r\n  prune: {\r\n    input: z.object({ retentionDays: z.number().optional() }),\r\n    output: z.object({ pruned: z.number() }),\r\n  },\r\n};\r\n"]}