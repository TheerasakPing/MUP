{"version":3,"file":"muxGatewayOAuth.js","sourceRoot":"","sources":["../../../src/common/constants/muxGatewayOAuth.ts"],"names":[],"mappings":";;;;;AAAa,QAAA,kBAAkB,GAAG,+BAA+B,CAAC;AAErD,QAAA,qBAAqB,GAAG,YAAY,CAAC;AACrC,QAAA,yBAAyB,GAAG,YAAY,CAAC;AAEzC,QAAA,yBAAyB,GAAG,GAAG,QAAA,kBAAkB,mBAAmB,CAAC;AACrE,QAAA,wBAAwB,GAAG,GAAG,QAAA,kBAAkB,yBAAyB,CAAC;AAC1E,QAAA,mCAAmC,GAC9C,0FAA0F,CAAC;AAE7F,2BAAkC,KAA6C,EAAU;IACvF,MAAM,GAAG,GAAG,IAAI,GAAG,CAAC,QAAA,yBAAyB,CAAC,CAAC;IAC/C,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;IAC9C,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,WAAW,EAAE,QAAA,qBAAqB,CAAC,CAAC;IACzD,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,cAAc,EAAE,KAAK,CAAC,WAAW,CAAC,CAAC;IACxD,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;IAC3C,OAAO,GAAG,CAAC,QAAQ,EAAE,CAAC;AAAA,CACvB;AAED,2BAAkC,KAAuB,EAAmB;IAC1E,MAAM,IAAI,GAAG,IAAI,eAAe,EAAE,CAAC;IACnC,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,oBAAoB,CAAC,CAAC;IAC7C,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;IAC7B,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,QAAA,qBAAqB,CAAC,CAAC;IAC7C,IAAI,CAAC,GAAG,CAAC,eAAe,EAAE,QAAA,yBAAyB,CAAC,CAAC;IACrD,OAAO,IAAI,CAAC;AAAA,CACb","sourcesContent":["export const MUX_GATEWAY_ORIGIN = \"https://gateway.mux.coder.com\";\r\n\r\nexport const MUX_GATEWAY_CLIENT_ID = \"mux-client\";\r\nexport const MUX_GATEWAY_CLIENT_SECRET = \"mux-client\";\r\n\r\nexport const MUX_GATEWAY_AUTHORIZE_URL = `${MUX_GATEWAY_ORIGIN}/oauth2/authorize`;\r\nexport const MUX_GATEWAY_EXCHANGE_URL = `${MUX_GATEWAY_ORIGIN}/api/v1/oauth2/exchange`;\r\nexport const MUX_GATEWAY_SESSION_EXPIRED_MESSAGE =\r\n  \"You've been logged out of mux gateway. Please login again to continue using Mux Gateway.\";\r\n\r\nexport function buildAuthorizeUrl(input: { redirectUri: string; state: string }): string {\r\n  const url = new URL(MUX_GATEWAY_AUTHORIZE_URL);\r\n  url.searchParams.set(\"response_type\", \"code\");\r\n  url.searchParams.set(\"client_id\", MUX_GATEWAY_CLIENT_ID);\r\n  url.searchParams.set(\"redirect_uri\", input.redirectUri);\r\n  url.searchParams.set(\"state\", input.state);\r\n  return url.toString();\r\n}\r\n\r\nexport function buildExchangeBody(input: { code: string }): URLSearchParams {\r\n  const body = new URLSearchParams();\r\n  body.set(\"grant_type\", \"authorization_code\");\r\n  body.set(\"code\", input.code);\r\n  body.set(\"client_id\", MUX_GATEWAY_CLIENT_ID);\r\n  body.set(\"client_secret\", MUX_GATEWAY_CLIENT_SECRET);\r\n  return body;\r\n}\r\n"]}