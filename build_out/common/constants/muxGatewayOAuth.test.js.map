{"version":3,"file":"muxGatewayOAuth.test.js","sourceRoot":"","sources":["../../../src/common/constants/muxGatewayOAuth.test.ts"],"names":[],"mappings":";;AAAA,uCAAkD;AAClD,uDAA6F;AAE7F,IAAA,mBAAQ,EAAC,iBAAiB,EAAE,GAAG,EAAE,CAAC;IAChC,IAAA,eAAI,EAAC,4CAA4C,EAAE,GAAG,EAAE,CAAC;QACvD,MAAM,SAAS,GAAG,IAAA,mCAAiB,EAAC;YAClC,WAAW,EAAE,gCAAgC;YAC7C,KAAK,EAAE,QAAQ;SAChB,CAAC,CAAC;QAEH,MAAM,GAAG,GAAG,IAAI,GAAG,CAAC,SAAS,CAAC,CAAC;QAC/B,IAAA,iBAAM,EAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,oCAAkB,CAAC,CAAC;QAC5C,IAAA,iBAAM,EAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAC/C,IAAA,iBAAM,EAAC,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC3D,IAAA,iBAAM,EAAC,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC7D,IAAA,iBAAM,EAAC,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC;QACpF,IAAA,iBAAM,EAAC,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAAA,CACtD,CAAC,CAAC;IAEH,IAAA,eAAI,EAAC,4CAA4C,EAAE,GAAG,EAAE,CAAC;QACvD,MAAM,IAAI,GAAG,IAAA,mCAAiB,EAAC,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC,CAAC;QACrD,IAAA,iBAAM,EAAC,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAC1D,IAAA,iBAAM,EAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC1C,IAAA,iBAAM,EAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACjD,IAAA,iBAAM,EAAC,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAAA,CACtD,CAAC,CAAC;AAAA,CACJ,CAAC,CAAC","sourcesContent":["import { describe, expect, test } from \"bun:test\";\nimport { buildAuthorizeUrl, buildExchangeBody, MUX_GATEWAY_ORIGIN } from \"./muxGatewayOAuth\";\n\ndescribe(\"muxGatewayOAuth\", () => {\n  test(\"buildAuthorizeUrl includes required params\", () => {\n    const urlString = buildAuthorizeUrl({\n      redirectUri: \"http://localhost:1234/callback\",\n      state: \"abc123\",\n    });\n\n    const url = new URL(urlString);\n    expect(url.origin).toBe(MUX_GATEWAY_ORIGIN);\n    expect(url.pathname).toBe(\"/oauth2/authorize\");\n    expect(url.searchParams.get(\"response_type\")).toBe(\"code\");\n    expect(url.searchParams.get(\"client_id\")).toBe(\"mux-client\");\n    expect(url.searchParams.get(\"redirect_uri\")).toBe(\"http://localhost:1234/callback\");\n    expect(url.searchParams.get(\"state\")).toBe(\"abc123\");\n  });\n\n  test(\"buildExchangeBody includes required fields\", () => {\n    const body = buildExchangeBody({ code: \"jwt-code\" });\n    expect(body.get(\"grant_type\")).toBe(\"authorization_code\");\n    expect(body.get(\"code\")).toBe(\"jwt-code\");\n    expect(body.get(\"client_id\")).toBe(\"mux-client\");\n    expect(body.get(\"client_secret\")).toBe(\"mux-client\");\n  });\n});\n"]}