{"version":3,"file":"ui.js","sourceRoot":"","sources":["../../../src/common/constants/ui.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * UI-related constants shared across components\n */\n\n/**\n * Auto-compaction threshold bounds (percentage)\n * MIN: Allow any value - user can choose aggressive compaction if desired\n * MAX: Cap at 90% to leave buffer before hitting context limit\n */\nexport const AUTO_COMPACTION_THRESHOLD_MIN = 0;\nexport const AUTO_COMPACTION_THRESHOLD_MAX = 90;\n\n/**\n * Default auto-compaction threshold percentage (50-90 range)\n * Applied when creating new workspaces\n */\nexport const DEFAULT_AUTO_COMPACTION_THRESHOLD_PERCENT = 70;\n\n/**\n * Default threshold as decimal for calculations (0.7 = 70%)\n */\nexport const DEFAULT_AUTO_COMPACTION_THRESHOLD = DEFAULT_AUTO_COMPACTION_THRESHOLD_PERCENT / 100;\n\n/**\n * Default word target for compaction summaries\n */\nexport const DEFAULT_COMPACTION_WORD_TARGET = 2000;\n\n/**\n * Approximate ratio of tokens to words (tokens per word)\n * Used for converting between word counts and token counts\n */\nexport const WORDS_TO_TOKENS_RATIO = 1.3;\n\n/**\n * Build the compaction prompt for a given word target.\n * Shared across desktop and mobile clients.\n */\nexport function buildCompactionPrompt(targetWords: number): string {\n  return `Summarize this conversation for a new Assistant to continue helping the user.\n\nYour summary must be approximately ${targetWords} words.\n\nInclude:\n- The user's overall goal and current task\n- Key decisions made and their rationale\n- Current state of the work (what's done, what's in progress)\n- Important technical details (file paths, function names, configurations)\n- Any errors encountered and how they were resolved\n- Unresolved issues or blockers\n\nDo not include:\n- Suggestions for next steps\n- Conversational filler or pleasantries\n- Redundant information\n\nWrite in a factual, dense style. Every sentence should convey essential context.`;\n}\n\n/**\n * Force-compact this many percentage points after threshold.\n * Gives user a buffer zone between warning and force-compaction.\n * E.g., with 70% threshold, force-compact triggers at 75%.\n */\nexport const FORCE_COMPACTION_BUFFER_PERCENT = 5;\n\n/**\n * Duration (ms) to show \"copied\" feedback after copying to clipboard\n */\nexport const COPY_FEEDBACK_DURATION_MS = 2000;\n\n/**\n * Predefined color palette for project sections.\n * Each color is designed to work well with the dark theme.\n * Format: [name, hex value]\n */\nexport const SECTION_COLOR_PALETTE = [\n  [\"Gray\", \"#6b7280\"],\n  [\"Slate\", \"#64748b\"],\n  [\"Blue\", \"#5a9bd4\"],\n  [\"Cyan\", \"#22d3ee\"],\n  [\"Teal\", \"#4ab5a7\"],\n  [\"Green\", \"#4caf7c\"],\n  [\"Yellow\", \"#d9b836\"],\n  [\"Orange\", \"#e5853a\"],\n  [\"Red\", \"#e54545\"],\n  [\"Pink\", \"#d465a5\"],\n] as const;\n\nexport type SectionColorName = (typeof SECTION_COLOR_PALETTE)[number][0];\n\n/**\n * Default color for new sections (neutral gray)\n */\nexport const DEFAULT_SECTION_COLOR = SECTION_COLOR_PALETTE[0][1];\n\n/**\n * Resolve a section color string (hex value or preset name) to a canonical hex color.\n *\n * Sections persist their color to config.json as a string, which may be either:\n * - a hex color (e.g. \"#5a9bd4\")\n * - a palette name (e.g. \"Blue\")\n *\n * For consistent rendering (and for safely appending hex alpha like \"10\"), we normalize\n * to a 6-digit \"#rrggbb\" string.\n */\nexport function resolveSectionColor(color: string | null | undefined): string {\n  if (!color) {\n    return DEFAULT_SECTION_COLOR;\n  }\n\n  const trimmed = color.trim();\n  if (trimmed.length === 0) {\n    return DEFAULT_SECTION_COLOR;\n  }\n\n  const paletteMatch = SECTION_COLOR_PALETTE.find(\n    ([name]) => name.toLowerCase() === trimmed.toLowerCase()\n  );\n  if (paletteMatch) {\n    return paletteMatch[1];\n  }\n\n  const hex3Match = /^#([0-9a-fA-F]{3})$/.exec(trimmed);\n  if (hex3Match) {\n    const [r, g, b] = hex3Match[1].split(\"\");\n    return `#${r}${r}${g}${g}${b}${b}`.toLowerCase();\n  }\n\n  const hex6Match = /^#([0-9a-fA-F]{6})$/.exec(trimmed);\n  if (hex6Match) {\n    return `#${hex6Match[1]}`.toLowerCase();\n  }\n\n  // If the stored value includes an alpha channel, drop it so downstream code can\n  // safely apply its own alpha.\n  const hex8Match = /^#([0-9a-fA-F]{8})$/.exec(trimmed);\n  if (hex8Match) {\n    return `#${hex8Match[1].slice(0, 6)}`.toLowerCase();\n  }\n\n  return DEFAULT_SECTION_COLOR;\n}\n"]}