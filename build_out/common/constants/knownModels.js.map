{"version":3,"file":"knownModels.js","sourceRoot":"","sources":["../../../src/common/constants/knownModels.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Centralized model metadata. Update model versions here and everywhere else will follow.\n */\n\nimport { formatModelDisplayName } from \"../utils/ai/modelDisplay\";\n\ntype ModelProvider = \"anthropic\" | \"openai\" | \"google\" | \"xai\";\n\ninterface KnownModelDefinition {\n  /** Provider identifier used by SDK factories */\n  provider: ModelProvider;\n  /** Provider-specific model name (no provider prefix) */\n  providerModelId: string;\n  /** Aliases that should resolve to this model */\n  aliases?: string[];\n  /** Preload tokenizer encodings at startup */\n  warm?: boolean;\n  /** Optional tokenizer override for ai-tokenizer */\n  tokenizerOverride?: string;\n}\n\ninterface KnownModel extends KnownModelDefinition {\n  /** Full model id string in the format provider:model */\n  id: `${ModelProvider}:${string}`;\n}\n\n// Model definitions. Note we avoid listing legacy models here. These represent the focal models\n// of the community.\nconst MODEL_DEFINITIONS = {\n  OPUS: {\n    provider: \"anthropic\",\n    providerModelId: \"claude-opus-4-6\",\n    aliases: [\"opus\"],\n    warm: true,\n  },\n  SONNET: {\n    provider: \"anthropic\",\n    providerModelId: \"claude-sonnet-4-5\",\n    aliases: [\"sonnet\"],\n    warm: true,\n    tokenizerOverride: \"anthropic/claude-sonnet-4.5\",\n  },\n  HAIKU: {\n    provider: \"anthropic\",\n    providerModelId: \"claude-haiku-4-5\",\n    aliases: [\"haiku\"],\n    tokenizerOverride: \"anthropic/claude-3.5-haiku\",\n  },\n  GPT: {\n    provider: \"openai\",\n    providerModelId: \"gpt-5.2\",\n    aliases: [\"gpt\"],\n    warm: true,\n    tokenizerOverride: \"openai/gpt-5\",\n  },\n  GPT_PRO: {\n    provider: \"openai\",\n    providerModelId: \"gpt-5.2-pro\",\n    aliases: [\"gpt-pro\"],\n  },\n  GPT_52_CODEX: {\n    provider: \"openai\",\n    providerModelId: \"gpt-5.2-codex\",\n    aliases: [\"codex\"],\n    warm: true,\n    tokenizerOverride: \"openai/gpt-5\",\n  },\n  GPT_53_CODEX: {\n    provider: \"openai\",\n    providerModelId: \"gpt-5.3-codex\",\n    aliases: [\"codex-5.3\"],\n    warm: true,\n    tokenizerOverride: \"openai/gpt-5\",\n  },\n  GPT_CODEX: {\n    provider: \"openai\",\n    providerModelId: \"gpt-5.1-codex\",\n    aliases: [\"codex-5.1\"],\n    warm: true,\n    tokenizerOverride: \"openai/gpt-5\",\n  },\n  GPT_MINI: {\n    provider: \"openai\",\n    providerModelId: \"gpt-5.1-codex-mini\",\n    aliases: [\"codex-mini\"],\n  },\n  GPT_CODEX_MAX: {\n    provider: \"openai\",\n    providerModelId: \"gpt-5.1-codex-max\",\n    aliases: [\"codex-max\"],\n    warm: true,\n    tokenizerOverride: \"openai/gpt-5\",\n  },\n  GEMINI_3_PRO: {\n    provider: \"google\",\n    providerModelId: \"gemini-3-pro-preview\",\n    aliases: [\"gemini\", \"gemini-3\", \"gemini-3-pro\"],\n    tokenizerOverride: \"google/gemini-2.5-pro\",\n  },\n  GEMINI_3_FLASH: {\n    provider: \"google\",\n    providerModelId: \"gemini-3-flash-preview\",\n    aliases: [\"gemini-3-flash\"],\n    tokenizerOverride: \"google/gemini-2.5-pro\",\n  },\n  GROK_4_1: {\n    provider: \"xai\",\n    providerModelId: \"grok-4-1-fast\",\n    aliases: [\"grok\", \"grok-4\", \"grok-4.1\", \"grok-4-1\"],\n  },\n  GROK_CODE: {\n    provider: \"xai\",\n    providerModelId: \"grok-code-fast-1\",\n    aliases: [\"grok-code\"],\n  },\n} as const satisfies Record<string, KnownModelDefinition>;\n\nexport type KnownModelKey = keyof typeof MODEL_DEFINITIONS;\nconst MODEL_DEFINITION_ENTRIES = Object.entries(MODEL_DEFINITIONS) as Array<\n  [KnownModelKey, KnownModelDefinition]\n>;\n\nexport const KNOWN_MODELS = Object.fromEntries(\n  MODEL_DEFINITION_ENTRIES.map(([key, definition]) => toKnownModelEntry(key, definition))\n);\nfunction toKnownModelEntry<K extends KnownModelKey>(\n  key: K,\n  definition: KnownModelDefinition\n): [K, KnownModel] {\n  return [\n    key,\n    {\n      ...definition,\n      id: `${definition.provider}:${definition.providerModelId}`,\n    },\n  ];\n}\n\nexport function getKnownModel(key: KnownModelKey): KnownModel {\n  return KNOWN_MODELS[key];\n}\n\n// ------------------------------------------------------------------------------------\n// Derived collections\n// ------------------------------------------------------------------------------------\n\n/**\n * The default known model key.\n *\n * Keep this local (non-exported) to avoid confusion with storage keys.\n */\nconst DEFAULT_KNOWN_MODEL_KEY: KnownModelKey = \"OPUS\";\n\nexport const DEFAULT_MODEL = KNOWN_MODELS[DEFAULT_KNOWN_MODEL_KEY].id;\n\nexport const DEFAULT_WARM_MODELS = Object.values(KNOWN_MODELS)\n  .filter((model) => model.warm)\n  .map((model) => model.id);\n\nexport const MODEL_ABBREVIATIONS: Record<string, string> = Object.fromEntries(\n  Object.values(KNOWN_MODELS)\n    .flatMap((model) => (model.aliases ?? []).map((alias) => [alias, model.id] as const))\n    .sort(([a], [b]) => a.localeCompare(b))\n);\n\nexport const TOKENIZER_MODEL_OVERRIDES: Record<string, string> = Object.fromEntries(\n  Object.values(KNOWN_MODELS)\n    .filter((model) => Boolean(model.tokenizerOverride))\n    .map((model) => [model.id, model.tokenizerOverride!])\n);\n\n/** Tooltip-friendly abbreviation examples: show representative shortcuts */\nexport const MODEL_ABBREVIATION_EXAMPLES = ([\"opus\", \"sonnet\"] as const).map((abbrev) => ({\n  abbrev,\n  displayName: formatModelDisplayName(MODEL_ABBREVIATIONS[abbrev]?.split(\":\")[1] ?? abbrev),\n}));\n"]}