{"version":3,"file":"knownModels.js","sourceRoot":"","sources":["../../../src/common/constants/knownModels.ts"],"names":[],"mappings":"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","sourcesContent":["/**\r\n * Centralized model metadata. Update model versions here and everywhere else will follow.\r\n */\r\n\r\nimport { formatModelDisplayName } from \"../utils/ai/modelDisplay\";\r\n\r\ntype ModelProvider = \"anthropic\" | \"openai\" | \"google\" | \"xai\";\r\n\r\ninterface KnownModelDefinition {\r\n  /** Provider identifier used by SDK factories */\r\n  provider: ModelProvider;\r\n  /** Provider-specific model name (no provider prefix) */\r\n  providerModelId: string;\r\n  /** Aliases that should resolve to this model */\r\n  aliases?: string[];\r\n  /** Preload tokenizer encodings at startup */\r\n  warm?: boolean;\r\n  /** Optional tokenizer override for ai-tokenizer */\r\n  tokenizerOverride?: string;\r\n}\r\n\r\ninterface KnownModel extends KnownModelDefinition {\r\n  /** Full model id string in the format provider:model */\r\n  id: `${ModelProvider}:${string}`;\r\n}\r\n\r\n// Model definitions. Note we avoid listing legacy models here. These represent the focal models\r\n// of the community.\r\nconst MODEL_DEFINITIONS = {\r\n  OPUS: {\r\n    provider: \"anthropic\",\r\n    providerModelId: \"claude-opus-4-6\",\r\n    aliases: [\"opus\"],\r\n    warm: true,\r\n  },\r\n  SONNET: {\r\n    provider: \"anthropic\",\r\n    providerModelId: \"claude-sonnet-4-5\",\r\n    aliases: [\"sonnet\"],\r\n    warm: true,\r\n    tokenizerOverride: \"anthropic/claude-sonnet-4.5\",\r\n  },\r\n  HAIKU: {\r\n    provider: \"anthropic\",\r\n    providerModelId: \"claude-haiku-4-5\",\r\n    aliases: [\"haiku\"],\r\n    tokenizerOverride: \"anthropic/claude-3.5-haiku\",\r\n  },\r\n  GPT: {\r\n    provider: \"openai\",\r\n    providerModelId: \"gpt-5.2\",\r\n    aliases: [\"gpt\"],\r\n    warm: true,\r\n    tokenizerOverride: \"openai/gpt-5\",\r\n  },\r\n  GPT_PRO: {\r\n    provider: \"openai\",\r\n    providerModelId: \"gpt-5.2-pro\",\r\n    aliases: [\"gpt-pro\"],\r\n  },\r\n  GPT_52_CODEX: {\r\n    provider: \"openai\",\r\n    providerModelId: \"gpt-5.2-codex\",\r\n    aliases: [\"codex\"],\r\n    warm: true,\r\n    tokenizerOverride: \"openai/gpt-5\",\r\n  },\r\n  GPT_53_CODEX: {\r\n    provider: \"openai\",\r\n    providerModelId: \"gpt-5.3-codex\",\r\n    aliases: [\"codex-5.3\"],\r\n    warm: true,\r\n    tokenizerOverride: \"openai/gpt-5\",\r\n  },\r\n  GPT_CODEX: {\r\n    provider: \"openai\",\r\n    providerModelId: \"gpt-5.1-codex\",\r\n    aliases: [\"codex-5.1\"],\r\n    warm: true,\r\n    tokenizerOverride: \"openai/gpt-5\",\r\n  },\r\n  GPT_MINI: {\r\n    provider: \"openai\",\r\n    providerModelId: \"gpt-5.1-codex-mini\",\r\n    aliases: [\"codex-mini\"],\r\n  },\r\n  GPT_CODEX_MAX: {\r\n    provider: \"openai\",\r\n    providerModelId: \"gpt-5.1-codex-max\",\r\n    aliases: [\"codex-max\"],\r\n    warm: true,\r\n    tokenizerOverride: \"openai/gpt-5\",\r\n  },\r\n  GEMINI_3_PRO: {\r\n    provider: \"google\",\r\n    providerModelId: \"gemini-3-pro-preview\",\r\n    aliases: [\"gemini\", \"gemini-3\", \"gemini-3-pro\"],\r\n    tokenizerOverride: \"google/gemini-2.5-pro\",\r\n  },\r\n  GEMINI_3_FLASH: {\r\n    provider: \"google\",\r\n    providerModelId: \"gemini-3-flash-preview\",\r\n    aliases: [\"gemini-3-flash\"],\r\n    tokenizerOverride: \"google/gemini-2.5-pro\",\r\n  },\r\n  GROK_4_1: {\r\n    provider: \"xai\",\r\n    providerModelId: \"grok-4-1-fast\",\r\n    aliases: [\"grok\", \"grok-4\", \"grok-4.1\", \"grok-4-1\"],\r\n  },\r\n  GROK_CODE: {\r\n    provider: \"xai\",\r\n    providerModelId: \"grok-code-fast-1\",\r\n    aliases: [\"grok-code\"],\r\n  },\r\n} as const satisfies Record<string, KnownModelDefinition>;\r\n\r\nexport type KnownModelKey = keyof typeof MODEL_DEFINITIONS;\r\nconst MODEL_DEFINITION_ENTRIES = Object.entries(MODEL_DEFINITIONS) as Array<\r\n  [KnownModelKey, KnownModelDefinition]\r\n>;\r\n\r\nexport const KNOWN_MODELS = Object.fromEntries(\r\n  MODEL_DEFINITION_ENTRIES.map(([key, definition]) => toKnownModelEntry(key, definition))\r\n);\r\nfunction toKnownModelEntry<K extends KnownModelKey>(\r\n  key: K,\r\n  definition: KnownModelDefinition\r\n): [K, KnownModel] {\r\n  return [\r\n    key,\r\n    {\r\n      ...definition,\r\n      id: `${definition.provider}:${definition.providerModelId}`,\r\n    },\r\n  ];\r\n}\r\n\r\nexport function getKnownModel(key: KnownModelKey): KnownModel {\r\n  return KNOWN_MODELS[key];\r\n}\r\n\r\n// ------------------------------------------------------------------------------------\r\n// Derived collections\r\n// ------------------------------------------------------------------------------------\r\n\r\n/**\r\n * The default known model key.\r\n *\r\n * Keep this local (non-exported) to avoid confusion with storage keys.\r\n */\r\nconst DEFAULT_KNOWN_MODEL_KEY: KnownModelKey = \"OPUS\";\r\n\r\nexport const DEFAULT_MODEL = KNOWN_MODELS[DEFAULT_KNOWN_MODEL_KEY].id;\r\n\r\nexport const DEFAULT_WARM_MODELS = Object.values(KNOWN_MODELS)\r\n  .filter((model) => model.warm)\r\n  .map((model) => model.id);\r\n\r\nexport const MODEL_ABBREVIATIONS: Record<string, string> = Object.fromEntries(\r\n  Object.values(KNOWN_MODELS)\r\n    .flatMap((model) => (model.aliases ?? []).map((alias) => [alias, model.id] as const))\r\n    .sort(([a], [b]) => a.localeCompare(b))\r\n);\r\n\r\nexport const TOKENIZER_MODEL_OVERRIDES: Record<string, string> = Object.fromEntries(\r\n  Object.values(KNOWN_MODELS)\r\n    .filter((model) => Boolean(model.tokenizerOverride))\r\n    .map((model) => [model.id, model.tokenizerOverride!])\r\n);\r\n\r\n/** Tooltip-friendly abbreviation examples: show representative shortcuts */\r\nexport const MODEL_ABBREVIATION_EXAMPLES = ([\"opus\", \"sonnet\"] as const).map((abbrev) => ({\r\n  abbrev,\r\n  displayName: formatModelDisplayName(MODEL_ABBREVIATIONS[abbrev]?.split(\":\")[1] ?? abbrev),\r\n}));\r\n"]}