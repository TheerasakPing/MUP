const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-C0G8_vIK.js","./TerminalRouterContext-CeKE7fio.js","./engine-compile-Clsyzg2I.js","./main-CrYcxu2d.js","./__vite-browser-external-2447137e-Cc6rXV8U.js","./__vite-browser-external-2447137e-BvVE4xw8.css","./coerce-DqyYPfRC.js","./code-block-545L3TSB-BgvrU58n.js","./github-dark-DHJKELXO.js","./github-light-DAi9KRSo.js","./dagre-6UL2VRFP-2FxNsB4t.js","./graph-ChesIUmq.js","./_baseUniq-BfzZL76d.js","./layout-CsqhZR1q.js","./_basePickBy-DcXOyUwY.js","./clone-BvApX1i5.js","./cose-bilkent-S5V4N54A-BHQJK_cx.js","./cytoscape.esm-BnkdMOzK.js","./c4Diagram-YG6GDRKO-ssYBpMK4.js","./chunk-TZMSLE5B-BcG2Ejp4.js","./flowDiagram-NV44I4VS-BFR-PNcR.js","./chunk-FMBD7UC4-D_S8-DfJ.js","./chunk-55IACEB6-CteFIac4.js","./chunk-QN33PNHL-DMzrwd_1.js","./channel-D6HQd0s8.js","./erDiagram-Q2GNP2WA-C0GVGAqS.js","./gitGraphDiagram-NY62KEGX-CazWVVgb.js","./chunk-4BX2VUAB-CMXbKgfI.js","./chunk-QZHKN3VN-l7KT84AJ.js","./treemap-KMMF4GRG-CBbwuGfn.js","./ganttDiagram-JELNMOA3-Cg0NLSeu.js","./linear-pEwbecgX.js","./init-Gi6I4Gst.js","./defaultLocale-C4B-KCzX.js","./infoDiagram-WHAUD3N6-DeSHYwGm.js","./pieDiagram-ADFJNKIX-CeUm0nSx.js","./arc-B98crhUD.js","./ordinal-Cboi1Yqb.js","./quadrantDiagram-AYHSOK5B-CWZQcGM-.js","./xychartDiagram-PRI3JC2R-BZJ9R7ha.js","./requirementDiagram-UZGBJVZJ-B1EuPkYW.js","./sequenceDiagram-WL72ISMW-Da2jCwp3.js","./classDiagram-2ON5EDUG-BFiAKCQz.js","./chunk-B4BG7PRW-D9sXSJ0O.js","./classDiagram-v2-WZHVMYZB-BFiAKCQz.js","./stateDiagram-FKZM4ZOC-D1s_uiUQ.js","./chunk-DI55MBZ5--D4t3y17.js","./stateDiagram-v2-4FDKWEC3-lqt8BF-h.js","./journeyDiagram-XKPGCS4Q-CszhZTb_.js","./timeline-definition-IT6M3QCI-DH4Tm_KG.js","./mindmap-definition-VGOIOE7T-BGZBAdAL.js","./kanban-definition-3W4ZIXB7-CpSUkTBh.js","./sankeyDiagram-TZEHDZUN-D6kg28_1.js","./diagram-S2PKOQOG-DYSs6v2E.js","./diagram-QEK2KX5R-DnUuaq_s.js","./blockDiagram-VD42YOAC-Cg5N2K1l.js","./architectureDiagram-VXUJARFQ-D645mn7D.js","./diagram-PSM6KHXK-J52EBUBb.js"])))=>i.map(i=>d[i]);
import{c as ht,r as b,d as ae,b as Tt,Z as N_,a1 as gs,aj as px,u as Kt,ae as sA,j as l,g as Ru,ak as Ys,al as Fa,am as Ni,an as dl,ao as Rr,ap as $_,aq as Mu,ar as fx,as as gx,at as Qs,au as lo,av as kn,F as ce,aw as sa,ax as ia,ay as Sa,az as oa,aA as ml,aB as iA,aC as oA,aD as lA,aE as Li,B as tt,S as xe,aF as cA,aG as uA,aH as dA,aI as mA,aJ as A_,aK as VX,aL as KX,aM as ir,aN as hA,z as _n,aO as h1,e as rn,aP as pA,E as Pp,a9 as mm,G as YX,f as _i,C as Rn,aQ as ki,aR as I_,a2 as lu,a3 as fA,a4 as tl,ad as Nf,a6 as gA,J as p1,a0 as XX,K as bx,a7 as bA,a5 as xA,aS as ZX,aT as f3,P as xx,_ as Vn,aU as QX,aV as JX,aW as eZ,aX as tZ,aY as nZ,aZ as rZ,a_ as aZ,a$ as sZ,b0 as iZ,b1 as oZ,b2 as yx,b3 as R_,b4 as wx,b5 as lZ,b6 as f1,b7 as cZ,b8 as uZ,V as Fm,b9 as yA,ba as dZ,bb as M_,i as Ad,X as mZ,bc as wA,bd as fj,aa as Fp,ab as g3,be as vA,bf as kA,bg as D_,I as vx,bh as L_,bi as kx,bj as hZ,bk as _A,bl as pZ,bm as fZ,bn as O_,bo as P_,bp as F_,bq as hl,br as gZ,bs as bZ,bt as xZ,bu as yZ,bv as wZ,bw as vZ,bx as kZ,by as gj,ag as up,ah as _Z,N as b3,Q as CZ,bz as B_,bA as SZ,af as jZ}from"./TerminalRouterContext-CeKE7fio.js";import{W as Js,x as Vl,y as _x,z as bj,o as Nt,s as Ge,b as ei,A as $f,B as TZ,C as Hn,a as Yr,D as EZ,S as Bp,E as Uc,F as NZ,G as CA,H as $Z,I as x3,J as AZ,K as SA,L as Cx,M as z_,N as pl,O as IZ,P as RZ,Q as Sx,R as Af,T as Mr,U as Du,V as cu,X as mt,Y as jA,a0 as qo,a1 as TA,a2 as MZ,a3 as DZ,a4 as H_,a5 as Bm,a6 as Lu,a7 as zd,a8 as $i,a9 as EA,aa as jx,ab as Oi,ac as LZ,ad as NA,ae as zm,af as OZ,ag as q_,ah as hm,ai as pm,aj as Tx,ak as g1,al as zp,am as PZ,an as Ou,ao as Kl,ap as xj,aq as E0,ar as FZ,as as BZ,at as zZ,au as Uo,av as Yl,aw as cc,ax as HZ,ay as qZ,az as UZ,aA as WZ,aB as If,aC as GZ,aD as Pu,aE as Fu,aF as VZ,aG as Ex,aH as KZ,aI as Fc,aJ as YZ,aK as XZ,aL as ZZ,aM as wd,aN as $A,aO as QZ,aP as JZ,aQ as eQ,aR as tQ,aS as nQ,aT as rQ,aU as Nx,aV as Rf,aW as U_,aX as AA,aY as aQ,aZ as sQ,a_ as IA,a$ as fm,r as W_,_ as fl,u as Ps,b0 as G_,b1 as RA,l as Bn,d as V_,n as Jn,b2 as iQ,b3 as yj,b4 as oQ,b5 as lQ,b6 as cQ,b7 as uQ,b8 as dQ,b9 as mQ,ba as hQ,bb as MA,bc as pQ,bd as DA,be as fQ,bf as vd,bg as LA,bh as OA,bi as b1,bj as gm,bk as wj,bl as Hd,bm as PA,bn as FA,bo as Hp,bp as gQ,bq as bQ,br as BA,bs as nu,bt as xQ,bu as yQ,bv as zA,bw as qp,bx as Id,by as wQ,bz as ru,bA as L2,bB as HA,bC as Up,bD as vQ,bE as kQ,bF as Yt,bG as _Q,bH as uc,bI as qd,bJ as CQ,bK as vj,bL as SQ,bM as jQ,bN as $x,bO as TQ,bP as O2,bQ as K_,bR as EQ,bS as NQ,bT as $Q,bU as AQ,bV as IQ,bW as RQ,bX as MQ,bY as qA,bZ as UA,b_ as DQ,b$ as LQ,c0 as OQ,c1 as PQ,c2 as WA,c3 as FQ,c4 as kj,c5 as BQ,c6 as GA,c7 as zQ,c8 as HQ,c9 as qQ,ca as y3,cb as VA,cc as UQ,cd as WQ,ce as GQ,cf as w3,cg as VQ,ch as P2,ci as KQ,cj as YQ,ck as XQ,cl as ZQ}from"./main-CrYcxu2d.js";import{s as es,f as Bt,K as st,m as bn,i as KA,a as Ax,T as QQ,b as YA,c as JQ,d as XA,e as eJ,g as tJ,h as nJ,j as _j,k as ZA}from"./__vite-browser-external-2447137e-Cc6rXV8U.js";import{n as Cj}from"./coerce-DqyYPfRC.js";const rJ=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ud=ht("activity",rJ);const aJ=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],sJ=ht("arrow-down",aJ);const iJ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],QA=ht("arrow-left",iJ);const oJ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],lJ=ht("arrow-right",oJ);const cJ=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],uJ=ht("arrow-up",cJ);const dJ=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],mJ=ht("beaker",dJ);const hJ=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],JA=ht("bell",hJ);const pJ=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],eI=ht("book-open",pJ);const fJ=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],gJ=ht("bookmark",fJ);const bJ=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],x1=ht("bot",bJ);const xJ=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],yJ=ht("boxes",xJ);const wJ=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],vJ=ht("brain-circuit",wJ);const kJ=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],_J=ht("briefcase",kJ);const CJ=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],SJ=ht("bug",CJ);const jJ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Fs=ht("chevron-down",jJ);const TJ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],tI=ht("chevron-left",TJ);const EJ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],na=ht("chevron-right",EJ);const NJ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$J=ht("chevron-up",NJ);const AJ=[["path",{d:"m7 20 5-5 5 5",key:"13a0gw"}],["path",{d:"m7 4 5 5 5-5",key:"1kwcof"}]],IJ=ht("chevrons-down-up",AJ);const RJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Wp=ht("circle-alert",RJ);const MJ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Y_=ht("circle-check-big",MJ);const DJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],LJ=ht("circle-check",DJ);const OJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],X_=ht("circle-dot",OJ);const PJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],FJ=ht("circle-minus",PJ);const BJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],zJ=ht("circle-pause",BJ);const HJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Z_=ht("circle-question-mark",HJ);const qJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Wd=ht("circle-x",qJ);const UJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Q_=ht("circle",UJ);const WJ=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Gp=ht("clipboard-check",WJ);const GJ=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],VJ=ht("clipboard-list",GJ);const KJ=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],Vp=ht("clipboard",KJ);const YJ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],XJ=ht("clock",YJ);const ZJ=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],QJ=ht("code-xml",ZJ);const JJ=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],eee=ht("code",JJ);const tee=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],nee=ht("command",tee);const ree=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],nI=ht("copy",ree);const aee=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],J_=ht("cpu",aee);const see=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],iee=ht("dollar-sign",see);const oee=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ix=ht("download",oee);const lee=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],cee=ht("ellipsis",lee);const uee=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Gd=ht("eye-off",uee);const dee=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vd=ht("eye",dee);const mee=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],dc=ht("file-text",mee);const hee=[["path",{d:"M15 2h-4a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8",key:"14sh0y"}],["path",{d:"M16.706 2.706A2.4 2.4 0 0 0 15 2v5a1 1 0 0 0 1 1h5a2.4 2.4 0 0 0-.706-1.706z",key:"1970lx"}],["path",{d:"M5 7a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h8a2 2 0 0 0 1.732-1",key:"l4dndm"}]],pee=ht("files",hee);const fee=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],gee=ht("flask-conical",fee);const bee=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M2 10h20",key:"1ir3d8"}]],xee=ht("folder-closed",bee);const yee=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],y1=ht("folder-open",yee);const wee=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"m9.5 10.5 5 5",key:"ra9qjz"}],["path",{d:"m14.5 10.5-5 5",key:"l2rkpq"}]],vee=ht("folder-x",wee);const kee=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m9 13 3-3 3 3",key:"1pxg3c"}]],_ee=ht("folder-up",kee);const Cee=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],See=ht("folder",Cee);const jee=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],rI=ht("git-branch",jee);const Tee=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]],Eee=ht("git-commit-horizontal",Tee);const Nee=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["line",{x1:"6",x2:"6",y1:"9",y2:"21",key:"rroup"}]],F2=ht("git-pull-request",Nee);const $ee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],w1=ht("globe",$ee);const Aee=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],v3=ht("graduation-cap",Aee);const Iee=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],v1=ht("hourglass",Iee);const Ree=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Mf=ht("info",Ree);const Mee=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Dee=ht("key-round",Mee);const Lee=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Oee=ht("key",Lee);const Pee=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],Fee=ht("keyboard",Pee);const Bee=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Rg=ht("layers",Bee);const zee=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],e5=ht("lightbulb",zee);const Hee=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],aI=ht("link-2",Hee);const qee=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],sI=ht("link",qee);const Uee=[["path",{d:"M3 5h6",key:"1ltk0q"}],["path",{d:"M3 12h13",key:"ppymz1"}],["path",{d:"M3 19h13",key:"bpdczq"}],["path",{d:"m16 8-3-3 3-3",key:"1pjpp6"}],["path",{d:"M21 19V7a2 2 0 0 0-2-2h-6",key:"4zzq67"}]],iI=ht("list-start",Uee);const Wee=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Sj=ht("list",Wee);const Gee=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],pn=ht("loader-circle",Gee);const Vee=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],oI=ht("lock",Vee);const Kee=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Yee=ht("log-in",Kee);const Xee=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],lI=ht("menu",Xee);const Zee=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],k1=ht("message-square",Zee);const Qee=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Jee=ht("mic",Qee);const ete=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],cI=ht("moon",ete);const tte=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],uI=ht("package",tte);const nte=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],t5=ht("palette",nte);const rte=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],ate=ht("panels-top-left",rte);const ste=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],ite=ht("pause",ste);const ote=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],jj=ht("pen-line",ote);const lte=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],cte=ht("pen-tool",lte);const ute=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Rs=ht("pencil",ute);const dte=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],_1=ht("play",dte);const mte=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],hte=ht("plug",mte);const pte=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],uu=ht("plus",pte);const fte=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Xo=ht("refresh-cw",fte);const gte=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],bte=ht("rocket",gte);const xte=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],yte=ht("rotate-ccw",xte);const wte=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],dI=ht("save",wte);const vte=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],n5=ht("search",vte);const kte=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],_te=ht("send-horizontal",kte);const Cte=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],mI=ht("send",Cte);const Ste=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Bl=ht("server",Ste);const jte=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hm=ht("settings",jte);const Tte=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qm=ht("shield-check",Tte);const Ete=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Rd=ht("sparkles",Ete);const Nte=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],hI=ht("square",Nte);const $te=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],pI=ht("star",$te);const Ate=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Ite=ht("sun",Ate);const Rte=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],r5=ht("terminal",Rte);const Mte=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fa=ht("trash-2",Mte);const Dte=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Lte=ht("undo-2",Dte);const Ote=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],fI=ht("unlink",Ote);const Pte=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],a5=ht("upload",Pte);const Fte=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Bte=ht("wand-sparkles",Fte);const zte=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],Hte=ht("workflow",zte);const qte=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],C1=ht("wrench",qte);const Ute=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Rx=ht("zap",Ute);const Wte=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Gte=ht("zoom-in",Wte);const Vte=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Kte=ht("zoom-out",Vte),Yte=500;function Tj(t,e,n,r){if(r!==null)return r;if(t>0&&n>0){const a=n/(t/1e3);if(a<=Yte)return a}return e>0&&n>0?n/(e/1e3):null}const Xte=t=>b.createElement("svg",{width:135,height:62,viewBox:"0 0 135 62",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("path",{d:"M3.168 48V22.272H9.648L9.888 28.464L9.216 28.176C9.568 26.8 10.096 25.632 10.8 24.672C11.536 23.712 12.416 22.976 13.44 22.464C14.464 21.952 15.584 21.696 16.8 21.696C18.944 21.696 20.672 22.32 21.984 23.568C23.328 24.816 24.192 26.496 24.576 28.608L23.664 28.656C23.952 27.152 24.448 25.888 25.152 24.864C25.888 23.808 26.784 23.024 27.84 22.512C28.896 21.968 30.08 21.696 31.392 21.696C33.184 21.696 34.72 22.064 36 22.8C37.28 23.536 38.272 24.64 38.976 26.112C39.68 27.552 40.032 29.328 40.032 31.44V48H32.832V33.456C32.832 31.44 32.528 29.936 31.92 28.944C31.312 27.92 30.32 27.408 28.944 27.408C28.08 27.408 27.344 27.648 26.736 28.128C26.128 28.608 25.648 29.312 25.296 30.24C24.976 31.136 24.816 32.24 24.816 33.552V48H18.336V33.552C18.336 31.568 18.048 30.048 17.472 28.992C16.896 27.936 15.904 27.408 14.496 27.408C13.632 27.408 12.88 27.648 12.24 28.128C11.632 28.608 11.168 29.312 10.848 30.24C10.528 31.168 10.368 32.272 10.368 33.552V48H3.168ZM54.2254 48.576C51.5694 48.576 49.4894 47.728 47.9854 46.032C46.5134 44.304 45.7774 41.904 45.7774 38.832V22.272H52.9774V37.152C52.9774 39.136 53.2814 40.592 53.8894 41.52C54.4974 42.416 55.4574 42.864 56.7694 42.864C58.2414 42.864 59.3774 42.368 60.1774 41.376C61.0094 40.352 61.4254 38.832 61.4254 36.816V22.272H68.6254V48H62.0494L61.8574 40.608L62.7694 40.8C62.3854 43.36 61.4734 45.296 60.0334 46.608C58.5934 47.92 56.6574 48.576 54.2254 48.576ZM72.8486 48L82.0166 34.944L73.0886 22.272H80.7206L86.2406 30.528L91.5686 22.272H99.3926L90.5126 34.992L99.6326 48H92.0006L86.3366 39.264L80.6246 48H72.8486Z",fill:"white"}),b.createElement("rect",{x:109,y:13,width:26,height:35,fill:"white"})),Zte=t=>b.createElement("svg",{width:135,height:62,viewBox:"0 0 135 62",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("path",{d:"M3.168 48V22.272H9.648L9.888 28.464L9.216 28.176C9.568 26.8 10.096 25.632 10.8 24.672C11.536 23.712 12.416 22.976 13.44 22.464C14.464 21.952 15.584 21.696 16.8 21.696C18.944 21.696 20.672 22.32 21.984 23.568C23.328 24.816 24.192 26.496 24.576 28.608L23.664 28.656C23.952 27.152 24.448 25.888 25.152 24.864C25.888 23.808 26.784 23.024 27.84 22.512C28.896 21.968 30.08 21.696 31.392 21.696C33.184 21.696 34.72 22.064 36 22.8C37.28 23.536 38.272 24.64 38.976 26.112C39.68 27.552 40.032 29.328 40.032 31.44V48H32.832V33.456C32.832 31.44 32.528 29.936 31.92 28.944C31.312 27.92 30.32 27.408 28.944 27.408C28.08 27.408 27.344 27.648 26.736 28.128C26.128 28.608 25.648 29.312 25.296 30.24C24.976 31.136 24.816 32.24 24.816 33.552V48H18.336V33.552C18.336 31.568 18.048 30.048 17.472 28.992C16.896 27.936 15.904 27.408 14.496 27.408C13.632 27.408 12.88 27.648 12.24 28.128C11.632 28.608 11.168 29.312 10.848 30.24C10.528 31.168 10.368 32.272 10.368 33.552V48H3.168ZM54.2254 48.576C51.5694 48.576 49.4894 47.728 47.9854 46.032C46.5134 44.304 45.7774 41.904 45.7774 38.832V22.272H52.9774V37.152C52.9774 39.136 53.2814 40.592 53.8894 41.52C54.4974 42.416 55.4574 42.864 56.7694 42.864C58.2414 42.864 59.3774 42.368 60.1774 41.376C61.0094 40.352 61.4254 38.832 61.4254 36.816V22.272H68.6254V48H62.0494L61.8574 40.608L62.7694 40.8C62.3854 43.36 61.4734 45.296 60.0334 46.608C58.5934 47.92 56.6574 48.576 54.2254 48.576ZM72.8486 48L82.0166 34.944L73.0886 22.272H80.7206L86.2406 30.528L91.5686 22.272H99.3926L90.5126 34.992L99.6326 48H92.0006L86.3366 39.264L80.6246 48H72.8486Z",fill:"black"}),b.createElement("rect",{x:109,y:13,width:26,height:35,fill:"black"}));function Ej(t,e){const n=ae.c(4),r=e,[a,s]=b.useState(t);let i,o;return n[0]!==r||n[1]!==t?(i=()=>{const c=setTimeout(()=>{s(t)},r);return()=>{clearTimeout(c)}},o=[t,r],n[0]=r,n[1]=t,n[2]=i,n[3]=o):(i=n[2],o=n[3]),b.useEffect(i,o),a}function gI(t){const e=ae.c(8);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={listener:!0},e[0]=n):n=e[0];const[r]=Tt(N_,Js.model,n);let a;e[1]!==r?(a=Vl(r).trim()||Js.model,e[1]=r,e[2]=a):a=e[2];const s=a;let i;e[3]!==t?(i=gs(t),e[3]=t,e[4]=i):i=e[4];let o;e[5]===Symbol.for("react.memo_cache_sentinel")?(o={listener:!0},e[5]=o):o=e[5];const[c]=Tt(i,null,o);if(typeof c=="string"&&c.trim().length>0){let u;return e[6]!==c?(u=Vl(c.trim()),e[6]=c,e[7]=u):u=e[7],u}return s}function bI(t){const e=ae.c(7);let n;e[0]!==t?(n=px(t),e[0]=t,e[1]=n):n=e[1];let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r={listener:!0},e[2]=r):r=e[2];const[a]=Tt(n,0,r),{recencyTimestamp:s}=_x(t),i=s!==null&&s>a;let o;return e[3]!==i||e[4]!==a||e[5]!==s?(o={isUnread:i,lastReadTimestamp:a,recencyTimestamp:s},e[3]=i,e[4]=a,e[5]=s,e[6]=o):o=e[6],o}function Qte(t){return!t||t.length===0?{valid:!1,error:"Workspace name cannot be empty"}:t.length>64?{valid:!1,error:"Workspace name cannot exceed 64 characters"}:/^[a-z0-9_-]+$/.test(t)?{valid:!0}:{valid:!1,error:"Workspace names can only contain lowercase letters, numbers, hyphens, and underscores"}}const Jte=[bj("HAIKU").id,bj("GPT_MINI").id];function ene(t,e,n){const r=[];for(const a of Jte){const s=t&&e(a)?TZ(a):a;r.includes(s)||r.push(s)}return n&&!r.includes(n)&&r.push(n),r}const tne=Nt({name:Ge(),title:Ge()}),nne=Nt({generatedIdentity:tne.nullable(),manualName:Ge(),autoGenerate:ei(),lastGeneratedFor:Ge()}),Nj={generatedIdentity:null,manualName:"",autoGenerate:!0,lastGeneratedFor:""};function rne(t){const e=nne.partial().safeParse(t);if(!e.success)return"";const{autoGenerate:n,generatedIdentity:r,manualName:a}=e.data;return n!==!1?r?r.title.trim()||r.name:"":a??""}function ane(t){const{message:e,debounceMs:n=500,userModel:r,scopeId:a}=t,{api:s}=Kt(),{isActive:i,modelUsesGateway:o}=$f(),c=b.useMemo(()=>ene(i,o,r),[i,o,r]),u=b.useRef(`__workspaceNameAnon__${Math.random().toString(36).slice(2)}`),d=sA(a??u.current),[m,h]=Tt(d,Nj,{listener:!0}),[p,f]=b.useState(Nj),g=a?m:p,x=a?h:f,{generatedIdentity:y,manualName:w,autoGenerate:v,lastGeneratedFor:k}=g,[C,_]=b.useState(!1),[S,T]=b.useState(null),N=b.useRef(null),j=b.useRef(""),R=b.useRef(0),I=b.useRef(null),A=v?y?.name??"":w,$=v?y?.title??null:null,E=b.useCallback(()=>{N.current&&(clearTimeout(N.current),N.current=null,j.current="");const O=R.current;R.current++,I.current?.requestId===O&&(I.current.resolve(null),I.current=null,_(!1))},[]);b.useEffect(()=>{E(),_(!1),T(null)},[d,E]);const M=b.useCallback(async O=>{if(!s||!O.trim())return null;const G=++R.current;_(!0),T(null);let H;const D=new Promise(B=>{H=B}),U=H;I.current={promise:D,resolve:U,requestId:G};try{const B=await s.nameGeneration.generate({message:O,candidates:c});if(G!==R.current)return null;if(B.success){const V={name:B.data.name,title:B.data.title};return x(Z=>({...Z,generatedIdentity:V,lastGeneratedFor:O})),U(V),V}const q=B.error.type==="unknown"&&"raw"in B.error?B.error.raw:`Generation failed: ${B.error.type}`;return T(q),U(null),null}catch(B){if(G!==R.current)return null;const q=B instanceof Error?B.message:String(B);return T(q),U(null),null}finally{G===R.current&&(_(!1),I.current=null)}},[s,x,c]);b.useEffect(()=>{if(!v||!e.trim()||k===e){N.current&&(clearTimeout(N.current),N.current=null,j.current="");return}return E(),j.current=e,N.current=setTimeout(()=>{const O=j.current;N.current=null,j.current="",M(O)},n),()=>{N.current&&(clearTimeout(N.current),N.current=null,j.current="")}},[e,v,k,n,M,E]);const F=b.useCallback(O=>{if(O){x(G=>({...G,autoGenerate:!0,lastGeneratedFor:""})),T(null);return}x(G=>({...G,autoGenerate:!1,manualName:G.generatedIdentity?.name??G.manualName}))},[x]),L=b.useCallback(O=>{if(x(G=>({...G,manualName:O})),O.trim()){const G=Qte(O);T(G.error??null)}else T(null)},[x]),Y=b.useCallback(async()=>{if(!v){if(!w.trim())return T("Please enter a workspace name"),null;const O=await M(e);return O?{name:w.trim(),title:O.title}:{name:w.trim(),title:w.trim()}}if(N.current){clearTimeout(N.current),N.current=null;const O=j.current;if(j.current="",O.trim())return M(O)}return I.current?I.current.promise:y&&k===e?y:e.trim()?M(e):null},[v,w,y,k,e,M]);return b.useMemo(()=>({name:A,title:$,isGenerating:C,autoGenerate:v,error:S,setAutoGenerate:F,setName:L,waitForGeneration:Y}),[A,$,C,v,S,F,L,Y])}const xI=b.createContext({dragDropManager:void 0});function zs(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var $j=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),Aj=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ij={INIT:"@@redux/INIT"+Aj(),REPLACE:"@@redux/REPLACE"+Aj()};function sne(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function yI(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(zs(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(zs(1));return n(yI)(t,e)}if(typeof t!="function")throw new Error(zs(2));var a=t,s=e,i=[],o=i,c=!1;function u(){o===i&&(o=i.slice())}function d(){if(c)throw new Error(zs(3));return s}function m(g){if(typeof g!="function")throw new Error(zs(4));if(c)throw new Error(zs(5));var x=!0;return u(),o.push(g),function(){if(x){if(c)throw new Error(zs(6));x=!1,u();var w=o.indexOf(g);o.splice(w,1),i=null}}}function h(g){if(!sne(g))throw new Error(zs(7));if(typeof g.type>"u")throw new Error(zs(8));if(c)throw new Error(zs(9));try{c=!0,s=a(s,g)}finally{c=!1}for(var x=i=o,y=0;y<x.length;y++){var w=x[y];w()}return g}function p(g){if(typeof g!="function")throw new Error(zs(10));a=g,h({type:Ij.REPLACE})}function f(){var g,x=m;return g={subscribe:function(w){if(typeof w!="object"||w===null)throw new Error(zs(11));function v(){w.next&&w.next(d())}v();var k=x(v);return{unsubscribe:k}}},g[$j]=function(){return this},g}return h({type:Ij.INIT}),r={dispatch:h,subscribe:m,getState:d,replaceReducer:p},r[$j]=f,r}function jn(t,e,...n){if(ine()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let r;if(e===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;r=new Error(e.replace(/%s/g,function(){return n[a++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function ine(){return typeof process<"u"&&!0}function one(t,e,n){return e.split(".").reduce((r,a)=>r&&r[a]?r[a]:n||null,t)}function lne(t,e){return t.filter(n=>n!==e)}function wI(t){return typeof t=="object"}function cne(t,e){const n=new Map,r=s=>{n.set(s,n.has(s)?n.get(s)+1:1)};t.forEach(r),e.forEach(r);const a=[];return n.forEach((s,i)=>{s===1&&a.push(i)}),a}function une(t,e){return t.filter(n=>e.indexOf(n)>-1)}const s5="dnd-core/INIT_COORDS",Mx="dnd-core/BEGIN_DRAG",i5="dnd-core/PUBLISH_DRAG_SOURCE",Dx="dnd-core/HOVER",Lx="dnd-core/DROP",Ox="dnd-core/END_DRAG";function Rj(t,e){return{type:s5,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const dne={type:s5,payload:{clientOffset:null,sourceClientOffset:null}};function mne(t){return function(n=[],r={publishSource:!0}){const{publishSource:a=!0,clientOffset:s,getSourceClientOffset:i}=r,o=t.getMonitor(),c=t.getRegistry();t.dispatch(Rj(s)),hne(n,o,c);const u=gne(n,o);if(u==null){t.dispatch(dne);return}let d=null;if(s){if(!i)throw new Error("getSourceClientOffset must be defined");pne(i),d=i(u)}t.dispatch(Rj(s,d));const h=c.getSource(u).beginDrag(o,u);if(h==null)return;fne(h),c.pinSource(u);const p=c.getSourceType(u);return{type:Mx,payload:{itemType:p,item:h,sourceId:u,clientOffset:s||null,sourceClientOffset:d||null,isSourcePublic:!!a}}}}function hne(t,e,n){jn(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(r){jn(n.getSource(r),"Expected sourceIds to be registered.")})}function pne(t){jn(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function fne(t){jn(wI(t),"Item must be an object.")}function gne(t,e){let n=null;for(let r=t.length-1;r>=0;r--)if(e.canDragSource(t[r])){n=t[r];break}return n}function bne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),r.forEach(function(a){bne(t,a,n[a])})}return t}function yne(t){return function(n={}){const r=t.getMonitor(),a=t.getRegistry();wne(r),_ne(r).forEach((i,o)=>{const c=vne(i,o,a,r),u={type:Lx,payload:{dropResult:xne({},n,c)}};t.dispatch(u)})}}function wne(t){jn(t.isDragging(),"Cannot call drop while not dragging."),jn(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function vne(t,e,n,r){const a=n.getTarget(t);let s=a?a.drop(r,t):void 0;return kne(s),typeof s>"u"&&(s=e===0?{}:r.getDropResult()),s}function kne(t){jn(typeof t>"u"||wI(t),"Drop result must either be an object or undefined.")}function _ne(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function Cne(t){return function(){const n=t.getMonitor(),r=t.getRegistry();Sne(n);const a=n.getSourceId();return a!=null&&(r.getSource(a,!0).endDrag(n,a),r.unpinSource()),{type:Ox}}}function Sne(t){jn(t.isDragging(),"Cannot call endDrag while not dragging.")}function k3(t,e){return e===null?t===null:Array.isArray(t)?t.some(n=>n===e):t===e}function jne(t){return function(n,{clientOffset:r}={}){Tne(n);const a=n.slice(0),s=t.getMonitor(),i=t.getRegistry(),o=s.getItemType();return Nne(a,i,o),Ene(a,s,i),$ne(a,s,i),{type:Dx,payload:{targetIds:a,clientOffset:r||null}}}}function Tne(t){jn(Array.isArray(t),"Expected targetIds to be an array.")}function Ene(t,e,n){jn(e.isDragging(),"Cannot call hover while not dragging."),jn(!e.didDrop(),"Cannot call hover after drop.");for(let r=0;r<t.length;r++){const a=t[r];jn(t.lastIndexOf(a)===r,"Expected targetIds to be unique in the passed array.");const s=n.getTarget(a);jn(s,"Expected targetIds to be registered.")}}function Nne(t,e,n){for(let r=t.length-1;r>=0;r--){const a=t[r],s=e.getTargetType(a);k3(s,n)||t.splice(r,1)}}function $ne(t,e,n){t.forEach(function(r){n.getTarget(r).hover(e,r)})}function Ane(t){return function(){if(t.getMonitor().isDragging())return{type:i5}}}function Ine(t){return{beginDrag:mne(t),publishDragSource:Ane(t),hover:jne(t),drop:yne(t),endDrag:Cne(t)}}class Rne{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function r(s){return(...i)=>{const o=s.apply(e,i);typeof o<"u"&&n(o)}}const a=Ine(this);return Object.keys(a).reduce((s,i)=>{const o=a[i];return s[i]=r(o),s},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function Mne(t,e){return{x:t.x+e.x,y:t.y+e.y}}function vI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Dne(t){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:r}=t;return!e||!n||!r?null:vI(Mne(e,r),n)}function Lne(t){const{clientOffset:e,initialClientOffset:n}=t;return!e||!n?null:vI(e,n)}const dp=[],o5=[];dp.__IS_NONE__=!0;o5.__IS_ALL__=!0;function One(t,e){return t===dp?!1:t===o5||typeof e>"u"?!0:une(e,t).length>0}class Pne{subscribeToStateChange(e,n={}){const{handlerIds:r}=n;jn(typeof e=="function","listener must be a function."),jn(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId;const s=()=>{const i=this.store.getState(),o=i.stateId;try{o===a||o===a+1&&!One(i.dirtyHandlerIds,r)||e()}finally{a=o}};return this.store.subscribe(s)}subscribeToOffsetChange(e){jn(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const a=this.store.getState().dragOffset;a!==n&&(n=a,e())};return this.store.subscribe(r)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return jn(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(jn(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(e),a=this.getItemType();return k3(r,a)&&n.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(jn(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(e),a=this.getItemType();return r!==a?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const a=this.registry.getTargetType(e),s=this.getItemType();if(s&&!k3(a,s))return!1;const i=this.getTargetIds();if(!i.length)return!1;const o=i.indexOf(e);return r?o===i.length-1:o>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Dne(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Lne(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const Mj=typeof global<"u"?global:self,kI=Mj.MutationObserver||Mj.WebKitMutationObserver;function _I(t){return function(){const n=setTimeout(a,0),r=setInterval(a,50);function a(){clearTimeout(n),clearInterval(r),t()}}}function Fne(t){let e=1;const n=new kI(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}const Bne=typeof kI=="function"?Fne:_I;class zne{enqueueTask(e){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let r=0,a=e.length-this.index;r<a;r++)e[r]=e[r+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=Bne(this.flush),this.requestErrorThrow=_I(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Hne{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class qne{create(e){const n=this.freeTasks,r=n.length?n.pop():new Hne(this.onError,a=>n[n.length]=a);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}const CI=new zne,Une=new qne(CI.registerPendingError);function Wne(t){CI.enqueueTask(Une.create(t))}const l5="dnd-core/ADD_SOURCE",c5="dnd-core/ADD_TARGET",u5="dnd-core/REMOVE_SOURCE",Px="dnd-core/REMOVE_TARGET";function Gne(t){return{type:l5,payload:{sourceId:t}}}function Vne(t){return{type:c5,payload:{targetId:t}}}function Kne(t){return{type:u5,payload:{sourceId:t}}}function Yne(t){return{type:Px,payload:{targetId:t}}}function Xne(t){jn(typeof t.canDrag=="function","Expected canDrag to be a function."),jn(typeof t.beginDrag=="function","Expected beginDrag to be a function."),jn(typeof t.endDrag=="function","Expected endDrag to be a function.")}function Zne(t){jn(typeof t.canDrop=="function","Expected canDrop to be a function."),jn(typeof t.hover=="function","Expected hover to be a function."),jn(typeof t.drop=="function","Expected beginDrag to be a function.")}function _3(t,e){if(e&&Array.isArray(t)){t.forEach(n=>_3(n,!1));return}jn(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Ws;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Ws||(Ws={}));let Qne=0;function Jne(){return Qne++}function ere(t){const e=Jne().toString();switch(t){case Ws.SOURCE:return`S${e}`;case Ws.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function Dj(t){switch(t[0]){case"S":return Ws.SOURCE;case"T":return Ws.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function Lj(t,e){const n=t.entries();let r=!1;do{const{done:a,value:[,s]}=n.next();if(s===e)return!0;r=!!a}while(!r);return!1}class tre{addSource(e,n){_3(e),Xne(n);const r=this.addHandler(Ws.SOURCE,e,n);return this.store.dispatch(Gne(r)),r}addTarget(e,n){_3(e,!0),Zne(n);const r=this.addHandler(Ws.TARGET,e,n);return this.store.dispatch(Vne(r)),r}containsHandler(e){return Lj(this.dragSources,e)||Lj(this.dropTargets,e)}getSource(e,n=!1){return jn(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return jn(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return jn(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return jn(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Dj(e)===Ws.SOURCE}isTargetId(e){return Dj(e)===Ws.TARGET}removeSource(e){jn(this.getSource(e),"Expected an existing source."),this.store.dispatch(Kne(e)),Wne(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){jn(this.getTarget(e),"Expected an existing target."),this.store.dispatch(Yne(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);jn(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){jn(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,r){const a=ere(e);return this.types.set(a,n),e===Ws.SOURCE?this.dragSources.set(a,r):e===Ws.TARGET&&this.dropTargets.set(a,r),a}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const nre=(t,e)=>t===e;function rre(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function are(t,e,n=nre){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!n(t[r],e[r]))return!1;return!0}function sre(t=dp,e){switch(e.type){case Dx:break;case l5:case c5:case Px:case u5:return dp;case Mx:case i5:case Ox:case Lx:default:return o5}const{targetIds:n=[],prevTargetIds:r=[]}=e.payload,a=cne(n,r);if(!(a.length>0||!are(n,r)))return dp;const i=r[r.length-1],o=n[n.length-1];return i!==o&&(i&&a.push(i),o&&a.push(o)),a}function ire(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ore(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),r.forEach(function(a){ire(t,a,n[a])})}return t}const Oj={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function lre(t=Oj,e){const{payload:n}=e;switch(e.type){case s5:case Mx:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case Dx:return rre(t.clientOffset,n.clientOffset)?t:ore({},t,{clientOffset:n.clientOffset});case Ox:case Lx:return Oj;default:return t}}function cre(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),r.forEach(function(a){cre(t,a,n[a])})}return t}const ure={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function dre(t=ure,e){const{payload:n}=e;switch(e.type){case Mx:return sd({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case i5:return sd({},t,{isSourcePublic:!0});case Dx:return sd({},t,{targetIds:n.targetIds});case Px:return t.targetIds.indexOf(n.targetId)===-1?t:sd({},t,{targetIds:lne(t.targetIds,n.targetId)});case Lx:return sd({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Ox:return sd({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function mre(t=0,e){switch(e.type){case l5:case c5:return t+1;case u5:case Px:return t-1;default:return t}}function hre(t=0){return t+1}function pre(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),r.forEach(function(a){pre(t,a,n[a])})}return t}function gre(t={},e){return{dirtyHandlerIds:sre(t.dirtyHandlerIds,{type:e.type,payload:fre({},e.payload,{prevTargetIds:one(t,"dragOperation.targetIds",[])})}),dragOffset:lre(t.dragOffset,e),refCount:mre(t.refCount,e),dragOperation:dre(t.dragOperation,e),stateId:hre(t.stateId)}}function bre(t,e=void 0,n={},r=!1){const a=xre(r),s=new Pne(a,new tre(a)),i=new Rne(a,s),o=t(i,e,n);return i.receiveBackend(o),i}function xre(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return yI(gre,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function yre(t,e){if(t==null)return{};var n=wre(t,e),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)r=s[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wre(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,s;for(s=0;s<r.length;s++)a=r[s],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}let Pj=0;const Mg=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var vre=b.memo(function(e){var{children:n}=e,r=yre(e,["children"]);const[a,s]=kre(r);return b.useEffect(()=>{if(s){const i=SI();return++Pj,()=>{--Pj===0&&(i[Mg]=null)}}},[]),l.jsx(xI.Provider,{value:a,children:n})});function kre(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=_re(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}function _re(t,e=SI(),n,r){const a=e;return a[Mg]||(a[Mg]={dragDropManager:bre(t,e,n,r)}),a[Mg]}function SI(){return typeof global<"u"?global:window}var B2,Fj;function Cre(){return Fj||(Fj=1,B2=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,a,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(a=r;a--!==0;)if(!t(e[a],n[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[a]))return!1;for(a=r;a--!==0;){var i=s[a];if(!t(e[i],n[i]))return!1}return!0}return e!==e&&n!==n}),B2}var Sre=Cre();const jre=Ru(Sre),du=typeof window<"u"?b.useLayoutEffect:b.useEffect;function jI(t,e,n){const[r,a]=b.useState(()=>e(t)),s=b.useCallback(()=>{const i=e(t);jre(r,i)||(a(i),n&&n())},[r,t,n]);return du(s),[r,s]}function Tre(t,e,n){const[r,a]=jI(t,e,n);return du(function(){const i=t.getHandlerId();if(i!=null)return t.subscribeToStateChange(a,{handlerIds:[i]})},[t,a]),r}function TI(t,e,n){return Tre(e,t||(()=>({})),()=>n.reconnect())}function EI(t,e){const n=[...e||[]];return e==null&&typeof t!="function"&&n.push(t),b.useMemo(()=>typeof t=="function"?t():t,n)}function Ere(t){return b.useMemo(()=>t.hooks.dragSource(),[t])}function Nre(t){return b.useMemo(()=>t.hooks.dragPreview(),[t])}let z2=!1,H2=!1;class $re{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){jn(!z2,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return z2=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{z2=!1}}isDragging(){if(!this.sourceId)return!1;jn(!H2,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return H2=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{H2=!1}}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,n){return this.internalMonitor.isOverTarget(e,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let q2=!1;class Are{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}canDrop(){if(!this.targetId)return!1;jn(!q2,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return q2=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{q2=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function Ire(t,e,n){const r=n.getRegistry(),a=r.addTarget(t,e);return[a,()=>r.removeTarget(a)]}function Rre(t,e,n){const r=n.getRegistry(),a=r.addSource(t,e);return[a,()=>r.removeSource(a)]}function C3(t,e,n,r){let a;if(a!==void 0)return!!a;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const s=Object.keys(t),i=Object.keys(e);if(s.length!==i.length)return!1;const o=Object.prototype.hasOwnProperty.bind(e);for(let c=0;c<s.length;c++){const u=s[c];if(!o(u))return!1;const d=t[u],m=e[u];if(a=void 0,a===!1||a===void 0&&d!==m)return!1}return!0}function S3(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Mre(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function Dre(t){return(e=null,n=null)=>{if(!b.isValidElement(e)){const s=e;return t(s,n),s}const r=e;return Mre(r),Lre(r,n?s=>t(s,n):t)}}function NI(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];if(n.endsWith("Ref"))e[n]=t[n];else{const a=Dre(r);e[n]=()=>a}}),e}function Bj(t,e){typeof t=="function"?t(e):t.current=e}function Lre(t,e){const n=t.ref;return jn(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?b.cloneElement(t,{ref:r=>{Bj(n,r),Bj(e,r)}}):b.cloneElement(t,{ref:e})}class Ore{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}reconnectDragPreview(e=!1){const n=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!C3(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!C3(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=NI({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,S3(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,S3(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class Pre{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!C3(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=NI({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,S3(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function Bu(){const{dragDropManager:t}=b.useContext(xI);return jn(t!=null,"Expected drag drop context"),t}function Fre(t,e){const n=Bu(),r=b.useMemo(()=>new Ore(n.getBackend()),[n]);return du(()=>(r.dragSourceOptions=t||null,r.reconnect(),()=>r.disconnectDragSource()),[r,t]),du(()=>(r.dragPreviewOptions=e||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,e]),r}function Bre(){const t=Bu();return b.useMemo(()=>new $re(t),[t])}class zre{beginDrag(){const e=this.spec,n=this.monitor;let r=null;return typeof e.item=="object"?r=e.item:typeof e.item=="function"?r=e.item(n):r={},r??null}canDrag(){const e=this.spec,n=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(n):!0}isDragging(e,n){const r=this.spec,a=this.monitor,{isDragging:s}=r;return s?s(a):n===e.getSourceId()}endDrag(){const e=this.spec,n=this.monitor,r=this.connector,{end:a}=e;a&&a(n.getItem(),n),r.reconnect()}constructor(e,n,r){this.spec=e,this.monitor=n,this.connector=r}}function Hre(t,e,n){const r=b.useMemo(()=>new zre(t,e,n),[e,n]);return b.useEffect(()=>{r.spec=t},[t]),r}function qre(t){return b.useMemo(()=>{const e=t.type;return jn(e!=null,"spec.type must be defined"),e},[t])}function Ure(t,e,n){const r=Bu(),a=Hre(t,e,n),s=qre(t);du(function(){if(s!=null){const[o,c]=Rre(s,a,r);return e.receiveHandlerId(o),n.receiveHandlerId(o),c}},[r,e,n,a,s])}function d5(t,e){const n=EI(t,e);jn(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=Bre(),a=Fre(n.options,n.previewOptions);return Ure(n,r,a),[TI(n.collect,r,a),Ere(a),Nre(a)]}function m5(t){const n=Bu().getMonitor(),[r,a]=jI(n,t);return b.useEffect(()=>n.subscribeToOffsetChange(a)),b.useEffect(()=>n.subscribeToStateChange(a)),r}function Wre(t){return b.useMemo(()=>t.hooks.dropTarget(),[t])}function Gre(t){const e=Bu(),n=b.useMemo(()=>new Pre(e.getBackend()),[e]);return du(()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget()),[t]),n}function Vre(){const t=Bu();return b.useMemo(()=>new Are(t),[t])}function Kre(t){const{accept:e}=t;return b.useMemo(()=>(jn(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class Yre{canDrop(){const e=this.spec,n=this.monitor;return e.canDrop?e.canDrop(n.getItem(),n):!0}hover(){const e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}drop(){const e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}constructor(e,n){this.spec=e,this.monitor=n}}function Xre(t,e){const n=b.useMemo(()=>new Yre(t,e),[e]);return b.useEffect(()=>{n.spec=t},[t]),n}function Zre(t,e,n){const r=Bu(),a=Xre(t,e),s=Kre(t);du(function(){const[o,c]=Ire(s,a,r);return e.receiveHandlerId(o),n.receiveHandlerId(o),c},[r,e,a,n,s.map(i=>i.toString()).join("|")])}function h5(t,e){const n=EI(t,e),r=Vre(),a=Gre(n.options);return Zre(n,r,a),[TI(n.collect,r,a),Wre(a)]}function $I(t){let e=null;return()=>(e==null&&(e=t()),e)}function Qre(t,e){return t.filter(n=>n!==e)}function Jre(t,e){const n=new Set,r=s=>n.add(s);t.forEach(r),e.forEach(r);const a=[];return n.forEach(s=>a.push(s)),a}class eae{enter(e){const n=this.entered.length,r=a=>this.isNodeInDocument(a)&&(!a.contains||a.contains(e));return this.entered=Jre(this.entered.filter(r),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=Qre(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class tae{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const a=this.config.exposeProperties[r];a!=null&&(n[r]={value:a(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const AI="__NATIVE_FILE__",II="__NATIVE_URL__",RI="__NATIVE_TEXT__",MI="__NATIVE_HTML__",zj=Object.freeze(Object.defineProperty({__proto__:null,FILE:AI,HTML:MI,TEXT:RI,URL:II},Symbol.toStringTag,{value:"Module"}));function U2(t,e,n){const r=e.reduce((a,s)=>a||t.getData(s),"");return r??n}const j3={[AI]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[MI]:{exposeProperties:{html:(t,e)=>U2(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[II]:{exposeProperties:{urls:(t,e)=>U2(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[RI]:{exposeProperties:{text:(t,e)=>U2(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function nae(t,e){const n=j3[t];if(!n)throw new Error(`native type ${t} has no configuration`);const r=new tae(n);return r.loadDataTransfer(e),r}function W2(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(j3).filter(n=>{const r=j3[n];return r?.matchesTypes?r.matchesTypes.some(a=>e.indexOf(a)>-1):!1})[0]||null}const rae=$I(()=>/firefox/i.test(navigator.userAgent)),DI=$I(()=>!!window.safari);class Hj{interpolate(e){const{xs:n,ys:r,c1s:a,c2s:s,c3s:i}=this;let o=n.length-1;if(e===n[o])return r[o];let c=0,u=i.length-1,d;for(;c<=u;){d=Math.floor(.5*(c+u));const p=n[d];if(p<e)c=d+1;else if(p>e)u=d-1;else return r[d]}o=Math.max(0,u);const m=e-n[o],h=m*m;return r[o]+a[o]*m+s[o]*h+i[o]*m*h}constructor(e,n){const{length:r}=e,a=[];for(let p=0;p<r;p++)a.push(p);a.sort((p,f)=>e[p]<e[f]?-1:1);const s=[],i=[];let o,c;for(let p=0;p<r-1;p++)o=e[p+1]-e[p],c=n[p+1]-n[p],s.push(o),i.push(c/o);const u=[i[0]];for(let p=0;p<s.length-1;p++){const f=i[p],g=i[p+1];if(f*g<=0)u.push(0);else{o=s[p];const x=s[p+1],y=o+x;u.push(3*y/((y+x)/f+(y+o)/g))}}u.push(i[i.length-1]);const d=[],m=[];let h;for(let p=0;p<u.length-1;p++){h=i[p];const f=u[p],g=1/s[p],x=f+u[p+1]-h-h;d.push((h-f-x)*g),m.push(x*g*g)}this.xs=e,this.ys=n,this.c1s=u,this.c2s=d,this.c3s=m}}const aae=1;function LI(t){const e=t.nodeType===aae?t:t.parentElement;if(!e)return null;const{top:n,left:r}=e.getBoundingClientRect();return{x:r,y:n}}function N0(t){return{x:t.clientX,y:t.clientY}}function sae(t){var e;return t.nodeName==="IMG"&&(rae()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function iae(t,e,n,r){let a=t?e.width:n,s=t?e.height:r;return DI()&&t&&(s/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:s}}function oae(t,e,n,r,a){const s=sae(e),o=LI(s?t:e),c={x:n.x-o.x,y:n.y-o.y},{offsetWidth:u,offsetHeight:d}=t,{anchorX:m,anchorY:h}=r,{dragPreviewWidth:p,dragPreviewHeight:f}=iae(s,e,u,d),g=()=>{let _=new Hj([0,.5,1],[c.y,c.y/d*f,c.y+f-d]).interpolate(h);return DI()&&s&&(_+=(window.devicePixelRatio-1)*f),_},x=()=>new Hj([0,.5,1],[c.x,c.x/u*p,c.x+p-u]).interpolate(m),{offsetX:y,offsetY:w}=a,v=y===0||y,k=w===0||w;return{x:v?y:x(),y:k?w:g()}}class lae{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}}function cae(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),r.forEach(function(a){cae(t,a,n[a])})}return t}class uae{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,r){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,r);const a=i=>this.handleDragStart(i,e),s=i=>this.handleSelectStart(i);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",a),n.addEventListener("selectstart",s),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",a),n.removeEventListener("selectstart",s),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const r=i=>this.handleDragEnter(i,e),a=i=>this.handleDragOver(i,e),s=i=>this.handleDrop(i,e);return n.addEventListener("dragenter",r),n.addEventListener("dragover",a),n.addEventListener("drop",s),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",a),n.removeEventListener("drop",s)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return qj({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return qj({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(zj).some(n=>zj[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=nae(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{const s=this.sourceNodes.get(a);return s&&LI(s)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>!!(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{const a=this.currentDragSourceNode;a==null||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;const{dragStartSourceIds:s}=this;this.dragStartSourceIds=null;const i=N0(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(s||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:i});const{dataTransfer:o}=a,c=W2(o);if(this.monitor.isDragging()){if(o&&typeof o.setDragImage=="function"){const d=this.monitor.getSourceId(),m=this.sourceNodes.get(d),h=this.sourcePreviewNodes.get(d)||m;if(h){const{anchorX:p,anchorY:f,offsetX:g,offsetY:x}=this.getCurrentSourcePreviewNodeOptions(),v=oae(m,h,i,{anchorX:p,anchorY:f},{offsetX:g,offsetY:x});o.setDragImage(h,v.x,v.y)}}try{o?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(a.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(o&&!o.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;const{dataTransfer:o}=a,c=W2(o);c&&this.beginDragNativeItem(c,o)},this.handleTopDragEnter=a=>{const{dragEnterTargetIds:s}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=a.altKey,s.length>0&&this.actions.hover(s,{clientOffset:N0(a)}),s.some(o=>this.monitor.canDropOnTarget(o))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{const{dragOverTargetIds:s}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=N0(a),this.scheduleHover(s),(s||[]).some(o=>this.monitor.canDropOnTarget(o))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var s;a.preventDefault(),(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(a.dataTransfer)}else W2(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{const{dropTargetIds:s}=this;this.dropTargetIds=[],this.actions.hover(s,{clientOffset:N0(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{const s=a.target;typeof s.dragDrop=="function"&&(s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"||s.isContentEditable||(a.preventDefault(),s.dragDrop()))},this.options=new lae(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new eae(this.isNodeInDocument)}}let $0;function p5(){return $0||($0=new Image,$0.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),$0}const dae=function(e,n,r){return new uae(e,n,r)};function OI(t,e){const n=Array.from(t.entries());if(e.length===0)return n.sort(([a],[s])=>a.localeCompare(s));const r=new Map(e.map((a,s)=>[a,s]));return n.sort(([a],[s])=>{const i=r.get(a),o=r.get(s),c=i??Number.MAX_SAFE_INTEGER,u=o??Number.MAX_SAFE_INTEGER;return c===u?a.localeCompare(s):c-u})}function mae(t,e,n,r){const a=OI(e,t).map(([u])=>u),s=a.indexOf(n),i=a.indexOf(r);if(s===-1||i===-1||s===i)return a;const o=[...a],[c]=o.splice(s,1);return o.splice(i,0,c),o}function hae(t,e){const n=new Set(e.keys()),r=t.filter(s=>n.has(s));return[...Array.from(e.keys()).filter(s=>!r.includes(s)).sort((s,i)=>s.localeCompare(i)),...r]}function pae(t){if(t.length===0)return[];const e=new Map(t.map(c=>[c.id,c])),n=new Set(t.map(c=>c.nextId).filter(Boolean)),a=t.filter(c=>!n.has(c.id))[0]??t[0],s=[],i=new Set;let o=a;for(;o&&!i.has(o.id);)i.add(o.id),s.push(o),o=o.nextId?e.get(o.nextId):void 0;for(const c of t)i.has(c.id)||s.push(c);return s}function fae(t){if(t.length===0)return[];const e=new Map;for(const o of t)e.set(o.id,o);const n=new Map,r=[];for(const o of t){const c=o.parentWorkspaceId;if(c&&e.has(c)){const u=n.get(c)??[];u.push(o),n.set(c,u)}else r.push(o)}const a=[],s=new Set,i=(o,c)=>{if(s.has(o.id))return;if(s.add(o.id),c>32){a.push(o);return}a.push(o);const u=n.get(o.id);if(u)for(const d of u)i(d,c+1)};for(const o of r)i(o,0);for(const o of t)s.has(o.id)||i(o,0);return a}function gae(t){const e=new Map;for(const s of t)e.set(s.id,s);const n=new Map,r=new Set,a=s=>{const i=n.get(s);if(i!==void 0)return i;if(r.has(s))return 0;r.add(s);const c=e.get(s)?.parentWorkspaceId,u=c&&e.has(c)?Math.min(a(c)+1,32):0;return r.delete(s),n.set(s,u),u};for(const s of t)a(s.id);return Object.fromEntries(n)}const Dg=[1,7,30],bae=1440*60*1e3;function xae(t,e,n){const r=new Map,a=new Set;for(const[s,i]of t){const o=[];for(const c of i.workspaces){if(!c.id)continue;const u=e.get(c.id);u&&(o.push(u),a.add(c.id))}r.set(s,o)}for(const[s,i]of e)if(!a.has(s)){const o=r.get(i.projectPath)??[];o.push(i),r.set(i.projectPath,o)}for(const s of r.values())s.sort((i,o)=>{const c=n[i.id]??0,u=n[o.id]??0;if(c!==u)return u-c;const d=Date.parse(i.createdAt??""),m=Date.parse(o.createdAt??""),h=Number.isFinite(d)?d:0,p=Number.isFinite(m)?m:0;return h!==p?p-h:i.name!==o.name?i.name<o.name?-1:1:i.id!==o.id?i.id<o.id?-1:1:0});for(const[s,i]of r)r.set(s,fae(i));return r}function yae(t){return t===1?"1 day":`${t} days`}function Uj(t,e){return`${t}:${e}`}function Wj(t,e){for(let n=e;n<t.length;n++)if(t[n].length>0)return n;return-1}function wae(t,e){if(t.length===0)return{recent:[],buckets:Dg.map(()=>[])};const n=Date.now(),r=Dg.map(i=>i*bae),a=[],s=Dg.map(()=>[]);for(const i of t){const o=e[i.id]??0,c=n-o;if(c<r[0])a.push(i);else{let u=!1;for(let d=0;d<r.length-1;d++)if(c>=r[d]&&c<r[d+1]){s[d].push(i),u=!0;break}u||s[s.length-1].push(i)}}if(a.length===0){for(const i of s)if(i.length>0){a.push(i.shift());break}}return{recent:a,buckets:s}}function vae(t,e){const n=new Set(e.map(o=>o.id)),r=[],a=new Map;for(const o of e)a.set(o.id,[]);const s=new Map;for(const o of t)s.set(o.id,o);const i=o=>{if(o.sectionId&&n.has(o.sectionId))return o.sectionId;if(o.parentWorkspaceId){const c=s.get(o.parentWorkspaceId);if(c)return i(c)}};for(const o of t){const c=i(o);c?a.get(c).push(o):r.push(o)}return{unsectioned:r,bySectionId:a}}function G2(t,e){return`section:${t}:${e}`}function kae(t,e,n){return`section:${t}:${e}:tier:${n}`}const _ae=["top","right","bottom","left"],Xl=Math.min,Ns=Math.max,S1=Math.round,A0=Math.floor,so=t=>({x:t,y:t}),Cae={left:"right",right:"left",bottom:"top",top:"bottom"},Sae={start:"end",end:"start"};function T3(t,e,n){return Ns(t,Xl(e,n))}function nl(t,e){return typeof t=="function"?t(e):t}function rl(t){return t.split("-")[0]}function Um(t){return t.split("-")[1]}function f5(t){return t==="x"?"y":"x"}function g5(t){return t==="y"?"height":"width"}const jae=new Set(["top","bottom"]);function to(t){return jae.has(rl(t))?"y":"x"}function b5(t){return f5(to(t))}function Tae(t,e,n){n===void 0&&(n=!1);const r=Um(t),a=b5(t),s=g5(a);let i=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(i=j1(i)),[i,j1(i)]}function Eae(t){const e=j1(t);return[E3(t),e,E3(e)]}function E3(t){return t.replace(/start|end/g,e=>Sae[e])}const Gj=["left","right"],Vj=["right","left"],Nae=["top","bottom"],$ae=["bottom","top"];function Aae(t,e,n){switch(t){case"top":case"bottom":return n?e?Vj:Gj:e?Gj:Vj;case"left":case"right":return e?Nae:$ae;default:return[]}}function Iae(t,e,n,r){const a=Um(t);let s=Aae(rl(t),n==="start",r);return a&&(s=s.map(i=>i+"-"+a),e&&(s=s.concat(s.map(E3)))),s}function j1(t){return t.replace(/left|right|bottom|top/g,e=>Cae[e])}function Rae(t){return{top:0,right:0,bottom:0,left:0,...t}}function PI(t){return typeof t!="number"?Rae(t):{top:t,right:t,bottom:t,left:t}}function T1(t){const{x:e,y:n,width:r,height:a}=t;return{width:r,height:a,top:n,left:e,right:e+r,bottom:n+a,x:e,y:n}}function Kj(t,e,n){let{reference:r,floating:a}=t;const s=to(e),i=b5(e),o=g5(i),c=rl(e),u=s==="y",d=r.x+r.width/2-a.width/2,m=r.y+r.height/2-a.height/2,h=r[o]/2-a[o]/2;let p;switch(c){case"top":p={x:d,y:r.y-a.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:m};break;case"left":p={x:r.x-a.width,y:m};break;default:p={x:r.x,y:r.y}}switch(Um(e)){case"start":p[i]-=h*(n&&u?-1:1);break;case"end":p[i]+=h*(n&&u?-1:1);break}return p}const Mae=async(t,e,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:i}=n,o=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let u=await i.getElementRects({reference:t,floating:e,strategy:a}),{x:d,y:m}=Kj(u,r,c),h=r,p={},f=0;for(let g=0;g<o.length;g++){const{name:x,fn:y}=o[g],{x:w,y:v,data:k,reset:C}=await y({x:d,y:m,initialPlacement:r,placement:h,strategy:a,middlewareData:p,rects:u,platform:i,elements:{reference:t,floating:e}});d=w??d,m=v??m,p={...p,[x]:{...p[x],...k}},C&&f<=50&&(f++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(u=C.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:a}):C.rects),{x:d,y:m}=Kj(u,h,c)),g=-1)}return{x:d,y:m,placement:h,strategy:a,middlewareData:p}};async function Kp(t,e){var n;e===void 0&&(e={});const{x:r,y:a,platform:s,rects:i,elements:o,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:m="floating",altBoundary:h=!1,padding:p=0}=nl(e,t),f=PI(p),x=o[h?m==="floating"?"reference":"floating":m],y=T1(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),w=m==="floating"?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,v=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),k=await(s.isElement==null?void 0:s.isElement(v))?await(s.getScale==null?void 0:s.getScale(v))||{x:1,y:1}:{x:1,y:1},C=T1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:w,offsetParent:v,strategy:c}):w);return{top:(y.top-C.top+f.top)/k.y,bottom:(C.bottom-y.bottom+f.bottom)/k.y,left:(y.left-C.left+f.left)/k.x,right:(C.right-y.right+f.right)/k.x}}const Dae=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:a,rects:s,platform:i,elements:o,middlewareData:c}=e,{element:u,padding:d=0}=nl(t,e)||{};if(u==null)return{};const m=PI(d),h={x:n,y:r},p=b5(a),f=g5(p),g=await i.getDimensions(u),x=p==="y",y=x?"top":"left",w=x?"bottom":"right",v=x?"clientHeight":"clientWidth",k=s.reference[f]+s.reference[p]-h[p]-s.floating[f],C=h[p]-s.reference[p],_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let S=_?_[v]:0;(!S||!await(i.isElement==null?void 0:i.isElement(_)))&&(S=o.floating[v]||s.floating[f]);const T=k/2-C/2,N=S/2-g[f]/2-1,j=Xl(m[y],N),R=Xl(m[w],N),I=j,A=S-g[f]-R,$=S/2-g[f]/2+T,E=T3(I,$,A),M=!c.arrow&&Um(a)!=null&&$!==E&&s.reference[f]/2-($<I?j:R)-g[f]/2<0,F=M?$<I?$-I:$-A:0;return{[p]:h[p]+F,data:{[p]:E,centerOffset:$-E-F,...M&&{alignmentOffset:F}},reset:M}}}),Lae=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:a,middlewareData:s,rects:i,initialPlacement:o,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:g=!0,...x}=nl(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=rl(a),w=to(o),v=rl(o)===o,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=h||(v||!g?[j1(o)]:Eae(o)),_=f!=="none";!h&&_&&C.push(...Iae(o,g,f,k));const S=[o,...C],T=await Kp(e,x),N=[];let j=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&N.push(T[y]),m){const $=Tae(a,i,k);N.push(T[$[0]],T[$[1]])}if(j=[...j,{placement:a,overflows:N}],!N.every($=>$<=0)){var R,I;const $=(((R=s.flip)==null?void 0:R.index)||0)+1,E=S[$];if(E&&(!(m==="alignment"?w!==to(E):!1)||j.every(L=>to(L.placement)===w?L.overflows[0]>0:!0)))return{data:{index:$,overflows:j},reset:{placement:E}};let M=(I=j.filter(F=>F.overflows[0]<=0).sort((F,L)=>F.overflows[1]-L.overflows[1])[0])==null?void 0:I.placement;if(!M)switch(p){case"bestFit":{var A;const F=(A=j.filter(L=>{if(_){const Y=to(L.placement);return Y===w||Y==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(Y=>Y>0).reduce((Y,O)=>Y+O,0)]).sort((L,Y)=>L[1]-Y[1])[0])==null?void 0:A[0];F&&(M=F);break}case"initialPlacement":M=o;break}if(a!==M)return{reset:{placement:M}}}return{}}}};function Yj(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Xj(t){return _ae.some(e=>t[e]>=0)}const Oae=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...a}=nl(t,e);switch(r){case"referenceHidden":{const s=await Kp(e,{...a,elementContext:"reference"}),i=Yj(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Xj(i)}}}case"escaped":{const s=await Kp(e,{...a,altBoundary:!0}),i=Yj(s,n.floating);return{data:{escapedOffsets:i,escaped:Xj(i)}}}default:return{}}}}},FI=new Set(["left","top"]);async function Pae(t,e){const{placement:n,platform:r,elements:a}=t,s=await(r.isRTL==null?void 0:r.isRTL(a.floating)),i=rl(n),o=Um(n),c=to(n)==="y",u=FI.has(i)?-1:1,d=s&&c?-1:1,m=nl(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:f}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return o&&typeof f=="number"&&(p=o==="end"?f*-1:f),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const Fae=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:a,y:s,placement:i,middlewareData:o}=e,c=await Pae(e,t);return i===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:i}}}}},Bae=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:a}=e,{mainAxis:s=!0,crossAxis:i=!1,limiter:o={fn:x=>{let{x:y,y:w}=x;return{x:y,y:w}}},...c}=nl(t,e),u={x:n,y:r},d=await Kp(e,c),m=to(rl(a)),h=f5(m);let p=u[h],f=u[m];if(s){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=p+d[x],v=p-d[y];p=T3(w,p,v)}if(i){const x=m==="y"?"top":"left",y=m==="y"?"bottom":"right",w=f+d[x],v=f-d[y];f=T3(w,f,v)}const g=o.fn({...e,[h]:p,[m]:f});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:s,[m]:i}}}}}},zae=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:a,rects:s,middlewareData:i}=e,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=nl(t,e),d={x:n,y:r},m=to(a),h=f5(m);let p=d[h],f=d[m];const g=nl(o,e),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const v=h==="y"?"height":"width",k=s.reference[h]-s.floating[v]+x.mainAxis,C=s.reference[h]+s.reference[v]-x.mainAxis;p<k?p=k:p>C&&(p=C)}if(u){var y,w;const v=h==="y"?"width":"height",k=FI.has(rl(a)),C=s.reference[m]-s.floating[v]+(k&&((y=i.offset)==null?void 0:y[m])||0)+(k?0:x.crossAxis),_=s.reference[m]+s.reference[v]+(k?0:((w=i.offset)==null?void 0:w[m])||0)-(k?x.crossAxis:0);f<C?f=C:f>_&&(f=_)}return{[h]:p,[m]:f}}}},Hae=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:a,rects:s,platform:i,elements:o}=e,{apply:c=()=>{},...u}=nl(t,e),d=await Kp(e,u),m=rl(a),h=Um(a),p=to(a)==="y",{width:f,height:g}=s.floating;let x,y;m==="top"||m==="bottom"?(x=m,y=h===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(y=m,x=h==="end"?"top":"bottom");const w=g-d.top-d.bottom,v=f-d.left-d.right,k=Xl(g-d[x],w),C=Xl(f-d[y],v),_=!e.middlewareData.shift;let S=k,T=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=v),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=w),_&&!h){const j=Ns(d.left,0),R=Ns(d.right,0),I=Ns(d.top,0),A=Ns(d.bottom,0);p?T=f-2*(j!==0||R!==0?j+R:Ns(d.left,d.right)):S=g-2*(I!==0||A!==0?I+A:Ns(d.top,d.bottom))}await c({...e,availableWidth:T,availableHeight:S});const N=await i.getDimensions(o.floating);return f!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function Fx(){return typeof window<"u"}function Wm(t){return BI(t)?(t.nodeName||"").toLowerCase():"#document"}function Ms(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fo(t){var e;return(e=(BI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function BI(t){return Fx()?t instanceof Node||t instanceof Ms(t).Node:!1}function Ai(t){return Fx()?t instanceof Element||t instanceof Ms(t).Element:!1}function co(t){return Fx()?t instanceof HTMLElement||t instanceof Ms(t).HTMLElement:!1}function Zj(t){return!Fx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ms(t).ShadowRoot}const qae=new Set(["inline","contents"]);function Df(t){const{overflow:e,overflowX:n,overflowY:r,display:a}=Ii(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!qae.has(a)}const Uae=new Set(["table","td","th"]);function Wae(t){return Uae.has(Wm(t))}const Gae=[":popover-open",":modal"];function Bx(t){return Gae.some(e=>{try{return t.matches(e)}catch{return!1}})}const Vae=["transform","translate","scale","rotate","perspective"],Kae=["transform","translate","scale","rotate","perspective","filter"],Yae=["paint","layout","strict","content"];function x5(t){const e=y5(),n=Ai(t)?Ii(t):t;return Vae.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Kae.some(r=>(n.willChange||"").includes(r))||Yae.some(r=>(n.contain||"").includes(r))}function Xae(t){let e=Zl(t);for(;co(e)&&!bm(e);){if(x5(e))return e;if(Bx(e))return null;e=Zl(e)}return null}function y5(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Zae=new Set(["html","body","#document"]);function bm(t){return Zae.has(Wm(t))}function Ii(t){return Ms(t).getComputedStyle(t)}function zx(t){return Ai(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Zl(t){if(Wm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Zj(t)&&t.host||fo(t);return Zj(e)?e.host:e}function zI(t){const e=Zl(t);return bm(e)?t.ownerDocument?t.ownerDocument.body:t.body:co(e)&&Df(e)?e:zI(e)}function Yp(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=zI(t),s=a===((r=t.ownerDocument)==null?void 0:r.body),i=Ms(a);if(s){const o=N3(i);return e.concat(i,i.visualViewport||[],Df(a)?a:[],o&&n?Yp(o):[])}return e.concat(a,Yp(a,[],n))}function N3(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function HI(t){const e=Ii(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const a=co(t),s=a?t.offsetWidth:n,i=a?t.offsetHeight:r,o=S1(n)!==s||S1(r)!==i;return o&&(n=s,r=i),{width:n,height:r,$:o}}function w5(t){return Ai(t)?t:t.contextElement}function Kd(t){const e=w5(t);if(!co(e))return so(1);const n=e.getBoundingClientRect(),{width:r,height:a,$:s}=HI(e);let i=(s?S1(n.width):n.width)/r,o=(s?S1(n.height):n.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const Qae=so(0);function qI(t){const e=Ms(t);return!y5()||!e.visualViewport?Qae:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Jae(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ms(t)?!1:e}function mu(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),s=w5(t);let i=so(1);e&&(r?Ai(r)&&(i=Kd(r)):i=Kd(t));const o=Jae(s,n,r)?qI(s):so(0);let c=(a.left+o.x)/i.x,u=(a.top+o.y)/i.y,d=a.width/i.x,m=a.height/i.y;if(s){const h=Ms(s),p=r&&Ai(r)?Ms(r):r;let f=h,g=N3(f);for(;g&&r&&p!==f;){const x=Kd(g),y=g.getBoundingClientRect(),w=Ii(g),v=y.left+(g.clientLeft+parseFloat(w.paddingLeft))*x.x,k=y.top+(g.clientTop+parseFloat(w.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,m*=x.y,c+=v,u+=k,f=Ms(g),g=N3(f)}}return T1({width:d,height:m,x:c,y:u})}function Hx(t,e){const n=zx(t).scrollLeft;return e?e.left+n:mu(fo(t)).left+n}function UI(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Hx(t,n),a=n.top+e.scrollTop;return{x:r,y:a}}function ese(t){let{elements:e,rect:n,offsetParent:r,strategy:a}=t;const s=a==="fixed",i=fo(r),o=e?Bx(e.floating):!1;if(r===i||o&&s)return n;let c={scrollLeft:0,scrollTop:0},u=so(1);const d=so(0),m=co(r);if((m||!m&&!s)&&((Wm(r)!=="body"||Df(i))&&(c=zx(r)),co(r))){const p=mu(r);u=Kd(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const h=i&&!m&&!s?UI(i,c):so(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function tse(t){return Array.from(t.getClientRects())}function nse(t){const e=fo(t),n=zx(t),r=t.ownerDocument.body,a=Ns(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ns(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Hx(t);const o=-n.scrollTop;return Ii(r).direction==="rtl"&&(i+=Ns(e.clientWidth,r.clientWidth)-a),{width:a,height:s,x:i,y:o}}const Qj=25;function rse(t,e){const n=Ms(t),r=fo(t),a=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,o=0,c=0;if(a){s=a.width,i=a.height;const d=y5();(!d||d&&e==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}const u=Hx(r);if(u<=0){const d=r.ownerDocument,m=d.body,h=getComputedStyle(m),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,f=Math.abs(r.clientWidth-m.clientWidth-p);f<=Qj&&(s-=f)}else u<=Qj&&(s+=u);return{width:s,height:i,x:o,y:c}}const ase=new Set(["absolute","fixed"]);function sse(t,e){const n=mu(t,!0,e==="fixed"),r=n.top+t.clientTop,a=n.left+t.clientLeft,s=co(t)?Kd(t):so(1),i=t.clientWidth*s.x,o=t.clientHeight*s.y,c=a*s.x,u=r*s.y;return{width:i,height:o,x:c,y:u}}function Jj(t,e,n){let r;if(e==="viewport")r=rse(t,n);else if(e==="document")r=nse(fo(t));else if(Ai(e))r=sse(e,n);else{const a=qI(t);r={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return T1(r)}function WI(t,e){const n=Zl(t);return n===e||!Ai(n)||bm(n)?!1:Ii(n).position==="fixed"||WI(n,e)}function ise(t,e){const n=e.get(t);if(n)return n;let r=Yp(t,[],!1).filter(o=>Ai(o)&&Wm(o)!=="body"),a=null;const s=Ii(t).position==="fixed";let i=s?Zl(t):t;for(;Ai(i)&&!bm(i);){const o=Ii(i),c=x5(i);!c&&o.position==="fixed"&&(a=null),(s?!c&&!a:!c&&o.position==="static"&&!!a&&ase.has(a.position)||Df(i)&&!c&&WI(t,i))?r=r.filter(d=>d!==i):a=o,i=Zl(i)}return e.set(t,r),r}function ose(t){let{element:e,boundary:n,rootBoundary:r,strategy:a}=t;const i=[...n==="clippingAncestors"?Bx(e)?[]:ise(e,this._c):[].concat(n),r],o=i[0],c=i.reduce((u,d)=>{const m=Jj(e,d,a);return u.top=Ns(m.top,u.top),u.right=Xl(m.right,u.right),u.bottom=Xl(m.bottom,u.bottom),u.left=Ns(m.left,u.left),u},Jj(e,o,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function lse(t){const{width:e,height:n}=HI(t);return{width:e,height:n}}function cse(t,e,n){const r=co(e),a=fo(e),s=n==="fixed",i=mu(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const c=so(0);function u(){c.x=Hx(a)}if(r||!r&&!s)if((Wm(e)!=="body"||Df(a))&&(o=zx(e)),r){const p=mu(e,!0,s,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else a&&u();s&&!r&&a&&u();const d=a&&!r&&!s?UI(a,o):so(0),m=i.left+o.scrollLeft-c.x-d.x,h=i.top+o.scrollTop-c.y-d.y;return{x:m,y:h,width:i.width,height:i.height}}function V2(t){return Ii(t).position==="static"}function e9(t,e){if(!co(t)||Ii(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return fo(t)===n&&(n=n.ownerDocument.body),n}function GI(t,e){const n=Ms(t);if(Bx(t))return n;if(!co(t)){let a=Zl(t);for(;a&&!bm(a);){if(Ai(a)&&!V2(a))return a;a=Zl(a)}return n}let r=e9(t,e);for(;r&&Wae(r)&&V2(r);)r=e9(r,e);return r&&bm(r)&&V2(r)&&!x5(r)?n:r||Xae(t)||n}const use=async function(t){const e=this.getOffsetParent||GI,n=this.getDimensions,r=await n(t.floating);return{reference:cse(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dse(t){return Ii(t).direction==="rtl"}const mse={convertOffsetParentRelativeRectToViewportRelativeRect:ese,getDocumentElement:fo,getClippingRect:ose,getOffsetParent:GI,getElementRects:use,getClientRects:tse,getDimensions:lse,getScale:Kd,isElement:Ai,isRTL:dse};function VI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function hse(t,e){let n=null,r;const a=fo(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function i(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:m,width:h,height:p}=u;if(o||e(),!h||!p)return;const f=A0(m),g=A0(a.clientWidth-(d+h)),x=A0(a.clientHeight-(m+p)),y=A0(d),v={rootMargin:-f+"px "+-g+"px "+-x+"px "+-y+"px",threshold:Ns(0,Xl(1,c))||1};let k=!0;function C(_){const S=_[0].intersectionRatio;if(S!==c){if(!k)return i();S?i(!1,S):r=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!VI(u,t.getBoundingClientRect())&&i(),k=!1}try{n=new IntersectionObserver(C,{...v,root:a.ownerDocument})}catch{n=new IntersectionObserver(C,v)}n.observe(t)}return i(!0),s}function pse(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=w5(t),d=a||s?[...u?Yp(u):[],...Yp(e)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const m=u&&o?hse(u,n):null;let h=-1,p=null;i&&(p=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(e)})),n()}),u&&!c&&p.observe(u),p.observe(e));let f,g=c?mu(t):null;c&&x();function x(){const y=mu(t);g&&!VI(g,y)&&n(),g=y,f=requestAnimationFrame(x)}return n(),()=>{var y;d.forEach(w=>{a&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),m?.(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(f)}}const fse=Fae,gse=Bae,bse=Lae,xse=Hae,yse=Oae,t9=Dae,wse=zae,vse=(t,e,n)=>{const r=new Map,a={platform:mse,...n},s={...a.platform,_c:r};return Mae(t,e,{...a,platform:s})};var kse=typeof document<"u",_se=function(){},Lg=kse?b.useLayoutEffect:_se;function E1(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!E1(t[r],e[r]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,a[r]))return!1;for(r=n;r--!==0;){const s=a[r];if(!(s==="_owner"&&t.$$typeof)&&!E1(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function KI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function n9(t,e){const n=KI(t);return Math.round(e*n)/n}function K2(t){const e=b.useRef(t);return Lg(()=>{e.current=t}),e}function Cse(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:s,floating:i}={},transform:o=!0,whileElementsMounted:c,open:u}=t,[d,m]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=b.useState(r);E1(h,r)||p(r);const[f,g]=b.useState(null),[x,y]=b.useState(null),w=b.useCallback(L=>{L!==_.current&&(_.current=L,g(L))},[]),v=b.useCallback(L=>{L!==S.current&&(S.current=L,y(L))},[]),k=s||f,C=i||x,_=b.useRef(null),S=b.useRef(null),T=b.useRef(d),N=c!=null,j=K2(c),R=K2(a),I=K2(u),A=b.useCallback(()=>{if(!_.current||!S.current)return;const L={placement:e,strategy:n,middleware:h};R.current&&(L.platform=R.current),vse(_.current,S.current,L).then(Y=>{const O={...Y,isPositioned:I.current!==!1};$.current&&!E1(T.current,O)&&(T.current=O,Ys.flushSync(()=>{m(O)}))})},[h,e,n,R,I]);Lg(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,m(L=>({...L,isPositioned:!1})))},[u]);const $=b.useRef(!1);Lg(()=>($.current=!0,()=>{$.current=!1}),[]),Lg(()=>{if(k&&(_.current=k),C&&(S.current=C),k&&C){if(j.current)return j.current(k,C,A);A()}},[k,C,A,j,N]);const E=b.useMemo(()=>({reference:_,floating:S,setReference:w,setFloating:v}),[w,v]),M=b.useMemo(()=>({reference:k,floating:C}),[k,C]),F=b.useMemo(()=>{const L={position:n,left:0,top:0};if(!M.floating)return L;const Y=n9(M.floating,d.x),O=n9(M.floating,d.y);return o?{...L,transform:"translate("+Y+"px, "+O+"px)",...KI(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:O}},[n,o,M.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:A,refs:E,elements:M,floatingStyles:F}),[d,A,E,M,F])}const Sse=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:a}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?t9({element:r.current,padding:a}).fn(n):{}:r?t9({element:r,padding:a}).fn(n):{}}}},jse=(t,e)=>({...fse(t),options:[t,e]}),Tse=(t,e)=>({...gse(t),options:[t,e]}),Ese=(t,e)=>({...wse(t),options:[t,e]}),Nse=(t,e)=>({...bse(t),options:[t,e]}),$se=(t,e)=>({...xse(t),options:[t,e]}),Ase=(t,e)=>({...yse(t),options:[t,e]}),Ise=(t,e)=>({...Sse(t),options:[t,e]});function Rse(t){const e=Mse(t),n=b.forwardRef((r,a)=>{const{children:s,...i}=r,o=b.Children.toArray(s),c=o.find(Lse);if(c){const u=c.props.children,d=o.map(m=>m===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:m);return l.jsx(e,{...i,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return l.jsx(e,{...i,ref:a,children:s})});return n.displayName=`${t}.Slot`,n}function Mse(t){const e=b.forwardRef((n,r)=>{const{children:a,...s}=n;if(b.isValidElement(a)){const i=Pse(a),o=Ose(s,a.props);return a.type!==b.Fragment&&(o.ref=r?Fa(r,i):i),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Dse=Symbol("radix.slottable");function Lse(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Dse}function Ose(t,e){const n={...e};for(const r in e){const a=t[r],s=e[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...o)=>{const c=s(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...t,...n}}function Pse(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Fse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bse=Fse.reduce((t,e)=>{const n=Rse(`Primitive.${e}`),r=b.forwardRef((a,s)=>{const{asChild:i,...o}=a,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),zse="Arrow",YI=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:a=5,...s}=t;return l.jsx(Bse.svg,{...s,ref:e,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});YI.displayName=zse;var Hse=YI;function qse(t){const e=Use(t),n=b.forwardRef((r,a)=>{const{children:s,...i}=r,o=b.Children.toArray(s),c=o.find(Gse);if(c){const u=c.props.children,d=o.map(m=>m===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:m);return l.jsx(e,{...i,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return l.jsx(e,{...i,ref:a,children:s})});return n.displayName=`${t}.Slot`,n}function Use(t){const e=b.forwardRef((n,r)=>{const{children:a,...s}=n;if(b.isValidElement(a)){const i=Kse(a),o=Vse(s,a.props);return a.type!==b.Fragment&&(o.ref=r?Fa(r,i):i),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Wse=Symbol("radix.slottable");function Gse(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Wse}function Vse(t,e){const n={...e};for(const r in e){const a=t[r],s=e[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...o)=>{const c=s(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...t,...n}}function Kse(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Yse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],XI=Yse.reduce((t,e)=>{const n=qse(`Primitive.${e}`),r=b.forwardRef((a,s)=>{const{asChild:i,...o}=a,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function ZI(t){const[e,n]=b.useState(void 0);return Ni(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let i,o;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,o=u.blockSize}else i=t.offsetWidth,o=t.offsetHeight;n({width:i,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var v5="Popper",[QI,mc]=dl(v5),[Xse,JI]=QI(v5),eR=t=>{const{__scopePopper:e,children:n}=t,[r,a]=b.useState(null);return l.jsx(Xse,{scope:e,anchor:r,onAnchorChange:a,children:n})};eR.displayName=v5;var tR="PopperAnchor",nR=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...a}=t,s=JI(tR,n),i=b.useRef(null),o=Rr(e,i),c=b.useRef(null);return b.useEffect(()=>{const u=c.current;c.current=r?.current||i.current,u!==c.current&&s.onAnchorChange(c.current)}),r?null:l.jsx(XI.div,{...a,ref:o})});nR.displayName=tR;var k5="PopperContent",[Zse,Qse]=QI(k5),rR=b.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:s="center",alignOffset:i=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:f,...g}=t,x=JI(k5,n),[y,w]=b.useState(null),v=Rr(e,V=>w(V)),[k,C]=b.useState(null),_=ZI(k),S=_?.width??0,T=_?.height??0,N=r+(s!=="center"?"-"+s:""),j=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],I=R.length>0,A={padding:j,boundary:R.filter(eie),altBoundary:I},{refs:$,floatingStyles:E,placement:M,isPositioned:F,middlewareData:L}=Cse({strategy:"fixed",placement:N,whileElementsMounted:(...V)=>pse(...V,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[jse({mainAxis:a+T,alignmentAxis:i}),c&&Tse({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Ese():void 0,...A}),c&&Nse({...A}),$se({...A,apply:({elements:V,rects:Z,availableWidth:W,availableHeight:K})=>{const{width:J,height:ee}=Z.reference,se=V.floating.style;se.setProperty("--radix-popper-available-width",`${W}px`),se.setProperty("--radix-popper-available-height",`${K}px`),se.setProperty("--radix-popper-anchor-width",`${J}px`),se.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),k&&Ise({element:k,padding:o}),tie({arrowWidth:S,arrowHeight:T}),h&&Ase({strategy:"referenceHidden",...A})]}),[Y,O]=iR(M),G=$_(f);Ni(()=>{F&&G?.()},[F,G]);const H=L.arrow?.x,D=L.arrow?.y,U=L.arrow?.centerOffset!==0,[B,q]=b.useState();return Ni(()=>{y&&q(window.getComputedStyle(y).zIndex)},[y]),l.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...E,transform:F?E.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:B,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(Zse,{scope:n,placedSide:Y,onArrowChange:C,arrowX:H,arrowY:D,shouldHideArrow:U,children:l.jsx(XI.div,{"data-side":Y,"data-align":O,...g,ref:v,style:{...g.style,animation:F?void 0:"none"}})})})});rR.displayName=k5;var aR="PopperArrow",Jse={top:"bottom",right:"left",bottom:"top",left:"right"},sR=b.forwardRef(function(e,n){const{__scopePopper:r,...a}=e,s=Qse(aR,r),i=Jse[s.placedSide];return l.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:l.jsx(Hse,{...a,ref:n,style:{...a.style,display:"block"}})})});sR.displayName=aR;function eie(t){return t!==null}var tie=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:a}=e,i=a.arrow?.centerOffset!==0,o=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[u,d]=iR(n),m={start:"0%",center:"50%",end:"100%"}[d],h=(a.arrow?.x??0)+o/2,p=(a.arrow?.y??0)+c/2;let f="",g="";return u==="bottom"?(f=i?m:`${h}px`,g=`${-c}px`):u==="top"?(f=i?m:`${h}px`,g=`${r.floating.height+c}px`):u==="right"?(f=`${-c}px`,g=i?m:`${p}px`):u==="left"&&(f=`${r.floating.width+c}px`,g=i?m:`${p}px`),{data:{x:f,y:g}}}});function iR(t){const[e,n="center"]=t.split("-");return[e,n]}var qx=eR,Lf=nR,Ux=rR,Wx=sR;function nie(t){const e=rie(t),n=b.forwardRef((r,a)=>{const{children:s,...i}=r,o=b.Children.toArray(s),c=o.find(sie);if(c){const u=c.props.children,d=o.map(m=>m===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:m);return l.jsx(e,{...i,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return l.jsx(e,{...i,ref:a,children:s})});return n.displayName=`${t}.Slot`,n}function rie(t){const e=b.forwardRef((n,r)=>{const{children:a,...s}=n;if(b.isValidElement(a)){const i=oie(a),o=iie(s,a.props);return a.type!==b.Fragment&&(o.ref=r?Fa(r,i):i),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var oR=Symbol("radix.slottable");function aie(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=oR,e}function sie(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oR}function iie(t,e){const n={...e};for(const r in e){const a=t[r],s=e[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...o)=>{const c=s(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...t,...n}}function oie(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var lie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lR=lie.reduce((t,e)=>{const n=nie(`Primitive.${e}`),r=b.forwardRef((a,s)=>{const{asChild:i,...o}=a,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),cie=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),uie="VisuallyHidden",cR=b.forwardRef((t,e)=>l.jsx(lR.span,{...t,ref:e,style:{...cie,...t.style}}));cR.displayName=uie;var die=cR,[Gx]=dl("Tooltip",[mc]),Vx=mc(),uR="TooltipProvider",mie=700,$3="tooltip.open",[hie,_5]=Gx(uR),dR=t=>{const{__scopeTooltip:e,delayDuration:n=mie,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:s}=t,i=b.useRef(!0),o=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(hie,{scope:e,isOpenDelayedRef:i,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:b.useCallback(u=>{o.current=u},[]),disableHoverableContent:a,children:s})};dR.displayName=uR;var Xp="Tooltip",[pie,Of]=Gx(Xp),mR=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:a,onOpenChange:s,disableHoverableContent:i,delayDuration:o}=t,c=_5(Xp,t.__scopeTooltip),u=Vx(e),[d,m]=b.useState(null),h=Qs(),p=b.useRef(0),f=i??c.disableHoverableContent,g=o??c.delayDuration,x=b.useRef(!1),[y,w]=lo({prop:r,defaultProp:a??!1,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent($3))):c.onClose(),s?.(S)},caller:Xp}),v=b.useMemo(()=>y?x.current?"delayed-open":"instant-open":"closed",[y]),k=b.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x.current=!1,w(!0)},[w]),C=b.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w(!1)},[w]),_=b.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{x.current=!0,w(!0),p.current=0},g)},[g,w]);return b.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),l.jsx(qx,{...u,children:l.jsx(pie,{scope:e,contentId:h,open:y,stateAttribute:v,trigger:d,onTriggerChange:m,onTriggerEnter:b.useCallback(()=>{c.isOpenDelayedRef.current?_():k()},[c.isOpenDelayedRef,_,k]),onTriggerLeave:b.useCallback(()=>{f?C():(window.clearTimeout(p.current),p.current=0)},[C,f]),onOpen:k,onClose:C,disableHoverableContent:f,children:n})})};mR.displayName=Xp;var A3="TooltipTrigger",hR=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,a=Of(A3,n),s=_5(A3,n),i=Vx(n),o=b.useRef(null),c=Rr(e,o,a.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),m=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),l.jsx(Lf,{asChild:!0,...i,children:l.jsx(lR.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:kn(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:kn(t.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:kn(t.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:kn(t.onFocus,()=>{u.current||a.onOpen()}),onBlur:kn(t.onBlur,a.onClose),onClick:kn(t.onClick,a.onClose)})})});hR.displayName=A3;var C5="TooltipPortal",[fie,gie]=Gx(C5,{forceMount:void 0}),pR=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:a}=t,s=Of(C5,e);return l.jsx(fie,{scope:e,forceMount:n,children:l.jsx(Mu,{present:n||s.open,children:l.jsx(fx,{asChild:!0,container:a,children:r})})})};pR.displayName=C5;var xm="TooltipContent",fR=b.forwardRef((t,e)=>{const n=gie(xm,t.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...s}=t,i=Of(xm,t.__scopeTooltip);return l.jsx(Mu,{present:r||i.open,children:i.disableHoverableContent?l.jsx(gR,{side:a,...s,ref:e}):l.jsx(bie,{side:a,...s,ref:e})})}),bie=b.forwardRef((t,e)=>{const n=Of(xm,t.__scopeTooltip),r=_5(xm,t.__scopeTooltip),a=b.useRef(null),s=Rr(e,a),[i,o]=b.useState(null),{trigger:c,onClose:u}=n,d=a.current,{onPointerInTransitChange:m}=r,h=b.useCallback(()=>{o(null),m(!1)},[m]),p=b.useCallback((f,g)=>{const x=f.currentTarget,y={x:f.clientX,y:f.clientY},w=vie(y,x.getBoundingClientRect()),v=kie(y,w),k=_ie(g.getBoundingClientRect()),C=Sie([...v,...k]);o(C),m(!0)},[m]);return b.useEffect(()=>()=>h(),[h]),b.useEffect(()=>{if(c&&d){const f=x=>p(x,d),g=x=>p(x,c);return c.addEventListener("pointerleave",f),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",f),d.removeEventListener("pointerleave",g)}}},[c,d,p,h]),b.useEffect(()=>{if(i){const f=g=>{const x=g.target,y={x:g.clientX,y:g.clientY},w=c?.contains(x)||d?.contains(x),v=!Cie(y,i);w?h():v&&(h(),u())};return document.addEventListener("pointermove",f),()=>document.removeEventListener("pointermove",f)}},[c,d,i,u,h]),l.jsx(gR,{...t,ref:s})}),[xie,yie]=Gx(Xp,{isInside:!1}),wie=aie("TooltipContent"),gR=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:i,...o}=t,c=Of(xm,n),u=Vx(n),{onClose:d}=c;return b.useEffect(()=>(document.addEventListener($3,d),()=>document.removeEventListener($3,d)),[d]),b.useEffect(()=>{if(c.trigger){const m=h=>{h.target?.contains(c.trigger)&&d()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,d]),l.jsx(gx,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:m=>m.preventDefault(),onDismiss:d,children:l.jsxs(Ux,{"data-state":c.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(wie,{children:r}),l.jsx(xie,{scope:n,isInside:!0,children:l.jsx(die,{id:c.contentId,role:"tooltip",children:a||r})})]})})});fR.displayName=xm;var bR="TooltipArrow",xR=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,a=Vx(n);return yie(bR,n).isInside?null:l.jsx(Wx,{...a,...r,ref:e})});xR.displayName=bR;function vie(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,a,s)){case s:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function kie(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function _ie(t){const{top:e,right:n,bottom:r,left:a}=t;return[{x:a,y:e},{x:n,y:e},{x:n,y:r},{x:a,y:r}]}function Cie(t,e){const{x:n,y:r}=t;let a=!1;for(let s=0,i=e.length-1;s<e.length;i=s++){const o=e[s],c=e[i],u=o.x,d=o.y,m=c.x,h=c.y;d>r!=h>r&&n<(m-u)*(r-d)/(h-d)+u&&(a=!a)}return a}function Sie(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),jie(e)}function jie(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const a=t[r];for(;e.length>=2;){const s=e[e.length-1],i=e[e.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))e.pop();else break}e.push(a)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const a=t[r];for(;n.length>=2;){const s=n[n.length-1],i=n[n.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))n.pop();else break}n.push(a)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Tie=dR,Eie=mR,Nie=hR,$ie=pR,yR=fR,wR=xR;const I3=Tie,Ye=Eie,Xe=Nie,vR=b.forwardRef((t,e)=>{const n=ae.c(9);let r,a;n[0]!==t?({className:r,...a}=t,n[0]=t,n[1]=r,n[2]=a):(r=n[1],a=n[2]);let s;n[3]!==r?(s=ce("fill-modal-bg",r),n[3]=r,n[4]=s):s=n[4];let i;return n[5]!==a||n[6]!==e||n[7]!==s?(i=l.jsx(wR,{ref:e,className:s,...a}),n[5]=a,n[6]=e,n[7]=s,n[8]=i):i=n[8],i});vR.displayName=wR.displayName;const Ke=b.forwardRef((t,e)=>{const n=ae.c(17);let r,a,s,i,o;n[0]!==t?({className:a,sideOffset:i,showArrow:o,children:r,...s}=t,n[0]=t,n[1]=r,n[2]=a,n[3]=s,n[4]=i,n[5]=o):(r=n[1],a=n[2],s=n[3],i=n[4],o=n[5]);const c=i===void 0?8:i,u=o===void 0?!0:o;let d;n[6]!==a?(d=ce("bg-modal-bg text-foreground z-[9999] rounded px-[10px] py-[6px]","text-[11px] font-normal font-sans text-left","border border-separator-light shadow-[0_2px_8px_rgba(0,0,0,0.4)]","animate-in fade-in-0 zoom-in-95","data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),n[6]=a,n[7]=d):d=n[7];let m;n[8]!==u?(m=u&&l.jsx(vR,{}),n[8]=u,n[9]=m):m=n[9];let h;return n[10]!==r||n[11]!==s||n[12]!==e||n[13]!==c||n[14]!==d||n[15]!==m?(h=l.jsx($ie,{children:l.jsxs(yR,{ref:e,sideOffset:c,className:d,...s,children:[r,m]})}),n[10]=r,n[11]=s,n[12]=e,n[13]=c,n[14]=d,n[15]=m,n[16]=h):h=n[16],h});Ke.displayName=yR.displayName;const hc=b.forwardRef((t,e)=>{const n=ae.c(11);let r,a,s;n[0]!==t?({className:a,children:r,...s}=t,n[0]=t,n[1]=r,n[2]=a,n[3]=s):(r=n[1],a=n[2],s=n[3]);let i;n[4]!==a?(i=ce("text-muted flex cursor-help items-center text-[10px] leading-none",a),n[4]=a,n[5]=i):i=n[5];let o;return n[6]!==r||n[7]!==s||n[8]!==e||n[9]!==i?(o=l.jsx("span",{ref:e,className:i,...s,children:r}),n[6]=r,n[7]=s,n[8]=e,n[9]=i,n[10]=o):o=n[10],o});hc.displayName="HelpIndicator";const R3=t=>{const e=ae.c(11),{collapsed:n,onToggle:r,side:a,shortcut:s}=t,i=a==="left"?n?"":"":n?"":"",o=n?"Expand sidebar":"Collapse sidebar",c=n?"text-muted hover:bg-hover hover:text-foreground flex w-full flex-1 cursor-pointer items-center justify-center bg-transparent p-0 text-xs transition-all duration-200":"text-muted border-dark hover:bg-hover hover:text-foreground mt-auto flex h-6 w-full cursor-pointer items-center justify-center border-t border-none bg-transparent p-0 text-xs transition-all duration-200";let u;e[0]!==i||e[1]!==o||e[2]!==r||e[3]!==c?(u=l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:r,"aria-label":o,className:c,children:i})}),e[0]=i,e[1]=o,e[2]=r,e[3]=c,e[4]=u):u=e[4];const d=s&&` (${s})`;let m;e[5]!==o||e[6]!==d?(m=l.jsxs(Ke,{align:"center",children:[o,d]}),e[5]=o,e[6]=d,e[7]=m):m=e[7];let h;return e[8]!==u||e[9]!==m?(h=l.jsxs(Ye,{children:[u,m]}),e[8]=u,e[9]=m,e[10]=h):h=e[10],h},kR=t=>{const[e,n]=b.useState(!1),r=t.onConfirm,a=t.onCancel,s=b.useCallback(async()=>{if(!e){n(!0);try{await r()}finally{n(!1)}}},[e,r]),i=b.useCallback(o=>{!o&&!e&&a()},[e,a]);return l.jsx(sa,{open:t.isOpen,onOpenChange:i,children:l.jsxs(ia,{maxWidth:"450px",showCloseButton:!1,children:[l.jsxs(Sa,{children:[l.jsx(oa,{children:t.title}),t.description&&l.jsx(ml,{children:t.description})]}),t.warning&&l.jsxs(iA,{children:[l.jsx(oA,{children:"Warning"}),l.jsx(lA,{children:t.warning})]}),l.jsxs(Li,{className:"justify-center",children:[l.jsx(tt,{variant:"secondary",onClick:a,disabled:e,children:t.cancelLabel??"Cancel"}),l.jsx(tt,{variant:"destructive",onClick:()=>void s(),disabled:e,children:e?"Processing...":t.confirmLabel??"Confirm"})]})]})})};function r9(t,[e,n]){return Math.min(n,Math.max(e,t))}function a9(t){const e=Aie(t),n=b.forwardRef((r,a)=>{const{children:s,...i}=r,o=b.Children.toArray(s),c=o.find(Rie);if(c){const u=c.props.children,d=o.map(m=>m===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:m);return l.jsx(e,{...i,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return l.jsx(e,{...i,ref:a,children:s})});return n.displayName=`${t}.Slot`,n}function Aie(t){const e=b.forwardRef((n,r)=>{const{children:a,...s}=n;if(b.isValidElement(a)){const i=Die(a),o=Mie(s,a.props);return a.type!==b.Fragment&&(o.ref=r?Fa(r,i):i),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Iie=Symbol("radix.slottable");function Rie(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Iie}function Mie(t,e){const n={...e};for(const r in e){const a=t[r],s=e[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...o)=>{const c=s(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...t,...n}}function Die(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function _R(t){const e=t+"CollectionProvider",[n,r]=dl(e),[a,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:x,children:y}=g,w=xe.useRef(null),v=xe.useRef(new Map).current;return l.jsx(a,{scope:x,itemMap:v,collectionRef:w,children:y})};i.displayName=e;const o=t+"CollectionSlot",c=a9(o),u=xe.forwardRef((g,x)=>{const{scope:y,children:w}=g,v=s(o,y),k=Rr(x,v.collectionRef);return l.jsx(c,{ref:k,children:w})});u.displayName=o;const d=t+"CollectionItemSlot",m="data-radix-collection-item",h=a9(d),p=xe.forwardRef((g,x)=>{const{scope:y,children:w,...v}=g,k=xe.useRef(null),C=Rr(x,k),_=s(d,y);return xe.useEffect(()=>(_.itemMap.set(k,{ref:k,...v}),()=>void _.itemMap.delete(k))),l.jsx(h,{[m]:"",ref:C,children:w})});p.displayName=d;function f(g){const x=s(t+"CollectionConsumer",g);return xe.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${m}]`));return Array.from(x.itemMap.values()).sort((_,S)=>v.indexOf(_.ref.current)-v.indexOf(S.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},f,r]}var Lie=b.createContext(void 0);function S5(t){const e=b.useContext(Lie);return t||e||"ltr"}function CR(t){const e=Oie(t),n=b.forwardRef((r,a)=>{const{children:s,...i}=r,o=b.Children.toArray(s),c=o.find(Fie);if(c){const u=c.props.children,d=o.map(m=>m===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:m);return l.jsx(e,{...i,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return l.jsx(e,{...i,ref:a,children:s})});return n.displayName=`${t}.Slot`,n}function Oie(t){const e=b.forwardRef((n,r)=>{const{children:a,...s}=n;if(b.isValidElement(a)){const i=zie(a),o=Bie(s,a.props);return a.type!==b.Fragment&&(o.ref=r?Fa(r,i):i),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Pie=Symbol("radix.slottable");function Fie(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Pie}function Bie(t,e){const n={...e};for(const r in e){const a=t[r],s=e[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...o)=>{const c=s(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...t,...n}}function zie(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Hie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bs=Hie.reduce((t,e)=>{const n=CR(`Primitive.${e}`),r=b.forwardRef((a,s)=>{const{asChild:i,...o}=a,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function SR(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var jR=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),qie="VisuallyHidden",Uie=b.forwardRef((t,e)=>l.jsx(bs.span,{...t,ref:e,style:{...jR,...t.style}}));Uie.displayName=qie;var Wie=[" ","Enter","ArrowUp","ArrowDown"],Gie=[" ","Enter"],hu="Select",[Kx,Yx,Vie]=_R(hu),[Gm]=dl(hu,[Vie,mc]),Xx=mc(),[Kie,pc]=Gm(hu),[Yie,Xie]=Gm(hu),TR=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:a,onOpenChange:s,value:i,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:m,disabled:h,required:p,form:f}=t,g=Xx(e),[x,y]=b.useState(null),[w,v]=b.useState(null),[k,C]=b.useState(!1),_=S5(u),[S,T]=lo({prop:r,defaultProp:a??!1,onChange:s,caller:hu}),[N,j]=lo({prop:i,defaultProp:o,onChange:c,caller:hu}),R=b.useRef(null),I=x?f||!!x.closest("form"):!0,[A,$]=b.useState(new Set),E=Array.from(A).map(M=>M.props.value).join(";");return l.jsx(qx,{...g,children:l.jsxs(Kie,{required:p,scope:e,trigger:x,onTriggerChange:y,valueNode:w,onValueNodeChange:v,valueNodeHasChildren:k,onValueNodeHasChildrenChange:C,contentId:Qs(),value:N,onValueChange:j,open:S,onOpenChange:T,dir:_,triggerPointerDownPosRef:R,disabled:h,children:[l.jsx(Kx.Provider,{scope:e,children:l.jsx(Yie,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(M=>{$(F=>new Set(F).add(M))},[]),onNativeOptionRemove:b.useCallback(M=>{$(F=>{const L=new Set(F);return L.delete(M),L})},[]),children:n})}),I?l.jsxs(ZR,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:m,value:N,onChange:M=>j(M.target.value),disabled:h,form:f,children:[N===void 0?l.jsx("option",{value:""}):null,Array.from(A)]},E):null]})})};TR.displayName=hu;var ER="SelectTrigger",NR=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...a}=t,s=Xx(n),i=pc(ER,n),o=i.disabled||r,c=Rr(e,i.onTriggerChange),u=Yx(n),d=b.useRef("touch"),[m,h,p]=JR(g=>{const x=u().filter(v=>!v.disabled),y=x.find(v=>v.value===i.value),w=eM(x,g,y);w!==void 0&&i.onValueChange(w.value)}),f=g=>{o||(i.onOpenChange(!0),p()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(Lf,{asChild:!0,...s,children:l.jsx(bs.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":QR(i.value)?"":void 0,...a,ref:c,onClick:kn(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&f(g)}),onPointerDown:kn(a.onPointerDown,g=>{d.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(f(g),g.preventDefault())}),onKeyDown:kn(a.onKeyDown,g=>{const x=m.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(x&&g.key===" ")&&Wie.includes(g.key)&&(f(),g.preventDefault())})})})});NR.displayName=ER;var $R="SelectValue",AR=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:a,children:s,placeholder:i="",...o}=t,c=pc($R,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,m=Rr(e,c.onValueNodeChange);return Ni(()=>{u(d)},[u,d]),l.jsx(bs.span,{...o,ref:m,style:{pointerEvents:"none"},children:QR(c.value)?l.jsx(l.Fragment,{children:i}):s})});AR.displayName=$R;var Zie="SelectIcon",IR=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...a}=t;return l.jsx(bs.span,{"aria-hidden":!0,...a,ref:e,children:r||""})});IR.displayName=Zie;var Qie="SelectPortal",RR=t=>l.jsx(fx,{asChild:!0,...t});RR.displayName=Qie;var pu="SelectContent",MR=b.forwardRef((t,e)=>{const n=pc(pu,t.__scopeSelect),[r,a]=b.useState();if(Ni(()=>{a(new DocumentFragment)},[]),!n.open){const s=r;return s?Ys.createPortal(l.jsx(DR,{scope:t.__scopeSelect,children:l.jsx(Kx.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),s):null}return l.jsx(LR,{...t,ref:e})});MR.displayName=pu;var hi=10,[DR,fc]=Gm(pu),Jie="SelectContentImpl",eoe=CR("SelectContent.RemoveScroll"),LR=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:i,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:f,hideWhenDetached:g,avoidCollisions:x,...y}=t,w=pc(pu,n),[v,k]=b.useState(null),[C,_]=b.useState(null),S=Rr(e,V=>k(V)),[T,N]=b.useState(null),[j,R]=b.useState(null),I=Yx(n),[A,$]=b.useState(!1),E=b.useRef(!1);b.useEffect(()=>{if(v)return cA(v)},[v]),uA();const M=b.useCallback(V=>{const[Z,...W]=I().map(ee=>ee.ref.current),[K]=W.slice(-1),J=document.activeElement;for(const ee of V)if(ee===J||(ee?.scrollIntoView({block:"nearest"}),ee===Z&&C&&(C.scrollTop=0),ee===K&&C&&(C.scrollTop=C.scrollHeight),ee?.focus(),document.activeElement!==J))return},[I,C]),F=b.useCallback(()=>M([T,v]),[M,T,v]);b.useEffect(()=>{A&&F()},[A,F]);const{onOpenChange:L,triggerPointerDownPosRef:Y}=w;b.useEffect(()=>{if(v){let V={x:0,y:0};const Z=K=>{V={x:Math.abs(Math.round(K.pageX)-(Y.current?.x??0)),y:Math.abs(Math.round(K.pageY)-(Y.current?.y??0))}},W=K=>{V.x<=10&&V.y<=10?K.preventDefault():v.contains(K.target)||L(!1),document.removeEventListener("pointermove",Z),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",W,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",W,{capture:!0})}}},[v,L,Y]),b.useEffect(()=>{const V=()=>L(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[L]);const[O,G]=JR(V=>{const Z=I().filter(J=>!J.disabled),W=Z.find(J=>J.ref.current===document.activeElement),K=eM(Z,V,W);K&&setTimeout(()=>K.ref.current.focus())}),H=b.useCallback((V,Z,W)=>{const K=!E.current&&!W;(w.value!==void 0&&w.value===Z||K)&&(N(V),K&&(E.current=!0))},[w.value]),D=b.useCallback(()=>v?.focus(),[v]),U=b.useCallback((V,Z,W)=>{const K=!E.current&&!W;(w.value!==void 0&&w.value===Z||K)&&R(V)},[w.value]),B=r==="popper"?M3:OR,q=B===M3?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:f,hideWhenDetached:g,avoidCollisions:x}:{};return l.jsx(DR,{scope:n,content:v,viewport:C,onViewportChange:_,itemRefCallback:H,selectedItem:T,onItemLeave:D,itemTextRefCallback:U,focusSelectedItem:F,selectedItemText:j,position:r,isPositioned:A,searchRef:O,children:l.jsx(dA,{as:eoe,allowPinchZoom:!0,children:l.jsx(mA,{asChild:!0,trapped:w.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:kn(a,V=>{w.trigger?.focus({preventScroll:!0}),V.preventDefault()}),children:l.jsx(gx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:l.jsx(B,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:V=>V.preventDefault(),...y,...q,onPlaced:()=>$(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:kn(y.onKeyDown,V=>{const Z=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!Z&&V.key.length===1&&G(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let K=I().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(V.key)&&(K=K.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const J=V.target,ee=K.indexOf(J);K=K.slice(ee+1)}setTimeout(()=>M(K)),V.preventDefault()}})})})})})})});LR.displayName=Jie;var toe="SelectItemAlignedPosition",OR=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...a}=t,s=pc(pu,n),i=fc(pu,n),[o,c]=b.useState(null),[u,d]=b.useState(null),m=Rr(e,S=>d(S)),h=Yx(n),p=b.useRef(!1),f=b.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:y,focusSelectedItem:w}=i,v=b.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&g&&x&&y){const S=s.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),N=s.valueNode.getBoundingClientRect(),j=y.getBoundingClientRect();if(s.dir!=="rtl"){const J=j.left-T.left,ee=N.left-J,se=S.left-ee,re=S.width+se,ue=Math.max(re,T.width),he=window.innerWidth-hi,ke=r9(ee,[hi,Math.max(hi,he-ue)]);o.style.minWidth=re+"px",o.style.left=ke+"px"}else{const J=T.right-j.right,ee=window.innerWidth-N.right-J,se=window.innerWidth-S.right-ee,re=S.width+se,ue=Math.max(re,T.width),he=window.innerWidth-hi,ke=r9(ee,[hi,Math.max(hi,he-ue)]);o.style.minWidth=re+"px",o.style.right=ke+"px"}const R=h(),I=window.innerHeight-hi*2,A=g.scrollHeight,$=window.getComputedStyle(u),E=parseInt($.borderTopWidth,10),M=parseInt($.paddingTop,10),F=parseInt($.borderBottomWidth,10),L=parseInt($.paddingBottom,10),Y=E+M+A+L+F,O=Math.min(x.offsetHeight*5,Y),G=window.getComputedStyle(g),H=parseInt(G.paddingTop,10),D=parseInt(G.paddingBottom,10),U=S.top+S.height/2-hi,B=I-U,q=x.offsetHeight/2,V=x.offsetTop+q,Z=E+M+V,W=Y-Z;if(Z<=U){const J=R.length>0&&x===R[R.length-1].ref.current;o.style.bottom="0px";const ee=u.clientHeight-g.offsetTop-g.offsetHeight,se=Math.max(B,q+(J?D:0)+ee+F),re=Z+se;o.style.height=re+"px"}else{const J=R.length>0&&x===R[0].ref.current;o.style.top="0px";const se=Math.max(U,E+g.offsetTop+(J?H:0)+q)+W;o.style.height=se+"px",g.scrollTop=Z-U+g.offsetTop}o.style.margin=`${hi}px 0`,o.style.minHeight=O+"px",o.style.maxHeight=I+"px",r?.(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,o,u,g,x,y,s.dir,r]);Ni(()=>v(),[v]);const[k,C]=b.useState();Ni(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const _=b.useCallback(S=>{S&&f.current===!0&&(v(),w?.(),f.current=!1)},[v,w]);return l.jsx(roe,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:_,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:l.jsx(bs.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});OR.displayName=toe;var noe="SelectPopperPosition",M3=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=hi,...s}=t,i=Xx(n);return l.jsx(Ux,{...i,...s,ref:e,align:r,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});M3.displayName=noe;var[roe,j5]=Gm(pu,{}),D3="SelectViewport",PR=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...a}=t,s=fc(D3,n),i=j5(D3,n),o=Rr(e,s.onViewportChange),c=b.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(Kx.Slot,{scope:n,children:l.jsx(bs.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:kn(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=i;if(h?.current&&m){const p=Math.abs(c.current-d.scrollTop);if(p>0){const f=window.innerHeight-hi*2,g=parseFloat(m.style.minHeight),x=parseFloat(m.style.height),y=Math.max(g,x);if(y<f){const w=y+p,v=Math.min(f,w),k=w-v;m.style.height=v+"px",m.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,m.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});PR.displayName=D3;var FR="SelectGroup",[aoe,soe]=Gm(FR),ioe=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,a=Qs();return l.jsx(aoe,{scope:n,id:a,children:l.jsx(bs.div,{role:"group","aria-labelledby":a,...r,ref:e})})});ioe.displayName=FR;var BR="SelectLabel",zR=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,a=soe(BR,n);return l.jsx(bs.div,{id:a.id,...r,ref:e})});zR.displayName=BR;var N1="SelectItem",[ooe,HR]=Gm(N1),qR=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:s,...i}=t,o=pc(N1,n),c=fc(N1,n),u=o.value===r,[d,m]=b.useState(s??""),[h,p]=b.useState(!1),f=Rr(e,w=>c.itemRefCallback?.(w,r,a)),g=Qs(),x=b.useRef("touch"),y=()=>{a||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(ooe,{scope:n,value:r,disabled:a,textId:g,isSelected:u,onItemTextChange:b.useCallback(w=>{m(v=>v||(w?.textContent??"").trim())},[]),children:l.jsx(Kx.ItemSlot,{scope:n,value:r,disabled:a,textValue:d,children:l.jsx(bs.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:f,onFocus:kn(i.onFocus,()=>p(!0)),onBlur:kn(i.onBlur,()=>p(!1)),onClick:kn(i.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:kn(i.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:kn(i.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:kn(i.onPointerMove,w=>{x.current=w.pointerType,a?c.onItemLeave?.():x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:kn(i.onPointerLeave,w=>{w.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:kn(i.onKeyDown,w=>{c.searchRef?.current!==""&&w.key===" "||(Gie.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});qR.displayName=N1;var qh="SelectItemText",UR=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:a,...s}=t,i=pc(qh,n),o=fc(qh,n),c=HR(qh,n),u=Xie(qh,n),[d,m]=b.useState(null),h=Rr(e,y=>m(y),c.onItemTextChange,y=>o.itemTextRefCallback?.(y,c.value,c.disabled)),p=d?.textContent,f=b.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=u;return Ni(()=>(g(f),()=>x(f)),[g,x,f]),l.jsxs(l.Fragment,{children:[l.jsx(bs.span,{id:c.textId,...s,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ys.createPortal(s.children,i.valueNode):null]})});UR.displayName=qh;var WR="SelectItemIndicator",GR=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return HR(WR,n).isSelected?l.jsx(bs.span,{"aria-hidden":!0,...r,ref:e}):null});GR.displayName=WR;var L3="SelectScrollUpButton",VR=b.forwardRef((t,e)=>{const n=fc(L3,t.__scopeSelect),r=j5(L3,t.__scopeSelect),[a,s]=b.useState(!1),i=Rr(e,r.onScrollButtonChange);return Ni(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),a?l.jsx(YR,{...t,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});VR.displayName=L3;var O3="SelectScrollDownButton",KR=b.forwardRef((t,e)=>{const n=fc(O3,t.__scopeSelect),r=j5(O3,t.__scopeSelect),[a,s]=b.useState(!1),i=Rr(e,r.onScrollButtonChange);return Ni(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),a?l.jsx(YR,{...t,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});KR.displayName=O3;var YR=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=t,s=fc("SelectScrollButton",n),i=b.useRef(null),o=Yx(n),c=b.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),Ni(()=>{o().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[o]),l.jsx(bs.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:kn(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:kn(a.onPointerMove,()=>{s.onItemLeave?.(),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:kn(a.onPointerLeave,()=>{c()})})}),loe="SelectSeparator",XR=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(bs.div,{"aria-hidden":!0,...r,ref:e})});XR.displayName=loe;var P3="SelectArrow",coe=b.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,a=Xx(n),s=pc(P3,n),i=fc(P3,n);return s.open&&i.position==="popper"?l.jsx(Wx,{...a,...r,ref:e}):null});coe.displayName=P3;var uoe="SelectBubbleInput",ZR=b.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const a=b.useRef(null),s=Rr(r,a),i=SR(e);return b.useEffect(()=>{const o=a.current;if(!o)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==e&&d){const m=new Event("change",{bubbles:!0});d.call(o,e),o.dispatchEvent(m)}},[i,e]),l.jsx(bs.select,{...n,style:{...jR,...n.style},ref:s,defaultValue:e})});ZR.displayName=uoe;function QR(t){return t===""||t===void 0}function JR(t){const e=$_(t),n=b.useRef(""),r=b.useRef(0),a=b.useCallback(i=>{const o=n.current+i;e(o),(function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(o)},[e]),s=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,s]}function eM(t,e,n){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let i=doe(t,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function doe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var moe=TR,tM=NR,hoe=AR,poe=IR,foe=RR,nM=MR,goe=PR,rM=zR,aM=qR,boe=UR,xoe=GR,sM=VR,iM=KR,oM=XR;const Ar=moe,Ir=hoe,Tr=b.forwardRef((t,e)=>{const n=ae.c(12);let r,a,s;n[0]!==t?({className:a,children:r,...s}=t,n[0]=t,n[1]=r,n[2]=a,n[3]=s):(r=n[1],a=n[2],s=n[3]);let i;n[4]!==a?(i=ce("border-border-medium bg-separator text-foreground focus:border-accent flex h-6 w-full items-center justify-between rounded border px-2 text-xs focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),n[4]=a,n[5]=i):i=n[5];let o;n[6]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(poe,{asChild:!0,children:l.jsx(Fs,{className:"ml-1 h-3 w-3 opacity-50"})}),n[6]=o):o=n[6];let c;return n[7]!==r||n[8]!==s||n[9]!==e||n[10]!==i?(c=l.jsxs(tM,{ref:e,className:i,...s,children:[r,o]}),n[7]=r,n[8]=s,n[9]=e,n[10]=i,n[11]=c):c=n[11],c});Tr.displayName=tM.displayName;const lM=b.forwardRef((t,e)=>{const n=ae.c(10);let r,a;n[0]!==t?({className:r,...a}=t,n[0]=t,n[1]=r,n[2]=a):(r=n[1],a=n[2]);let s;n[3]!==r?(s=ce("flex cursor-default items-center justify-center py-1",r),n[3]=r,n[4]=s):s=n[4];let i;n[5]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx($J,{className:"h-3 w-3"}),n[5]=i):i=n[5];let o;return n[6]!==a||n[7]!==e||n[8]!==s?(o=l.jsx(sM,{ref:e,className:s,...a,children:i}),n[6]=a,n[7]=e,n[8]=s,n[9]=o):o=n[9],o});lM.displayName=sM.displayName;const cM=b.forwardRef((t,e)=>{const n=ae.c(10);let r,a;n[0]!==t?({className:r,...a}=t,n[0]=t,n[1]=r,n[2]=a):(r=n[1],a=n[2]);let s;n[3]!==r?(s=ce("flex cursor-default items-center justify-center py-1",r),n[3]=r,n[4]=s):s=n[4];let i;n[5]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx(Fs,{className:"h-3 w-3"}),n[5]=i):i=n[5];let o;return n[6]!==a||n[7]!==e||n[8]!==s?(o=l.jsx(iM,{ref:e,className:s,...a,children:i}),n[6]=a,n[7]=e,n[8]=s,n[9]=o):o=n[9],o});cM.displayName=iM.displayName;const Er=b.forwardRef((t,e)=>{const n=ae.c(21);let r,a,s,i;n[0]!==t?({className:a,children:r,position:i,...s}=t,n[0]=t,n[1]=r,n[2]=a,n[3]=s,n[4]=i):(r=n[1],a=n[2],s=n[3],i=n[4]);const o=i===void 0?"popper":i,c=o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1";let u;n[5]!==a||n[6]!==c?(u=ce("bg-dark border-border text-foreground relative z-[1600] max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-y-auto overflow-x-hidden rounded-md border shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",c,a),n[5]=a,n[6]=c,n[7]=u):u=n[7];let d;n[8]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(lM,{}),n[8]=d):d=n[8];const m=o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]";let h;n[9]!==m?(h=ce("p-1",m),n[9]=m,n[10]=h):h=n[10];let p;n[11]!==r||n[12]!==h?(p=l.jsx(goe,{className:h,children:r}),n[11]=r,n[12]=h,n[13]=p):p=n[13];let f;n[14]===Symbol.for("react.memo_cache_sentinel")?(f=l.jsx(cM,{}),n[14]=f):f=n[14];let g;return n[15]!==o||n[16]!==s||n[17]!==e||n[18]!==u||n[19]!==p?(g=l.jsx(foe,{children:l.jsxs(nM,{ref:e,className:u,position:o,...s,children:[d,p,f]})}),n[15]=o,n[16]=s,n[17]=e,n[18]=u,n[19]=p,n[20]=g):g=n[20],g});Er.displayName=nM.displayName;const yoe=b.forwardRef((t,e)=>{const n=ae.c(9);let r,a;n[0]!==t?({className:r,...a}=t,n[0]=t,n[1]=r,n[2]=a):(r=n[1],a=n[2]);let s;n[3]!==r?(s=ce("py-1.5 pl-6 pr-2 text-xs font-semibold",r),n[3]=r,n[4]=s):s=n[4];let i;return n[5]!==a||n[6]!==e||n[7]!==s?(i=l.jsx(rM,{ref:e,className:s,...a}),n[5]=a,n[6]=e,n[7]=s,n[8]=i):i=n[8],i});yoe.displayName=rM.displayName;const Un=b.forwardRef((t,e)=>{const n=ae.c(14);let r,a,s;n[0]!==t?({className:a,children:r,...s}=t,n[0]=t,n[1]=r,n[2]=a,n[3]=s):(r=n[1],a=n[2],s=n[3]);let i;n[4]!==a?(i=ce("hover:bg-hover focus:bg-hover relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pr-2 pl-6 text-xs outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),n[4]=a,n[5]=i):i=n[5];let o;n[6]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx("span",{className:"absolute left-1.5 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(xoe,{children:l.jsx(Hn,{className:"h-3 w-3"})})}),n[6]=o):o=n[6];let c;n[7]!==r?(c=l.jsx(boe,{children:r}),n[7]=r,n[8]=c):c=n[8];let u;return n[9]!==s||n[10]!==e||n[11]!==i||n[12]!==c?(u=l.jsxs(aM,{ref:e,className:i,...s,children:[o,c]}),n[9]=s,n[10]=e,n[11]=i,n[12]=c,n[13]=u):u=n[13],u});Un.displayName=aM.displayName;const woe=b.forwardRef((t,e)=>{const n=ae.c(9);let r,a;n[0]!==t?({className:r,...a}=t,n[0]=t,n[1]=r,n[2]=a):(r=n[1],a=n[2]);let s;n[3]!==r?(s=ce("bg-border-medium -mx-1 my-1 h-px",r),n[3]=r,n[4]=s):s=n[4];let i;return n[5]!==a||n[6]!==e||n[7]!==s?(i=l.jsx(oM,{ref:e,className:s,...a}),n[5]=a,n[6]=e,n[7]=s,n[8]=i):i=n[8],i});woe.displayName=oM.displayName;function voe(t){const e=koe(t),n=b.forwardRef((r,a)=>{const{children:s,...i}=r,o=b.Children.toArray(s),c=o.find(Coe);if(c){const u=c.props.children,d=o.map(m=>m===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:m);return l.jsx(e,{...i,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return l.jsx(e,{...i,ref:a,children:s})});return n.displayName=`${t}.Slot`,n}function koe(t){const e=b.forwardRef((n,r)=>{const{children:a,...s}=n;if(b.isValidElement(a)){const i=joe(a),o=Soe(s,a.props);return a.type!==b.Fragment&&(o.ref=r?Fa(r,i):i),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _oe=Symbol("radix.slottable");function Coe(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_oe}function Soe(t,e){const n={...e};for(const r in e){const a=t[r],s=e[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...o)=>{const c=s(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...t,...n}}function joe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Toe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],s9=Toe.reduce((t,e)=>{const n=voe(`Primitive.${e}`),r=b.forwardRef((a,s)=>{const{asChild:i,...o}=a,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Eoe(t){const e=Noe(t),n=b.forwardRef((r,a)=>{const{children:s,...i}=r,o=b.Children.toArray(s),c=o.find(Aoe);if(c){const u=c.props.children,d=o.map(m=>m===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:m);return l.jsx(e,{...i,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return l.jsx(e,{...i,ref:a,children:s})});return n.displayName=`${t}.Slot`,n}function Noe(t){const e=b.forwardRef((n,r)=>{const{children:a,...s}=n;if(b.isValidElement(a)){const i=Roe(a),o=Ioe(s,a.props);return a.type!==b.Fragment&&(o.ref=r?Fa(r,i):i),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $oe=Symbol("radix.slottable");function Aoe(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$oe}function Ioe(t,e){const n={...e};for(const r in e){const a=t[r],s=e[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...o)=>{const c=s(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...t,...n}}function Roe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Moe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],uM=Moe.reduce((t,e)=>{const n=Eoe(`Primitive.${e}`),r=b.forwardRef((a,s)=>{const{asChild:i,...o}=a,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Y2="rovingFocusGroup.onEntryFocus",Doe={bubbles:!1,cancelable:!0},Pf="RovingFocusGroup",[F3,dM,Loe]=_R(Pf),[Ooe,mM]=dl(Pf,[Loe]),[Poe,Foe]=Ooe(Pf),hM=b.forwardRef((t,e)=>l.jsx(F3.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(F3.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(Boe,{...t,ref:e})})}));hM.displayName=Pf;var Boe=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...m}=t,h=b.useRef(null),p=Rr(e,h),f=S5(s),[g,x]=lo({prop:i,defaultProp:o??null,onChange:c,caller:Pf}),[y,w]=b.useState(!1),v=$_(u),k=dM(n),C=b.useRef(!1),[_,S]=b.useState(0);return b.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(Y2,v),()=>T.removeEventListener(Y2,v)},[v]),l.jsx(Poe,{scope:n,orientation:r,dir:f,loop:a,currentTabStopId:g,onItemFocus:b.useCallback(T=>x(T),[x]),onItemShiftTab:b.useCallback(()=>w(!0),[]),onFocusableItemAdd:b.useCallback(()=>S(T=>T+1),[]),onFocusableItemRemove:b.useCallback(()=>S(T=>T-1),[]),children:l.jsx(uM.div,{tabIndex:y||_===0?-1:0,"data-orientation":r,...m,ref:p,style:{outline:"none",...t.style},onMouseDown:kn(t.onMouseDown,()=>{C.current=!0}),onFocus:kn(t.onFocus,T=>{const N=!C.current;if(T.target===T.currentTarget&&N&&!y){const j=new CustomEvent(Y2,Doe);if(T.currentTarget.dispatchEvent(j),!j.defaultPrevented){const R=k().filter(M=>M.focusable),I=R.find(M=>M.active),A=R.find(M=>M.id===g),E=[I,A,...R].filter(Boolean).map(M=>M.ref.current);gM(E,d)}}C.current=!1}),onBlur:kn(t.onBlur,()=>w(!1))})})}),pM="RovingFocusGroupItem",fM=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:s,children:i,...o}=t,c=Qs(),u=s||c,d=Foe(pM,n),m=d.currentTabStopId===u,h=dM(n),{onFocusableItemAdd:p,onFocusableItemRemove:f,currentTabStopId:g}=d;return b.useEffect(()=>{if(r)return p(),()=>f()},[r,p,f]),l.jsx(F3.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:l.jsx(uM.span,{tabIndex:m?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:kn(t.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:kn(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:kn(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=qoe(x,d.orientation,d.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let v=h().filter(k=>k.focusable).map(k=>k.ref.current);if(y==="last")v.reverse();else if(y==="prev"||y==="next"){y==="prev"&&v.reverse();const k=v.indexOf(x.currentTarget);v=d.loop?Uoe(v,k+1):v.slice(k+1)}setTimeout(()=>gM(v))}}),children:typeof i=="function"?i({isCurrentTabStop:m,hasTabStop:g!=null}):i})})});fM.displayName=pM;var zoe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Hoe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function qoe(t,e,n){const r=Hoe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return zoe[r]}function gM(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Uoe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Woe=hM,Goe=fM;function Voe(t){const e=Koe(t),n=b.forwardRef((r,a)=>{const{children:s,...i}=r,o=b.Children.toArray(s),c=o.find(Xoe);if(c){const u=c.props.children,d=o.map(m=>m===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:m);return l.jsx(e,{...i,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return l.jsx(e,{...i,ref:a,children:s})});return n.displayName=`${t}.Slot`,n}function Koe(t){const e=b.forwardRef((n,r)=>{const{children:a,...s}=n;if(b.isValidElement(a)){const i=Qoe(a),o=Zoe(s,a.props);return a.type!==b.Fragment&&(o.ref=r?Fa(r,i):i),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Yoe=Symbol("radix.slottable");function Xoe(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Yoe}function Zoe(t,e){const n={...e};for(const r in e){const a=t[r],s=e[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...o)=>{const c=s(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...t,...n}}function Qoe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Joe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ele=Joe.reduce((t,e)=>{const n=Voe(`Primitive.${e}`),r=b.forwardRef((a,s)=>{const{asChild:i,...o}=a,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),bM="Toggle",xM=b.forwardRef((t,e)=>{const{pressed:n,defaultPressed:r,onPressedChange:a,...s}=t,[i,o]=lo({prop:n,onChange:a,defaultProp:r??!1,caller:bM});return l.jsx(ele.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":t.disabled?"":void 0,...s,ref:e,onClick:kn(t.onClick,()=>{t.disabled||o(!i)})})});xM.displayName=bM;var gc="ToggleGroup",[yM]=dl(gc,[mM]),wM=mM(),T5=xe.forwardRef((t,e)=>{const{type:n,...r}=t;if(n==="single"){const a=r;return l.jsx(tle,{...a,ref:e})}if(n==="multiple"){const a=r;return l.jsx(nle,{...a,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${gc}\``)});T5.displayName=gc;var[vM,kM]=yM(gc),tle=xe.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...s}=t,[i,o]=lo({prop:n,defaultProp:r??"",onChange:a,caller:gc});return l.jsx(vM,{scope:t.__scopeToggleGroup,type:"single",value:xe.useMemo(()=>i?[i]:[],[i]),onItemActivate:o,onItemDeactivate:xe.useCallback(()=>o(""),[o]),children:l.jsx(_M,{...s,ref:e})})}),nle=xe.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...s}=t,[i,o]=lo({prop:n,defaultProp:r??[],onChange:a,caller:gc}),c=xe.useCallback(d=>o((m=[])=>[...m,d]),[o]),u=xe.useCallback(d=>o((m=[])=>m.filter(h=>h!==d)),[o]);return l.jsx(vM,{scope:t.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:c,onItemDeactivate:u,children:l.jsx(_M,{...s,ref:e})})});T5.displayName=gc;var[rle,ale]=yM(gc),_M=xe.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:a=!0,orientation:s,dir:i,loop:o=!0,...c}=t,u=wM(n),d=S5(i),m={role:"group",dir:d,...c};return l.jsx(rle,{scope:n,rovingFocus:a,disabled:r,children:a?l.jsx(Woe,{asChild:!0,...u,orientation:s,dir:d,loop:o,children:l.jsx(s9.div,{...m,ref:e})}):l.jsx(s9.div,{...m,ref:e})})}),$1="ToggleGroupItem",CM=xe.forwardRef((t,e)=>{const n=kM($1,t.__scopeToggleGroup),r=ale($1,t.__scopeToggleGroup),a=wM(t.__scopeToggleGroup),s=n.value.includes(t.value),i=r.disabled||t.disabled,o={...t,pressed:s,disabled:i},c=xe.useRef(null);return r.rovingFocus?l.jsx(Goe,{asChild:!0,...a,focusable:!i,active:s,ref:c,children:l.jsx(i9,{...o,ref:e})}):l.jsx(i9,{...o,ref:e})});CM.displayName=$1;var i9=xe.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:r,...a}=t,s=kM($1,n),i={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},o=s.type==="single"?i:void 0;return l.jsx(xM,{...o,...a,ref:e,onPressedChange:c=>{c?s.onItemActivate(r):s.onItemDeactivate(r)}})}),SM=T5,jM=CM;const sle=A_("inline-flex items-center justify-center rounded-md bg-hover p-1",{variants:{variant:{default:""},size:{default:"h-7",sm:"h-6"}},defaultVariants:{variant:"default",size:"default"}}),ile=A_("inline-flex items-center justify-center whitespace-nowrap rounded-[6px] px-2 text-[11px] font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-accent disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"text-muted data-[state=on]:bg-border-medium data-[state=on]:text-foreground hover:text-foreground"},size:{default:"h-5",sm:"h-4"}},defaultVariants:{variant:"default",size:"default"}}),fu=b.forwardRef((t,e)=>{const n=ae.c(13);let r,a,s,i;n[0]!==t?({className:r,variant:i,size:s,...a}=t,n[0]=t,n[1]=r,n[2]=a,n[3]=s,n[4]=i):(r=n[1],a=n[2],s=n[3],i=n[4]);let o;n[5]!==r||n[6]!==s||n[7]!==i?(o=ce(sle({variant:i,size:s,className:r})),n[5]=r,n[6]=s,n[7]=i,n[8]=o):o=n[8];let c;return n[9]!==a||n[10]!==e||n[11]!==o?(c=l.jsx(SM,{ref:e,className:o,...a}),n[9]=a,n[10]=e,n[11]=o,n[12]=c):c=n[12],c});fu.displayName=SM.displayName;const As=b.forwardRef((t,e)=>{const n=ae.c(13);let r,a,s,i;n[0]!==t?({className:r,variant:i,size:s,...a}=t,n[0]=t,n[1]=r,n[2]=a,n[3]=s,n[4]=i):(r=n[1],a=n[2],s=n[3],i=n[4]);let o;n[5]!==r||n[6]!==s||n[7]!==i?(o=ce(ile({variant:i,size:s,className:r})),n[5]=r,n[6]=s,n[7]=i,n[8]=o):o=n[8];let c;return n[9]!==a||n[10]!==e||n[11]!==o?(c=l.jsx(jM,{ref:e,className:o,...a}),n[9]=a,n[10]=e,n[11]=o,n[12]=c):c=n[12],c});As.displayName=jM.displayName;const ole=t=>{const e=ae.c(2),{visible:n}=t;if(n){let a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),l.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}),e[0]=a):a=e[0],a}let r;return e[1]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),l.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),e[1]=r):r=e[1],r};function Uh(t){return typeof t=="object"&&t!==null&&"secret"in t&&typeof t.secret=="string"}function lle(t){return typeof t=="string"?t.trim()!=="":Uh(t)?t.secret.trim()!=="":!1}const cle=({isOpen:t,projectPath:e,projectName:n,initialSecrets:r,onClose:a,onSave:s})=>{const{api:i}=Kt(),[o,c]=b.useState([]),u=o.slice().sort((N,j)=>N.localeCompare(j,void 0,{sensitivity:"base"})),[d,m]=b.useState(r),[h,p]=b.useState(new Set),[f,g]=b.useState(!1);b.useEffect(()=>{t&&(m(r),p(new Set))},[t,r]),b.useEffect(()=>{if(!i||!t){c([]);return}let N=!1;return(async()=>{try{const j=await i.secrets.get({});if(N)return;c(j.map(R=>R.key))}catch(j){if(N)return;console.error("Failed to load global secrets:",j),c([])}})(),()=>{N=!0}},[i,t]);const x=b.useCallback(()=>{m(r),p(new Set),a()},[r,a]),y=async()=>{g(!0);try{const N=d.filter(j=>j.key.trim()!==""&&lle(j.value));await s(N),a()}catch(N){console.error("Failed to save secrets:",N)}finally{g(!1)}},w=()=>{m(N=>[...N,{key:"",value:""}])},v=N=>{m(j=>j.filter((R,I)=>I!==N)),p(j=>{const R=new Set;for(const I of j)I!==N&&R.add(I>N?I-1:I);return R})},k=(N,j)=>{m(R=>{const I=[...R],A=I[N]??{key:"",value:""};return I[N]={...A,key:j.toUpperCase()},I})},C=(N,j)=>{m(R=>{const I=[...R],A=I[N]??{key:"",value:""};return I[N]={...A,value:j},I})},_=(N,j)=>{m(R=>{const I=[...R],A=I[N]??{key:"",value:""};if(j==="literal")return I[N]={...A,value:typeof A.value=="string"?A.value:""},I;if(Uh(A.value))return I;const $=u[0]??"";return I[N]={...A,value:{secret:$}},I})},S=N=>{p(j=>{const R=new Set(j);return R.has(N)?R.delete(N):R.add(N),R})},T=b.useCallback(N=>{!N&&!f&&x()},[f,x]);return l.jsx(sa,{open:t,onOpenChange:T,children:l.jsxs(ia,{maxWidth:"600px",maxHeight:"80vh",showCloseButton:!1,children:[l.jsxs(Sa,{children:[l.jsx(oa,{children:"Manage Secrets"}),l.jsxs(ml,{children:["Project: ",n]})]}),l.jsxs(VX,{children:[l.jsxs("p",{children:["Secrets are stored in ",l.jsx("code",{children:"~/.mux/secrets.json"})," (kept away from source code) but namespaced per project."]}),l.jsx("p",{children:"Secrets are injected as environment variables to compute commands (e.g. Bash)"})]}),l.jsx("div",{className:"mb-4 min-h-[200px] flex-1 overflow-y-auto",children:d.length===0?l.jsx("div",{className:"text-muted px-4 py-8 text-center text-[13px]",children:"No secrets configured"}):l.jsxs("div",{className:"[&>label]:text-muted grid grid-cols-[1fr_auto_1fr_auto_auto] items-end gap-1 [&>label]:mb-0.5 [&>label]:text-[11px]",children:[l.jsx("label",{children:"Key"}),l.jsx("label",{children:"Type"}),l.jsx("label",{children:"Value"}),l.jsx("div",{}),l.jsx("div",{}),d.map((N,j)=>{const R=Uh(N.value),I=R?"global":"literal",A=Uh(N.value)?N.value.secret:"",$=A&&!u.includes(A)?[A,...u]:u;return l.jsxs(xe.Fragment,{children:[l.jsx("input",{type:"text",value:N.key,onChange:E=>k(j,E.target.value),placeholder:"SECRET_NAME","aria-label":"Secret key",disabled:f,spellCheck:!1,className:"bg-modal-bg border-border-medium focus:border-accent placeholder:text-dim text-foreground w-full rounded border px-2.5 py-1.5 font-mono text-[13px] focus:outline-none disabled:opacity-50"}),l.jsxs(fu,{type:"single",value:I,onValueChange:E=>{E!=="literal"&&E!=="global"||_(j,E)},size:"sm",className:"h-[34px]",disabled:f,children:[l.jsx(As,{value:"literal",size:"sm",className:"h-[26px] px-3 text-[13px]",children:"Value"}),l.jsx(As,{value:"global",size:"sm",className:"h-[26px] px-3 text-[13px]",disabled:$.length===0,children:"Global"})]}),R?l.jsxs(Ar,{value:A||void 0,onValueChange:E=>C(j,{secret:E}),disabled:f,children:[l.jsx(Tr,{className:"border-border-medium bg-modal-bg hover:bg-hover h-[34px] w-full px-2.5 font-mono text-[13px]","aria-label":"Global secret key",children:l.jsx(Ir,{placeholder:"Select global secret"})}),l.jsx(Er,{children:$.map(E=>l.jsx(Un,{value:E,children:E},E))})]}):l.jsx("input",{type:h.has(j)?"text":"password",value:typeof N.value=="string"?N.value:Uh(N.value)?N.value.secret:"",onChange:E=>C(j,E.target.value),placeholder:"secret value","aria-label":"Secret value",disabled:f,spellCheck:!1,className:"bg-modal-bg border-border-medium focus:border-accent placeholder:text-dim text-foreground w-full rounded border px-2.5 py-1.5 font-mono text-[13px] focus:outline-none disabled:opacity-50"}),R?l.jsx("div",{}):l.jsx("button",{type:"button",onClick:()=>S(j),disabled:f,className:"text-muted hover:text-foreground flex cursor-pointer items-center justify-center self-center rounded-sm border-none bg-transparent px-1 py-0.5 text-base transition-all duration-200 disabled:cursor-not-allowed disabled:opacity-50","aria-label":h.has(j)?"Hide secret":"Show secret",children:l.jsx(ole,{visible:h.has(j)})}),l.jsx("button",{type:"button",onClick:()=>v(j),disabled:f,className:"text-danger-light border-danger-light hover:bg-danger-light/10 cursor-pointer rounded border bg-transparent px-2.5 py-1.5 text-[13px] transition-all duration-200 disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Remove secret",children:l.jsx(fa,{className:"h-4 w-4"})})]},j)})]})}),l.jsx("button",{onClick:w,disabled:f,className:"text-muted border-border-medium hover:bg-hover hover:border-border-darker hover:text-foreground mb-4 w-full cursor-pointer rounded border border-dashed bg-transparent px-3 py-2 text-[13px] transition-all duration-200",children:"+ Add Secret"}),l.jsxs(Li,{children:[l.jsx(tt,{variant:"secondary",type:"button",onClick:x,disabled:f,children:"Cancel"}),l.jsx(tt,{type:"button",onClick:()=>void y(),disabled:f,children:f?"Saving...":"Save"})]})]})})},TM=b.createContext(null),ule=t=>{const e=ae.c(13),{children:n,onRenameWorkspace:r}=t,[a,s]=b.useState(null),[i,o]=b.useState("");let c;e[0]!==a?(c=(y,w)=>a!==null&&a!==y?!1:(s(y),o(w),!0),e[0]=a,e[1]=c):c=e[1];const u=c;let d;e[2]!==r||e[3]!==i?(d=async(y,w)=>{const v=w.trim();if(v===i)return s(null),o(""),{success:!0};if(!v)return{success:!1,error:"Name cannot be empty"};const k=await r(y,v);return k.success&&(s(null),o("")),k},e[2]=r,e[3]=i,e[4]=d):d=e[4];const m=d;let h;e[5]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{s(null),o("")},e[5]=h):h=e[5];const p=h;let f;e[6]!==m||e[7]!==a||e[8]!==u?(f={editingWorkspaceId:a,requestRename:u,confirmRename:m,cancelRename:p},e[6]=m,e[7]=a,e[8]=u,e[9]=f):f=e[9];const g=f;let x;return e[10]!==n||e[11]!==g?(x=l.jsx(TM.Provider,{value:g,children:n}),e[10]=n,e[11]=g,e[12]=x):x=e[12],x},dle=()=>{const t=b.useContext(TM);if(!t)throw new Error("useRename must be used within a RenameProvider");return t};function mle(t){const e=hle(t),n=b.forwardRef((r,a)=>{const{children:s,...i}=r,o=b.Children.toArray(s),c=o.find(fle);if(c){const u=c.props.children,d=o.map(m=>m===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:m);return l.jsx(e,{...i,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return l.jsx(e,{...i,ref:a,children:s})});return n.displayName=`${t}.Slot`,n}function hle(t){const e=b.forwardRef((n,r)=>{const{children:a,...s}=n;if(b.isValidElement(a)){const i=ble(a),o=gle(s,a.props);return a.type!==b.Fragment&&(o.ref=r?Fa(r,i):i),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ple=Symbol("radix.slottable");function fle(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ple}function gle(t,e){const n={...e};for(const r in e){const a=t[r],s=e[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...o)=>{const c=s(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...t,...n}}function ble(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var xle=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yle=xle.reduce((t,e)=>{const n=mle(`Primitive.${e}`),r=b.forwardRef((a,s)=>{const{asChild:i,...o}=a,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),X2,Zx="HoverCard",[EM]=dl(Zx,[mc]),Qx=mc(),[wle,Jx]=EM(Zx),NM=t=>{const{__scopeHoverCard:e,children:n,open:r,defaultOpen:a,onOpenChange:s,openDelay:i=700,closeDelay:o=300}=t,c=Qx(e),u=b.useRef(0),d=b.useRef(0),m=b.useRef(!1),h=b.useRef(!1),[p,f]=lo({prop:r,defaultProp:a??!1,onChange:s,caller:Zx}),g=b.useCallback(()=>{clearTimeout(d.current),u.current=window.setTimeout(()=>f(!0),i)},[i,f]),x=b.useCallback(()=>{clearTimeout(u.current),!m.current&&!h.current&&(d.current=window.setTimeout(()=>f(!1),o))},[o,f]),y=b.useCallback(()=>f(!1),[f]);return b.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(d.current)},[]),l.jsx(wle,{scope:e,open:p,onOpenChange:f,onOpen:g,onClose:x,onDismiss:y,hasSelectionRef:m,isPointerDownOnContentRef:h,children:l.jsx(qx,{...c,children:n})})};NM.displayName=Zx;var $M="HoverCardTrigger",AM=b.forwardRef((t,e)=>{const{__scopeHoverCard:n,...r}=t,a=Jx($M,n),s=Qx(n);return l.jsx(Lf,{asChild:!0,...s,children:l.jsx(yle.a,{"data-state":a.open?"open":"closed",...r,ref:e,onPointerEnter:kn(t.onPointerEnter,I1(a.onOpen)),onPointerLeave:kn(t.onPointerLeave,I1(a.onClose)),onFocus:kn(t.onFocus,a.onOpen),onBlur:kn(t.onBlur,a.onClose),onTouchStart:kn(t.onTouchStart,i=>i.preventDefault())})})});AM.displayName=$M;var E5="HoverCardPortal",[vle,kle]=EM(E5,{forceMount:void 0}),IM=t=>{const{__scopeHoverCard:e,forceMount:n,children:r,container:a}=t,s=Jx(E5,e);return l.jsx(vle,{scope:e,forceMount:n,children:l.jsx(Mu,{present:n||s.open,children:l.jsx(fx,{asChild:!0,container:a,children:r})})})};IM.displayName=E5;var A1="HoverCardContent",RM=b.forwardRef((t,e)=>{const n=kle(A1,t.__scopeHoverCard),{forceMount:r=n.forceMount,...a}=t,s=Jx(A1,t.__scopeHoverCard);return l.jsx(Mu,{present:r||s.open,children:l.jsx(_le,{"data-state":s.open?"open":"closed",...a,onPointerEnter:kn(t.onPointerEnter,I1(s.onOpen)),onPointerLeave:kn(t.onPointerLeave,I1(s.onClose)),ref:e})})});RM.displayName=A1;var _le=b.forwardRef((t,e)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,...o}=t,c=Jx(A1,n),u=Qx(n),d=b.useRef(null),m=Rr(e,d),[h,p]=b.useState(!1);return b.useEffect(()=>{if(h){const f=document.body;return X2=f.style.userSelect||f.style.webkitUserSelect,f.style.userSelect="none",f.style.webkitUserSelect="none",()=>{f.style.userSelect=X2,f.style.webkitUserSelect=X2}}},[h]),b.useEffect(()=>{if(d.current){const f=()=>{p(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",f),()=>{document.removeEventListener("pointerup",f),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),b.useEffect(()=>{d.current&&jle(d.current).forEach(g=>g.setAttribute("tabindex","-1"))}),l.jsx(gx,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:i,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:kn(s,f=>{f.preventDefault()}),onDismiss:c.onDismiss,children:l.jsx(Ux,{...u,...o,onPointerDown:kn(o.onPointerDown,f=>{f.currentTarget.contains(f.target)&&p(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:m,style:{...o.style,userSelect:h?"text":void 0,WebkitUserSelect:h?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),Cle="HoverCardArrow",Sle=b.forwardRef((t,e)=>{const{__scopeHoverCard:n,...r}=t,a=Qx(n);return l.jsx(Wx,{...a,...r,ref:e})});Sle.displayName=Cle;function I1(t){return e=>e.pointerType==="touch"?void 0:t()}function jle(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)e.push(n.currentNode);return e}var Tle=NM,Ele=AM,Nle=IM,MM=RM;const N5=Tle,$5=Ele,$le=Nle,ey=b.forwardRef((t,e)=>{const n=ae.c(15);let r,a,s,i,o;n[0]!==t?({className:r,align:s,side:i,sideOffset:o,...a}=t,n[0]=t,n[1]=r,n[2]=a,n[3]=s,n[4]=i,n[5]=o):(r=n[1],a=n[2],s=n[3],i=n[4],o=n[5]);const c=s===void 0?"center":s,u=i===void 0?"bottom":i,d=o===void 0?4:o;let m;n[6]!==r?(m=ce("z-50 w-64 rounded-md border border-separator-light bg-modal-bg p-4 text-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-hover-card-content-transform-origin)",r),n[6]=r,n[7]=m):m=n[7];let h;return n[8]!==c||n[9]!==a||n[10]!==e||n[11]!==u||n[12]!==d||n[13]!==m?(h=l.jsx(MM,{ref:e,align:c,side:u,sideOffset:d,className:m,...a}),n[8]=c,n[9]=a,n[10]=e,n[11]=u,n[12]=d,n[13]=m,n[14]=h):h=n[14],h});ey.displayName=MM.displayName;const Ale=["HEAD","--staged","main","origin/main","HEAD~1","HEAD~2","develop","origin/develop"];function DM(t){const e=ae.c(42),{value:n,onChange:r,onOpenChange:a,className:s,"data-testid":i}=t,[o,c]=b.useState(!1),[u,d]=b.useState(n),m=b.useRef(null),h=b.useRef(null);let p;e[0]!==a?(p=j=>{c(j),a?.(j)},e[0]=a,e[1]=p):p=e[1];const f=p;let g,x;e[2]!==n?(g=()=>{d(n)},x=[n],e[2]=n,e[3]=g,e[4]=x):(g=e[3],x=e[4]),b.useEffect(g,x);let y,w;e[5]!==o?(y=()=>{o&&(d(""),setTimeout(()=>m.current?.focus(),0))},w=[o],e[5]=o,e[6]=y,e[7]=w):(y=e[6],w=e[7]),b.useEffect(y,w);let v,k;e[8]!==o||e[9]!==a?(v=()=>{if(!o)return;const j=R=>{h.current&&!h.current.contains(R.target)&&(c(!1),a?.(!1))};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},k=[o,a],e[8]=o,e[9]=a,e[10]=v,e[11]=k):(v=e[10],k=e[11]),b.useEffect(v,k);let C;e[12]!==f||e[13]!==r?(C=j=>{r(j),d(j),f(!1)},e[12]=f,e[13]=r,e[14]=C):C=e[14];const _=C;let S;e[15]!==f||e[16]!==u||e[17]!==r||e[18]!==n?(S=j=>{if(j.key==="Enter"){const R=u.trim();R&&(r(R),f(!1))}else j.key==="Escape"&&(d(n),f(!1))},e[15]=f,e[16]=u,e[17]=r,e[18]=n,e[19]=S):S=e[19];const T=S;let N;if(e[20]!==s||e[21]!==T||e[22]!==f||e[23]!==_||e[24]!==u||e[25]!==o||e[26]!==i||e[27]!==n){const j=u.toLowerCase(),R=Ale.filter(M=>M.toLowerCase().includes(j));let I;e[29]!==s?(I=ce("text-muted-light hover:bg-hover hover:text-foreground flex items-center gap-1 rounded-sm px-1 py-0.5 font-mono text-[11px] transition-colors",s),e[29]=s,e[30]=I):I=e[30];let A;e[31]!==f||e[32]!==o?(A=()=>f(!o),e[31]=f,e[32]=o,e[33]=A):A=e[33];let $;e[34]!==n?($=l.jsx("span",{className:"truncate",children:n}),e[34]=n,e[35]=$):$=e[35];let E;e[36]!==o||e[37]!==I||e[38]!==A||e[39]!==$||e[40]!==i?(E=l.jsx("button",{className:I,"data-testid":i,onClick:A,"aria-expanded":o,children:$}),e[36]=o,e[37]=I,e[38]=A,e[39]=$,e[40]=i,e[41]=E):E=e[41],N=l.jsxs("div",{ref:h,className:"relative",children:[E,o&&l.jsxs("div",{className:"bg-dark border-border absolute top-full left-0 z-[10001] mt-1 w-[160px] overflow-hidden rounded-md border shadow-md",children:[l.jsx("div",{className:"border-border border-b px-2 py-1.5",children:l.jsx("input",{ref:m,type:"text",value:u,onChange:M=>d(M.target.value),onKeyDown:T,placeholder:"Enter base...",className:"text-foreground placeholder:text-muted w-full bg-transparent font-mono text-[11px] outline-none"})}),l.jsx("div",{className:"max-h-[200px] overflow-y-auto p-1",children:R.length===0?l.jsxs("div",{className:"text-muted py-2 text-center text-[10px]",children:["Press Enter to use ",u,""]}):R.map(M=>l.jsxs("button",{"data-testid":`base-suggestion-${M}`,onMouseDown:Ile,onClick:()=>_(M),className:"hover:bg-hover flex w-full items-center gap-1.5 rounded-sm px-2 py-1 font-mono text-[11px]",children:[l.jsx(Hn,{className:ce("h-3 w-3 shrink-0",M===n?"opacity-100":"opacity-0")}),l.jsx("span",{className:"truncate",children:M})]},M))})]})]}),e[20]=s,e[21]=T,e[22]=f,e[23]=_,e[24]=u,e[25]=o,e[26]=i,e[27]=n,e[28]=N}else N=e[28];return N}function Ile(t){return t.preventDefault()}const Rle="[data-radix-popper-content-wrapper]";function o9(t){const e=t.target;e instanceof HTMLElement&&e.closest(Rle)&&t.preventDefault()}const A5=t=>{switch(t){case 0:return"#6bcc6b";case 1:return"#6ba3cc";case 2:return"#b66bcc";default:return"#6b6b6b"}};function To(t){const e=Math.abs(t);if(e<1e3)return String(t);if(e<1e6){const a=(e/1e3).toFixed(1),s=a.endsWith(".0")?a.slice(0,-2):a;return`${t<0?"-":""}${s}k`}const n=(e/1e6).toFixed(1),r=n.endsWith(".0")?n.slice(0,-2):n;return`${t<0?"-":""}${r}m`}const Mle=t=>{const e=ae.c(78),{gitStatus:n,tooltipPosition:r,mode:a,branchHeaders:s,commits:i,dirtyFiles:o,isLoading:c,errorMessage:u,isOpen:d,onOpenChange:m,onModeChange:h,baseRef:p,onBaseChange:f,onPopoverOpenChange:g,isWorking:x,isRefreshing:y}=t,w=r===void 0?"right":r,v=x===void 0?!1:x,k=y===void 0?!1:y;if(!n){let ie;return e[0]===Symbol.for("react.memo_cache_sentinel")?(ie=l.jsx("span",{className:"text-accent relative flex items-center gap-1 font-mono text-[11px]","aria-hidden":"true"}),e[0]=ie):ie=e[0],ie}const C=n.outgoingAdditions+n.outgoingDeletions;if(a==="divergence"?n.ahead===0&&n.behind===0&&!n.dirty:C===0&&!n.dirty&&n.behind===0){let ie;return e[1]===Symbol.for("react.memo_cache_sentinel")?(ie=l.jsx("span",{className:"text-accent relative flex items-center gap-1 font-mono text-[11px]","aria-hidden":"true"}),e[1]=ie):ie=e[1],ie}const S=Lle;let T;e[2]!==s?(T=()=>!s||s.length===0?null:l.jsx("div",{className:"border-separator-light mb-2 flex flex-col gap-0.5 border-b pb-2",children:s.map(Ple)}),e[2]=s,e[3]=T):T=e[3];const N=T;let j;e[4]!==o?(j=()=>{if(!o||o.length===0)return null;const ie=o.slice(0,20),Te=o.length>20;return l.jsxs("div",{className:"border-separator-light mb-2 border-b pb-2",children:[l.jsx("div",{className:"text-git-dirty mb-1 font-mono font-semibold",children:"Uncommitted changes:"}),l.jsx("div",{className:"flex flex-col gap-px",children:ie.map(Fle)}),Te&&l.jsxs("div",{className:"text-muted-light mt-1 text-[10px] italic",children:["(showing ",20," of ",o.length," files)"]})]})},e[4]=o,e[5]=j):j=e[5];const R=j;let I;e[6]!==i||e[7]!==u||e[8]!==c||e[9]!==N||e[10]!==R?(I=()=>c?"Loading...":u||(!i||i.length===0?"No commits to display":l.jsxs(l.Fragment,{children:[R(),N(),l.jsx("div",{className:"flex flex-col gap-1",children:i.map((ie,Te)=>l.jsx("div",{className:"flex flex-col gap-0.5",children:l.jsxs("div",{className:"flex gap-2 font-mono leading-snug",children:[S(ie.indicators),l.jsx("span",{className:"text-accent shrink-0 select-all",children:ie.hash}),l.jsx("span",{className:"text-muted-light shrink-0",children:ie.date}),l.jsx("span",{className:"text-foreground flex-1 break-words",children:ie.subject})]})},`${ie.hash}-${Te}`))})]})),e[6]=i,e[7]=u,e[8]=c,e[9]=N,e[10]=R,e[11]=I):I=e[11];const A=I,$=n.outgoingAdditions>0||n.outgoingDeletions>0,E=n.ahead>0||n.behind>0,M=v?"text-accent":"text-muted",F=v?"text-git-dirty":"text-muted",L=v?"text-success-light":"text-muted",Y=v?"text-warning-light":"text-muted";let O;e[12]===Symbol.for("react.memo_cache_sentinel")?(O=l.jsx("span",{className:"text-muted-light",children:"Divergence:"}),e[12]=O):O=e[12];let G;e[13]!==h?(G=ie=>{ie&&h(ie)},e[13]=h,e[14]=G):G=e[14];let H,D;e[15]===Symbol.for("react.memo_cache_sentinel")?(D=l.jsx(As,{value:"line-delta","aria-label":"Show line delta",size:"sm",children:"Lines"}),H=l.jsx(As,{value:"divergence","aria-label":"Show commit divergence",size:"sm",children:"Commits"}),e[15]=H,e[16]=D):(H=e[15],D=e[16]);let U;e[17]!==a||e[18]!==G?(U=l.jsxs("div",{className:"flex items-center gap-2",children:[O,l.jsxs(fu,{type:"single",value:a,onValueChange:G,"aria-label":"Git status indicator mode",size:"sm",children:[D,H]})]}),e[17]=a,e[18]=G,e[19]=U):U=e[19];let B;e[20]===Symbol.for("react.memo_cache_sentinel")?(B=l.jsx("span",{className:"text-muted-light",children:"Base:"}),e[20]=B):B=e[20];let q;e[21]!==p||e[22]!==f||e[23]!==g?(q=l.jsxs("div",{className:"flex items-center gap-2",children:[B,l.jsx(DM,{value:p,onChange:f,onOpenChange:g})]}),e[21]=p,e[22]=f,e[23]=g,e[24]=q):q=e[24];let V;e[25]===Symbol.for("react.memo_cache_sentinel")?(V=l.jsx("span",{className:"text-muted-light",children:"Overview:"}),e[25]=V):V=e[25];let Z;e[26]!==L||e[27]!==Y||e[28]!==n.outgoingAdditions||e[29]!==n.outgoingDeletions||e[30]!==$?(Z=$?l.jsxs("span",{className:"flex items-center gap-2",children:[n.outgoingAdditions>0&&l.jsxs("span",{className:ce("font-normal",L),children:["+",To(n.outgoingAdditions)]}),n.outgoingDeletions>0&&l.jsxs("span",{className:ce("font-normal",Y),children:["-",To(n.outgoingDeletions)]})]}):l.jsx("span",{className:"text-muted",children:"Lines: 0"}),e[26]=L,e[27]=Y,e[28]=n.outgoingAdditions,e[29]=n.outgoingDeletions,e[30]=$,e[31]=Z):Z=e[31];let W;e[32]!==n.ahead||e[33]!==n.behind||e[34]!==E?(W=E?l.jsxs("span",{className:"text-muted",children:["Commits: ",To(n.ahead)," ahead "," ",To(n.behind)," behind"]}):l.jsx("span",{className:"text-muted",children:"Commits: 0"}),e[32]=n.ahead,e[33]=n.behind,e[34]=E,e[35]=W):W=e[35];let K;e[36]!==Z||e[37]!==W?(K=l.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-[11px]",children:[V,Z,W]}),e[36]=Z,e[37]=W,e[38]=K):K=e[38];let J;e[39]!==U||e[40]!==q||e[41]!==K?(J=l.jsxs("div",{className:"border-separator-light mb-2 flex flex-col gap-1 border-b pb-2",children:[U,q,K]}),e[39]=U,e[40]=q,e[41]=K,e[42]=J):J=e[42];let ee;e[43]!==A?(ee=A(),e[43]=A,e[44]=ee):ee=e[44];let se;e[45]!==J||e[46]!==ee?(se=l.jsxs(l.Fragment,{children:[J,ee]}),e[45]=J,e[46]=ee,e[47]=se):se=e[47];const re=se;let ue;e[48]!==L||e[49]!==Y||e[50]!==n.ahead||e[51]!==n.behind||e[52]!==n.outgoingAdditions||e[53]!==n.outgoingDeletions||e[54]!==a||e[55]!==$?(ue=a==="divergence"?l.jsxs(l.Fragment,{children:[n.ahead>0&&l.jsxs("span",{className:"flex items-center font-normal",children:["",To(n.ahead)]}),n.behind>0&&l.jsxs("span",{className:"flex items-center font-normal",children:["",To(n.behind)]})]}):l.jsx(l.Fragment,{children:$?l.jsxs("span",{className:"flex items-center gap-2",children:[n.outgoingAdditions>0&&l.jsxs("span",{className:ce("font-normal",L),children:["+",To(n.outgoingAdditions)]}),n.outgoingDeletions>0&&l.jsxs("span",{className:ce("font-normal",Y),children:["-",To(n.outgoingDeletions)]})]}):n.behind>0&&l.jsxs("span",{className:"text-muted flex items-center font-normal",children:["",To(n.behind)]})}),e[48]=L,e[49]=Y,e[50]=n.ahead,e[51]=n.behind,e[52]=n.outgoingAdditions,e[53]=n.outgoingDeletions,e[54]=a,e[55]=$,e[56]=ue):ue=e[56];let he;e[57]!==F||e[58]!==n.dirty?(he=n.dirty&&l.jsx("span",{className:ce("flex items-center leading-none font-normal",F),children:"*"}),e[57]=F,e[58]=n.dirty,e[59]=he):he=e[59];let ke;e[60]!==ue||e[61]!==he?(ke=l.jsxs(l.Fragment,{children:[ue,he]}),e[60]=ue,e[61]=he,e[62]=ke):ke=e[62];const je=ke,_e=k&&"animate-pulse";let ge;e[63]!==M||e[64]!==_e?(ge=ce("relative flex items-center gap-1 font-mono text-[11px] transition-colors",M,_e),e[63]=M,e[64]=_e,e[65]=ge):ge=e[65];let ve;e[66]!==ge||e[67]!==je?(ve=l.jsx($5,{asChild:!0,children:l.jsx("span",{className:ge,children:je})}),e[66]=ge,e[67]=je,e[68]=ve):ve=e[68];const De=w==="right"?"right":"bottom",$e=w==="right"?"center":"start";let Qe;e[69]!==re||e[70]!==De||e[71]!==$e?(Qe=l.jsx(ey,{side:De,align:$e,sideOffset:26,collisionPadding:8,className:"bg-modal-bg text-foreground border-separator-light z-[10000] max-h-[400px] w-auto max-w-96 min-w-0 overflow-auto px-3 py-2 font-mono text-[11px] whitespace-pre shadow-[0_4px_12px_rgba(0,0,0,0.5)]",onPointerDownOutside:o9,onFocusOutside:o9,children:re}),e[69]=re,e[70]=De,e[71]=$e,e[72]=Qe):Qe=e[72];let Be;return e[73]!==d||e[74]!==m||e[75]!==ve||e[76]!==Qe?(Be=l.jsxs(N5,{open:d,onOpenChange:m,openDelay:0,closeDelay:150,children:[ve,Qe]}),e[73]=d,e[74]=m,e[75]=ve,e[76]=Qe,e[77]=Be):Be=e[77],Be};function Dle(t,e){return l.jsx("span",{style:{color:A5(e)},children:t},e)}function Lle(t){return l.jsx("span",{className:"text-placeholder mr-2 shrink-0 font-mono whitespace-pre",children:Array.from(t).map(Dle)})}function Ole(t,e){return l.jsx("span",{style:{color:A5(e)},children:" "},e)}function Ple(t,e){return l.jsxs("div",{className:"flex gap-2 font-mono leading-snug",children:[l.jsxs("span",{className:"text-placeholder mr-2 shrink-0 font-mono whitespace-pre",children:[Array.from({length:t.columnIndex}).map(Ole),l.jsx("span",{style:{color:A5(t.columnIndex)},children:"!"})]}),l.jsxs("span",{className:"text-foreground",children:["[",t.branch,"]"]})]},e)}function Fle(t,e){return l.jsx("div",{className:"text-foreground font-mono text-[11px] leading-snug whitespace-pre",children:t},e)}function Ble(t,e){if(!t?.trim())return{headers:[],commits:[]};const n=t.trim().split(`
`),r=[],a=[];let s=!1;for(const i of n){if(i.trim()==="--"||i.trim()==="---"){s=!0;continue}if(!s){const p=/^(\s*)[!*]\s+\[([^\]]+)\]/.exec(i);if(p){const[,f,g]=p,x=f.length;r.push({branch:g,columnIndex:x})}continue}const o=r.length;if(i.length<o)continue;const c=i.substring(0,o),u=i.substring(o).trim(),d=/^\[([a-f0-9]+)\]\s+(.+)$/.exec(u);if(!d)continue;const[,m,h]=d;a.push({indicators:c,hash:m.trim(),date:e.get(m.trim())??"",subject:h.trim()})}return{headers:r,commits:a}}const zle=Nt({showBranch:Ge(),dates:Yr(Nt({hash:Ge().min(1,"commit hash must not be empty"),date:Ge().min(1,"commit date must not be empty")})),dirtyFiles:Yr(Ge())}),id={showBranchStart:"__MUX_BRANCH_DATA__BEGIN_SHOW_BRANCH__",showBranchEnd:"__MUX_BRANCH_DATA__END_SHOW_BRANCH__",datesStart:"__MUX_BRANCH_DATA__BEGIN_DATES__",datesEnd:"__MUX_BRANCH_DATA__END_DATES__",dirtyStart:"__MUX_BRANCH_DATA__BEGIN_DIRTY_FILES__",dirtyEnd:"__MUX_BRANCH_DATA__END_DIRTY_FILES__"},Hle=!1;function mp(t,e){!t&&Hle&&console.assert(!!t,e)}function Z2(t,e,n){const r=t.indexOf(e),a=t.indexOf(n);return r===-1||a===-1||a<r?(mp(!1,`Expected script output to contain markers ${e} and ${n}, but it did not.`),null):t.slice(r+e.length,a).replace(/^\r?\n/,"").replace(/\r?\n$/,"")}function qle(t){const e=t.replace(/\r\n/g,`
`),n=Z2(e,id.showBranchStart,id.showBranchEnd);if(n===null)return{success:!1,error:"Missing branch details from git script output."};const r=Z2(e,id.datesStart,id.datesEnd);if(r===null)return{success:!1,error:"Missing commit dates from git script output."};const a=Z2(e,id.dirtyStart,id.dirtyEnd);if(a===null)return{success:!1,error:"Missing dirty file list from git script output."};const s=r.split(`
`).map(c=>c.trim()).filter(c=>c.length>0).map(c=>{const[u,...d]=c.split("|"),m=d.join("|").trim();return mp(u.length>0,"Expected git log output to provide a commit hash."),mp(m.length>0,"Expected git log output to provide a commit date."),{hash:u,date:m}}),i=a.split(`
`).map(c=>c.replace(/\r$/,"")).filter(c=>c.length>0),o=zle.safeParse({showBranch:n,dates:s,dirtyFiles:i});return o.success?{success:!0,data:o.data}:(mp(!1,o.error.message),{success:!1,error:`Invalid data format from git script: ${o.error.issues.map(u=>u.message).join(", ")}`})}function Ule(t,e,n){mp(t.trim().length>0,"useGitBranchDetails expects a non-empty workspaceId argument.");const{api:r}=Kt(),[a,s]=b.useState(null),[i,o]=b.useState(null),[c,u]=b.useState(null),[d,m]=b.useState(null),[h,p]=b.useState(!1),f=b.useRef(null),g=b.useRef(null),x=b.useCallback(async()=>{if(r){p(!0);try{const w=`
# Get current branch
CURRENT_BRANCH=$(git rev-parse --abbrev-ref HEAD 2>/dev/null || echo "main")

# Get primary branch (main or master)
PRIMARY_BRANCH=$(git branch -r 2>/dev/null | grep -E 'origin/(main|master)$' | head -1 | sed 's@^.*origin/@@' || echo "main")

if [ -z "$PRIMARY_BRANCH" ]; then
  PRIMARY_BRANCH="main"
fi

# Build refs list for show-branch
REFS="HEAD origin/$PRIMARY_BRANCH"

# Check if origin/<current-branch> exists and is different from primary
if [ "$CURRENT_BRANCH" != "$PRIMARY_BRANCH" ] && git rev-parse --verify "origin/$CURRENT_BRANCH" >/dev/null 2>&1; then
  REFS="$REFS origin/$CURRENT_BRANCH"
fi

# Get show-branch output
SHOW_BRANCH=$(git show-branch --sha1-name $REFS 2>/dev/null || echo "")

# Extract all hashes and get dates in ONE git log call
HASHES=$(printf '%s
' "$SHOW_BRANCH" | grep -oE '\\[[a-f0-9]+\\]' | tr -d '[]' | tr '\\n' ' ')
if [ -n "$HASHES" ]; then
  DATES_OUTPUT=$(git log --no-walk --format='%h|%ad' --date=format:'%b %d %I:%M %p' $HASHES 2>/dev/null || echo "")
else
  DATES_OUTPUT=""
fi

# Get dirty files if requested
${e?.dirty?"DIRTY_FILES=$(git status --porcelain 2>/dev/null | head -20)":"DIRTY_FILES=''"}

printf '__MUX_BRANCH_DATA__BEGIN_SHOW_BRANCH__\\n%s\\n__MUX_BRANCH_DATA__END_SHOW_BRANCH__\\n' "$SHOW_BRANCH"
printf '__MUX_BRANCH_DATA__BEGIN_DATES__\\n%s\\n__MUX_BRANCH_DATA__END_DATES__\\n' "$DATES_OUTPUT"
printf '__MUX_BRANCH_DATA__BEGIN_DIRTY_FILES__\\n%s\\n__MUX_BRANCH_DATA__END_DIRTY_FILES__\\n' "$DIRTY_FILES"
`,v=await r.workspace.executeBash({workspaceId:t,script:w,options:{timeout_secs:5}});if(!v.success){m(`Branch info unavailable: ${v.error}`),o(null);return}if(!v.data.success){const T=v.data.output?v.data.output.trim():v.data.error??"Unknown error";m(`Branch info unavailable: ${T}`),o(null);return}const k=qle(v.data.output??"");if(!k.success){m(`Branch info unavailable: ${k.error}`),s(null),o(null),u(null);return}const C=k.data,_=new Map(C.dates.map(T=>[T.hash,T.date])),S=Ble(C.showBranch,_);if(S.commits.length===0){m("Unable to parse branch info"),s(null),o(null),u(null);return}s(S.headers),o(S.commits),u(C.dirtyFiles),m(null),g.current={headers:S.headers,commits:S.commits,dirtyFiles:C.dirtyFiles,timestamp:Date.now()}}catch(y){m(`Failed to fetch branch info: ${y instanceof Error?y.message:String(y)}`),o(null)}finally{p(!1)}}},[r,t,e]);return b.useEffect(()=>{if(!n)return;const y=Date.now();if(g.current&&y-g.current.timestamp<5e3){s(g.current.headers),o(g.current.commits),u(g.current.dirtyFiles),m(null);return}return p(!0),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{x()},200),()=>{f.current&&(clearTimeout(f.current),f.current=null)}},[n,t,e?.dirty,x]),{branchHeaders:a,commits:i,dirtyFiles:c,isLoading:h,errorMessage:d}}const LM=t=>{const e=ae.c(33),{gitStatus:n,workspaceId:r,projectPath:a,tooltipPosition:s,isWorking:i}=t,o=s===void 0?"right":s,c=i===void 0?!1:i,[u,d]=b.useState(!1),[m,h]=b.useState(!1),p=b.useRef(!1);let f;e[0]!==r?(f=r.trim(),e[0]=r,e[1]=f):f=e[1];const g=f,x=EZ(g);let y;e[2]===Symbol.for("react.memo_cache_sentinel")?(y={listener:!0},e[2]=y):y=e[2];const[w,v]=Tt(KX,"line-delta",y);let k;e[3]!==a?(k=Bp.reviewDefaultBase(a),e[3]=a,e[4]=k):k=e[4];let C;e[5]===Symbol.for("react.memo_cache_sentinel")?(C={listener:!0},e[5]=C):C=e[5];const[_]=Tt(k,Js.reviewBase,C);let S;e[6]!==g?(S=Bp.reviewDiffBase(g),e[6]=g,e[7]=S):S=e[7];let T;e[8]===Symbol.for("react.memo_cache_sentinel")?(T={listener:!0},e[8]=T):T=e[8];const[N,j]=Tt(S,_,T);let R;e[9]!==j||e[10]!==g?(R=B=>{j(B),Uc(g)},e[9]=j,e[10]=g,e[11]=R):R=e[11];const I=R;let A;e[12]!==m?(A=B=>{if(!B&&m){p.current=!0;return}p.current=!1,d(B)},e[12]=m,e[13]=A):A=e[13];const $=A;let E;e[14]===Symbol.for("react.memo_cache_sentinel")?(E=B=>{h(B),!B&&p.current&&(p.current=!1,d(!1))},e[14]=E):E=e[14];const M=E;let F;e[15]!==v?(F=B=>{v(B)},e[15]=v,e[16]=F):F=e[16];const L=F;console.assert(g.length>0,"GitStatusIndicator requires workspaceId to be a non-empty string.");const{branchHeaders:Y,commits:O,dirtyFiles:G,isLoading:H,errorMessage:D}=Ule(g,n,u);let U;return e[17]!==N||e[18]!==Y||e[19]!==O||e[20]!==G||e[21]!==D||e[22]!==n||e[23]!==I||e[24]!==$||e[25]!==L||e[26]!==H||e[27]!==u||e[28]!==x||e[29]!==c||e[30]!==w||e[31]!==o?(U=l.jsx(Mle,{mode:w,gitStatus:n,tooltipPosition:o,branchHeaders:Y,commits:O,dirtyFiles:G,isLoading:H,errorMessage:D,isOpen:u,onOpenChange:$,onModeChange:L,baseRef:N,onBaseChange:I,onPopoverOpenChange:M,isWorking:c,isRefreshing:x}),e[17]=N,e[18]=Y,e[19]=O,e[20]=G,e[21]=D,e[22]=n,e[23]=I,e[24]=$,e[25]=L,e[26]=H,e[27]=u,e[28]=x,e[29]=c,e[30]=w,e[31]=o,e[32]=U):U=e[32],U};function Wle(t){if(!t?.type||t.type!=="ssh")return null;const{host:e}=t;return(e.includes("@")?e.split("@")[1]:e).split(":")[0]||null}async function bc(t){if(navigator.clipboard?.writeText){await navigator.clipboard.writeText(t);return}const e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.opacity="0",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}function go(t){const e=ae.c(5),n=t===void 0?bc:t,[r,a]=b.useState(!1);let s;e[0]!==n?(s=async c=>{try{await n(c),a(!0),setTimeout(()=>a(!1),NZ)}catch(u){console.error("Failed to copy:",u)}},e[0]=n,e[1]=s):s=e[1];const i=s;let o;return e[2]!==r||e[3]!==i?(o={copied:r,copyToClipboard:i},e[2]=r,e[3]=i,e[4]=o):o=e[4],o}function OM(t){const e=ae.c(7),{size:n,className:r}=t,a=n===void 0?10:n;let s,i,o,c;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx("rect",{x:"2",y:"2",width:"12",height:"5",rx:"1"}),i=l.jsx("rect",{x:"2",y:"9",width:"12",height:"5",rx:"1"}),o=l.jsx("circle",{cx:"5",cy:"4.5",r:"0.5",fill:"currentColor"}),c=l.jsx("circle",{cx:"5",cy:"11.5",r:"0.5",fill:"currentColor"}),e[0]=s,e[1]=i,e[2]=o,e[3]=c):(s=e[0],i=e[1],o=e[2],c=e[3]);let u;return e[4]!==r||e[5]!==a?(u=l.jsxs("svg",{width:a,height:a,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-label":"SSH Runtime",className:r,children:[s,i,o,c]}),e[4]=r,e[5]=a,e[6]=u):u=e[6],u}function PM(t){const e=ae.c(4),{size:n,className:r}=t,a=n===void 0?10:n;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsxs("g",{transform:"translate(-1 0)",children:[l.jsx("circle",{cx:"7",cy:"3",r:"2"}),l.jsx("circle",{cx:"7",cy:"13",r:"2"}),l.jsx("line",{x1:"7",y1:"5",x2:"7",y2:"11"}),l.jsx("circle",{cx:"13",cy:"7",r:"2"}),l.jsx("path",{d:"M11 7 L7 9"})]}),e[0]=s):s=e[0];let i;return e[1]!==r||e[2]!==a?(i=l.jsx("svg",{width:a,height:a,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-label":"Worktree Runtime",className:r,children:s}),e[1]=r,e[2]=a,e[3]=i):i=e[3],i}function FM(t){const e=ae.c(4),{size:n,className:r}=t,a=n===void 0?10:n;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx("path",{d:"M2 4 L2 13 L14 13 L14 5 L8 5 L7 3 L2 3 L2 4"}),e[0]=s):s=e[0];let i;return e[1]!==r||e[2]!==a?(i=l.jsx("svg",{width:a,height:a,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-label":"Local Runtime",className:r,children:s}),e[1]=r,e[2]=a,e[3]=i):i=e[3],i}function BM(t){const e=ae.c(5),{size:n,className:r}=t,a=n===void 0?10:n;let s,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx("rect",{x:"263.75",y:"5.41",width:"162.18",height:"189.24"}),i=l.jsx("path",{d:"M0,100C0,38.92,51.89,0,123.25,0s111.35,33.78,112.7,83.51l-61.62,1.89c-1.62-27.57-26.03-45.68-51.08-45.14-34.32.74-59.73,23.51-59.73,59.73s25.41,58.65,59.73,58.65c25.05,0,48.91-17.3,51.62-44.86l61.62,1.35c-1.62,50.54-44.05,84.87-113.24,84.87S0,160.81,0,100Z"}),e[0]=s,e[1]=i):(s=e[0],i=e[1]);let o;return e[2]!==r||e[3]!==a?(o=l.jsxs("svg",{width:a,height:a,viewBox:"0 0 425.93 200",fill:"currentColor","aria-label":"Coder Runtime",className:r,children:[s,i]}),e[2]=r,e[3]=a,e[4]=o):o=e[4],o}function zM(t){const e=ae.c(7),{size:n,className:r}=t,a=n===void 0?10:n;let s,i,o,c;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx("path",{d:"M2 5 L8 2 L14 5 L14 11 L8 14 L2 11 Z"}),i=l.jsx("path",{d:"M8 2 L8 14"}),o=l.jsx("path",{d:"M2 5 L8 8 L14 5"}),c=l.jsx("path",{d:"M8 8 L8 14"}),e[0]=s,e[1]=i,e[2]=o,e[3]=c):(s=e[0],i=e[1],o=e[2],c=e[3]);let u;return e[4]!==r||e[5]!==a?(u=l.jsxs("svg",{width:a,height:a,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-label":"Docker Runtime",className:r,children:[s,i,o,c]}),e[4]=r,e[5]=a,e[6]=u):u=e[6],u}function Gle(t){const e=ae.c(6),{size:n,className:r}=t,a=n===void 0?10:n;let s,i,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx("rect",{x:"2",y:"3",width:"12",height:"10",rx:"1"}),i=l.jsx("path",{d:"M6 6 L4.5 8 L6 10"}),o=l.jsx("path",{d:"M10 6 L11.5 8 L10 10"}),e[0]=s,e[1]=i,e[2]=o):(s=e[0],i=e[1],o=e[2]);let c;return e[3]!==r||e[4]!==a?(c=l.jsxs("svg",{width:a,height:a,viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round","aria-label":"Dev container runtime",className:r,children:[s,i,o]}),e[3]=r,e[4]=a,e[5]=c):c=e[5],c}const qs={local:{label:"Local",description:"Work directly in project directory (no isolation)",docsPath:"/runtime/local",Icon:FM,button:{activeClass:"bg-[var(--color-runtime-local)]/30 text-foreground border-[var(--color-runtime-local)]/60",idleClass:"bg-transparent text-muted border-transparent hover:border-[var(--color-runtime-local)]/40"},iconButton:{activeClass:"bg-[var(--color-runtime-local)]/30 text-foreground border-[var(--color-runtime-local)]/60",idleClass:"bg-transparent text-muted border-[var(--color-runtime-local)]/30 hover:border-[var(--color-runtime-local)]/50"},badge:{idleClass:"bg-transparent text-muted border-[var(--color-runtime-local)]/50",workingClass:"bg-[var(--color-runtime-local)]/30 text-[var(--color-runtime-local)] border-[var(--color-runtime-local)]/60 animate-pulse"}},worktree:{label:"Worktree",description:"Isolated git worktree in ~/.mux/src",docsPath:"/runtime/worktree",Icon:PM,button:{activeClass:"bg-[var(--color-runtime-worktree)]/20 text-[var(--color-runtime-worktree-text)] border-[var(--color-runtime-worktree)]/60",idleClass:"bg-transparent text-muted border-transparent hover:border-[var(--color-runtime-worktree)]/40"},iconButton:{activeClass:"bg-[var(--color-runtime-worktree)]/20 text-[var(--color-runtime-worktree-text)] border-[var(--color-runtime-worktree)]/60",idleClass:"bg-transparent text-muted border-[var(--color-runtime-worktree)]/30 hover:border-[var(--color-runtime-worktree)]/50"},badge:{idleClass:"bg-transparent text-muted border-[var(--color-runtime-worktree)]/50",workingClass:"bg-[var(--color-runtime-worktree)]/20 text-[var(--color-runtime-worktree-text)] border-[var(--color-runtime-worktree)]/60 animate-pulse"}},ssh:{label:"SSH",description:"Remote clone on SSH host",docsPath:"/runtime/ssh",Icon:OM,button:{activeClass:"bg-[var(--color-runtime-ssh)]/20 text-[var(--color-runtime-ssh-text)] border-[var(--color-runtime-ssh)]/60",idleClass:"bg-transparent text-muted border-transparent hover:border-[var(--color-runtime-ssh)]/40"},iconButton:{activeClass:"bg-[var(--color-runtime-ssh)]/20 text-[var(--color-runtime-ssh-text)] border-[var(--color-runtime-ssh)]/60",idleClass:"bg-transparent text-muted border-[var(--color-runtime-ssh)]/30 hover:border-[var(--color-runtime-ssh)]/50"},badge:{idleClass:"bg-transparent text-muted border-[var(--color-runtime-ssh)]/50",workingClass:"bg-[var(--color-runtime-ssh)]/20 text-[var(--color-runtime-ssh-text)] border-[var(--color-runtime-ssh)]/60 animate-pulse"}},docker:{label:"Docker",description:"Isolated container per workspace",docsPath:"/runtime/docker",Icon:zM,button:{activeClass:"bg-[var(--color-runtime-docker)]/20 text-[var(--color-runtime-docker-text)] border-[var(--color-runtime-docker)]/60",idleClass:"bg-transparent text-muted border-transparent hover:border-[var(--color-runtime-docker)]/40"},iconButton:{activeClass:"bg-[var(--color-runtime-docker)]/20 text-[var(--color-runtime-docker-text)] border-[var(--color-runtime-docker)]/60",idleClass:"bg-transparent text-muted border-[var(--color-runtime-docker)]/30 hover:border-[var(--color-runtime-docker)]/50"},badge:{idleClass:"bg-transparent text-muted border-[var(--color-runtime-docker)]/50",workingClass:"bg-[var(--color-runtime-docker)]/20 text-[var(--color-runtime-docker-text)] border-[var(--color-runtime-docker)]/60 animate-pulse"}},devcontainer:{label:"Dev container",description:"Uses project's devcontainer.json configuration",docsPath:"/runtime/devcontainer",Icon:Gle,button:{activeClass:"bg-[var(--color-runtime-devcontainer)]/20 text-[var(--color-runtime-devcontainer-text)] border-[var(--color-runtime-devcontainer)]/60",idleClass:"bg-transparent text-muted border-transparent hover:border-[var(--color-runtime-devcontainer)]/40"},iconButton:{activeClass:"bg-[var(--color-runtime-devcontainer)]/20 text-[var(--color-runtime-devcontainer-text)] border-[var(--color-runtime-devcontainer)]/60",idleClass:"bg-transparent text-muted border-[var(--color-runtime-devcontainer)]/30 hover:border-[var(--color-runtime-devcontainer)]/50"},badge:{idleClass:"bg-transparent text-muted border-[var(--color-runtime-devcontainer)]/50",workingClass:"bg-[var(--color-runtime-devcontainer)]/20 text-[var(--color-runtime-devcontainer-text)] border-[var(--color-runtime-devcontainer)]/60 animate-pulse"}}},B3={...qs.ssh,label:"Coder",description:"Coder workspace via the Coder CLI",docsPath:"/runtime/coder",Icon:BM},Vle={...qs,coder:B3},Kle={ssh:{Icon:qs.ssh.Icon,badge:qs.ssh.badge},coder:{Icon:B3.Icon,badge:B3.badge},worktree:{Icon:qs.worktree.Icon,badge:qs.worktree.badge},local:{Icon:qs.local.Icon,badge:qs.local.badge},docker:{Icon:qs.docker.Icon,badge:qs.docker.badge},devcontainer:{Icon:qs.devcontainer.Icon,badge:qs.devcontainer.badge}};function l9(t){const e=ae.c(14),{label:n,value:r,copyable:a}=t,{copied:s,copyToClipboard:i}=go();let o;e[0]!==n?(o=l.jsx("span",{className:"text-muted shrink-0 text-xs",children:n}),e[0]=n,e[1]=o):o=e[1];let c;e[2]!==r?(c=l.jsx("span",{className:"font-mono text-xs whitespace-nowrap",children:r}),e[2]=r,e[3]=c):c=e[3];let u;e[4]!==s||e[5]!==i||e[6]!==a||e[7]!==n||e[8]!==r?(u=a&&l.jsx("button",{onClick:m=>{m.stopPropagation(),i(r)},className:"text-muted hover:text-foreground shrink-0","aria-label":`Copy ${n.toLowerCase()}`,children:s?l.jsx(Hn,{className:"h-3 w-3"}):l.jsx(nI,{className:"h-3 w-3"})}),e[4]=s,e[5]=i,e[6]=a,e[7]=n,e[8]=r,e[9]=u):u=e[9];let d;return e[10]!==o||e[11]!==c||e[12]!==u?(d=l.jsxs("div",{className:"flex items-center gap-1.5",children:[o,c,u]}),e[10]=o,e[11]=c,e[12]=u,e[13]=d):d=e[13],d}function Yle(t){return CA(t)?t.coder?{type:"coder",label:`Coder Workspace: ${t.coder.workspaceName??t.host}`}:{type:"ssh",label:`SSH: ${Wle(t)??t.host}`}:$Z(t)?{type:"worktree",label:"Worktree: isolated git worktree"}:x3(t)?{type:"local",label:"Local: project directory"}:AZ(t)?{type:"docker",label:`Docker: ${t.image}`}:SA(t)?{type:"devcontainer",label:t.configPath?`Dev container: ${t.configPath}`:"Dev container"}:null}function ty(t){const e=ae.c(26),{runtimeConfig:n,className:r,isWorking:a,workspacePath:s,workspaceName:i,tooltipSide:o}=t,c=a===void 0?!1:a,u=o===void 0?"top":o;let d;e[0]!==n?(d=Yle(n),e[0]=n,e[1]=d):d=e[1];const m=d;if(!m)return null;const h=Kle[m.type],p=c?h.badge.workingClass:h.badge.idleClass,f=h.Icon;let g;e[2]!==r||e[3]!==p?(g=ce("inline-flex items-center rounded px-1 py-0.5 border transition-colors",p,r),e[2]=r,e[3]=p,e[4]=g):g=e[4];let x;e[5]!==f?(x=l.jsx(f,{}),e[5]=f,e[6]=x):x=e[6];let y;e[7]!==g||e[8]!==x?(y=l.jsx(Xe,{asChild:!0,children:l.jsx("span",{className:g,children:x})}),e[7]=g,e[8]=x,e[9]=y):y=e[9];let w;e[10]!==m.label?(w=l.jsx("div",{className:"text-xs font-medium",children:m.label}),e[10]=m.label,e[11]=w):w=e[11];let v;e[12]!==i?(v=i&&l.jsx(l9,{label:"Name",value:i}),e[12]=i,e[13]=v):v=e[13];let k;e[14]!==s?(k=s&&l.jsx(l9,{label:"Path",value:s,copyable:!0}),e[14]=s,e[15]=k):k=e[15];let C;e[16]!==w||e[17]!==v||e[18]!==k?(C=l.jsxs("div",{className:"flex flex-col gap-1",children:[w,v,k]}),e[16]=w,e[17]=v,e[18]=k,e[19]=C):C=e[19];let _;e[20]!==C||e[21]!==u?(_=l.jsx(Ke,{side:u,align:"start",className:"max-w-[500px]",children:C}),e[20]=C,e[21]=u,e[22]=_):_=e[22];let S;return e[23]!==_||e[24]!==y?(S=l.jsxs(Ye,{children:[y,_]}),e[23]=_,e[24]=y,e[25]=S):S=e[25],S}function HM(t){const e=Xle(t),n=b.forwardRef((r,a)=>{const{children:s,...i}=r,o=b.Children.toArray(s),c=o.find(Qle);if(c){const u=c.props.children,d=o.map(m=>m===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:m);return l.jsx(e,{...i,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return l.jsx(e,{...i,ref:a,children:s})});return n.displayName=`${t}.Slot`,n}function Xle(t){const e=b.forwardRef((n,r)=>{const{children:a,...s}=n;if(b.isValidElement(a)){const i=ece(a),o=Jle(s,a.props);return a.type!==b.Fragment&&(o.ref=r?Fa(r,i):i),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Zle=Symbol("radix.slottable");function Qle(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Zle}function Jle(t,e){const n={...e};for(const r in e){const a=t[r],s=e[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...o)=>{const c=s(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...t,...n}}function ece(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var tce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qM=tce.reduce((t,e)=>{const n=HM(`Primitive.${e}`),r=b.forwardRef((a,s)=>{const{asChild:i,...o}=a,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),ny="Popover",[UM]=dl(ny,[mc]),Ff=mc(),[nce,xc]=UM(ny),WM=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:a,onOpenChange:s,modal:i=!1}=t,o=Ff(e),c=b.useRef(null),[u,d]=b.useState(!1),[m,h]=lo({prop:r,defaultProp:a??!1,onChange:s,caller:ny});return l.jsx(qx,{...o,children:l.jsx(nce,{scope:e,contentId:Qs(),triggerRef:c,open:m,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:b.useCallback(()=>d(!0),[]),onCustomAnchorRemove:b.useCallback(()=>d(!1),[]),modal:i,children:n})})};WM.displayName=ny;var GM="PopoverAnchor",VM=b.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,a=xc(GM,n),s=Ff(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:o}=a;return b.useEffect(()=>(i(),()=>o()),[i,o]),l.jsx(Lf,{...s,...r,ref:e})});VM.displayName=GM;var KM="PopoverTrigger",YM=b.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,a=xc(KM,n),s=Ff(n),i=Rr(e,a.triggerRef),o=l.jsx(qM.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":eD(a.open),...r,ref:i,onClick:kn(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?o:l.jsx(Lf,{asChild:!0,...s,children:o})});YM.displayName=KM;var I5="PopoverPortal",[rce,ace]=UM(I5,{forceMount:void 0}),XM=t=>{const{__scopePopover:e,forceMount:n,children:r,container:a}=t,s=xc(I5,e);return l.jsx(rce,{scope:e,forceMount:n,children:l.jsx(Mu,{present:n||s.open,children:l.jsx(fx,{asChild:!0,container:a,children:r})})})};XM.displayName=I5;var ym="PopoverContent",ZM=b.forwardRef((t,e)=>{const n=ace(ym,t.__scopePopover),{forceMount:r=n.forceMount,...a}=t,s=xc(ym,t.__scopePopover);return l.jsx(Mu,{present:r||s.open,children:s.modal?l.jsx(ice,{...a,ref:e}):l.jsx(oce,{...a,ref:e})})});ZM.displayName=ym;var sce=HM("PopoverContent.RemoveScroll"),ice=b.forwardRef((t,e)=>{const n=xc(ym,t.__scopePopover),r=b.useRef(null),a=Rr(e,r),s=b.useRef(!1);return b.useEffect(()=>{const i=r.current;if(i)return cA(i)},[]),l.jsx(dA,{as:sce,allowPinchZoom:!0,children:l.jsx(QM,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:kn(t.onCloseAutoFocus,i=>{i.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:kn(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,u=o.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:kn(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),oce=b.forwardRef((t,e)=>{const n=xc(ym,t.__scopePopover),r=b.useRef(!1),a=b.useRef(!1);return l.jsx(QM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;n.triggerRef.current?.contains(i)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),QM=b.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...m}=t,h=xc(ym,n),p=Ff(n);return uA(),l.jsx(mA,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:s,children:l.jsx(gx,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:l.jsx(Ux,{"data-state":eD(h.open),role:"dialog",id:h.contentId,...p,...m,ref:e,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),JM="PopoverClose",lce=b.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,a=xc(JM,n);return l.jsx(qM.button,{type:"button",...r,ref:e,onClick:kn(t.onClick,()=>a.onOpenChange(!1))})});lce.displayName=JM;var cce="PopoverArrow",uce=b.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,a=Ff(n);return l.jsx(Wx,{...a,...r,ref:e})});uce.displayName=cce;function eD(t){return t?"open":"closed"}var dce=WM,mce=VM,hce=YM,pce=XM,tD=ZM;const yc=dce,Vm=hce,R5=mce,gl=b.forwardRef((t,e)=>{const n=ae.c(13);let r,a,s,i;n[0]!==t?({className:r,align:s,sideOffset:i,...a}=t,n[0]=t,n[1]=r,n[2]=a,n[3]=s,n[4]=i):(r=n[1],a=n[2],s=n[3],i=n[4]);const o=s===void 0?"center":s,c=i===void 0?4:i;let u;n[5]!==r?(u=ce("bg-dark border-border z-[1600] w-(--radix-popover-trigger-width) min-w-[200px] rounded-md border shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),n[5]=r,n[6]=u):u=n[6];let d;return n[7]!==o||n[8]!==a||n[9]!==e||n[10]!==c||n[11]!==u?(d=l.jsx(pce,{children:l.jsx(tD,{ref:e,align:o,sideOffset:c,className:u,...a})}),n[7]=o,n[8]=a,n[9]=e,n[10]=c,n[11]=u,n[12]=d):d=n[12],d});gl.displayName=tD.displayName;const I0=Cx({entryPrefix:"branch:",indexKey:"branchIndex",maxEntries:100}),Q2=100,J2=50;function nD({workspaceId:t,workspaceName:e,className:n}){const{api:r}=Kt(),[a,s]=b.useState(()=>I0.get(t)),[i,o]=b.useState([]),[c,u]=b.useState(!1),[d,m]=b.useState([]),[h,p]=b.useState({}),[f,g]=b.useState(new Set),[x,y]=b.useState(""),[w,v]=b.useState(!1),[k,C]=b.useState(!1),[_,S]=b.useState(!1),[T,N]=b.useState(null),{copied:j,copyToClipboard:R}=go(),A=z_(t)?.branch;b.useEffect(()=>{A&&s(q=>q===A?q:(I0.set(t,A),A))},[A,t]);const $=a!==null&&a!==!1&&_;b.useEffect(()=>{if(!r)return;let q=!1;return(async()=>{try{const V=await r.workspace.executeBash({workspaceId:t,script:"git rev-parse --abbrev-ref HEAD 2>/dev/null",options:{timeout_secs:5}});if(q)return;if(V.success&&V.data.success&&V.data.output?.trim()){const Z=V.data.output.trim();s(Z),I0.set(t,Z)}else s(!1)}catch{q||s(!1)}})(),()=>{q=!0}},[r,t]);const E=b.useCallback(async()=>{if(!(!r||a===!1)){C(!0);try{const[q,V]=await Promise.all([r.workspace.executeBash({workspaceId:t,script:`git branch --sort=-committerdate --format='%(refname:short)' 2>/dev/null | head -${Q2+1}`,options:{timeout_secs:5}}),r.workspace.executeBash({workspaceId:t,script:"git remote 2>/dev/null",options:{timeout_secs:5}})]);if(q.success&&q.data.success&&q.data.output){const Z=q.data.output.split(`
`).map(W=>W.trim()).filter(W=>W.length>0);if(Z.length>0){const W=Z.length>Q2;o(W?Z.slice(0,Q2):Z),u(W)}}if(V.success&&V.data.success&&V.data.output){const Z=V.data.output.split(`
`).map(W=>W.trim()).filter(W=>W.length>0);m(Z)}}catch{}finally{C(!1)}}},[r,t,a]),M=b.useCallback(async q=>{if(!(!r||h[q]?.fetched)){p(V=>({...V,[q]:{branches:[],isLoading:!0,fetched:!1,truncated:!1}}));try{const V=await r.workspace.executeBash({workspaceId:t,script:`git branch -r --list '${q}/*' --sort=-committerdate --format='%(refname:short)' 2>/dev/null | head -${J2+1}`,options:{timeout_secs:5}});if(V.success&&V.data.success&&V.data.output){const Z=V.data.output.split(`
`).map(K=>K.trim()).filter(K=>K.length>0),W=Z.length>J2;p(K=>({...K,[q]:{branches:W?Z.slice(0,J2):Z,isLoading:!1,fetched:!0,truncated:W}}))}else p(Z=>({...Z,[q]:{branches:[],isLoading:!1,fetched:!0,truncated:!1}}))}catch{p(V=>({...V,[q]:{branches:[],isLoading:!1,fetched:!0,truncated:!1}}))}}},[r,t,h]),F=b.useCallback(async(q,V=!1)=>{if(!r)return;const Z=V?q.replace(/^[^/]+\//,""):q;if(Z===a){v(!1);return}S(!0),N(null),v(!1),Uc(t);try{const W=await r.workspace.executeBash({workspaceId:t,script:`git checkout ${Z} 2>&1`,options:{timeout_secs:30}});if(!W.success)N(W.error??"Checkout failed"),Uc(t);else if(W.data.success)s(Z),I0.set(t,Z),Uc(t);else{const K=W.data.output?.trim()??W.data.error??"Checkout failed";N(K),Uc(t)}}catch(W){N(W instanceof Error?W.message:"Checkout failed")}finally{S(!1)}},[r,t,a]);b.useEffect(()=>{if(T){const q=setTimeout(()=>N(null),3e3);return()=>clearTimeout(q)}},[T]),b.useEffect(()=>{w&&E()},[w,E]),b.useEffect(()=>{w||(p({}),g(new Set),y(""))},[w]);const L=b.useRef(null);b.useEffect(()=>{if(w){const q=setTimeout(()=>L.current?.focus(),50);return()=>clearTimeout(q)}},[w]);const Y=q=>{q.stopPropagation(),typeof a=="string"&&R(a)},O=typeof a=="string"?a:e,G=q=>{g(V=>{const Z=new Set(V);return Z.has(q)?Z.delete(q):(Z.add(q),M(q)),Z})},H=x.toLowerCase(),D=i.filter(q=>q.toLowerCase().includes(H)),U=q=>{const V=h[q];return V?.branches?V.branches.filter(Z=>Z.toLowerCase().includes(H)):[]},B=d.some(q=>h[q]?.fetched?U(q).length>0:!0);return a===!1?l.jsx("div",{className:ce("group flex items-center gap-0.5",n),children:l.jsx("div",{className:"text-muted-light flex max-w-[180px] min-w-0 items-center gap-1 px-1 py-0.5 font-mono text-[11px]",children:l.jsx("span",{className:"truncate",children:e})})}):a===null?l.jsx("div",{className:ce("group flex items-center gap-0.5",n),children:l.jsxs("div",{className:"text-muted-light flex max-w-[180px] min-w-0 items-center gap-1 px-1 py-0.5 font-mono text-[11px]",children:[l.jsx(pn,{className:"h-3 w-3 shrink-0 animate-spin opacity-70"}),l.jsx("span",{className:"truncate",children:e})]})}):l.jsxs("div",{className:ce("group flex items-center gap-0.5",n),children:[l.jsxs(yc,{open:w,onOpenChange:v,children:[l.jsx(Vm,{asChild:!0,children:l.jsxs("button",{disabled:_,className:ce("text-muted-light hover:bg-hover hover:text-foreground flex min-w-0 max-w-[180px] items-center gap-1 rounded-sm px-1 py-0.5 font-mono text-[11px] transition-colors",$&&"animate-pulse"),children:[l.jsx(rI,{className:"h-3 w-3 shrink-0 opacity-70"}),l.jsx("span",{className:"truncate",children:O})]})}),l.jsxs(gl,{align:"start",className:"w-[220px] p-0",children:[l.jsx("div",{className:"border-border border-b px-2 py-1.5",children:l.jsx("input",{ref:L,type:"text",value:x,onChange:q=>y(q.target.value),placeholder:"Search branches...",className:"text-foreground placeholder:text-muted w-full bg-transparent font-mono text-[11px] outline-none"})}),l.jsxs("div",{className:"max-h-[280px] overflow-y-auto p-1",children:[d.length>0&&B&&l.jsxs(l.Fragment,{children:[d.map(q=>{const V=h[q],Z=f.has(q),W=V?.isLoading??!1,K=U(q);return V?.fetched&&K.length===0&&x?null:l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>G(q),className:"hover:bg-hover flex w-full items-center gap-1.5 rounded-sm px-2 py-1 font-mono text-[11px]",children:[l.jsx(na,{className:ce("text-muted h-3 w-3 shrink-0 transition-transform",Z&&"rotate-90")}),l.jsx(w1,{className:"text-muted h-3 w-3 shrink-0"}),l.jsx("span",{children:q})]}),Z&&l.jsx("div",{className:"ml-3",children:W?l.jsx("div",{className:"text-muted flex items-center justify-center py-2",children:l.jsx(pn,{className:"h-3 w-3 animate-spin"})}):K.length===0?l.jsx("div",{className:"text-muted py-1.5 pl-2 text-[10px]",children:"No branches"}):l.jsxs(l.Fragment,{children:[K.map(J=>{const ee=J.replace(`${q}/`,"");return l.jsxs("button",{onClick:()=>void F(J,!0),className:"hover:bg-hover flex w-full items-center gap-1.5 rounded-sm px-2 py-1 font-mono text-[11px]",children:[l.jsx(Hn,{className:ce("h-3 w-3 shrink-0",ee===a?"opacity-100":"opacity-0")}),l.jsx("span",{className:"truncate",children:ee})]},J)}),V?.truncated&&!x&&l.jsx("div",{className:"text-muted px-2 py-1 text-[10px] italic",children:"+more branches (use search)"})]})})]},q)}),D.length>0&&l.jsx("div",{className:"bg-border my-1 h-px"})]}),k&&i.length<=1?l.jsx("div",{className:"text-muted flex items-center justify-center py-2",children:l.jsx(pn,{className:"h-3 w-3 animate-spin"})}):D.length===0?l.jsx("div",{className:"text-muted py-2 text-center text-[10px]",children:"No matching branches"}):l.jsxs(l.Fragment,{children:[D.map(q=>l.jsxs("button",{onClick:()=>void F(q),className:"hover:bg-hover flex w-full items-center gap-1.5 rounded-sm px-2 py-1 font-mono text-[11px]",children:[l.jsx(Hn,{className:ce("h-3 w-3 shrink-0",q===a?"opacity-100":"opacity-0")}),l.jsx("span",{className:"truncate",children:q})]},q)),c&&!x&&l.jsx("div",{className:"text-muted px-2 py-1 text-[10px] italic",children:"+more branches (use search)"})]})]})]})]}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:Y,className:"text-muted hover:text-foreground flex h-3.5 w-3.5 shrink-0 items-center justify-center opacity-0 transition-opacity group-hover:opacity-100","aria-label":"Copy branch name",children:j?l.jsx(Hn,{className:"h-2.5 w-2.5"}):l.jsx(nI,{className:"h-2.5 w-2.5"})})}),l.jsx(Ke,{side:"bottom",children:j?"Copied!":"Copy branch name"})]}),T&&l.jsx("span",{className:"text-danger-soft truncate text-[10px]",children:T})]})}function fce(t){if(t.loading&&!t.status)return"text-muted";if(t.error)return"text-danger-soft";if(!t.status)return"text-muted";const{state:e,mergeable:n,mergeStateStatus:r,isDraft:a,hasFailedChecks:s,hasPendingChecks:i}=t.status;return e==="MERGED"?"text-purple-500":e==="CLOSED"?"text-danger-soft":a||r==="DRAFT"?"text-muted":n==="CONFLICTING"||r==="DIRTY"?"text-danger-soft":r==="CLEAN"?"text-success":r==="BEHIND"?"text-warning":s?"text-danger-soft":i?"text-warning":r==="UNSTABLE"?"text-danger-soft":r==="BLOCKED"||r==="HAS_HOOKS"?"text-warning":"text-muted"}function gce(t){const e=ae.c(12),{prLink:n}=t;if(n.loading&&!n.status){let d;return e[0]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(pn,{className:"h-3 w-3 animate-spin"}),e[0]=d):d=e[0],d}if(n.error){let d;return e[1]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(Wp,{className:"h-3 w-3"}),e[1]=d):d=e[1],d}if(!n.status){let d;return e[2]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(F2,{className:"h-3 w-3"}),e[2]=d):d=e[2],d}const{state:r,mergeable:a,mergeStateStatus:s,isDraft:i,hasFailedChecks:o,hasPendingChecks:c}=n.status;if(r==="MERGED"){let d;return e[3]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(Hn,{className:"h-3 w-3"}),e[3]=d):d=e[3],d}if(r==="CLOSED"){let d;return e[4]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(ir,{className:"h-3 w-3"}),e[4]=d):d=e[4],d}if(i||s==="DRAFT"){let d;return e[5]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(F2,{className:"h-3 w-3"}),e[5]=d):d=e[5],d}if(a==="CONFLICTING"||s==="DIRTY"){let d;return e[6]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(ir,{className:"h-3 w-3"}),e[6]=d):d=e[6],d}if(s==="CLEAN"){let d;return e[7]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(Hn,{className:"h-3 w-3"}),e[7]=d):d=e[7],d}if(o){let d;return e[8]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(ir,{className:"h-3 w-3"}),e[8]=d):d=e[8],d}if(c||s==="BLOCKED"){let d;return e[9]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(X_,{className:"h-3 w-3"}),e[9]=d):d=e[9],d}if(s==="UNSTABLE"){let d;return e[10]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(ir,{className:"h-3 w-3"}),e[10]=d):d=e[10],d}let u;return e[11]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx(F2,{className:"h-3 w-3"}),e[11]=u):u=e[11],u}function bce(t){if(t.loading&&!t.status)return"Loading PR status...";if(t.error)return`Error: ${t.error}`;if(!t.status)return`PR #${t.number}`;const{title:e,state:n,mergeable:r,mergeStateStatus:a,isDraft:s,hasFailedChecks:i,hasPendingChecks:o,headRefName:c,baseRefName:u}=t.status,d=[e||`PR #${t.number}`];return s?d.push("Draft PR"):n==="MERGED"?d.push("Merged"):n==="CLOSED"?d.push("Closed"):r==="CONFLICTING"||a==="DIRTY"?d.push("Has merge conflicts"):a==="BEHIND"?d.push("Behind base branch"):a==="CLEAN"?d.push("Ready to merge"):i?d.push("Checks failing"):o?d.push("Checks pending"):a==="UNSTABLE"?d.push("Checks failing"):a==="BLOCKED"||a==="HAS_HOOKS"?d.push("Merge blocked"):d.push("Open"),d.push(`${c}  ${u}`),d.join(`
`)}function xce(t){const e=ae.c(35),{prLink:n}=t;let r,a,s,i,o,c,u;if(e[0]!==n){const v=fce(n),k=n.loading&&n.status!=null;s=Ye,a=Xe,u=!0,r=tt,i="ghost",o="sm",c=ce("h-6 gap-1 px-2 text-xs font-medium",v,k&&"animate-pulse"),e[0]=n,e[1]=r,e[2]=a,e[3]=s,e[4]=i,e[5]=o,e[6]=c,e[7]=u}else r=e[1],a=e[2],s=e[3],i=e[4],o=e[5],c=e[6],u=e[7];let d;e[8]!==n?(d=l.jsx(gce,{prLink:n}),e[8]=n,e[9]=d):d=e[9];let m;e[10]!==n.number?(m=l.jsxs("span",{children:["#",n.number]}),e[10]=n.number,e[11]=m):m=e[11];let h;e[12]===Symbol.for("react.memo_cache_sentinel")?(h=l.jsx(pl,{className:"h-3 w-3 opacity-50"}),e[12]=h):h=e[12];let p;e[13]!==n.url||e[14]!==d||e[15]!==m?(p=l.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",children:[d,m,h]}),e[13]=n.url,e[14]=d,e[15]=m,e[16]=p):p=e[16];let f;e[17]!==r||e[18]!==i||e[19]!==o||e[20]!==c||e[21]!==p?(f=l.jsx(r,{variant:i,size:o,className:c,asChild:!0,children:p}),e[17]=r,e[18]=i,e[19]=o,e[20]=c,e[21]=p,e[22]=f):f=e[22];let g;e[23]!==a||e[24]!==u||e[25]!==f?(g=l.jsx(a,{asChild:u,children:f}),e[23]=a,e[24]=u,e[25]=f,e[26]=g):g=e[26];let x;e[27]!==n?(x=bce(n),e[27]=n,e[28]=x):x=e[28];let y;e[29]!==x?(y=l.jsx(Ke,{align:"center",className:"whitespace-pre-line",children:x}),e[29]=x,e[30]=y):y=e[30];let w;return e[31]!==s||e[32]!==g||e[33]!==y?(w=l.jsxs(s,{children:[g,y]}),e[31]=s,e[32]=g,e[33]=y,e[34]=w):w=e[34],w}function rD(t){const e=ae.c(2),{workspaceId:n}=t,r=IZ(n);if(!r)return null;let a;return e[0]!==r?(a=l.jsx(xce,{prLink:r}),e[0]=r,e[1]=a):a=e[1],a}function yce(t){const e=ae.c(22),{workspaceId:n,projectName:r,workspaceName:a,namedWorkspacePath:s,runtimeConfig:i,isWorking:o,className:c}=t;let u;e[0]!==c?(u=ce("flex min-w-0 items-center gap-2 text-[11px]",c),e[0]=c,e[1]=u):u=e[1];let d;e[2]!==o||e[3]!==s||e[4]!==i||e[5]!==a?(d=l.jsx(ty,{runtimeConfig:i,isWorking:o,workspacePath:s,workspaceName:a,tooltipSide:"bottom"}),e[2]=o,e[3]=s,e[4]=i,e[5]=a,e[6]=d):d=e[6];let m;e[7]!==r?(m=l.jsx("span",{className:"min-w-0 truncate font-mono text-[11px]",children:r}),e[7]=r,e[8]=m):m=e[8];let h;e[9]!==n||e[10]!==a?(h=l.jsx(nD,{workspaceId:n,workspaceName:a}),e[9]=n,e[10]=a,e[11]=h):h=e[11];let p;e[12]!==n?(p=l.jsx(rD,{workspaceId:n}),e[12]=n,e[13]=p):p=e[13];let f;e[14]!==h||e[15]!==p?(f=l.jsxs("div",{className:"flex items-center gap-1",children:[h,p]}),e[14]=h,e[15]=p,e[16]=f):f=e[16];let g;return e[17]!==u||e[18]!==d||e[19]!==m||e[20]!==f?(g=l.jsxs("div",{className:u,children:[d,m,f]}),e[17]=u,e[18]=d,e[19]=m,e[20]=f,e[21]=g):g=e[21],g}const wce=t=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 92.2 65",...t},b.createElement("path",{d:"M66.5,0H52.4l25.7,65h14.1L66.5,0z M25.7,0L0,65h14.4l5.3-13.6h26.9L51.8,65h14.4L40.5,0C40.5,0,25.7,0,25.7,0z M24.3,39.3l8.8-22.8l8.8,22.8H24.3z"})),vce=t=>b.createElement("svg",{width:"800px",height:"800px",viewBox:"0 0 24 24",role:"img",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("title",null,"OpenAI icon"),b.createElement("path",{d:"M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.0557 6.0557 0 0 0 5.7718-4.2058 5.9894 5.9894 0 0 0 3.9977-2.9001 6.0557 6.0557 0 0 0-.7475-7.0729zm-9.022 12.6081a4.4755 4.4755 0 0 1-2.8764-1.0408l.1419-.0804 4.7783-2.7582a.7948.7948 0 0 0 .3927-.6813v-6.7369l2.02 1.1686a.071.071 0 0 1 .038.052v5.5826a4.504 4.504 0 0 1-4.4945 4.4944zm-9.6607-4.1254a4.4708 4.4708 0 0 1-.5346-3.0137l.142.0852 4.783 2.7582a.7712.7712 0 0 0 .7806 0l5.8428-3.3685v2.3324a.0804.0804 0 0 1-.0332.0615L9.74 19.9502a4.4992 4.4992 0 0 1-6.1408-1.6464zM2.3408 7.8956a4.485 4.485 0 0 1 2.3655-1.9728V11.6a.7664.7664 0 0 0 .3879.6765l5.8144 3.3543-2.0201 1.1685a.0757.0757 0 0 1-.071 0l-4.8303-2.7865A4.504 4.504 0 0 1 2.3408 7.872zm16.5963 3.8558L13.1038 8.364 15.1192 7.2a.0757.0757 0 0 1 .071 0l4.8303 2.7913a4.4944 4.4944 0 0 1-.6765 8.1042v-5.6772a.79.79 0 0 0-.407-.667zm2.0107-3.0231l-.142-.0852-4.7735-2.7818a.7759.7759 0 0 0-.7854 0L9.409 9.2297V6.8974a.0662.0662 0 0 1 .0284-.0615l4.8303-2.7866a4.4992 4.4992 0 0 1 6.6802 4.66zM8.3065 12.863l-2.02-1.1638a.0804.0804 0 0 1-.038-.0567V6.0742a4.4992 4.4992 0 0 1 7.3757-3.4537l-.142.0805L8.704 5.459a.7948.7948 0 0 0-.3927.6813zm1.0976-2.3654l2.602-1.4998 2.6069 1.4998v2.9994l-2.5974 1.4997-2.6067-1.4997Z"})),kce=t=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 65 65",...t},b.createElement("path",{d:"M32.447 0c.68 0 1.273.465 1.439 1.125a38.904 38.904 0 001.999 5.905c2.152 5 5.105 9.376 8.854 13.125 3.751 3.75 8.126 6.703 13.125 8.855a38.98 38.98 0 005.906 1.999c.66.166 1.124.758 1.124 1.438 0 .68-.464 1.273-1.125 1.439a38.902 38.902 0 00-5.905 1.999c-5 2.152-9.375 5.105-13.125 8.854-3.749 3.751-6.702 8.126-8.854 13.125a38.903 38.903 0 00-1.999 5.906c-.166.66-.759 1.124-1.439 1.124-.68 0-1.272-.464-1.438-1.125a38.96 38.96 0 00-1.999-5.905c-2.152-4.999-5.105-9.374-8.855-13.125-3.749-3.749-8.125-6.702-13.125-8.854a38.904 38.904 0 00-5.905-1.999C.464 33.72 0 33.127 0 32.447c0-.68.465-1.272 1.125-1.438a38.98 38.98 0 005.905-1.999c5-2.152 9.376-5.105 13.125-8.855 3.75-3.749 6.703-8.125 8.855-13.125a38.96 38.96 0 001.999-5.905C31.175.465 31.767 0 32.447 0z"})),_ce=t=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"195 50 452 495",...t},b.createElement("g",null,b.createElement("polygon",{points:"557.09,211.99 565.4,538.36 631.96,538.36 640.28,93.18"}),b.createElement("polygon",{points:"640.28,56.91 538.72,56.91 379.35,284.53 430.13,357.05"}),b.createElement("polygon",{points:"201.61,538.36 303.17,538.36 353.96,465.84 303.17,393.31"}),b.createElement("polygon",{points:"201.61,211.99 430.13,538.36 531.69,538.36 303.17,211.99"}))),Cce=t=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img",fill:"currentColor",fillRule:"evenodd",...t},b.createElement("title",null,"OpenRouter"),b.createElement("path",{d:"M16.804 1.957l7.22 4.105v.087L16.73 10.21l.017-2.117-.821-.03c-1.059-.028-1.611.002-2.268.11-1.064.175-2.038.577-3.147 1.352L8.345 11.03c-.284.195-.495.336-.68.455l-.515.322-.397.234.385.23.53.338c.476.314 1.17.796 2.701 1.866 1.11.775 2.083 1.177 3.147 1.352l.3.045c.694.091 1.375.094 2.825.033l.022-2.159 7.22 4.105v.087L16.589 22l.014-1.862-.635.022c-1.386.042-2.137.002-3.138-.162-1.694-.28-3.26-.926-4.881-2.059l-2.158-1.5a21.997 21.997 0 00-.755-.498l-.467-.28a55.927 55.927 0 00-.76-.43C2.908 14.73.563 14.116 0 14.116V9.888l.14.004c.564-.007 2.91-.622 3.809-1.124l1.016-.58.438-.274c.428-.28 1.072-.726 2.686-1.853 1.621-1.133 3.186-1.78 4.881-2.059 1.152-.19 1.974-.213 3.814-.138l.02-1.907z"})),Sce=t=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img",fill:"currentColor",fillRule:"evenodd",...t},b.createElement("title",null,"Ollama"),b.createElement("path",{d:"M7.905 1.09c.216.085.411.225.588.41.295.306.544.744.734 1.263.191.522.315 1.1.362 1.68a5.054 5.054 0 012.049-.636l.051-.004c.87-.07 1.73.087 2.48.474.101.053.2.11.297.17.05-.569.172-1.134.36-1.644.19-.52.439-.957.733-1.264a1.67 1.67 0 01.589-.41c.257-.1.53-.118.796-.042.401.114.745.368 1.016.737.248.337.434.769.561 1.287.23.934.27 2.163.115 3.645l.053.04.026.019c.757.576 1.284 1.397 1.563 2.35.435 1.487.216 3.155-.534 4.088l-.018.021.002.003c.417.762.67 1.567.724 2.4l.002.03c.064 1.065-.2 2.137-.814 3.19l-.007.01.01.024c.472 1.157.62 2.322.438 3.486l-.006.039a.651.651 0 01-.747.536.648.648 0 01-.54-.742c.167-1.033.01-2.069-.48-3.123a.643.643 0 01.04-.617l.004-.006c.604-.924.854-1.83.8-2.72-.046-.779-.325-1.544-.8-2.273a.644.644 0 01.18-.886l.009-.006c.243-.159.467-.565.58-1.12a4.229 4.229 0 00-.095-1.974c-.205-.7-.58-1.284-1.105-1.683-.595-.454-1.383-.673-2.38-.61a.653.653 0 01-.632-.371c-.314-.665-.772-1.141-1.343-1.436a3.288 3.288 0 00-1.772-.332c-1.245.099-2.343.801-2.67 1.686a.652.652 0 01-.61.425c-1.067.002-1.893.252-2.497.703-.522.39-.878.935-1.066 1.588a4.07 4.07 0 00-.068 1.886c.112.558.331 1.02.582 1.269l.008.007c.212.207.257.53.109.785-.36.622-.629 1.549-.673 2.44-.05 1.018.186 1.902.719 2.536l.016.019a.643.643 0 01.095.69c-.576 1.236-.753 2.252-.562 3.052a.652.652 0 01-1.269.298c-.243-1.018-.078-2.184.473-3.498l.014-.035-.008-.012a4.339 4.339 0 01-.598-1.309l-.005-.019a5.764 5.764 0 01-.177-1.785c.044-.91.278-1.842.622-2.59l.012-.026-.002-.002c-.293-.418-.51-.953-.63-1.545l-.005-.024a5.352 5.352 0 01.093-2.49c.262-.915.777-1.701 1.536-2.269.06-.045.123-.09.186-.132-.159-1.493-.119-2.73.112-3.67.127-.518.314-.95.562-1.287.27-.368.614-.622 1.015-.737.266-.076.54-.059.797.042zm4.116 9.09c.936 0 1.8.313 2.446.855.63.527 1.005 1.235 1.005 1.94 0 .888-.406 1.58-1.133 2.022-.62.375-1.451.557-2.403.557-1.009 0-1.871-.259-2.493-.734-.617-.47-.963-1.13-.963-1.845 0-.707.398-1.417 1.056-1.946.668-.537 1.55-.849 2.485-.849zm0 .896a3.07 3.07 0 00-1.916.65c-.461.37-.722.835-.722 1.25 0 .428.21.829.61 1.134.455.347 1.124.548 1.943.548.799 0 1.473-.147 1.932-.426.463-.28.7-.686.7-1.257 0-.423-.246-.89-.683-1.256-.484-.405-1.14-.643-1.864-.643zm.662 1.21l.004.004c.12.151.095.37-.056.49l-.292.23v.446a.375.375 0 01-.376.373.375.375 0 01-.376-.373v-.46l-.271-.218a.347.347 0 01-.052-.49.353.353 0 01.494-.051l.215.172.22-.174a.353.353 0 01.49.051zm-5.04-1.919c.478 0 .867.39.867.871a.87.87 0 01-.868.871.87.87 0 01-.867-.87.87.87 0 01.867-.872zm8.706 0c.48 0 .868.39.868.871a.87.87 0 01-.868.871.87.87 0 01-.867-.87.87.87 0 01.867-.872zM7.44 2.3l-.003.002a.659.659 0 00-.285.238l-.005.006c-.138.189-.258.467-.348.832-.17.692-.216 1.631-.124 2.782.43-.128.899-.208 1.404-.237l.01-.001.019-.034c.046-.082.095-.161.148-.239.123-.771.022-1.692-.253-2.444-.134-.364-.297-.65-.453-.813a.628.628 0 00-.107-.09L7.44 2.3zm9.174.04l-.002.001a.628.628 0 00-.107.09c-.156.163-.32.45-.453.814-.29.794-.387 1.776-.23 2.572l.058.097.008.014h.03a5.184 5.184 0 011.466.212c.086-1.124.038-2.043-.128-2.722-.09-.365-.21-.643-.349-.832l-.004-.006a.659.659 0 00-.285-.239h-.004z"})),jce=t=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 509.64",...t},b.createElement("path",{d:"M440.898 139.167c-4.001-1.961-5.723 1.776-8.062 3.673-.801.612-1.479 1.407-2.154 2.141-5.848 6.246-12.681 10.349-21.607 9.859-13.048-.734-24.192 3.368-34.04 13.348-2.093-12.307-9.048-19.658-19.635-24.37-5.54-2.449-11.141-4.9-15.02-10.227-2.708-3.795-3.447-8.021-4.801-12.185-.861-2.509-1.725-5.082-4.618-5.512-3.139-.49-4.372 2.142-5.601 4.349-4.925 9.002-6.833 18.921-6.647 28.962.432 22.597 9.972 40.597 28.932 53.397 2.154 1.47 2.707 2.939 2.032 5.082-1.293 4.41-2.832 8.695-4.186 13.105-.862 2.817-2.157 3.429-5.172 2.205-10.402-4.346-19.391-10.778-27.332-18.553-13.481-13.044-25.668-27.434-40.873-38.702a177.614 177.614 0 00-10.834-7.409c-15.512-15.063 2.032-27.434 6.094-28.902 4.247-1.532 1.478-6.797-12.251-6.736-13.727.061-26.285 4.653-42.288 10.777-2.34.92-4.801 1.593-7.326 2.142-14.527-2.756-29.608-3.368-45.367-1.593-29.671 3.305-53.368 17.329-70.788 41.272-20.928 28.785-25.854 61.482-19.821 95.59 6.34 35.943 24.683 65.704 52.876 88.974 29.239 24.123 62.911 35.943 101.32 33.677 23.329-1.346 49.307-4.468 78.607-29.27 7.387 3.673 15.142 5.144 28.008 6.246 9.911.92 19.452-.49 26.839-2.019 11.573-2.449 10.773-13.166 6.586-15.124-33.915-15.797-26.47-9.368-33.24-14.573 17.235-20.39 43.213-41.577 53.369-110.222.8-5.448.121-8.877 0-13.287-.061-2.692.553-3.734 3.632-4.041 8.494-.981 16.742-3.305 24.314-7.471 21.975-12.002 30.84-31.719 32.933-55.355.307-3.612-.061-7.348-3.879-9.245v-.003zM249.4 351.89c-32.872-25.838-48.814-34.352-55.4-33.984-6.155.368-5.048 7.41-3.694 12.002 1.415 4.532 3.264 7.654 5.848 11.634 1.785 2.634 3.017 6.551-1.784 9.493-10.587 6.55-28.993-2.205-29.856-2.635-21.421-12.614-39.334-29.269-51.954-52.047-12.187-21.924-19.267-45.435-20.435-70.542-.308-6.061 1.478-8.207 7.509-9.307 7.94-1.471 16.127-1.778 24.068-.615 33.547 4.9 62.108 19.902 86.054 43.66 13.666 13.531 24.007 29.699 34.658 45.496 11.326 16.778 23.514 32.761 39.026 45.865 5.479 4.592 9.848 8.083 14.035 10.656-12.62 1.407-33.673 1.714-48.075-9.676zm15.899-102.519c.521-2.111 2.421-3.658 4.722-3.658a4.74 4.74 0 011.661.305c.678.246 1.293.614 1.786 1.163.861.859 1.354 2.083 1.354 3.368 0 2.695-2.154 4.837-4.862 4.837a4.748 4.748 0 01-4.738-4.034 5.01 5.01 0 01.077-1.981zm47.208 26.915c-2.606.996-5.2 1.778-7.707 1.88-4.679.244-9.787-1.654-12.556-3.981-4.308-3.612-7.386-5.631-8.679-11.941-.554-2.695-.247-6.858.246-9.246 1.108-5.144-.124-8.451-3.754-11.451-2.954-2.449-6.711-3.122-10.834-3.122-1.539 0-2.954-.673-4.001-1.224-1.724-.856-3.139-3-1.785-5.634.432-.856 2.525-2.939 3.018-3.305 5.6-3.185 12.065-2.144 18.034.244 5.54 2.266 9.727 6.429 15.759 12.307 6.155 7.102 7.263 9.063 10.773 14.39 2.771 4.163 5.294 8.451 7.018 13.348.877 2.561.071 4.74-2.341 6.277-.981.625-2.109 1.044-3.191 1.458z"})),Tce=t=>b.createElement("svg",{fill:"currentColor",fillRule:"evenodd",height:"1em",style:{flex:"none",lineHeight:1},viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("title",null,"Bedrock"),b.createElement("path",{d:"M13.05 15.513h3.08c.214 0 .389.177.389.394v1.82a1.704 1.704 0 011.296 1.661c0 .943-.755 1.708-1.685 1.708-.931 0-1.686-.765-1.686-1.708 0-.807.554-1.484 1.297-1.662v-1.425h-2.69v4.663a.395.395 0 01-.188.338l-2.69 1.641a.385.385 0 01-.405-.002l-4.926-3.086a.395.395 0 01-.185-.336V16.3L2.196 14.87A.395.395 0 012 14.555L2 14.528V9.406c0-.14.073-.27.192-.34l2.465-1.462V4.448c0-.129.062-.249.165-.322l.021-.014L9.77 1.058a.385.385 0 01.407 0l2.69 1.675a.395.395 0 01.185.336V7.6h3.856V5.683a1.704 1.704 0 01-1.296-1.662c0-.943.755-1.708 1.685-1.708.931 0 1.685.765 1.685 1.708 0 .807-.553 1.484-1.296 1.662v2.311a.391.391 0 01-.389.394h-4.245v1.806h6.624a1.69 1.69 0 011.64-1.313c.93 0 1.685.764 1.685 1.707 0 .943-.754 1.708-1.685 1.708a1.69 1.69 0 01-1.64-1.314H13.05v1.937h4.953l.915 1.18a1.66 1.66 0 01.84-.227c.931 0 1.685.764 1.685 1.707 0 .943-.754 1.708-1.685 1.708-.93 0-1.685-.765-1.685-1.708 0-.346.102-.668.276-.937l-.724-.935H13.05v1.806zM9.973 1.856L7.93 3.122V6.09h-.778V3.604L5.435 4.669v2.945l2.11 1.36L9.712 7.61V5.334h.778V7.83c0 .136-.07.263-.184.335L7.963 9.638v2.081l1.422 1.009-.446.646-1.406-.998-1.53 1.005-.423-.66 1.605-1.055v-1.99L5.038 8.29l-2.26 1.34v1.676l1.972-1.189.398.677-2.37 1.429V14.3l2.166 1.258 2.27-1.368.397.677-2.176 1.311V19.3l1.876 1.175 2.365-1.426.398.678-2.017 1.216 1.918 1.201 2.298-1.403v-5.78l-4.758 2.893-.4-.675 5.158-3.136V3.289L9.972 1.856zM16.13 18.47a.913.913 0 00-.908.92c0 .507.406.918.908.918a.913.913 0 00.907-.919.913.913 0 00-.907-.92zm3.63-3.81a.913.913 0 00-.908.92c0 .508.406.92.907.92a.913.913 0 00.908-.92.913.913 0 00-.908-.92zm1.555-4.99a.913.913 0 00-.908.92c0 .507.407.918.908.918a.913.913 0 00.907-.919.913.913 0 00-.907-.92zM17.296 3.1a.913.913 0 00-.907.92c0 .508.406.92.907.92a.913.913 0 00.908-.92.913.913 0 00-.908-.92z"})),Ece=t=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t},b.createElement("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})),Zp=xe.forwardRef(function(e,n){const r=ae.c(11);let a,s;r[0]!==e?({active:a,...s}=e,r[0]=e,r[1]=a,r[2]=s):(a=r[1],s=r[2]);let i;r[3]!==a?(i=a&&l.jsx("circle",{cx:"12",cy:"12",r:"11",strokeWidth:"1",opacity:"0.5"}),r[3]=a,r[4]=i):i=r[4];let o,c;r[5]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx("circle",{cx:"12",cy:"12",r:"8"}),c=l.jsx("path",{d:"M8 16V8l4 5 4-5v8"}),r[5]=o,r[6]=c):(o=r[5],c=r[6]);let u;return r[7]!==n||r[8]!==s||r[9]!==i?(u=l.jsxs("svg",{ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...s,children:[i,o,c]}),r[7]=n,r[8]=s,r[9]=i,r[10]=u):u=r[10],u});Zp.displayName="GatewayIcon";const aD={anthropic:wce,openai:vce,google:kce,xai:_ce,deepseek:jce,openrouter:Cce,bedrock:Tce,ollama:Sce,"mux-gateway":Zp,"github-copilot":Ece,"local-gateway":Zp};function Nce(t){return t in aD}function gu(t){const e=ae.c(8),n=t.provider,r=aD[n];if(!r)return null;const i=RZ[n]?.strokeBasedIcon??!1?"[&_svg]:stroke-current [&_svg]:fill-none":"[&_svg]:fill-current [&_svg_.st0]:fill-current";let o;e[0]!==t.className||e[1]!==i?(o=ce("inline-block h-[1em] w-[1em] align-[-0.125em] [&_svg]:block [&_svg]:h-full [&_svg]:w-full",i,t.className),e[0]=t.className,e[1]=i,e[2]=o):o=e[2];let c;e[3]!==r?(c=l.jsx(r,{}),e[3]=r,e[4]=c):c=e[4];let u;return e[5]!==o||e[6]!==c?(u=l.jsx("span",{className:o,children:c}),e[5]=o,e[6]=c,e[7]=u):u=e[7],u}function ry(t){const e=ae.c(11),n=t.displayName?Sx[t.provider]??t.provider:t.provider;let r;e[0]!==t.className?(r=ce("inline-flex items-center gap-1 whitespace-nowrap",t.className),e[0]=t.className,e[1]=r):r=e[1];let a;e[2]!==t.iconClassName||e[3]!==t.provider?(a=l.jsx(gu,{provider:t.provider,className:t.iconClassName}),e[2]=t.iconClassName,e[3]=t.provider,e[4]=a):a=e[4];let s;e[5]!==n?(s=l.jsx("span",{children:n}),e[5]=n,e[6]=s):s=e[6];let i;return e[7]!==r||e[8]!==a||e[9]!==s?(i=l.jsxs("span",{className:r,children:[a,s]}),e[7]=r,e[8]=a,e[9]=s,e[10]=i):i=e[10],i}function $ce(t,e){const[n,r]=t.includes(":")?t.split(":",2):["",t];if(n==="mux-gateway"&&r.includes("/")){const[a,s]=r.split("/",2);return{provider:n,modelName:s,isMuxGateway:!0,innerProvider:a}}return e&&n&&r?{provider:n,modelName:r,isMuxGateway:!0,innerProvider:n}:{provider:n,modelName:r,isMuxGateway:!1,innerProvider:""}}const M5=t=>{const e=ae.c(22),{modelString:n,showTooltip:r,routedThroughGateway:a}=t,s=r===void 0?!0:r;let i,o,c,u,d;if(e[0]!==n||e[1]!==a){const{provider:C,modelName:_,isMuxGateway:S,innerProvider:T}=$ce(n,a);u=C,c=_,o=S,i=o?T:u,d=Af(c),e[0]=n,e[1]=a,e[2]=i,e[3]=o,e[4]=c,e[5]=u,e[6]=d}else i=e[2],o=e[3],c=e[4],u=e[5],d=e[6];const m=d,h=o?" (mux gateway)":"",p=o&&u!=="mux-gateway"&&u.length>0?`mux-gateway:${u}/${c}`:n;let f;e[7]!==i?(f=l.jsx(gu,{provider:i,className:"mr-[0.3em] inline-block h-[1.1em] w-[1.1em] align-[-0.19em] [&_svg]:block [&_svg]:h-full [&_svg]:w-full [&_svg_.st0]:fill-current [&_svg_circle]:!fill-current [&_svg_path]:!fill-current [&_svg_rect]:!fill-current","data-model-icon":!0}),e[7]=i,e[8]=f):f=e[8];let g;e[9]!==m||e[10]!==h?(g=l.jsxs("span",{className:"inline",children:[m,h]}),e[9]=m,e[10]=h,e[11]=g):g=e[11];let x;e[12]!==f||e[13]!==g?(x=l.jsxs("span",{className:"inline normal-case","data-model-display":!0,children:[f,g]}),e[12]=f,e[13]=g,e[14]=x):x=e[14];const y=x;if(!s)return y;let w;e[15]!==y?(w=l.jsx(Xe,{asChild:!0,children:l.jsx("span",{"data-model-display-tooltip":!0,children:y})}),e[15]=y,e[16]=w):w=e[16];let v;e[17]!==p?(v=l.jsx(Ke,{align:"center","data-model-tooltip-text":!0,children:p}),e[17]=p,e[18]=v):v=e[18];let k;return e[19]!==w||e[20]!==v?(k=l.jsxs(Ye,{children:[w,v]}),e[19]=w,e[20]=v,e[21]=k):k=e[21],k};function Ace(t){return t.replaceAll("","")}const Ice={"":n5,"":jj,"":jj,"":Hn,"":ir,"":bte,"":v1,"":v1,"":sI,"":Xo,"":mJ,"":lJ,"":QA,"":uJ,"":sJ,"":Ite,"":C1,"":JA,"":w1,"":eI,"":hI,"":uI,"":cI,"":Z_,"":Hn,"":Q_,"":X_,"":ir,"":Mr,"":e5},Rce=new Set([""]);function sD(t){const e=ae.c(10);if(!t.emoji)return null;let n,r;if(e[0]!==t.emoji||e[1]!==t.spin){const c=Ace(t.emoji);n=Ice[c]??Rd,r=t.spin??Rce.has(c),e[0]=t.emoji,e[1]=t.spin,e[2]=n,e[3]=r}else n=e[2],r=e[3];const s=r&&"animate-spin";let i;e[4]!==t.className||e[5]!==s?(i=ce(t.className,s),e[4]=t.className,e[5]=s,e[6]=i):i=e[6];let o;return e[7]!==n||e[8]!==i?(o=l.jsx(n,{"aria-hidden":"true",className:i}),e[7]=n,e[8]=i,e[9]=o):o=e[9],o}const D5=b.memo(t=>{const e=ae.c(20),{workspaceId:n,fallbackModel:r,isCreating:a}=t,{canInterrupt:s,isStarting:i,awaitingUserQuestion:o,currentModel:c,agentStatus:u}=_x(n);if(o){let x;return e[0]===Symbol.for("react.memo_cache_sentinel")?(x=l.jsxs("div",{className:"bg-plan-mode-alpha text-plan-mode-light flex min-w-0 items-center gap-1.5 rounded px-1.5 py-0.5 text-xs",children:[l.jsx(Z_,{"aria-hidden":"true",className:"h-3 w-3 shrink-0"}),l.jsx("span",{className:"min-w-0 truncate font-medium",children:"Mux has a few questions"})]}),e[0]=x):x=e[0],x}if(u){let x;e[1]!==u.emoji?(x=u.emoji&&l.jsx(sD,{emoji:u.emoji,className:"h-3 w-3 shrink-0"}),e[1]=u.emoji,e[2]=x):x=e[2];let y;e[3]!==u.message?(y=l.jsx("span",{className:"min-w-0 truncate",children:u.message}),e[3]=u.message,e[4]=y):y=e[4];let w;e[5]!==u.url?(w=u.url&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx(tt,{variant:"ghost",size:"icon",className:"flex h-4 w-4 shrink-0 items-center justify-center [&_svg]:size-3",children:l.jsx("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",children:l.jsx(pl,{})})})}),l.jsx(Ke,{align:"center",children:u.url})]}),e[5]=u.url,e[6]=w):w=e[6];let v;return e[7]!==x||e[8]!==y||e[9]!==w?(v=l.jsxs("div",{className:"text-muted flex min-w-0 items-center gap-1.5 text-xs",children:[x,y,w]}),e[7]=x,e[8]=y,e[9]=w,e[10]=v):v=e[10],v}const d=s?"streaming":i||a?"starting":null;if(!d)return null;const m=s?c??r:r,h=d==="starting"?"- starting...":"- streaming...";let p;e[11]!==d?(p=d==="starting"&&l.jsx(pn,{"aria-hidden":"true",className:"h-3 w-3 shrink-0 animate-spin opacity-70"}),e[11]=d,e[12]=p):p=e[12];let f;e[13]!==m||e[14]!==d||e[15]!==h?(f=m?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"min-w-0 truncate",children:l.jsx(M5,{modelString:m,showTooltip:!1})}),l.jsx("span",{className:"shrink-0 opacity-70",children:h})]}):l.jsx("span",{className:"min-w-0 truncate",children:d==="starting"?"Assistant - starting...":"Assistant - streaming..."}),e[13]=m,e[14]=d,e[15]=h,e[16]=f):f=e[16];let g;return e[17]!==p||e[18]!==f?(g=l.jsxs("div",{className:"text-muted flex min-w-0 items-center gap-1.5 text-xs",children:[p,f]}),e[17]=p,e[18]=f,e[19]=g):g=e[19],g});D5.displayName="WorkspaceStatusIndicator";const Mce=t=>{const e=ae.c(10),{children:n,as:r,className:a,duration:s,colorClass:i}=t,o=r===void 0?"span":r,c=s===void 0?2:s,u=i===void 0?"var(--color-muted-foreground)":i;let d;e[0]!==a?(d=ce("shimmer-text",a),e[0]=a,e[1]=d):d=e[1];const m=`${c}s`;let h;e[2]!==u||e[3]!==m?(h={"--shimmer-duration":m,"--shimmer-color":u},e[2]=u,e[3]=m,e[4]=h):h=e[4];const p=h;let f;return e[5]!==o||e[6]!==n||e[7]!==d||e[8]!==p?(f=l.jsx(o,{className:d,"data-chromatic":"ignore",style:p,children:n}),e[5]=o,e[6]=n,e[7]=d,e[8]=p,e[9]=f):f=e[9],f},L5=b.memo(Mce),z3=t=>{const e=ae.c(6),{className:n}=t;let r,a,s,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx("rect",{x:"2",y:"3",width:"20",height:"5",rx:"1"}),a=l.jsx("path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8"}),s=l.jsx("path",{d:"M12 12v6"}),i=l.jsx("path",{d:"m9 15 3 3 3-3"}),e[0]=r,e[1]=a,e[2]=s,e[3]=i):(r=e[0],a=e[1],s=e[2],i=e[3]);let o;return e[4]!==n?(o=l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[r,a,s,i]}),e[4]=n,e[5]=o):o=e[5],o},c9=t=>{const e=ae.c(6),{className:n}=t;let r,a,s,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx("rect",{x:"2",y:"3",width:"20",height:"5",rx:"1"}),a=l.jsx("path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8"}),s=l.jsx("path",{d:"M12 18v-6"}),i=l.jsx("path",{d:"m9 15 3-3 3 3"}),e[0]=r,e[1]=a,e[2]=s,e[3]=i):(r=e[0],a=e[1],s=e[2],i=e[3]);let o;return e[4]!==n?(o=l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[r,a,s,i]}),e[4]=n,e[5]=o):o=e[5],o},R1="WORKSPACE_TO_SECTION",u9=t=>{const e=ae.c(14),{projectPath:n,sectionId:r,onDrop:a,children:s,className:i,testId:o}=t;let c,u;e[0]!==a||e[1]!==n||e[2]!==r?(c=()=>({accept:R1,canDrop:w=>w.projectPath===n&&w.currentSectionId!==r,drop:w=>{a(w.workspaceId,r)},collect:Dce}),u=[n,r,a],e[0]=a,e[1]=n,e[2]=r,e[3]=c,e[4]=u):(c=e[3],u=e[4]);const[d,m]=h5(c,u),{isOver:h,canDrop:p}=d,f=h&&p&&"bg-accent/10";let g;e[5]!==i||e[6]!==f?(g=ce(i,f),e[5]=i,e[6]=f,e[7]=g):g=e[7];const x=r??"unsectioned";let y;return e[8]!==s||e[9]!==m||e[10]!==g||e[11]!==x||e[12]!==o?(y=l.jsx("div",{ref:m,className:g,"data-testid":o,"data-drop-section-id":x,children:s}),e[8]=s,e[9]=m,e[10]=g,e[11]=x,e[12]=o,e[13]=y):y=e[13],y};function Dce(t){return{isOver:t.isOver(),canDrop:t.canDrop()}}const O5=t=>{const e=ae.c(4),{className:n}=t;let r,a;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),a=l.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}),e[0]=r,e[1]=a):(r=e[0],a=e[1]);let s;return e[2]!==n?(s=l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[r,a]}),e[2]=n,e[3]=s):s=e[3],s};function Lce(t){const e=Oce(t),n=b.forwardRef((r,a)=>{const{children:s,...i}=r,o=b.Children.toArray(s),c=o.find(Fce);if(c){const u=c.props.children,d=o.map(m=>m===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:m);return l.jsx(e,{...i,ref:a,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return l.jsx(e,{...i,ref:a,children:s})});return n.displayName=`${t}.Slot`,n}function Oce(t){const e=b.forwardRef((n,r)=>{const{children:a,...s}=n;if(b.isValidElement(a)){const i=zce(a),o=Bce(s,a.props);return a.type!==b.Fragment&&(o.ref=r?Fa(r,i):i),b.cloneElement(a,o)}return b.Children.count(a)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Pce=Symbol("radix.slottable");function Fce(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Pce}function Bce(t,e){const n={...e};for(const r in e){const a=t[r],s=e[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...o)=>{const c=s(...o);return a(...o),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...t,...n}}function zce(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Hce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],P5=Hce.reduce((t,e)=>{const n=Lce(`Primitive.${e}`),r=b.forwardRef((a,s)=>{const{asChild:i,...o}=a,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),ay="Checkbox",[qce]=dl(ay),[Uce,F5]=qce(ay);function Wce(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:a,disabled:s,form:i,name:o,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:m}=t,[h,p]=lo({prop:n,defaultProp:a??!1,onChange:c,caller:ay}),[f,g]=b.useState(null),[x,y]=b.useState(null),w=b.useRef(!1),v=f?!!i||!!f.closest("form"):!0,k={checked:h,disabled:s,setChecked:p,control:f,setControl:g,name:o,form:i,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:Wl(a)?!1:a,isFormControl:v,bubbleInput:x,setBubbleInput:y};return l.jsx(Uce,{scope:e,...k,children:Gce(m)?m(k):r})}var iD="CheckboxTrigger",oD=b.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},a)=>{const{control:s,value:i,disabled:o,checked:c,required:u,setControl:d,setChecked:m,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:f}=F5(iD,t),g=Rr(a,d),x=b.useRef(c);return b.useEffect(()=>{const y=s?.form;if(y){const w=()=>m(x.current);return y.addEventListener("reset",w),()=>y.removeEventListener("reset",w)}},[s,m]),l.jsx(P5.button,{type:"button",role:"checkbox","aria-checked":Wl(c)?"mixed":c,"aria-required":u,"data-state":mD(c),"data-disabled":o?"":void 0,disabled:o,value:i,...r,ref:g,onKeyDown:kn(e,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:kn(n,y=>{m(w=>Wl(w)?!0:!w),f&&p&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});oD.displayName=iD;var B5=b.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:s,required:i,disabled:o,value:c,onCheckedChange:u,form:d,...m}=t;return l.jsx(Wce,{__scopeCheckbox:n,checked:a,defaultChecked:s,disabled:o,required:i,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>l.jsxs(l.Fragment,{children:[l.jsx(oD,{...m,ref:e,__scopeCheckbox:n}),h&&l.jsx(dD,{__scopeCheckbox:n})]})})});B5.displayName=ay;var lD="CheckboxIndicator",cD=b.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...a}=t,s=F5(lD,n);return l.jsx(Mu,{present:r||Wl(s.checked)||s.checked===!0,children:l.jsx(P5.span,{"data-state":mD(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});cD.displayName=lD;var uD="CheckboxBubbleInput",dD=b.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:i,required:o,disabled:c,name:u,value:d,form:m,bubbleInput:h,setBubbleInput:p}=F5(uD,t),f=Rr(n,p),g=SR(s),x=ZI(r);b.useEffect(()=>{const w=h;if(!w)return;const v=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(v,"checked").set,_=!a.current;if(g!==s&&C){const S=new Event("click",{bubbles:_});w.indeterminate=Wl(s),C.call(w,Wl(s)?!1:s),w.dispatchEvent(S)}},[h,g,s,a]);const y=b.useRef(Wl(s)?!1:s);return l.jsx(P5.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??y.current,required:o,disabled:c,name:u,value:d,form:m,...e,tabIndex:-1,ref:f,style:{...e.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});dD.displayName=uD;function Gce(t){return typeof t=="function"}function Wl(t){return t==="indeterminate"}function mD(t){return Wl(t)?"indeterminate":t?"checked":"unchecked"}const Wo=b.forwardRef((t,e)=>{const n=ae.c(10);let r,a;n[0]!==t?({className:r,...a}=t,n[0]=t,n[1]=r,n[2]=a):(r=n[1],a=n[2]);let s;n[3]!==r?(s=ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),n[3]=r,n[4]=s):s=n[4];let i;n[5]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx(cD,{className:ce("flex items-center justify-center text-current"),children:l.jsx(Hn,{className:"h-4 w-4"})}),n[5]=i):i=n[5];let o;return n[6]!==a||n[7]!==e||n[8]!==s?(o=l.jsx(B5,{ref:e,className:s,...a,children:i}),n[6]=a,n[7]=e,n[8]=s,n[9]=o):o=n[9],o});Wo.displayName=B5.displayName;function z5(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function bu(t,e=""){if(!Number.isSafeInteger(t)||t<0){const n=e&&`"${e}" `;throw new Error(`${n}expected integer >= 0, got ${t}`)}}function Hr(t,e,n=""){const r=z5(t),a=t?.length,s=e!==void 0;if(!r||s&&a!==e){const i=n&&`"${n}" `,o=s?` of length ${e}`:"",c=r?`length=${a}`:`type=${typeof t}`;throw new Error(i+"expected Uint8Array"+o+", got "+c)}return t}function hD(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash must wrapped by utils.createHasher");bu(t.outputLen),bu(t.blockLen)}function M1(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Vce(t,e){Hr(t,void 0,"digestInto() output");const n=e.outputLen;if(t.length<n)throw new Error('"digestInto() output" expected to be of length >='+n)}function wm(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function ew(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function zi(t,e){return t<<32-e|t>>>e}const pD=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Kce=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function sy(t){if(Hr(t),pD)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Kce[t[n]];return e}const Eo={_0:48,_9:57,A:65,F:70,a:97,f:102};function d9(t){if(t>=Eo._0&&t<=Eo._9)return t-Eo._0;if(t>=Eo.A&&t<=Eo.F)return t-(Eo.A-10);if(t>=Eo.a&&t<=Eo.f)return t-(Eo.a-10)}function D1(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(pD)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let a=0,s=0;a<n;a++,s+=2){const i=d9(t.charCodeAt(s)),o=d9(t.charCodeAt(s+1));if(i===void 0||o===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[a]=i*16+o}return r}function zl(...t){let e=0;for(let r=0;r<t.length;r++){const a=t[r];Hr(a),e+=a.length}const n=new Uint8Array(e);for(let r=0,a=0;r<t.length;r++){const s=t[r];n.set(s,a),a+=s.length}return n}function H5(t,e={}){const n=(a,s)=>t(s).update(a).digest(),r=t(void 0);return n.outputLen=r.outputLen,n.blockLen=r.blockLen,n.create=a=>t(a),Object.assign(n,e),Object.freeze(n)}function fD(t=32){const e=typeof globalThis=="object"?globalThis.crypto:null;if(typeof e?.getRandomValues!="function")throw new Error("crypto.getRandomValues must be defined");return e.getRandomValues(new Uint8Array(t))}const q5=t=>({oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,t])});function Yce(t,e,n){return t&e^~t&n}function Xce(t,e,n){return t&e^t&n^e&n}class gD{blockLen;outputLen;padOffset;isLE;buffer;view;finished=!1;length=0;pos=0;destroyed=!1;constructor(e,n,r,a){this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=a,this.buffer=new Uint8Array(e),this.view=ew(this.buffer)}update(e){M1(this),Hr(e);const{view:n,buffer:r,blockLen:a}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(a-this.pos,s-i);if(o===a){const c=ew(e);for(;a<=s-i;i+=a)this.process(c,i);continue}r.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===a&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){M1(this),Vce(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:a,isLE:s}=this;let{pos:i}=this;n[i++]=128,wm(this.buffer.subarray(i)),this.padOffset>a-i&&(this.process(r,0),i=0);for(let m=i;m<a;m++)n[m]=0;r.setBigUint64(a-8,BigInt(this.length*8),s),this.process(r,0);const o=ew(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen must be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<u;m++)o.setUint32(4*m,d[m],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||=new this.constructor,e.set(...this.get());const{blockLen:n,buffer:r,length:a,finished:s,destroyed:i,pos:o}=this;return e.destroyed=i,e.finished=s,e.length=a,e.pos=o,a%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const vl=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ea=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Na=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),R0=BigInt(2**32-1),m9=BigInt(32);function Zce(t,e=!1){return e?{h:Number(t&R0),l:Number(t>>m9&R0)}:{h:Number(t>>m9&R0)|0,l:Number(t&R0)|0}}function Qce(t,e=!1){const n=t.length;let r=new Uint32Array(n),a=new Uint32Array(n);for(let s=0;s<n;s++){const{h:i,l:o}=Zce(t[s],e);[r[s],a[s]]=[i,o]}return[r,a]}const h9=(t,e,n)=>t>>>n,p9=(t,e,n)=>t<<32-n|e>>>n,od=(t,e,n)=>t>>>n|e<<32-n,ld=(t,e,n)=>t<<32-n|e>>>n,M0=(t,e,n)=>t<<64-n|e>>>n-32,D0=(t,e,n)=>t>>>n-32|e<<64-n;function No(t,e,n,r){const a=(e>>>0)+(r>>>0);return{h:t+n+(a/2**32|0)|0,l:a|0}}const Jce=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),eue=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,tue=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),nue=(t,e,n,r,a)=>e+n+r+a+(t/2**32|0)|0,rue=(t,e,n,r,a)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(a>>>0),aue=(t,e,n,r,a,s)=>e+n+r+a+s+(t/2**32|0)|0,sue=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),kl=new Uint32Array(64);class iue extends gD{constructor(e){super(64,e,8,!1)}get(){const{A:e,B:n,C:r,D:a,E:s,F:i,G:o,H:c}=this;return[e,n,r,a,s,i,o,c]}set(e,n,r,a,s,i,o,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=a|0,this.E=s|0,this.F=i|0,this.G=o|0,this.H=c|0}process(e,n){for(let m=0;m<16;m++,n+=4)kl[m]=e.getUint32(n,!1);for(let m=16;m<64;m++){const h=kl[m-15],p=kl[m-2],f=zi(h,7)^zi(h,18)^h>>>3,g=zi(p,17)^zi(p,19)^p>>>10;kl[m]=g+kl[m-7]+f+kl[m-16]|0}let{A:r,B:a,C:s,D:i,E:o,F:c,G:u,H:d}=this;for(let m=0;m<64;m++){const h=zi(o,6)^zi(o,11)^zi(o,25),p=d+h+Yce(o,c,u)+sue[m]+kl[m]|0,g=(zi(r,2)^zi(r,13)^zi(r,22))+Xce(r,a,s)|0;d=u,u=c,c=o,o=i+p|0,i=s,s=a,a=r,r=p+g|0}r=r+this.A|0,a=a+this.B|0,s=s+this.C|0,i=i+this.D|0,o=o+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,a,s,i,o,c,u,d)}roundClean(){wm(kl)}destroy(){this.set(0,0,0,0,0,0,0,0),wm(this.buffer)}}class oue extends iue{A=vl[0]|0;B=vl[1]|0;C=vl[2]|0;D=vl[3]|0;E=vl[4]|0;F=vl[5]|0;G=vl[6]|0;H=vl[7]|0;constructor(){super(32)}}const bD=Qce(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),lue=bD[0],cue=bD[1],_l=new Uint32Array(80),Cl=new Uint32Array(80);class xD extends gD{constructor(e){super(128,e,16,!1)}get(){const{Ah:e,Al:n,Bh:r,Bl:a,Ch:s,Cl:i,Dh:o,Dl:c,Eh:u,El:d,Fh:m,Fl:h,Gh:p,Gl:f,Hh:g,Hl:x}=this;return[e,n,r,a,s,i,o,c,u,d,m,h,p,f,g,x]}set(e,n,r,a,s,i,o,c,u,d,m,h,p,f,g,x){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=a|0,this.Ch=s|0,this.Cl=i|0,this.Dh=o|0,this.Dl=c|0,this.Eh=u|0,this.El=d|0,this.Fh=m|0,this.Fl=h|0,this.Gh=p|0,this.Gl=f|0,this.Hh=g|0,this.Hl=x|0}process(e,n){for(let v=0;v<16;v++,n+=4)_l[v]=e.getUint32(n),Cl[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const k=_l[v-15]|0,C=Cl[v-15]|0,_=od(k,C,1)^od(k,C,8)^h9(k,C,7),S=ld(k,C,1)^ld(k,C,8)^p9(k,C,7),T=_l[v-2]|0,N=Cl[v-2]|0,j=od(T,N,19)^M0(T,N,61)^h9(T,N,6),R=ld(T,N,19)^D0(T,N,61)^p9(T,N,6),I=tue(S,R,Cl[v-7],Cl[v-16]),A=nue(I,_,j,_l[v-7],_l[v-16]);_l[v]=A|0,Cl[v]=I|0}let{Ah:r,Al:a,Bh:s,Bl:i,Ch:o,Cl:c,Dh:u,Dl:d,Eh:m,El:h,Fh:p,Fl:f,Gh:g,Gl:x,Hh:y,Hl:w}=this;for(let v=0;v<80;v++){const k=od(m,h,14)^od(m,h,18)^M0(m,h,41),C=ld(m,h,14)^ld(m,h,18)^D0(m,h,41),_=m&p^~m&g,S=h&f^~h&x,T=rue(w,C,S,cue[v],Cl[v]),N=aue(T,y,k,_,lue[v],_l[v]),j=T|0,R=od(r,a,28)^M0(r,a,34)^M0(r,a,39),I=ld(r,a,28)^D0(r,a,34)^D0(r,a,39),A=r&s^r&o^s&o,$=a&i^a&c^i&c;y=g|0,w=x|0,g=p|0,x=f|0,p=m|0,f=h|0,{h:m,l:h}=No(u|0,d|0,N|0,j|0),u=o|0,d=c|0,o=s|0,c=i|0,s=r|0,i=a|0;const E=Jce(j,I,$);r=eue(E,N,R,A),a=E|0}({h:r,l:a}=No(this.Ah|0,this.Al|0,r|0,a|0)),{h:s,l:i}=No(this.Bh|0,this.Bl|0,s|0,i|0),{h:o,l:c}=No(this.Ch|0,this.Cl|0,o|0,c|0),{h:u,l:d}=No(this.Dh|0,this.Dl|0,u|0,d|0),{h:m,l:h}=No(this.Eh|0,this.El|0,m|0,h|0),{h:p,l:f}=No(this.Fh|0,this.Fl|0,p|0,f|0),{h:g,l:x}=No(this.Gh|0,this.Gl|0,g|0,x|0),{h:y,l:w}=No(this.Hh|0,this.Hl|0,y|0,w|0),this.set(r,a,s,i,o,c,u,d,m,h,p,f,g,x,y,w)}roundClean(){wm(_l,Cl)}destroy(){wm(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class uue extends xD{Ah=Na[0]|0;Al=Na[1]|0;Bh=Na[2]|0;Bl=Na[3]|0;Ch=Na[4]|0;Cl=Na[5]|0;Dh=Na[6]|0;Dl=Na[7]|0;Eh=Na[8]|0;El=Na[9]|0;Fh=Na[10]|0;Fl=Na[11]|0;Gh=Na[12]|0;Gl=Na[13]|0;Hh=Na[14]|0;Hl=Na[15]|0;constructor(){super(64)}}class due extends xD{Ah=Ea[0]|0;Al=Ea[1]|0;Bh=Ea[2]|0;Bl=Ea[3]|0;Ch=Ea[4]|0;Cl=Ea[5]|0;Dh=Ea[6]|0;Dl=Ea[7]|0;Eh=Ea[8]|0;El=Ea[9]|0;Fh=Ea[10]|0;Fl=Ea[11]|0;Gh=Ea[12]|0;Gl=Ea[13]|0;Hh=Ea[14]|0;Hl=Ea[15]|0;constructor(){super(48)}}const mue=H5(()=>new oue,q5(1)),hue=H5(()=>new uue,q5(3)),pue=H5(()=>new due,q5(2));const U5=BigInt(0),H3=BigInt(1);function L1(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}" `;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function yD(t){if(typeof t=="bigint"){if(!Og(t))throw new Error("positive bigint expected, got "+t)}else bu(t);return t}function L0(t){const e=yD(t).toString(16);return e.length&1?"0"+e:e}function wD(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?U5:BigInt("0x"+t)}function iy(t){return wD(sy(t))}function vD(t){return wD(sy(fue(Hr(t)).reverse()))}function W5(t,e){bu(e),t=yD(t);const n=D1(t.toString(16).padStart(e*2,"0"));if(n.length!==e)throw new Error("number too large");return n}function kD(t,e){return W5(t,e).reverse()}function fue(t){return Uint8Array.from(t)}const Og=t=>typeof t=="bigint"&&U5<=t;function gue(t,e,n){return Og(t)&&Og(e)&&Og(n)&&e<=t&&t<n}function bue(t,e,n,r){if(!gue(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function xue(t){let e;for(e=0;t>U5;t>>=H3,e+=1);return e}const G5=t=>(H3<<BigInt(t))-H3;function yue(t,e,n){if(bu(t,"hashLen"),bu(e,"qByteLen"),typeof n!="function")throw new Error("hmacFn must be a function");const r=x=>new Uint8Array(x),a=Uint8Array.of(),s=Uint8Array.of(0),i=Uint8Array.of(1),o=1e3;let c=r(t),u=r(t),d=0;const m=()=>{c.fill(1),u.fill(0),d=0},h=(...x)=>n(u,zl(c,...x)),p=(x=a)=>{u=h(s,x),c=h(),x.length!==0&&(u=h(i,x),c=h())},f=()=>{if(d++>=o)throw new Error("drbg: tried max amount of iterations");let x=0;const y=[];for(;x<e;){c=h();const w=c.slice();y.push(w),x+=c.length}return zl(...y)};return(x,y)=>{m(),p(x);let w;for(;!(w=y(f()));)p();return m(),w}}function V5(t,e={},n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,i,o){const c=t[s];if(o&&c===void 0)return;const u=typeof c;if(u!==i||c===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${u}`)}const a=(s,i)=>Object.entries(s).forEach(([o,c])=>r(o,c,i));a(e,!1),a(n,!0)}function f9(t){const e=new WeakMap;return(n,...r)=>{const a=e.get(n);if(a!==void 0)return a;const s=t(n,...r);return e.set(n,s),s}}const Is=BigInt(0),ts=BigInt(1),Wc=BigInt(2),_D=BigInt(3),CD=BigInt(4),SD=BigInt(5),wue=BigInt(7),jD=BigInt(8),vue=BigInt(9),TD=BigInt(16);function fi(t,e){const n=t%e;return n>=Is?n:e+n}function g9(t,e){if(t===Is)throw new Error("invert: expected non-zero number");if(e<=Is)throw new Error("invert: expected positive modulus, got "+e);let n=fi(t,e),r=e,a=Is,s=ts;for(;n!==Is;){const o=r/n,c=r%n,u=a-s*o;r=n,n=c,a=s,s=u}if(r!==ts)throw new Error("invert: does not exist");return fi(a,e)}function K5(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function ED(t,e){const n=(t.ORDER+ts)/CD,r=t.pow(e,n);return K5(t,r,e),r}function kue(t,e){const n=(t.ORDER-SD)/jD,r=t.mul(e,Wc),a=t.pow(r,n),s=t.mul(e,a),i=t.mul(t.mul(s,Wc),a),o=t.mul(s,t.sub(i,t.ONE));return K5(t,o,e),o}function _ue(t){const e=oy(t),n=ND(t),r=n(e,e.neg(e.ONE)),a=n(e,r),s=n(e,e.neg(r)),i=(t+wue)/TD;return(o,c)=>{let u=o.pow(c,i),d=o.mul(u,r);const m=o.mul(u,a),h=o.mul(u,s),p=o.eql(o.sqr(d),c),f=o.eql(o.sqr(m),c);u=o.cmov(u,d,p),d=o.cmov(h,m,f);const g=o.eql(o.sqr(d),c),x=o.cmov(u,d,g);return K5(o,x,c),x}}function ND(t){if(t<_D)throw new Error("sqrt is not defined for small field");let e=t-ts,n=0;for(;e%Wc===Is;)e/=Wc,n++;let r=Wc;const a=oy(t);for(;b9(a,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return ED;let s=a.pow(r,e);const i=(e+ts)/Wc;return function(c,u){if(c.is0(u))return u;if(b9(c,u)!==1)throw new Error("Cannot find square root");let d=n,m=c.mul(c.ONE,s),h=c.pow(u,e),p=c.pow(u,i);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let f=1,g=c.sqr(h);for(;!c.eql(g,c.ONE);)if(f++,g=c.sqr(g),f===d)throw new Error("Cannot find square root");const x=ts<<BigInt(d-f-1),y=c.pow(m,x);d=f,m=c.sqr(y),h=c.mul(h,m),p=c.mul(p,y)}return p}}function Cue(t){return t%CD===_D?ED:t%jD===SD?kue:t%TD===vue?_ue(t):ND(t)}const Sue=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function jue(t){const e={ORDER:"bigint",BYTES:"number",BITS:"number"},n=Sue.reduce((r,a)=>(r[a]="function",r),e);return V5(t,n),t}function Tue(t,e,n){if(n<Is)throw new Error("invalid exponent, negatives unsupported");if(n===Is)return t.ONE;if(n===ts)return e;let r=t.ONE,a=e;for(;n>Is;)n&ts&&(r=t.mul(r,a)),a=t.sqr(a),n>>=ts;return r}function $D(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),a=e.reduce((i,o,c)=>t.is0(o)?i:(r[c]=i,t.mul(i,o)),t.ONE),s=t.inv(a);return e.reduceRight((i,o,c)=>t.is0(o)?i:(r[c]=t.mul(i,r[c]),t.mul(i,o)),s),r}function b9(t,e){const n=(t.ORDER-ts)/Wc,r=t.pow(e,n),a=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),i=t.eql(r,t.neg(t.ONE));if(!a&&!s&&!i)throw new Error("invalid Legendre symbol result");return a?1:s?0:-1}function Eue(t,e){e!==void 0&&bu(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}class Nue{ORDER;BITS;BYTES;isLE;ZERO=Is;ONE=ts;_lengths;_sqrt;_mod;constructor(e,n={}){if(e<=Is)throw new Error("invalid field: expected ORDER > 0, got "+e);let r;this.isLE=!1,n!=null&&typeof n=="object"&&(typeof n.BITS=="number"&&(r=n.BITS),typeof n.sqrt=="function"&&(this.sqrt=n.sqrt),typeof n.isLE=="boolean"&&(this.isLE=n.isLE),n.allowedLengths&&(this._lengths=n.allowedLengths?.slice()),typeof n.modFromBytes=="boolean"&&(this._mod=n.modFromBytes));const{nBitLength:a,nByteLength:s}=Eue(e,r);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");this.ORDER=e,this.BITS=a,this.BYTES=s,this._sqrt=void 0,Object.preventExtensions(this)}create(e){return fi(e,this.ORDER)}isValid(e){if(typeof e!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof e);return Is<=e&&e<this.ORDER}is0(e){return e===Is}isValidNot0(e){return!this.is0(e)&&this.isValid(e)}isOdd(e){return(e&ts)===ts}neg(e){return fi(-e,this.ORDER)}eql(e,n){return e===n}sqr(e){return fi(e*e,this.ORDER)}add(e,n){return fi(e+n,this.ORDER)}sub(e,n){return fi(e-n,this.ORDER)}mul(e,n){return fi(e*n,this.ORDER)}pow(e,n){return Tue(this,e,n)}div(e,n){return fi(e*g9(n,this.ORDER),this.ORDER)}sqrN(e){return e*e}addN(e,n){return e+n}subN(e,n){return e-n}mulN(e,n){return e*n}inv(e){return g9(e,this.ORDER)}sqrt(e){return this._sqrt||(this._sqrt=Cue(this.ORDER)),this._sqrt(this,e)}toBytes(e){return this.isLE?kD(e,this.BYTES):W5(e,this.BYTES)}fromBytes(e,n=!1){Hr(e);const{_lengths:r,BYTES:a,isLE:s,ORDER:i,_mod:o}=this;if(r){if(!r.includes(e.length)||e.length>a)throw new Error("Field.fromBytes: expected "+r+" bytes, got "+e.length);const u=new Uint8Array(a);u.set(e,s?0:u.length-e.length),e=u}if(e.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+e.length);let c=s?vD(e):iy(e);if(o&&(c=fi(c,i)),!n&&!this.isValid(c))throw new Error("invalid field element: outside of range 0..ORDER");return c}invertBatch(e){return $D(this,e)}cmov(e,n,r){return r?n:e}}function oy(t,e={}){return new Nue(t,e)}function AD(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function ID(t){const e=AD(t);return e+Math.ceil(e/2)}function $ue(t,e,n=!1){Hr(t);const r=t.length,a=AD(e),s=ID(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const i=n?vD(t):iy(t),o=fi(i,e-ts)+ts;return n?kD(o,a):W5(o,a)}const vm=BigInt(0),Gc=BigInt(1);function O1(t,e){const n=e.negate();return t?n:e}function x9(t,e){const n=$D(t.Fp,e.map(r=>r.Z));return e.map((r,a)=>t.fromAffine(r.toAffine(n[a])))}function RD(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function tw(t,e){RD(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),a=2**t,s=G5(t),i=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:a,shiftBy:i}}function y9(t,e,n){const{windowSize:r,mask:a,maxNumber:s,shiftBy:i}=n;let o=Number(t&a),c=t>>i;o>r&&(o-=s,c+=Gc);const u=e*r,d=u+Math.abs(o)-1,m=o===0,h=o<0,p=e%2!==0;return{nextN:c,offset:d,isZero:m,isNeg:h,isNegF:p,offsetF:u}}const nw=new WeakMap,MD=new WeakMap;function rw(t){return MD.get(t)||1}function w9(t){if(t!==vm)throw new Error("invalid wNAF")}let Aue=class{BASE;ZERO;Fn;bits;constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let a=e;for(;n>vm;)n&Gc&&(r=r.add(a)),a=a.double(),n>>=Gc;return r}precomputeWindow(e,n){const{windows:r,windowSize:a}=tw(n,this.bits),s=[];let i=e,o=i;for(let c=0;c<r;c++){o=i,s.push(o);for(let u=1;u<a;u++)o=o.add(i),s.push(o);i=o.double()}return s}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let a=this.ZERO,s=this.BASE;const i=tw(e,this.bits);for(let o=0;o<i.windows;o++){const{nextN:c,offset:u,isZero:d,isNeg:m,isNegF:h,offsetF:p}=y9(r,o,i);r=c,d?s=s.add(O1(h,n[p])):a=a.add(O1(m,n[u]))}return w9(r),{p:a,f:s}}wNAFUnsafe(e,n,r,a=this.ZERO){const s=tw(e,this.bits);for(let i=0;i<s.windows&&r!==vm;i++){const{nextN:o,offset:c,isZero:u,isNeg:d}=y9(r,i,s);if(r=o,!u){const m=n[c];a=a.add(d?m.negate():m)}}return w9(r),a}getPrecomputes(e,n,r){let a=nw.get(n);return a||(a=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(a=r(a)),nw.set(n,a))),a}cached(e,n,r){const a=rw(e);return this.wNAF(a,this.getPrecomputes(a,e,r),n)}unsafe(e,n,r,a){const s=rw(e);return s===1?this._unsafeLadder(e,n,a):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),n,a)}createCache(e,n){RD(n,this.bits),MD.set(e,n),nw.delete(e)}hasCache(e){return rw(e)!==1}};function Iue(t,e,n,r){let a=e,s=t.ZERO,i=t.ZERO;for(;n>vm||r>vm;)n&Gc&&(s=s.add(a)),r&Gc&&(i=i.add(a)),a=a.double(),n>>=Gc,r>>=Gc;return{p1:s,p2:i}}function v9(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return jue(e),e}else return oy(t,{isLE:n})}function Rue(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const c of["p","n","h"]){const u=e[c];if(!(typeof u=="bigint"&&u>vm))throw new Error(`CURVE.${c} must be positive bigint`)}const a=v9(e.p,n.Fp,r),s=v9(e.n,n.Fn,r),o=["Gx","Gy","a","b"];for(const c of o)if(!a.isValid(e[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:a,Fn:s}}function Mue(t,e){return function(r){const a=t(r);return{secretKey:a,publicKey:e(a)}}}class DD{oHash;iHash;blockLen;outputLen;finished=!1;destroyed=!1;constructor(e,n){if(hD(e),Hr(n,void 0,"key"),this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,a=new Uint8Array(r);a.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<a.length;s++)a[s]^=54;this.iHash.update(a),this.oHash=e.create();for(let s=0;s<a.length;s++)a[s]^=106;this.oHash.update(a),wm(a)}update(e){return M1(this),this.iHash.update(e),this}digestInto(e){M1(this),Hr(e,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||=Object.create(Object.getPrototypeOf(this),{});const{oHash:n,iHash:r,finished:a,destroyed:s,blockLen:i,outputLen:o}=this;return e=e,e.finished=a,e.destroyed=s,e.blockLen=i,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const LD=(t,e,n)=>new DD(t,e).update(n).digest();LD.create=(t,e)=>new DD(t,e);const k9=(t,e)=>(t+(t>=0?e:-e)/OD)/e;function Due(t,e,n){const[[r,a],[s,i]]=e,o=k9(i*t,n),c=k9(-a*t,n);let u=t-o*r-c*s,d=-o*a-c*i;const m=u<Go,h=d<Go;m&&(u=-u),h&&(d=-d);const p=G5(Math.ceil(xue(n)/2))+Yd;if(u<Go||u>=p||d<Go||d>=p)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:m,k1:u,k2neg:h,k2:d}}function q3(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function aw(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return L1(n.lowS,"lowS"),L1(n.prehash,"prehash"),n.format!==void 0&&q3(n.format),n}class Lue extends Error{constructor(e=""){super(e)}}const Il={Err:Lue,_tlv:{encode:(t,e)=>{const{Err:n}=Il;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,a=L0(r);if(a.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?L0(a.length/2|128):"";return L0(t)+s+a+e},decode(t,e){const{Err:n}=Il;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const a=e[r++],s=!!(a&128);let i=0;if(!s)i=a;else{const c=a&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)i=i<<8|d;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const o=e.subarray(r,r+i);if(o.length!==i)throw new n("tlv.decode: wrong value length");return{v:o,l:e.subarray(r+i)}}},_int:{encode(t){const{Err:e}=Il;if(t<Go)throw new e("integer: negative integers are not allowed");let n=L0(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Il;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return iy(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Il,a=Hr(t,void 0,"signature"),{v:s,l:i}=r.decode(48,a);if(i.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l:c}=r.decode(2,s),{v:u,l:d}=r.decode(2,c);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=Il,r=e.encode(2,n.encode(t.r)),a=e.encode(2,n.encode(t.s)),s=r+a;return e.encode(48,s)}},Go=BigInt(0),Yd=BigInt(1),OD=BigInt(2),O0=BigInt(3),Oue=BigInt(4);function Y5(t,e={}){const n=Rue("weierstrass",t,e),{Fp:r,Fn:a}=n;let s=n.CURVE;const{h:i,n:o}=s;V5(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object"});const{endo:c}=e;if(c&&(!r.is0(s.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const u=FD(r,a);function d(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function m(I,A,$){const{x:E,y:M}=A.toAffine(),F=r.toBytes(E);if(L1($,"isCompressed"),$){d();const L=!r.isOdd(M);return zl(PD(L),F)}else return zl(Uint8Array.of(4),F,r.toBytes(M))}function h(I){Hr(I,void 0,"Point");const{publicKey:A,publicKeyUncompressed:$}=u,E=I.length,M=I[0],F=I.subarray(1);if(E===A&&(M===2||M===3)){const L=r.fromBytes(F);if(!r.isValid(L))throw new Error("bad point: is not on curve, wrong x");const Y=g(L);let O;try{O=r.sqrt(Y)}catch(D){const U=D instanceof Error?": "+D.message:"";throw new Error("bad point: is not on curve, sqrt error"+U)}d();const G=r.isOdd(O);return(M&1)===1!==G&&(O=r.neg(O)),{x:L,y:O}}else if(E===$&&M===4){const L=r.BYTES,Y=r.fromBytes(F.subarray(0,L)),O=r.fromBytes(F.subarray(L,L*2));if(!x(Y,O))throw new Error("bad point: is not on curve");return{x:Y,y:O}}else throw new Error(`bad point: got length ${E}, expected compressed=${A} or uncompressed=${$}`)}const p=e.toBytes||m,f=e.fromBytes||h;function g(I){const A=r.sqr(I),$=r.mul(A,I);return r.add(r.add($,r.mul(I,s.a)),s.b)}function x(I,A){const $=r.sqr(A),E=g(I);return r.eql($,E)}if(!x(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const y=r.mul(r.pow(s.a,O0),Oue),w=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(y,w)))throw new Error("bad curve params: a or b");function v(I,A,$=!1){if(!r.isValid(A)||$&&r.is0(A))throw new Error(`bad point coordinate ${I}`);return A}function k(I){if(!(I instanceof N))throw new Error("Weierstrass Point expected")}function C(I){if(!c||!c.basises)throw new Error("no endo");return Due(I,c.basises,a.ORDER)}const _=f9((I,A)=>{const{X:$,Y:E,Z:M}=I;if(r.eql(M,r.ONE))return{x:$,y:E};const F=I.is0();A==null&&(A=F?r.ONE:r.inv(M));const L=r.mul($,A),Y=r.mul(E,A),O=r.mul(M,A);if(F)return{x:r.ZERO,y:r.ZERO};if(!r.eql(O,r.ONE))throw new Error("invZ was invalid");return{x:L,y:Y}}),S=f9(I=>{if(I.is0()){if(e.allowInfinityPoint&&!r.is0(I.Y))return;throw new Error("bad point: ZERO")}const{x:A,y:$}=I.toAffine();if(!r.isValid(A)||!r.isValid($))throw new Error("bad point: x or y not field elements");if(!x(A,$))throw new Error("bad point: equation left != right");if(!I.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function T(I,A,$,E,M){return $=new N(r.mul($.X,I),$.Y,$.Z),A=O1(E,A),$=O1(M,$),A.add($)}class N{static BASE=new N(s.Gx,s.Gy,r.ONE);static ZERO=new N(r.ZERO,r.ONE,r.ZERO);static Fp=r;static Fn=a;X;Y;Z;constructor(A,$,E){this.X=v("x",A),this.Y=v("y",$,!0),this.Z=v("z",E),Object.freeze(this)}static CURVE(){return s}static fromAffine(A){const{x:$,y:E}=A||{};if(!A||!r.isValid($)||!r.isValid(E))throw new Error("invalid affine point");if(A instanceof N)throw new Error("projective point not allowed");return r.is0($)&&r.is0(E)?N.ZERO:new N($,E,r.ONE)}static fromBytes(A){const $=N.fromAffine(f(Hr(A,void 0,"point")));return $.assertValidity(),$}static fromHex(A){return N.fromBytes(D1(A))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(A=8,$=!0){return R.createCache(this,A),$||this.multiply(O0),this}assertValidity(){S(this)}hasEvenY(){const{y:A}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(A)}equals(A){k(A);const{X:$,Y:E,Z:M}=this,{X:F,Y:L,Z:Y}=A,O=r.eql(r.mul($,Y),r.mul(F,M)),G=r.eql(r.mul(E,Y),r.mul(L,M));return O&&G}negate(){return new N(this.X,r.neg(this.Y),this.Z)}double(){const{a:A,b:$}=s,E=r.mul($,O0),{X:M,Y:F,Z:L}=this;let Y=r.ZERO,O=r.ZERO,G=r.ZERO,H=r.mul(M,M),D=r.mul(F,F),U=r.mul(L,L),B=r.mul(M,F);return B=r.add(B,B),G=r.mul(M,L),G=r.add(G,G),Y=r.mul(A,G),O=r.mul(E,U),O=r.add(Y,O),Y=r.sub(D,O),O=r.add(D,O),O=r.mul(Y,O),Y=r.mul(B,Y),G=r.mul(E,G),U=r.mul(A,U),B=r.sub(H,U),B=r.mul(A,B),B=r.add(B,G),G=r.add(H,H),H=r.add(G,H),H=r.add(H,U),H=r.mul(H,B),O=r.add(O,H),U=r.mul(F,L),U=r.add(U,U),H=r.mul(U,B),Y=r.sub(Y,H),G=r.mul(U,D),G=r.add(G,G),G=r.add(G,G),new N(Y,O,G)}add(A){k(A);const{X:$,Y:E,Z:M}=this,{X:F,Y:L,Z:Y}=A;let O=r.ZERO,G=r.ZERO,H=r.ZERO;const D=s.a,U=r.mul(s.b,O0);let B=r.mul($,F),q=r.mul(E,L),V=r.mul(M,Y),Z=r.add($,E),W=r.add(F,L);Z=r.mul(Z,W),W=r.add(B,q),Z=r.sub(Z,W),W=r.add($,M);let K=r.add(F,Y);return W=r.mul(W,K),K=r.add(B,V),W=r.sub(W,K),K=r.add(E,M),O=r.add(L,Y),K=r.mul(K,O),O=r.add(q,V),K=r.sub(K,O),H=r.mul(D,W),O=r.mul(U,V),H=r.add(O,H),O=r.sub(q,H),H=r.add(q,H),G=r.mul(O,H),q=r.add(B,B),q=r.add(q,B),V=r.mul(D,V),W=r.mul(U,W),q=r.add(q,V),V=r.sub(B,V),V=r.mul(D,V),W=r.add(W,V),B=r.mul(q,W),G=r.add(G,B),B=r.mul(K,W),O=r.mul(Z,O),O=r.sub(O,B),B=r.mul(Z,q),H=r.mul(K,H),H=r.add(H,B),new N(O,G,H)}subtract(A){return this.add(A.negate())}is0(){return this.equals(N.ZERO)}multiply(A){const{endo:$}=e;if(!a.isValidNot0(A))throw new Error("invalid scalar: out of range");let E,M;const F=L=>R.cached(this,L,Y=>x9(N,Y));if($){const{k1neg:L,k1:Y,k2neg:O,k2:G}=C(A),{p:H,f:D}=F(Y),{p:U,f:B}=F(G);M=D.add(B),E=T($.beta,H,U,L,O)}else{const{p:L,f:Y}=F(A);E=L,M=Y}return x9(N,[E,M])[0]}multiplyUnsafe(A){const{endo:$}=e,E=this;if(!a.isValid(A))throw new Error("invalid scalar: out of range");if(A===Go||E.is0())return N.ZERO;if(A===Yd)return E;if(R.hasCache(this))return this.multiply(A);if($){const{k1neg:M,k1:F,k2neg:L,k2:Y}=C(A),{p1:O,p2:G}=Iue(N,E,F,Y);return T($.beta,O,G,M,L)}else return R.unsafe(E,A)}toAffine(A){return _(this,A)}isTorsionFree(){const{isTorsionFree:A}=e;return i===Yd?!0:A?A(N,this):R.unsafe(this,o).is0()}clearCofactor(){const{clearCofactor:A}=e;return i===Yd?this:A?A(N,this):this.multiplyUnsafe(i)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}toBytes(A=!0){return L1(A,"isCompressed"),this.assertValidity(),p(N,this,A)}toHex(A=!0){return sy(this.toBytes(A))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}const j=a.BITS,R=new Aue(N,e.endo?Math.ceil(j/2):j);return N.BASE.precompute(8),N}function PD(t){return Uint8Array.of(t?2:3)}function FD(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function Pue(t,e={}){const{Fn:n}=t,r=e.randomBytes||fD,a=Object.assign(FD(t.Fp,n),{seed:ID(n.ORDER)});function s(p){try{const f=n.fromBytes(p);return n.isValidNot0(f)}catch{return!1}}function i(p,f){const{publicKey:g,publicKeyUncompressed:x}=a;try{const y=p.length;return f===!0&&y!==g||f===!1&&y!==x?!1:!!t.fromBytes(p)}catch{return!1}}function o(p=r(a.seed)){return $ue(Hr(p,a.seed,"seed"),n.ORDER)}function c(p,f=!0){return t.BASE.multiply(n.fromBytes(p)).toBytes(f)}function u(p){const{secretKey:f,publicKey:g,publicKeyUncompressed:x}=a;if(!z5(p)||"_lengths"in n&&n._lengths||f===g)return;const y=Hr(p,void 0,"key").length;return y===g||y===x}function d(p,f,g=!0){if(u(p)===!0)throw new Error("first arg must be private key");if(u(f)===!1)throw new Error("second arg must be public key");const x=n.fromBytes(p);return t.fromBytes(f).multiply(x).toBytes(g)}const m={isValidSecretKey:s,isValidPublicKey:i,randomSecretKey:o},h=Mue(o,c);return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:h,Point:t,utils:m,lengths:a})}function X5(t,e,n={}){hD(e),V5(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"}),n=Object.assign({},n);const r=n.randomBytes||fD,a=n.hmac||(($,E)=>LD(e,$,E)),{Fp:s,Fn:i}=t,{ORDER:o,BITS:c}=i,{keygen:u,getPublicKey:d,getSharedSecret:m,utils:h,lengths:p}=Pue(t,n),f={prehash:!0,lowS:typeof n.lowS=="boolean"?n.lowS:!0,format:"compact",extraEntropy:!1},g=o*OD<s.ORDER;function x($){const E=o>>Yd;return $>E}function y($,E){if(!i.isValidNot0(E))throw new Error(`invalid signature ${$}: out of range 1..Point.Fn.ORDER`);return E}function w(){if(g)throw new Error('"recovered" sig type is not supported for cofactor >2 curves')}function v($,E){q3(E);const M=p.signature,F=E==="compact"?M:E==="recovered"?M+1:void 0;return Hr($,F)}class k{r;s;recovery;constructor(E,M,F){if(this.r=y("r",E),this.s=y("s",M),F!=null){if(w(),![0,1,2,3].includes(F))throw new Error("invalid recovery id");this.recovery=F}Object.freeze(this)}static fromBytes(E,M=f.format){v(E,M);let F;if(M==="der"){const{r:G,s:H}=Il.toSig(Hr(E));return new k(G,H)}M==="recovered"&&(F=E[0],M="compact",E=E.subarray(1));const L=p.signature/2,Y=E.subarray(0,L),O=E.subarray(L,L*2);return new k(i.fromBytes(Y),i.fromBytes(O),F)}static fromHex(E,M){return this.fromBytes(D1(E),M)}assertRecovery(){const{recovery:E}=this;if(E==null)throw new Error("invalid recovery id: must be present");return E}addRecoveryBit(E){return new k(this.r,this.s,E)}recoverPublicKey(E){const{r:M,s:F}=this,L=this.assertRecovery(),Y=L===2||L===3?M+o:M;if(!s.isValid(Y))throw new Error("invalid recovery id: sig.r+curve.n != R.x");const O=s.toBytes(Y),G=t.fromBytes(zl(PD((L&1)===0),O)),H=i.inv(Y),D=_(Hr(E,void 0,"msgHash")),U=i.create(-D*H),B=i.create(F*H),q=t.BASE.multiplyUnsafe(U).add(G.multiplyUnsafe(B));if(q.is0())throw new Error("invalid recovery: point at infinify");return q.assertValidity(),q}hasHighS(){return x(this.s)}toBytes(E=f.format){if(q3(E),E==="der")return D1(Il.hexFromSig(this));const{r:M,s:F}=this,L=i.toBytes(M),Y=i.toBytes(F);return E==="recovered"?(w(),zl(Uint8Array.of(this.assertRecovery()),L,Y)):zl(L,Y)}toHex(E){return sy(this.toBytes(E))}}const C=n.bits2int||function(E){if(E.length>8192)throw new Error("input is too large");const M=iy(E),F=E.length*8-c;return F>0?M>>BigInt(F):M},_=n.bits2int_modN||function(E){return i.create(C(E))},S=G5(c);function T($){return bue("num < 2^"+c,$,Go,S),i.toBytes($)}function N($,E){return Hr($,void 0,"message"),E?Hr(e($),void 0,"prehashed message"):$}function j($,E,M){const{lowS:F,prehash:L,extraEntropy:Y}=aw(M,f);$=N($,L);const O=_($),G=i.fromBytes(E);if(!i.isValidNot0(G))throw new Error("invalid private key");const H=[T(G),T(O)];if(Y!=null&&Y!==!1){const q=Y===!0?r(p.secretKey):Y;H.push(Hr(q,void 0,"extraEntropy"))}const D=zl(...H),U=O;function B(q){const V=C(q);if(!i.isValidNot0(V))return;const Z=i.inv(V),W=t.BASE.multiply(V).toAffine(),K=i.create(W.x);if(K===Go)return;const J=i.create(Z*i.create(U+K*G));if(J===Go)return;let ee=(W.x===K?0:2)|Number(W.y&Yd),se=J;return F&&x(J)&&(se=i.neg(J),ee^=1),new k(K,se,g?void 0:ee)}return{seed:D,k2sig:B}}function R($,E,M={}){const{seed:F,k2sig:L}=j($,E,M);return yue(e.outputLen,i.BYTES,a)(F,L).toBytes(M.format)}function I($,E,M,F={}){const{lowS:L,prehash:Y,format:O}=aw(F,f);if(M=Hr(M,void 0,"publicKey"),E=N(E,Y),!z5($)){const G=$ instanceof k?", use sig.toBytes()":"";throw new Error("verify expects Uint8Array signature"+G)}v($,O);try{const G=k.fromBytes($,O),H=t.fromBytes(M);if(L&&G.hasHighS())return!1;const{r:D,s:U}=G,B=_(E),q=i.inv(U),V=i.create(B*q),Z=i.create(D*q),W=t.BASE.multiplyUnsafe(V).add(H.multiplyUnsafe(Z));return W.is0()?!1:i.create(W.x)===D}catch{return!1}}function A($,E,M={}){const{prehash:F}=aw(M,f);return E=N(E,F),k.fromBytes($,"recovered").recoverPublicKey(E).toBytes()}return Object.freeze({keygen:u,getPublicKey:d,getSharedSecret:m,utils:h,lengths:p,Point:t,sign:R,verify:I,recoverPublicKey:A,Signature:k,hash:e})}const Fue={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Bue={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},BD={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},zue=Y5(Fue),Hue=X5(zue,mue),que=Y5(Bue),Uue=X5(que,pue),Wue=oy(BD.n,{allowedLengths:[65,66]}),Gue=Y5(BD,{Fn:Wue}),Vue=X5(Gue,hue);const zD={p:0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,n:0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3edn,h:8n,a:0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffecn,d:0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3n,Gx:0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,Gy:0x6666666666666666666666666666666666666666666666666666666666666658n},{p:Ia,n:Pg,Gx:_9,Gy:C9,a:sw,d:iw,h:Kue}=zD,P1=32,Z5=64,Yue=(...t)=>{"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)},ya=(t="")=>{const e=new Error(t);throw Yue(e,ya),e},Xue=t=>typeof t=="bigint",Zue=t=>typeof t=="string",Que=t=>t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array",zu=(t,e,n="")=>{const r=Que(t),a=t?.length,s=e!==void 0;if(!r||s&&a!==e){const i=n&&`"${n}" `,o=s?` of length ${e}`:"",c=r?`length=${a}`:`type=${typeof t}`;ya(i+"expected Uint8Array"+o+", got "+c)}return t},Q5=t=>new Uint8Array(t),HD=t=>Uint8Array.from(t),qD=(t,e)=>t.toString(16).padStart(e,"0"),UD=t=>Array.from(zu(t)).map(e=>qD(e,2)).join(""),$o={_0:48,_9:57,A:65,F:70,a:97,f:102},S9=t=>{if(t>=$o._0&&t<=$o._9)return t-$o._0;if(t>=$o.A&&t<=$o.F)return t-($o.A-10);if(t>=$o.a&&t<=$o.f)return t-($o.a-10)},WD=t=>{const e="hex invalid";if(!Zue(t))return ya(e);const n=t.length,r=n/2;if(n%2)return ya(e);const a=Q5(r);for(let s=0,i=0;s<r;s++,i+=2){const o=S9(t.charCodeAt(i)),c=S9(t.charCodeAt(i+1));if(o===void 0||c===void 0)return ya(e);a[s]=o*16+c}return a},Jue=()=>globalThis?.crypto,ede=()=>Jue()?.subtle??ya("crypto.subtle must be defined, consider polyfill"),F1=(...t)=>{const e=Q5(t.reduce((r,a)=>r+zu(a).length,0));let n=0;return t.forEach(r=>{e.set(r,n),n+=r.length}),e},B1=BigInt,Mc=(t,e,n,r="bad number: out of range")=>Xue(t)&&e<=t&&t<n?t:ya(r),Qt=(t,e=Ia)=>{const n=t%e;return n>=0n?n:e+n},GD=t=>Qt(t,Pg),tde=(t,e)=>{(t===0n||e<=0n)&&ya("no inverse n="+t+" mod="+e);let n=Qt(t,e),r=e,a=0n,s=1n;for(;n!==0n;){const i=r/n,o=r%n,c=a-s*i;r=n,n=o,a=s,s=c}return r===1n?Qt(a,e):ya("no inverse")},ow=t=>t instanceof Gs?t:ya("Point expected"),U3=2n**256n;class Gs{static BASE;static ZERO;X;Y;Z;T;constructor(e,n,r,a){const s=U3;this.X=Mc(e,0n,s),this.Y=Mc(n,0n,s),this.Z=Mc(r,1n,s),this.T=Mc(a,0n,s),Object.freeze(this)}static CURVE(){return zD}static fromAffine(e){return new Gs(e.x,e.y,1n,Qt(e.x*e.y))}static fromBytes(e,n=!1){const r=iw,a=HD(zu(e,P1)),s=e[31];a[31]=s&-129;const i=KD(a);Mc(i,0n,n?U3:Ia);const c=Qt(i*i),u=Qt(c-1n),d=Qt(r*c+1n);let{isValid:m,value:h}=rde(u,d);m||ya("bad point: y not sqrt");const p=(h&1n)===1n,f=(s&128)!==0;return!n&&h===0n&&f&&ya("bad point: x==0, isLastByteOdd"),f!==p&&(h=Qt(-h)),new Gs(h,i,1n,Qt(h*i))}static fromHex(e,n){return Gs.fromBytes(WD(e),n)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}assertValidity(){const e=sw,n=iw,r=this;if(r.is0())return ya("bad point: ZERO");const{X:a,Y:s,Z:i,T:o}=r,c=Qt(a*a),u=Qt(s*s),d=Qt(i*i),m=Qt(d*d),h=Qt(c*e),p=Qt(d*Qt(h+u)),f=Qt(m+Qt(n*Qt(c*u)));if(p!==f)return ya("bad point: equation left != right (1)");const g=Qt(a*s),x=Qt(i*o);return g!==x?ya("bad point: equation left != right (2)"):this}equals(e){const{X:n,Y:r,Z:a}=this,{X:s,Y:i,Z:o}=ow(e),c=Qt(n*o),u=Qt(s*a),d=Qt(r*o),m=Qt(i*a);return c===u&&d===m}is0(){return this.equals(Md)}negate(){return new Gs(Qt(-this.X),this.Y,this.Z,Qt(-this.T))}double(){const{X:e,Y:n,Z:r}=this,a=sw,s=Qt(e*e),i=Qt(n*n),o=Qt(2n*Qt(r*r)),c=Qt(a*s),u=e+n,d=Qt(Qt(u*u)-s-i),m=c+i,h=m-o,p=c-i,f=Qt(d*h),g=Qt(m*p),x=Qt(d*p),y=Qt(h*m);return new Gs(f,g,y,x)}add(e){const{X:n,Y:r,Z:a,T:s}=this,{X:i,Y:o,Z:c,T:u}=ow(e),d=sw,m=iw,h=Qt(n*i),p=Qt(r*o),f=Qt(s*m*u),g=Qt(a*c),x=Qt((n+r)*(i+o)-h-p),y=Qt(g-f),w=Qt(g+f),v=Qt(p-d*h),k=Qt(x*y),C=Qt(w*v),_=Qt(x*v),S=Qt(y*w);return new Gs(k,C,S,_)}subtract(e){return this.add(ow(e).negate())}multiply(e,n=!0){if(!n&&(e===0n||this.is0()))return Md;if(Mc(e,1n,Pg),e===1n)return this;if(this.equals(xu))return mde(e).p;let r=Md,a=xu;for(let s=this;e>0n;s=s.double(),e>>=1n)e&1n?r=r.add(s):n&&(a=a.add(s));return r}multiplyUnsafe(e){return this.multiply(e,!1)}toAffine(){const{X:e,Y:n,Z:r}=this;if(this.equals(Md))return{x:0n,y:1n};const a=tde(r,Ia);Qt(r*a)!==1n&&ya("invalid inverse");const s=Qt(e*a),i=Qt(n*a);return{x:s,y:i}}toBytes(){const{x:e,y:n}=this.assertValidity().toAffine(),r=VD(n);return r[31]|=e&1n?128:0,r}toHex(){return UD(this.toBytes())}clearCofactor(){return this.multiply(B1(Kue),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.multiply(Pg/2n,!1).double();return Pg%2n&&(e=e.add(this)),e.is0()}}const xu=new Gs(_9,C9,1n,Qt(_9*C9)),Md=new Gs(0n,1n,1n,0n);Gs.BASE=xu;Gs.ZERO=Md;const VD=t=>WD(qD(Mc(t,0n,U3),Z5)).reverse(),KD=t=>B1("0x"+UD(HD(zu(t)).reverse())),Hi=(t,e)=>{let n=t;for(;e-- >0n;)n*=n,n%=Ia;return n},nde=t=>{const n=t*t%Ia*t%Ia,r=Hi(n,2n)*n%Ia,a=Hi(r,1n)*t%Ia,s=Hi(a,5n)*a%Ia,i=Hi(s,10n)*s%Ia,o=Hi(i,20n)*i%Ia,c=Hi(o,40n)*o%Ia,u=Hi(c,80n)*c%Ia,d=Hi(u,80n)*c%Ia,m=Hi(d,10n)*s%Ia;return{pow_p_5_8:Hi(m,2n)*t%Ia,b2:n}},j9=0x2b8324804fc1df0b2b4d00993dfbd7a72f431806ad2fe478c4ee1b274a0ea0b0n,rde=(t,e)=>{const n=Qt(e*e*e),r=Qt(n*n*e),a=nde(t*r).pow_p_5_8;let s=Qt(t*n*a);const i=Qt(e*s*s),o=s,c=Qt(s*j9),u=i===t,d=i===Qt(-t),m=i===Qt(-t*j9);return u&&(s=o),(d||m)&&(s=c),(Qt(s)&1n)===1n&&(s=Qt(-s)),{isValid:u||d,value:s}},W3=t=>GD(KD(t)),J5=(...t)=>cde.sha512Async(F1(...t)),ade=t=>{const e=t.slice(0,P1);e[0]&=248,e[31]&=127,e[31]|=64;const n=t.slice(P1,Z5),r=W3(e),a=xu.multiply(r),s=a.toBytes();return{head:e,prefix:n,scalar:r,point:a,pointBytes:s}},sde=t=>J5(zu(t,P1)).then(ade),ide=t=>J5(t.hashable).then(t.finish),ode=(t,e,n)=>{const{pointBytes:r,scalar:a}=t,s=W3(e),i=xu.multiply(s).toBytes();return{hashable:F1(i,r,n),finish:u=>{const d=GD(s+W3(u)*a);return zu(F1(i,VD(d)),Z5)}}},lde=async(t,e)=>{const n=zu(t),r=await sde(e),a=await J5(r.prefix,n);return ide(ode(r,a,n))},cde={sha512Async:async t=>{const e=ede(),n=F1(t);return Q5(await e.digest("SHA-512",n.buffer))},sha512:void 0},z1=8,ude=256,YD=Math.ceil(ude/z1)+1,G3=2**(z1-1),dde=()=>{const t=[];let e=xu,n=e;for(let r=0;r<YD;r++){n=e,t.push(n);for(let a=1;a<G3;a++)n=n.add(e),t.push(n);e=n.double()}return t};let T9;const E9=(t,e)=>{const n=e.negate();return t?n:e},mde=t=>{const e=T9||(T9=dde());let n=Md,r=xu;const a=2**z1,s=a,i=B1(a-1),o=B1(z1);for(let c=0;c<YD;c++){let u=Number(t&i);t>>=o,u>G3&&(u-=s,t+=1n);const d=c*G3,m=d,h=d+Math.abs(u)-1,p=c%2!==0,f=u<0;u===0?r=r.add(E9(p,e[m])):n=n.add(E9(f,e[h]))}return t!==0n&&ya("invalid wnaf"),{p:n,f:r}};var hde=16,pde=12,fde=10;function gde(){const t=new Uint8Array(fde);return crypto.getRandomValues(t),yde(t)}function bde(){const t=new Uint8Array(hde);return crypto.getRandomValues(t),t}function N9(){const t=new Uint8Array(pde);return crypto.getRandomValues(t),t}async function xde(t,e){const n=wde(t),r=await crypto.subtle.importKey("raw",n.buffer,"HKDF",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"HKDF",salt:e.buffer,info:new Uint8Array(0),hash:"SHA-256"},r,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function $9(t,e,n){const r=await crypto.subtle.encrypt({name:"AES-GCM",iv:n.buffer},e,t.buffer);return new Uint8Array(r)}function yde(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function wde(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");for(;e.length%4;)e+="=";const n=atob(e),r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}function lw(t){return btoa(String.fromCharCode(...t))}var vde={"ssh-ed25519":"ed25519","ecdsa-sha2-nistp256":"ecdsa-p256","ecdsa-sha2-nistp384":"ecdsa-p384","ecdsa-sha2-nistp521":"ecdsa-p521"};function P0(t,e){const r=new DataView(t.buffer,t.byteOffset).getUint32(e);return{value:t.slice(e+4,e+4+r),nextOffset:e+4+r}}function A9(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");for(;e.length%4;)e+="=";const n=atob(e),r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}function kde(t){const e=t.trim();for(const[r,a]of Object.entries(vde))if(e.startsWith(`${r} `)){const s=e.split(" ");if(s.length<2)throw new Error("Invalid SSH key format");const i=A9(s[1]),{value:o,nextOffset:c}=P0(i,0),u=new TextDecoder().decode(o);if(u!==r)throw new Error(`Key type mismatch: expected ${r}, got ${u}`);if(a==="ed25519"){const{value:h}=P0(i,c);if(h.length!==32)throw new Error("Invalid Ed25519 key length");return{type:"ed25519",keyBytes:h}}const{nextOffset:d}=P0(i,c),{value:m}=P0(i,d);return{type:a,keyBytes:m}}const n=A9(e);if(n.length===32)return{type:"ed25519",keyBytes:n};throw new Error("Unsupported public key format")}async function _de(t,e){const n=await lde(t,e);return btoa(String.fromCharCode(...n))}function Cde(t,e,n){const a={p256:Hue,p384:Uue,p521:Vue}[n].sign(t,e,{prehash:!0});return btoa(String.fromCharCode(...a))}async function Sde(t,e,n,r){const a=kde(n);let s;if(a.type==="ed25519")s=await _de(t,e);else{const i=a.type.replace("ecdsa-","");s=Cde(t,e,i)}return{sig:s,publicKey:n,githubUser:r?.githubUser}}var eC="https://mux.md";function V3(t,e){if(!t)throw new Error(e)}function jde(t,e){if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0}function Tde(t){try{const e=new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0}).decode(t),n=new TextEncoder().encode(e);return V3(jde(t,n),"Signed uploads require UTF-8 text content"),e}catch(e){throw e instanceof Error&&e.message==="Signed uploads require UTF-8 text content"?e:new Error("Signed uploads require UTF-8 text content")}}function cw(t){if(!t||typeof t!="object")throw new Error("Invalid SignatureEnvelope");const e=t;if(typeof e.sig!="string"||e.sig.length===0)throw new Error("Invalid SignatureEnvelope.sig");if(typeof e.publicKey!="string"||e.publicKey.length===0)throw new Error("Invalid SignatureEnvelope.publicKey");if(e.githubUser!==void 0&&typeof e.githubUser!="string")throw new Error("Invalid SignatureEnvelope.githubUser")}async function Ede(t,e,n={}){const r=n.baseUrl??eC,a=gde(),s=bde(),i=N9(),o=await xde(a,s),c=n.signature!==void 0||n.sign!==void 0,u=c?Tde(t):void 0;let d;if(n.signature!==void 0)cw(n.signature),d=n.signature;else if(n.sign)if("signer"in n.sign){const C=await n.sign.signer(t);cw(C),d=C}else d=await Sde(t,n.sign.privateKey,n.sign.publicKey,{githubUser:n.sign.githubUser}),cw(d);c&&V3(d!==void 0,"Signature requested but no signature envelope was produced");let m;if(d){V3(u!==void 0,"Signed content string missing");const C={content:u,sig:d};m=new TextEncoder().encode(JSON.stringify(C))}else m=t;const h=await $9(m,o,i),p=JSON.stringify(e),f=new TextEncoder().encode(p),g=N9(),x=await $9(f,o,g),y={salt:lw(s),iv:lw(i),encryptedMeta:lw(new Uint8Array([...g,...x]))},w={"Content-Type":"application/octet-stream","X-Mux-Meta":btoa(JSON.stringify(y))};if(n.expiresAt!==void 0){let C;n.expiresAt instanceof Date?C=n.expiresAt:typeof n.expiresAt=="string"?C=new Date(n.expiresAt):C=new Date(n.expiresAt),w["X-Mux-Expires"]=C.toISOString()}const v=await fetch(`${r}/`,{method:"POST",headers:w,body:h.buffer});if(!v.ok){const C=await v.json().catch(()=>({error:"Upload failed"}));throw new Error(C.error||"Upload failed")}const k=await v.json();return{url:`${r}/${k.id}#${a}`,id:k.id,key:a,mutateKey:k.mutateKey,...k.expiresAt&&{expiresAt:k.expiresAt}}}async function Nde(t,e,n={}){const r=n.baseUrl??eC,a=await fetch(`${r}/${t}`,{method:"DELETE",headers:{"X-Mux-Mutate-Key":e}});if(!a.ok){const s=await a.json().catch(()=>({error:"Delete failed"}));throw new Error(s.error||"Delete failed")}}async function $de(t,e,n,r={}){const a=r.baseUrl??eC;let s;n==="never"?s="never":n instanceof Date?s=n.toISOString():typeof n=="string"?s=new Date(n).toISOString():s=new Date(n).toISOString();const i=await fetch(`${a}/${t}`,{method:"PATCH",headers:{"X-Mux-Mutate-Key":e,"X-Mux-Expires":s}});if(!i.ok){const o=await i.json().catch(()=>({error:"Set expiration failed"}));throw new Error(o.error||"Set expiration failed")}return i.json()}var Ade={};const Ide="https://mux.md";function Rde(){if(typeof window<"u"){const e=window.api?.muxMdUrlOverride;return e&&e.trim().length>0?e:void 0}const t=Ade?.MUX_MD_URL_OVERRIDE;if(t&&t.trim().length>0)return t}function Mde(t){try{const e=new URL(t);return e.protocol!=="https:"&&e.protocol!=="http:"?void 0:e.origin}catch{return}}function tC(){const t=Rde();return(t?Mde(t):void 0)??Ide}async function K3(t,e,n={}){return Ede(new TextEncoder().encode(t),e,{baseUrl:tC(),expiresAt:n.expiresAt,signature:n.signature,sign:n.sign})}async function Y3(t,e){await Nde(t,e,{baseUrl:tC()})}async function XD(t,e,n){return(await $de(t,e,n,{baseUrl:tC()})).expiresAt}const ly=[{value:"1h",label:"1 hour",ms:3600*1e3},{value:"24h",label:"24 hours",ms:1440*60*1e3},{value:"7d",label:"7 days",ms:10080*60*1e3},{value:"30d",label:"30 days",ms:720*60*60*1e3},{value:"never",label:"Never",ms:null}];function hp(t){return ly.find(n=>n.value===t)?.ms??null}function ZD(t){if(!t)return"never";const e=t-Date.now();if(e<=0)return"1h";for(const n of ly)if(n.ms&&e<=n.ms*1.5)return n.value;return"never"}function Dde(t){if(!t)return"Never";const e=new Date(t),n=Date.now(),r=t-n;return r<=0?"Expired":r<3600*1e3?`${Math.ceil(r/(60*1e3))}m`:r<1440*60*1e3?`${Math.ceil(r/(3600*1e3))}h`:r<10080*60*1e3?`${Math.ceil(r/(1440*60*1e3))}d`:e.toLocaleDateString()}function Lde(t){if(t.length<=1)return t;const e=[];let n=[],r,a=[],s;const i=()=>{if(n.length===0)return;const c=n.join("");r===void 0?e.push({type:"text",text:c}):e.push({type:"text",text:c,timestamp:r}),n=[],r=void 0},o=()=>{if(a.length===0)return;const c=a.join("");s===void 0?e.push({type:"reasoning",text:c}):e.push({type:"reasoning",text:c,timestamp:s}),a=[],s=void 0};for(const c of t)c.type==="text"?(o(),n.push(c.text),r??=c.timestamp):c.type==="reasoning"?(i(),a.push(c.text),s??=c.timestamp):(i(),o(),e.push(c));return i(),o(),e}function Ode(t){return t.map(e=>{const n=Lde(e.parts);return n===e.parts?e:{...e,parts:n}})}function Pde(t){if(t.state!=="output-available")return t;const{output:e,...n}=t;return{...n,state:"output-redacted"}}const Fde=new Set(["propose_plan","task","task_await","task_list","task_terminate","task_apply_git_patch"]);function Bde(t){const e=t.nestedCalls?.map(Pde);if(Fde.has(t.toolName))return e?{...t,nestedCalls:e}:t;if(t.state!=="output-available")return e?{...t,nestedCalls:e}:t;const{output:n,...r}=t;return{...r,state:"output-redacted",nestedCalls:e}}function zde(t){return t.map(e=>{if(e.role!=="assistant")return e;const n=e.parts.map(r=>r.type!=="dynamic-tool"?r:Bde(r));return{...e,parts:n}})}function Hde(t){return t!==null&&typeof t=="object"}function qde(t,e){return t.map(n=>{if(n.role!=="assistant")return n;let r=!1;const a=n.parts.map(s=>{if(s.type!=="dynamic-tool"||s.toolName!=="propose_plan"||s.state!=="output-available"||!Hde(s.output))return s;const i=s.output;return i.success!==!0||typeof i.planPath!="string"||"planContent"in i?s:(r=!0,{...s,output:{...i,planContent:e.content}})});return r?{...n,parts:a}:n})}function Ude(t,e={}){if(t.length===0)return"";const n=e.includeToolOutput??!0,r=e.planSnapshot?qde(t,e.planSnapshot):t,a=n?r:zde(r);return Ode(a).map(i=>e.workspaceId===void 0?i:{...i,workspaceId:e.workspaceId}).map(i=>JSON.stringify(i)).join(`
`)+`
`}const X3=()=>{const t=ae.c(2);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsx(Xe,{asChild:!0,children:l.jsx(hc,{className:"text-[11px]",children:"?"})}),t[0]=e):e=t[0];let n;return t[1]===Symbol.for("react.memo_cache_sentinel")?(n=l.jsxs(Ye,{children:[e,l.jsxs(Ke,{className:"max-w-[240px]",children:[l.jsxs("p",{className:"flex items-center gap-1.5 font-medium",children:[l.jsx(oI,{"aria-hidden":"true",className:"h-3 w-3"}),"End-to-end encrypted"]}),l.jsx("p",{className:"text-muted-foreground mt-1 text-[11px]",children:"Content is encrypted in your browser (AES-256-GCM). The key stays in the URL fragment and is never sent to the server."})]})]}),t[1]=n):n=t[1],n};function Wde(t){const e=t.split(" ");if(e.length<2)return t;const n=e[0],r=e[1];return r.length<=16?t:`${n} ${r.slice(0,8)}...${r.slice(-8)}`}const Z3=t=>{const e=ae.c(40),{signed:n,capabilities:r,signingEnabled:a,onToggleSigning:s,onRetryKeyDetection:i}=t,o=!!r?.publicKey,c=r?.error?.hasEncryptedKey??!1,d=n||a&&o?"text-blue-400":c?"text-yellow-500":"text-muted";let m;e[0]!==c||e[1]!==o||e[2]!==n||e[3]!==a?(m=()=>n?l.jsxs("span",{className:"flex items-center gap-1.5",children:[l.jsx(Hn,{"aria-hidden":"true",className:"h-3 w-3"}),"Signed"]}):a&&o?"Signing enabled":c?l.jsxs("span",{className:"flex items-center gap-1.5",children:[l.jsx(Mr,{"aria-hidden":"true",className:"h-3 w-3"}),"Key requires passphrase"]}):"Signing disabled",e[0]=c,e[1]=o,e[2]=n,e[3]=a,e[4]=m):m=e[4];const h=m;let p;e[5]!==h?(p=h(),e[5]=h,e[6]=p):p=e[6];let f;e[7]!==p?(f=l.jsx("p",{className:"font-medium",children:p}),e[7]=p,e[8]=f):f=e[8];let g;e[9]!==r||e[10]!==o?(g=o&&r&&l.jsxs("div",{className:"text-muted-foreground space-y-0.5 text-[10px]",children:[r.githubUser&&l.jsxs("p",{children:["GitHub: @",r.githubUser]}),r.publicKey&&l.jsx("p",{className:"font-mono",children:Wde(r.publicKey)})]}),e[9]=r,e[10]=o,e[11]=g):g=e[11];let x;e[12]!==c||e[13]!==o||e[14]!==i?(x=!o&&c&&l.jsxs("p",{className:"text-muted-foreground text-[10px]",children:["Use an unencrypted key file, or ensure your SSH agent (e.g. 1Password) is running and SSH_AUTH_SOCK is set",i&&l.jsxs(l.Fragment,{children:["  ",l.jsx("button",{onClick:A=>{A.stopPropagation(),i()},className:"text-foreground underline hover:no-underline",children:"Retry"})]})]}),e[12]=c,e[13]=o,e[14]=i,e[15]=x):x=e[15];let y;e[16]!==c||e[17]!==o||e[18]!==i?(y=!o&&!c&&l.jsxs("p",{className:"text-muted-foreground text-[10px]",children:["No signing key found",i&&l.jsxs(l.Fragment,{children:["  ",l.jsx("button",{onClick:A=>{A.stopPropagation(),i()},className:"text-foreground underline hover:no-underline",children:"Retry"})]})]}),e[16]=c,e[17]=o,e[18]=i,e[19]=y):y=e[19];let w;e[20]===Symbol.for("react.memo_cache_sentinel")?(w=l.jsx("a",{href:"https://mux.coder.com/workspaces/sharing",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-foreground block text-[10px] underline",onClick:Gde,children:"Learn more"}),e[20]=w):w=e[20];let v;e[21]!==f||e[22]!==g||e[23]!==x||e[24]!==y?(v=l.jsxs("div",{className:"space-y-1.5",children:[f,g,x,y,w]}),e[21]=f,e[22]=g,e[23]=x,e[24]=y,e[25]=v):v=e[25];const k=v,C=!o,_=o?"hover:bg-muted/50 cursor-pointer":"cursor-default";let S;e[26]!==d||e[27]!==_?(S=ce("flex items-center justify-center rounded p-0.5 transition-colors",_,d),e[26]=d,e[27]=_,e[28]=S):S=e[28];const T=a?"Disable signing":"Enable signing";let N;e[29]===Symbol.for("react.memo_cache_sentinel")?(N=l.jsx(cte,{className:"h-3 w-3"}),e[29]=N):N=e[29];let j;e[30]!==s||e[31]!==S||e[32]!==T||e[33]!==C?(j=l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:s,disabled:C,tabIndex:-1,className:S,"aria-label":T,children:N})}),e[30]=s,e[31]=S,e[32]=T,e[33]=C,e[34]=j):j=e[34];let R;e[35]!==k?(R=l.jsx(Ke,{className:"max-w-[240px]",children:k}),e[35]=k,e[36]=R):R=e[36];let I;return e[37]!==j||e[38]!==R?(I=l.jsxs(Ye,{children:[j,R]}),e[37]=j,e[38]=R,e[39]=I):I=e[39],I};function Gde(t){return t.stopPropagation()}function Vde(t){const e=t.trim();if(!e)return"chat.jsonl";const n=e.replace(/[^a-zA-Z0-9_-]/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"");return n?`${n}-chat.jsonl`:"chat.jsonl"}function Kde(t){return t.some(e=>e.role==="assistant"&&e.parts.some(n=>n.type==="dynamic-tool"&&n.toolName==="propose_plan"))}function Yde(t){const e=Du(),{api:n}=Kt(),[r,a]=b.useState(!0),[s,i]=b.useState(!1),[o,c]=b.useState(null),[u,d]=b.useState(null),[m,h]=b.useState(null),[p,f]=b.useState(null),[g,x]=b.useState(),[y,w]=b.useState(!1),[v,k]=b.useState(!1),[C,_]=b.useState(!1),[S,T]=b.useState(null),[N,j]=b.useState(!1),[R,I]=Tt(hA,!0),[A,$]=b.useState(!1),E=b.useRef(null),M=b.useRef(0),F=b.useCallback(()=>{d(null),h(null),f(null),x(void 0),$(!1),_(!1)},[]),L=s||y||v;b.useEffect(()=>{M.current+=1,F(),c(null),i(!1),w(!1),k(!1)},[F,t.workspaceId]),b.useEffect(()=>{const q=n?.signing;!t.open||N||!q?.capabilities||q.capabilities({}).then(T).catch(()=>{}).finally(()=>{j(!0)})},[n,t.open,N]),b.useEffect(()=>{!t.open||!u||(E.current?.focus(),E.current?.select())},[t.open,u]);const Y=async()=>{if(!(!n?.signing?.clearIdentityCache||!n.signing.capabilities))try{await n.signing.clearIdentityCache({});const q=await n.signing.capabilities({});T(q)}catch{}},O=b.useCallback(async()=>{if(L)return;const q=M.current+1;M.current=q,i(!0),c(null);try{const V=t.workspaceId,Z=e.getWorkspaceState(V);let W;if(n&&Kde(Z.muxMessages))try{const ue=await n.workspace.getPlanContent({workspaceId:V});ue.success?W={path:ue.data.path,content:ue.data.content}:console.warn("Failed to read plan content for transcript sharing:",ue.error)}catch(ue){console.warn("Failed to read plan content for transcript sharing:",ue)}const K=Ude(Z.muxMessages,{includeToolOutput:r,workspaceId:V,planSnapshot:W});if(!K){M.current===q&&c("No messages to share yet");return}let J;if(R&&S?.publicKey&&n?.signing?.signMessage)try{J=await n.signing.signMessage({content:K})}catch(ue){console.warn("Failed to sign transcript, uploading without signature:",ue)}const ee=cu(V),se={name:Vde(t.workspaceTitle??t.workspaceName),type:"application/x-ndjson",size:new TextEncoder().encode(K).length,model:Z.currentModel??ee.model,thinking:Z.currentThinkingLevel??ee.thinkingLevel},re=await K3(K,se,{expiresAt:(()=>{const ue=_n(h1,"never"),he=hp(ue);return he?new Date(Date.now()+he):void 0})(),signature:J});M.current===q&&(d(re.url),h(re.id),f(re.mutateKey),x(re.expiresAt),$(!!J))}catch(V){console.error("Failed to share transcript:",V),M.current===q&&c(V instanceof Error?V.message:"Failed to upload")}finally{M.current===q&&i(!1)}},[n,r,L,t.workspaceId,t.workspaceName,t.workspaceTitle,S,R,e]),G=async q=>{if(!m||!p||L)return;const V=M.current;w(!0);try{const Z=hp(q),W=Z?new Date(Date.now()+Z):"never",K=await XD(m,p,W);M.current===V&&(x(K),rn(h1,q))}catch(Z){console.error("Update expiration failed:",Z)}finally{M.current===V&&w(!1)}},H=b.useCallback(async()=>{if(!m||!p||v)return;const q=M.current;mt(u,"Deleting a shared transcript requires a visible shareUrl"),k(!0),c(null);try{await Y3(m,p),M.current===q&&F()}catch(V){console.error("Delete transcript share failed:",V),M.current===q&&c(V instanceof Error?V.message:"Failed to delete shared transcript")}finally{M.current===q&&k(!1)}},[F,v,m,p,u]),D=b.useCallback(()=>{u&&bc(u).then(()=>{_(!0),setTimeout(()=>_(!1),2e3)})},[u]),U=b.useCallback(()=>{u&&window.open(u,"_blank","noopener,noreferrer")},[u]),B=q=>{t.onOpenChange(q),q||(c(null),_(!1))};return l.jsx(sa,{open:t.open,onOpenChange:B,children:l.jsxs(ia,{maxWidth:"380px",showCloseButton:!0,children:[l.jsxs(Sa,{children:[l.jsxs(oa,{className:"flex items-center gap-2 text-sm",children:["Share transcript",l.jsx(X3,{}),l.jsx(Z3,{signed:A,capabilities:S,signingEnabled:R,onToggleSigning:()=>I(!R),onRetryKeyDetection:()=>void Y()})]}),t.workspaceTitle&&l.jsx("p",{className:"text-muted truncate text-xs",children:t.workspaceTitle})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[l.jsx(Wo,{checked:r,onCheckedChange:q=>a(q===!0)}),l.jsx("span",{className:"text-muted-foreground text-xs",children:"Include tool output (plans always included)"})]}),l.jsx(tt,{onClick:()=>void O(),disabled:L,className:"h-7 w-full text-xs",children:s?l.jsxs(l.Fragment,{children:[l.jsx(pn,{className:"mr-2 h-3.5 w-3.5 animate-spin"}),"Uploading..."]}):"Generate link"}),u&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"border-border bg-background flex items-center gap-1 rounded border px-2 py-1.5",children:[l.jsx("input",{ref:E,type:"text",readOnly:!0,"aria-label":"Shared transcript URL",value:u,className:"text-foreground min-w-0 flex-1 bg-transparent font-mono text-[10px] outline-none","data-testid":"share-transcript-url",onFocus:q=>q.target.select()}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:D,className:"text-muted hover:bg-muted/50 hover:text-foreground shrink-0 rounded p-1 transition-colors","aria-label":"Copy to clipboard","data-testid":"copy-share-transcript-url",disabled:L,children:C?l.jsx(Hn,{className:"h-3.5 w-3.5 text-green-500"}):l.jsx(O5,{className:"h-3.5 w-3.5"})})}),l.jsx(Ke,{children:C?"Copied!":"Copy"})]}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:U,className:"text-muted hover:bg-muted/50 hover:text-foreground shrink-0 rounded p-1 transition-colors","aria-label":"Open in browser","data-testid":"open-share-transcript-url",disabled:L,children:l.jsx(pl,{className:"h-3.5 w-3.5"})})}),l.jsx(Ke,{children:"Open"})]}),p&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:()=>void H(),className:"text-muted hover:bg-destructive/10 hover:text-destructive rounded p-1 transition-colors","aria-label":"Delete shared transcript link","data-testid":"delete-share-transcript-url",disabled:L,children:v?l.jsx(pn,{className:"h-3.5 w-3.5 animate-spin"}):l.jsx(fa,{className:"h-3.5 w-3.5"})})}),l.jsx(Ke,{children:"Delete"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-muted text-[10px]",children:"Expires:"}),l.jsxs(Ar,{value:ZD(g),onValueChange:q=>void G(q),disabled:L,children:[l.jsx(Tr,{className:"h-6 flex-1 text-[10px]",children:l.jsx(Ir,{})}),l.jsx(Er,{children:ly.map(q=>l.jsx(Un,{value:q.value,children:q.label},q.value))})]}),y&&l.jsx(pn,{className:"text-muted h-3.5 w-3.5 animate-spin"})]})]}),o&&l.jsx("div",{role:"alert",className:"bg-destructive/10 text-destructive rounded px-2 py-1.5 text-[11px]",children:o})]})]})})}const Xde="[data-radix-popper-content-wrapper]";function I9(t){const e=t.target;e instanceof HTMLElement&&e.closest(Xde)&&t.preventDefault()}const QD="py-1.5 pr-2 transition-all duration-150 text-[13px] relative flex gap-2";function JD(t){const e=typeof t=="number"&&Number.isFinite(t)?Math.max(0,t):0;return 12+Math.min(32,e)*12}function eL(t){const e=ae.c(16),n=t.isSelected?"bg-blue-400":t.showUnread?"bg-muted-foreground":"bg-transparent",r=t.isDraft&&t.isSelected&&"bg-[length:3px_6px] bg-repeat-y",a=t.showUnread?"pointer-events-auto":"pointer-events-none";let s;e[0]!==n||e[1]!==r||e[2]!==a?(s=ce("absolute left-0 top-0 bottom-0 w-[3px] transition-colors duration-150",n,r,a),e[0]=n,e[1]=r,e[2]=a,e[3]=s):s=e[3];let i;e[4]!==t.isDraft||e[5]!==t.isSelected?(i=t.isDraft&&t.isSelected?{background:"repeating-linear-gradient(to bottom, var(--color-blue-400) 0px, var(--color-blue-400) 4px, transparent 4px, transparent 8px)"}:void 0,e[4]=t.isDraft,e[5]=t.isSelected,e[6]=i):i=e[6];const o=!t.showUnread;let c;e[7]!==s||e[8]!==i||e[9]!==o?(c=l.jsx("span",{className:s,style:i,"aria-hidden":o}),e[7]=s,e[8]=i,e[9]=o,e[10]=c):c=e[10];const u=c;if(t.showUnread){let d;e[11]!==u?(d=l.jsx(Xe,{asChild:!0,children:u}),e[11]=u,e[12]=d):d=e[12];let m;e[13]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx(Ke,{align:"start",children:"Unread messages"}),e[13]=m):m=e[13];let h;return e[14]!==d?(h=l.jsxs(Ye,{children:[d,m]}),e[14]=d,e[15]=h):h=e[15],h}return u}function Q3(t){const e=ae.c(3);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=ce("relative inline-flex h-4 w-4 shrink-0 items-center self-center"),e[0]=n):n=e[0];let r;return e[1]!==t.children?(r=l.jsx("div",{className:n,children:t.children}),e[1]=t.children,e[2]=r):r=e[2],r}function Zde(t){const e=ae.c(66),{projectPath:n,isSelected:r,depth:a,draft:s}=t;let i;e[0]!==a?(i=JD(a),e[0]=a,e[1]=i):i=e[1];const o=i,c=s.promptPreview.length>0,[u,d]=b.useState(!1),[m,h]=b.useState(null),p=b.useRef(null),f=b.useRef(null),g=b.useRef(!1);let x,y;e[2]===Symbol.for("react.memo_cache_sentinel")?(x=()=>()=>{p.current&&clearTimeout(p.current)},y=[],e[2]=x,e[3]=y):(x=e[2],y=e[3]),b.useEffect(x,y);let w;e[4]===Symbol.for("react.memo_cache_sentinel")?(w=he=>{const ke=he.touches[0];f.current={x:ke.clientX,y:ke.clientY},g.current=!1,p.current=setTimeout(()=>{g.current=!0,h({x:ke.clientX,y:ke.clientY}),d(!0),p.current=null},500)},e[4]=w):w=e[4];const v=w;let k;e[5]===Symbol.for("react.memo_cache_sentinel")?(k=()=>{p.current&&(clearTimeout(p.current),p.current=null)},e[5]=k):k=e[5];const C=k;let _;e[6]===Symbol.for("react.memo_cache_sentinel")?(_=he=>{if(p.current&&f.current){const ke=he.touches[0],je=ke.clientX-f.current.x,_e=ke.clientY-f.current.y;(Math.abs(je)>10||Math.abs(_e)>10)&&(clearTimeout(p.current),p.current=null)}},e[6]=_):_=e[6];const S=_,T=r&&"bg-hover";let N;e[7]!==T?(N=ce(QD,"cursor-pointer hover:bg-hover [&:hover_button]:opacity-100",T),e[7]=T,e[8]=N):N=e[8];let j;e[9]!==o?(j={paddingLeft:o},e[9]=o,e[10]=j):j=e[10];let R;e[11]!==s?(R=()=>{if(g.current){g.current=!1;return}s.onOpen()},e[11]=s,e[12]=R):R=e[12];let I;e[13]===Symbol.for("react.memo_cache_sentinel")?(I=he=>{he.preventDefault(),he.stopPropagation(),h({x:he.clientX,y:he.clientY}),d(!0)},e[13]=I):I=e[13];let A;e[14]!==s?(A=he=>{(he.key==="Enter"||he.key===" ")&&(he.preventDefault(),s.onOpen())},e[14]=s,e[15]=A):A=e[15];const $=r?"true":void 0,E=`Open workspace draft ${s.draftNumber}`,M=s.draftId;let F;e[16]!==r?(F=l.jsx(eL,{isSelected:r,isDraft:!0}),e[16]=r,e[17]=F):F=e[17];let L;e[18]===Symbol.for("react.memo_cache_sentinel")?(L=ce("text-muted hover:text-foreground inline-flex h-4 w-4 cursor-pointer items-center justify-center border-none bg-transparent p-0 opacity-0 transition-colors duration-200","[@media(hover:none)_and_(pointer:coarse)]:invisible [@media(hover:none)_and_(pointer:coarse)]:pointer-events-none"),e[18]=L):L=e[18];let Y;e[19]!==s?(Y=he=>{he.stopPropagation(),s.onDelete()},e[19]=s,e[20]=Y):Y=e[20];const O=`Delete workspace draft ${s.draftNumber}`;let G;e[21]===Symbol.for("react.memo_cache_sentinel")?(G=l.jsx(fa,{className:"h-3 w-3"}),e[21]=G):G=e[21];let H;e[22]!==s.draftId||e[23]!==n||e[24]!==Y||e[25]!==O?(H=l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",className:L,onKeyDown:es,onClick:Y,"aria-label":O,"data-project-path":n,"data-draft-id":s.draftId,children:G})}),e[22]=s.draftId,e[23]=n,e[24]=Y,e[25]=O,e[26]=H):H=e[26];let D;e[27]===Symbol.for("react.memo_cache_sentinel")?(D=l.jsx(Ke,{align:"start",children:"Delete draft"}),e[27]=D):D=e[27];let U;e[28]!==H?(U=l.jsxs(Ye,{children:[H,D]}),e[28]=H,e[29]=U):U=e[29];let B;e[30]===Symbol.for("react.memo_cache_sentinel")?(B=he=>{d(he),he||h(null)},e[30]=B):B=e[30];let q;e[31]!==m?(q=m&&l.jsx(R5,{asChild:!0,children:l.jsx("span",{style:{position:"fixed",left:m.x,top:m.y,width:0,height:0}})}),e[31]=m,e[32]=q):q=e[32];let V;e[33]!==s?(V=he=>{he.stopPropagation(),d(!1),s.onDelete()},e[33]=s,e[34]=V):V=e[34];let Z;e[35]===Symbol.for("react.memo_cache_sentinel")?(Z=l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(fa,{className:"h-3 w-3"}),"Delete draft"]}),e[35]=Z):Z=e[35];let W;e[36]!==V?(W=l.jsx(gl,{align:"start",side:"right",className:"w-[150px] !min-w-0 p-1",onClick:Qde,children:l.jsx("button",{className:"text-foreground bg-background hover:bg-hover w-full rounded-sm px-2 py-1.5 text-left text-xs",onClick:V,children:Z})}),e[36]=V,e[37]=W):W=e[37];let K;e[38]!==u||e[39]!==q||e[40]!==W?(K=l.jsxs(yc,{open:u,onOpenChange:B,children:[q,W]}),e[38]=u,e[39]=q,e[40]=W,e[41]=K):K=e[41];let J;e[42]!==c||e[43]!==U||e[44]!==K?(J=l.jsxs(Q3,{hasSubtitle:c,children:[U,K]}),e[42]=c,e[43]=U,e[44]=K,e[45]=J):J=e[45];let ee;e[46]!==s.title?(ee=l.jsx("span",{className:"text-foreground block truncate text-left text-[13px] italic",children:s.title}),e[46]=s.title,e[47]=ee):ee=e[47];let se;e[48]!==s.promptPreview||e[49]!==c?(se=c&&l.jsx("span",{className:"text-muted block truncate text-left text-xs",children:s.promptPreview}),e[48]=s.promptPreview,e[49]=c,e[50]=se):se=e[50];let re;e[51]!==ee||e[52]!==se?(re=l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-1",children:[ee,se]}),e[51]=ee,e[52]=se,e[53]=re):re=e[53];let ue;return e[54]!==s.draftId||e[55]!==n||e[56]!==A||e[57]!==$||e[58]!==E||e[59]!==F||e[60]!==J||e[61]!==re||e[62]!==N||e[63]!==j||e[64]!==R?(ue=l.jsxs("div",{className:N,style:j,onClick:R,onTouchStart:v,onTouchEnd:C,onTouchMove:S,onContextMenu:I,onKeyDown:A,role:"button",tabIndex:0,"aria-current":$,"aria-label":E,"data-project-path":n,"data-draft-id":M,children:[F,J,re]}),e[54]=s.draftId,e[55]=n,e[56]=A,e[57]=$,e[58]=E,e[59]=F,e[60]=J,e[61]=re,e[62]=N,e[63]=j,e[64]=R,e[65]=ue):ue=e[65],ue}function Qde(t){return t.stopPropagation()}function Jde(t){const e=ae.c(152),{metadata:n,projectPath:r,projectName:a,isSelected:s,isArchiving:i,isRemoving:o,depth:c,sectionId:u,onSelectWorkspace:d,onArchiveWorkspace:m,onCancelCreation:h}=t,{id:p,namedWorkspacePath:f}=n,g=p===qo,x=n.isInitializing===!0,y=o===!0||n.isRemoving===!0,w=y||i===!0,{isUnread:v}=bI(p),k=z_(p),{editingWorkspaceId:C,requestRename:_,confirmRename:S,cancelRename:T}=dle(),[N,j]=b.useState(""),[R,I]=b.useState(null),A=n.title??n.name,$=C===p,E=jA(),[M,F]=b.useState(!1),[L,Y]=b.useState(!1),[O,G]=b.useState(null),H=b.useRef(null),D=b.useRef(null),U=b.useRef(!1);let B,q;e[0]!==$?(B=()=>{$&&(Y(!1),G(null))},q=[$],e[0]=$,e[1]=B,e[2]=q):(B=e[1],q=e[2]),b.useEffect(B,q);let V,Z;e[3]===Symbol.for("react.memo_cache_sentinel")?(V=()=>()=>{H.current&&clearTimeout(H.current)},Z=[],e[3]=V,e[4]=Z):(V=e[3],Z=e[4]),b.useEffect(V,Z);let W,K;e[5]!==s||e[6]!==E?(W=()=>{if(!s||E!==!0)return;const lt=Ot=>{bn(Ot,st.SHARE_TRANSCRIPT)&&(Ot.preventDefault(),F(!0))};return window.addEventListener("keydown",lt),()=>window.removeEventListener("keydown",lt)},K=[s,E],e[5]=s,e[6]=E,e[7]=W,e[8]=K):(W=e[7],K=e[8]),b.useEffect(W,K);let J;e[9]!==A||e[10]!==_||e[11]!==p?(J=()=>{_(p,A)&&(j(A),I(null))},e[9]=A,e[10]=_,e[11]=p,e[12]=J):J=e[12];const ee=J;let se;e[13]!==S||e[14]!==N||e[15]!==p?(se=async()=>{if(!N.trim()){I("Title cannot be empty");return}const lt=await S(p,N);lt.success?I(null):I(lt.error??"Failed to update title")},e[13]=S,e[14]=N,e[15]=p,e[16]=se):se=e[16];const re=se;let ue;e[17]!==T?(ue=()=>{T(),j(""),I(null)},e[17]=T,e[18]=ue):ue=e[18];const he=ue;let ke;e[19]!==he||e[20]!==re?(ke=lt=>{es(lt),lt.key==="Enter"?(lt.preventDefault(),re()):lt.key==="Escape"&&(lt.preventDefault(),he())},e[19]=he,e[20]=re,e[21]=ke):ke=e[21];const je=ke;let _e;e[22]!==w||e[23]!==$?(_e=lt=>{if(w||$)return;const Ot=lt.touches[0];D.current={x:Ot.clientX,y:Ot.clientY},U.current=!1,H.current=setTimeout(()=>{U.current=!0,G({x:Ot.clientX,y:Ot.clientY}),Y(!0),H.current=null},500)},e[22]=w,e[23]=$,e[24]=_e):_e=e[24];const ge=_e;let ve;e[25]===Symbol.for("react.memo_cache_sentinel")?(ve=()=>{H.current&&(clearTimeout(H.current),H.current=null)},e[25]=ve):ve=e[25];const De=ve;let $e;e[26]===Symbol.for("react.memo_cache_sentinel")?($e=lt=>{if(H.current&&D.current){const Ot=lt.touches[0],yn=Ot.clientX-D.current.x,Zn=Ot.clientY-D.current.y;(Math.abs(yn)>10||Math.abs(Zn)>10)&&(clearTimeout(H.current),H.current=null)}},e[26]=$e):$e=e[26];const Qe=$e,{canInterrupt:Be,awaitingUserQuestion:ie,isStarting:Te,agentStatus:Ne}=_x(p),Re=gI(p),Le=(Be||Te)&&!ie,Ae=!!Ne||ie||Le||x||y,bt=i===!0||Ae,nt=!x&&!$&&v&&!(s&&!w);let ct;e[27]!==c?(ct=JD(c),e[27]=c,e[28]=ct):ct=e[28];const pt=ct;let be,We;e[29]!==A||e[30]!==w||e[31]!==n.runtimeConfig||e[32]!==r||e[33]!==u||e[34]!==p?(be=()=>({type:R1,item:()=>({type:R1,workspaceId:p,projectPath:r,currentSectionId:u,displayTitle:A,runtimeConfig:n.runtimeConfig}),collect:rme,canDrag:!w}),We=[p,r,u,w,A,n.runtimeConfig],e[29]=A,e[30]=w,e[31]=n.runtimeConfig,e[32]=r,e[33]=u,e[34]=p,e[35]=be,e[36]=We):(be=e[35],We=e[36]);const[He,Je,ye]=d5(be,We),{isDragging:Ze}=He;let qe,ft;e[37]!==ye?(qe=()=>{ye(p5(),{captureDraggingState:!0})},ft=[ye],e[37]=ye,e[38]=qe,e[39]=ft):(qe=e[38],ft=e[39]),b.useEffect(qe,ft);const Et=Ze&&"opacity-50",At=y&&"opacity-70",dt=!i&&"hover:bg-hover [&:hover_button]:opacity-100",Mt=i&&"pointer-events-none opacity-70",Gt=w?"cursor-default":"cursor-pointer",tn=s&&!w&&"bg-hover";let It;e[40]!==Et||e[41]!==At||e[42]!==dt||e[43]!==Mt||e[44]!==Gt||e[45]!==tn?(It=ce(QD,Et,At,dt,Mt,Gt,tn),e[40]=Et,e[41]=At,e[42]=dt,e[43]=Mt,e[44]=Gt,e[45]=tn,e[46]=It):It=e[46];let zt;e[47]!==pt?(zt={paddingLeft:pt},e[47]=pt,e[48]=zt):zt=e[48];let Vt;e[49]!==w||e[50]!==f||e[51]!==d||e[52]!==a||e[53]!==r||e[54]!==p?(Vt=()=>{if(!w){if(U.current){U.current=!1;return}d({projectPath:r,projectName:a,namedWorkspacePath:f,workspaceId:p})}},e[49]=w,e[50]=f,e[51]=d,e[52]=a,e[53]=r,e[54]=p,e[55]=Vt):Vt=e[55];let qt;e[56]!==w||e[57]!==$||e[58]!==f||e[59]!==d||e[60]!==a||e[61]!==r||e[62]!==p?(qt=lt=>{w||$||(lt.key==="Enter"||lt.key===" ")&&(lt.preventDefault(),d({projectPath:r,projectName:a,namedWorkspacePath:f,workspaceId:p}))},e[56]=w,e[57]=$,e[58]=f,e[59]=d,e[60]=a,e[61]=r,e[62]=p,e[63]=qt):qt=e[63];let Pt;e[64]!==w||e[65]!==$?(Pt=lt=>{w||$||(lt.preventDefault(),lt.stopPropagation(),G({x:lt.clientX,y:lt.clientY}),Y(!0))},e[64]=w,e[65]=$,e[66]=Pt):Pt=e[66];const et=w?-1:0,rt=s?"true":void 0,jt=y?`Deleting workspace ${A}`:x?`Initializing workspace ${A}`:i?`Archiving workspace ${A}`:`Select workspace ${A}`,ze=u??"";let Ve;e[67]!==k?(Ve=k?JSON.stringify(k):void 0,e[67]=k,e[68]=Ve):Ve=e[68];const $t=s&&!w;let Wt;e[69]!==nt||e[70]!==$t?(Wt=l.jsx(eL,{isSelected:$t,showUnread:nt}),e[69]=nt,e[70]=$t,e[71]=Wt):Wt=e[71];let sn;e[72]!==O||e[73]!==A||e[74]!==Ae||e[75]!==w||e[76]!==$||e[77]!==x||e[78]!==g||e[79]!==y||e[80]!==L||e[81]!==E||e[82]!==n.name||e[83]!==m||e[84]!==h||e[85]!==M||e[86]!==ee||e[87]!==p?(sn=x?l.jsx(Q3,{hasSubtitle:Ae,children:l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",className:ce("text-muted inline-flex h-4 w-4 items-center justify-center border-none bg-transparent p-0 transition-colors duration-200",y?"cursor-default opacity-100":"cursor-pointer opacity-0 hover:text-destructive focus-visible:opacity-100"),disabled:y,onKeyDown:es,onClick:lt=>{lt.stopPropagation(),!y&&h(p)},"aria-label":y?`Deleting workspace ${A}`:`Cancel workspace creation ${A}`,"data-workspace-id":p,children:y?l.jsx(pn,{className:"h-3 w-3 animate-spin"}):l.jsx(fa,{className:"h-3 w-3"})})}),l.jsx(Ke,{align:"start",children:y?"Deleting...":"Cancel creation"})]})}):w?l.jsx("div",{className:"h-4 w-4 shrink-0"}):!$&&l.jsxs(Q3,{hasSubtitle:Ae,children:[l.jsxs(yc,{open:L,onOpenChange:lt=>{Y(lt),lt||G(null)},children:[O&&l.jsx(R5,{asChild:!0,children:l.jsx("span",{style:{position:"fixed",left:O.x,top:O.y,width:0,height:0}})}),l.jsx(Vm,{asChild:!0,children:l.jsx("button",{className:ce("text-muted hover:text-foreground inline-flex h-4 w-4 cursor-pointer items-center justify-center border-none bg-transparent p-0 transition-colors duration-200",L?"opacity-100":"opacity-0","[@media(hover:none)_and_(pointer:coarse)]:invisible [@media(hover:none)_and_(pointer:coarse)]:pointer-events-none"),onClick:nme,"aria-label":`Workspace actions for ${A}`,"data-workspace-id":p,children:l.jsx(cee,{className:"h-3 w-3"})})}),l.jsxs(gl,{align:O?"start":"end",side:O?"right":"bottom",sideOffset:O?0:6,className:"w-[250px] !min-w-0 p-1",onClick:tme,children:[l.jsx("button",{className:"text-foreground bg-background hover:bg-hover w-full rounded-sm px-2 py-1.5 text-left text-xs whitespace-nowrap",onClick:lt=>{lt.stopPropagation(),Y(!1),ee()},children:l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Rs,{className:"h-3 w-3 shrink-0"}),"Edit chat title"]})}),E===!0&&!g&&l.jsx("button",{className:"text-foreground bg-background hover:bg-hover w-full rounded-sm px-2 py-1.5 text-left text-xs whitespace-nowrap",onClick:lt=>{lt.stopPropagation(),Y(!1),F(!0)},children:l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(aI,{className:"h-3 w-3 shrink-0"}),"Share transcript"," ",l.jsxs("span",{className:"text-muted text-[10px]",children:["(",Bt(st.SHARE_TRANSCRIPT),")"]})]})}),!g&&l.jsx("button",{className:"text-foreground bg-background hover:bg-hover w-full rounded-sm px-2 py-1.5 text-left text-xs whitespace-nowrap",onClick:lt=>{lt.stopPropagation(),Y(!1),m(p,lt.currentTarget)},children:l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(z3,{className:"h-3 w-3 shrink-0"}),"Archive chat"," ",l.jsxs("span",{className:"text-muted text-[10px]",children:["(",Bt(st.ARCHIVE_WORKSPACE),")"]})]})})]})]}),E===!0&&l.jsx(Yde,{workspaceId:p,workspaceName:n.name,workspaceTitle:A,open:M,onOpenChange:F})]}),e[72]=O,e[73]=A,e[74]=Ae,e[75]=w,e[76]=$,e[77]=x,e[78]=g,e[79]=y,e[80]=L,e[81]=E,e[82]=n.name,e[83]=m,e[84]=h,e[85]=M,e[86]=ee,e[87]=p,e[88]=sn):sn=e[88];const En=!bt&&"py-0.5";let ot;e[89]!==En?(ot=ce("grid min-w-0 grid-cols-[1fr_auto] items-center gap-1.5",En),e[89]=En,e[90]=ot):ot=e[90];let Ue;e[91]!==A||e[92]!==N||e[93]!==re||e[94]!==je||e[95]!==w||e[96]!==$||e[97]!==x||e[98]!==Le||e[99]!==n.name||e[100]!==n.runtimeConfig||e[101]!==f||e[102]!==a||e[103]!==ee||e[104]!==p?(Ue=$?l.jsx("input",{className:"bg-input-bg text-input-text border-input-border font-inherit focus:border-input-border-focus col-span-2 min-w-0 flex-1 rounded-sm border px-1 text-left text-[13px] outline-none",value:N,onChange:lt=>j(lt.target.value),onKeyDown:je,onBlur:()=>void re(),autoFocus:!0,onClick:eme,"aria-label":`Edit title for workspace ${A}`,"data-workspace-id":p}):l.jsxs(N5,{openDelay:300,closeDelay:100,children:[l.jsx($5,{asChild:!0,children:l.jsx("span",{className:ce("text-foreground block truncate text-left text-[13px] transition-colors duration-200",!w&&"cursor-pointer"),onDoubleClick:lt=>{w||(lt.stopPropagation(),ee())},children:l.jsx(L5,{className:ce("w-full truncate",!(Le||x)&&"no-shimmer"),colorClass:"var(--color-foreground)",children:A})})}),l.jsx(ey,{align:"start",side:"top",sideOffset:8,className:"border-separator-light bg-modal-bg w-auto max-w-[420px] px-[10px] py-[6px] text-[11px] shadow-[0_2px_8px_rgba(0,0,0,0.4)]",onPointerDownOutside:I9,onFocusOutside:I9,children:l.jsx("div",{className:"flex flex-col gap-1",children:l.jsx(yce,{workspaceId:p,projectName:a,workspaceName:n.name,namedWorkspacePath:f,runtimeConfig:n.runtimeConfig,isWorking:Le})})})]}),e[91]=A,e[92]=N,e[93]=re,e[94]=je,e[95]=w,e[96]=$,e[97]=x,e[98]=Le,e[99]=n.name,e[100]=n.runtimeConfig,e[101]=f,e[102]=a,e[103]=ee,e[104]=p,e[105]=Ue):Ue=e[105];let Se;e[106]!==k||e[107]!==$||e[108]!==x||e[109]!==Le||e[110]!==r||e[111]!==p?(Se=!x&&!$&&l.jsx("div",{className:"flex items-center gap-1",children:l.jsx(LM,{gitStatus:k,workspaceId:p,projectPath:r,tooltipPosition:"right",isWorking:Le})}),e[106]=k,e[107]=$,e[108]=x,e[109]=Le,e[110]=r,e[111]=p,e[112]=Se):Se=e[112];let le;e[113]!==ot||e[114]!==Ue||e[115]!==Se?(le=l.jsxs("div",{className:ot,children:[Ue,Se]}),e[113]=ot,e[114]=Ue,e[115]=Se,e[116]=le):le=e[116];let Ie;e[117]!==Re||e[118]!==bt||e[119]!==i||e[120]!==x||e[121]!==y||e[122]!==p?(Ie=bt&&l.jsx("div",{className:"min-w-0",children:y?l.jsxs("div",{className:"text-muted flex min-w-0 items-center gap-1.5 text-xs",children:[l.jsx(pn,{className:"h-3 w-3 shrink-0 animate-spin"}),l.jsx("span",{className:"min-w-0 truncate",children:"Deleting..."})]}):i?l.jsxs("div",{className:"text-muted flex min-w-0 items-center gap-1.5 text-xs",children:[l.jsx(z3,{className:"h-3 w-3 shrink-0"}),l.jsx("span",{className:"min-w-0 truncate",children:"Archiving..."})]}):l.jsx(D5,{workspaceId:p,fallbackModel:Re,isCreating:x})}),e[117]=Re,e[118]=bt,e[119]=i,e[120]=x,e[121]=y,e[122]=p,e[123]=Ie):Ie=e[123];let we;e[124]!==le||e[125]!==Ie?(we=l.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-1",children:[le,Ie]}),e[124]=le,e[125]=Ie,e[126]=we):we=e[126];let it;e[127]!==Je||e[128]!==ge||e[129]!==w||e[130]!==f||e[131]!==It||e[132]!==zt||e[133]!==Vt||e[134]!==qt||e[135]!==Pt||e[136]!==et||e[137]!==rt||e[138]!==jt||e[139]!==ze||e[140]!==Ve||e[141]!==Wt||e[142]!==sn||e[143]!==we||e[144]!==p?(it=l.jsxs("div",{ref:Je,className:It,style:zt,onClick:Vt,onTouchStart:ge,onTouchEnd:De,onTouchMove:Qe,onKeyDown:qt,onContextMenu:Pt,role:"button",tabIndex:et,"aria-current":rt,"aria-label":jt,"aria-disabled":w,"data-workspace-path":f,"data-workspace-id":p,"data-section-id":ze,"data-git-status":Ve,children:[Wt,sn,we]}),e[127]=Je,e[128]=ge,e[129]=w,e[130]=f,e[131]=It,e[132]=zt,e[133]=Vt,e[134]=qt,e[135]=Pt,e[136]=et,e[137]=rt,e[138]=jt,e[139]=ze,e[140]=Ve,e[141]=Wt,e[142]=sn,e[143]=we,e[144]=p,e[145]=it):it=e[145];let Pe;e[146]!==$||e[147]!==R?(Pe=R&&$&&l.jsx("div",{className:"bg-error-bg border-error text-error absolute top-full right-8 left-8 z-10 mt-1 rounded-sm border px-2 py-1.5 text-xs",children:R}),e[146]=$,e[147]=R,e[148]=Pe):Pe=e[148];let yt;return e[149]!==it||e[150]!==Pe?(yt=l.jsxs(xe.Fragment,{children:[it,Pe]}),e[149]=it,e[150]=Pe,e[151]=yt):yt=e[151],yt}function eme(t){return t.stopPropagation()}function tme(t){return t.stopPropagation()}function nme(t){return t.stopPropagation()}function rme(t){return{isDragging:t.isDragging()}}function ame(t){const e=ae.c(4);if(t.variant==="draft"){let r;return e[0]!==t?(r=l.jsx(Zde,{...t}),e[0]=t,e[1]=r):r=e[1],r}let n;return e[2]!==t?(n=l.jsx(Jde,{...t}),e[2]=t,e[3]=n):n=e[3],n}const tL=xe.memo(ame);function Dd(t){const e=ae.c(11),n=5e3,[r,a]=b.useState(null),s=b.useRef(null);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{a(null),s.current&&(window.clearTimeout(s.current),s.current=null)},e[0]=i):i=e[0];const o=i;let c;e[1]!==n?(c=(g,x,y)=>{s.current&&window.clearTimeout(s.current);const w=y??{top:window.scrollY+32,left:Math.max(window.innerWidth-420,16)};a({id:g,error:x,position:w}),s.current=window.setTimeout(()=>{a(null),s.current=null},n)},e[1]=n,e[2]=c):c=e[2];const u=c;let d,m;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=()=>()=>{s.current&&window.clearTimeout(s.current)},m=[],e[3]=d,e[4]=m):(d=e[3],m=e[4]),b.useEffect(d,m);let h,p;e[5]!==r?(h=()=>{if(!r)return;const g=()=>o(),x=window.setTimeout(()=>{document.addEventListener("click",g,{once:!0})},0);return()=>{window.clearTimeout(x),document.removeEventListener("click",g)}},p=[r,o],e[5]=r,e[6]=h,e[7]=p):(h=e[6],p=e[7]),b.useEffect(h,p);let f;return e[8]!==r||e[9]!==u?(f={error:r,showError:u,clearError:o},e[8]=r,e[9]=u,e[10]=f):f=e[10],f}function Vc(t){const e=ae.c(17);if(!t.error)return null;const n=`${t.error.position.top}px`,r=`${t.error.position.left}px`;let a;e[0]!==n||e[1]!==r?(a={top:n,left:r},e[0]=n,e[1]=r,e[2]=a):a=e[2];let s;e[3]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx(Mr,{"aria-hidden":"true",className:"h-4 w-4"}),e[3]=s):s=e[3];let i;e[4]!==t.prefix?(i=l.jsx("span",{className:"font-medium",children:t.prefix}),e[4]=t.prefix,e[5]=i):i=e[5];let o;e[6]!==t.error.error?(o=l.jsx("p",{className:"text-light mt-1",children:t.error.error}),e[6]=t.error.error,e[7]=o):o=e[7];let c;e[8]!==i||e[9]!==o?(c=l.jsxs("div",{className:"flex-1 leading-[1.4] break-words whitespace-pre-wrap",children:[i,o]}),e[8]=i,e[9]=o,e[10]=c):c=e[10];let u;e[11]!==t.onDismiss?(u=t.onDismiss&&l.jsx("button",{onClick:t.onDismiss,"aria-label":"Dismiss",className:"flex h-4 w-4 shrink-0 cursor-pointer items-center justify-center border-0 bg-transparent p-0 text-base leading-none text-inherit opacity-60 transition-opacity hover:opacity-100",children:""}),e[11]=t.onDismiss,e[12]=u):u=e[12];let d;return e[13]!==a||e[14]!==c||e[15]!==u?(d=Ys.createPortal(l.jsxs("div",{role:"alert","aria-live":"assertive",className:"bg-dark border-toast-error-border text-toast-error-text pointer-events-auto fixed z-[10000] flex max-w-80 animate-[toastSlideIn_0.2s_ease-out] items-start gap-2 rounded border px-3 py-2 text-xs shadow-[0_4px_12px_rgba(0,0,0,0.3)]",style:a,children:[s,c,u]}),document.body),e[13]=a,e[14]=c,e[15]=u,e[16]=d):d=e[16],d}function cy(){return(cy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function nL(t,e){if(t==null)return{};var n,r,a={},s=Object.keys(t);for(r=0;r<s.length;r++)e.indexOf(n=s[r])>=0||(a[n]=t[n]);return a}function J3(t){var e=b.useRef(t),n=b.useRef(function(r){e.current&&e.current(r)});return e.current=t,n.current}var Qp=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t<e?e:t},pp=function(t){return"touches"in t},ek=function(t){return t&&t.ownerDocument.defaultView||self},R9=function(t,e,n){var r=t.getBoundingClientRect(),a=pp(e)?(function(s,i){for(var o=0;o<s.length;o++)if(s[o].identifier===i)return s[o];return s[0]})(e.touches,n):e;return{left:Qp((a.pageX-(r.left+ek(t).pageXOffset))/r.width),top:Qp((a.pageY-(r.top+ek(t).pageYOffset))/r.height)}},M9=function(t){!pp(t)&&t.preventDefault()},rL=xe.memo(function(t){var e=t.onMove,n=t.onKey,r=nL(t,["onMove","onKey"]),a=b.useRef(null),s=J3(e),i=J3(n),o=b.useRef(null),c=b.useRef(!1),u=b.useMemo(function(){var p=function(x){M9(x),(pp(x)?x.touches.length>0:x.buttons>0)&&a.current?s(R9(a.current,x,o.current)):g(!1)},f=function(){return g(!1)};function g(x){var y=c.current,w=ek(a.current),v=x?w.addEventListener:w.removeEventListener;v(y?"touchmove":"mousemove",p),v(y?"touchend":"mouseup",f)}return[function(x){var y=x.nativeEvent,w=a.current;if(w&&(M9(y),!(function(k,C){return C&&!pp(k)})(y,c.current)&&w)){if(pp(y)){c.current=!0;var v=y.changedTouches||[];v.length&&(o.current=v[0].identifier)}w.focus(),s(R9(w,y,o.current)),g(!0)}},function(x){var y=x.which||x.keyCode;y<37||y>40||(x.preventDefault(),i({left:y===39?.05:y===37?-.05:0,top:y===40?.05:y===38?-.05:0}))},g]},[i,s]),d=u[0],m=u[1],h=u[2];return b.useEffect(function(){return h},[h]),xe.createElement("div",cy({},r,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:a,onKeyDown:m,tabIndex:0,role:"slider"}))}),nC=function(t){return t.filter(Boolean).join(" ")},aL=function(t){var e=t.color,n=t.left,r=t.top,a=r===void 0?.5:r,s=nC(["react-colorful__pointer",t.className]);return xe.createElement("div",{className:s,style:{top:100*a+"%",left:100*n+"%"}},xe.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},va=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n},sme=function(t){return ume(tk(t))},tk=function(t){return t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?va(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?va(parseInt(t.substring(6,8),16)/255,2):1}},ime=function(t){return cme(lme(t))},ome=function(t){var e=t.s,n=t.v,r=t.a,a=(200-e)*n/100;return{h:va(t.h),s:va(a>0&&a<200?e*n/100/(a<=100?a:200-a)*100:0),l:va(a/2),a:va(r,2)}},nk=function(t){var e=ome(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},lme=function(t){var e=t.h,n=t.s,r=t.v,a=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),i=r*(1-n),o=r*(1-(e-s)*n),c=r*(1-(1-e+s)*n),u=s%6;return{r:va(255*[r,o,i,i,c,r][u]),g:va(255*[c,r,r,o,i,i][u]),b:va(255*[i,i,c,r,r,o][u]),a:va(a,2)}},F0=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},cme=function(t){var e=t.r,n=t.g,r=t.b,a=t.a,s=a<1?F0(va(255*a)):"";return"#"+F0(e)+F0(n)+F0(r)+s},ume=function(t){var e=t.r,n=t.g,r=t.b,a=t.a,s=Math.max(e,n,r),i=s-Math.min(e,n,r),o=i?s===e?(n-r)/i:s===n?2+(r-e)/i:4+(e-n)/i:0;return{h:va(60*(o<0?o+6:o)),s:va(s?i/s*100:0),v:va(s/255*100),a}},dme=xe.memo(function(t){var e=t.hue,n=t.onChange,r=nC(["react-colorful__hue",t.className]);return xe.createElement("div",{className:r},xe.createElement(rL,{onMove:function(a){n({h:360*a.left})},onKey:function(a){n({h:Qp(e+360*a.left,0,360)})},"aria-label":"Hue","aria-valuenow":va(e),"aria-valuemax":"360","aria-valuemin":"0"},xe.createElement(aL,{className:"react-colorful__hue-pointer",left:e/360,color:nk({h:e,s:100,v:100,a:1})})))}),mme=xe.memo(function(t){var e=t.hsva,n=t.onChange,r={backgroundColor:nk({h:e.h,s:100,v:100,a:1})};return xe.createElement("div",{className:"react-colorful__saturation",style:r},xe.createElement(rL,{onMove:function(a){n({s:100*a.left,v:100-100*a.top})},onKey:function(a){n({s:Qp(e.s+100*a.left,0,100),v:Qp(e.v-100*a.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+va(e.s)+"%, Brightness "+va(e.v)+"%"},xe.createElement(aL,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:nk(e)})))}),sL=function(t,e){if(t===e)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0},hme=function(t,e){return t.toLowerCase()===e.toLowerCase()||sL(tk(t),tk(e))};function pme(t,e,n){var r=J3(n),a=b.useState(function(){return t.toHsva(e)}),s=a[0],i=a[1],o=b.useRef({color:e,hsva:s});b.useEffect(function(){if(!t.equal(e,o.current.color)){var u=t.toHsva(e);o.current={hsva:u,color:e},i(u)}},[e,t]),b.useEffect(function(){var u;sL(s,o.current.hsva)||t.equal(u=t.fromHsva(s),o.current.color)||(o.current={hsva:s,color:u},r(u))},[s,t,r]);var c=b.useCallback(function(u){i(function(d){return Object.assign({},d,u)})},[]);return[s,c]}var fme=typeof window<"u"?b.useLayoutEffect:b.useEffect,gme=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},D9=new Map,bme=function(t){fme(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!D9.has(e)){var n=e.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,D9.set(e,n);var r=gme();r&&n.setAttribute("nonce",r),e.head.appendChild(n)}},[])},xme=function(t){var e=t.className,n=t.colorModel,r=t.color,a=r===void 0?n.defaultColor:r,s=t.onChange,i=nL(t,["className","colorModel","color","onChange"]),o=b.useRef(null);bme(o);var c=pme(n,a,s),u=c[0],d=c[1],m=nC(["react-colorful",e]);return xe.createElement("div",cy({},i,{ref:o,className:m}),xe.createElement(mme,{hsva:u,onChange:d}),xe.createElement(dme,{hue:u.h,onChange:d,className:"react-colorful__last-control"}))},yme={defaultColor:"000",toHsva:sme,fromHsva:function(t){return ime({h:t.h,s:t.s,v:t.v,a:1})},equal:hme},wme=function(t){return xe.createElement(xme,cy({},t,{colorModel:yme}))};const vme=t=>{const e=ae.c(73),{section:n,isExpanded:r,workspaceCount:a,onToggleExpand:s,onAddWorkspace:i,onRename:o,onChangeColor:c,onDelete:u}=t,[d,m]=b.useState(!1),[h,p]=b.useState(n.name),[f,g]=b.useState(!1),[x,y]=b.useState(n.color??""),w=b.useRef(null),v=b.useRef(null);let k,C;e[0]!==d?(k=()=>{d&&w.current&&(w.current.focus(),w.current.select())},C=[d],e[0]=d,e[1]=k,e[2]=C):(k=e[1],C=e[2]),b.useEffect(k,C);let _,S;e[3]!==f?(_=()=>{if(f){const ge=ve=>{v.current&&!v.current.contains(ve.target)&&g(!1)};return document.addEventListener("mousedown",ge),()=>document.removeEventListener("mousedown",ge)}},S=[f],e[3]=f,e[4]=_,e[5]=S):(_=e[4],S=e[5]),b.useEffect(_,S);let T;e[6]!==h||e[7]!==o||e[8]!==n.name?(T=()=>{const ge=h.trim();ge&&ge!==n.name?o(ge):p(n.name),m(!1)},e[6]=h,e[7]=o,e[8]=n.name,e[9]=T):T=e[9];const N=T;let j;e[10]!==n.color?(j=TA(n.color),e[10]=n.color,e[11]=j):j=e[11];const R=j;let I,A;e[12]!==R?(I=()=>{y(R)},A=[R],e[12]=R,e[13]=I,e[14]=A):(I=e[13],A=e[14]),b.useEffect(I,A);const $=`${R}10`;let E;e[15]!==R||e[16]!==$?(E={backgroundColor:$,borderLeftWidth:3,borderLeftColor:R},e[15]=R,e[16]=$,e[17]=E):E=e[17];const M=r?"Collapse section":"Expand section",F=r?"rotate(90deg)":"rotate(0deg)";let L;e[18]!==F?(L=l.jsx(na,{size:12,className:"transition-transform duration-200",style:{transform:F}}),e[18]=F,e[19]=L):L=e[19];let Y;e[20]!==r||e[21]!==s||e[22]!==M||e[23]!==L?(Y=l.jsx("button",{onClick:s,className:"text-secondary hover:text-foreground flex h-5 w-5 shrink-0 cursor-pointer items-center justify-center rounded border-none bg-transparent p-0 transition-colors","aria-label":M,"aria-expanded":r,children:L}),e[20]=r,e[21]=s,e[22]=M,e[23]=L,e[24]=Y):Y=e[24];let O;e[25]!==h||e[26]!==N||e[27]!==d||e[28]!==s||e[29]!==n.name||e[30]!==a?(O=d?l.jsx("input",{ref:w,type:"text",value:h,onChange:ge=>p(ge.target.value),onBlur:N,onKeyDown:ge=>{ge.key==="Enter"&&N(),ge.key==="Escape"&&(p(n.name),m(!1))},"data-testid":"section-rename-input",className:"bg-background/50 text-foreground min-w-0 flex-1 rounded border border-white/20 px-1.5 py-0.5 text-xs font-medium outline-none"}):l.jsxs("button",{onClick:s,onDoubleClick:()=>m(!0),className:"text-foreground min-w-0 flex-1 cursor-pointer truncate border-none bg-transparent p-0 text-left text-xs font-medium",children:[n.name,l.jsxs("span",{className:"text-muted ml-1.5 font-normal",children:["(",a,")"]})]}),e[25]=h,e[26]=N,e[27]=d,e[28]=s,e[29]=n.name,e[30]=a,e[31]=O):O=e[31];let G;e[32]!==f?(G=()=>g(!f),e[32]=f,e[33]=G):G=e[33];let H;e[34]===Symbol.for("react.memo_cache_sentinel")?(H=l.jsx(t5,{size:12}),e[34]=H):H=e[34];let D;e[35]!==G?(D=l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:G,className:"text-muted hover:text-foreground hover:bg-hover flex h-5 w-5 cursor-pointer items-center justify-center rounded border-none bg-transparent p-0 transition-colors","aria-label":"Change color",children:H})}),e[35]=G,e[36]=D):D=e[36];let U;e[37]===Symbol.for("react.memo_cache_sentinel")?(U=l.jsx(Ke,{children:"Change color"}),e[37]=U):U=e[37];let B;e[38]!==D?(B=l.jsxs(Ye,{children:[D,U]}),e[38]=D,e[39]=B):B=e[39];let q;e[40]!==x||e[41]!==c||e[42]!==R||e[43]!==f?(q=f&&l.jsxs("div",{className:"bg-background border-border absolute top-full right-0 z-50 mt-1 rounded border p-2 shadow-lg",children:[l.jsx("div",{className:"mb-2 grid grid-cols-5 gap-1",children:MZ.map(ge=>{const[ve,De]=ge;return l.jsx("button",{onClick:()=>{c(De),g(!1)},className:ce("h-5 w-5 rounded border-2 transition-transform hover:scale-110",R===De?"border-white":"border-transparent"),style:{backgroundColor:De},title:ve,"aria-label":`Set color to ${ve}`},De)})}),l.jsx("div",{className:"section-color-picker",children:l.jsx(wme,{color:R,onChange:ge=>c(ge)})}),l.jsx("div",{className:"mt-2 flex items-center gap-1.5",children:l.jsx("input",{type:"text",value:x,onChange:ge=>{const ve=ge.target.value;y(ve),/^#[0-9a-fA-F]{6}$/.test(ve)&&c(ve)},className:"bg-background/50 text-foreground w-full rounded border border-white/20 px-1.5 py-0.5 text-xs outline-none"})})]}),e[40]=x,e[41]=c,e[42]=R,e[43]=f,e[44]=q):q=e[44];let V;e[45]!==B||e[46]!==q?(V=l.jsxs("div",{className:"relative",ref:v,children:[B,q]}),e[45]=B,e[46]=q,e[47]=V):V=e[47];let Z;e[48]===Symbol.for("react.memo_cache_sentinel")?(Z=()=>m(!0),e[48]=Z):Z=e[48];let W;e[49]===Symbol.for("react.memo_cache_sentinel")?(W=l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:Z,className:"text-muted hover:text-foreground hover:bg-hover flex h-5 w-5 cursor-pointer items-center justify-center rounded border-none bg-transparent p-0 transition-colors","aria-label":"Rename section",children:l.jsx(Rs,{size:12})})}),l.jsx(Ke,{children:"Rename"})]}),e[49]=W):W=e[49];let K;e[50]!==u?(K=ge=>u(ge),e[50]=u,e[51]=K):K=e[51];let J;e[52]===Symbol.for("react.memo_cache_sentinel")?(J=l.jsx(fa,{size:12}),e[52]=J):J=e[52];let ee;e[53]!==K?(ee=l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:K,className:"text-muted hover:text-danger-light hover:bg-danger-light/10 flex h-5 w-5 cursor-pointer items-center justify-center rounded border-none bg-transparent p-0 transition-colors","aria-label":"Delete section",children:J})}),e[53]=K,e[54]=ee):ee=e[54];let se;e[55]===Symbol.for("react.memo_cache_sentinel")?(se=l.jsx(Ke,{children:"Delete section"}),e[55]=se):se=e[55];let re;e[56]!==ee?(re=l.jsxs(Ye,{children:[ee,se]}),e[56]=ee,e[57]=re):re=e[57];let ue;e[58]!==i?(ue=l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:i,className:"text-secondary hover:text-foreground hover:bg-hover flex h-5 w-5 cursor-pointer items-center justify-center rounded border-none bg-transparent p-0 text-sm transition-colors","aria-label":"New workspace in section",children:"+"})}),e[58]=i,e[59]=ue):ue=e[59];let he;e[60]===Symbol.for("react.memo_cache_sentinel")?(he=l.jsx(Ke,{children:"New workspace"}),e[60]=he):he=e[60];let ke;e[61]!==ue?(ke=l.jsxs(Ye,{children:[ue,he]}),e[61]=ue,e[62]=ke):ke=e[62];let je;e[63]!==V||e[64]!==re||e[65]!==ke?(je=l.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 transition-opacity group-hover:opacity-100",children:[V,W,re,ke]}),e[63]=V,e[64]=re,e[65]=ke,e[66]=je):je=e[66];let _e;return e[67]!==n.id||e[68]!==E||e[69]!==Y||e[70]!==O||e[71]!==je?(_e=l.jsxs("div",{className:"group relative flex items-center gap-1 border-t border-white/5 px-2 py-1.5",style:E,"data-section-id":n.id,children:[Y,O,je]}),e[67]=n.id,e[68]=E,e[69]=Y,e[70]=O,e[71]=je,e[72]=_e):_e=e[72],_e},kme=t=>{const e=ae.c(16),{onCreateSection:n}=t,[r,a]=b.useState(!1),[s,i]=b.useState(""),o=b.useRef(null);let c,u;e[0]!==r?(c=()=>{r&&o.current&&o.current.focus()},u=[r],e[0]=r,e[1]=c,e[2]=u):(c=e[1],u=e[2]),b.useEffect(c,u);let d;e[3]!==s||e[4]!==n?(d=()=>{const f=s.trim();f&&n(f),i(""),a(!1)},e[3]=s,e[4]=n,e[5]=d):d=e[5];const m=d;if(r){let f;e[6]===Symbol.for("react.memo_cache_sentinel")?(f=l.jsx("div",{className:"flex h-5 w-5 shrink-0 items-center justify-center",children:l.jsx(uu,{size:12,className:"text-muted/60"})}),e[6]=f):f=e[6];let g;e[7]===Symbol.for("react.memo_cache_sentinel")?(g=w=>i(w.target.value),e[7]=g):g=e[7];let x;e[8]!==m?(x=w=>{w.key==="Enter"&&m(),w.key==="Escape"&&(i(""),a(!1))},e[8]=m,e[9]=x):x=e[9];let y;return e[10]!==m||e[11]!==s||e[12]!==x?(y=l.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5",children:[f,l.jsx("input",{ref:o,type:"text",value:s,onChange:g,onBlur:m,onKeyDown:x,placeholder:"Section name...","data-testid":"add-section-input",className:"bg-background/50 text-foreground min-w-0 flex-1 rounded border border-white/20 px-1.5 py-0.5 text-[11px] outline-none"})]}),e[10]=m,e[11]=s,e[12]=x,e[13]=y):y=e[13],y}let h;e[14]===Symbol.for("react.memo_cache_sentinel")?(h=()=>a(!0),e[14]=h):h=e[14];let p;return e[15]===Symbol.for("react.memo_cache_sentinel")?(p=l.jsxs("button",{onClick:h,"data-testid":"add-section-button",className:"text-muted/60 hover:text-muted flex w-full cursor-pointer items-center justify-center gap-1 border-none bg-transparent px-2 py-0.5 text-[11px] transition-colors",children:[l.jsx(uu,{size:12}),l.jsx("span",{children:"Add section"})]}),e[15]=p):p=e[15],p},_me=()=>{const t=ae.c(13),e=m5(Cme),{isDragging:n,item:r,itemType:a,currentOffset:s}=e;if(!n||a!==R1||!s)return null;const i=r,o=i.displayTitle??"Workspace",c=`translate(${s.x+10}px, ${s.y+10}px)`;let u;t[0]!==c?(u={transform:c},t[0]=c,t[1]=u):u=t[1];let d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=ce("flex max-w-56 items-center gap-1.5 rounded-sm px-2 py-1.5","bg-sidebar border-border border shadow-lg"),t[2]=d):d=t[2];let m;t[3]!==i.runtimeConfig?(m=l.jsx(ty,{runtimeConfig:i.runtimeConfig,isWorking:!1}),t[3]=i.runtimeConfig,t[4]=m):m=t[4];let h;t[5]!==o?(h=l.jsx("span",{className:"text-foreground truncate text-sm",children:o}),t[5]=o,t[6]=h):h=t[6];let p;t[7]!==m||t[8]!==h?(p=l.jsxs("div",{className:d,children:[m,h]}),t[7]=m,t[8]=h,t[9]=p):p=t[9];let f;return t[10]!==u||t[11]!==p?(f=l.jsx("div",{className:"pointer-events-none fixed inset-0 z-[9999]",children:l.jsx("div",{style:u,children:p})}),t[10]=u,t[11]=p,t[12]=f):f=t[12],f};function Cme(t){return{isDragging:t.isDragging(),item:t.getItem(),itemType:t.getItemType(),currentOffset:t.getClientOffset()}}const Fg="SECTION_REORDER",Sme=t=>{const e=ae.c(24),{sectionId:n,sectionName:r,projectPath:a,onReorder:s,children:i}=t;let o,c;e[0]!==a||e[1]!==n||e[2]!==r?(o=()=>({type:Fg,item:{type:Fg,sectionId:n,sectionName:r,projectPath:a},collect:jme}),c=[n,r,a],e[0]=a,e[1]=n,e[2]=r,e[3]=o,e[4]=c):(o=e[3],c=e[4]);const[u,d,m]=d5(o,c),{isDragging:h}=u;let p,f;e[5]!==m?(p=()=>{m(p5(),{captureDraggingState:!0})},f=[m],e[5]=m,e[6]=p,e[7]=f):(p=e[6],f=e[7]),b.useEffect(p,f);let g,x;e[8]!==s||e[9]!==a||e[10]!==n?(g=()=>({accept:Fg,canDrop:j=>j.projectPath===a&&j.sectionId!==n,drop:j=>{s(j.sectionId,n)},collect:Tme}),x=[a,n,s],e[8]=s,e[9]=a,e[10]=n,e[11]=g,e[12]=x):(g=e[11],x=e[12]);const[y,w]=h5(g,x),{isOver:v,canDrop:k}=y;let C;e[13]!==d||e[14]!==w?(C=j=>d(w(j)),e[13]=d,e[14]=w,e[15]=C):C=e[15];const _=h&&"opacity-50",S=v&&k&&"bg-accent/10";let T;e[16]!==_||e[17]!==S?(T=ce(_,S),e[16]=_,e[17]=S,e[18]=T):T=e[18];let N;return e[19]!==i||e[20]!==n||e[21]!==T||e[22]!==C?(N=l.jsx("div",{ref:C,"data-section-drag-id":n,className:T,children:i}),e[19]=i,e[20]=n,e[21]=T,e[22]=C,e[23]=N):N=e[23],N};function jme(t){return{isDragging:t.isDragging()}}function Tme(t){return{isOver:t.isOver(),canDrop:t.canDrop()}}const Eme=()=>{const t=ae.c(9),e=m5(Nme),{isDragging:n,item:r,itemType:a,currentOffset:s}=e;if(!n||a!==Fg||!s)return null;const o=r.sectionName??"Section",c=`translate(${s.x+10}px, ${s.y+10}px)`;let u;t[0]!==c?(u={transform:c},t[0]=c,t[1]=u):u=t[1];let d,m;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=ce("flex max-w-48 items-center gap-1.5 rounded-sm px-2 py-1.5","bg-sidebar border-border border shadow-lg"),m=l.jsx(na,{size:12,className:"text-muted shrink-0"}),t[2]=d,t[3]=m):(d=t[2],m=t[3]);let h;t[4]!==o?(h=l.jsxs("div",{className:d,children:[m,l.jsx("span",{className:"text-foreground truncate text-xs font-medium",children:o})]}),t[4]=o,t[5]=h):h=t[5];let p;return t[6]!==u||t[7]!==h?(p=l.jsx("div",{className:"pointer-events-none fixed inset-0 z-[9999]",children:l.jsx("div",{style:u,children:h})}),t[6]=u,t[7]=h,t[8]=p):p=t[8],p};function Nme(t){return{isDragging:t.isDragging(),item:t.getItem(),itemType:t.getItemType(),currentOffset:t.getClientOffset()}}const $me=t=>{const e=ae.c(9),{onClick:n,isSelected:r}=t,{isUnread:a}=bI(qo),s=a&&!r;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx(Z_,{className:"h-3.5 w-3.5"}),e[0]=i):i=e[0];let o;e[1]!==s?(o=s&&l.jsx("span",{className:"bg-accent absolute -top-0.5 -right-0.5 h-1.5 w-1.5 rounded-full","aria-label":"Unread messages"}),e[1]=s,e[2]=o):o=e[2];let c;e[3]!==n||e[4]!==o?(c=l.jsx(Xe,{asChild:!0,children:l.jsxs("button",{onClick:n,className:"text-muted hover:text-primary relative flex shrink-0 cursor-pointer items-center border-none bg-transparent p-0 transition-colors","aria-label":"Open Chat with Mux",children:[i,o]})}),e[3]=n,e[4]=o,e[5]=c):c=e[5];let u;e[6]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx(Ke,{side:"bottom",children:"Chat with Mux"}),e[6]=u):u=e[6];let d;return e[7]!==c?(d=l.jsxs(Ye,{children:[c,u]}),e[7]=c,e[8]=d):d=e[8],d},iL="sticky top-0 z-10 py-2 pl-2 pr-3 flex items-center border-l-transparent bg-sidebar transition-colors duration-150";function Ame(t){return ce(iL,t.isDragging?"cursor-grabbing opacity-35 [&_*]:!cursor-grabbing":"cursor-grab",t.isOver&&"bg-accent/[0.08]",t.selected&&"bg-hover border-l-accent","hover:[&_button]:opacity-100 hover:[&_[data-drag-handle]]:opacity-100")}const Ime=t=>{const e=ae.c(28);let n,r,a,s,i;e[0]!==t?({projectPath:a,onReorder:r,children:n,selected:i,...s}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=s,e[5]=i):(n=e[1],r=e[2],a=e[3],s=e[4],i=e[5]);let o,c;e[6]!==a?(o=()=>({type:"PROJECT",item:{type:"PROJECT",projectPath:a},collect:Fme}),c=[a],e[6]=a,e[7]=o,e[8]=c):(o=e[7],c=e[8]);const[u,d,m]=d5(o,c),{isDragging:h}=u;let p,f;e[9]!==m?(p=()=>{m(p5(),{captureDraggingState:!0})},f=[m],e[9]=m,e[10]=p,e[11]=f):(p=e[10],f=e[11]),b.useEffect(p,f);let g,x;e[12]!==r||e[13]!==a?(g=()=>({accept:"PROJECT",drop:T=>{T.projectPath!==a&&r(T.projectPath,a)},collect:Bme}),x=[a,r],e[12]=r,e[13]=a,e[14]=g,e[15]=x):(g=e[14],x=e[15]);const[y,w]=h5(g,x),{isOver:v}=y;let k;e[16]!==d||e[17]!==w?(k=T=>d(w(T)),e[16]=d,e[17]=w,e[18]=k):k=e[18];const C=!!i;let _;e[19]!==h||e[20]!==v||e[21]!==C?(_=Ame({isDragging:h,isOver:v,selected:C}),e[19]=h,e[20]=v,e[21]=C,e[22]=_):_=e[22];let S;return e[23]!==n||e[24]!==s||e[25]!==_||e[26]!==k?(S=l.jsx("div",{ref:k,className:_,...s,children:n}),e[23]=n,e[24]=s,e[25]=_,e[26]=k,e[27]=S):S=e[27],S},Rme=xe.memo(Ime,(t,e)=>t.projectPath===e.projectPath&&t.onReorder===e.onReorder&&(t["aria-expanded"]??!1)===(e["aria-expanded"]??!1)),L9=1e3;function Mme(t){const e=ae.c(19),n=Pp(t.projectPath,t.draftId);let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={listener:!0},e[0]=r):r=e[0];const[a]=Tt(mm(n),"",r);let s;e[1]===Symbol.for("react.memo_cache_sentinel")?(s={listener:!0},e[1]=s):s=e[1];const[i]=Tt(sA(n),null,s),o=Ej(a,L9),c=Ej(i,L9);let u,d;if(e[2]!==c||e[3]!==o){const f=rne(c);let g;e[6]!==o?(g=typeof o=="string"?o.trim().replace(/\s+/g," "):"",e[6]=o,e[7]=g):g=e[7],u=g,d=f.trim().length>0?f.trim():"Draft",e[2]=c,e[3]=o,e[4]=u,e[5]=d}else u=e[4],d=e[5];const m=d;let h;e[8]!==u||e[9]!==t.draftId||e[10]!==t.draftNumber||e[11]!==t.onDelete||e[12]!==t.onOpen||e[13]!==m?(h={draftId:t.draftId,draftNumber:t.draftNumber,title:m,promptPreview:u,onOpen:t.onOpen,onDelete:t.onDelete},e[8]=u,e[9]=t.draftId,e[10]=t.draftNumber,e[11]=t.onDelete,e[12]=t.onOpen,e[13]=m,e[14]=h):h=e[14];let p;return e[15]!==t.isSelected||e[16]!==t.projectPath||e[17]!==h?(p=l.jsx(tL,{variant:"draft",projectPath:t.projectPath,isSelected:t.isSelected,draft:h}),e[15]=t.isSelected,e[16]=t.projectPath,e[17]=h,e[18]=p):p=e[18],p}const Dme=()=>{const t=ae.c(14),e=m5(zme),n=e.isDragging,r=e.item,a=e.currentOffset;let s,i;if(t[0]!==n?(s=()=>{if(!n)return;const g=document.body.style.cursor,x=document.documentElement.style.cursor;return document.body.style.cursor="grabbing",document.documentElement.style.cursor="grabbing",()=>{document.body.style.cursor=g,document.documentElement.style.cursor=x}},i=[n],t[0]=n,t[1]=s,t[2]=i):(s=t[1],i=t[2]),xe.useEffect(s,i),!n||!a||!r?.projectPath||r.type!=="PROJECT")return null;let o;if(t[3]!==r.projectPath){const g=zd.abbreviate(r.projectPath);o=zd.splitAbbreviated(g),t[3]=r.projectPath,t[4]=o}else o=t[4];const{basename:c}=o,u=`translate(${a.x+10}px, ${a.y+10}px)`;let d;t[5]!==u?(d={transform:u},t[5]=u,t[6]=d):d=t[6];let m;t[7]===Symbol.for("react.memo_cache_sentinel")?(m=ce(iL,"w-fit max-w-64 rounded-sm shadow-lg"),t[7]=m):m=t[7];let h;t[8]===Symbol.for("react.memo_cache_sentinel")?(h=l.jsx("span",{className:"text-secondary mr-2 flex h-5 w-5 shrink-0 items-center justify-center",children:l.jsx(na,{size:12})}),t[8]=h):h=t[8];let p;t[9]!==c?(p=l.jsxs("div",{className:m,children:[h,l.jsx("div",{className:"flex min-w-0 flex-1 items-center pr-2",children:l.jsx("span",{className:"text-foreground truncate text-sm font-medium",children:c})})]}),t[9]=c,t[10]=p):p=t[10];let f;return t[11]!==d||t[12]!==p?(f=l.jsx("div",{className:"pointer-events-none fixed inset-0 z-[9999] cursor-grabbing",children:l.jsx("div",{style:d,children:p})}),t[11]=d,t[12]=p,t[13]=f):f=t[13],f};function Lme(){const t=ae.c(2),e=gI(qo);let n;return t[0]!==e?(n=l.jsx(D5,{workspaceId:qo,fallbackModel:e,isCreating:!1}),t[0]=e,t[1]=n):n=t[1],n}const Ome=({collapsed:t,onToggleCollapsed:e,sortedWorkspacesByProject:n,workspaceRecency:r,muxChatProjectPath:a})=>{const{selectedWorkspace:s,setSelectedWorkspace:i,archiveWorkspace:o,removeWorkspace:c,renameWorkspace:u,refreshWorkspaceMetadata:d,pendingNewWorkspaceProject:m,pendingNewWorkspaceDraftId:h,workspaceDraftsByProject:p,workspaceDraftPromotionsByProject:f,createWorkspaceDraft:g,openWorkspaceDraft:x,deleteWorkspaceDraft:y}=DZ(),w=Du(),{navigateToProject:v}=H_(),{projects:k,openProjectCreateModal:C,removeProject:_,getSecrets:S,updateSecrets:T,createSection:N,updateSection:j,removeSection:R,reorderSections:I,assignWorkspaceToSection:A}=Bm(),{theme:$}=Lu(),E=$==="dark"||$.endsWith("-dark")?Xte:Zte,M=768,F=b.useCallback(ye=>{i(ye),window.innerWidth<=M&&!t&&e()},[i,t,e]),L=b.useCallback((ye,Ze)=>{g(ye,Ze),window.innerWidth<=M&&!t&&e()},[g,t,e]),Y=b.useCallback((ye,Ze,qe)=>{x(ye,Ze,qe),window.innerWidth<=M&&!t&&e()},[x,t,e]),O=b.useCallback(()=>{const ye=w.getWorkspaceMetadata(qo);F(ye?{workspaceId:ye.id,projectPath:ye.projectPath,projectName:ye.projectName,namedWorkspacePath:ye.namedWorkspacePath}:{workspaceId:qo,projectPath:"",projectName:"Mux",namedWorkspacePath:""}),ye||d().catch(Ze=>{console.error("Failed to refresh workspace metadata",Ze)})},[F,d,w]),[G,H]=Tt(pA,[]),D=Array.isArray(G)?G:[],[U,B]=Tt("expandedOldWorkspaces",{}),[q,V]=Tt("expandedSections",{}),[Z,W]=b.useState(new Set),[K,J]=b.useState(new Set),ee=Dd(),se=Dd(),[re,ue]=b.useState(null),he=Dd(),ke=Dd(),[je,_e]=b.useState(null),ge=ye=>!ye||typeof ye!="string"?"Unknown":zd.getProjectName(ye),ve=b.useCallback(ye=>{H(Ze=>{const qe=new Set(Array.isArray(Ze)?Ze:[]);return qe.has(ye)?qe.delete(ye):qe.add(ye),Array.from(qe)})},[H]),De=(ye,Ze)=>{const qe=G2(ye,Ze);V(ft=>({...ft,[qe]:!ft[qe]}))},$e=async(ye,Ze)=>{const qe=await N(ye,Ze);if(qe.success){const ft=G2(ye,qe.data.id);V(Et=>({...Et,[ft]:!0}))}},Qe=b.useCallback(async(ye,Ze)=>{W(qe=>new Set(qe).add(ye));try{const qe=await o(ye);if(!qe.success){const ft=qe.error??"Failed to archive chat";let Et;if(Ze){const At=Ze.getBoundingClientRect();Et={top:At.top+window.scrollY,left:At.right+10}}ee.showError(ye,ft,Et)}}finally{W(qe=>{const ft=new Set(qe);return ft.delete(ye),ft})}},[o,ee]),Be=b.useCallback(ye=>{const Ze=w.getAggregator(ye);if(!Ze)return!1;const qe=Ze.getActiveStreams().length>0,ft=Ze.getPendingStreamStartTime()!==null&&!qe,Et=Ze.hasAwaitingUserQuestion();return(qe||ft)&&!Et},[w]),ie=b.useCallback(async(ye,Ze)=>{if(Be(ye)){const qe=w.getWorkspaceMetadata(ye),ft=qe?.title??qe?.name??ye;ue({workspaceId:ye,displayTitle:ft,buttonElement:Ze});return}await Qe(ye,Ze)},[Be,Qe,w]),Te=b.useCallback(async()=>{if(re)try{await Qe(re.workspaceId,re.buttonElement)}finally{ue(null)}},[re,Qe]),Ne=b.useCallback(()=>{ue(null)},[]),Re=b.useCallback(async ye=>{J(Ze=>new Set(Ze).add(ye));try{const Ze=await c(ye,{force:!0});Ze.success||se.showError(ye,Ze.error??"Failed to cancel workspace creation")}finally{J(Ze=>{const qe=new Set(Ze);return qe.delete(ye),qe})}},[c,se]),Le=async(ye,Ze,qe)=>{const ft=await R(ye,Ze);if(!ft.success){const Et=ft.error??"Failed to remove section",At=qe.getBoundingClientRect(),dt={top:At.top+window.scrollY,left:At.right+10};ke.showError(Ze,Et,dt)}},Ae=async ye=>{const Ze=await S(ye);_e({isOpen:!0,projectPath:ye,projectName:ge(ye),secrets:Ze})},bt=async ye=>{je&&await T(je.projectPath,ye)},nt=()=>{_e(null)},[ct,pt]=Tt("mux:projectOrder",[]),be=xe.useMemo(()=>Array.from(k.keys()).sort().join(""),[k]);b.useEffect(()=>{if(k.size===0)return;const ye=hae(ct,k);(ye.length!==ct.length||ye.some((Ze,qe)=>Ze!==ct[qe]))&&pt(ye)},[be]);const We=xe.useMemo(()=>OI(k,ct).map(([ye])=>ye),[be,ct]),He=xe.useMemo(()=>a?We.filter(ye=>ye!==a):We,[We,a]),Je=b.useCallback((ye,Ze)=>{const qe=mae(ct,k,ye,Ze);pt(qe)},[ct,k,pt]);return b.useEffect(()=>{const ye=Ze=>{if(bn(Ze,st.NEW_WORKSPACE)&&s){if(Ze.preventDefault(),s.workspaceId===qo)return;L(s.projectPath)}else bn(Ze,st.ARCHIVE_WORKSPACE)&&s&&(Ze.preventDefault(),ie(s.workspaceId))};return window.addEventListener("keydown",ye),()=>window.removeEventListener("keydown",ye)},[s,L,ie]),l.jsx(ule,{onRenameWorkspace:u,children:l.jsxs(vre,{backend:dae,children:[l.jsx(Dme,{}),l.jsx(_me,{}),l.jsx(Eme,{}),l.jsxs("div",{className:ce("font-primary bg-sidebar border-border-light flex flex-1 flex-col overflow-hidden border-r",$i()&&t&&"border-r-0"),role:"navigation","aria-label":"Projects",children:[!t&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"border-dark flex items-center justify-between border-b py-3 pr-3 pl-4",children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[l.jsx("button",{onClick:O,className:"shrink-0 cursor-pointer border-none bg-transparent p-0","aria-label":"Open Chat with Mux",children:l.jsx(E,{className:"h-5 w-[44px]","aria-hidden":"true"})}),a&&l.jsxs(l.Fragment,{children:[l.jsx($me,{onClick:O,isSelected:s?.workspaceId===qo}),l.jsx(Lme,{})]})]}),l.jsxs("button",{onClick:C,"aria-label":"Add project",className:"text-secondary hover:bg-hover hover:border-border-light flex h-6 shrink-0 cursor-pointer items-center gap-1 rounded border border-transparent bg-transparent px-1.5 text-xs transition-all duration-200",children:[l.jsx("span",{className:"text-base leading-none",children:"+"}),l.jsx("span",{children:"New Project"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:He.length===0?l.jsxs("div",{className:"px-4 py-8 text-center",children:[l.jsx("p",{className:"text-muted mb-4 text-[13px]",children:"No projects"}),l.jsx("button",{onClick:C,className:"bg-accent hover:bg-accent-dark cursor-pointer rounded border-none px-4 py-2 text-[13px] text-white transition-colors duration-200",children:"Add Project"})]}):He.map(ye=>{const Ze=k.get(ye);if(!Ze)return null;const qe=ge(ye),Et=`workspace-list-${ye.replace(/[^a-zA-Z0-9_-]/g,"-")||"root"}`,At=D.includes(ye);return l.jsxs("div",{className:"border-hover border-b",children:[l.jsxs(Rme,{projectPath:ye,onReorder:Je,selected:!1,onClick:()=>L(ye),onKeyDown:dt=>{dt.target instanceof HTMLElement&&dt.target!==dt.currentTarget||(dt.key==="Enter"||dt.key===" ")&&(dt.preventDefault(),L(ye))},role:"button",tabIndex:0,"aria-expanded":At,"aria-controls":Et,"aria-label":`Create workspace in ${qe}`,"data-project-path":ye,children:[l.jsx("button",{onClick:dt=>{dt.stopPropagation(),ve(ye)},"aria-label":`${At?"Collapse":"Expand"} project ${qe}`,"data-project-path":ye,className:"text-secondary hover:bg-hover hover:border-border-light mr-1.5 flex h-5 w-5 shrink-0 cursor-pointer items-center justify-center rounded border border-transparent bg-transparent p-0 transition-all duration-200",children:l.jsx(na,{size:12,className:"transition-transform duration-200",style:{transform:At?"rotate(90deg)":"rotate(0deg)"}})}),l.jsx("div",{className:"flex min-w-0 flex-1 items-center pr-2",children:l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("div",{className:"text-muted-dark flex gap-2 truncate text-sm",children:(()=>{const dt=zd.abbreviate(ye),{basename:Mt}=zd.splitAbbreviated(dt);return l.jsx("span",{className:"text-foreground truncate font-medium",children:Mt})})()})}),l.jsx(Ke,{align:"start",children:ye})]})}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:dt=>{dt.stopPropagation(),Ae(ye)},"aria-label":`Manage secrets for ${qe}`,"data-project-path":ye,className:"text-muted-dark mr-1 flex h-5 w-5 shrink-0 cursor-pointer items-center justify-center rounded-[3px] border-none bg-transparent text-sm opacity-0 transition-all duration-200 hover:bg-yellow-500/10 hover:text-yellow-500",children:l.jsx(Dee,{size:12})})}),l.jsx(Ke,{align:"end",children:"Manage secrets"})]}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:dt=>{dt.stopPropagation();const Mt=dt.currentTarget;(async()=>{const Gt=await _(ye);if(!Gt.success){const tn=Gt.error??"Failed to remove project",It=Mt.getBoundingClientRect(),zt={top:It.top+window.scrollY,left:It.right+10};he.showError(ye,tn,zt)}})()},"aria-label":`Remove project ${qe}`,"data-project-path":ye,className:"text-muted-dark hover:text-danger-light hover:bg-danger-light/10 mr-1 flex h-5 w-5 shrink-0 cursor-pointer items-center justify-center rounded-[3px] border-none bg-transparent text-base opacity-0 transition-all duration-200",children:""})}),l.jsx(Ke,{align:"end",children:"Remove project"})]}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:dt=>{dt.stopPropagation(),L(ye)},"aria-label":`New chat in ${qe}`,"data-project-path":ye,className:"text-secondary hover:bg-hover hover:border-border-light flex h-5 w-5 shrink-0 cursor-pointer items-center justify-center rounded border border-transparent bg-transparent text-sm leading-none transition-all duration-200",children:"+"})}),l.jsxs(Ke,{children:["New chat (",Bt(st.NEW_WORKSPACE),")"]})]})]}),At&&l.jsx("div",{id:Et,role:"region","aria-label":`Workspaces for ${qe}`,className:"pt-1",children:(()=>{const dt=n.get(ye)??[],Mt=p[ye]??[],Gt=new Set(Mt.map(we=>we.draftId)),tn=f[ye]??{},It=Object.fromEntries(Object.entries(tn).filter(([we])=>Gt.has(we))),zt=new Set(Object.values(It).map(we=>we.id)),Vt=dt.filter(we=>!zt.has(we.id)),qt=pae(Ze.sections??[]),Pt=gae(dt),et=Mt.slice().sort((we,it)=>it.createdAt-we.createdAt),rt=new Map(et.map((we,it)=>[we.draftId,it+1])),jt=new Set(qt.map(we=>we.id)),ze=we=>typeof we.sectionId=="string"&&jt.has(we.sectionId)?we.sectionId:null,Ve=[],$t=new Map;for(const we of et){const it=ze(we);if(it===null){Ve.push(we);continue}const Pe=$t.get(it);Pe?Pe.push(we):$t.set(it,[we])}const Wt=(we,it)=>l.jsx(tL,{metadata:we,projectPath:ye,projectName:qe,isSelected:s?.workspaceId===we.id,isArchiving:Z.has(we.id),isRemoving:K.has(we.id)||we.isRemoving===!0,onSelectWorkspace:F,onArchiveWorkspace:ie,onCancelCreation:Re,depth:Pt[we.id]??0,sectionId:it},we.id),sn=we=>{const it=ze(we),Pe=It[we.draftId];if(Pe){const Ot=dt.find(yn=>yn.id===Pe.id)??Pe;return Wt(Ot,it??void 0)}const yt=rt.get(we.draftId)??0,lt=m===ye&&h===we.draftId;return l.jsx(Mme,{projectPath:ye,draftId:we.draftId,draftNumber:yt,isSelected:lt,onOpen:()=>Y(ye,we.draftId,it),onDelete:()=>{if(lt){const Ot=et.findIndex(Zn=>Zn.draftId===we.draftId),yn=Ot>=0?et[Ot+1]??et[Ot-1]:void 0;yn?x(ye,yn.draftId,ze(yn)):v(ye,it??void 0)}y(ye,we.draftId)}},we.draftId)},En=(we,it,Pe)=>{const{recent:yt,buckets:lt}=wae(we,r),Ot=Zn=>{const Cn=lt[Zn],ua=lt.slice(Zn).reduce((vr,jc)=>vr+jc.length,0);if(ua===0)return null;const fr=`${it}:${Zn}`,ga=U[fr]??!1,ui=Dg[Zn],di=yae(ui),wl=ga?Cn.length:ua;return l.jsxs(xe.Fragment,{children:[l.jsxs("button",{onClick:()=>{B(vr=>({...vr,[fr]:!vr[fr]}))},"aria-label":ga?`Collapse workspaces older than ${di}`:`Expand workspaces older than ${di}`,"aria-expanded":ga,className:"text-muted border-hover hover:text-label [&:hover_.arrow]:text-label flex w-full cursor-pointer items-center justify-between border-t border-none bg-transparent px-3 py-2 pl-[22px] text-xs font-medium transition-all duration-150 hover:bg-white/[0.03]",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsxs("span",{children:["Older than ",di]}),l.jsxs("span",{className:"text-dim font-normal",children:["(",wl,")"]})]}),l.jsx("span",{className:"arrow text-dim text-[11px] transition-transform duration-200 ease-in-out",style:{transform:ga?"rotate(90deg)":"rotate(0deg)"},children:l.jsx(na,{size:12})})]}),ga&&l.jsxs(l.Fragment,{children:[Cn.map(vr=>Wt(vr,Pe)),(()=>{const vr=Wj(lt,Zn+1);return vr!==-1?Ot(vr):null})()]})]},fr)},yn=Wj(lt,0);return l.jsxs(l.Fragment,{children:[yt.map(Zn=>Wt(Zn,Pe)),yn!==-1&&Ot(yn)]})},{unsectioned:ot,bySectionId:Ue}=vae(Vt,qt),Se=(we,it)=>{(async()=>(await A(ye,we,it)).success&&await d())()},le=(we,it)=>{(async()=>{const Pe=qt.map(yn=>yn.id),yt=Pe.indexOf(we),lt=Pe.indexOf(it);if(yt===-1||lt===-1)return;const Ot=[...Pe];Ot.splice(yt,1),Ot.splice(lt,0,we),await I(ye,Ot)})()},Ie=we=>{const it=Ue.get(we.id)??[],Pe=$t.get(we.id)??[],yt=G2(ye,we.id),lt=q[yt]??!0;return l.jsx(Sme,{sectionId:we.id,sectionName:we.name,projectPath:ye,onReorder:le,children:l.jsxs(u9,{projectPath:ye,sectionId:we.id,onDrop:Se,children:[l.jsx(vme,{section:we,isExpanded:lt,workspaceCount:it.length+Pe.length,onToggleExpand:()=>De(ye,we.id),onAddWorkspace:()=>{L(ye,we.id)},onRename:Ot=>{j(ye,we.id,{name:Ot})},onChangeColor:Ot=>{j(ye,we.id,{color:Ot})},onDelete:Ot=>{Le(ye,we.id,Ot.currentTarget)}}),lt&&l.jsxs("div",{className:"pb-1",children:[Pe.map(Ot=>sn(Ot)),it.length>0?En(it,kae(ye,we.id,0).replace(":tier:0",":tier"),we.id):Pe.length===0?l.jsx("div",{className:"text-muted px-3 py-2 text-center text-xs italic",children:"No workspaces in this section"}):null]})]})},we.id)};return l.jsxs(l.Fragment,{children:[qt.length>0?l.jsxs(u9,{projectPath:ye,sectionId:null,onDrop:Se,testId:"unsectioned-drop-zone",children:[Ve.map(we=>sn(we)),ot.length>0?En(ot,Uj(ye,0).replace(":0","")):Ve.length===0?l.jsx("div",{className:"text-muted px-3 py-2 text-center text-xs italic",children:"No unsectioned workspaces"}):null]}):l.jsxs(l.Fragment,{children:[Ve.map(we=>sn(we)),ot.length>0&&En(ot,Uj(ye,0).replace(":0",""))]}),qt.map(Ie),l.jsx(kme,{onCreateSection:we=>{$e(ye,we)}})]})})()})]},ye)})})]}),l.jsx(R3,{collapsed:t,onToggle:e,side:"left",shortcut:Bt(st.TOGGLE_SIDEBAR)}),je&&l.jsx(cle,{isOpen:je.isOpen,projectPath:je.projectPath,projectName:je.projectName,initialSecrets:je.secrets,onClose:nt,onSave:bt}),l.jsx(kR,{isOpen:re!==null,title:re?`Archive "${re.displayTitle}" while streaming?`:"Archive chat?",description:"This workspace is currently streaming a response.",warning:"Archiving will interrupt the active stream.",confirmLabel:"Archive",onConfirm:Te,onCancel:Ne}),l.jsx(Vc,{error:ee.error,prefix:"Failed to archive chat",onDismiss:ee.clearError}),l.jsx(Vc,{error:se.error,prefix:"Failed to cancel workspace creation",onDismiss:se.clearError}),l.jsx(Vc,{error:he.error,prefix:"Failed to remove project",onDismiss:he.clearError}),l.jsx(Vc,{error:ke.error,prefix:"Failed to remove section",onDismiss:ke.clearError})]})]})})},Pme=xe.memo(Ome);function Fme(t){return{isDragging:t.isDragging()}}function Bme(t){return{isOver:t.isOver({shallow:!0})}}function zme(t){return{isDragging:t.isDragging(),item:t.getItem(),currentOffset:t.getClientOffset()}}const Hme={git_describe:"v0.17.5-1-g08b959b",buildTime:"2026-02-12T21:18:03Z"},oL=b.createContext(null);function as(){const t=b.useContext(oL);if(!t)throw new Error("useSettings must be used within SettingsProvider");return t}const qme="general";function Ume(t){const e=ae.c(10),[n,r]=b.useState(!1),[a,s]=b.useState(qme),[i,o]=b.useState(null);let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=y=>{s(y),y!=="providers"&&o(null)},e[0]=c):c=e[0];const u=c;let d;e[1]===Symbol.for("react.memo_cache_sentinel")?(d=(y,w)=>{y&&u(y),y==="providers"&&o(w?.expandProvider??null),r(!0)},e[1]=d):d=e[1];const m=d;let h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{r(!1),o(null)},e[2]=h):h=e[2];const p=h;let f;e[3]!==a||e[4]!==n||e[5]!==i?(f={isOpen:n,activeSection:a,open:m,close:p,setActiveSection:u,providersExpandedProvider:i,setProvidersExpandedProvider:o},e[3]=a,e[4]=n,e[5]=i,e[6]=f):f=e[6];const g=f;let x;return e[7]!==t.children||e[8]!==g?(x=l.jsx(oL.Provider,{value:g,children:t.children}),e[7]=t.children,e[8]=g,e[9]=x):x=e[9],x}function Wme(){const t=ae.c(8),{open:e}=as();let n;t[0]!==e?(n=()=>e(),t[0]=e,t[1]=n):n=t[1];let r;t[2]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx(Hm,{className:"h-3.5 w-3.5","aria-hidden":!0}),t[2]=r):r=t[2];let a;t[3]!==n?(a=l.jsx(Xe,{asChild:!0,children:l.jsx(tt,{variant:"ghost",size:"icon",onClick:n,className:"border-border-light text-muted-foreground hover:border-border-medium/80 hover:bg-toggle-bg/70 h-5 w-5 border","aria-label":"Open settings","data-testid":"settings-button",children:r})}),t[3]=n,t[4]=a):a=t[4];let s;t[5]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsxs(Ke,{children:["Open settings (",Bt(st.OPEN_SETTINGS),")"]}),t[5]=s):s=t[5];let i;return t[6]!==a?(i=l.jsxs(Ye,{children:[a,s]}),t[6]=a,t[7]=i):i=t[7],i}function rC(t){return t==null?"":jx(t/1e6)}function aC(){const{api:t}=Kt(),[e,n]=b.useState(null),[r,a]=b.useState(null),[s,i]=b.useState(!1),o=b.useCallback(async()=>{if(t){i(!0),a(null);try{const c=await t.muxGateway.getAccountStatus();if(c.success){n(c.data);return}if(c.error===EA){rn(YX,!1),window.dispatchEvent(_i(Rn.MUX_GATEWAY_SESSION_EXPIRED)),n(null),a(null);return}a(c.error)}catch(c){const u=c instanceof Error?c.message:String(c);a(u)}finally{i(!1)}}},[t]);return{data:e,error:r,isLoading:s,refresh:o}}const Gme=14400*1e3,Vme=60*1e3;function Kme(t){return!(typeof t!="object"||t===null)}function Yme(t){return new Date(t).toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:"short"})}function Xme(t){if(Kme(t)){const{buildTime:e,git_describe:n}=t,r=typeof n=="string"?n:void 0;return{extendedTimestamp:Yme(e),gitDescribe:r}}return{extendedTimestamp:"Unknown build time",gitDescribe:void 0}}function Zme(){const{api:t}=Kt(),n=Oi().status.state==="enforced",{open:r}=as(),a=$f(),{data:s,error:i,refresh:o}=aC(),{extendedTimestamp:c,gitDescribe:u}=Xme(Hme),[d,m]=b.useState({type:"idle"}),[h,p]=b.useState(!1),f=b.useRef(0);b.useEffect(()=>{if(!window.api||!t)return;const _=new AbortController,{signal:S}=_;(async()=>{try{const N=await t.update.onStatus(void 0,{signal:S});for await(const j of N){if(S.aborted)break;m(j),p(!1)}}catch(N){S.aborted||console.error("Update status stream error:",N)}})(),t.update.check(void 0).catch(console.error);const T=setInterval(()=>{t.update.check(void 0).catch(console.error)},Gme);return()=>{_.abort(),clearInterval(T)}},[t]);const g=()=>{if(!window.api)return;const _=Date.now();_-f.current<Vme||(d.type==="idle"||d.type==="up-to-date")&&!h&&(f.current=_,p(!0),t?.update.check().catch(S=>{console.error("Update check failed:",S),p(!1)}))},x=()=>{window.api&&(d.type==="available"?t?.update.download().catch(console.error):d.type==="downloaded"&&t?.update.install())},y=()=>{const S=[`Current: ${u??"dev"}`,`Built: ${c}`];if(!window.api)S.push("Desktop updates are available in the Electron app only.");else if(h||d.type==="checking")S.push("Checking for updates...");else switch(d.type){case"available":S.push(`Update available: ${d.info.version}`,"Click to download.");break;case"downloading":S.push(`Downloading update: ${d.percent}%`);break;case"downloaded":S.push(`Update ready: ${d.info.version}`,"Click to install and restart.");break;case"idle":S.push("Hover to check for updates");break;case"up-to-date":S.push("Up to date");break;case"error":S.push("Update check failed",d.message);break}return S.push(l.jsx("a",{href:"https://github.com/coder/mux/releases",target:"_blank",rel:"noopener noreferrer",children:"View all releases"})),l.jsx(l.Fragment,{children:S.map((T,N)=>l.jsxs(xe.Fragment,{children:[N>0&&l.jsx("br",{}),T]},N))})},w=d.type==="available"?l.jsx(Ix,{className:"size-3.5"}):d.type==="downloaded"?l.jsx(Xo,{className:"size-3.5"}):d.type==="downloading"||d.type==="checking"||h?l.jsx(pn,{className:"size-3.5 animate-spin"}):null,v=d.type==="available"||d.type==="downloaded",k=LZ(),C=$i();return l.jsxs("div",{className:ce("bg-sidebar border-border-light font-primary text-muted flex shrink-0 items-center justify-between border-b px-4 text-[11px] select-none",C?NA:"h-8",C&&"titlebar-drag"),style:k>0?{paddingLeft:k}:void 0,children:[l.jsx("div",{className:ce("mr-4 flex min-w-0 flex-1",k>0?"flex-col":"items-center gap-2",C&&"titlebar-no-drag"),children:l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsxs("div",{className:ce("flex min-w-0 max-w-full items-center gap-1.5",v?"cursor-pointer hover:opacity-70":"cursor-default"),onClick:x,onMouseEnter:g,children:[l.jsx("div",{className:ce("min-w-0 flex-1 cursor-text truncate font-normal tracking-wider select-text",k>0?"text-[10px]":"text-xs"),children:u??"(dev)"}),w&&l.jsx("div",{className:"text-accent flex h-3.5 w-3.5 items-center justify-center",children:w})]})}),l.jsx(Ke,{align:"start",className:"pointer-events-auto",children:y()})]})}),l.jsxs("div",{className:ce("flex shrink-0 items-center gap-1.5",C&&"titlebar-no-drag"),children:[a.isActive&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",onClick:()=>r("providers",{expandProvider:"mux-gateway"}),onMouseEnter:()=>{o()},className:"border-border-light text-muted-foreground hover:border-border-medium/80 hover:bg-toggle-bg/70 flex h-5 w-5 cursor-pointer items-center justify-center rounded border transition-opacity hover:opacity-70","aria-label":"Mux Gateway",children:l.jsx(Zp,{className:"h-3.5 w-3.5","aria-hidden":!0})})}),l.jsxs(Ke,{align:"end",className:"w-56",children:[l.jsx("div",{className:"text-foreground text-[11px] font-medium",children:"Mux Gateway"}),l.jsxs("div",{className:"mt-1.5 space-y-0.5 text-[11px]",children:[l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx("span",{className:"text-muted",children:"Balance"}),l.jsx("span",{className:"text-foreground font-mono",children:rC(s?.remaining_microdollars)})]}),l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx("span",{className:"text-muted",children:"Concurrent requests"}),l.jsx("span",{className:"text-foreground font-mono",children:s?.ai_gateway_concurrent_requests_per_user??""})]})]}),i&&l.jsx("div",{className:"text-destructive mt-1.5 text-[10px]",children:i}),l.jsx("div",{className:"text-muted border-separator-light mt-2 border-t pt-1.5 text-[10px]",children:"Click to open gateway settings"})]})]}),n&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("div",{role:"img","aria-label":"Settings controlled by policy",className:"border-border-light text-muted-foreground hover:border-border-medium/80 hover:bg-toggle-bg/70 flex h-5 w-5 items-center justify-center rounded border",children:l.jsx(qm,{className:"h-3.5 w-3.5","aria-hidden":!0})})}),l.jsx(Ke,{align:"end",children:"Your settings are controlled by a policy."})]}),l.jsx(Wme,{})]})]})}function Qme(t){const e=ae.c(39);let n,r,a,s,i,o;e[0]!==t?({collapsed:n,onToggleCollapsed:s,widthPx:o,isResizing:r,onStartResize:a,...i}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=s,e[5]=i,e[6]=o):(n=e[1],r=e[2],a=e[3],s=e[4],i=e[5],o=e[6]);let c;e[7]===Symbol.for("react.memo_cache_sentinel")?(c=$i(),e[7]=c):c=e[7];const u=c;let d;e[8]===Symbol.for("react.memo_cache_sentinel")?(d=typeof window<"u"&&window.matchMedia("(max-width: 768px) and (pointer: coarse)").matches,e[8]=d):d=e[8];const m=d,h=n?"20px":`${o??288}px`,p=n&&"!hidden";let f;e[9]!==p?(f=ce("hidden mobile-overlay fixed inset-0 bg-black/50 z-40 backdrop-blur-sm",p),e[9]=p,e[10]=f):f=e[10];let g;e[11]!==s||e[12]!==f?(g=l.jsx("div",{className:f,onClick:s}),e[11]=s,e[12]=f,e[13]=g):g=e[13];const x=!r&&"transition-[width] duration-200",y=n&&"mobile-sidebar-collapsed",w=u&&n&&"border-r-0 after:absolute after:right-0 after:top-8 after:bottom-0 after:w-px after:bg-border";let v;e[14]!==x||e[15]!==y||e[16]!==w?(v=ce("h-full bg-sidebar border-r border-border flex flex-col shrink-0 overflow-hidden relative z-20",x,"mobile-sidebar",y,w),e[14]=x,e[15]=y,e[16]=w,e[17]=v):v=e[17];let k;e[18]!==h?(k={width:h},e[18]=h,e[19]=k):k=e[19];let C;e[20]!==n?(C=!n&&l.jsx(Zme,{}),e[20]=n,e[21]=C):C=e[21];let _;e[22]!==n||e[23]!==s||e[24]!==i?(_=l.jsx(Pme,{...i,collapsed:n,onToggleCollapsed:s}),e[22]=n,e[23]=s,e[24]=i,e[25]=_):_=e[25];let S;e[26]!==n||e[27]!==r||e[28]!==a?(S=!n&&!m&&a&&l.jsx("div",{"data-testid":"left-sidebar-resize-handle",className:ce("absolute right-0 top-0 bottom-0 w-0.5 z-10 cursor-col-resize transition-[background] duration-150",r?"bg-accent":"bg-border-light hover:bg-accent"),onMouseDown:j=>a(j)}),e[26]=n,e[27]=r,e[28]=a,e[29]=S):S=e[29];let T;e[30]!==C||e[31]!==_||e[32]!==S||e[33]!==v||e[34]!==k?(T=l.jsxs("div",{"data-testid":"left-sidebar",className:v,style:k,children:[C,_,S]}),e[30]=C,e[31]=_,e[32]=S,e[33]=v,e[34]=k,e[35]=T):T=e[35];let N;return e[36]!==T||e[37]!==g?(N=l.jsxs(l.Fragment,{children:[g,T]}),e[36]=T,e[37]=g,e[38]=N):N=e[38],N}const xr=b.forwardRef((t,e)=>{const n=ae.c(11);let r,a,s;n[0]!==t?({className:r,type:s,...a}=t,n[0]=t,n[1]=r,n[2]=a,n[3]=s):(r=n[1],a=n[2],s=n[3]);let i;n[4]!==r?(i=ce("border-input placeholder:text-muted focus-visible:ring-ring flex h-10 w-full rounded-md border bg-transparent px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:ring-1 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",r),n[4]=r,n[5]=i):i=n[5];let o;return n[6]!==a||n[7]!==e||n[8]!==i||n[9]!==s?(o=l.jsx("input",{type:s,className:i,ref:e,...a}),n[6]=a,n[7]=e,n[8]=i,n[9]=s,n[10]=o):o=n[10],o});xr.displayName="Input";const Jme=t=>{const e=ae.c(30),{currentPath:n,entries:r,isLoading:a,onNavigateTo:s,onNavigateParent:i,onConfirm:o,selectedIndex:c,onSelectedIndexChange:u}=t,d=a===void 0?!1:a,m=r.length>0,h=b.useRef(null),p=b.useRef(null),[f,g]=b.useState(""),x=b.useRef(null),y=(n?1:0)+r.length;let w;e[0]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{h.current&&(h.current.scrollTop=0)},e[0]=w):w=e[0];let v;e[1]!==n?(v=[n],e[1]=n,e[2]=v):v=e[2],b.useEffect(w,v);let k;e[3]===Symbol.for("react.memo_cache_sentinel")?(k=()=>{p.current&&p.current.scrollIntoView({block:"nearest"})},e[3]=k):k=e[3];let C;e[4]!==c?(C=[c],e[4]=c,e[5]=C):C=e[5],b.useEffect(k,C);let _;e[6]===Symbol.for("react.memo_cache_sentinel")?(_=()=>{x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{g("")},500)},e[6]=_):_=e[6];const S=_;let T;e[7]!==n||e[8]!==r||e[9]!==o||e[10]!==i||e[11]!==s||e[12]!==u||e[13]!==c||e[14]!==y||e[15]!==f?(T=$=>{if($.key.length===1&&!$.ctrlKey&&!$.metaKey&&!$.altKey){const E=f+$.key.toLowerCase();g(E),S();const M=r.findIndex(F=>F.name.toLowerCase().startsWith(E));if(M!==-1){const F=n?M+1:M;u(F)}$.preventDefault();return}e:switch($.key){case"ArrowUp":{$.preventDefault(),y>0&&u(c<=0?y-1:c-1);break e}case"ArrowDown":{$.preventDefault(),y>0&&u(c>=y-1?0:c+1);break e}case"Enter":{if($.preventDefault(),c===0&&n)i();else if(r.length>0){const E=n?c-1:c;E>=0&&E<r.length&&s(r[E].path)}break e}case"Backspace":{$.preventDefault(),n&&i();break e}case"o":($.ctrlKey||$.metaKey)&&($.preventDefault(),o())}},e[7]=n,e[8]=r,e[9]=o,e[10]=i,e[11]=s,e[12]=u,e[13]=c,e[14]=y,e[15]=f,e[16]=T):T=e[16];const N=T;let j;e[17]!==c?(j=$=>c===$,e[17]=c,e[18]=j):j=e[18];const R=j;let I;e[19]!==n||e[20]!==r||e[21]!==m||e[22]!==d||e[23]!==R||e[24]!==i||e[25]!==s?(I=d&&!n?l.jsx("div",{className:"text-muted py-4 text-center",children:"Loading directories..."}):l.jsxs("ul",{className:"m-0 list-none p-0",children:[n&&l.jsxs("li",{ref:R(0)?p:null,className:`text-muted flex cursor-pointer items-center gap-2 rounded px-2 py-1.5 ${R(0)?"bg-white/10":"hover:bg-white/5"}`,onClick:i,children:[l.jsx(_ee,{size:16,className:"text-muted shrink-0"}),l.jsx("span",{children:".."})]}),!d&&!m?l.jsx("li",{className:"text-muted px-2 py-1.5",children:"No subdirectories found"}):null,r.map(($,E)=>{const M=n?E+1:E;return l.jsxs("li",{ref:R(M)?p:null,className:`flex cursor-pointer items-center gap-2 rounded px-2 py-1.5 ${R(M)?"bg-white/10":"hover:bg-white/5"}`,onClick:()=>s($.path),children:[l.jsx(See,{size:16,className:"shrink-0 text-yellow-500/80"}),l.jsx("span",{className:"truncate",children:$.name})]},$.path)}),d&&n&&!m?l.jsx("li",{className:"text-muted px-2 py-1.5",children:"Loading directories..."}):null]}),e[19]=n,e[20]=r,e[21]=m,e[22]=d,e[23]=R,e[24]=i,e[25]=s,e[26]=I):I=e[26];let A;return e[27]!==N||e[28]!==I?(A=l.jsx("div",{ref:h,className:"h-full overflow-y-auto p-2 text-sm outline-none",tabIndex:0,onKeyDown:N,children:I}),e[27]=N,e[28]=I,e[29]=A):A=e[29],A},ehe={key:"o",ctrl:!0},the=({isOpen:t,initialPath:e,onClose:n,onSelectPath:r})=>{const{api:a}=Kt(),[s,i]=b.useState(null),[o,c]=b.useState(!1),[u,d]=b.useState(null),[m,h]=b.useState(!1),[p,f]=b.useState(e||""),[g,x]=b.useState(!1),[y,w]=b.useState(0),v=b.useRef(null),k=b.useCallback(async A=>{if(!a){d("Not connected to server");return}c(!0),d(null),h(!1);try{const $=await a.general.listDirectory({path:A});if(!$.success){const E=typeof $.error=="string"?$.error:"Unknown error";E.includes("ENOENT")||E.includes("no such file or directory")?(h(!0),d("Folder doesn't exist.")):d(`Failed to load directory: ${E}`),i(null);return}i($.data),f($.data.path),w(0)}catch($){const E=$ instanceof Error?$.message:String($);d(`Failed to load directory: ${E}`),i(null)}finally{c(!1)}},[a]);b.useEffect(()=>{t&&(f(e||""),x(!1),k(e||"."))},[t,e,k]);const C=b.useCallback(A=>{k(A)},[k]),_=b.useCallback(()=>{s&&k(`${s.path}/..`)},[k,s]),S=b.useCallback(async()=>{const A=p.trim();if(A&&A!==s?.path){if(!a)return;c(!0),d(null),h(!1);try{const $=await a.general.listDirectory({path:A});if(!$.success){const E=typeof $.error=="string"?$.error:"Unknown error";E.includes("ENOENT")||E.includes("no such file or directory")?(h(!0),d("Folder doesn't exist.")):d(`Failed to load directory: ${E}`),i(null);return}r($.data.path),n()}catch($){const E=$ instanceof Error?$.message:String($);d(`Failed to load directory: ${E}`),i(null)}finally{c(!1)}return}s&&(r(s.path),n())},[n,r,s,p,a]),T=b.useCallback(async()=>{const A=p.trim();if(!(!A||!a)){c(!0),d(null);try{const $=await a.general.createDirectory({path:A});if(!$.success){d($.error??"Failed to create folder"),h(!1);return}h(!1),k($.data.normalizedPath)}catch($){const E=$ instanceof Error?$.message:"An unexpected error occurred";d(`Failed to create folder: ${E}`),h(!1)}finally{c(!1)}}},[p,a,k]),N=b.useCallback(A=>{!A&&!o&&n()},[o,n]),j=b.useCallback(A=>{if(A.key==="Enter")A.preventDefault(),k(p);else if(A.key==="ArrowDown"){A.preventDefault();const $=v.current?.querySelector("[tabindex]");$ instanceof HTMLElement&&$.focus()}else(A.ctrlKey||A.metaKey)&&A.key==="o"&&(A.preventDefault(),!o&&s&&S())},[p,k,S,o,s]),R=s?.children.filter(A=>A.isDirectory).filter(A=>g||!A.name.startsWith(".")).map(A=>({name:A.name,path:A.path}))??[],I=KA()?"O":Bt(ehe);return l.jsx(sa,{open:t,onOpenChange:N,children:l.jsxs(ia,{showCloseButton:!1,children:[l.jsxs(Sa,{children:[l.jsx(oa,{children:"Select Project Directory"}),l.jsx(ml,{children:"Navigate to select a directory for your project"})]}),l.jsx("div",{className:"mb-3",children:l.jsx(xr,{value:p,onChange:A=>{f(A.target.value),h(!1)},onKeyDown:j,placeholder:"Enter path...",className:"bg-modal-bg border-border-medium h-9 font-mono text-sm"})}),l.jsx("div",{className:"mb-3 flex items-center",children:l.jsxs("label",{className:"text-muted-foreground flex cursor-pointer items-center gap-2 text-xs",children:[l.jsx(Wo,{checked:g,onCheckedChange:A=>{const $=A===!0;x($),w(E=>{if(!s)return 0;const M=!!s.path;if(M&&E===0)return 0;const F=s.children.filter(H=>H.isDirectory).filter(H=>g||!H.name.startsWith(".")),L=M?E-1:E,Y=F[L]?.path,O=s.children.filter(H=>H.isDirectory).filter(H=>$||!H.name.startsWith("."));if(Y){const H=O.findIndex(D=>D.path===Y);if(H!==-1)return M?H+1:H}const G=M?O.length:Math.max(O.length-1,0);return Math.max(0,Math.min(E,G))})}}),"Show hidden files"]})}),u&&l.jsxs("div",{className:"mb-3 flex items-center gap-2 text-xs",children:[l.jsx("span",{className:m?"text-muted":"text-error",children:u}),m&&l.jsx(tt,{size:"sm",onClick:()=>void T(),disabled:o,className:"h-6 px-2 py-0 text-xs",children:"Create Folder"})]}),l.jsx("div",{ref:v,className:"bg-modal-bg border-border-medium mb-4 h-80 overflow-hidden rounded border",children:l.jsx(Jme,{currentPath:s?s.path:null,entries:R,isLoading:o,onNavigateTo:C,onNavigateParent:_,onConfirm:()=>void S(),selectedIndex:y,onSelectedIndexChange:w})}),l.jsxs(Li,{children:[l.jsx(tt,{variant:"secondary",onClick:n,disabled:o,children:"Cancel"}),l.jsxs(tt,{onClick:()=>void S(),disabled:o||!s,title:`Open folder (${I})`,children:["Open (",I,")"]})]})]})})},sC=xe.forwardRef(function({onSuccess:e,onClose:n,showCancelButton:r=!1,autoFocus:a=!1,onIsCreatingChange:s,submitLabel:i="Add Project",placeholder:o=window.api?.platform==="win32"?"C:\\Users\\user\\projects\\my-project":"/home/user/projects/my-project",hideFooter:c=!1},u){const{api:d}=Kt(),[m,h]=b.useState(""),[p,f]=b.useState(""),g=!!window.api,x=!g,[y,w]=b.useState(!1),[v,k]=b.useState(!1),C=b.useCallback(A=>{w(A),s?.(A)},[s]),_=b.useCallback(()=>{h(""),f("")},[]),S=b.useCallback(()=>{_(),n?.()},[n,_]),T=b.useCallback(A=>{h(A),f("")},[]),N=b.useCallback(async()=>{try{const A=await d?.projects.pickDirectory();A&&(h(A),f(""))}catch(A){console.error("Failed to pick directory:",A)}},[d]),j=b.useCallback(async()=>{const A=m.trim();if(!A)return f("Please enter a project name or path"),!1;if(y)return!1;if(f(""),!d)return f("Not connected to server"),!1;C(!0);try{const $=await d.projects.list(),E=new Map($),M=await d.projects.create({projectPath:A});if(M.success){const{normalizedPath:L,projectConfig:Y}=M.data;return E.has(L)?(f("This project has already been added."),!1):(e(L,Y),_(),n?.(),!0)}const F=typeof M.error=="string"?M.error:"Failed to add project";return f(F),!1}catch($){const E=$ instanceof Error?$.message:"An unexpected error occurred";return f(`Failed to add project: ${E}`),!1}finally{C(!1)}},[d,y,n,e,m,_,C]),R=b.useCallback(()=>{g?N():x&&k(!0)},[N,x,g]),I=b.useCallback(A=>{A.key==="Enter"&&(A.preventDefault(),j())},[j]);return b.useImperativeHandle(u,()=>({submit:j,getTrimmedPath:()=>m.trim()}),[j,m]),l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-1 flex gap-2",children:[l.jsx("input",{type:"text",value:m,onChange:A=>{h(A.target.value),f("")},onKeyDown:I,placeholder:o,autoFocus:a,disabled:y,className:"border-border-medium bg-modal-bg text-foreground placeholder:text-muted focus:border-accent min-w-0 flex-1 rounded border px-3 py-2 font-mono text-sm focus:outline-none disabled:opacity-50"}),(g||x)&&l.jsx(tt,{variant:"outline",onClick:R,disabled:y,className:"shrink-0",children:"Browse"})]}),p&&l.jsx("p",{className:"text-error text-xs",children:p}),!c&&l.jsxs(Li,{children:[r&&l.jsx(tt,{variant:"secondary",onClick:S,disabled:y,children:"Cancel"}),l.jsx(tt,{onClick:()=>void j(),disabled:y,children:y?"Adding...":i})]}),l.jsx(the,{isOpen:v,initialPath:m||"~",onClose:()=>k(!1),onSelectPath:T})]})});sC.displayName="ProjectCreateForm";const nhe=t=>{const e=ae.c(11),{isOpen:n,onClose:r,onSuccess:a}=t,[s,i]=b.useState(!1);let o;e[0]!==s||e[1]!==r?(o=h=>{!h&&!s&&r()},e[0]=s,e[1]=r,e[2]=o):o=e[2];const c=o;let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsxs(Sa,{children:[l.jsx(oa,{children:"Add Project"}),l.jsx(ml,{children:"Enter the path to your project directory"})]}),e[3]=u):u=e[3];let d;e[4]!==r||e[5]!==a?(d=l.jsxs(ia,{showCloseButton:!1,children:[u,l.jsx(sC,{onSuccess:a,onClose:r,showCancelButton:!0,autoFocus:!0,onIsCreatingChange:i})]}),e[4]=r,e[5]=a,e[6]=d):d=e[6];let m;return e[7]!==c||e[8]!==n||e[9]!==d?(m=l.jsx(sa,{open:n,onOpenChange:c,children:d}),e[7]=c,e[8]=n,e[9]=d,e[10]=m):m=e[10],m},lL=b.createContext(void 0);function rhe(t,e){return t??(e?ki(e):I_)}function uw(t,e){const n=_n(gs(t),e);return Vl(n||e)}const cL=t=>{const e=ae.c(26),{api:n}=Kt();let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=zm(),e[0]=r):r=e[0];const a=r;let s,i;e[1]!==t.projectPath||e[2]!==t.workspaceId?(s=rhe(t.workspaceId,t.projectPath),i=lu(s),e[1]=t.projectPath,e[2]=t.workspaceId,e[3]=s,e[4]=i):(s=e[3],i=e[4]);const o=i;let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c={listener:!0},e[5]=c):c=e[5];const[u,d]=Tt(o,OZ,c);let m,h;e[6]!==s||e[7]!==o?(m=()=>{if(_n(o,void 0)!==void 0)return;const C=uw(s,a),_=fA(C),S=_n(_,void 0);S!==void 0&&rn(o,S)},h=[a,s,o],e[6]=s,e[7]=o,e[8]=m,e[9]=h):(m=e[8],h=e[9]),b.useEffect(m,h);let p;e[10]!==n||e[11]!==t.workspaceId||e[12]!==s||e[13]!==d?(p=k=>{const C=uw(s,a);if(d(k),!t.workspaceId)return;const _=t.workspaceId,S=_n(tl(s),"exec").trim().toLowerCase()||"exec";rn(Nf(_),T=>({...T&&typeof T=="object"?T:{},[S]:{model:C,thinkingLevel:k}}),{}),n&&(q_(_,S,{model:C,thinkingLevel:k}),n.workspace.updateAgentAISettings({workspaceId:_,agentId:S,aiSettings:{model:C,thinkingLevel:k}}).then(T=>{T.success||hm(_,S)}).catch(()=>{hm(_,S)}))},e[10]=n,e[11]=t.workspaceId,e[12]=s,e[13]=d,e[14]=p):p=e[14];const f=p;let g,x;e[15]!==s||e[16]!==f||e[17]!==u?(g=()=>{const k=C=>{if(!bn(C,st.TOGGLE_THINKING))return;C.preventDefault();const _=uw(s,a),S=pm(_);if(S.length<=1)return;const T=Tx(_,u),j=(S.indexOf(T)+1)%S.length;f(S[j])};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},x=[a,s,u,f],e[15]=s,e[16]=f,e[17]=u,e[18]=g,e[19]=x):(g=e[18],x=e[19]),b.useEffect(g,x);let y;e[20]!==f||e[21]!==u?(y={thinkingLevel:u,setThinkingLevel:f},e[20]=f,e[21]=u,e[22]=y):y=e[22];const w=y;let v;return e[23]!==w||e[24]!==t.children?(v=l.jsx(lL.Provider,{value:w,children:t.children}),e[23]=w,e[24]=t.children,e[25]=v):v=e[25],v},ahe=()=>{const t=b.useContext(lL);if(!t)throw new Error("useThinking must be used within a ThinkingProvider");return t},O9=["exec","plan","ask"];function uL(t){return[...t].sort((e,n)=>{const r=O9.indexOf(e.id),a=O9.indexOf(n.id),s=r!==-1,i=a!==-1;return s&&i?r-a:s?-1:i?1:e.name.localeCompare(n.name)})}const iC=b.createContext(void 0);function she(t,e){return t??(e?ki(e):I_)}function dw(t){return typeof t=="string"&&t.trim().length>0?t.trim().toLowerCase():"exec"}function dL(t){const e=ae.c(5);if("value"in t){let r;return e[0]!==t.children||e[1]!==t.value?(r=l.jsx(iC.Provider,{value:t.value,children:t.children}),e[0]=t.children,e[1]=t.value,e[2]=r):r=e[2],r}let n;return e[3]!==t?(n=l.jsx(ihe,{...t}),e[3]=t,e[4]=n):n=e[4],n}function ihe(t){const{api:e}=Kt(),n=she(t.workspaceId,t.projectPath),[r,a]=Tt(tl(n),"exec",{listener:!0}),[s,i]=Tt(gA(n),!1,{listener:!0}),o=b.useCallback(N=>{a(j=>{const R=typeof N=="function"?N(j):N;return dw(R)})},[a]),[c,u]=b.useState([]),[d,m]=b.useState(!1),[h,p]=b.useState(!1),f=b.useRef(!0);b.useEffect(()=>(f.current=!0,()=>{f.current=!1}),[]);const[g,x]=b.useState(!1),y=b.useRef({projectPath:t.projectPath,workspaceId:t.workspaceId,disableWorkspaceAgents:s}),w=b.useCallback(async(N,j,R)=>{if(y.current={projectPath:N,workspaceId:j,disableWorkspaceAgents:R},!e||!N&&!j){f.current&&(u([]),m(!0),p(!1));return}try{const I=await e.agents.list({projectPath:N,workspaceId:j,disableWorkspaceAgents:R||void 0}),A=y.current;A.projectPath===N&&A.workspaceId===j&&A.disableWorkspaceAgents===R&&f.current&&(u(I),p(!1),m(!0))}catch{const I=y.current;I.projectPath===N&&I.workspaceId===j&&I.disableWorkspaceAgents===R&&f.current&&(u([]),p(!0),m(!0))}},[e]);b.useEffect(()=>{u([]),m(!1),p(!1),w(t.projectPath,t.workspaceId,s)},[w,t.projectPath,t.workspaceId,s]);const v=b.useCallback(async()=>{if(!(!t.projectPath&&!t.workspaceId)&&f.current){x(!0);try{await w(t.projectPath,t.workspaceId,s)}finally{f.current&&x(!1)}}},[w,t.projectPath,t.workspaceId,s]),k=b.useMemo(()=>uL(c.filter(N=>N.uiSelectable)),[c]),C=b.useCallback(()=>{if(k.length<2)return;const N=k.findIndex(I=>I.id===dw(r)),j=N===-1?0:(N+1)%k.length,R=k[j];R&&o(R.id)},[r,k,o]);b.useEffect(()=>{const N=j=>{if(bn(j,st.TOGGLE_AGENT)){j.preventDefault(),window.dispatchEvent(_i(Rn.OPEN_AGENT_PICKER));return}if(bn(j,st.CYCLE_AGENT)){j.preventDefault(),C();return}};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[C]),b.useEffect(()=>{const N=()=>{v()};return window.addEventListener(Rn.AGENTS_REFRESH_REQUESTED,N),()=>window.removeEventListener(Rn.AGENTS_REFRESH_REQUESTED,N)},[v]);const _=dw(r),S=d?c.find(N=>N.id===_):void 0,T=b.useMemo(()=>({agentId:_,setAgentId:o,currentAgent:S,agents:c,loaded:d,loadFailed:h,refresh:v,refreshing:g,disableWorkspaceAgents:s,setDisableWorkspaceAgents:i}),[_,o,S,c,d,h,v,g,s,i]);return l.jsx(iC.Provider,{value:T,children:t.children})}function Bf(){const t=b.useContext(iC);if(!t)throw new Error("useAgent must be used within an AgentProvider");return t}function ohe(t){const e=ae.c(13),n=t.workspaceId,{agentId:r,agents:a}=Bf();let s,i;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={},i={listener:!0},e[0]=s,e[1]=i):(s=e[0],i=e[1]);const[o]=Tt(p1,s,i);let c;e[2]!==n?(c=Nf(n),e[2]=n,e[3]=c):c=e[3];let u,d;e[4]===Symbol.for("react.memo_cache_sentinel")?(u={},d={listener:!0},e[4]=u,e[5]=d):(u=e[4],d=e[5]);const[m]=Tt(c,u,d),h=b.useRef(null),p=b.useRef(null);let f,g;return e[6]!==o||e[7]!==r||e[8]!==a||e[9]!==m||e[10]!==n?(f=()=>{const x=zm(),y=gs(n),w=lu(n),v=typeof r=="string"&&r.trim().length>0?r.trim().toLowerCase():"exec",k=h.current!==null&&p.current===n&&h.current!==v;h.current=v,p.current=n;const _=a.find(H=>H.id===v)?.base??(v==="plan"?"plan":"exec"),S=_&&_!==v?[v,_]:[v],T=m[v]!==void 0,N=o[v],j=T||N!==void 0?void 0:S.slice(1).map(H=>o[H]).find(dhe),R=S.map(H=>a.find(D=>D.id===H)?.aiDefaults).find(uhe),I=N?.modelString??j?.modelString,A=N?.thinkingLevel??j?.thinkingLevel,$=R?.model,E=R?.thinkingLevel,M=_n(y,x),F=I??S.map(H=>m[H]?.model).find(che)??$??M,L=typeof F=="string"&&F.trim().length>0?F:x,Y=_n(w,"off"),O=A??S.map(H=>m[H]?.thinkingLevel).find(lhe)??E??Y??"off",G=g1(O)??"off";M!==L&&zp(n,L,k?"agent":"sync"),Y!==G&&rn(w,G)},g=[o,r,a,m,n],e[6]=o,e[7]=r,e[8]=a,e[9]=m,e[10]=n,e[11]=f,e[12]=g):(f=e[11],g=e[12]),b.useEffect(f,g),null}function lhe(t){return t!==void 0}function che(t){return t!==void 0}function uhe(t){return t!==void 0}function dhe(t){return t!==void 0}const mL=b.createContext(void 0),hL=b.createContext(void 0),mhe=t=>{const e=ae.c(18),n=PZ(),r=Dd();let a,s;e[0]!==r||e[1]!==t.workspaceId||e[2]!==n?(a=m=>{n.terminate(t.workspaceId,m).catch(h=>{r.showError(m,h.message)})},s=m=>{n.sendToBackground(t.workspaceId,m).catch(h=>{r.showError(`send-to-background-${m}`,h.message)})},e[0]=r,e[1]=t.workspaceId,e[2]=n,e[3]=a,e[4]=s):(a=e[3],s=e[4]);let i;e[5]!==t.workspaceId||e[6]!==n?(i=()=>{n.autoBackgroundOnSend(t.workspaceId)},e[5]=t.workspaceId,e[6]=n,e[7]=i):i=e[7];let o;e[8]!==a||e[9]!==s||e[10]!==i?(o={terminate:a,sendToBackground:s,autoBackgroundOnSend:i},e[8]=a,e[9]=s,e[10]=i,e[11]=o):o=e[11];const c=o;let u;e[12]!==r||e[13]!==t.children?(u=l.jsx(hL.Provider,{value:r,children:t.children}),e[12]=r,e[13]=t.children,e[14]=u):u=e[14];let d;return e[15]!==c||e[16]!==u?(d=l.jsx(mL.Provider,{value:c,children:u}),e[15]=c,e[16]=u,e[17]=d):d=e[17],d};function oC(){const t=b.useContext(mL);if(!t)throw new Error("useBackgroundBashActions must be used within BackgroundBashProvider");return t}function pL(){const t=b.useContext(hL);if(!t)throw new Error("useBackgroundBashError must be used within BackgroundBashProvider");return t}function fL({enabled:t,defaultWidth:e,minWidth:n,maxWidth:r,getMaxWidthPx:a,storageKey:s,side:i="right"}){const[o,c]=b.useState(()=>{const v=(()=>{if(typeof a=="function"){const C=a();if(typeof C=="number"&&Number.isFinite(C))return Math.min(r,C)}return r})(),k=Math.max(n,v);try{const C=localStorage.getItem(s);if(C){const _=parseInt(C,10);if(!isNaN(_)&&_>=n&&_<=k)return _}}catch{}return Math.max(n,Math.min(k,e))}),[u,d]=b.useState(!1),m=b.useRef(0),h=b.useRef(0),p=b.useRef(a);b.useEffect(()=>{p.current=a},[a]);const f=b.useCallback(()=>{const v=p.current?.(),k=typeof v=="number"&&Number.isFinite(v)?Math.min(r,v):r;return Math.max(n,k)},[r,n]);b.useEffect(()=>{t&&rn(s,o)},[o,s,t]),b.useEffect(()=>{if(typeof window>"u")return;const v=()=>{if(u)return;const _=bx(s);if(!_)return;const S=parseInt(_,10);if(!Number.isFinite(S))return;const T=f(),N=Math.max(n,Math.min(T,S));c(j=>j===N?j:N)},k=XX(s);window.addEventListener(k,v);const C=_=>{_.key===s&&v()};return window.addEventListener("storage",C),()=>{window.removeEventListener(k,v),window.removeEventListener("storage",C)}},[s,n,r,u,f]),b.useEffect(()=>{if(typeof window>"u"||u)return;const v=()=>{const k=f();c(C=>{const _=Math.max(n,Math.min(k,C));return C===_?C:_})};return v(),window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)}},[u,n,f]);const g=b.useCallback(v=>{if(!u)return;const k=i==="right"?m.current-v.clientX:v.clientX-m.current,C=f(),_=Math.max(n,Math.min(C,h.current+k));c(_)},[u,n,i,f]),x=b.useCallback(()=>{d(!1)},[]);b.useEffect(()=>{if(u)return document.addEventListener("mousemove",g),document.addEventListener("mouseup",x),document.body.style.userSelect="none",document.body.style.cursor="col-resize",()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",x),document.body.style.userSelect="",document.body.style.cursor=""}},[u,g,x]);const y=b.useCallback(v=>{t&&(d(!0),m.current=v.clientX,h.current=o)},[t,o]);return{width:t?o:e,isResizing:u,startResize:y,ResizeHandle:()=>null}}function hhe(t){const[e,n]=b.useState(null),r=b.useRef(null),a=b.useRef(null),s=b.useRef(null);return b.useEffect(()=>()=>{r.current&&(cancelAnimationFrame(r.current),r.current=null),a.current?.disconnect(),a.current=null,s.current=null},[]),b.useEffect(()=>{const i=t.current;if(s.current===i)return;if(r.current&&(cancelAnimationFrame(r.current),r.current=null),a.current?.disconnect(),a.current=null,s.current=i,!i){n(null);return}if(typeof ResizeObserver>"u"){const{width:d,height:m}=i.getBoundingClientRect();n({width:Math.round(d),height:Math.round(m)});return}const o=new ResizeObserver(d=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{for(const m of d){const{width:h,height:p}=m.contentRect,f=Math.round(h),g=Math.round(p);n(x=>x?.width===f&&x?.height===g?x:{width:f,height:g})}r.current=null})});a.current=o,o.observe(i);const{width:c,height:u}=i.getBoundingClientRect();n({width:Math.round(c),height:Math.round(u)})}),e}const P9={cols:80,rows:24};function gL(t,e,n){if(!window.api){const a=new URLSearchParams({workspaceId:e,sessionId:n});window.open(`/terminal.html?${a.toString()}`,`terminal-${e}-${Date.now()}`,"width=1000,height=600,popup=yes")}t.terminal.openWindow({workspaceId:e,sessionId:n})}async function lC(t,e,n){return t.terminal.create({workspaceId:e,cols:P9.cols,rows:P9.rows,initialCommand:n?.initialCommand})}function cC(){const t=ae.c(2),{api:e}=Kt();let n;return t[0]!==e?(n=async(r,a,s)=>{if(!e)return;const i=!window.api,o=CA(a),c=SA(a);if(i||o||c){const u=await lC(e,r,s);gL(e,r,u.sessionId)}else e.terminal.openNative({workspaceId:r})},t[0]=e,t[1]=n):n=t[1],n}function bL(){if(typeof window>"u")return!1;if(window.location.pathname.endsWith("iframe.html"))return!0;const t=new URLSearchParams(window.location.search);return!!(t.get("path")?.startsWith("/story/")||t.has("id"))}const xL=b.createContext(null);function uC(){const t=b.useContext(xL);if(!t)throw new Error("useFeatureFlags must be used within FeatureFlagsProvider");return t}function phe(t){const e=ae.c(14),{api:n}=Kt(),[r,a]=b.useState(fhe);let s;e[0]!==n?(s=async()=>{if(!n){a({enabled:!1});return}const p=await n.features.getStatsTabState();a({enabled:p.enabled})},e[0]=n,e[1]=s):s=e[1];const i=s;let o;e[2]!==n?(o=async p=>{if(!n)throw new Error("ORPC client not initialized");const f=await n.features.setStatsTabOverride({override:p?"default":"off"});a({enabled:f.enabled})},e[2]=n,e[3]=o):o=e[3];const c=o;let u,d;e[4]!==n?(u=()=>{bL()||(async()=>{try{if(!n){a({enabled:!1});return}const p=await n.features.getStatsTabState();a({enabled:p.enabled})}catch{a({enabled:!1})}})()},d=[n],e[4]=n,e[5]=u,e[6]=d):(u=e[5],d=e[6]),b.useEffect(u,d);let m;e[7]!==i||e[8]!==c||e[9]!==r?(m={statsTabState:r,refreshStatsTabState:i,setStatsTabEnabled:c},e[7]=i,e[8]=c,e[9]=r,e[10]=m):m=e[10];let h;return e[11]!==t.children||e[12]!==m?(h=l.jsx(xL.Provider,{value:m,children:t.children}),e[11]=t.children,e[12]=m,e[13]=h):h=e[13],h}function fhe(){return bL()?{enabled:!0}:null}function dC(t){const e=ae.c(19),{options:n,value:r,onChange:a,compact:s}=t;if(s===void 0?!1:s){const u=n.findIndex(y=>y.value===r),d=n[u],m=n[(u+1)%n.length];let h;e[0]!==m.value||e[1]!==a?(h=()=>a(m.value),e[0]=m.value,e[1]=a,e[2]=h):h=e[2];const p=d?.activeClassName;let f;e[3]!==p?(f=ce("px-1.5 py-0.5 text-[11px] font-sans rounded-sm border-none cursor-pointer transition-all duration-150","text-toggle-text-active bg-toggle-active font-medium",p),e[3]=p,e[4]=f):f=e[4];const g=`${d.label} mode. Click to switch to ${m.label}.`;let x;return e[5]!==d.label||e[6]!==h||e[7]!==f||e[8]!==g?(x=l.jsx("button",{onClick:h,type:"button",className:f,"aria-label":g,children:d.label}),e[5]=d.label,e[6]=h,e[7]=f,e[8]=g,e[9]=x):x=e[9],x}let o;if(e[10]!==a||e[11]!==n||e[12]!==r){let u;e[14]!==a||e[15]!==r?(u=d=>{const m=r===d.value;return l.jsx("button",{onClick:()=>a(d.value),"aria-pressed":m,type:"button",className:ce("px-1.5 py-0.5 text-[11px] font-sans rounded-sm border-none cursor-pointer transition-all duration-150 bg-transparent",m?"text-toggle-text-active bg-toggle-active font-medium":"text-toggle-text font-normal hover:text-toggle-text-hover hover:bg-toggle-hover",m&&d.activeClassName),children:d.label},d.value)},e[14]=a,e[15]=r,e[16]=u):u=e[16],o=n.map(u),e[10]=a,e[11]=n,e[12]=r,e[13]=o}else o=e[13];let c;return e[17]!==o?(c=l.jsx("div",{className:"bg-toggle-bg flex gap-0 rounded",children:o}),e[17]=o,e[18]=c):c=e[18],c}const yL=b.createContext(void 0);function ghe(t){if(!t?.use1MContext||t.use1MContextModels&&t.use1MContextModels.length>0)return t;const e=Object.values(Ou).filter(n=>Kl(n.id)).map(n=>n.id);return{...t,use1MContext:!1,use1MContextModels:e}}function bhe({children:t}){const[e,n]=Tt("provider_options_anthropic",{}),r=b.useRef(!1);if(!r.current){r.current=!0;const d=ghe(e);d!==e&&n(d)}const[a,s]=Tt("provider_options_google",{}),i=e?.use1MContextModels??[],o=d=>i.includes(d),u={options:{anthropic:e,google:a},setAnthropicOptions:n,setGoogleOptions:s,has1MContext:o,toggle1MContext:d=>{const m=o(d)?i.filter(h=>h!==d):[...i,d];n({...e,use1MContextModels:m})}};return l.jsx(yL.Provider,{value:u,children:t})}function xhe(){const t=b.useContext(yL);if(!t)throw new Error("useProviderOptionsContext must be used within a ProviderOptionsProvider");return t}function Km(){const t=ae.c(6),e=xhe();let n;return t[0]!==e.has1MContext||t[1]!==e.options||t[2]!==e.setAnthropicOptions||t[3]!==e.setGoogleOptions||t[4]!==e.toggle1MContext?(n={options:e.options,setAnthropicOptions:e.setAnthropicOptions,setGoogleOptions:e.setGoogleOptions,has1MContext:e.has1MContext,toggle1MContext:e.toggle1MContext},t[0]=e.has1MContext,t[1]=e.options,t[2]=e.setAnthropicOptions,t[3]=e.setGoogleOptions,t[4]=e.toggle1MContext,t[5]=n):n=t[5],n}function uy(){const t=ae.c(3),{thinkingLevel:e,setThinkingLevel:n}=ahe();let r;return t[0]!==n||t[1]!==e?(r=[e,n],t[0]=n,t[1]=e,t[2]=r):r=t[2],r}function mC(t){const e=ae.c(9),[n]=uy(),{agentId:r,disableWorkspaceAgents:a}=Bf(),{options:s}=Km();let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={listener:!0},e[0]=i):i=e[0];const[o]=Tt(N_,Js.model,i),c=xj(o,Js.model);let u;e[1]!==t?(u=gs(t),e[1]=t,e[2]=u):u=e[2];let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d={listener:!0},e[3]=d):d=e[3];const[m]=Tt(u,null,d),h=E0(Uo.PROGRAMMATIC_TOOL_CALLING),p=E0(Uo.PROGRAMMATIC_TOOL_CALLING_EXCLUSIVE),f=E0(Uo.SYSTEM_1),g=E0(Uo.EXEC_SUBAGENT_HARD_RESTART);let x;e[4]===Symbol.for("react.memo_cache_sentinel")?(x={listener:!0},e[4]=x):x=e[4];const[y]=Tt(bA,"",x),w=FZ(y);let v;e[5]===Symbol.for("react.memo_cache_sentinel")?(v={listener:!0},e[5]=v):v=e[5];const[k]=Tt(xA,"off",v),C=BZ(k),_=xj(m,c),S=zZ({agentId:r,thinkingLevel:n,model:_,providerOptions:s,experiments:{programmaticToolCalling:h,programmaticToolCallingExclusive:p,system1:f,execSubagentHardRestart:g},system1Model:w,system1ThinkingLevel:C,disableWorkspaceAgents:a});let T;return e[6]!==_||e[7]!==S?(T={...S,baseModel:_},e[6]=_,e[7]=S,e[8]=T):T=e[8],T}const Va={cached:"var(--color-token-cached, hsl(0 0% 50%))",cacheCreate:"var(--color-token-cache-create, hsl(140 20% 55%))",input:"var(--color-token-input, hsl(120 40% 35%))",output:"var(--color-token-output, hsl(207 100% 40%))",thinking:"var(--color-thinking-mode, hsl(271 76% 53%))"},yhe=[{type:"cached",key:"cached",color:Va.cached,label:"Cache Read"},{type:"cacheCreate",key:"cacheCreate",color:Va.cacheCreate,label:"Cache Create"},{type:"input",key:"input",color:Va.input,label:"Input"},{type:"output",key:"output",color:Va.output,label:"Output"},{type:"reasoning",key:"reasoning",color:Va.thinking,label:"Thinking"}];function wL(t,e,n,r=!1,a){if(!t)return{segments:[],totalTokens:0,totalPercentage:0};const s=Yl(e,a),i=n&&Kl(e)?1e6:s?.max_input_tokens,o=t.input.tokens+t.cached.tokens+t.cacheCreate.tokens+t.output.tokens+t.reasoning.tokens,c=m=>r?o>0?m/o*100:0:i?m/i*100:o>0?m/o*100:0,u=yhe.filter(m=>t[m.key].tokens>0).map(m=>({type:m.type,tokens:t[m.key].tokens,percentage:c(t[m.key].tokens),color:m.color})),d=i?o/i*100:100;return{segments:u,totalTokens:o,maxTokens:i,totalPercentage:r?i?o/i*100:0:d}}function Xs(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}k`:t.toLocaleString()}const whe=t=>t>=1e3?`${(t/1e3).toFixed(1)}k`:t.toLocaleString(),vhe=t=>{const e=ae.c(7),{consumers:n,totalTokens:r}=t;if(n.length===0)return null;let a;if(e[0]!==n||e[1]!==r){let i;e[3]!==r?(i=o=>{const c=o.fixedTokens?o.fixedTokens/r*100:0,u=o.variableTokens?o.variableTokens/r*100:0;return l.jsxs("div",{className:"flex flex-col gap-0.5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-foreground flex items-center gap-1 text-xs font-medium",children:[o.name,o.name==="web_search"&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx(hc,{children:"?"})}),l.jsx(Ke,{align:"center",className:"max-w-80 whitespace-normal",children:"Web search results are encrypted and decrypted server-side. This estimate is approximate."})]})]}),l.jsxs("span",{className:"text-muted text-[11px]",children:[whe(o.tokens)," (",o.percentage.toFixed(1),"%)"]})]}),l.jsx("div",{className:"bg-hover flex h-1.5 w-full overflow-hidden rounded",children:o.fixedTokens&&o.variableTokens?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-token-fixed h-full transition-[width] duration-300",style:{width:`${c}%`}}),l.jsx("div",{className:"bg-token-variable h-full transition-[width] duration-300",style:{width:`${u}%`}})]}):l.jsx("div",{className:"h-full bg-[linear-gradient(90deg,var(--color-token-input)_0%,var(--color-token-output)_100%)] transition-[width] duration-300",style:{width:`${o.percentage}%`}})})]},o.name)},e[3]=r,e[4]=i):i=e[4],a=n.map(i),e[0]=n,e[1]=r,e[2]=a}else a=e[2];let s;return e[5]!==a?(s=l.jsx("div",{className:"flex flex-col gap-2",children:a}),e[5]=a,e[6]=s):s=e[6],s},khe=xe.memo(vhe),_he=t=>t>=1e3?`${(t/1e3).toFixed(1)}k`:t.toLocaleString(),Che=t=>t.startsWith("./")?t.slice(2):t,She=t=>{const e=ae.c(7),{files:n,totalTokens:r}=t;if(n.length===0)return null;let a;if(e[0]!==n||e[1]!==r){let i;e[3]!==r?(i=o=>{const c=r>0?o.tokens/r*100:0,u=Che(o.path);return l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(cc,{filePath:o.path,className:"text-secondary shrink-0 text-xs"}),l.jsxs(Ye,{children:[l.jsx(Xe,{className:"dir-rtl text-foreground min-w-0 flex-1 truncate text-left text-xs",children:l.jsx("bdi",{children:u})}),l.jsx(Ke,{side:"left",children:u})]}),l.jsxs("span",{className:"text-muted shrink-0 text-[11px]",children:[_he(o.tokens)," (",c.toFixed(1),"%)"]})]},o.path)},e[3]=r,e[4]=i):i=e[4],a=n.map(i),e[0]=n,e[1]=r,e[2]=a}else a=e[2];let s;return e[5]!==a?(s=l.jsx("div",{className:"flex flex-col gap-1",children:a}),e[5]=a,e[6]=s):s=e[6],s},jhe=xe.memo(She),The=t=>{const e=ae.c(21);let n,r,a,s,i,o;e[0]!==t?({segments:s,orientation:r,className:n,trackClassName:o,style:i,...a}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=s,e[5]=i,e[6]=o):(n=e[1],r=e[2],a=e[3],s=e[4],i=e[5],o=e[6]);const c=o??"bg-border-light",u=r==="horizontal"?"rounded w-full h-1.5 flex-row":"rounded-[4px] w-2 h-full flex-col";let d;e[7]!==n||e[8]!==c||e[9]!==u?(d=ce("overflow-hidden flex",c,u,n),e[7]=n,e[8]=c,e[9]=u,e[10]=d):d=e[10];let m;if(e[11]!==r||e[12]!==s){let p;e[14]!==r?(p=(f,g)=>l.jsx("div",{className:ce("transition-all duration-300 ease-in-out",r==="horizontal"?"h-full":"w-full"),style:{background:f.color,...r==="horizontal"?{width:`${f.percentage}%`}:{flex:f.percentage}},"data-segment":f.type,"data-segment-index":g,"data-segment-percentage":f.percentage.toFixed(1),"data-segment-tokens":f.tokens},g),e[14]=r,e[15]=p):p=e[15],m=s.map(p),e[11]=r,e[12]=s,e[13]=m}else m=e[13];let h;return e[16]!==a||e[17]!==i||e[18]!==d||e[19]!==m?(h=l.jsx("div",{className:d,style:i,...a,"data-bar":"token-meter",children:m}),e[16]=a,e[17]=i,e[18]=d,e[19]=m,e[20]=h):h=e[20],h},hC=xe.memo(The),pC=100,B0=4,F9=t=>{const e=ae.c(3),{direction:n,color:r}=t;let a;if(e[0]!==r||e[1]!==n){const s={width:0,height:0,borderLeft:`${B0}px solid transparent`,borderRight:`${B0}px solid transparent`,...n==="down"?{borderTop:`${B0}px solid ${r}`}:{borderBottom:`${B0}px solid ${r}`}};a=l.jsx("div",{style:s}),e[0]=r,e[1]=n,e[2]=a}else a=e[2];return a},Ehe=t=>{const e=Math.max(qZ,Math.min(100,t));return Math.round(e/5)*5},Nhe=(t,e)=>{e(t>=pC?100:Math.min(t,HZ))},$he=t=>t<pC?`Auto-compact at ${t}%  Drag to adjust (per-model)`:"Auto-compact disabled  Drag left to enable (per-model)",Ahe=t=>{const e=ae.c(29),{config:n}=t,r=b.useRef(null);let a;e[0]!==n.setThreshold?(a=j=>{j.preventDefault();const R=r.current?.getBoundingClientRect();if(!R)return;const I=M=>Ehe((M-R.left)/R.width*100),A=M=>Nhe(M,n.setThreshold);A(I(j.clientX));const $=M=>A(I(M.clientX)),E=()=>{document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",E)};document.addEventListener("mousemove",$),document.addEventListener("mouseup",E)},e[0]=n.setThreshold,e[1]=a):a=e[1];const s=a,o=n.threshold<pC?"var(--color-plan-mode)":"var(--color-muted)";let c;e[2]!==n.threshold?(c=$he(n.threshold),e[2]=n.threshold,e[3]=c):c=e[3];const u=c;let d;e[4]===Symbol.for("react.memo_cache_sentinel")?(d={position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:50,pointerEvents:"none"},e[4]=d):d=e[4];const m=d,h=`calc(${n.threshold}% - 16px)`;let p;e[5]!==h?(p={position:"absolute",cursor:"ew-resize",pointerEvents:"auto",left:h,width:32,top:0,bottom:0},e[5]=h,e[6]=p):p=e[6];const f=p,g=`${n.threshold}%`;let x;e[7]!==g?(x={position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",flexDirection:"column",left:g,top:"50%",transform:"translate(-50%, -50%)"},e[7]=g,e[8]=x):x=e[8];const y=x;let w;e[9]!==s||e[10]!==f?(w=l.jsx(Xe,{asChild:!0,children:l.jsx("div",{style:f,onMouseDown:s})}),e[9]=s,e[10]=f,e[11]=w):w=e[11];let v;e[12]!==u?(v=l.jsx(Ke,{side:"top",showArrow:!1,children:u}),e[12]=u,e[13]=v):v=e[13];let k;e[14]!==w||e[15]!==v?(k=l.jsxs(Ye,{children:[w,v]}),e[14]=w,e[15]=v,e[16]=k):k=e[16];let C,_,S;e[17]!==o?(C=l.jsx(F9,{direction:"down",color:o}),_=l.jsx("div",{style:{width:1,height:6,background:o}}),S=l.jsx(F9,{direction:"up",color:o}),e[17]=o,e[18]=C,e[19]=_,e[20]=S):(C=e[18],_=e[19],S=e[20]);let T;e[21]!==y||e[22]!==C||e[23]!==_||e[24]!==S?(T=l.jsxs("div",{style:y,children:[C,_,S]}),e[21]=y,e[22]=C,e[23]=_,e[24]=S,e[25]=T):T=e[25];let N;return e[26]!==k||e[27]!==T?(N=l.jsxs("div",{ref:r,style:m,children:[k,T]}),e[26]=k,e[27]=T,e[28]=N):N=e[28],N},vL=Ahe,kL=t=>{const e=ae.c(18),{has1MContext:n,toggle1MContext:r}=Km();if(!Kl(t.model))return null;const a=t.label??"1M context",s=n(t.model);let i;e[0]!==t.model||e[1]!==r?(i=()=>r(t.model),e[0]=t.model,e[1]=r,e[2]=i):i=e[2];const o=s?"text-accent":"text-muted hover:text-foreground";let c;e[3]!==o?(c=ce("flex cursor-pointer items-center gap-1.5 text-[11px] transition-colors",o),e[3]=o,e[4]=c):c=e[4];const u=s?`Disable ${a}`:`Enable ${a}`,d=s?"bg-accent/15 text-accent":"bg-background-tertiary text-muted";let m;e[5]!==d?(m=ce("flex h-4 w-6 items-center justify-center rounded-sm font-mono text-[9px] font-bold",d),e[5]=d,e[6]=m):m=e[6];let h;e[7]!==m?(h=l.jsx("span",{className:m,children:"1M"}),e[7]=m,e[8]=h):h=e[8];let p;e[9]===Symbol.for("react.memo_cache_sentinel")?(p=l.jsx("span",{className:"text-muted ml-1 text-[10px]",children:"(beta)"}),e[9]=p):p=e[9];let f;e[10]!==a?(f=l.jsxs("span",{children:[a,p]}),e[10]=a,e[11]=f):f=e[11];let g;return e[12]!==i||e[13]!==c||e[14]!==u||e[15]!==h||e[16]!==f?(g=l.jsxs("button",{type:"button",onClick:i,className:c,"aria-label":u,children:[h,f]}),e[12]=i,e[13]=c,e[14]=u,e[15]=h,e[16]=f,e[17]=g):g=e[17],g},Ihe=t=>{const e=ae.c(37),{data:n,autoCompaction:r,model:a,showTitle:s,testId:i}=t,o=s===void 0?!0:s;let c;e[0]!==n.totalTokens?(c=Xs(n.totalTokens),e[0]=n.totalTokens,e[1]=c):c=e[1];const u=c;let d;e[2]!==n.maxTokens?(d=n.maxTokens?` / ${Xs(n.maxTokens)}`:"",e[2]=n.maxTokens,e[3]=d):d=e[3];const m=d;let h;e[4]!==n.maxTokens||e[5]!==n.totalPercentage?(h=n.maxTokens?` (${n.totalPercentage.toFixed(1)}%)`:"",e[4]=n.maxTokens,e[5]=n.totalPercentage,e[6]=h):h=e[6];const p=h,f=!n.maxTokens,g=!!(r&&n.maxTokens),x=r?.contextWarning;if(n.totalTokens===0)return null;let y;e[7]!==o?(y=o&&l.jsx("span",{className:"text-foreground inline-flex items-baseline gap-1 font-medium",children:"Context Usage"}),e[7]=o,e[8]=y):y=e[8];let w;e[9]!==m||e[10]!==p||e[11]!==u?(w=l.jsxs("span",{className:"text-muted text-xs",children:[u,m,p]}),e[9]=m,e[10]=p,e[11]=u,e[12]=w):w=e[12];let v;e[13]!==y||e[14]!==w?(v=l.jsxs("div",{className:"flex items-baseline justify-between",children:[y,w]}),e[13]=y,e[14]=w,e[15]=v):v=e[15];let k;e[16]!==n.segments?(k=l.jsx(hC,{segments:n.segments,orientation:"horizontal"}),e[16]=n.segments,e[17]=k):k=e[17];let C;e[18]!==r||e[19]!==g?(C=g&&r&&l.jsx(vL,{config:r}),e[18]=r,e[19]=g,e[20]=C):C=e[20];let _;e[21]!==k||e[22]!==C?(_=l.jsxs("div",{className:"relative w-full overflow-hidden py-2",children:[k,C]}),e[21]=k,e[22]=C,e[23]=_):_=e[23];let S;e[24]!==a?(S=a&&l.jsx(kL,{model:a}),e[24]=a,e[25]=S):S=e[25];let T;e[26]!==f?(T=f&&l.jsx("div",{className:"text-subtle mt-2 text-[11px] italic",children:"Unknown model limits - showing relative usage only"}),e[26]=f,e[27]=T):T=e[27];let N;e[28]!==x?(N=x&&l.jsxs("div",{className:"text-warning mt-2 flex items-start gap-1 text-[11px]",children:[l.jsx(Mr,{"aria-hidden":"true",className:"mt-0.5 h-3 w-3 shrink-0"}),l.jsxs("span",{children:["Compaction model context (",Xs(x.compactionModelMaxTokens),") is smaller than auto-compact threshold (",Xs(x.thresholdTokens),")"]})]}),e[28]=x,e[29]=N):N=e[29];let j;return e[30]!==_||e[31]!==S||e[32]!==T||e[33]!==N||e[34]!==v||e[35]!==i?(j=l.jsxs("div",{"data-testid":i,className:"relative flex flex-col gap-1",children:[v,_,S,T,N]}),e[30]=_,e[31]=S,e[32]=T,e[33]=N,e[34]=v,e[35]=i,e[36]=j):j=e[36],j},Rhe=xe.memo(Ihe);function fC(t,e){const n=ae.c(6),r=e??"default";let a;n[0]!==r?(a=ZX(r),n[0]=r,n[1]=a):a=n[1];const s=a;let i;n[2]===Symbol.for("react.memo_cache_sentinel")?(i={listener:!0},n[2]=i):i=n[2];const[o,c]=Tt(s,UZ,i);let u;return n[3]!==c||n[4]!==o?(u={threshold:o,setThreshold:c},n[3]=c,n[4]=o,n[5]=u):u=n[5],u}function dy(){const t=ae.c(3),{api:e}=Kt(),{open:n}=as();let r;return t[0]!==e||t[1]!==n?(r=async(a,s,i,o)=>WZ({api:e,openSettings:n,workspaceId:a,targetPath:s,runtimeConfig:i,isFile:o?.isFile}),t[0]=e,t[1]=n,t[2]=r):r=t[2],r}function B9(t){return t.split("/").pop()??t}const Mhe=t=>{const e=ae.c(44),n=dy(),[r,a]=Tt("postCompaction:collapsed",!0),[s,i]=Tt("postCompaction:filesExpanded",!1),[o,c]=b.useState(!1);let u;e[0]!==t.planPath?(u=async()=>{t.planPath&&(await navigator.clipboard.writeText(t.planPath),c(!0),setTimeout(()=>c(!1),1500))},e[0]=t.planPath,e[1]=u):u=e[1];const d=u;let m;e[2]!==n||e[3]!==t.planPath||e[4]!==t.runtimeConfig||e[5]!==t.workspaceId?(m=A=>{A.stopPropagation(),t.planPath&&n(t.workspaceId,t.planPath,t.runtimeConfig,{isFile:!0})},e[2]=n,e[3]=t.planPath,e[4]=t.runtimeConfig,e[5]=t.workspaceId,e[6]=m):m=e[6];const h=m,p=t.planPath!==null,f=t.trackedFilePaths.length;let g;e[7]!==t.excludedItems?(g=t.excludedItems.has("plan"),e[7]=t.excludedItems,e[8]=g):g=e[8];const x=g;let y;e[9]!==t.trackedFilePaths?(y=new Map,t.trackedFilePaths.forEach(A=>{const $=B9(A);y.set($,(y.get($)??0)+1)}),e[9]=t.trackedFilePaths,e[10]=y):y=e[10];let w;if(e[11]!==y||e[12]!==t.excludedItems||e[13]!==t.trackedFilePaths){let A;e[15]!==y||e[16]!==t.excludedItems?(A=$=>{const E=B9($),M=(y.get(E)??0)>1,F=$.split("/"),L=M&&F.length>1?F.slice(-2).join("/"):E,Y=`file:${$}`,O=t.excludedItems.has(Y);return{fullPath:$,displayName:L,itemId:Y,isExcluded:O}},e[15]=y,e[16]=t.excludedItems,e[17]=A):A=e[17],w=t.trackedFilePaths.map(A),e[11]=y,e[12]=t.excludedItems,e[13]=t.trackedFilePaths,e[14]=w}else w=e[14];const v=w;let k;e[18]!==v?(k=v.filter(Dhe),e[18]=v,e[19]=k):k=e[19];const C=k.length;if(!p&&f===0)return null;let _;e[20]!==a?(_=()=>a(Lhe),e[20]=a,e[21]=_):_=e[21];let S;e[22]===Symbol.for("react.memo_cache_sentinel")?(S=l.jsx("span",{className:"text-muted text-xs font-medium",children:"Post-Compaction Context"}),e[22]=S):S=e[22];const T=`text-muted h-3.5 w-3.5 transition-transform duration-200 ${r?"":"rotate-90"}`;let N;e[23]!==T?(N=l.jsx(na,{className:T}),e[23]=T,e[24]=N):N=e[24];let j;e[25]!==_||e[26]!==N?(j=l.jsxs("button",{onClick:_,className:"flex w-full items-center justify-between text-left",type:"button",children:[S,N]}),e[25]=_,e[26]=N,e[27]=j):j=e[27];let R;e[28]!==r||e[29]!==o||e[30]!==s||e[31]!==v||e[32]!==d||e[33]!==h||e[34]!==C||e[35]!==x||e[36]!==p||e[37]!==t||e[38]!==i||e[39]!==f?(R=!r&&l.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[p&&t.planPath&&l.jsxs("div",{className:`flex items-center gap-1 ${x?"opacity-50":""}`,children:[l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:()=>void t.onToggleExclusion("plan"),className:"text-subtle hover:text-foreground p-0.5 transition-colors",type:"button",children:x?l.jsx(Gd,{className:"h-3 w-3"}):l.jsx(Vd,{className:"h-3 w-3"})})}),l.jsx(Ke,{side:"top",showArrow:!1,children:x?"Include in context":"Exclude from context"})]}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsxs("button",{onClick:()=>void d(),className:`text-subtle hover:text-foreground flex items-center gap-2 text-left text-xs transition-colors ${x?"line-through":""}`,type:"button",children:[l.jsx(dc,{className:"h-3.5 w-3.5"}),l.jsx("span",{children:"Plan file"}),o&&l.jsx(Hn,{className:"h-3 w-3 text-green-500"})]})}),l.jsx(Ke,{side:"top",showArrow:!1,children:"Click to copy path"})]}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:h,className:"text-subtle hover:text-foreground p-0.5 transition-colors",type:"button",children:l.jsx(pl,{className:"h-3 w-3"})})}),l.jsx(Ke,{side:"top",showArrow:!1,children:"Open in editor"})]})]}),f>0&&l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:A=>{A.stopPropagation();const $=C>0;(async()=>{for(const E of v)$!==E.isExcluded&&await t.onToggleExclusion(E.itemId)})()},className:"text-subtle hover:text-foreground p-0.5 transition-colors",type:"button",children:C===0?l.jsx(Gd,{className:"h-3 w-3"}):l.jsx(Vd,{className:"h-3 w-3"})})}),l.jsx(Ke,{side:"top",showArrow:!1,children:C===0?"Include all files":"Exclude all files"})]}),l.jsxs("button",{onClick:()=>i(Ohe),className:"text-subtle hover:text-foreground flex items-center gap-2 text-left text-xs transition-colors",type:"button",children:[l.jsx(na,{className:`h-3 w-3 transition-transform duration-200 ${s?"rotate-90":""}`}),l.jsxs("span",{children:[C,"/",f," file diff",f!==1?"s":""]})]})]}),s&&v.length>0&&l.jsx("div",{className:"mt-1 ml-5 flex flex-col gap-0.5",children:v.map(A=>l.jsxs("div",{className:`flex items-center gap-1 ${A.isExcluded?"opacity-50":""}`,children:[l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:()=>void t.onToggleExclusion(A.itemId),className:"text-subtle hover:text-foreground p-0.5 transition-colors",type:"button",children:A.isExcluded?l.jsx(Gd,{className:"h-2.5 w-2.5"}):l.jsx(Vd,{className:"h-2.5 w-2.5"})})}),l.jsx(Ke,{side:"top",showArrow:!1,children:A.isExcluded?"Include in context":"Exclude from context"})]}),l.jsx("span",{className:`text-muted text-[10px] ${A.isExcluded?"line-through":""}`,children:A.displayName})]},A.fullPath))})]}),l.jsx("p",{className:"text-muted mt-1 text-[10px] italic",children:"Keeps agent aligned with your plan and prior edits"})]}),e[28]=r,e[29]=o,e[30]=s,e[31]=v,e[32]=d,e[33]=h,e[34]=C,e[35]=x,e[36]=p,e[37]=t,e[38]=i,e[39]=f,e[40]=R):R=e[40];let I;return e[41]!==R||e[42]!==j?(I=l.jsxs("div",{className:"border-border-light mt-4 border-t pt-4",children:[j,R]}),e[41]=R,e[42]=j,e[43]=I):I=e[43],I};function Dhe(t){return!t.isExcluded}function Lhe(t){return!t}function Ohe(t){return!t}function z9(t){const e=_n(f3(t),null);return{planPath:e?.planPath??null,trackedFilePaths:e?.trackedFilePaths??[],excludedItems:new Set(e?.excludedItems??[])}}function Phe(t){const{api:e}=Kt(),[n,r]=b.useState(()=>z9(t)),a=b.useRef(t);a.current!==t&&(a.current=t,r(z9(t))),b.useEffect(()=>{if(!e)return;let i=!1;return(async()=>{try{const c=await e.workspace.getPostCompactionState({workspaceId:t});if(i)return;r({planPath:c.planPath,trackedFilePaths:c.trackedFilePaths,excludedItems:new Set(c.excludedItems)}),rn(f3(t),{planPath:c.planPath,trackedFilePaths:c.trackedFilePaths,excludedItems:c.excludedItems})}catch(c){console.warn("[usePostCompactionState] Failed to fetch:",c)}})(),()=>{i=!0}},[e,t]);const s=b.useCallback(async i=>{if(!e)return;const o=n.excludedItems.has(i);(await e.workspace.setPostCompactionExclusion({workspaceId:t,itemId:i,excluded:!o})).success&&r(u=>{const d=new Set(u.excludedItems);o?d.delete(i):d.add(i);const m={...u,excludedItems:d};return rn(f3(t),{planPath:m.planPath,trackedFilePaths:m.trackedFilePaths,excludedItems:Array.from(d)}),m})},[e,t,n.excludedItems]);return{...n,toggleExclusion:s}}const mw=(t,e,n)=>{if(t<=2e5)return t*e;const r=2e5*e,a=t-2e5,s=n?2:1.5,i=a*e*s;return r+i},hw=(t,e)=>{if(!e||!t)return;const n=t.indexOf(":");if(n!==-1){const r=t.slice(0,n),a=t.slice(n+1);return e[r]?.modelMetadata?.[a]}},Fhe=[{value:"session",label:"Session"},{value:"last-request",label:"Last Request"}],Bhe=t=>{const e=ae.c(56),{workspaceId:n}=t,r=If(n),a=GZ(n),[s,i]=Tt("costsTab:viewMode","session");let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={listener:!0},e[0]=o):o=e[0];const[c]=Tt(xx,"",o),{has1MContext:u}=Km(),{config:d}=Pu(),m=mC(n),h=Phe(n),p=Fu();let f;e[1]!==p?.workspaceMetadata||e[2]!==n?(f=p?.workspaceMetadata.get(n)?.runtimeConfig,e[1]=p?.workspaceMetadata,e[2]=n,e[3]=f):f=e[3];const g=f,x=r.liveUsage?.model??m.baseModel;let y;e[4]!==d||e[5]!==x?(y=hw(x,d),e[4]=d,e[5]=x,e[6]=y):y=e[6];const w=y;let v;e[7]!==x||e[8]!==c?(v=VZ(c)??x,e[7]=x,e[8]=c,e[9]=v):v=e[9];const k=v;let C;e[10]!==d||e[11]!==k?(C=hw(k,d),e[10]=d,e[11]=k,e[12]=C):C=e[12];const _=C,{threshold:S,setThreshold:T}=fC(n,x);let N;if(e[13]!==r.liveCostUsage||e[14]!==r.sessionTotal){const H=[];r.sessionTotal&&H.push(r.sessionTotal),r.liveCostUsage&&H.push(r.liveCostUsage),N=H.length>0?Ex(H):void 0,e[13]=r.liveCostUsage,e[14]=r.sessionTotal,e[15]=N}else N=e[15];const j=N,R=r&&(r.sessionTotal!==void 0||r.lastContextUsage!==void 0||r.liveUsage!==void 0),I=a&&(a.totalTokens>0||a.isCalculating);if(!(R||I)){let H;return e[16]===Symbol.for("react.memo_cache_sentinel")?(H=l.jsx("div",{className:"text-light font-primary text-[13px] leading-relaxed",children:l.jsxs("div",{className:"text-secondary px-5 py-10 text-center",children:[l.jsx("p",{children:"No messages yet."}),l.jsx("p",{children:"Send a message to see token usage statistics."})]})}),e[16]=H):H=e[16],H}const $=r.lastRequest?.usage,E=s==="last-request"?$:j;let M;e[17]!==S||e[18]!==_||e[19]!==x||e[20]!==w||e[21]!==k||e[22]!==u||e[23]!==R||e[24]!==h||e[25]!==g||e[26]!==T||e[27]!==r.lastContextUsage||e[28]!==r.liveUsage||e[29]!==n?(M=R&&l.jsxs("div",{"data-testid":"context-usage-section",className:"mt-2 mb-5",children:[l.jsx("div",{"data-testid":"context-usage-list",className:"flex flex-col gap-3",children:(()=>{const H=r.liveUsage??r.lastContextUsage,D=H?wL(H,x,u(x),!1,w):{segments:[],totalTokens:0,totalPercentage:0},U=(()=>{const B=D.maxTokens;if(!B||S>=100||!k)return;const q=Math.round(S/100*B),V=Yl(k,_),Z=u(k)&&Kl(k)?1e6:V?.max_input_tokens;if(Z&&Z<q)return{compactionModelMaxTokens:Z,thresholdTokens:q}})();return l.jsx(Rhe,{testId:"context-usage",data:D,model:x,autoCompaction:{threshold:S,setThreshold:T,contextWarning:U}})})()}),l.jsx(Mhe,{workspaceId:n,planPath:h.planPath,trackedFilePaths:h.trackedFilePaths,excludedItems:h.excludedItems,onToggleExclusion:h.toggleExclusion,runtimeConfig:g})]}),e[17]=S,e[18]=_,e[19]=x,e[20]=w,e[21]=k,e[22]=u,e[23]=R,e[24]=h,e[25]=g,e[26]=T,e[27]=r.lastContextUsage,e[28]=r.liveUsage,e[29]=n,e[30]=M):M=e[30];let F;e[31]!==d||e[32]!==E||e[33]!==u||e[34]!==R||e[35]!==$?.model||e[36]!==i||e[37]!==s?(F=R&&l.jsx("div",{"data-testid":"cost-section",className:"mb-6",children:l.jsx("div",{className:"flex flex-col gap-3",children:(()=>{const H=E?.model??$?.model??"unknown",D=hw(H,d),U=Yl(H,D),B=u(H)&&Kl(H),q=Hhe;let V=E?.input.cost_usd,Z=E?.output.cost_usd,W=E?.reasoning.cost_usd;B&&E&&U&&(V=mw(E.input.tokens,U.input_cost_per_token,!0),Z=mw(E.output.tokens,U.output_cost_per_token,!1),W=mw(E.reasoning.tokens,U.output_cost_per_token,!1));const K=E&&V!==void 0&&E.cached.cost_usd!==void 0&&E.cacheCreate.cost_usd!==void 0&&Z!==void 0&&W!==void 0?V+E.cached.cost_usd+E.cacheCreate.cost_usd+Z+W:void 0,J=q(V,K),ee=q(E?.cached.cost_usd,K),se=q(E?.cacheCreate.cost_usd,K),re=q(Z,K),ue=q(W,K),he=E?[{name:"Cache Read",tokens:E.cached.tokens,cost:E.cached.cost_usd,color:Va.cached,show:E.cached.tokens>0},{name:"Cache Create",tokens:E.cacheCreate.tokens,cost:E.cacheCreate.cost_usd,color:Va.cacheCreate,show:E.cacheCreate.tokens>0},{name:"Input",tokens:E.input.tokens,cost:V,color:Va.input,show:!0},{name:"Output",tokens:E.output.tokens,cost:Z,color:Va.output,show:!0},{name:"Thinking",tokens:E.reasoning.tokens,cost:W,color:Va.thinking,show:E.reasoning.tokens>0}].filter(qhe):[];return l.jsxs(l.Fragment,{children:[K!==void 0&&K>=0&&l.jsxs("div",{"data-testid":"cost-bar",className:"relative mb-2 flex flex-col gap-1",children:[l.jsxs("div",{"data-testid":"cost-header",className:"mb-2 flex items-baseline justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-foreground inline-flex items-baseline gap-1 font-medium",children:"Cost"}),l.jsx(dC,{options:Fhe,value:s,onChange:i})]}),l.jsxs("span",{className:"text-muted flex items-center gap-1 text-xs",children:[jx(K),E?.hasUnknownCosts&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("span",{className:"text-warning cursor-help",children:"?"})}),l.jsx(Ke,{side:"bottom",className:"max-w-[200px]",children:"Cost may be incomplete  some models in this session have unknown pricing"})]})]})]}),l.jsx("div",{className:"relative w-full",children:l.jsxs("div",{className:"bg-border-light flex h-1.5 w-full overflow-hidden rounded-[3px]",children:[ee>0&&l.jsx("div",{className:"h-full transition-[width] duration-300",style:{width:`${ee}%`,background:Va.cached}}),se>0&&l.jsx("div",{className:"h-full transition-[width] duration-300",style:{width:`${se}%`,background:Va.cacheCreate}}),l.jsx("div",{className:"h-full transition-[width] duration-300",style:{width:`${J}%`,background:Va.input}}),l.jsx("div",{className:"h-full transition-[width] duration-300",style:{width:`${re}%`,background:Va.output}}),ue>0&&l.jsx("div",{className:"h-full transition-[width] duration-300",style:{width:`${ue}%`,background:Va.thinking}})]})})]}),l.jsxs("table",{"data-testid":"cost-details",className:"mt-1 w-full border-collapse text-[11px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-border-light border-b",children:[l.jsx("th",{className:"text-muted py-1 pr-2 text-left font-medium [&:last-child]:pr-0 [&:last-child]:text-right",children:"Component"}),l.jsx("th",{className:"text-muted py-1 pr-2 text-left font-medium [&:last-child]:pr-0 [&:last-child]:text-right",children:"Tokens"}),l.jsx("th",{className:"text-muted py-1 pr-2 text-left font-medium [&:last-child]:pr-0 [&:last-child]:text-right",children:"Cost"})]})}),l.jsx("tbody",{children:he.map(Uhe)})]})]})})()})}),e[31]=d,e[32]=E,e[33]=u,e[34]=R,e[35]=$?.model,e[36]=i,e[37]=s,e[38]=F):F=e[38];let L;e[39]!==a.topFilePaths||e[40]!==a.totalTokens?(L=a.topFilePaths&&a.topFilePaths.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("h3",{className:"text-subtle m-0 mb-2 flex items-center gap-1 text-xs font-semibold tracking-wide uppercase",children:["File Breakdown",l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("span",{className:"text-dim cursor-help text-[10px] font-normal",children:""})}),l.jsx(Ke,{align:"start",className:"max-w-72 whitespace-normal",children:"Token usage from file_read and file_edit tools, aggregated by file path. Consider splitting large files to reduce context usage."})]})]}),l.jsx(jhe,{files:a.topFilePaths,totalTokens:a.totalTokens})]}),e[39]=a.topFilePaths,e[40]=a.totalTokens,e[41]=L):L=e[41];let Y;e[42]!==a.consumers||e[43]!==a.isCalculating||e[44]!==a.totalTokens?(Y=a.consumers.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-subtle m-0 mb-2 text-xs font-semibold tracking-wide uppercase",children:"Consumer Breakdown"}),a.isCalculating?l.jsx("div",{className:"text-secondary py-2 text-xs italic",children:"Calculating..."}):l.jsx(khe,{consumers:a.consumers,totalTokens:a.totalTokens})]}),e[42]=a.consumers,e[43]=a.isCalculating,e[44]=a.totalTokens,e[45]=Y):Y=e[45];let O;e[46]!==a.consumers.length||e[47]!==a.isCalculating||e[48]!==a.topFilePaths?(O=!a.isCalculating&&a.consumers.length===0&&(!a.topFilePaths||a.topFilePaths.length===0)&&l.jsx("div",{className:"text-dim py-2 text-xs italic",children:"No consumer data available"}),e[46]=a.consumers.length,e[47]=a.isCalculating,e[48]=a.topFilePaths,e[49]=O):O=e[49];let G;return e[50]!==Y||e[51]!==O||e[52]!==M||e[53]!==F||e[54]!==L?(G=l.jsxs("div",{className:"text-light font-primary text-[13px] leading-relaxed",children:[M,F,L,Y,O]}),e[50]=Y,e[51]=O,e[52]=M,e[53]=F,e[54]=L,e[55]=G):G=e[55],G},zhe=xe.memo(Bhe);function Hhe(t,e){return e!==void 0&&e>0&&t!==void 0?t/e*100:0}function qhe(t){return t.show}function Uhe(t){const e=jx(t.cost),n=t.cost!==void 0&&t.cost>0&&t.cost<.01;return l.jsxs("tr",{children:[l.jsx("td",{className:"text-foreground py-1 pr-2 [&:last-child]:pr-0 [&:last-child]:text-right",children:l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("div",{className:"h-2 w-2 shrink-0 rounded-sm",style:{background:t.color}}),t.name]})}),l.jsx("td",{className:"text-foreground py-1 pr-2 [&:last-child]:pr-0 [&:last-child]:text-right",children:Xs(t.tokens)}),l.jsx("td",{className:"text-foreground py-1 pr-2 [&:last-child]:pr-0 [&:last-child]:text-right",children:n?l.jsx("span",{className:"text-dim italic",children:e}):e})]},t.name)}const Whe=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,_L=new Set,rk=typeof process=="object"&&process?process:{},CL=(t,e,n,r)=>{typeof rk.emitWarning=="function"?rk.emitWarning(t,e,n,r):console.error(`[${n}] ${e}: ${t}`)};let H1=globalThis.AbortController,H9=globalThis.AbortSignal;if(typeof H1>"u"){H9=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(r,a){this._onabort.push(a)}},H1=class{constructor(){e()}signal=new H9;abort(r){if(!this.signal.aborted){this.signal.reason=r,this.signal.aborted=!0;for(const a of this.signal._onabort)a(r);this.signal.onabort?.(r)}}};let t=rk.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const e=()=>{t&&(t=!1,CL("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const Ghe=t=>!_L.has(t),El=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),SL=t=>El(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?Bg:null:null;class Bg extends Array{constructor(e){super(e),this.fill(0)}}let Vhe=class Wh{heap;length;static#o=!1;static create(e){const n=SL(e);if(!n)return[];Wh.#o=!0;const r=new Wh(e,n);return Wh.#o=!1,r}constructor(e,n){if(!Wh.#o)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}};class Ym{#o;#d;#g;#N;#b;#R;#M;#x;get perf(){return this.#x}ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#a;#y;#r;#n;#e;#c;#m;#l;#s;#w;#i;#v;#k;#h;#p;#_;#E;#u;#D;static unsafeExposeInternals(e){return{starts:e.#k,ttls:e.#h,autopurgeTimers:e.#p,sizes:e.#v,keyMap:e.#r,keyList:e.#n,valList:e.#e,next:e.#c,prev:e.#m,get head(){return e.#l},get tail(){return e.#s},free:e.#w,isBackgroundFetch:n=>e.#t(n),backgroundFetch:(n,r,a,s)=>e.#P(n,r,a,s),moveToTail:n=>e.#I(n),indexes:n=>e.#C(n),rindexes:n=>e.#S(n),isStale:n=>e.#f(n)}}get max(){return this.#o}get maxSize(){return this.#d}get calculatedSize(){return this.#y}get size(){return this.#a}get fetchMethod(){return this.#R}get memoMethod(){return this.#M}get dispose(){return this.#g}get onInsert(){return this.#N}get disposeAfter(){return this.#b}constructor(e){const{max:n=0,ttl:r,ttlResolution:a=1,ttlAutopurge:s,updateAgeOnGet:i,updateAgeOnHas:o,allowStale:c,dispose:u,onInsert:d,disposeAfter:m,noDisposeOnSet:h,noUpdateTTL:p,maxSize:f=0,maxEntrySize:g=0,sizeCalculation:x,fetchMethod:y,memoMethod:w,noDeleteOnFetchRejection:v,noDeleteOnStaleGet:k,allowStaleOnFetchRejection:C,allowStaleOnFetchAbort:_,ignoreFetchAbort:S,perf:T}=e;if(T!==void 0&&typeof T?.now!="function")throw new TypeError("perf option must have a now() method if specified");if(this.#x=T??Whe,n!==0&&!El(n))throw new TypeError("max option must be a nonnegative integer");const N=n?SL(n):Array;if(!N)throw new Error("invalid max value: "+n);if(this.#o=n,this.#d=f,this.maxEntrySize=g||this.#d,this.sizeCalculation=x,this.sizeCalculation){if(!this.#d&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(w!==void 0&&typeof w!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#M=w,y!==void 0&&typeof y!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#R=y,this.#E=!!y,this.#r=new Map,this.#n=new Array(n).fill(void 0),this.#e=new Array(n).fill(void 0),this.#c=new N(n),this.#m=new N(n),this.#l=0,this.#s=0,this.#w=Vhe.create(n),this.#a=0,this.#y=0,typeof u=="function"&&(this.#g=u),typeof d=="function"&&(this.#N=d),typeof m=="function"?(this.#b=m,this.#i=[]):(this.#b=void 0,this.#i=void 0),this.#_=!!this.#g,this.#D=!!this.#N,this.#u=!!this.#b,this.noDisposeOnSet=!!h,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!v,this.allowStaleOnFetchRejection=!!C,this.allowStaleOnFetchAbort=!!_,this.ignoreFetchAbort=!!S,this.maxEntrySize!==0){if(this.#d!==0&&!El(this.#d))throw new TypeError("maxSize must be a positive integer if specified");if(!El(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#W()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!k,this.updateAgeOnGet=!!i,this.updateAgeOnHas=!!o,this.ttlResolution=El(a)||a===0?a:1,this.ttlAutopurge=!!s,this.ttl=r||0,this.ttl){if(!El(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#F()}if(this.#o===0&&this.ttl===0&&this.#d===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#o&&!this.#d){const j="LRU_CACHE_UNBOUNDED";Ghe(j)&&(_L.add(j),CL("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",j,Ym))}}getRemainingTTL(e){return this.#r.has(e)?1/0:0}#F(){const e=new Bg(this.#o),n=new Bg(this.#o);this.#h=e,this.#k=n;const r=this.ttlAutopurge?new Array(this.#o):void 0;this.#p=r,this.#B=(i,o,c=this.#x.now())=>{if(n[i]=o!==0?c:0,e[i]=o,r?.[i]&&(clearTimeout(r[i]),r[i]=void 0),o!==0&&r){const u=setTimeout(()=>{this.#f(i)&&this.#j(this.#n[i],"expire")},o+1);u.unref&&u.unref(),r[i]=u}},this.#$=i=>{n[i]=e[i]!==0?this.#x.now():0},this.#T=(i,o)=>{if(e[o]){const c=e[o],u=n[o];if(!c||!u)return;i.ttl=c,i.start=u,i.now=a||s();const d=i.now-u;i.remainingTTL=c-d}};let a=0;const s=()=>{const i=this.#x.now();if(this.ttlResolution>0){a=i;const o=setTimeout(()=>a=0,this.ttlResolution);o.unref&&o.unref()}return i};this.getRemainingTTL=i=>{const o=this.#r.get(i);if(o===void 0)return 0;const c=e[o],u=n[o];if(!c||!u)return 1/0;const d=(a||s())-u;return c-d},this.#f=i=>{const o=n[i],c=e[i];return!!c&&!!o&&(a||s())-o>c}}#$=()=>{};#T=()=>{};#B=()=>{};#f=()=>!1;#W(){const e=new Bg(this.#o);this.#y=0,this.#v=e,this.#A=n=>{this.#y-=e[n],e[n]=0},this.#z=(n,r,a,s)=>{if(this.#t(r))return 0;if(!El(a))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(a=s(r,n),!El(a))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return a},this.#L=(n,r,a)=>{if(e[n]=r,this.#d){const s=this.#d-e[n];for(;this.#y>s;)this.#O(!0)}this.#y+=e[n],a&&(a.entrySize=r,a.totalCalculatedSize=this.#y)}}#A=e=>{};#L=(e,n,r)=>{};#z=(e,n,r,a)=>{if(r||a)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#C({allowStale:e=this.allowStale}={}){if(this.#a)for(let n=this.#s;!(!this.#H(n)||((e||!this.#f(n))&&(yield n),n===this.#l));)n=this.#m[n]}*#S({allowStale:e=this.allowStale}={}){if(this.#a)for(let n=this.#l;!(!this.#H(n)||((e||!this.#f(n))&&(yield n),n===this.#s));)n=this.#c[n]}#H(e){return e!==void 0&&this.#r.get(this.#n[e])===e}*entries(){for(const e of this.#C())this.#e[e]!==void 0&&this.#n[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#n[e],this.#e[e]])}*rentries(){for(const e of this.#S())this.#e[e]!==void 0&&this.#n[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#n[e],this.#e[e]])}*keys(){for(const e of this.#C()){const n=this.#n[e];n!==void 0&&!this.#t(this.#e[e])&&(yield n)}}*rkeys(){for(const e of this.#S()){const n=this.#n[e];n!==void 0&&!this.#t(this.#e[e])&&(yield n)}}*values(){for(const e of this.#C())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}*rvalues(){for(const e of this.#S())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,n={}){for(const r of this.#C()){const a=this.#e[r],s=this.#t(a)?a.__staleWhileFetching:a;if(s!==void 0&&e(s,this.#n[r],this))return this.get(this.#n[r],n)}}forEach(e,n=this){for(const r of this.#C()){const a=this.#e[r],s=this.#t(a)?a.__staleWhileFetching:a;s!==void 0&&e.call(n,s,this.#n[r],this)}}rforEach(e,n=this){for(const r of this.#S()){const a=this.#e[r],s=this.#t(a)?a.__staleWhileFetching:a;s!==void 0&&e.call(n,s,this.#n[r],this)}}purgeStale(){let e=!1;for(const n of this.#S({allowStale:!0}))this.#f(n)&&(this.#j(this.#n[n],"expire"),e=!0);return e}info(e){const n=this.#r.get(e);if(n===void 0)return;const r=this.#e[n],a=this.#t(r)?r.__staleWhileFetching:r;if(a===void 0)return;const s={value:a};if(this.#h&&this.#k){const i=this.#h[n],o=this.#k[n];if(i&&o){const c=i-(this.#x.now()-o);s.ttl=c,s.start=Date.now()}}return this.#v&&(s.size=this.#v[n]),s}dump(){const e=[];for(const n of this.#C({allowStale:!0})){const r=this.#n[n],a=this.#e[n],s=this.#t(a)?a.__staleWhileFetching:a;if(s===void 0||r===void 0)continue;const i={value:s};if(this.#h&&this.#k){i.ttl=this.#h[n];const o=this.#x.now()-this.#k[n];i.start=Math.floor(Date.now()-o)}this.#v&&(i.size=this.#v[n]),e.unshift([r,i])}return e}load(e){this.clear();for(const[n,r]of e){if(r.start){const a=Date.now()-r.start;r.start=this.#x.now()-a}this.set(n,r.value,r)}}set(e,n,r={}){if(n===void 0)return this.delete(e),this;const{ttl:a=this.ttl,start:s,noDisposeOnSet:i=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:c}=r;let{noUpdateTTL:u=this.noUpdateTTL}=r;const d=this.#z(e,n,r.size||0,o);if(this.maxEntrySize&&d>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.#j(e,"set"),this;let m=this.#a===0?void 0:this.#r.get(e);if(m===void 0)m=this.#a===0?this.#s:this.#w.length!==0?this.#w.pop():this.#a===this.#o?this.#O(!1):this.#a,this.#n[m]=e,this.#e[m]=n,this.#r.set(e,m),this.#c[this.#s]=m,this.#m[m]=this.#s,this.#s=m,this.#a++,this.#L(m,d,c),c&&(c.set="add"),u=!1,this.#D&&this.#N?.(n,e,"add");else{this.#I(m);const h=this.#e[m];if(n!==h){if(this.#E&&this.#t(h)){h.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:p}=h;p!==void 0&&!i&&(this.#_&&this.#g?.(p,e,"set"),this.#u&&this.#i?.push([p,e,"set"]))}else i||(this.#_&&this.#g?.(h,e,"set"),this.#u&&this.#i?.push([h,e,"set"]));if(this.#A(m),this.#L(m,d,c),this.#e[m]=n,c){c.set="replace";const p=h&&this.#t(h)?h.__staleWhileFetching:h;p!==void 0&&(c.oldValue=p)}}else c&&(c.set="update");this.#D&&this.onInsert?.(n,e,n===h?"update":"replace")}if(a!==0&&!this.#h&&this.#F(),this.#h&&(u||this.#B(m,a,s),c&&this.#T(c,m)),!i&&this.#u&&this.#i){const h=this.#i;let p;for(;p=h?.shift();)this.#b?.(...p)}return this}pop(){try{for(;this.#a;){const e=this.#e[this.#l];if(this.#O(!0),this.#t(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#u&&this.#i){const e=this.#i;let n;for(;n=e?.shift();)this.#b?.(...n)}}}#O(e){const n=this.#l,r=this.#n[n],a=this.#e[n];return this.#E&&this.#t(a)?a.__abortController.abort(new Error("evicted")):(this.#_||this.#u)&&(this.#_&&this.#g?.(a,r,"evict"),this.#u&&this.#i?.push([a,r,"evict"])),this.#A(n),this.#p?.[n]&&(clearTimeout(this.#p[n]),this.#p[n]=void 0),e&&(this.#n[n]=void 0,this.#e[n]=void 0,this.#w.push(n)),this.#a===1?(this.#l=this.#s=0,this.#w.length=0):this.#l=this.#c[n],this.#r.delete(r),this.#a--,n}has(e,n={}){const{updateAgeOnHas:r=this.updateAgeOnHas,status:a}=n,s=this.#r.get(e);if(s!==void 0){const i=this.#e[s];if(this.#t(i)&&i.__staleWhileFetching===void 0)return!1;if(this.#f(s))a&&(a.has="stale",this.#T(a,s));else return r&&this.#$(s),a&&(a.has="hit",this.#T(a,s)),!0}else a&&(a.has="miss");return!1}peek(e,n={}){const{allowStale:r=this.allowStale}=n,a=this.#r.get(e);if(a===void 0||!r&&this.#f(a))return;const s=this.#e[a];return this.#t(s)?s.__staleWhileFetching:s}#P(e,n,r,a){const s=n===void 0?void 0:this.#e[n];if(this.#t(s))return s;const i=new H1,{signal:o}=r;o?.addEventListener("abort",()=>i.abort(o.reason),{signal:i.signal});const c={signal:i.signal,options:r,context:a},u=(g,x=!1)=>{const{aborted:y}=i.signal,w=r.ignoreFetchAbort&&g!==void 0;if(r.status&&(y&&!x?(r.status.fetchAborted=!0,r.status.fetchError=i.signal.reason,w&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),y&&!w&&!x)return m(i.signal.reason);const v=p,k=this.#e[n];return(k===p||w&&x&&k===void 0)&&(g===void 0?v.__staleWhileFetching!==void 0?this.#e[n]=v.__staleWhileFetching:this.#j(e,"fetch"):(r.status&&(r.status.fetchUpdated=!0),this.set(e,g,c.options))),g},d=g=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=g),m(g)),m=g=>{const{aborted:x}=i.signal,y=x&&r.allowStaleOnFetchAbort,w=y||r.allowStaleOnFetchRejection,v=w||r.noDeleteOnFetchRejection,k=p;if(this.#e[n]===p&&(!v||k.__staleWhileFetching===void 0?this.#j(e,"fetch"):y||(this.#e[n]=k.__staleWhileFetching)),w)return r.status&&k.__staleWhileFetching!==void 0&&(r.status.returnedStale=!0),k.__staleWhileFetching;if(k.__returned===k)throw g},h=(g,x)=>{const y=this.#R?.(e,s,c);y&&y instanceof Promise&&y.then(w=>g(w===void 0?void 0:w),x),i.signal.addEventListener("abort",()=>{(!r.ignoreFetchAbort||r.allowStaleOnFetchAbort)&&(g(void 0),r.allowStaleOnFetchAbort&&(g=w=>u(w,!0)))})};r.status&&(r.status.fetchDispatched=!0);const p=new Promise(h).then(u,d),f=Object.assign(p,{__abortController:i,__staleWhileFetching:s,__returned:void 0});return n===void 0?(this.set(e,f,{...c.options,status:void 0}),n=this.#r.get(e)):this.#e[n]=f,f}#t(e){if(!this.#E)return!1;const n=e;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof H1}async fetch(e,n={}){const{allowStale:r=this.allowStale,updateAgeOnGet:a=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:i=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:c=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:m=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:f=this.allowStaleOnFetchAbort,context:g,forceRefresh:x=!1,status:y,signal:w}=n;if(!this.#E)return y&&(y.fetch="get"),this.get(e,{allowStale:r,updateAgeOnGet:a,noDeleteOnStaleGet:s,status:y});const v={allowStale:r,updateAgeOnGet:a,noDeleteOnStaleGet:s,ttl:i,noDisposeOnSet:o,size:c,sizeCalculation:u,noUpdateTTL:d,noDeleteOnFetchRejection:m,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:f,ignoreFetchAbort:p,status:y,signal:w};let k=this.#r.get(e);if(k===void 0){y&&(y.fetch="miss");const C=this.#P(e,k,v,g);return C.__returned=C}else{const C=this.#e[k];if(this.#t(C)){const j=r&&C.__staleWhileFetching!==void 0;return y&&(y.fetch="inflight",j&&(y.returnedStale=!0)),j?C.__staleWhileFetching:C.__returned=C}const _=this.#f(k);if(!x&&!_)return y&&(y.fetch="hit"),this.#I(k),a&&this.#$(k),y&&this.#T(y,k),C;const S=this.#P(e,k,v,g),N=S.__staleWhileFetching!==void 0&&r;return y&&(y.fetch=_?"stale":"refresh",N&&_&&(y.returnedStale=!0)),N?S.__staleWhileFetching:S.__returned=S}}async forceFetch(e,n={}){const r=await this.fetch(e,n);if(r===void 0)throw new Error("fetch() returned undefined");return r}memo(e,n={}){const r=this.#M;if(!r)throw new Error("no memoMethod provided to constructor");const{context:a,forceRefresh:s,...i}=n,o=this.get(e,i);if(!s&&o!==void 0)return o;const c=r(e,o,{options:i,context:a});return this.set(e,c,i),c}get(e,n={}){const{allowStale:r=this.allowStale,updateAgeOnGet:a=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:i}=n,o=this.#r.get(e);if(o!==void 0){const c=this.#e[o],u=this.#t(c);return i&&this.#T(i,o),this.#f(o)?(i&&(i.get="stale"),u?(i&&r&&c.__staleWhileFetching!==void 0&&(i.returnedStale=!0),r?c.__staleWhileFetching:void 0):(s||this.#j(e,"expire"),i&&r&&(i.returnedStale=!0),r?c:void 0)):(i&&(i.get="hit"),u?c.__staleWhileFetching:(this.#I(o),a&&this.#$(o),c))}else i&&(i.get="miss")}#q(e,n){this.#m[n]=e,this.#c[e]=n}#I(e){e!==this.#s&&(e===this.#l?this.#l=this.#c[e]:this.#q(this.#m[e],this.#c[e]),this.#q(this.#s,e),this.#s=e)}delete(e){return this.#j(e,"delete")}#j(e,n){let r=!1;if(this.#a!==0){const a=this.#r.get(e);if(a!==void 0)if(this.#p?.[a]&&(clearTimeout(this.#p?.[a]),this.#p[a]=void 0),r=!0,this.#a===1)this.#U(n);else{this.#A(a);const s=this.#e[a];if(this.#t(s)?s.__abortController.abort(new Error("deleted")):(this.#_||this.#u)&&(this.#_&&this.#g?.(s,e,n),this.#u&&this.#i?.push([s,e,n])),this.#r.delete(e),this.#n[a]=void 0,this.#e[a]=void 0,a===this.#s)this.#s=this.#m[a];else if(a===this.#l)this.#l=this.#c[a];else{const i=this.#m[a];this.#c[i]=this.#c[a];const o=this.#c[a];this.#m[o]=this.#m[a]}this.#a--,this.#w.push(a)}}if(this.#u&&this.#i?.length){const a=this.#i;let s;for(;s=a?.shift();)this.#b?.(...s)}return r}clear(){return this.#U("delete")}#U(e){for(const n of this.#S({allowStale:!0})){const r=this.#e[n];if(this.#t(r))r.__abortController.abort(new Error("deleted"));else{const a=this.#n[n];this.#_&&this.#g?.(r,a,e),this.#u&&this.#i?.push([r,a,e])}}if(this.#r.clear(),this.#e.fill(void 0),this.#n.fill(void 0),this.#h&&this.#k){this.#h.fill(0),this.#k.fill(0);for(const n of this.#p??[])n!==void 0&&clearTimeout(n);this.#p?.fill(void 0)}if(this.#v&&this.#v.fill(0),this.#l=0,this.#s=0,this.#w.length=0,this.#y=0,this.#a=0,this.#u&&this.#i){const n=this.#i;let r;for(;r=n?.shift();)this.#b?.(...r)}}}const q9={".ts":"typescript",".tsx":"tsx",".js":"javascript",".mjs":"javascript",".cjs":"javascript",".jsx":"jsx",".html":"html",".htm":"html",".css":"css",".scss":"scss",".sass":"sass",".less":"less",".py":"python",".pyw":"python",".java":"java",".cs":"csharp",".cpp":"cpp",".cc":"cpp",".cxx":"cpp",".c":"c",".h":"c",".go":"go",".rs":"rust",".rb":"ruby",".php":"php",".kt":"kotlin",".kts":"kotlin",".swift":"swift",".scala":"scala",".sc":"scala",".ex":"elixir",".exs":"elixir",".erl":"erlang",".hrl":"erlang",".hs":"haskell",".lhs":"haskell",".lua":"lua",".pl":"perl",".pm":"perl",".r":"r",".R":"r",".sh":"bash",".bash":"bash",".zsh":"bash",".ps1":"powershell",".psm1":"powershell",".bat":"batch",".cmd":"batch",".json":"json",".jsonc":"json",".yaml":"yaml",".yml":"yaml",".toml":"toml",".xml":"xml",".md":"markdown",".markdown":"markdown",".sql":"sql",".graphql":"graphql",".gql":"graphql",".vim":"vim",".diff":"diff",".patch":"diff",".clj":"clojure",".cljs":"clojurescript",".coffee":"coffeescript",".dart":"dart",".elm":"elm",".jl":"julia",".nim":"nim",".ml":"ocaml",".re":"reason",".sol":"solidity",".zig":"zig"},U9={Dockerfile:"docker","Dockerfile.dev":"docker","Dockerfile.prod":"docker","Dockerfile.test":"docker",Makefile:"makefile",GNUmakefile:"makefile",makefile:"makefile",Gemfile:"ruby","Gemfile.lock":"ruby",Rakefile:"ruby",Vagrantfile:"ruby"};function gC(t){const e=t.split("/"),n=e[e.length-1],r=n.lastIndexOf("."),a=r>=0?n.slice(r).toLowerCase():"";return U9[n]?U9[n]:a&&q9[a]?q9[a]:"text"}const Khe={typescript:"TypeScript",tsx:"TypeScript React",javascript:"JavaScript",jsx:"JavaScript React",html:"HTML",css:"CSS",scss:"SCSS",sass:"Sass",less:"Less",python:"Python",java:"Java",csharp:"C#",cpp:"C++",c:"C",go:"Go",rust:"Rust",ruby:"Ruby",php:"PHP",kotlin:"Kotlin",swift:"Swift",scala:"Scala",elixir:"Elixir",erlang:"Erlang",haskell:"Haskell",clojure:"Clojure",lua:"Lua",perl:"Perl",r:"R",julia:"Julia",dart:"Dart",sql:"SQL",graphql:"GraphQL",json:"JSON",yaml:"YAML",toml:"TOML",xml:"XML",markdown:"Markdown",latex:"LaTeX",bash:"Bash",powershell:"PowerShell",docker:"Dockerfile",makefile:"Makefile",nginx:"nginx",diff:"Diff",text:"Plain Text"};function Yhe(t){return Khe[t]??t}function Xhe(t,e){const n=ae.c(6);let r;n[0]!==e?(r=e===void 0?{}:e,n[0]=e,n[1]=r):r=n[1];const a=r,{enabled:s}=a,i=s===void 0?!0:s,[o,c]=b.useState(!1),u=b.useRef(null);let d,m;return n[2]!==i||n[3]!==t?(d=()=>{const h=t.current;if(!h||!i){c(!1);return}const p=()=>{u.current===null&&(u.current=requestAnimationFrame(()=>{if(u.current=null,h.isConnected){const g=h.scrollHeight>h.clientHeight+1;c(x=>x===g?x:g)}}))};p();const f=new ResizeObserver(p);return f.observe(h),()=>{u.current!==null&&(cancelAnimationFrame(u.current),u.current=null),f.disconnect()}},m=[t,i],n[2]=i,n[3]=t,n[4]=d,n[5]=m):(d=n[4],m=n[5]),b.useEffect(d,m),o}function q1(t){const e=/(?:^|\s)\+(\d+(?:-\d+)?)/.exec(t);if(e)return e[1];const n=/(?:^|\s)-(\d+(?:-\d+)?)/.exec(t);return n?n[1]:t}const Zhe=t=>{const e=ae.c(72),{review:n,showFilePath:r,actions:a,className:s}=t,i=r===void 0?!1:r,[o,c]=b.useState(!1),[u,d]=b.useState(n.data.userNote),m=b.useRef(null),h=b.useRef(!1),p=b.useRef(a);let f,g;e[0]!==a?(f=()=>{p.current=a},g=[a],e[0]=a,e[1]=f,e[2]=g):(f=e[1],g=e[2]),b.useEffect(f,g);let x,y;e[3]!==n.id?(x=()=>()=>{h.current&&p.current?.onEditingChange?.(n.id,!1)},y=[n.id],e[3]=n.id,e[4]=x,e[5]=y):(x=e[4],y=e[5]),b.useEffect(x,y);let w;e[6]!==a||e[7]!==n.data.userNote||e[8]!==n.id?(w=()=>{d(n.data.userNote),c(!0),h.current=!0,a?.onEditingChange?.(n.id,!0),setTimeout(()=>m.current?.focus(),0)},e[6]=a,e[7]=n.data.userNote,e[8]=n.id,e[9]=w):w=e[9];const v=w;let k;e[10]!==a||e[11]!==u||e[12]!==n.data.userNote||e[13]!==n.id?(k=()=>{a?.onEditComment&&u.trim()!==n.data.userNote&&a.onEditComment(n.id,u.trim()),c(!1),h.current=!1,a?.onEditingChange?.(n.id,!1)},e[10]=a,e[11]=u,e[12]=n.data.userNote,e[13]=n.id,e[14]=k):k=e[14];const C=k;let _;e[15]!==a||e[16]!==n.data.userNote||e[17]!==n.id?(_=()=>{d(n.data.userNote),c(!1),h.current=!1,a?.onEditingChange?.(n.id,!1)},e[15]=a,e[16]=n.data.userNote,e[17]=n.id,e[18]=_):_=e[18];const S=_;let T;e[19]!==S||e[20]!==C?(T=se=>{bn(se,st.SAVE_EDIT)?(se.preventDefault(),C()):bn(se,st.CANCEL_EDIT)&&(se.preventDefault(),S())},e[19]=S,e[20]=C,e[21]=T):T=e[21];const N=T,j=!!a?.onEditComment&&!o,R=!!a?.onComplete&&n.status!=="checked",I=!!a?.onUncheck&&n.status==="checked",A=!!a?.onDetach&&n.status==="attached",$=!!a?.onAttach&&n.status==="pending",E=!!a?.onDelete,M=[j,R,I,A,$,E].some(Boolean),F=n.status==="checked"?"var(--color-success)":"var(--color-review-accent)",L=n.status==="checked"?"hsl(from var(--color-success) h s l / 0.06)":"hsl(from var(--color-review-accent) h s l / 0.08)",Y=n.status==="checked"?"hsl(from var(--color-success) h s l / 0.3)":"hsl(from var(--color-review-accent) h s l / 0.3)";let O;e[22]!==s?(O=ce("group/review-note flex w-full max-w-[560px] overflow-hidden rounded border shadow-sm",s),e[22]=s,e[23]=O):O=e[23];let G;e[24]!==Y||e[25]!==L?(G={background:L,borderColor:Y},e[24]=Y,e[25]=L,e[26]=G):G=e[26];let H;e[27]!==F?(H=l.jsx("div",{className:"w-[3px] shrink-0",style:{background:F}}),e[27]=F,e[28]=H):H=e[28];let D;e[29]!==F?(D=l.jsx(k1,{className:"size-3 shrink-0",style:{color:F}}),e[29]=F,e[30]=D):D=e[30];let U;e[31]!==n.data.filePath||e[32]!==n.data.lineRange||e[33]!==i?(U=i?l.jsxs("span",{className:"text-primary min-w-0 flex-1 truncate font-mono text-[10px]",children:[n.data.filePath,":L",q1(n.data.lineRange)]}):l.jsxs("span",{className:"text-muted font-mono",children:["L",q1(n.data.lineRange)]}),e[31]=n.data.filePath,e[32]=n.data.lineRange,e[33]=i,e[34]=U):U=e[34];const B=n.status==="checked"?"bg-success/20 text-success":n.status==="attached"?"bg-warning/20 text-warning":"bg-muted/20 text-muted";let q;e[35]!==B?(q=ce("shrink-0 rounded px-1 py-0.5 text-[9px] font-medium uppercase",B),e[35]=B,e[36]=q):q=e[36];let V;e[37]!==n.status||e[38]!==q?(V=l.jsx("span",{className:q,children:n.status}),e[37]=n.status,e[38]=q,e[39]=V):V=e[39];let Z;e[40]!==a||e[41]!==$||e[42]!==R||e[43]!==E||e[44]!==A||e[45]!==j||e[46]!==I||e[47]!==v||e[48]!==M||e[49]!==n.id?(Z=M&&l.jsxs("div",{className:"ml-auto flex shrink-0 items-center gap-0.5 opacity-0 transition-opacity group-hover/review-note:opacity-100",children:[j&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",onClick:v,"aria-label":"Edit comment",className:"text-muted hover:text-secondary flex items-center justify-center rounded p-0.5 transition-colors",children:l.jsx(Rs,{className:"size-3"})})}),l.jsx(Ke,{children:"Edit comment"})]}),R&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",onClick:()=>a?.onComplete?.(n.id),"aria-label":"Mark as done",className:"text-muted hover:text-success flex items-center justify-center rounded p-0.5 transition-colors",children:l.jsx(Hn,{className:"size-3"})})}),l.jsx(Ke,{children:"Mark as done"})]}),I&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",onClick:()=>a?.onUncheck?.(n.id),"aria-label":"Uncheck",className:"text-muted hover:text-warning flex items-center justify-center rounded p-0.5 transition-colors",children:l.jsx(Hn,{className:"size-3"})})}),l.jsx(Ke,{children:"Uncheck (back to pending)"})]}),$&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",onClick:()=>a?.onAttach?.(n.id),"aria-label":"Attach to message",className:"text-muted hover:text-review-accent flex items-center justify-center rounded p-0.5 transition-colors",children:l.jsx(k1,{className:"size-3"})})}),l.jsx(Ke,{children:"Attach to message"})]}),A&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",onClick:()=>a?.onDetach?.(n.id),"aria-label":"Detach from message",className:"text-muted hover:text-secondary flex items-center justify-center rounded p-0.5 transition-colors",children:l.jsx(fI,{className:"size-3"})})}),l.jsx(Ke,{children:"Detach from message"})]}),E&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",onClick:()=>a?.onDelete?.(n.id),"aria-label":"Delete review",className:"text-muted hover:text-error flex items-center justify-center rounded p-0.5 transition-colors",children:l.jsx(fa,{className:"size-3"})})}),l.jsx(Ke,{children:"Delete review"})]})]}),e[40]=a,e[41]=$,e[42]=R,e[43]=E,e[44]=A,e[45]=j,e[46]=I,e[47]=v,e[48]=M,e[49]=n.id,e[50]=Z):Z=e[50];let W;e[51]!==D||e[52]!==U||e[53]!==V||e[54]!==Z?(W=l.jsxs("div",{className:"flex items-center gap-1.5 text-[10px]",children:[D,U,V,Z]}),e[51]=D,e[52]=U,e[53]=V,e[54]=Z,e[55]=W):W=e[55];let K;e[56]!==a?.onEditComment||e[57]!==u||e[58]!==S||e[59]!==N||e[60]!==C||e[61]!==o||e[62]!==n.data.userNote?(K=(n.data.userNote||a?.onEditComment)&&l.jsx("div",{className:"mt-1",children:o?l.jsxs("div",{className:"space-y-1",children:[l.jsx("textarea",{ref:m,value:u,onChange:se=>d(se.target.value),onKeyDown:N,className:"text-primary w-full resize-none rounded border border-[var(--color-review-accent)]/40 bg-[var(--color-review-accent)]/10 px-1.5 py-1 text-[11px] focus:border-[var(--color-review-accent)]/60 focus:outline-none",rows:2,placeholder:"Your comment..."}),l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[l.jsxs("span",{className:"text-muted text-[9px]",children:[Bt(st.SAVE_EDIT),"  ",Bt(st.CANCEL_EDIT)]}),l.jsx(tt,{variant:"ghost",size:"sm",className:"h-5 px-1.5 text-[10px]",onClick:S,children:"Cancel"}),l.jsx(tt,{variant:"secondary",size:"sm",className:"h-5 px-1.5 text-[10px]",onClick:C,children:"Save"})]})]}):n.data.userNote?l.jsx("div",{className:"text-secondary text-[11px] leading-[1.4] whitespace-pre-wrap",children:n.data.userNote}):null}),e[56]=a?.onEditComment,e[57]=u,e[58]=S,e[59]=N,e[60]=C,e[61]=o,e[62]=n.data.userNote,e[63]=K):K=e[63];let J;e[64]!==W||e[65]!==K?(J=l.jsxs("div",{className:"min-w-0 flex-1 px-2 py-1",children:[W,K]}),e[64]=W,e[65]=K,e[66]=J):J=e[66];let ee;return e[67]!==O||e[68]!==G||e[69]!==H||e[70]!==J?(ee=l.jsxs("div",{className:O,style:G,children:[H,J]}),e[67]=O,e[68]=G,e[69]=H,e[70]=J,e[71]=ee):ee=e[71],ee};function jL(t,e,n){const r=[];let a=null,s=e,i=n;for(let o=0;o<t.length;o++){const c=t[o],u=c[0];if(c.startsWith("@@")){a&&a.lines.length>0&&(r.push(a),a=null);const f=/^@@\s+-(\d+)(?:,\d+)?\s+\+(\d+)(?:,\d+)?\s+@@/.exec(c);f&&(s=parseInt(f[1],10),i=parseInt(f[2],10));continue}let d,m,h;u==="+"?(d="add",m=null,h=i++):u==="-"?(d="remove",m=s++,h=null):(d="context",m=s++,h=i++),(!a||a.type!==d)&&(a?.lines.length&&r.push(a),a={type:d,lines:[],startIndex:o,oldLineNumbers:[],newLineNumbers:[]}),a.lines.push(c.slice(1)),a.oldLineNumbers.push(m),a.newLineNumbers.push(h)}return a&&a.lines.length>0&&r.push(a),r}const TL=Symbol("Comlink.proxy"),Qhe=Symbol("Comlink.endpoint"),Jhe=Symbol("Comlink.releaseProxy"),pw=Symbol("Comlink.finalizer"),zg=Symbol("Comlink.thrown"),EL=t=>typeof t=="object"&&t!==null||typeof t=="function",epe={canHandle:t=>EL(t)&&t[TL],serialize(t){const{port1:e,port2:n}=new MessageChannel;return $L(t,e),[n,[n]]},deserialize(t){return t.start(),IL(t)}},tpe={canHandle:t=>EL(t)&&zg in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},NL=new Map([["proxy",epe],["throw",tpe]]);function npe(t,e){for(const n of t)if(e===n||n==="*"||n instanceof RegExp&&n.test(e))return!0;return!1}function $L(t,e=globalThis,n=["*"]){e.addEventListener("message",function r(a){if(!a||!a.data)return;if(!npe(n,a.origin)){console.warn(`Invalid origin '${a.origin}' for comlink proxy`);return}const{id:s,type:i,path:o}=Object.assign({path:[]},a.data),c=(a.data.argumentList||[]).map(Bc);let u;try{const d=o.slice(0,-1).reduce((h,p)=>h[p],t),m=o.reduce((h,p)=>h[p],t);switch(i){case"GET":u=m;break;case"SET":d[o.slice(-1)[0]]=Bc(a.data.value),u=!0;break;case"APPLY":u=m.apply(d,c);break;case"CONSTRUCT":{const h=new m(...c);u=lpe(h)}break;case"ENDPOINT":{const{port1:h,port2:p}=new MessageChannel;$L(t,p),u=ope(h,[h])}break;case"RELEASE":u=void 0;break;default:return}}catch(d){u={value:d,[zg]:0}}Promise.resolve(u).catch(d=>({value:d,[zg]:0})).then(d=>{const[m,h]=G1(d);e.postMessage(Object.assign(Object.assign({},m),{id:s}),h),i==="RELEASE"&&(e.removeEventListener("message",r),AL(e),pw in t&&typeof t[pw]=="function"&&t[pw]())}).catch(d=>{const[m,h]=G1({value:new TypeError("Unserializable return value"),[zg]:0});e.postMessage(Object.assign(Object.assign({},m),{id:s}),h)})}),e.start&&e.start()}function rpe(t){return t.constructor.name==="MessagePort"}function AL(t){rpe(t)&&t.close()}function IL(t,e){const n=new Map;return t.addEventListener("message",function(a){const{data:s}=a;if(!s||!s.id)return;const i=n.get(s.id);if(i)try{i(s)}finally{n.delete(s.id)}}),ak(t,n,[],e)}function z0(t){if(t)throw new Error("Proxy has been released and is not useable")}function RL(t){return kd(t,new Map,{type:"RELEASE"}).then(()=>{AL(t)})}const U1=new WeakMap,W1="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(U1.get(t)||0)-1;U1.set(t,e),e===0&&RL(t)});function ape(t,e){const n=(U1.get(e)||0)+1;U1.set(e,n),W1&&W1.register(t,e,t)}function spe(t){W1&&W1.unregister(t)}function ak(t,e,n=[],r=function(){}){let a=!1;const s=new Proxy(r,{get(i,o){if(z0(a),o===Jhe)return()=>{spe(s),RL(t),e.clear(),a=!0};if(o==="then"){if(n.length===0)return{then:()=>s};const c=kd(t,e,{type:"GET",path:n.map(u=>u.toString())}).then(Bc);return c.then.bind(c)}return ak(t,e,[...n,o])},set(i,o,c){z0(a);const[u,d]=G1(c);return kd(t,e,{type:"SET",path:[...n,o].map(m=>m.toString()),value:u},d).then(Bc)},apply(i,o,c){z0(a);const u=n[n.length-1];if(u===Qhe)return kd(t,e,{type:"ENDPOINT"}).then(Bc);if(u==="bind")return ak(t,e,n.slice(0,-1));const[d,m]=W9(c);return kd(t,e,{type:"APPLY",path:n.map(h=>h.toString()),argumentList:d},m).then(Bc)},construct(i,o){z0(a);const[c,u]=W9(o);return kd(t,e,{type:"CONSTRUCT",path:n.map(d=>d.toString()),argumentList:c},u).then(Bc)}});return ape(s,t),s}function ipe(t){return Array.prototype.concat.apply([],t)}function W9(t){const e=t.map(G1);return[e.map(n=>n[0]),ipe(e.map(n=>n[1]))]}const ML=new WeakMap;function ope(t,e){return ML.set(t,e),t}function lpe(t){return Object.assign(t,{[TL]:!0})}function G1(t){for(const[e,n]of NL)if(n.canHandle(t)){const[r,a]=n.serialize(t);return[{type:"HANDLER",name:e,value:r},a]}return[{type:"RAW",value:t},ML.get(t)||[]]}function Bc(t){switch(t.type){case"HANDLER":return NL.get(t.name).deserialize(t.value);case"RAW":return t.value}}function kd(t,e,n,r){return new Promise(a=>{const s=cpe();e.set(s,a),t.start&&t.start(),t.postMessage(Object.assign({id:s},n),r)})}function cpe(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const DL="min-dark",LL="min-light";function upe(t){return{text:"plaintext",sh:"bash"}[t]||t}function dpe(t){return t.replace(/<[^>]*>/g,"").replace(/&nbsp;/g,"").trim()===""}function OL(t){const e=/<code[^>]*>(.*?)<\/code>/s.exec(t);if(!e)return[];const n=e[1].split(`
`).map(r=>{const a=r.indexOf('<span class="line">');if(a===-1)return"";const s=a+19,i=r.lastIndexOf("</span>"),o=i>s?r.substring(s,i):"";return dpe(o)?"":o});for(;n.length>0&&n[n.length-1]==="";)n.pop();return n}function mpe(){return typeof globalThis.acquireVsCodeApi=="function"}let fw=null;async function hpe(){return fw||(fw=Vn(async()=>{const{createHighlighter:t}=await import("./index-C0G8_vIK.js");return{createHighlighter:t}},__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url).then(({createHighlighter:t})=>t({themes:[DL,LL],langs:[]}))),fw}let Dc=null,Gh=!1,G9=!1;function ppe(){if(mpe())return G9||(G9=!0,console.warn("[highlightWorkerClient] Worker highlighting disabled in VS Code webview")),Gh=!0,Dc=null,null;if(Gh)return null;if(Dc)return Dc;try{const t=new Worker(new URL(""+new URL("highlightWorker-CHWb4v3W.js",import.meta.url).href,import.meta.url),{type:"module",name:"shiki-highlighter"});return t.onerror=e=>{console.error("[highlightWorkerClient] Worker failed to load:",e),Gh=!0,Dc=null},Dc=IL(t),Dc}catch(t){return console.error("[highlightWorkerClient] Failed to create worker:",t),Gh=!0,null}}let V9=!1;async function K9(t,e,n){V9||(V9=!0,console.warn("[highlightWorkerClient] Syntax highlighting running on main thread (worker unavailable)"));const r=await hpe(),a=upe(e);r.getLoadedLanguages().includes(a)||await r.loadLanguage(a);const i=n==="light"?LL:DL;return r.codeToHtml(t,{lang:a,theme:i})}async function bC(t,e,n){const r=ppe();if(!r)return K9(t,e,n);try{return await r.highlight(t,e,n)}catch(a){return console.error("[highlightWorkerClient] Worker highlight failed; falling back to main thread:",a),Gh=!0,Dc=null,K9(t,e,n)}}const fpe=32768;function gpe(t){return t==="light"||t.endsWith("-light")}async function bpe(t,e,n="dark"){if(e==="text"||e==="plaintext")return{type:t.type,lines:t.lines.map((i,o)=>({html:xC(i),oldLineNumber:t.oldLineNumbers[o],newLineNumber:t.newLineNumbers[o],originalIndex:t.startIndex+o})),usedFallback:!1};if(t.lines.reduce((i,o)=>i+o.length,0)+t.lines.length-1>fpe)return H0(t);const a=t.lines.join(`
`),s=gpe(n)?"light":"dark";try{const i=await bC(a,e,s),o=xpe(i);return o.length!==t.lines.length||o.some((u,d)=>u.length===0&&t.lines[d].length>0)?H0(t):{type:t.type,lines:o.map((u,d)=>({html:u,oldLineNumber:t.oldLineNumbers[d],newLineNumber:t.newLineNumbers[d],originalIndex:t.startIndex+d})),usedFallback:!1}}catch(i){return console.warn(`Syntax highlighting failed for language ${e}:`,i),H0(t)}}function H0(t){return{type:t.type,lines:t.lines.map((e,n)=>({html:xC(e),oldLineNumber:t.oldLineNumbers[n],newLineNumber:t.newLineNumbers[n],originalIndex:t.startIndex+n})),usedFallback:!0}}function xpe(t){const n=/<code[^>]*>(.*?)<\/code>/s.exec(t);return n?n[1].split(`
`).map(s=>{const i='<span class="line">',o="</span>",c=s.indexOf(i);if(c===-1)return"";const u=c+i.length,d=s.lastIndexOf(o);return d===-1||d<u?"":s.substring(u,d)}).filter(s=>s!==null):[]}function xC(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}var gw={};var Y9;function ype(){return Y9||(Y9=1,(function(t){(function(e){e(typeof DO_NOT_EXPORT_CRC>"u"?t:{})})(function(e){e.version="1.2.2";function n(){for(var T=0,N=new Array(256),j=0;j!=256;++j)T=j,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,N[j]=T;return typeof Int32Array<"u"?new Int32Array(N):N}var r=n();function a(T){var N=0,j=0,R=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)I[R]=T[R];for(R=0;R!=256;++R)for(j=T[R],N=256+R;N<4096;N+=256)j=I[N]=j>>>8^T[j&255];var A=[];for(R=1;R!=16;++R)A[R-1]=typeof Int32Array<"u"?I.subarray(R*256,R*256+256):I.slice(R*256,R*256+256);return A}var s=a(r),i=s[0],o=s[1],c=s[2],u=s[3],d=s[4],m=s[5],h=s[6],p=s[7],f=s[8],g=s[9],x=s[10],y=s[11],w=s[12],v=s[13],k=s[14];function C(T,N){for(var j=N^-1,R=0,I=T.length;R<I;)j=j>>>8^r[(j^T.charCodeAt(R++))&255];return~j}function _(T,N){for(var j=N^-1,R=T.length-15,I=0;I<R;)j=k[T[I++]^j&255]^v[T[I++]^j>>8&255]^w[T[I++]^j>>16&255]^y[T[I++]^j>>>24]^x[T[I++]]^g[T[I++]]^f[T[I++]]^p[T[I++]]^h[T[I++]]^m[T[I++]]^d[T[I++]]^u[T[I++]]^c[T[I++]]^o[T[I++]]^i[T[I++]]^r[T[I++]];for(R+=15;I<R;)j=j>>>8^r[(j^T[I++])&255];return~j}function S(T,N){for(var j=N^-1,R=0,I=T.length,A=0,$=0;R<I;)A=T.charCodeAt(R++),A<128?j=j>>>8^r[(j^A)&255]:A<2048?(j=j>>>8^r[(j^(192|A>>6&31))&255],j=j>>>8^r[(j^(128|A&63))&255]):A>=55296&&A<57344?(A=(A&1023)+64,$=T.charCodeAt(R++)&1023,j=j>>>8^r[(j^(240|A>>8&7))&255],j=j>>>8^r[(j^(128|A>>2&63))&255],j=j>>>8^r[(j^(128|$>>6&15|(A&3)<<4))&255],j=j>>>8^r[(j^(128|$&63))&255]):(j=j>>>8^r[(j^(224|A>>12&15))&255],j=j>>>8^r[(j^(128|A>>6&63))&255],j=j>>>8^r[(j^(128|A&63))&255]);return~j}e.table=r,e.bstr=C,e.buf=_,e.str=S})})(gw)),gw}var wpe=ype();const vpe=Ru(wpe);var bw,X9;function kpe(){if(X9)return bw;X9=1;var t=/["'&<>]/;bw=e;function e(n){var r=""+n,a=t.exec(r);if(!a)return r;var s,i="",o=0,c=0;for(o=a.index;o<r.length;o++){switch(r.charCodeAt(o)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 39:s="&#39;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}c!==o&&(i+=r.substring(c,o)),c=o+1,i+=s}return c!==o?i+r.substring(c,o):i}return bw}var _pe=kpe();const xw=Ru(_pe);let Z9=null;const Cpe=()=>(Z9??=new DOMParser,Z9),V1=new Ym({max:100}),Q9=new Ym({max:2e3,maxSize:8*1024*1024,sizeCalculation:()=>4096});function PL(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function FL(t,e){if(t.nodeType===Node.TEXT_NODE)e(t);else{const n=Array.from(t.childNodes);for(const r of n)FL(r,e)}}function Spe(t,e){const{searchTerm:n,useRegex:r,matchCase:a}=e;if(!n.trim())return t;try{const s=`${n}:${r}:${a}`;let i=V1.get(s);if(!i)try{i=r?new RegExp(n,a?"g":"gi"):new RegExp(PL(n),a?"g":"gi"),V1.set(s,i)}catch{return t}let o="",c=0;i.lastIndex=0;let u;for(;(u=i.exec(t))!==null;)u.index>c&&(o+=xw(t.slice(c,u.index))),o+=`<mark class="search-highlight">${xw(u[0])}</mark>`,c=u.index+u[0].length,u[0].length===0&&i.lastIndex++;return c<t.length&&(o+=xw(t.slice(c))),o}catch(s){return console.warn("Failed to highlight search in text:",s),t}}function jpe(t,e){const{searchTerm:n,useRegex:r,matchCase:a}=e;if(!n.trim())return t;try{const s=vpe.str(t);let i=Q9.get(s);i||(i=Cpe().parseFromString(t,"text/html"),Q9.set(s,i));const o=i.cloneNode(!0),c=`${n}:${r}:${a}`;let u=V1.get(c);if(!u)try{u=r?new RegExp(n,a?"g":"gi"):new RegExp(PL(n),a?"g":"gi"),V1.set(c,u)}catch{return t}return FL(o.body,d=>{const m=d.textContent||"";if(u.lastIndex=0,!u.test(m))return;const h=o.createDocumentFragment();let p=0;u.lastIndex=0;let f;for(;(f=u.exec(m))!==null;){f.index>p&&h.appendChild(o.createTextNode(m.slice(p,f.index)));const g=o.createElement("mark");g.className="search-highlight",g.textContent=f[0],h.appendChild(g),p=f.index+f[0].length,f[0].length===0&&u.lastIndex++}p<m.length&&h.appendChild(o.createTextNode(m.slice(p))),d.parentNode?.replaceChild(h,d)}),o.body.innerHTML}catch(s){return console.warn("Failed to highlight search matches:",s),t}}const BL=(t,e)=>`color-mix(in srgb, ${t}, transparent ${e}%)`,yC={add:{tintBase:"var(--color-success)",codeTintTransparentPct:94,gutterTintTransparentPct:86,contentColor:"var(--color-text)"},remove:{tintBase:"var(--color-danger)",codeTintTransparentPct:94,gutterTintTransparentPct:86,contentColor:"var(--color-text)"},header:{tintBase:"var(--color-accent)",codeTintTransparentPct:95,gutterTintTransparentPct:90,contentColor:"var(--color-accent-light)"},context:{tintBase:null,codeTintTransparentPct:100,gutterTintTransparentPct:100,contentColor:"var(--color-text-secondary)"}},zf=t=>{const e=yC[t];return e.tintBase?BL(e.tintBase,e.codeTintTransparentPct):"transparent"},Hf=t=>{const e=yC[t];return e.tintBase?BL(e.tintBase,e.gutterTintTransparentPct):"transparent"},zL=t=>yC[t].contentColor,wC=t=>{const e=t.split(/\r?\n/);return e.length>0&&e[e.length-1]===""&&e.pop(),e},J9=t=>t==="context"?"color-mix(in srgb, var(--color-muted) 40%, transparent)":"var(--color-text)",Tpe=t=>{switch(t){case"add":return"+";case"remove":return"";default:return" "}},eT="hsl(from var(--color-review-accent) h s l / 0.08)",tT=(t,e)=>e?`linear-gradient(${eT}, ${eT}), ${t}`:t,Epe=(t,e)=>{const n=!!(e.old&&t.oldLineNum!==null&&t.oldLineNum>=e.old.start&&t.oldLineNum<=e.old.end),r=!!(e.new&&t.newLineNum!==null&&t.newLineNum>=e.new.start&&t.newLineNum<=e.new.end);return n||r},Npe=t=>{switch(t){case"add":return"var(--color-success)";case"remove":return"var(--color-danger)";default:return"transparent"}},my=t=>({showOld:t!=="new",showNew:t!=="old"});function HL(t,e){let n=0,r=0;const{showOld:a,showNew:s}=my(e);for(const i of t)a&&i.oldLineNum!==null&&(n=Math.max(n,String(i.oldLineNum).length)),s&&i.newLineNum!==null&&(r=Math.max(r,String(i.newLineNum).length));return{oldWidthCh:a?Math.max(2,n):0,newWidthCh:s?Math.max(2,r):0}}const qL=t=>{const e=ae.c(18),{type:n,oldLineNum:r,newLineNum:a,showLineNumbers:s,lineNumberMode:i,lineNumberWidths:o,background:c}=t;let u;e[0]!==i?(u=my(i),e[0]=i,e[1]=u):u=e[1];const{showOld:d,showNew:m}=u;let h;e[2]!==c||e[3]!==n?(h=c??Hf(n),e[2]=c,e[3]=n,e[4]=h):h=e[4];const p=h;let f;e[5]!==p?(f={background:p},e[5]=p,e[6]=f):f=e[6];let g;e[7]!==o||e[8]!==a||e[9]!==r||e[10]!==s||e[11]!==m||e[12]!==d||e[13]!==n?(g=s&&l.jsxs(l.Fragment,{children:[d&&l.jsx("span",{className:"text-right",style:{width:`${o.oldWidthCh}ch`,color:J9(n)},children:r??""}),m&&l.jsx("span",{className:d?"ml-3 text-right":"text-right",style:{width:`${o.newWidthCh}ch`,color:J9(n)},children:a??""})]}),e[7]=o,e[8]=a,e[9]=r,e[10]=s,e[11]=m,e[12]=d,e[13]=n,e[14]=g):g=e[14];let x;return e[15]!==f||e[16]!==g?(x=l.jsx("span",{className:"flex shrink-0 items-center gap-0.5 px-1 tabular-nums select-none",style:f,children:g}),e[15]=f,e[16]=g,e[17]=x):x=e[17],x},UL=t=>{const e=ae.c(24),{type:n,background:r,reviewButton:a,onMouseDown:s,onMouseEnter:i,isInteractive:o,lineIndex:c}=t,u=o&&"cursor-pointer";let d;e[0]!==u?(d=ce("relative text-center select-none",u),e[0]=u,e[1]=d):d=e[1];let m;e[2]!==r?(m={background:r},e[2]=r,e[3]=m):m=e[3];const h=a&&"group-hover:opacity-0";let p;e[4]!==h?(p=ce("transition-opacity",h),e[4]=h,e[5]=p):p=e[5];let f;e[6]!==n?(f=Npe(n),e[6]=n,e[7]=f):f=e[7];let g;e[8]!==f?(g={color:f},e[8]=f,e[9]=g):g=e[9];let x;e[10]!==n?(x=Tpe(n),e[10]=n,e[11]=x):x=e[11];let y;e[12]!==p||e[13]!==g||e[14]!==x?(y=l.jsx("span",{className:p,style:g,children:x}),e[12]=p,e[13]=g,e[14]=x,e[15]=y):y=e[15];let w;return e[16]!==c||e[17]!==s||e[18]!==i||e[19]!==a||e[20]!==d||e[21]!==m||e[22]!==y?(w=l.jsxs("span",{"data-diff-indicator":!0,"data-line-index":c,className:d,style:m,onMouseDown:s,onMouseEnter:i,children:[y,a]}),e[16]=c,e[17]=s,e[18]=i,e[19]=a,e[20]=d,e[21]=m,e[22]=y,e[23]=w):w=e[23],w},vC=t=>{const e=ae.c(29),{children:n,fontSize:r,maxHeight:a,className:s,firstLineType:i,lastLineType:o}=t,c=a??"400px",[u,d]=xe.useState(!1),m=xe.useRef(null),h=c!=="none"&&!u;let p,f;e[0]!==a?(p=()=>{a==="none"&&d(!1)},f=[a],e[0]=a,e[1]=p,e[2]=f):(p=e[1],f=e[2]),xe.useEffect(p,f);let g;e[3]!==h?(g={enabled:h},e[3]=h,e[4]=g):g=e[4];const x=Xhe(m,g),y=h&&x,w=Mpe;let v;e[5]!==s?(v=ce("relative m-0 overflow-x-auto rounded-sm border border-border-light bg-code-bg [&_*]:text-[inherit]",s),e[5]=s,e[6]=v):v=e[6];const k=h?"overflow-y-hidden":"overflow-y-visible",C=y&&"pb-6";let _;e[7]!==k||e[8]!==C?(_=ce("font-monospace grid",k,C),e[7]=k,e[8]=C,e[9]=_):_=e[9];const S=r??"12px",T=h?c:void 0;let N;e[10]!==S||e[11]!==T?(N={fontSize:S,lineHeight:1.4,maxHeight:T,gridTemplateColumns:"auto 1rem 1fr",minWidth:"max-content"},e[10]=S,e[11]=T,e[12]=N):N=e[12];let j;e[13]!==i?(j=l.jsx(w,{lineType:i}),e[13]=i,e[14]=j):j=e[14];let R;e[15]!==o?(R=l.jsx(w,{lineType:o}),e[15]=o,e[16]=R):R=e[16];let I;e[17]!==n||e[18]!==N||e[19]!==j||e[20]!==R||e[21]!==_?(I=l.jsxs("div",{ref:m,className:_,style:N,children:[j,n,R]}),e[17]=n,e[18]=N,e[19]=j,e[20]=R,e[21]=_,e[22]=I):I=e[22];let A;e[23]!==y?(A=y&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"via-[color-mix(in srgb, var(--color-code-bg) 80%, transparent)] pointer-events-none absolute inset-x-0 bottom-0 h-10 bg-gradient-to-t from-[var(--color-code-bg)] to-transparent"}),l.jsx("div",{className:"absolute inset-x-0 bottom-0 flex justify-center pb-1.5",children:l.jsx("button",{className:"bg-dark/60 text-foreground/80 hover:text-foreground border border-white/20 px-2 py-0.5 text-[10px] tracking-wide uppercase backdrop-blur transition hover:border-white/40",onClick:()=>d(!0),children:"Expand diff"})})]}),e[23]=y,e[24]=A):A=e[24];let $;return e[25]!==I||e[26]!==A||e[27]!==v?($=l.jsxs("div",{className:v,children:[I,A]}),e[25]=I,e[26]=A,e[27]=v,e[28]=$):$=e[28],$},yw=new Ym({max:1e4,maxSize:4*1024*1024,sizeCalculation:t=>t.reduce((e,n)=>e+n.lines.reduce((r,a)=>r+a.html.length*2,0),0)});function $pe(t){let e=5381;for(let n=0;n<t.length;n++)e=(e<<5)+e^t.charCodeAt(n);return e>>>0}function Ape(t,e,n,r,a){return`${$pe(t)}:${t.length}:${n}:${r}:${e}:${a}`}function Ipe(t,e,n){const r=wC(t);return jL(r,e,n).map(a=>({type:a.type,lines:a.lines.map((s,i)=>({html:xC(s),oldLineNumber:a.oldLineNumbers[i],newLineNumber:a.newLineNumbers[i],originalIndex:a.startIndex+i})),usedFallback:!0}))}function WL(t,e,n,r,a){const s=ae.c(20);let i,o;s[0]!==t||s[1]!==e||s[2]!==r||s[3]!==n||s[4]!==a?(i=Ape(t,e,n,r,a),o=yw.get(i),s[0]=t,s[1]=e,s[2]=r,s[3]=n,s[4]=a,s[5]=i,s[6]=o):(i=s[5],o=s[6]);const c=o;let u;s[7]!==t||s[8]!==r||s[9]!==n?(u=Ipe(t,n,r),s[7]=t,s[8]=r,s[9]=n,s[10]=u):u=s[10];const d=u,[m,h]=b.useState(c??d),p=xe.useRef(!1);let f,g;return s[11]!==i||s[12]!==t||s[13]!==e||s[14]!==r||s[15]!==n||s[16]!==d||s[17]!==a?(f=()=>{const x=yw.get(i);if(x){h(x),e!=="text"&&(p.current=!0);return}if(e==="text"&&p.current)return;h(d);let y=!1;return(async()=>{const w=wC(t),v=jL(w,n,r),k=await Promise.all(v.map(C=>bpe(C,e,a)));y||(yw.set(i,k),h(k),e!=="text"&&(p.current=!0))})(),()=>{y=!0}},g=[i,t,e,n,r,a,d],s[11]=i,s[12]=t,s[13]=e,s[14]=r,s[15]=n,s[16]=d,s[17]=a,s[18]=f,s[19]=g):(f=s[18],g=s[19]),b.useEffect(f,g),c??m}const Jp=t=>{const e=ae.c(22),{content:n,showLineNumbers:r,lineNumberMode:a,oldStart:s,newStart:i,filePath:o,fontSize:c,maxHeight:u,className:d}=t,m=r===void 0?!0:r,h=a===void 0?"both":a,p=s===void 0?1:s,f=i===void 0?1:i,{theme:g}=Lu();let x;e[0]!==o?(x=o?gC(o):"text",e[0]=o,e[1]=x):x=e[1];const w=WL(n,x,p,f,g);let v;e:{if(!m||!w){let j;e[2]===Symbol.for("react.memo_cache_sentinel")?(j={oldWidthCh:2,newWidthCh:2},e[2]=j):j=e[2],v=j;break e}let N;if(e[3]!==w||e[4]!==h){const j=w.flatMap(Lpe);N=HL(j,h),e[3]=w,e[4]=h,e[5]=N}else N=e[5];v=N}const k=v,C=w[0]?.type,_=w[w.length-1]?.type;let S;if(e[6]!==w||e[7]!==h||e[8]!==k||e[9]!==m){let N;e[11]!==h||e[12]!==k||e[13]!==m?(N=j=>j.lines.map(R=>{const I=zf(j.type);return l.jsxs(xe.Fragment,{children:[l.jsx(qL,{type:j.type,oldLineNum:R.oldLineNumber,newLineNum:R.newLineNumber,showLineNumbers:m,lineNumberMode:h,lineNumberWidths:k}),l.jsx(UL,{type:j.type,background:I}),l.jsx("span",{className:"min-w-0 whitespace-pre [&_span:not(.search-highlight)]:!bg-transparent",style:{background:I,color:zL(j.type)},dangerouslySetInnerHTML:{__html:R.html}})]},R.originalIndex)}),e[11]=h,e[12]=k,e[13]=m,e[14]=N):N=e[14],S=w.flatMap(N),e[6]=w,e[7]=h,e[8]=k,e[9]=m,e[10]=S}else S=e[10];let T;return e[15]!==d||e[16]!==C||e[17]!==c||e[18]!==_||e[19]!==u||e[20]!==S?(T=l.jsx(vC,{fontSize:c,maxHeight:u,className:d,firstLineType:C,lastLineType:_,children:S}),e[15]=d,e[16]=C,e[17]=c,e[18]=_,e[19]=u,e[20]=S,e[21]=T):T=e[21],T},Rpe="selectable-diff-line",GL=xe.memo(t=>{const e=ae.c(59),{selection:n,lineData:r,filePath:a,showLineNumbers:s,lineNumberMode:i,lineNumberWidths:o,onSubmit:c,onCancel:u}=t;let d;e[0]!==i?(d=my(i),e[0]=i,e[1]=d):d=e[1];const{showOld:m,showNew:h}=d,[p,f]=xe.useState(""),g=xe.useRef(null);let x,y;e[2]===Symbol.for("react.memo_cache_sentinel")?(x=()=>{g.current?.focus()},y=[],e[2]=x,e[3]=y):(x=e[2],y=e[3]),xe.useEffect(x,y);let w;e[4]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{const B=g.current;B&&(B.style.height="auto",B.style.height=`${B.scrollHeight}px`)},e[4]=w):w=e[4];let v;e[5]!==p?(v=[p],e[5]=p,e[6]=v):v=e[6],xe.useEffect(w,v);let k;e[7]!==a||e[8]!==r||e[9]!==p||e[10]!==c||e[11]!==n.endIndex||e[12]!==n.startIndex?(k=()=>{const B=g.current?.value??p;if(!B.trim())return;const[q,V]=[n.startIndex,n.endIndex].sort(Ope),Z=r.slice(q,V+1),W=Z.map(Ppe).filter(Fpe),K=Z.map(Bpe).filter(zpe),J=Hpe,ee=J(W),se=J(K),re=[ee?`-${ee}`:null,se?`+${se}`:null].filter(qpe).join(" "),ue=Math.max(1,...W.map(Upe)),he=Math.max(1,...K.map(Wpe)),ke=Z.map(De=>{const $e=De.raw[0]??" ",Qe=De.raw.slice(1),Be=De.oldLineNum===null?"":String(De.oldLineNum),ie=De.newLineNum===null?"":String(De.newLineNum);return`${Be.padStart(ue)} ${ie.padStart(he)} ${$e} ${Qe}`});let je;if(ke.length<=20)je=ke.join(`
`);else{const De=ke.length-20;je=[...ke.slice(0,10),`    (${De} lines omitted)`,...ke.slice(-10)].join(`
`)}const _e=Z.map(Gpe).join(`
`),ge=W.length?Math.min(...W):1,ve=K.length?Math.min(...K):1;c({filePath:a,lineRange:re,selectedCode:je,selectedDiff:_e,oldStart:ge,newStart:ve,userNote:B.trim()})},e[7]=a,e[8]=r,e[9]=p,e[10]=c,e[11]=n.endIndex,e[12]=n.startIndex,e[13]=k):k=e[13];const C=k;let _,S,T,N;if(e[14]!==r||e[15]!==n.endIndex||e[16]!==n.startIndex){const[B,q]=[n.startIndex,n.endIndex].sort(Vpe),V=r.slice(B,q+1).map(Kpe),Z=V[V.length-1]??"context";_=zf(Z),N="col-span-3 grid grid-cols-subgrid",T="flex shrink-0 items-center gap-0.5 px-1 tabular-nums select-none",S=Hf(Z),e[14]=r,e[15]=n.endIndex,e[16]=n.startIndex,e[17]=_,e[18]=S,e[19]=T,e[20]=N}else _=e[17],S=e[18],T=e[19],N=e[20];let j;e[21]!==S?(j={background:S},e[21]=S,e[22]=j):j=e[22];let R;e[23]!==o||e[24]!==s||e[25]!==h||e[26]!==m?(R=s&&l.jsxs(l.Fragment,{children:[m&&l.jsx("span",{style:{width:`${o.oldWidthCh}ch`}}),h&&l.jsx("span",{className:m?"ml-3":void 0,style:{width:`${o.newWidthCh}ch`}})]}),e[23]=o,e[24]=s,e[25]=h,e[26]=m,e[27]=R):R=e[27];let I;e[28]!==j||e[29]!==R||e[30]!==T?(I=l.jsx("span",{className:T,style:j,children:R}),e[28]=j,e[29]=R,e[30]=T,e[31]=I):I=e[31];let A;e[32]!==_?(A=l.jsx("span",{style:{background:_}}),e[32]=_,e[33]=A):A=e[33];let $;e[34]!==_?($={background:_},e[34]=_,e[35]=$):$=e[35];let E;e[36]===Symbol.for("react.memo_cache_sentinel")?(E={background:"hsl(from var(--color-review-accent) h s l / 0.08)"},e[36]=E):E=e[36];let M;e[37]===Symbol.for("react.memo_cache_sentinel")?(M=l.jsx("div",{className:"w-[3px] shrink-0",style:{background:"var(--color-review-accent)"}}),e[37]=M):M=e[37];let F;e[38]===Symbol.for("react.memo_cache_sentinel")?(F={minHeight:"calc(12px * 1.5 * 2 + 12px)"},e[38]=F):F=e[38];let L;e[39]===Symbol.for("react.memo_cache_sentinel")?(L=B=>f(B.target.value),e[39]=L):L=e[39];let Y;e[40]!==C||e[41]!==u?(Y=B=>{es(B);const q=B.key==="Enter"||B.keyCode===13,V=B.key==="Escape"||B.keyCode===27;if(q){if(B.shiftKey)return;B.preventDefault(),C()}else V&&(B.preventDefault(),u())},e[40]=C,e[41]=u,e[42]=Y):Y=e[42];let O;e[43]!==p||e[44]!==Y?(O=l.jsx("textarea",{ref:g,className:"text-primary placeholder:text-muted/70 min-w-0 flex-1 resize-none overflow-y-hidden bg-transparent px-2 py-1.5 text-[12px] leading-[1.5] transition-colors focus:outline-none",style:F,placeholder:"Add a review note (Enter to submit, Shift+Enter for newline, Esc to cancel)",value:p,onChange:L,onClick:Ype,onKeyDown:Y}),e[43]=p,e[44]=Y,e[45]=O):O=e[45];let G;e[46]!==C?(G=l.jsx("button",{type:"button",className:"text-muted hover:text-primary shrink-0 px-2","aria-label":"Submit review note",onClick:B=>{B.stopPropagation(),C()},children:""}),e[46]=C,e[47]=G):G=e[47];let H;e[48]!==O||e[49]!==G?(H=l.jsxs("div",{className:"flex w-full max-w-[560px] overflow-hidden rounded border border-[var(--color-review-accent)]/30 shadow-sm",style:E,children:[M,O,G]}),e[48]=O,e[49]=G,e[50]=H):H=e[50];let D;e[51]!==$||e[52]!==H?(D=l.jsx("div",{className:"min-w-0 py-1.5 pr-3",style:$,children:H}),e[51]=$,e[52]=H,e[53]=D):D=e[53];let U;return e[54]!==I||e[55]!==A||e[56]!==D||e[57]!==N?(U=l.jsxs("div",{className:N,children:[I,A,D]}),e[54]=I,e[55]=A,e[56]=D,e[57]=N,e[58]=U):U=e[58],U});GL.displayName="ReviewNoteInput";const VL=xe.memo(t=>{const e=ae.c(31),{review:n,lineType:r,showLineNumbers:a,lineNumberMode:s,lineNumberWidths:i,reviewActions:o}=t;let c;e[0]!==r?(c=zf(r),e[0]=r,e[1]=c):c=e[1];const u=c;let d;e[2]!==s?(d=my(s),e[2]=s,e[3]=d):d=e[3];const{showOld:m,showNew:h}=d,p=n.id;let f;e[4]!==r?(f=Hf(r),e[4]=r,e[5]=f):f=e[5];let g;e[6]!==f?(g={background:f},e[6]=f,e[7]=g):g=e[7];let x;e[8]!==i||e[9]!==a||e[10]!==h||e[11]!==m?(x=a&&l.jsxs(l.Fragment,{children:[m&&l.jsx("span",{style:{width:`${i.oldWidthCh}ch`}}),h&&l.jsx("span",{className:m?"ml-3":void 0,style:{width:`${i.newWidthCh}ch`}})]}),e[8]=i,e[9]=a,e[10]=h,e[11]=m,e[12]=x):x=e[12];let y;e[13]!==g||e[14]!==x?(y=l.jsx("span",{className:"flex shrink-0 items-center gap-0.5 px-1 tabular-nums select-none",style:g,children:x}),e[13]=g,e[14]=x,e[15]=y):y=e[15];let w;e[16]!==u?(w=l.jsx("span",{style:{background:u}}),e[16]=u,e[17]=w):w=e[17];let v;e[18]!==u?(v={background:u},e[18]=u,e[19]=v):v=e[19];let k;e[20]!==n||e[21]!==o?(k=l.jsx(Zhe,{review:n,showFilePath:!1,actions:o}),e[20]=n,e[21]=o,e[22]=k):k=e[22];let C;e[23]!==k||e[24]!==v?(C=l.jsx("div",{className:"min-w-0 py-0.5 pr-3",style:v,children:k}),e[23]=k,e[24]=v,e[25]=C):C=e[25];let _;return e[26]!==n.id||e[27]!==C||e[28]!==y||e[29]!==w?(_=l.jsxs("div",{className:"col-span-3 grid grid-cols-subgrid","data-inline-review-note":!0,"data-review-id":p,children:[y,w,C]}),e[26]=n.id,e[27]=C,e[28]=y,e[29]=w,e[30]=_):_=e[30],_});VL.displayName="InlineReviewNoteRow";const Xd=xe.memo(({content:t,showLineNumbers:e=!0,lineNumberMode:n="both",oldStart:r=1,newStart:a=1,filePath:s,inlineReviews:i,fontSize:o,maxHeight:c,className:u,onReviewNote:d,onLineClick:m,searchConfig:h,enableHighlighting:p=!0,onComposingChange:f,reviewActions:g})=>{const x=xe.useRef(null),[y,w]=xe.useState(!1);xe.useEffect(()=>{const U=()=>{w(!1),x.current=null};return window.addEventListener("mouseup",U),window.addEventListener("blur",U),()=>{window.removeEventListener("mouseup",U),window.removeEventListener("blur",U)}},[]);const{theme:v}=Lu(),[k,C]=xe.useState(null);xe.useEffect(()=>{f?.(k!==null)},[k,f]),xe.useEffect(()=>()=>{f?.(!1)},[]);const _=xe.useMemo(()=>s?gC(s):"text",[s]),S=WL(t,p?_:"text",r,a,v),T=xe.useMemo(()=>wC(t),[t]),N=xe.useMemo(()=>{const U=[];return S.forEach(B=>{B.lines.forEach(q=>{U.push({index:q.originalIndex,type:B.type,oldLineNum:q.oldLineNumber,newLineNum:q.newLineNumber,html:q.html,raw:T[q.originalIndex]??""})})}),U},[S,T]),j=xe.useMemo(()=>h?N.map(U=>({...U,html:jpe(U.html,h)})):N,[N,h]),R=xe.useMemo(()=>e?HL(N,n):{oldWidthCh:2,newWidthCh:2},[N,e,n]),I=xe.useMemo(()=>{if(!i?.length)return[];const U=[];for(const B of i){if(B.data?.filePath!==s)continue;const q=KZ(B.data?.lineRange??"");q&&U.push({review:B,range:q})}return U},[i,s]),{inlineReviewsByAnchor:A,reviewRangeByLineIndex:$}=xe.useMemo(()=>{if(!I.length)return{inlineReviewsByAnchor:new Map,reviewRangeByLineIndex:new Array(N.length).fill(!1)};const U=new Map,B=new Array(N.length).fill(!1);for(const{review:q,range:V}of I){let Z=null;for(let K=0;K<N.length;K++){const J=N[K];Epe(J,V)&&(B[K]=!0,Z=K)}if(Z===null)continue;const W=U.get(Z);W?W.push(q):U.set(Z,[q])}return{inlineReviewsByAnchor:U,reviewRangeByLineIndex:B}},[N,I]),E=xe.useCallback((U,B)=>{if(!d)return;m?.();const q=B&&k?k.startIndex:U;x.current=q,w(!0),C({startIndex:q,endIndex:U})},[m,d,k]),M=xe.useCallback(U=>{!y||x.current===null||C({startIndex:x.current,endIndex:U})},[y]),F=(U,B)=>{if(m?.(),B&&k){const q=k.startIndex;C({startIndex:q,endIndex:U});return}C({startIndex:U,endIndex:U})},L=U=>{d&&(d(U),C(null))},Y=()=>{C(null)},O=U=>{if(!k)return!1;const[B,q]=[k.startIndex,k.endIndex].sort((V,Z)=>V-Z);return U>=B&&U<=q},G=j[0]?.type,H=j[j.length-1]?.type,D="inset 0 0 0 100vmax hsl(from var(--color-review-accent) h s l / 0.16)";return l.jsx(vC,{fontSize:o,maxHeight:c,className:u,firstLineType:G,lastLineType:H,children:j.map((U,B)=>{const q=O(B),V=$[B]??!1,Z=zf(U.type),W=tT(Z,V),K=tT(Hf(U.type),V),J=A.get(B);return l.jsxs(xe.Fragment,{children:[l.jsxs("div",{className:ce(Rpe,"group relative col-span-3 grid cursor-text grid-cols-subgrid"),"data-selected":q?"true":"false",children:[l.jsx(qL,{type:U.type,oldLineNum:U.oldLineNum,newLineNum:U.newLineNum,showLineNumbers:e,lineNumberMode:n,lineNumberWidths:R,background:K}),l.jsx(UL,{type:U.type,background:W,lineIndex:B,isInteractive:!!d,onMouseDown:ee=>{d&&ee.button===0&&(ee.preventDefault(),ee.stopPropagation(),E(B,ee.shiftKey))},onMouseEnter:()=>{d&&M(B)},reviewButton:d&&l.jsxs(Ye,{open:k||y?!1:void 0,children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{className:"pointer-events-none absolute inset-0 flex items-center justify-center rounded-sm text-[var(--color-review-accent)]/60 opacity-0 transition-opacity group-hover:pointer-events-auto group-hover:opacity-100 hover:text-[var(--color-review-accent)] active:scale-90",onClick:ee=>{ee.stopPropagation(),F(B,ee.shiftKey)},"aria-label":"Add review comment",children:l.jsx(k1,{className:"size-3"})})}),l.jsxs(Ke,{side:"bottom",align:"start",children:["Add review comment",l.jsx("br",{}),"(Shift-click or drag to select range)"]})]})}),l.jsx("span",{className:"min-w-0 whitespace-pre [&_span:not(.search-highlight)]:!bg-transparent",style:{background:W,color:zL(U.type),boxShadow:q?D:void 0},dangerouslySetInnerHTML:{__html:U.html}})]}),q&&k&&B===Math.max(k.startIndex,k.endIndex)&&l.jsx(GL,{selection:k,lineData:N,filePath:s,showLineNumbers:e,lineNumberMode:n,lineNumberWidths:R,onSubmit:L,onCancel:Y}),J?.map(ee=>l.jsx(VL,{review:ee,lineType:U.type,showLineNumbers:e,lineNumberMode:n,lineNumberWidths:R,reviewActions:g},ee.id))]},B)})})});Xd.displayName="SelectableDiffRenderer";function Mpe(t){const{lineType:e}=t;return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"h-1.5",style:{background:e?Hf(e):void 0}}),l.jsx("div",{className:"col-span-2 h-1.5",style:{background:e?zf(e):void 0}})]})}function Dpe(t){return{oldLineNum:t.oldLineNumber,newLineNum:t.newLineNumber}}function Lpe(t){return t.lines.map(Dpe)}function Ope(t,e){return t-e}function Ppe(t){return t.oldLineNum}function Fpe(t){return t!==null}function Bpe(t){return t.newLineNum}function zpe(t){return t!==null}function Hpe(t){if(t.length===0)return null;const e=Math.min(...t),n=Math.max(...t);return e===n?`${e}`:`${e}-${n}`}function qpe(t){return!!t}function Upe(t){return String(t).length}function Wpe(t){return String(t).length}function Gpe(t){return t.raw}function Vpe(t,e){return t-e}function Kpe(t){return t.type}function Ype(t){return t.stopPropagation()}function Xpe(t){const e=new Date(t),n=new Date;return e.getDate()===n.getDate()&&e.getMonth()===n.getMonth()&&e.getFullYear()===n.getFullYear()?e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):e.toLocaleTimeString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}function qf(t){const n=Date.now()-t;if(n<0)return"just now";const r=Math.floor(n/1e3),a=Math.floor(r/60),s=Math.floor(a/60),i=Math.floor(s/24),o=Math.floor(i/7),c=Math.floor(i/30),u=Math.floor(i/365);return r<60?"just now":a<60?a===1?"1 minute ago":`${a} minutes ago`:s<24?s===1?"1 hour ago":`${s} hours ago`:i<7?i===1?"1 day ago":`${i} days ago`:o<4?o===1?"1 week ago":`${o} weeks ago`:c<12?c===1?"1 month ago":`${c} months ago`:u===1?"1 year ago":`${u} years ago`}function Zpe(t){const e=Math.floor((Date.now()-t)/1e3);return e<0?"now":e<60?`${e}s ago`:e<3600?`${Math.floor(e/60)}m ago`:e<86400?`${Math.floor(e/3600)}h ago`:`${Math.floor(e/86400)}d ago`}const nT=t=>{const e=ae.c(10),{lineCount:n,onCollapse:r,position:a}=t,s=`Collapse context ${a}`;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx("svg",{className:"text-border shrink-0",width:"24",height:"8",viewBox:"0 0 24 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M0 4 Q4 0, 8 4 Q12 8, 16 4 Q20 0, 24 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",fill:"none"})}),e[0]=i):i=e[0];const o=n===1?"":"s";let c;e[1]!==n||e[2]!==a||e[3]!==o?(c=l.jsxs("span",{className:"text-[10px] font-medium",children:["Collapse ",n," line",o," ",a]}),e[1]=n,e[2]=a,e[3]=o,e[4]=c):c=e[4];let u;e[5]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx("svg",{className:"text-border shrink-0",width:"24",height:"8",viewBox:"0 0 24 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M0 4 Q4 0, 8 4 Q12 8, 16 4 Q20 0, 24 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",fill:"none"})}),e[5]=u):u=e[5];let d;return e[6]!==r||e[7]!==s||e[8]!==c?(d=l.jsx("div",{className:"flex items-center justify-center",children:l.jsxs("button",{onClick:r,className:"text-muted hover:bg-background-highlight inline-flex cursor-pointer items-center gap-1 rounded px-1.5 py-px transition-colors","aria-label":s,children:[i,c,u]})}),e[6]=r,e[7]=s,e[8]=c,e[9]=d):d=e[9],d},rT=20;async function aT(t,e,n,r,a,s){if(!t||r<1||a<r)return null;const i=s?`git show "${s}:${n.replace(/"/g,'\\"')}" 2>/dev/null | sed -n '${r},${a}p'`:`sed -n '${r},${a}p' "${n.replace(/"/g,'\\"')}"`,o=await t.workspace.executeBash({workspaceId:e,script:i,options:{timeout_secs:3}});if(!o?.success)return null;if(!o.data.output)return[];const c=o.data.output.split(`
`);return c.length>0&&c[c.length-1]===""&&c.pop(),c}function Qpe(t,e){return t==="--staged"||t==="HEAD"?"HEAD":`$(git merge-base ${t} HEAD 2>/dev/null || echo ${t})`}function sT(t){return t.map(e=>` ${e}`).join(`
`)}function Jpe(t){const e=ae.c(57),{hunk:n,hunkId:r,workspaceId:a,diffBase:s,includeUncommitted:i}=t,{api:o}=Kt();let c;e[0]!==a?(c=QX(a),e[0]=a,e[1]=c):c=e[1];let u,d;e[2]===Symbol.for("react.memo_cache_sentinel")?(u={},d={listener:!0},e[2]=u,e[3]=d):(u=e[2],d=e[3]);const[m,h]=Tt(c,u,d);let p;e[4]!==r||e[5]!==m?(p=m[r]??{up:0,down:0},e[4]=r,e[5]=m,e[6]=p):p=e[6];const f=p,[g,x]=b.useState(""),[y,w]=b.useState(""),[v,k]=b.useState(!1),[C,_]=b.useState(!1);let S;e[7]!==n.oldStart?(S=()=>n.oldStart<=1,e[7]=n.oldStart,e[8]=S):S=e[8];const[T,N]=b.useState(S),[j,R]=b.useState(!1);let I;e[9]!==s||e[10]!==i?(I=Qpe(s),e[9]=s,e[10]=i,e[11]=I):I=e[11];const A=I;let $,E;e[12]!==o||e[13]!==A||e[14]!==n.filePath||e[15]!==n.oldStart||e[16]!==f.up||e[17]!==a?($=()=>{if(f.up===0){x(""),N(n.oldStart<=1);return}let V=!1;k(!0);const Z=Math.max(1,n.oldStart-f.up),W=n.oldStart-1;return aT(o,a,n.filePath,Z,W,A).then(K=>{V||(k(!1),K&&(x(sT(K)),N(Z===1&&K.length<f.up)))}),()=>{V=!0}},E=[o,f.up,n.oldStart,n.filePath,a,A],e[12]=o,e[13]=A,e[14]=n.filePath,e[15]=n.oldStart,e[16]=f.up,e[17]=a,e[18]=$,e[19]=E):($=e[18],E=e[19]),b.useEffect($,E);let M,F;e[20]!==o||e[21]!==A||e[22]!==n.filePath||e[23]!==n.oldLines||e[24]!==n.oldStart||e[25]!==f.down||e[26]!==a?(M=()=>{if(f.down===0){w(""),R(!1);return}let V=!1;_(!0);const Z=n.oldStart+n.oldLines-1,W=Z+1,K=Z+f.down;return aT(o,a,n.filePath,W,K,A).then(J=>{V||(_(!1),J&&(w(sT(J)),R(J.length<f.down)))}),()=>{V=!0}},F=[o,f.down,n.oldStart,n.oldLines,n.filePath,a,A],e[20]=o,e[21]=A,e[22]=n.filePath,e[23]=n.oldLines,e[24]=n.oldStart,e[25]=f.down,e[26]=a,e[27]=M,e[28]=F):(M=e[27],F=e[28]),b.useEffect(M,F);let L;e[29]!==r||e[30]!==f||e[31]!==h?(L=V=>{V.stopPropagation(),h(Z=>({...Z,[r]:{...f,up:f.up+rT}}))},e[29]=r,e[30]=f,e[31]=h,e[32]=L):L=e[32];const Y=L;let O;e[33]!==r||e[34]!==f||e[35]!==h?(O=V=>{V.stopPropagation(),h(Z=>({...Z,[r]:{...f,down:f.down+rT}}))},e[33]=r,e[34]=f,e[35]=h,e[36]=O):O=e[36];const G=O;let H;e[37]!==r||e[38]!==f||e[39]!==h?(H=V=>{V.stopPropagation(),h(Z=>({...Z,[r]:{...f,up:0}}))},e[37]=r,e[38]=f,e[39]=h,e[40]=H):H=e[40];const D=H;let U;e[41]!==r||e[42]!==f||e[43]!==h?(U=V=>{V.stopPropagation(),h(Z=>({...Z,[r]:{...f,down:0}}))},e[41]=r,e[42]=f,e[43]=h,e[44]=U):U=e[44];const B=U;let q;return e[45]!==T||e[46]!==j||e[47]!==y||e[48]!==C||e[49]!==B||e[50]!==D||e[51]!==G||e[52]!==Y||e[53]!==f||e[54]!==g||e[55]!==v?(q={upContent:g,downContent:y,upLoading:v,downLoading:C,atBOF:T,atEOF:j,readMore:f,handleExpandUp:Y,handleExpandDown:G,handleCollapseUp:D,handleCollapseDown:B},e[45]=T,e[46]=j,e[47]=y,e[48]=C,e[49]=B,e[50]=D,e[51]=G,e[52]=Y,e[53]=f,e[54]=g,e[55]=v,e[56]=q):q=e[56],q}const KL=xe.memo(t=>{const e=ae.c(135),{hunk:n,hunkId:r,workspaceId:a,inlineReviews:s,isSelected:i,isRead:o,firstSeenAt:c,onClick:u,onToggleRead:d,onRegisterToggleExpand:m,onReviewNote:h,searchConfig:p,onComposingChange:f,diffBase:g,reviewActions:x,includeUncommitted:y,onOpenFile:w}=t,v=o===void 0?!1:o,k=xe.useRef(null),C=xe.useRef(!1),[_,S]=xe.useState(!1);let T,N;e[0]===Symbol.for("react.memo_cache_sentinel")?(T=()=>{const et=k.current;if(!et)return;const rt=new IntersectionObserver(jt=>{jt.forEach(ze=>{const Ve=ze.isIntersecting;Ve&&!C.current?(C.current=!0,S(!0)):!Ve&&C.current&&(C.current=!1)})},{rootMargin:"600px"});return rt.observe(et),()=>{rt.disconnect()}},N=[],e[0]=T,e[1]=N):(T=e[0],N=e[1]),xe.useEffect(T,N);let j,R,I,A;if(e[2]!==n.content){const et=n.content.split(`
`).filter(efe);j=et.length,R=j,I=et.filter(tfe).length,A=et.filter(nfe),e[2]=n.content,e[3]=j,e[4]=R,e[5]=I,e[6]=A}else j=e[3],R=e[4],I=e[5],A=e[6];const $=j>200;let E;e[7]!==R||e[8]!==I||e[9]!==A.length||e[10]!==$?(E={lineCount:R,additions:I,deletions:A.length,isLargeHunk:$},e[7]=R,e[8]=I,e[9]=A.length,e[10]=$,e[11]=E):E=e[11];const{lineCount:M,additions:F,deletions:L,isLargeHunk:Y}=E;let O;e:{if(!p){O=n.filePath;break e}let et;e[12]!==n.filePath||e[13]!==p?(et=Spe(n.filePath,p),e[12]=n.filePath,e[13]=p,e[14]=et):et=e[14],O=et}const G=O;let H;e[15]!==n.filePath||e[16]!==w?(H=et=>{et.stopPropagation(),w?.(n.filePath)},e[15]=n.filePath,e[16]=w,e[17]=H):H=e[17];const D=H;let U;e[18]!==a?(U=JX(a),e[18]=a,e[19]=U):U=e[19];let B,q;e[20]===Symbol.for("react.memo_cache_sentinel")?(B={},q={listener:!0},e[20]=B,e[21]=q):(B=e[20],q=e[21]);const[V,Z]=Tt(U,B,q),W=r in V,K=V[r];let J;e[22]!==W||e[23]!==Y||e[24]!==v||e[25]!==K?(J=()=>W?K:!v&&!Y,e[22]=W,e[23]=Y,e[24]=v,e[25]=K,e[26]=J):J=e[26];const[ee,se]=b.useState(J);let re,ue;e[27]!==W||e[28]!==Y||e[29]!==v?(re=()=>{W||(v?se(!1):Y||se(!0))},ue=[v,Y,W],e[27]=W,e[28]=Y,e[29]=v,e[30]=re,e[31]=ue):(re=e[30],ue=e[31]),xe.useEffect(re,ue);let he,ke;e[32]!==W||e[33]!==K?(he=()=>{W&&se(K)},ke=[W,K],e[32]=W,e[33]=K,e[34]=he,e[35]=ke):(he=e[34],ke=e[35]),xe.useEffect(he,ke);let je;e[36]!==g||e[37]!==n||e[38]!==r||e[39]!==y||e[40]!==a?(je={hunk:n,hunkId:r,workspaceId:a,diffBase:g,includeUncommitted:y},e[36]=g,e[37]=n,e[38]=r,e[39]=y,e[40]=a,e[41]=je):je=e[41];const{upContent:_e,downContent:ge,upLoading:ve,downLoading:De,atBOF:$e,atEOF:Qe,readMore:Be,handleExpandUp:ie,handleExpandDown:Te,handleCollapseUp:Ne,handleCollapseDown:Re}=Jpe(je);let Le;e[42]!==r||e[43]!==ee||e[44]!==Z?(Le=et=>{et?.stopPropagation();const rt=!ee;se(rt),Z(jt=>({...jt,[r]:rt}))},e[42]=r,e[43]=ee,e[44]=Z,e[45]=Le):Le=e[45];const Ae=Le;let bt,nt;e[46]!==Ae||e[47]!==r||e[48]!==m?(bt=()=>{m&&m(r,Ae)},nt=[r,m,Ae],e[46]=Ae,e[47]=r,e[48]=m,e[49]=bt,e[50]=nt):(bt=e[49],nt=e[50]),xe.useEffect(bt,nt);let ct;e[51]!==d?(ct=et=>{et.stopPropagation(),d?.(et)},e[51]=d,e[52]=ct):ct=e[52];const pt=ct;let be;e[53]!==r||e[54]!==f?(be=et=>{f?.(r,et)},e[53]=r,e[54]=f,e[55]=be):be=e[55];const We=be,He=n.changeType==="renamed"&&n.oldPath&&F===0&&L===0,Je=v?"border-read":"border-border-light",ye=i&&"border-review-accent shadow-[0_0_0_1px_var(--color-review-accent)]";let Ze;e[56]!==Je||e[57]!==ye?(Ze=ce("bg-dark border rounded mb-3 overflow-hidden cursor-pointer transition-all duration-200","focus:outline-none focus-visible:outline-none",Je,ye),e[56]=Je,e[57]=ye,e[58]=Ze):Ze=e[58];let qe;e[59]!==pt||e[60]!==r||e[61]!==v||e[62]!==d?(qe=d&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{className:ce("text-muted hover:text-read flex cursor-pointer items-center bg-transparent border-none p-0 text-[11px] transition-colors duration-150",v&&"text-read"),"data-hunk-id":r,onClick:pt,"aria-label":`Mark as read (${Bt(st.TOGGLE_HUNK_READ)})`,children:v?l.jsx(Hn,{"aria-hidden":"true",className:"h-3 w-3"}):l.jsx(Q_,{"aria-hidden":"true",className:"h-3 w-3"})})}),l.jsxs(Ke,{align:"start",side:"top",children:["Mark as read (",Bt(st.TOGGLE_HUNK_READ),")  Mark file (",Bt(st.MARK_FILE_READ),")"]})]}),e[59]=pt,e[60]=r,e[61]=v,e[62]=d,e[63]=qe):qe=e[63];let ft;e[64]!==D||e[65]!==G||e[66]!==n.filePath||e[67]!==w?(ft=w?l.jsx("button",{type:"button",onClick:D,className:ce("text-foreground min-w-0 truncate bg-transparent p-0 text-left","hover:text-link focus-visible:text-link cursor-pointer border-none"),title:n.filePath,"aria-label":`Open ${n.filePath} in new tab`,children:l.jsx("span",{dangerouslySetInnerHTML:{__html:G}})}):l.jsx("div",{className:"text-foreground min-w-0 truncate",dangerouslySetInnerHTML:{__html:G}}),e[64]=D,e[65]=G,e[66]=n.filePath,e[67]=w,e[68]=ft):ft=e[68];let Et;e[69]!==F||e[70]!==L||e[71]!==He?(Et=!He&&l.jsxs(l.Fragment,{children:[F>0&&l.jsxs("span",{className:"text-success-light",children:["+",F]}),L>0&&l.jsxs("span",{className:"text-warning-light",children:["",L]})]}),e[69]=F,e[70]=L,e[71]=He,e[72]=Et):Et=e[72];let At;e[73]!==c?(At=qf(c),e[73]=c,e[74]=At):At=e[74];let dt;e[75]!==At?(dt=l.jsx(Xe,{asChild:!0,children:l.jsx("span",{className:"text-dim cursor-default",children:At})}),e[75]=At,e[76]=dt):dt=e[76];let Mt;e[77]!==c?(Mt=new Date(c).toLocaleString(),e[77]=c,e[78]=Mt):Mt=e[78];let Gt;e[79]!==Mt?(Gt=l.jsxs(Ke,{align:"center",side:"top",children:["First seen: ",Mt]}),e[79]=Mt,e[80]=Gt):Gt=e[80];let tn;e[81]!==dt||e[82]!==Gt?(tn=l.jsxs(Ye,{children:[dt,Gt]}),e[81]=dt,e[82]=Gt,e[83]=tn):tn=e[83];let It;e[84]!==Et||e[85]!==tn?(It=l.jsxs("div",{className:"text-muted ml-auto flex shrink-0 items-center gap-1.5 whitespace-nowrap",children:[Et,tn]}),e[84]=Et,e[85]=tn,e[86]=It):It=e[86];let zt;e[87]!==qe||e[88]!==ft||e[89]!==It?(zt=l.jsxs("div",{className:"border-border-light font-monospace flex items-center gap-1.5 border-b px-2 py-1 text-[11px]",children:[qe,ft,It]}),e[87]=qe,e[88]=ft,e[89]=It,e[90]=zt):zt=e[90];let Vt;e[91]!==$e||e[92]!==Qe||e[93]!==ge||e[94]!==De||e[95]!==Re||e[96]!==Ne||e[97]!==We||e[98]!==Te||e[99]!==ie||e[100]!==Ae||e[101]!==n.content||e[102]!==n.filePath||e[103]!==n.newLines||e[104]!==n.newStart||e[105]!==n.oldLines||e[106]!==n.oldPath||e[107]!==n.oldStart||e[108]!==r||e[109]!==s||e[110]!==ee||e[111]!==He||e[112]!==v||e[113]!==_||e[114]!==M||e[115]!==u||e[116]!==h||e[117]!==Be||e[118]!==x||e[119]!==p||e[120]!==_e||e[121]!==ve?(Vt=He?l.jsxs("div",{className:"text-muted bg-code-keyword-overlay-light before:text-code-keyword flex items-center gap-2 p-3 text-[11px] before:text-sm before:content-['']",children:["Renamed from ",l.jsx("code",{children:n.oldPath})]}):ee?l.jsxs("div",{className:"font-monospace bg-code-bg overflow-x-auto text-[11px] leading-[1.4]",children:[!$e&&!ve&&l.jsx("div",{className:"text-muted flex h-[18px] items-center justify-center text-[10px]",children:l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:ie,className:"text-link hover:text-link-hover cursor-pointer px-1","aria-label":"Show more context above",children:""})}),l.jsx(Ke,{side:"top",children:"Show more context above"})]})}),ve&&l.jsx("div",{className:"text-muted flex h-[18px] items-center justify-center text-[10px]",children:l.jsx("span",{children:"Loading..."})}),_e&&l.jsxs(l.Fragment,{children:[l.jsx(Xd,{content:_e,filePath:n.filePath,inlineReviews:s,oldStart:Math.max(1,n.oldStart-Be.up),newStart:Math.max(1,n.newStart-Be.up),fontSize:"11px",maxHeight:"none",className:"rounded-none border-0 [&>div]:overflow-x-visible",enableHighlighting:_,reviewActions:x}),l.jsx(nT,{lineCount:Be.up,onCollapse:Ne,position:"above"})]}),l.jsx(Xd,{content:n.content,filePath:n.filePath,inlineReviews:s,oldStart:n.oldStart,newStart:n.newStart,fontSize:"11px",maxHeight:"none",className:"rounded-none border-0 [&>div]:overflow-x-visible",onReviewNote:h,onLineClick:()=>{u?.({currentTarget:{dataset:{hunkId:r}}})},searchConfig:p,enableHighlighting:_,onComposingChange:We,reviewActions:x}),ge&&l.jsxs(l.Fragment,{children:[l.jsx(nT,{lineCount:Be.down,onCollapse:Re,position:"below"}),l.jsx(Xd,{content:ge,filePath:n.filePath,inlineReviews:s,oldStart:n.oldStart+n.oldLines,newStart:n.newStart+n.newLines,fontSize:"11px",maxHeight:"none",className:"rounded-none border-0 [&>div]:overflow-x-visible",enableHighlighting:_,reviewActions:x})]}),!Qe&&!De&&l.jsx("div",{className:"text-muted flex h-[18px] items-center justify-center text-[10px]",children:l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:Te,className:"text-link hover:text-link-hover cursor-pointer px-1","aria-label":"Show more context below",children:""})}),l.jsx(Ke,{side:"bottom",children:"Show more context below"})]})}),De&&l.jsx("div",{className:"text-muted flex h-[18px] items-center justify-center text-[10px]",children:l.jsx("span",{children:"Loading..."})}),Qe&&ge&&!De&&l.jsx("div",{className:"text-dim flex h-[18px] items-center justify-center text-[10px]",children:" end of file "})]}):l.jsxs("div",{className:"text-muted hover:text-foreground cursor-pointer px-3 py-2 text-center text-[11px] italic",onClick:Ae,children:[v&&"Hunk marked as read. ","Click to expand (",M," lines) or press"," ",Bt(st.TOGGLE_HUNK_COLLAPSE)]}),e[91]=$e,e[92]=Qe,e[93]=ge,e[94]=De,e[95]=Re,e[96]=Ne,e[97]=We,e[98]=Te,e[99]=ie,e[100]=Ae,e[101]=n.content,e[102]=n.filePath,e[103]=n.newLines,e[104]=n.newStart,e[105]=n.oldLines,e[106]=n.oldPath,e[107]=n.oldStart,e[108]=r,e[109]=s,e[110]=ee,e[111]=He,e[112]=v,e[113]=_,e[114]=M,e[115]=u,e[116]=h,e[117]=Be,e[118]=x,e[119]=p,e[120]=_e,e[121]=ve,e[122]=Vt):Vt=e[122];let qt;e[123]!==Ae||e[124]!==W||e[125]!==ee||e[126]!==He?(qt=W&&ee&&!He&&l.jsxs("div",{className:"text-muted hover:text-foreground cursor-pointer px-3 py-2 text-center text-[11px] italic",onClick:Ae,children:["Click here or press ",Bt(st.TOGGLE_HUNK_COLLAPSE)," to collapse"]}),e[123]=Ae,e[124]=W,e[125]=ee,e[126]=He,e[127]=qt):qt=e[127];let Pt;return e[128]!==r||e[129]!==u||e[130]!==Ze||e[131]!==zt||e[132]!==Vt||e[133]!==qt?(Pt=l.jsxs("div",{ref:k,className:Ze,onClick:u,role:"button",tabIndex:0,"data-hunk-id":r,children:[zt,Vt,qt]}),e[128]=r,e[129]=u,e[130]=Ze,e[131]=zt,e[132]=Vt,e[133]=qt,e[134]=Pt):Pt=e[134],Pt});KL.displayName="HunkViewer";function efe(t){return t.length>0}function tfe(t){return t.startsWith("+")}function nfe(t){return t.startsWith("-")}const rfe={manual:"manual click",scheduled:"tool completion",priority:"tool completion (priority)",focus:"window focus",visibility:"tab visible",unpaused:"interaction ended","in-flight-followup":"queued followup"},afe=t=>{const e=ae.c(36),{onClick:n,isLoading:r,lastRefreshInfo:a,disabled:s}=t,i=r===void 0?!1:r,o=s===void 0?!1:s,[c,u]=b.useState("idle"),d=b.useRef(null);let m,h;e[0]!==c||e[1]!==i?(m=()=>{i?(u("spinning"),d.current&&(clearTimeout(d.current),d.current=null)):c==="spinning"&&(u("stopping"),d.current=window.setTimeout(()=>{u("idle"),d.current=null},800))},h=[i,c],e[0]=c,e[1]=i,e[2]=m,e[3]=h):(m=e[2],h=e[3]),b.useEffect(m,h);let p,f;e[4]===Symbol.for("react.memo_cache_sentinel")?(p=()=>()=>{d.current&&clearTimeout(d.current)},f=[],e[4]=p,e[5]=f):(p=e[4],f=e[5]),b.useEffect(p,f);let g;e[6]!==o||e[7]!==i||e[8]!==n?(g=()=>{o||(i||(u("spinning"),d.current&&(clearTimeout(d.current),d.current=null)),n())},e[6]=o,e[7]=i,e[8]=n,e[9]=g):g=e[9];const x=g,y=a?.trigger??"",w=a?.timestamp??"",v=o||void 0,k=o?"text-muted/40 cursor-not-allowed":c==="spinning"?"text-accent cursor-default hover:text-accent":"text-muted cursor-pointer hover:text-foreground",C=c==="stopping"&&"cursor-default";let _;e[10]!==k||e[11]!==C?(_=ce("flex items-center justify-center bg-transparent border-none p-0.5 transition-colors duration-[1500ms] ease-out",k,C),e[10]=k,e[11]=C,e[12]=_):_=e[12];const S=c==="spinning"&&"animate-spin",T=c==="stopping"&&"animate-[spin_0.8s_ease-out_forwards]";let N;e[13]!==S||e[14]!==T?(N=ce("w-3 h-3",S,T),e[13]=S,e[14]=T,e[15]=N):N=e[15];let j;e[16]===Symbol.for("react.memo_cache_sentinel")?(j=l.jsx("path",{d:"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"}),e[16]=j):j=e[16];let R;e[17]!==N?(R=l.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:N,children:j}),e[17]=N,e[18]=R):R=e[18];let I;e[19]!==o||e[20]!==x||e[21]!==_||e[22]!==R||e[23]!==y||e[24]!==w||e[25]!==v?(I=l.jsx(Xe,{asChild:!0,children:l.jsx("button",{"aria-label":"Refresh diff","data-testid":"review-refresh","data-last-refresh-trigger":y,"data-last-refresh-timestamp":w,"data-disabled":v,disabled:o,onClick:x,className:_,children:R})}),e[19]=o,e[20]=x,e[21]=_,e[22]=R,e[23]=y,e[24]=w,e[25]=v,e[26]=I):I=e[26];let A;e[27]!==c||e[28]!==o||e[29]!==a?(A=o?"Finish editing review note to refresh":c!=="idle"?"Refreshing...":l.jsxs("span",{children:["Refresh diff (",Bt(st.REFRESH_REVIEW),")",a&&l.jsxs("span",{className:"text-muted block text-[10px]",children:["Last: ",Zpe(a.timestamp)," via"," ",rfe[a.trigger]??a.trigger]})]}),e[27]=c,e[28]=o,e[29]=a,e[30]=A):A=e[30];let $;e[31]!==A?($=l.jsx(Ke,{side:"bottom",align:"start",children:A}),e[31]=A,e[32]=$):$=e[32];let E;return e[33]!==I||e[34]!==$?(E=l.jsxs(Ye,{children:[I,$]}),e[33]=I,e[34]=$,e[35]=E):E=e[35],E},sfe=[{value:"file-order",label:"File order"},{value:"last-edit",label:"Last edit"}],ife=t=>{const e=ae.c(55),{filters:n,stats:r,onFiltersChange:a,onRefresh:s,isLoading:i,isRefreshBlocked:o,projectPath:c,lastRefreshInfo:u}=t,d=i===void 0?!1:i,m=o===void 0?!1:o;let h;e[0]!==c?(h=Bp.reviewDefaultBase(c),e[0]=c,e[1]=h):h=e[1];let p;e[2]===Symbol.for("react.memo_cache_sentinel")?(p={listener:!0},e[2]=p):p=e[2];const[f,g]=Tt(h,Js.reviewBase,p);let x;e[3]!==a?(x=W=>{a(K=>({...K,diffBase:W}))},e[3]=a,e[4]=x):x=e[4];const y=x;let w;e[5]!==a?(w=W=>{const K=W.target.checked;a(J=>({...J,includeUncommitted:K}))},e[5]=a,e[6]=w):w=e[6];const v=w;let k;e[7]!==a?(k=W=>{const K=W.target.checked;a(J=>({...J,showReadHunks:K}))},e[7]=a,e[8]=k):k=e[8];const C=k;let _;e[9]!==a?(_=W=>{const K=W.target.value;a(J=>({...J,sortOrder:K}))},e[9]=a,e[10]=_):_=e[10];const S=_;let T;e[11]!==n.diffBase||e[12]!==g?(T=()=>{g(n.diffBase)},e[11]=n.diffBase,e[12]=g,e[13]=T):T=e[13];const N=T,j=n.diffBase!==f;let R;e[14]!==d||e[15]!==m||e[16]!==u||e[17]!==s?(R=s&&l.jsx(afe,{onClick:s,isLoading:d,disabled:m,lastRefreshInfo:u}),e[14]=d,e[15]=m,e[16]=u,e[17]=s,e[18]=R):R=e[18];let I;e[19]===Symbol.for("react.memo_cache_sentinel")?(I=l.jsx("span",{children:"Base:"}),e[19]=I):I=e[19];let A;e[20]!==n.diffBase||e[21]!==y?(A=l.jsx(DM,{value:n.diffBase,onChange:y,"data-testid":"review-base-value"}),e[20]=n.diffBase,e[21]=y,e[22]=A):A=e[22];let $;e[23]!==N||e[24]!==j?($=j&&l.jsx("button",{onClick:N,className:"text-dim font-primary hover:text-muted cursor-pointer border-none bg-transparent p-0 text-[10px] whitespace-nowrap transition-colors duration-150",title:"Set as default base",children:""}),e[23]=N,e[24]=j,e[25]=$):$=e[25];let E;e[26]!==A||e[27]!==$?(E=l.jsxs("div",{className:"text-muted flex items-center gap-1 whitespace-nowrap","data-testid":"review-base-selector",children:[I,A,$]}),e[26]=A,e[27]=$,e[28]=E):E=e[28];let M;e[29]===Symbol.for("react.memo_cache_sentinel")?(M=l.jsx("div",{className:"bg-border-light h-3 w-px"}),e[29]=M):M=e[29];let F;e[30]===Symbol.for("react.memo_cache_sentinel")?(F=l.jsx("span",{children:"Uncommitted:"}),e[30]=F):F=e[30];let L;e[31]!==n.includeUncommitted||e[32]!==v?(L=l.jsxs("label",{className:"text-muted hover:text-foreground flex cursor-pointer items-center gap-1 whitespace-nowrap",children:[F,l.jsx("input",{type:"checkbox",checked:n.includeUncommitted,onChange:v,className:"h-3 w-3 cursor-pointer"})]}),e[31]=n.includeUncommitted,e[32]=v,e[33]=L):L=e[33];let Y;e[34]===Symbol.for("react.memo_cache_sentinel")?(Y=l.jsx("div",{className:"bg-border-light h-3 w-px"}),e[34]=Y):Y=e[34];let O;e[35]===Symbol.for("react.memo_cache_sentinel")?(O=l.jsx("span",{children:"Read:"}),e[35]=O):O=e[35];let G;e[36]!==n.showReadHunks||e[37]!==C?(G=l.jsxs("label",{className:"text-muted hover:text-foreground flex cursor-pointer items-center gap-1 whitespace-nowrap",children:[O,l.jsx("input",{type:"checkbox",checked:n.showReadHunks,onChange:C,className:"h-3 w-3 cursor-pointer"})]}),e[36]=n.showReadHunks,e[37]=C,e[38]=G):G=e[38];let H;e[39]===Symbol.for("react.memo_cache_sentinel")?(H=l.jsx("div",{className:"bg-border-light h-3 w-px"}),e[39]=H):H=e[39];let D;e[40]===Symbol.for("react.memo_cache_sentinel")?(D=l.jsx("span",{children:"Sort:"}),e[40]=D):D=e[40];const U=n.sortOrder;let B;e[41]===Symbol.for("react.memo_cache_sentinel")?(B=sfe.map(ofe),e[41]=B):B=e[41];let q;e[42]!==n.sortOrder||e[43]!==S?(q=l.jsxs("label",{className:"text-muted flex items-center gap-1 whitespace-nowrap",children:[D,l.jsx("select",{"aria-label":"Sort hunks by",value:U,onChange:S,className:"text-muted-light hover:bg-hover hover:text-foreground cursor-pointer rounded-sm bg-transparent px-1 py-0.5 font-mono transition-colors focus:outline-none",children:B})]}),e[42]=n.sortOrder,e[43]=S,e[44]=q):q=e[44];let V;e[45]!==r.read||e[46]!==r.total?(V=l.jsxs("span",{className:"text-dim ml-auto whitespace-nowrap",children:[r.read,"/",r.total]}),e[45]=r.read,e[46]=r.total,e[47]=V):V=e[47];let Z;return e[48]!==R||e[49]!==E||e[50]!==L||e[51]!==G||e[52]!==q||e[53]!==V?(Z=l.jsxs("div",{className:"border-border-light flex flex-wrap items-center gap-2 border-b px-2 py-1 text-[11px]",children:[R,E,M,L,Y,G,H,q,V]}),e[48]=R,e[49]=E,e[50]=L,e[51]=G,e[52]=q,e[53]=V,e[54]=Z):Z=e[54],Z};function ofe(t){return l.jsx("option",{value:t.value,children:t.label},t.value)}function lfe(t){const e=t.trim().split(`
`).filter(Boolean),n=[];for(const r of e){const a=r.split("	");if(a.length!==3)continue;const[s,i,o]=a,c=s==="-"?0:parseInt(s,10),u=i==="-"?0:parseInt(i,10);!isNaN(c)&&!isNaN(u)&&n.push({filePath:o,additions:c,deletions:u})}return n}function K1(t){const e=/^(.*)?\{[^}]+ => ([^}]+)\}(.*)$/.exec(t);if(e){const[,r="",a,s=""]=e;return`${r}${a}${s}`}const n=" => ";return t.includes(n)?t.split(n).pop()??t:t}function cfe(t){const e={name:"",path:"",isDirectory:!0,children:[]};for(const r of t){const a=r.filePath.split("/");let s=e;for(let i=0;i<a.length;i++){const o=a[i],c=i===a.length-1,u=a.slice(0,i+1).join("/");let d=s.children.find(m=>m.name===o);d||(d={name:o,path:u,isDirectory:!c,children:[],stats:c?r:void 0},s.children.push(d)),s=d}}function n(r){if(r.isDirectory){let a=0,s=0;for(const i of r.children){n(i);const o=i.isDirectory?i.totalStats:i.stats;o&&(a+=o.additions,s+=o.deletions)}r.totalStats={additions:a,deletions:s,filePath:r.path}}}return n(e),e}function ufe(t,e){if(!t.isDirectory||!e)return null;let n=!1,r=0,a=0;const s=i=>{if(i.isDirectory)i.children.forEach(s);else{r++;const o=e(K1(i.path));o===null?((i.stats?.additions??0)>0||(i.stats?.deletions??0)>0)&&(n=!0):o.read===o.total&&o.total>0&&a++}};return s(t),n?"unknown":r>0&&a===r?"fully-read":null}function dfe(t,e){switch(t){case"added":return{label:"A",className:"text-success-light",title:"Added"};case"deleted":return{label:"D",className:"text-danger",title:"Deleted"};case"renamed":return{label:"R",className:"text-muted",title:e?`Renamed from ${e}`:"Renamed"};case"modified":return{label:"M",className:"text-warning-light",title:"Modified"}}}const mfe=[{value:"structured",label:"Structured"},{value:"flat",label:"Flat"}];function YL(t){if(!t.isDirectory)return[t];const e=[];for(const n of t.children)e.push(...YL(n));return e}const sk=t=>{const e=ae.c(45),{node:n,depth:r,fileLabelMode:a,selectedPath:s,onSelectFile:i,getFileReadStatus:o,expandStateMap:c,setExpandStateMap:u}=t,d=a===void 0?"name":a,h=n.path in c?c[n.path]:r<2;let p;e[0]!==n.path||e[1]!==u?(p=_=>{u(S=>({...S,[n.path]:_}))},e[0]=n.path,e[1]=u,e[2]=p):p=e[2];const f=p;let g;e[3]!==h||e[4]!==n.isDirectory||e[5]!==n.path||e[6]!==i||e[7]!==s||e[8]!==f?(g=_=>{n.isDirectory&&_.target.closest("[data-toggle]")?f(!h):i(s===n.path?null:n.path)},e[3]=h,e[4]=n.isDirectory,e[5]=n.path,e[6]=i,e[7]=s,e[8]=f,e[9]=g):g=e[9];const x=g;let y;e[10]!==h||e[11]!==f?(y=_=>{_.stopPropagation(),f(!h)},e[10]=h,e[11]=f,e[12]=y):y=e[12];const w=y;let v;if(e[13]!==r||e[14]!==d||e[15]!==o||e[16]!==x||e[17]!==w||e[18]!==h||e[19]!==n||e[20]!==s){const _=n.isDirectory?n.path:K1(n.path),S=_.split("/").pop()??"",T=_.split("/").slice(0,-1).join("/"),N=S,j=s===n.path,R=n.isDirectory?null:n.stats?.changeType??"modified",I=R==="deleted",A=R==="renamed"&&!!n.stats?.oldPath;let $;e[22]!==n.stats?.oldPath?($=n.stats?.oldPath?.split("/").pop()??n.stats?.oldPath??"",e[22]=n.stats?.oldPath,e[23]=$):$=e[23];const E=$,M=A&&E!==S;let F=!1,L=!1;if(n.isDirectory){let q;e[24]!==o||e[25]!==n?(q=ufe(n,o),e[24]=o,e[25]=n,e[26]=q):q=e[26];const V=q;F=V==="fully-read",L=V==="unknown"}else if(o){const q=o(_);F=q?q.read===q.total&&q.total>0:!1,L=q===null&&((n.stats?.additions??0)>0||(n.stats?.deletions??0)>0)}const Y=F?.45:L&&!F?.7:1,O=!n.isDirectory&&n.stats?dfe(n.stats.changeType??"modified",n.stats.oldPath):null,G=!n.isDirectory&&d==="path"?A?`${n.stats?.oldPath??""} -> ${_}`:_:void 0,H=j?"bg-code-keyword-overlay":"bg-transparent hover:bg-white/5";let D;e[27]!==H?(D=ce("cursor-pointer select-none flex items-center gap-1.5 rounded py-0.5 px-1.5",H),e[27]=H,e[28]=D):D=e[28];const U=`${r*12+4}px`;let B;e[29]!==U?(B={paddingLeft:U},e[29]=U,e[30]=B):B=e[30],v=l.jsx("div",{className:D,style:B,onClick:x,children:n.isDirectory?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-muted inline-flex h-3 w-3 shrink-0 items-center justify-center text-[8px] transition-transform duration-200",style:{transform:h?"rotate(90deg)":"rotate(0deg)"},"data-toggle":!0,onClick:w,children:""}),l.jsx("span",{className:ce("flex-1",F&&"text-dim line-through [text-decoration-color:var(--color-read)] [text-decoration-thickness:2px]",L&&!F&&"text-dim",!F&&!L&&"text-muted"),children:n.name||"/"}),n.totalStats&&(n.totalStats.additions>0||n.totalStats.deletions>0)&&l.jsxs("span",{className:"flex gap-2 text-[11px] opacity-70",style:{color:h?"var(--color-dim)":"inherit"},children:[n.totalStats.additions>0&&(h?l.jsxs("span",{children:["+",n.totalStats.additions]}):l.jsxs("span",{className:"text-success-light",children:["+",n.totalStats.additions]})),n.totalStats.deletions>0&&(h?l.jsxs("span",{children:["-",n.totalStats.deletions]}):l.jsxs("span",{className:"text-warning-light",children:["-",n.totalStats.deletions]}))]})]}):l.jsxs(l.Fragment,{children:[l.jsx(cc,{fileName:N,filePath:n.path,className:"shrink-0",style:{opacity:Y}}),l.jsx("span",{className:ce("flex-1",d==="path"&&"min-w-0",I&&"line-through",F&&"text-dim line-through [text-decoration-color:var(--color-read)] [text-decoration-thickness:2px]",L&&!F&&"text-dim",!F&&!L&&"text-foreground"),title:G,children:d==="path"?l.jsxs("span",{className:"flex min-w-0 items-baseline gap-2",children:[l.jsx("span",{className:ce("min-w-0 truncate",T&&"max-w-[60%]"),children:M?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-muted",children:E}),l.jsx("span",{className:"text-muted",children:" -> "}),l.jsx("span",{children:S})]}):S}),T?l.jsx("span",{className:"text-muted min-w-0 flex-1 truncate",children:T}):null]}):M?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-muted",children:E}),l.jsx("span",{className:"text-muted",children:" -> "}),l.jsx("span",{children:S})]}):n.name}),l.jsxs("span",{className:"ml-auto flex items-center gap-2 text-[11px]",children:[n.stats?.additions?l.jsxs("span",{className:"text-success-light",children:["+",n.stats.additions]}):null,n.stats?.deletions?l.jsxs("span",{className:"text-warning-light",children:["-",n.stats.deletions]}):null,O?l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("span",{className:ce("shrink-0 font-semibold",O.className),style:{opacity:Y},children:O.label})}),l.jsx(Ke,{side:"left",align:"center",children:O.title})]}):null]})]})}),e[13]=r,e[14]=d,e[15]=o,e[16]=x,e[17]=w,e[18]=h,e[19]=n,e[20]=s,e[21]=v}else v=e[21];let k;e[31]!==r||e[32]!==c||e[33]!==d||e[34]!==o||e[35]!==h||e[36]!==n.children||e[37]!==n.isDirectory||e[38]!==i||e[39]!==s||e[40]!==u?(k=n.isDirectory&&h&&n.children.map(_=>l.jsx(sk,{node:_,depth:r+1,fileLabelMode:d,selectedPath:s,onSelectFile:i,getFileReadStatus:o,expandStateMap:c,setExpandStateMap:u},_.path)),e[31]=r,e[32]=c,e[33]=d,e[34]=o,e[35]=h,e[36]=n.children,e[37]=n.isDirectory,e[38]=i,e[39]=s,e[40]=u,e[41]=k):k=e[41];let C;return e[42]!==v||e[43]!==k?(C=l.jsxs(l.Fragment,{children:[v,k]}),e[42]=v,e[43]=k,e[44]=C):C=e[44],C},hfe=t=>{const e=ae.c(34),{root:n,selectedPath:r,onSelectFile:a,isLoading:s,getFileReadStatus:i,workspaceId:o}=t,c=s===void 0?!1:s;let u;e[0]!==o?(u=tZ(o),e[0]=o,e[1]=u):u=e[1];let d,m;e[2]===Symbol.for("react.memo_cache_sentinel")?(d={},m={listener:!0},e[2]=d,e[3]=m):(d=e[2],m=e[3]);const[h,p]=Tt(u,d,m);let f;e[4]===Symbol.for("react.memo_cache_sentinel")?(f={listener:!0},e[4]=f):f=e[4];const[g,x]=Tt(eZ,"structured",f);let y;e[5]!==r?(y=r?r.split("/").pop()??r:null,e[5]=r,e[6]=y):y=e[6];const w=y;let v;e[7]===Symbol.for("react.memo_cache_sentinel")?(v=l.jsx("span",{children:"Files"}),e[7]=v):v=e[7];let k;e[8]!==x?(k=R=>x(R),e[8]=x,e[9]=k):k=e[9];let C;e[10]!==k||e[11]!==g?(C=l.jsx("div",{"data-testid":"review-file-tree-view-mode",children:l.jsx(dC,{options:mfe,value:g,onChange:k})}),e[10]=k,e[11]=g,e[12]=C):C=e[12];let _;e[13]!==w||e[14]!==a||e[15]!==r?(_=r&&l.jsxs("button",{className:"bg-code-keyword-overlay text-foreground hover:bg-code-keyword-overlay/80 flex cursor-pointer items-center gap-1 rounded px-1.5 py-0.5 text-[10px] transition-colors",onClick:()=>a(null),title:`Filtering: ${r}
Click to clear`,children:[l.jsx("span",{className:"max-w-[120px] truncate",children:w}),l.jsx("span",{className:"text-muted",children:""})]}),e[13]=w,e[14]=a,e[15]=r,e[16]=_):_=e[16];let S;e[17]!==_||e[18]!==C?(S=l.jsxs("div",{className:"border-border-light text-muted font-primary flex items-center gap-2 border-b px-2 py-1 text-[11px]",children:[v,l.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[C,_]})]}),e[17]=_,e[18]=C,e[19]=S):S=e[19];let T;e[20]!==h||e[21]!==i||e[22]!==c||e[23]!==a||e[24]!==n||e[25]!==r||e[26]!==p||e[27]!==g?(T=c&&!n?l.jsx("div",{className:"text-muted py-5 text-center",children:"Loading file tree..."}):n?g==="flat"?YL(n).map(R=>l.jsx(sk,{node:R,depth:0,fileLabelMode:"path",selectedPath:r,onSelectFile:a,getFileReadStatus:i,expandStateMap:h,setExpandStateMap:p},R.path)):n.children.map(R=>l.jsx(sk,{node:R,depth:0,selectedPath:r,onSelectFile:a,getFileReadStatus:i,expandStateMap:h,setExpandStateMap:p},R.path)):l.jsx("div",{className:"text-muted py-5 text-center",children:"No files changed"}),e[20]=h,e[21]=i,e[22]=c,e[23]=a,e[24]=n,e[25]=r,e[26]=p,e[27]=g,e[28]=T):T=e[28];let N;e[29]!==T?(N=l.jsx("div",{className:"font-monospace min-h-0 flex-1 overflow-x-hidden overflow-y-auto px-1 py-1 text-[11px]","data-testid":"review-file-tree",children:T}),e[29]=T,e[30]=N):N=e[30];let j;return e[31]!==S||e[32]!==N?(j=l.jsxs(l.Fragment,{children:[S,N]}),e[31]=S,e[32]=N,e[33]=j):j=e[33],j},pfe=({workspaceId:t,workspacePath:e,refreshTrigger:n,onRefresh:r})=>{const{api:a}=Kt(),[s,i]=b.useState([]),[o,c]=b.useState(!1),[u,d]=b.useState(!1),[m,h]=b.useState(!1),p=b.useRef(!1),f=b.useRef(!1);b.useEffect(()=>{let k=!1;return(async()=>{if(!f.current){f.current=!0,p.current||c(!0);try{const _=await a?.workspace.executeBash({workspaceId:t,script:"git ls-files --others --exclude-standard",options:{timeout_secs:5}});if(k||!_)return;if(_.success&&_.data.success){const S=(_.data.output??"").split(`
`).map(T=>T.trim()).filter(Boolean);i(S)}else{const S=_.success?_.data.output??"":_.error;typeof S=="string"&&!/fatal:\s*not a git repository\b/i.test(S)&&console.error("Failed to load untracked files:",S),i([])}p.current=!0}catch(_){console.error("Failed to load untracked files:",_)}finally{f.current=!1,k||c(!1)}}})(),()=>{k=!0}},[a,t,e,n]);const g=async()=>{if(!(s.length===0||m)){h(!0);try{const k=s.map(_=>`'${_.replace(/'/g,"'\\''")}'`).join(" "),C=await a?.workspace.executeBash({workspaceId:t,script:`git add -- ${k}`,options:{timeout_secs:10}});C?.success?(d(!1),r?.()):C&&console.error("Failed to track files:",C.error)}catch(k){console.error("Failed to track files:",k)}finally{h(!1)}}},x=s.length,w=s.slice(0,20),v=x-w.length;return!o&&x===0||o&&!p.current?null:l.jsxs("div",{className:"bg-info-yellow/10 border-info-yellow/30 mx-3 mt-3 rounded border",children:[l.jsxs("button",{onClick:()=>d(!u),className:ce("flex w-full cursor-pointer items-center gap-2 px-3 py-2 text-left","hover:bg-info-yellow/5 transition-colors duration-150"),children:[l.jsx("span",{className:ce("text-[10px] transition-transform duration-200",u&&"rotate-90"),children:""}),l.jsxs("span",{className:"text-info-yellow text-xs font-medium",children:[x," untracked ",x===1?"file":"files"]}),l.jsx("span",{className:"text-muted text-[11px]",children:"not included in diff"})]}),u&&l.jsxs("div",{className:"border-info-yellow/20 border-t px-3 py-2",children:[l.jsxs("div",{className:"mb-2 max-h-[200px] overflow-y-auto",children:[w.map(k=>l.jsx("div",{className:"text-label hover:bg-bg-subtle truncate py-0.5 font-mono text-[11px]",children:k},k)),v>0&&l.jsxs("div",{className:"text-muted py-0.5 text-[11px] italic",children:["and ",v," more ",v===1?"file":"files","..."]})]}),l.jsx("button",{onClick:()=>void g(),disabled:m,className:ce("w-full py-1.5 px-2 bg-info-yellow/20 text-info-yellow border border-info-yellow/30 rounded text-[11px] cursor-pointer transition-all duration-200 font-medium","hover:bg-info-yellow/30 hover:border-info-yellow/50","active:bg-info-yellow/40","disabled:opacity-50 disabled:cursor-not-allowed"),children:m?"Tracking...":"Track All Files"})]})]})};function ik(t){return t.length===0?"''":"'"+t.replace(/'/g,`'"'"'`)+"'"}const ffe=1024;function gfe(t,e){const n=Object.entries(t);return n.length<=e?t:(n.sort((r,a)=>a[1].timestamp-r[1].timestamp),Object.fromEntries(n.slice(0,e)))}function bfe(t){const[e,n]=Tt(nZ(t),{workspaceId:t,readState:{},lastUpdated:Date.now()}),[r,a]=b.useState(!1);b.useEffect(()=>{if(!r){a(!0);const m=gfe(e.readState,ffe);Object.keys(m).length!==Object.keys(e.readState).length&&n(h=>({...h,readState:m,lastUpdated:Date.now()}))}},[r,e.readState,n]);const s=b.useCallback(m=>e.readState[m]?.isRead??!1,[e.readState]),i=b.useCallback(m=>{const h=Array.isArray(m)?m:[m];if(h.length===0)return;const p=Date.now();n(f=>{if(!h.some(y=>!f.readState[y]?.isRead))return f;const x={...f.readState};for(const y of h)x[y]={hunkId:y,isRead:!0,timestamp:p};return{...f,readState:x,lastUpdated:p}})},[n]),o=b.useCallback(m=>{n(h=>{if(!h.readState[m])return h;const{[m]:p,...f}=h.readState;return{...h,readState:f,lastUpdated:Date.now()}})},[n]),c=b.useCallback(m=>{s(m)?o(m):i(m)},[s,i,o]),u=b.useCallback(()=>{n(m=>({...m,readState:{},lastUpdated:Date.now()}))},[n]),d=b.useMemo(()=>Object.values(e.readState).filter(m=>m.isRead).length,[e.readState]);return{isRead:s,markAsRead:i,markAsUnread:o,toggleRead:c,clearAll:u,readCount:d}}function xfe(){return`review-${Date.now()}-${Math.random().toString(36).slice(2,9)}`}function Xm(t){const[e,n]=Tt(rZ(t),{workspaceId:t,reviews:{},lastUpdated:Date.now()},{listener:!0}),r=b.useMemo(()=>Object.values(e.reviews).sort((k,C)=>k.createdAt-C.createdAt),[e.reviews]),a=b.useMemo(()=>r.filter(k=>k.status==="attached"),[r]),s=b.useMemo(()=>r.filter(k=>k.status==="pending").length,[r]),i=a.length,o=b.useMemo(()=>r.filter(k=>k.status==="checked").length,[r]),c=b.useCallback(k=>{const C={id:xfe(),data:k,status:"attached",createdAt:Date.now()};return n(_=>({..._,reviews:{..._.reviews,[C.id]:C},lastUpdated:Date.now()})),C},[n]),u=b.useCallback(k=>{n(C=>{const _=C.reviews[k];return!_||_.status==="attached"?C:{...C,reviews:{...C.reviews,[k]:{..._,status:"attached",statusChangedAt:Date.now()}},lastUpdated:Date.now()}})},[n]),d=b.useCallback(k=>{n(C=>{const _=C.reviews[k];return _?.status!=="attached"?C:{...C,reviews:{...C.reviews,[k]:{..._,status:"pending",statusChangedAt:Date.now()}},lastUpdated:Date.now()}})},[n]),m=b.useCallback(()=>{n(k=>{const C=Date.now(),_={...k.reviews};let S=!1;for(const[T,N]of Object.entries(k.reviews))N.status==="pending"&&(_[T]={...N,status:"attached",statusChangedAt:C},S=!0);return S?{...k,reviews:_,lastUpdated:C}:k})},[n]),h=b.useCallback(()=>{n(k=>{const C=Date.now(),_={...k.reviews};let S=!1;for(const[T,N]of Object.entries(k.reviews))N.status==="attached"&&(_[T]={...N,status:"pending",statusChangedAt:C},S=!0);return S?{...k,reviews:_,lastUpdated:C}:k})},[n]),p=b.useCallback(k=>{n(C=>{const _=C.reviews[k];return!_||_.status==="checked"?C:{...C,reviews:{...C.reviews,[k]:{..._,status:"checked",statusChangedAt:Date.now()}},lastUpdated:Date.now()}})},[n]),f=b.useCallback(k=>{n(C=>{const _=C.reviews[k];return!_||_.status==="pending"?C:{...C,reviews:{...C.reviews,[k]:{..._,status:"pending",statusChangedAt:Date.now()}},lastUpdated:Date.now()}})},[n]),g=b.useCallback(k=>{n(C=>{const{[k]:_,...S}=C.reviews;return{...C,reviews:S,lastUpdated:Date.now()}})},[n]),x=b.useCallback((k,C)=>{n(_=>{const S=_.reviews[k];return S?{..._,reviews:{..._.reviews,[k]:{...S,data:{...S.data,userNote:C}}},lastUpdated:Date.now()}:_})},[n]),y=b.useCallback(()=>{n(k=>{const C=Object.fromEntries(Object.entries(k.reviews).filter(([_,S])=>S.status!=="checked"));return{...k,reviews:C,lastUpdated:Date.now()}})},[n]),w=b.useCallback(()=>{n(k=>({...k,reviews:{},lastUpdated:Date.now()}))},[n]),v=b.useCallback(k=>e.reviews[k],[e.reviews]);return b.useMemo(()=>({reviews:r,pendingCount:s,attachedCount:i,checkedCount:o,attachedReviews:a,addReview:c,attachReview:u,detachReview:d,attachAllPending:m,detachAllAttached:h,checkReview:p,uncheckReview:f,removeReview:g,updateReviewNote:x,clearChecked:y,clearAll:w,getReview:v}),[r,s,i,o,a,c,u,d,m,h,p,f,g,x,y,w,v])}const yfe=2048;function wfe(t,e){const n=Object.entries(t);return n.length<=e?t:(n.sort((r,a)=>a[1]-r[1]),Object.fromEntries(n.slice(0,e)))}function vfe(t){const e=ae.c(13);let n;e[0]!==t?(n=aZ(t),e[0]=t,e[1]=n):n=e[1];let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r={firstSeen:{}},e[2]=r):r=e[2];const[a,s]=Tt(n,r);let i;e[3]===Symbol.for("react.memo_cache_sentinel")?(i=new Set,e[3]=i):i=e[3];const o=b.useRef(i),c=b.useRef(!1);let u;e[4]!==a.firstSeen?(u=f=>a.firstSeen[f],e[4]=a.firstSeen,e[5]=u):u=e[5];const d=u;let m;e[6]!==s||e[7]!==a.firstSeen?(m=f=>{for(const g of f)g in a.firstSeen||o.current.add(g);o.current.size>0&&!c.current&&(c.current=!0,queueMicrotask(()=>{c.current=!1;const g=o.current;if(g.size===0)return;o.current=new Set;const x=Date.now();s(y=>{const w=Array.from(g).filter(C=>!(C in y.firstSeen));if(w.length===0)return y;const v={...y.firstSeen};for(const C of w)v[C]=x;return{firstSeen:wfe(v,yfe)}})}))},e[6]=s,e[7]=a.firstSeen,e[8]=m):m=e[8];const h=m;let p;return e[9]!==d||e[10]!==h||e[11]!==a.firstSeen?(p={getFirstSeen:d,recordFirstSeen:h,firstSeenMap:a.firstSeen},e[9]=d,e[10]=h,e[11]=a.firstSeen,e[12]=p):p=e[12],p}function kfe(t,e,n,r){const a=`${t}:${e}-${n}:${r}`;let s=0;for(let i=0;i<a.length;i++){const o=a.charCodeAt(i);s=(s<<5)-s+o,s=s&s}return`hunk-${Math.abs(s).toString(16)}`}function _fe(t){const n=/^@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/.exec(t);return n?{oldStart:parseInt(n[1],10),oldLines:n[2]?parseInt(n[2],10):1,newStart:parseInt(n[3],10),newLines:n[4]?parseInt(n[4],10):1}:null}function Cfe(t){const e=t.split(/\r?\n/),n=[];let r=null,a=null,s=[];const i=()=>{if(a&&r&&s.length>0){const c=s.join(`
`),u=kfe(r.filePath,a.oldStart,a.newStart,c);r.hunks.push({...a,id:u,filePath:r.filePath,content:c,changeType:r.changeType,oldPath:r.oldPath}),s=[],a=null}},o=()=>{i(),r&&(n.push(r),r=null)};for(const c of e){if(c.startsWith("diff --git ")){o();const d=/^diff --git a\/(.+) b\/(.+)$/.exec(c);if(d){const m=d[1],h=d[2];r={filePath:h,oldPath:m!==h?m:void 0,changeType:"modified",isBinary:!1,hunks:[]}}continue}if(r){if(c.startsWith("Binary files ")){r.isBinary=!0;continue}if(c.startsWith("new file mode ")){r.changeType="added";continue}if(c.startsWith("deleted file mode ")){r.changeType="deleted";continue}if(c.startsWith("rename from ")||c.startsWith("rename to ")){r.changeType="renamed";continue}if(c.startsWith("@@")){i();const u=_fe(c);u&&(a={...u,header:c});continue}if(a&&(c.startsWith("+")||c.startsWith("-")||c.startsWith(" "))){s.push(c);continue}if(a&&c.length===0){s.push(" ");continue}}}return o(),n}function Sfe(t){return t.flatMap(e=>e.hunks)}function ww(t,e,n,r){const a=r==="numstat"?" -M --numstat":r==="name-status"?" -M --name-status":" -M";if(t==="--staged"){const s=`git diff --staged${a}${n}`;return e?`${s} && git diff HEAD${a}${n}`:s}return t==="HEAD"?`git diff HEAD${a}${n}`:e?`git diff $(git merge-base ${t} HEAD)${a}${n}`:`git diff ${t}...HEAD${a}${n}`}const iT={deleted:4,added:3,renamed:2,modified:1};function jfe(t){return t.startsWith("A")?"added":t.startsWith("D")?"deleted":t.startsWith("R")?"renamed":t.startsWith("C")?"added":"modified"}function Tfe(t){const e=t.trim().split(`
`).filter(Boolean),n=new Map;for(const r of e){const a=r.split("	");if(a.length<2)continue;const s=a[0],i=jfe(s),o=s.startsWith("C"),c=i==="renamed"||o?a.length>=3?{filePath:a[2],oldPath:a[1],changeType:i}:null:{filePath:a[1],changeType:i};if(!c)continue;const u=n.get(c.filePath);if(!u){n.set(c.filePath,c);continue}const d=iT[u.changeType];if(iT[c.changeType]>d){n.set(c.filePath,c);continue}u.changeType===c.changeType&&!u.oldPath&&c.oldPath&&n.set(c.filePath,{...u,oldPath:c.oldPath})}return[...n.values()]}function Efe(t,e,n){return n?t:t.filter(r=>!e(r.id))}function Nfe(t,e,n=!1,r=!1){if(!e.trim())return t;if(n)try{const a=r?"":"i",s=new RegExp(e,a);return t.filter(i=>s.test(i.filePath)||s.test(i.content))}catch{return[]}else{if(r)return t.filter(a=>a.filePath.includes(e)||a.content.includes(e));{const a=e.toLowerCase();return t.filter(s=>s.filePath.toLowerCase().includes(a)||s.content.toLowerCase().includes(a))}}}function $fe(t,e){let n=t;return n=Efe(n,e.isRead,e.showReadHunks),n=Nfe(n,e.searchTerm,e.useRegex,e.matchCase),n}function oT(t,e){const n=t.findIndex(r=>r.id===e);return n===-1?null:n<t.length-1?t[n+1].id:n>0?t[n-1].id:null}function Afe(t,e,n){const r=t.findIndex(i=>i.id===e);if(r===-1)return null;const a=t.slice(r+1).find(i=>i.filePath!==n);if(a)return a.id;const s=t.slice(0,r).reverse().find(i=>i.filePath!==n);return s?s.id:null}const Ife=20,Rfe=20*1024*1024;function Mfe(t,e){if(t.length===0)return e;const n=new Map(t.map(s=>[s.id,s]));let r=t.length===e.length;const a=e.map((s,i)=>{const o=n.get(s.id);return o?.content===s.content?(r&&t[i]?.id!==s.id&&(r=!1),o):(r=!1,s)});return r?t:a}function Dfe(t){try{return JSON.stringify(t).length*2}catch{return Number.MAX_SAFE_INTEGER}}const ok=new Ym({max:Ife,maxSize:Rfe,sizeCalculation:t=>Dfe(t)});function Lfe(t){const e=t.trim();if(!e.startsWith("origin/"))return null;const n=e.slice(7);return n.length===0?null:n}async function lT(t){const e=Lfe(t.diffBase);if(!e)return;const n=[t.workspaceId,t.diffBase,String(t.refreshToken)].join("\0"),r=t.originFetchRef.current;if(r?.key===n){await r.promise;return}const a=t.api.workspace.executeBash({workspaceId:t.workspaceId,script:`GIT_TERMINAL_PROMPT=0 git fetch origin ${ik(e)} --quiet || true`,options:{timeout_secs:30}}).then(()=>{}).catch(()=>{});t.originFetchRef.current={key:n,promise:a},await a}function cT(t){return[t.workspaceId,t.workspacePath,t.gitCommand].join("\0")}async function uT(t){const e=await t.api.workspace.executeBash({workspaceId:t.workspaceId,script:t.script,options:{timeout_secs:t.timeoutSecs}});if(!e.success)throw new Error(e.error??"Unknown error");if(!e.data.success)throw new Error(e.data.output??e.data.error??"Command failed");const n=t.parse(e);return ok.set(t.cacheKey,n),n}const Ofe=({workspaceId:t,workspacePath:e,projectPath:n,onReviewNote:r,focusTrigger:a,isCreating:s=!1,onStatsChange:i,onOpenFile:o})=>{const c=b.useRef(null),{api:u}=Kt(),d=b.useRef(null),m=b.useRef(null),h=b.useRef(null),[p,f]=b.useState({status:"loading"}),[g,x]=Tt(`review-selected-hunk:${t}`,null),[y,w]=b.useState(!0),[v,k]=b.useState(null),[C,_]=b.useState(!1),[S,T]=b.useState(0),[N,j]=b.useState(null),R=b.useRef(new Map),I=b.useRef([]),A=b.useRef(null),$=b.useRef(null),E=b.useRef(Fc.getFileModifyingToolMs(t)!==void 0),[M,F]=Tt(sZ(t),{input:"",useRegex:!1,matchCase:!1}),[L,Y]=b.useState(""),[O,G]=Tt(`review-file-filter:${t}`,null),[H]=Tt(Bp.reviewDefaultBase(n),Js.reviewBase,{listener:!0}),[D,U]=Tt(Bp.reviewDiffBase(t),H,{listener:!0}),[B,q]=Tt("review-include-uncommitted",!1),[V,Z]=Tt("review-show-read",!0),[W,K]=Tt(iZ,"last-edit"),{isRead:J,toggleRead:ee,markAsRead:se,markAsUnread:re}=bfe(t),ue=b.useRef(J);ue.current=J;const he=b.useRef(g);he.current=g;const ke=b.useRef(!1),{recordFirstSeen:je,firstSeenMap:_e}=vfe(t),{reviews:ge,updateReviewNote:ve,checkReview:De,uncheckReview:$e,attachReview:Qe,detachReview:Be,removeReview:ie}=Xm(t),Te=b.useMemo(()=>{const ze=new Map;for(const Ve of ge){const $t=Ve.data?.filePath;if(!$t)continue;const Wt=ze.get($t);Wt?Wt.push(Ve):ze.set($t,[Ve])}return ze},[ge]),Ne=b.useMemo(()=>p.status==="loaded"||p.status==="refreshing"?p.hunks:[],[p]),[Re,Le]=b.useState({showReadHunks:V,diffBase:D,includeUncommitted:B,sortOrder:W});b.useEffect(()=>{Le(ze=>ze.diffBase===D?ze:{...ze,diffBase:D})},[D]);const Ae=b.useRef(null);b.useEffect(()=>{Ae.current!==null&&Ae.current!==D&&Uc(t),Ae.current=D},[t,D]),ke.current=Re.showReadHunks;const bt=b.useRef(!1),nt=b.useRef(new Set),ct=b.useRef(new Set),pt=b.useCallback(()=>{const ze=bt.current,Ve=nt.current.size>0||ct.current.size>0;bt.current=Ve,ft(Ve),ze&&!Ve&&Et.current?.notifyUnpaused()},[]),be=b.useCallback((ze,Ve)=>{Ve?nt.current.add(ze):nt.current.delete(ze),pt()},[pt]),We=b.useCallback((ze,Ve)=>{Ve?ct.current.add(ze):ct.current.delete(ze),pt()},[pt]),He=b.useMemo(()=>({onEditComment:ve,onEditingChange:We,onComplete:De,onUncheck:$e,onAttach:Qe,onDetach:Be,onDelete:ie}),[ve,We,De,$e,Qe,Be,ie]),Je=b.useRef(0),[ye,Ze]=b.useState(null),[qe,ft]=b.useState(!1),Et=b.useRef(null);b.useEffect(()=>{const ze=new YZ({debounceMs:3e3,isPaused:()=>bt.current,isManualBlocked:()=>bt.current,onRefresh:()=>{Je.current=Date.now(),T(Wt=>Wt+1),Uc(t)},onRefreshComplete:Ze});Et.current=ze;const Ve=Fc.subscribeFileModifyingTool(Wt=>{Wt===t&&ze.schedule()}),$t=Fc.getFileModifyingToolMs(t);return $t&&$t>Je.current&&(ze.requestImmediate(),Fc.clearFileModifyingToolMs(t)),()=>{Ve(),ze.dispose(),Et.current=null}},[t]);const At=()=>{Et.current?.requestImmediate()};b.useEffect(()=>{a&&a>0&&d.current?.focus()},[a]),b.useEffect(()=>{const ze=setTimeout(()=>{Y(M.input)},150);return()=>clearTimeout(ze)},[M.input]),b.useEffect(()=>{if(!u||s)return;let ze=!1;const Ve=$.current;$.current=S;const $t=S!==0&&Ve!==S,Wt=ww(Re.diffBase,Re.includeUncommitted,"","numstat"),sn=ww(Re.diffBase,Re.includeUncommitted,"","name-status"),En="__MUX_REVIEW_FILE_TREE_NUMSTAT__",ot="__MUX_REVIEW_FILE_TREE_NAME_STATUS__",Ue=[`echo ${ik(En)}`,Wt,`echo ${ik(ot)}`,sn].join(`
`),Se=cT({workspaceId:t,workspacePath:e,gitCommand:Ue});if(!$t&&!E.current){const Ie=ok.get(Se);if(Ie)return j(Ie),w(!1),()=>{ze=!0}}return(async()=>{w(!0);try{if(await lT({api:u,workspaceId:t,diffBase:Re.diffBase,refreshToken:S,originFetchRef:c}),ze)return;const Ie=await uT({api:u,workspaceId:t,script:Ue,cacheKey:Se,timeoutSecs:30,parse:we=>{const it=we.data.output??"",Pe=`${En}
`,yt=`${ot}
`;let lt=it,Ot="";const yn=it.split(Pe);if(yn.length>=2){const ga=(yn[1]??"").split(yt);lt=ga[0]??"",Ot=ga[1]??""}const Zn=lfe(lt),Cn=Tfe(Ot),ua=new Map(Cn.map(fr=>[fr.filePath,fr]));for(const fr of Zn){const ga=K1(fr.filePath),ui=ua.get(ga);fr.changeType=ui?.changeType??"modified",ui?.oldPath&&(fr.oldPath=ui.oldPath)}return cfe(Zn)}});if(ze)return;j(Ie)}catch(Ie){console.error("Failed to load file tree:",Ie)}finally{ze||w(!1)}})(),()=>{ze=!0}},[u,t,e,Re.diffBase,Re.includeUncommitted,S,s]),b.useEffect(()=>{if(!u||s)return;let ze=!1;const Ve=A.current;A.current=S;const $t=S!==0&&Ve!==S,Wt=O?` -- "${K1(O)}"`:"",sn=ww(Re.diffBase,Re.includeUncommitted,Wt,"diff"),En=cT({workspaceId:t,workspacePath:e,gitCommand:sn});if(!$t&&!E.current){const Ue=ok.get(En);if(Ue)return k(Ue.diagnosticInfo),f({status:"loaded",hunks:Ue.hunks,truncationWarning:Ue.truncationWarning}),()=>{ze=!0}}return E.current&&(E.current=!1,Fc.clearFileModifyingToolMs(t)),f(Ue=>Ue.status==="loaded"||Ue.status==="refreshing"?{status:"refreshing",hunks:Ue.hunks,truncationWarning:Ue.truncationWarning}:{status:"loading"}),(async()=>{try{if(await lT({api:u,workspaceId:t,diffBase:Re.diffBase,refreshToken:S,originFetchRef:c}),ze)return;const Ue=await uT({api:u,workspaceId:t,script:sn,cacheKey:En,timeoutSecs:30,parse:Se=>{const le=Se.data.output??"",Ie="truncated"in Se.data?Se.data.truncated:void 0,we=Cfe(le),it=Sfe(we),Pe={command:sn,outputLength:le.length,fileDiffCount:we.length,hunkCount:it.length},yt=Ie&&!O?`Diff truncated (${Ie.reason}). Filter by file to see more.`:null;return{hunks:it,truncationWarning:yt,diagnosticInfo:Pe}}});if(ze)return;k(Ue.diagnosticInfo),f(Se=>{const le=Se.status==="loaded"||Se.status==="refreshing"?Se.hunks:[];return{status:"loaded",hunks:Mfe(le,Ue.hunks),truncationWarning:Ue.truncationWarning}})}catch(Ue){if(ze)return;const Se=`Failed to load diff: ${Ue instanceof Error?Ue.message:String(Ue)}`;console.error(Se),f({status:"error",message:Se}),k(null)}})(),()=>{ze=!0}},[u,t,e,Re.diffBase,Re.includeUncommitted,O,S,s]),b.useEffect(()=>{U(Re.diffBase)},[Re.diffBase,U]),b.useEffect(()=>{q(Re.includeUncommitted)},[Re.includeUncommitted,q]),b.useEffect(()=>{Z(Re.showReadHunks)},[Re.showReadHunks,Z]),b.useEffect(()=>{K(Re.sortOrder)},[Re.sortOrder,K]),b.useEffect(()=>{Ne.length>0&&je(Ne.map(ze=>ze.id))},[Ne,je]);const dt=b.useCallback(ze=>{const Ve=Ne.filter(sn=>sn.filePath===ze);if(Ve.length===0)return null;const $t=Ve.length,Wt=Ve.filter(sn=>J(sn.id)).length;return{total:$t,read:Wt}},[Ne,J]),Mt=b.useMemo(()=>{const ze=$fe(Ne,{showReadHunks:Re.showReadHunks,isRead:J,searchTerm:L,useRegex:M.useRegex,matchCase:M.matchCase});if(Re.sortOrder==="last-edit"){const Ve=Date.now();return[...ze].sort(($t,Wt)=>{const sn=_e[$t.id]??Ve;return(_e[Wt.id]??Ve)-sn})}return ze},[Ne,Re.showReadHunks,Re.sortOrder,J,L,M.useRegex,M.matchCase,_e]);I.current=Mt,b.useEffect(()=>{if(Mt.length===0)return;g&&Mt.some(Ve=>Ve.id===g)||x(Mt[0].id)},[Mt,g,x]);const Gt=b.useMemo(()=>L?{searchTerm:L,useRegex:M.useRegex,matchCase:M.matchCase}:void 0,[L,M.useRegex,M.matchCase]),tn=b.useCallback(ze=>{const Ve=ue.current(ze);ee(ze),ze===he.current&&(ke.current||Ve||x(oT(I.current,ze)))},[ee,x]),It=b.useCallback(ze=>{const Ve=ue.current(ze);se(ze),ze===he.current&&!Ve&&!ke.current&&x(oT(I.current,ze))},[se,x]),zt=b.useCallback(ze=>{re(ze)},[re]),Vt=b.useCallback(ze=>{const Ve=ze.currentTarget.dataset.hunkId;Ve&&x(Ve)},[x]),qt=b.useCallback(ze=>{const Ve=ze.currentTarget.dataset.hunkId;Ve&&tn(Ve)},[tn]),Pt=b.useCallback((ze,Ve)=>{R.current.set(ze,Ve)},[]),et=b.useCallback(ze=>{const Ve=Ne.find(Wt=>Wt.id===ze);if(!Ve)return;const $t=Ne.filter(Wt=>Wt.filePath===Ve.filePath).map(Wt=>Wt.id);se($t),ze===g&&!Re.showReadHunks&&x(Afe(I.current,ze,Ve.filePath))},[Ne,se,Re.showReadHunks,g,x]),rt=b.useMemo(()=>{const ze=Ne.length,Ve=Ne.filter($t=>J($t.id)).length;return{total:ze,read:Ve,unread:ze-Ve}},[Ne,J]);b.useEffect(()=>{i?.({total:rt.total,read:rt.read})},[rt.total,rt.read,i]),b.useEffect(()=>{if(!g)return;const ze=document.querySelector(`[data-hunk-id="${g}"]`);ze&&ze.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},[g]),b.useEffect(()=>{if(!C)return;const ze=Ve=>{if(Ve.target instanceof HTMLElement){const Wt=Ve.target.tagName.toLowerCase();if(Wt==="input"||Wt==="textarea"||Ve.target.contentEditable==="true")return}if(!g)return;const $t=Mt.findIndex(Wt=>Wt.id===g);if($t!==-1){if(Ve.key==="j"||Ve.key==="ArrowDown")Ve.preventDefault(),$t<Mt.length-1&&x(Mt[$t+1].id);else if(Ve.key==="k"||Ve.key==="ArrowUp")Ve.preventDefault(),$t>0&&x(Mt[$t-1].id);else if(bn(Ve,st.TOGGLE_HUNK_READ))Ve.preventDefault(),tn(g);else if(bn(Ve,st.MARK_HUNK_READ))Ve.preventDefault(),It(g);else if(bn(Ve,st.MARK_HUNK_UNREAD))Ve.preventDefault(),zt(g);else if(bn(Ve,st.MARK_FILE_READ))Ve.preventDefault(),et(g);else if(bn(Ve,st.TOGGLE_HUNK_COLLAPSE)){Ve.preventDefault();const Wt=R.current.get(g);Wt&&Wt()}}};return window.addEventListener("keydown",ze),()=>window.removeEventListener("keydown",ze)},[C,g,x,Mt,tn,It,zt,et]),b.useEffect(()=>{const ze=Ve=>{if(bn(Ve,st.REFRESH_REVIEW))Ve.preventDefault(),Et.current?.requestImmediate();else if(bn(Ve,st.FOCUS_REVIEW_SEARCH))Ve.preventDefault(),h.current?.focus();else if(bn(Ve,st.FOCUS_REVIEW_SEARCH_QUICK)){if(Ax(Ve.target))return;Ve.preventDefault(),h.current?.focus()}};return window.addEventListener("keydown",ze),()=>window.removeEventListener("keydown",ze)},[]);const jt=p.status==="error"&&(/not a git repository\b/i.test(p.message)||/repository not found\b/i.test(p.message));return s?l.jsxs("div",{className:"flex h-full flex-col items-center justify-center p-8 text-center",children:[l.jsx(pn,{"aria-hidden":"true",className:"text-secondary mb-4 h-6 w-6 animate-spin"}),l.jsx("p",{className:"text-secondary text-sm",children:"Setting up workspace..."}),l.jsx("p",{className:"text-secondary mt-1 text-xs",children:"Review will be available once ready"})]}):l.jsxs("div",{ref:d,tabIndex:0,"data-testid":"review-panel",onFocus:()=>_(!0),onBlur:()=>_(!1),className:"bg-dark [container-type:inline-size] flex h-full min-h-0 flex-col outline-none [container-name:review-panel]",children:[l.jsx(ife,{filters:Re,stats:rt,onFiltersChange:Le,onRefresh:At,isLoading:p.status==="loading"||p.status==="refreshing"||y,isRefreshBlocked:qe,projectPath:n,lastRefreshInfo:ye}),p.status==="error"?jt?l.jsxs("div",{className:"text-muted flex flex-col items-center justify-start gap-3 px-6 pt-12 pb-6 text-center",children:[l.jsx("div",{className:"text-foreground text-base font-medium",children:"Not a git repository"}),l.jsxs("div",{className:"text-[13px] leading-[1.5]",children:["This project is not a git repository, so changes ","can't"," be computed."]})]}):l.jsxs("div",{className:"text-danger-soft bg-danger-soft/10 border-danger-soft/30 font-monospace m-3 rounded border p-6 text-xs leading-[1.5] break-words whitespace-pre-wrap",children:[p.message,p.message.includes("unknown revision")&&l.jsxs("div",{className:"text-muted mt-3 flex items-start gap-2 border-t border-current/20 pt-3 font-sans text-[11px]",children:[l.jsx(e5,{"aria-hidden":"true",className:"mt-0.5 h-3 w-3 shrink-0"}),l.jsxs("span",{children:["The ref ",l.jsx("code",{className:"text-foreground",children:Re.diffBase})," does not exist in this repository. Use the dropdown above to select a different base (e.g., HEAD, origin/master)."]})]})]}):p.status==="loading"?l.jsx("div",{className:"text-muted flex h-full items-center justify-center text-sm",children:"Loading diff..."}):l.jsxs("div",{className:"flex min-h-0 flex-1 flex-col overflow-hidden",children:[p.truncationWarning&&l.jsxs("div",{className:"bg-warning/10 border-warning/30 text-warning mx-3 my-3 flex items-center gap-1.5 rounded border px-3 py-1.5 text-[10px] leading-[1.3]",children:[l.jsx(Mr,{"aria-hidden":"true",className:"h-3 w-3 shrink-0"}),l.jsx("span",{children:p.truncationWarning})]}),l.jsxs("div",{className:"border-border-light flex items-center gap-1.5 border-b px-2 py-1",children:[l.jsx("input",{ref:h,type:"text",placeholder:`Search... (${Bt(st.FOCUS_REVIEW_SEARCH)}, ${Bt(st.FOCUS_REVIEW_SEARCH_QUICK)})`,value:M.input,onChange:ze=>F({...M,input:ze.target.value}),className:"bg-dark text-foreground border-border-medium placeholder:text-dim hover:border-accent focus:border-accent min-w-0 flex-1 rounded border px-1.5 py-0.5 font-mono text-[11px] transition-[border-color] duration-150 focus:outline-none"}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{className:ce("font-monospace cursor-pointer border-none bg-transparent p-0 text-[11px] font-semibold transition-colors duration-150",M.useRegex?"text-accent-light":"text-muted hover:text-foreground"),onClick:()=>F({...M,useRegex:!M.useRegex}),children:".*"})}),l.jsx(Ke,{side:"bottom",children:M.useRegex?"Using regex search":"Using substring search"})]}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{className:ce("font-monospace cursor-pointer border-none bg-transparent p-0 text-[11px] font-semibold transition-colors duration-150",M.matchCase?"text-accent-light":"text-muted hover:text-foreground"),onClick:()=>F({...M,matchCase:!M.matchCase}),children:"Aa"})}),l.jsx(Ke,{side:"bottom",children:M.matchCase?"Match case (case-sensitive)":"Ignore case (case-insensitive)"})]})]}),l.jsxs("div",{ref:m,className:"flex min-h-0 flex-1 flex-col overflow-y-auto",children:[(N??y)&&l.jsx("div",{className:"border-border-light flex w-full flex-[0_0_auto] flex-col overflow-hidden border-b",children:l.jsx(hfe,{root:N,selectedPath:O,onSelectFile:G,isLoading:y,getFileReadStatus:dt,workspaceId:t})}),l.jsx(pfe,{workspaceId:t,workspacePath:e,refreshTrigger:S,onRefresh:At}),l.jsx("div",{className:"flex flex-[0_0_auto] flex-col p-3",children:Ne.length===0?l.jsxs("div",{className:"text-muted flex flex-col items-center justify-start gap-3 px-6 pt-12 pb-6 text-center",children:[l.jsx("div",{className:"text-foreground text-base font-medium",children:"No changes found"}),l.jsxs("div",{className:"text-[13px] leading-[1.5]",children:["No changes found for the selected diff base.",l.jsx("br",{}),"Try selecting a different base or make some changes."]}),v&&l.jsxs("details",{className:"bg-modal-bg border-border-light [&_summary]:text-muted mt-4 w-full max-w-96 cursor-pointer rounded border p-3 [&_summary]:flex [&_summary]:list-none [&_summary]:items-center [&_summary]:gap-1.5 [&_summary]:text-xs [&_summary]:font-medium [&_summary]:select-none [&_summary::-webkit-details-marker]:hidden [&_summary::before]:text-[10px] [&_summary::before]:transition-transform [&_summary::before]:duration-200 [&_summary::before]:content-[''] [&[open]_summary::before]:rotate-90",children:[l.jsx("summary",{children:"Show diagnostic info"}),l.jsxs("div",{className:"font-monospace text-foreground mt-3 text-[11px] leading-[1.6]",children:[l.jsxs("div",{className:"[&:not(:last-child)]:border-border-light grid grid-cols-[140px_1fr] gap-3 py-1 [&:not(:last-child)]:border-b",children:[l.jsx("div",{className:"text-muted font-medium",children:"Command:"}),l.jsx("div",{className:"text-foreground break-all select-all",children:v.command})]}),l.jsxs("div",{className:"[&:not(:last-child)]:border-border-light grid grid-cols-[140px_1fr] gap-3 py-1 [&:not(:last-child)]:border-b",children:[l.jsx("div",{className:"text-muted font-medium",children:"Output size:"}),l.jsxs("div",{className:"text-foreground break-all select-all",children:[v.outputLength.toLocaleString()," bytes"]})]}),l.jsxs("div",{className:"[&:not(:last-child)]:border-border-light grid grid-cols-[140px_1fr] gap-3 py-1 [&:not(:last-child)]:border-b",children:[l.jsx("div",{className:"text-muted font-medium",children:"Files parsed:"}),l.jsx("div",{className:"text-foreground break-all select-all",children:v.fileDiffCount})]}),l.jsxs("div",{className:"grid grid-cols-[140px_1fr] gap-3 py-1",children:[l.jsx("div",{className:"text-muted font-medium",children:"Hunks extracted:"}),l.jsx("div",{className:"text-foreground break-all select-all",children:v.hunkCount})]})]})]})]}):Mt.length===0?l.jsx("div",{className:"text-muted flex flex-col items-center justify-start gap-3 px-6 pt-12 pb-6 text-center",children:l.jsx("div",{className:"text-[13px] leading-[1.5]",children:L.trim()?`No hunks match "${L}". Try a different search term.`:O?`No hunks in ${O}. Try selecting a different file.`:"No hunks match the current filters. Try adjusting your filter settings."})}):Mt.map(ze=>{const Ve=ze.id===g,$t=J(ze.id),Wt=_e[ze.id]??Date.now();return l.jsx(KL,{hunk:ze,hunkId:ze.id,workspaceId:t,inlineReviews:Te.get(ze.filePath),isSelected:Ve,isRead:$t,firstSeenAt:Wt,onClick:Vt,onToggleRead:qt,onRegisterToggleExpand:Pt,onReviewNote:r,searchConfig:Gt,onComposingChange:be,diffBase:Re.diffBase,includeUncommitted:Re.includeUncommitted,reviewActions:He,onOpenFile:o},ze.id)})})]})]})]})};class lk extends b.Component{constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n),this.setState({error:e,errorInfo:n})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:l.jsxs("div",{className:"bg-error-bg-dark border-danger-soft text-danger-soft m-5 rounded border p-5",children:[l.jsxs("h3",{className:"m-0 mb-2.5 text-base",children:["Something went wrong",this.props.workspaceInfo&&` in ${this.props.workspaceInfo}`]}),this.state.error&&l.jsxs("pre",{className:"my-2.5 rounded-sm bg-black/30 p-2.5 text-xs break-all whitespace-pre-wrap",children:[this.state.error.toString(),this.state.errorInfo&&l.jsxs(l.Fragment,{children:[l.jsx("br",{}),this.state.errorInfo.componentStack]})]}),l.jsx("button",{onClick:this.handleReset,className:"bg-danger-soft hover:bg-info-light cursor-pointer rounded-sm border-none px-4 py-2 text-sm text-white",children:"Reset"})]}):this.props.children}}function hy(){const t=ae.c(1),e=Vfe,n=Gfe,r=Wfe,a=Ufe,s=qfe,i=Hfe,o=zfe,c=Bfe,u=Ffe,d=Pfe;let m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(m={workspaceSwitched:e,workspaceCreated:n,messageSent:r,statsTabOpened:a,streamCompleted:s,providerConfigured:i,commandUsed:o,voiceTranscription:c,errorOccurred:u,experimentOverridden:d},t[0]=m):m=t[0],m}function Pfe(t,e,n){XZ(t,e,n)}function Ffe(t,e){ZZ(t,e)}function Bfe(t,e){wd(t,e)}function zfe(t){$A(t)}function Hfe(t,e){QZ(t,e)}function qfe(t,e,n,r){JZ(t,e,n,r)}function Ufe(t,e){eQ(t,e)}function Wfe(t,e,n,r,a,s){tQ(t,e,n,r,a,s)}function Gfe(t,e){nQ(t,e)}function Vfe(t,e){rQ(t,e)}function q0(t){return Number.isFinite(t)?Math.max(0,t):0}function Kfe(t){const e=q0(t.totalDurationMs),n=q0(t.ttftMs),r=q0(t.modelMs),a=q0(t.toolsMs);if(e<=0)return{ttft:0,model:0,tools:0};const s=[{key:"ttft",raw:n/e*100},{key:"model",raw:r/e*100},{key:"tools",raw:a/e*100}],i=s.reduce((h,p)=>h+p.raw,0),o=Math.max(0,Math.min(100,Math.round(i))),c=s.map((h,p)=>{const f=Math.floor(h.raw);return{key:h.key,index:p,remainder:h.raw-f,value:f}}),u=o-c.reduce((h,p)=>h+p.value,0);if(u>0){const h=[...c].sort((p,f)=>f.remainder!==p.remainder?f.remainder-p.remainder:p.index-f.index);for(let p=0;p<u;p++)h[p%h.length].value+=1}else if(u<0){const h=-u,p=[...c].sort((g,x)=>g.remainder!==x.remainder?g.remainder-x.remainder:g.index-x.index);let f=h;for(const g of p){if(f<=0)break;g.value<=0||(g.value-=1,f-=1)}if(f>0){const g=p[p.length-1];g&&(g.value=Math.max(0,g.value-f))}}const d={ttft:0,model:0,tools:0};for(const h of c){const p=Math.max(0,Math.min(100,h.value));h.key==="ttft"?d.ttft=p:h.key==="model"?d.model=p:d.tools=p}const m=d.ttft+d.model+d.tools;if(m!==o){const h=o-m;d.tools=Math.max(0,Math.min(100,d.tools+h))}return d}const cd={ttft:"#f59e0b",model:"#3b82f6",tools:"#10b981"};function U0(t){if(t<1e3)return`${Math.round(t)}ms`;if(t<1e4)return`${(t/1e3).toFixed(1)}s`;if(t<6e4)return`${Math.round(t/1e3)}s`;const e=Math.floor(t/6e4),n=Math.round(t%6e4/1e3);return`${e}m ${n}s`}function dT(t){return t<1e3?String(t):`${(t/1e3).toFixed(1)}k`}const Yfe=[{value:"session",label:"Session"},{value:"last-request",label:"Last Request"}];function Xfe(t){const e=t.agentId??t.mode;return e?`${t.model} (${e})`:t.model}function mT(t,e){return e<=0?null:t/e}function Zfe(t){const e=Nx(t.workspaceId),n=t._snapshot??e,r=hy(),[a,s]=Tt("statsTab:viewMode","session"),[i,o]=Tt("statsTab:showModeBreakdown",!1),[c,u]=xe.useState(!1),[d,m]=xe.useState(null);xe.useEffect(()=>{r.statsTabOpened(a,i)},[r,a,i]);const h=n?.active,p=n?.session,f=n?.lastRequest,g=h!==void 0||f!==void 0||(p?.responseCount??0)>0,x=t._clearStats??(async()=>{const re=window.__ORPC_CLIENT__;if(!re)throw new Error("ORPC client not initialized");await re.workspace.stats.clear({workspaceId:t.workspaceId})}),y=async()=>{if(!c){u(!0),m(null);try{await x()}catch(re){console.warn(`[StatsTab] Failed to clear stats for ${t.workspaceId}:`,re),m("Failed to clear stats. Please try again.")}finally{u(!1)}}};if(!g)return l.jsx("div",{className:"text-light font-primary text-[13px] leading-relaxed",children:l.jsxs("div",{className:"text-secondary px-5 py-10 text-center",children:[l.jsx("p",{children:"No timing data yet."}),l.jsx("p",{children:"Send a message to see timing statistics."})]})});const w=(p?.totalDurationMs??0)+(h?.elapsedMs??0),v=(p?.totalToolExecutionMs??0)+(h?.toolExecutionMs??0),k=Math.max(0,w-v),C=(p?.totalStreamingMs??0)+(h?.streamingMs??0),_=mT(p?.totalTtftMs??0,p?.ttftCount??0),S=(p?.totalTtftMs??0)+(h?.ttftMs??0),T=h??f,N=!!h,j=h?h.elapsedMs:f?.totalDurationMs??0,R=h?h.toolExecutionMs:f?.toolExecutionMs??0,I=h?h.modelTimeMs:f?.modelTimeMs??Math.max(0,j-R),A=h?h.streamingMs:f?.streamingMs??0,$=h?h.ttftMs:f?.ttftMs??null,E=a==="session"?w:j,M=a==="session"?v:R,F=a==="session"?k:I,L=a==="session"?C:A,Y=a==="session"?_:$,O=a==="session"?S:$??0,G=L,H=a==="last-request"&&N&&h?.ttftMs===null,D=Kfe({totalDurationMs:E,ttftMs:O,modelMs:G,toolsMs:M}),U=D.ttft,B=D.model,q=D.tools,V=(()=>{if(a==="session"){const he=p?.totalOutputTokens??0,ke=p?.totalReasoningTokens??0;return he+ke}const re=T?.outputTokens??0,ue=T?.reasoningTokens??0;return re+ue})(),Z=Tj(L,F,V,a==="last-request"?h?.liveTPS??null:null),W=[{name:a==="session"?"Avg. Time to First Token":"Time to First Token",duration:Y,color:cd.ttft,show:Y!==null||H,waiting:H,percentage:U},{name:"Model Time",duration:G,color:cd.model,show:!0,percentage:B},{name:"Tool Execution",duration:M,color:cd.tools,show:M>0,percentage:q}].filter(re=>re.show),K=p?Object.entries(p.byModel).map(([re,ue])=>({key:re,...ue})):[],J=K.some(re=>re.agentId!==void 0||re.mode!==void 0),ee=(()=>{const re=new Map;for(const ue of K){const he=re.get(ue.model);if(!he){re.set(ue.model,{...ue,key:ue.model,mode:void 0,agentId:void 0});continue}he.totalDurationMs+=ue.totalDurationMs,he.totalToolExecutionMs+=ue.totalToolExecutionMs,he.totalStreamingMs+=ue.totalStreamingMs,he.totalTtftMs+=ue.totalTtftMs,he.ttftCount+=ue.ttftCount,he.responseCount+=ue.responseCount,he.totalOutputTokens+=ue.totalOutputTokens,he.totalReasoningTokens+=ue.totalReasoningTokens}return Array.from(re.values())})(),se=a==="session"&&J&&i?K:ee;return se.sort((re,ue)=>ue.totalDurationMs-re.totalDurationMs),l.jsxs("div",{className:"text-light font-primary text-[13px] leading-relaxed",children:[l.jsx("div",{"data-testid":"timing-section",className:"mb-6",children:l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{"data-testid":"timing-header",className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("span",{className:"text-foreground inline-flex shrink-0 items-baseline gap-1 font-medium",children:["Timing",N&&l.jsx("span",{className:"text-accent ml-1 animate-pulse text-xs",children:""})]}),l.jsx(dC,{options:Yfe,value:a,onChange:s})]}),l.jsxs("div",{className:"flex shrink-0 items-center gap-2",children:[a==="session"&&l.jsx("button",{type:"button",className:"text-muted hover:text-foreground text-xs disabled:cursor-not-allowed disabled:opacity-50",disabled:c,onClick:()=>{y()},children:c?"Clearing...":"Clear stats"}),l.jsx("span",{className:"text-muted text-xs",children:U0(E)})]})]}),d&&a==="session"&&l.jsx("div",{role:"alert","data-testid":"clear-stats-error",className:"bg-destructive/10 text-destructive rounded px-2 py-1 text-xs",children:d}),a==="session"&&p&&p.responseCount>0&&l.jsxs("div",{className:"text-muted-light flex flex-wrap gap-x-3 gap-y-1 text-xs",children:[l.jsxs("span",{children:[p.responseCount," response",p.responseCount!==1?"s":""]}),(p.totalOutputTokens>0||p.totalReasoningTokens>0)&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsxs("span",{children:[dT(p.totalOutputTokens)," output tokens"]}),p.totalReasoningTokens>0&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsxs("span",{children:[dT(p.totalReasoningTokens)," thinking"]})]})]})]}),T?.invalid&&a==="last-request"&&l.jsxs("div",{className:"text-muted-light text-xs",children:["Invalid timing data: ",T.anomalies.join(", ")]}),Z!==null&&Z>0&&l.jsxs("div",{className:"text-muted-light text-xs",children:["Avg. TPS: ",Z.toFixed(0)," tok/s"]}),l.jsx("div",{className:"relative w-full",children:l.jsxs("div",{className:"bg-border-light flex h-1.5 w-full overflow-hidden rounded-[3px]",children:[U>0&&l.jsx("div",{className:"h-full transition-[width] duration-300",style:{width:`${U}%`,backgroundColor:cd.ttft}}),l.jsx("div",{className:"h-full transition-[width] duration-300",style:{width:`${B}%`,backgroundColor:cd.model}}),l.jsx("div",{className:"h-full transition-[width] duration-300",style:{width:`${q}%`,backgroundColor:cd.tools}})]})}),l.jsx("div",{className:"flex flex-col gap-2",children:W.map(re=>l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:re.color}}),l.jsx("span",{className:"text-secondary text-xs",children:re.name})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[re.waiting?l.jsx("span",{className:"text-muted text-xs",children:"waiting"}):re.duration!==null?l.jsx("span",{className:"text-muted text-xs",children:U0(re.duration)}):l.jsx("span",{className:"text-muted text-xs",children:""}),re.percentage!==void 0&&re.percentage>0&&l.jsxs("span",{className:"text-muted text-[10px]",children:[re.percentage.toFixed(0),"%"]})]})]},re.name))})]})}),a==="session"&&se.length>0&&l.jsxs("div",{className:"mb-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-foreground text-xs font-medium",children:"By model"}),J&&l.jsxs("label",{className:"text-muted flex items-center gap-2 text-xs select-none",children:[l.jsx("input",{type:"checkbox",checked:i,onChange:re=>o(re.target.checked)}),"Split by agent"]})]}),l.jsx("div",{className:"mt-3 flex flex-col gap-2",children:se.map(re=>{const ue=mT(re.totalTtftMs,re.ttftCount),he=re.totalOutputTokens+re.totalReasoningTokens,ke=Tj(re.totalStreamingMs,Math.max(0,re.totalDurationMs-re.totalToolExecutionMs),he,null),je=Xfe(re);return l.jsxs("div",{className:"bg-border-light/30 rounded-md px-3 py-2",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx("span",{className:"text-secondary truncate text-xs",title:je,children:je}),l.jsx("span",{className:"text-muted shrink-0 text-xs",children:U0(re.totalDurationMs)})]}),l.jsxs("div",{className:"text-muted-light mt-1 flex flex-wrap gap-x-2 gap-y-1 text-[11px]",children:[l.jsxs("span",{children:[re.responseCount," req"]}),ue!==null&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsxs("span",{children:["TTFT ",U0(ue)]})]}),ke!==null&&ke>0&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsxs("span",{children:[ke.toFixed(0)," tok/s"]})]})]})]},re.key)})})]})]})}function Qfe(t){return t.runtimeStatus&&t.runtimeStatus.phase!=="ready"?"runtime-status":t.isStreamStarting?"starting":t.canInterrupt?"streaming":t.lastAbortReason?"error":"idle"}const Jfe={idle:{label:"Idle",color:"text-muted",icon:ite},starting:{label:"Starting",color:"text-yellow-400",icon:Ud},streaming:{label:"Streaming",color:"text-green-400",icon:Rx},"runtime-status":{label:"Runtime",color:"text-blue-400",icon:J_},error:{label:"Error",color:"text-red-400",icon:Wp}};function e0e(t){const e=ae.c(11),{status:n}=t;if(!(n==="streaming"||n==="starting"||n==="runtime-status"))return null;const a=n==="streaming"?"bg-green-400":n==="starting"?"bg-yellow-400":"bg-blue-400";let s;e[0]!==a?(s=ce("absolute inline-flex h-full w-full animate-ping rounded-full opacity-75",a),e[0]=a,e[1]=s):s=e[1];let i;e[2]!==s?(i=l.jsx("span",{className:s}),e[2]=s,e[3]=i):i=e[3];const o=n==="streaming"?"bg-green-400":n==="starting"?"bg-yellow-400":"bg-blue-400";let c;e[4]!==o?(c=ce("relative inline-flex h-2 w-2 rounded-full",o),e[4]=o,e[5]=c):c=e[5];let u;e[6]!==c?(u=l.jsx("span",{className:c}),e[6]=c,e[7]=u):u=e[7];let d;return e[8]!==i||e[9]!==u?(d=l.jsxs("span",{className:"relative ml-1.5 inline-flex h-2 w-2",children:[i,u]}),e[8]=i,e[9]=u,e[10]=d):d=e[10],d}function W0(t){const e=ae.c(16),{icon:n,label:r,value:a,subValue:s,className:i}=t;let o;e[0]!==i?(o=ce("bg-panel rounded-lg border border-border-light px-3 py-2",i),e[0]=i,e[1]=o):o=e[1];let c;e[2]!==n?(c=l.jsx(n,{className:"h-3 w-3"}),e[2]=n,e[3]=c):c=e[3];let u;e[4]!==r||e[5]!==c?(u=l.jsxs("div",{className:"text-muted mb-0.5 flex items-center gap-1.5 text-[10px] uppercase tracking-wider",children:[c,r]}),e[4]=r,e[5]=c,e[6]=u):u=e[6];let d;e[7]!==a?(d=l.jsx("div",{className:"text-foreground text-sm font-medium tabular-nums",children:a}),e[7]=a,e[8]=d):d=e[8];let m;e[9]!==s?(m=s&&l.jsx("div",{className:"text-muted mt-0.5 text-[10px]",children:s}),e[9]=s,e[10]=m):m=e[10];let h;return e[11]!==o||e[12]!==u||e[13]!==d||e[14]!==m?(h=l.jsxs("div",{className:o,children:[u,d,m]}),e[11]=o,e[12]=u,e[13]=d,e[14]=m,e[15]=h):h=e[15],h}function t0e(t){const e=ae.c(12),{startTime:n}=t,[r,a]=b.useState(0);let s,i;if(e[0]!==n?(s=()=>{if(!n){a(0);return}a(Date.now()-n);const m=setInterval(()=>a(Date.now()-n),250);return()=>clearInterval(m)},i=[n],e[0]=n,e[1]=s,e[2]=i):(s=e[1],i=e[2]),b.useEffect(s,i),!n){let m;return e[3]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx("span",{className:"text-muted",children:""}),e[3]=m):m=e[3],m}const o=Math.floor(r/1e3),c=Math.floor(o/60),u=Math.floor(c/60);if(u>0){const m=c%60;let h;return e[4]!==u||e[5]!==m?(h=l.jsxs(l.Fragment,{children:[u,"h ",m,"m"]}),e[4]=u,e[5]=m,e[6]=h):h=e[6],h}if(c>0){const m=o%60;let h;return e[7]!==c||e[8]!==m?(h=l.jsxs(l.Fragment,{children:[c,"m ",m,"s"]}),e[7]=c,e[8]=m,e[9]=h):h=e[9],h}let d;return e[10]!==o?(d=l.jsxs(l.Fragment,{children:[o,"s"]}),e[10]=o,e[11]=d):d=e[11],d}function n0e(t){const e=ae.c(73),{workspaceId:n}=t,r=Rf(n),a=Nx(n),s=If(n);let i;e[0]!==r?(i=Qfe(r),e[0]=r,e[1]=i):i=e[1];const o=i,c=Jfe[o],u=c.icon,d=o!=="idle"&&o!=="error";let m;if(e[2]!==s.liveCostUsage||e[3]!==s.sessionTotal){e:{const q=[];if(s.sessionTotal&&q.push(s.sessionTotal),s.liveCostUsage&&q.push(s.liveCostUsage),q.length===0){m=0;break e}const V=Ex(q);if(!V){m=0;break e}m=(V.input.cost_usd??0)+(V.cached.cost_usd??0)+(V.cacheCreate.cost_usd??0)+(V.output.cost_usd??0)+(V.reasoning.cost_usd??0)}e[2]=s.liveCostUsage,e[3]=s.sessionTotal,e[4]=m}else m=e[4];const h=m,p=a?.session?.responseCount??0,f=a?.session?.totalOutputTokens??0,g=a?.session?.totalReasoningTokens??0;let x;e[5]!==c.color?(x=ce("h-4 w-4",c.color),e[5]=c.color,e[6]=x):x=e[6];let y;e[7]!==u||e[8]!==x?(y=l.jsx(u,{className:x}),e[7]=u,e[8]=x,e[9]=y):y=e[9];let w;e[10]!==c.color?(w=ce("text-sm font-medium",c.color),e[10]=c.color,e[11]=w):w=e[11];let v;e[12]!==c.label||e[13]!==w?(v=l.jsx("span",{className:w,children:c.label}),e[12]=c.label,e[13]=w,e[14]=v):v=e[14];let k;e[15]!==o?(k=l.jsx(e0e,{status:o}),e[15]=o,e[16]=k):k=e[16];let C;e[17]!==y||e[18]!==v||e[19]!==k?(C=l.jsxs("div",{className:"flex items-center gap-2",children:[y,v,k]}),e[17]=y,e[18]=v,e[19]=k,e[20]=C):C=e[20];let _;e[21]!==r.pendingStreamModel?(_=r.pendingStreamModel&&l.jsx("span",{className:"bg-accent/20 text-accent rounded px-2 py-0.5 text-[11px] font-medium",children:r.pendingStreamModel}),e[21]=r.pendingStreamModel,e[22]=_):_=e[22];let S;e[23]!==C||e[24]!==_?(S=l.jsxs("div",{className:"flex items-center justify-between",children:[C,_]}),e[23]=C,e[24]=_,e[25]=S):S=e[25];let T;e[26]!==d||e[27]!==r.pendingStreamStartTime||e[28]!==r.streamingTPS||e[29]!==r.streamingTokenCount?(T=d&&l.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2 border-t border-border-light pt-2",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-muted text-[10px] uppercase",children:"TPS"}),l.jsx("div",{className:"text-foreground text-sm font-medium tabular-nums",children:r.streamingTPS!==void 0?r.streamingTPS.toFixed(1):""})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-muted text-[10px] uppercase",children:"Tokens"}),l.jsx("div",{className:"text-foreground text-sm font-medium tabular-nums",children:r.streamingTokenCount!==void 0?r.streamingTokenCount.toLocaleString():""})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-muted text-[10px] uppercase",children:"Elapsed"}),l.jsx("div",{className:"text-foreground text-sm font-medium tabular-nums",children:l.jsx(t0e,{startTime:r.pendingStreamStartTime})})]})]}),e[26]=d,e[27]=r.pendingStreamStartTime,e[28]=r.streamingTPS,e[29]=r.streamingTokenCount,e[30]=T):T=e[30];let N;e[31]!==r.runtimeStatus?(N=r.runtimeStatus&&r.runtimeStatus.phase!=="ready"&&l.jsx("div",{className:"mt-2 border-t border-border-light pt-2",children:l.jsxs("div",{className:"text-muted flex items-center gap-1.5 text-[11px]",children:[l.jsx(J_,{className:"h-3 w-3 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:r.runtimeStatus.detail??`Runtime: ${r.runtimeStatus.phase}`})]})}),e[31]=r.runtimeStatus,e[32]=N):N=e[32];let j;e[33]!==S||e[34]!==T||e[35]!==N?(j=l.jsxs("div",{className:"bg-panel rounded-lg border border-border-light p-3",children:[S,T,N]}),e[33]=S,e[34]=T,e[35]=N,e[36]=j):j=e[36];let R;e[37]!==h?(R=h>0?`$${h.toFixed(4)}`:"$0.00",e[37]=h,e[38]=R):R=e[38];let I;e[39]!==R?(I=l.jsx(W0,{icon:iee,label:"Session Cost",value:R}),e[39]=R,e[40]=I):I=e[40];let A;e[41]!==p?(A=p.toString(),e[41]=p,e[42]=A):A=e[42];let $;e[43]!==A?($=l.jsx(W0,{icon:Ud,label:"Responses",value:A}),e[43]=A,e[44]=$):$=e[44];let E;e[45]!==f?(E=f.toLocaleString(),e[45]=f,e[46]=E):E=e[46];let M;e[47]!==g?(M=g>0?`+${g.toLocaleString()} reasoning`:void 0,e[47]=g,e[48]=M):M=e[48];let F;e[49]!==E||e[50]!==M?(F=l.jsx(W0,{icon:Rx,label:"Output Tokens",value:E,subValue:M}),e[49]=E,e[50]=M,e[51]=F):F=e[51];const L=a?.session?.totalDurationMs??0;let Y;e[52]!==L?(Y=hT(L),e[52]=L,e[53]=Y):Y=e[53];let O;e[54]!==a?(O=a?.session?.totalToolExecutionMs?`${hT(a.session.totalToolExecutionMs)} in tools`:void 0,e[54]=a,e[55]=O):O=e[55];let G;e[56]!==Y||e[57]!==O?(G=l.jsx(W0,{icon:XJ,label:"Session Time",value:Y,subValue:O}),e[56]=Y,e[57]=O,e[58]=G):G=e[58];let H;e[59]!==I||e[60]!==$||e[61]!==F||e[62]!==G?(H=l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[I,$,F,G]}),e[59]=I,e[60]=$,e[61]=F,e[62]=G,e[63]=H):H=e[63];let D;e[64]!==a?(D=a?.session?.byModel&&Object.keys(a.session.byModel).length>0&&l.jsxs("div",{className:"bg-panel rounded-lg border border-border-light p-3",children:[l.jsx("h4",{className:"text-muted mb-2 text-[10px] uppercase tracking-wider",children:"Model Breakdown"}),l.jsx("div",{className:"space-y-1.5",children:Object.entries(a.session.byModel).map(r0e)})]}),e[64]=a,e[65]=D):D=e[65];let U;e[66]!==a?(U=a?.active&&l.jsxs("div",{className:"bg-panel rounded-lg border border-border-light p-3",children:[l.jsx("h4",{className:"text-muted mb-2 text-[10px] uppercase tracking-wider",children:"Active Stream"}),l.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs",children:[l.jsx("div",{className:"text-muted",children:"Model"}),l.jsx("div",{className:"text-foreground truncate text-right font-medium",children:a.active.model?.split("/").pop()??""}),l.jsx("div",{className:"text-muted",children:"TTFT"}),l.jsx("div",{className:"text-foreground text-right tabular-nums",children:a.active.ttftMs!=null?`${a.active.ttftMs}ms`:""}),l.jsx("div",{className:"text-muted",children:"Live TPS"}),l.jsx("div",{className:"text-foreground text-right tabular-nums",children:a.active.liveTPS!=null?a.active.liveTPS.toFixed(1):""}),l.jsx("div",{className:"text-muted",children:"Tokens"}),l.jsx("div",{className:"text-foreground text-right tabular-nums",children:a.active.liveTokenCount?.toLocaleString()??""})]})]}),e[66]=a,e[67]=U):U=e[67];let B;return e[68]!==j||e[69]!==H||e[70]!==D||e[71]!==U?(B=l.jsxs("div",{className:"space-y-4",children:[j,H,D,U]}),e[68]=j,e[69]=H,e[70]=D,e[71]=U,e[72]=B):B=e[72],B}function r0e(t){const[e,n]=t;return l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-foreground truncate font-medium",title:e,children:e.split("/").pop()??e}),l.jsxs("div",{className:"text-muted flex gap-3 tabular-nums",children:[l.jsxs("span",{children:[n.responseCount,""]}),l.jsxs("span",{children:[n.totalOutputTokens.toLocaleString()," tok"]})]})]},e)}function hT(t){if(t<=0)return"0s";if(t<1e3)return`${Math.round(t)}ms`;const e=Math.floor(t/1e3);if(e<60)return`${e}s`;const n=Math.floor(e/60),r=e%60;return n<60?r>0?`${n}m ${r}s`:`${n}m`:`${Math.floor(n/60)}h ${n%60}m`}const a0e=xe.memo(n0e),s0e=["costs","review","terminal","explorer","stats","monitor"];function yu(t){return typeof t!="string"?!1:s0e.includes(t)||t.startsWith("terminal:")?!0:t.startsWith("file:")}function Vh(t){return t.startsWith("file:")}function vw(t){if(t.startsWith("file:"))return t.slice(5)}function i0e(t){return`file:${t}`}function Kc(t){return t==="terminal"||t.startsWith("terminal:")}function Yi(t){if(t!=="terminal"&&t.startsWith("terminal:"))return t.slice(9)}function ck(t){return t?`terminal:${t}`:"terminal"}const o0e=t=>{const e=ae.c(11);let n;e[0]!==t.tabType?(n=Yi(t.tabType),e[0]=t.tabType,e[1]=n):n=e[1];const r=n;if(!r){let i;return e[2]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx("div",{className:"flex h-full items-center justify-center text-red-400",children:"Invalid terminal tab: missing session ID"}),e[2]=i):i=e[2],i}const a=t.autoFocus??!1;let s;return e[3]!==t.onAutoFocusConsumed||e[4]!==t.onExit||e[5]!==t.onTitleChange||e[6]!==t.visible||e[7]!==t.workspaceId||e[8]!==r||e[9]!==a?(s=l.jsx(QQ,{workspaceId:t.workspaceId,sessionId:r,visible:t.visible,setDocumentTitle:!1,onTitleChange:t.onTitleChange,onAutoFocusConsumed:t.onAutoFocusConsumed,autoFocus:a,onExit:t.onExit}),e[3]=t.onAutoFocusConsumed,e[4]=t.onExit,e[5]=t.onTitleChange,e[6]=t.visible,e[7]=t.workspaceId,e[8]=r,e[9]=a,e[10]=s):s=e[10],s},py=b.createContext(null);py.displayName="PanelGroupContext";const $r={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},kC=10,au=b.useLayoutEffect,pT=oZ.useId,l0e=typeof pT=="function"?pT:()=>null;let c0e=0;function _C(t=null){const e=l0e(),n=b.useRef(t||e||null);return n.current===null&&(n.current=""+c0e++),t??n.current}function XL({children:t,className:e="",collapsedSize:n,collapsible:r,defaultSize:a,forwardedRef:s,id:i,maxSize:o,minSize:c,onCollapse:u,onExpand:d,onResize:m,order:h,style:p,tagName:f="div",...g}){const x=b.useContext(py);if(x===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:y,expandPanel:w,getPanelSize:v,getPanelStyle:k,groupId:C,isPanelCollapsed:_,reevaluatePanelConstraints:S,registerPanel:T,resizePanel:N,unregisterPanel:j}=x,R=_C(i),I=b.useRef({callbacks:{onCollapse:u,onExpand:d,onResize:m},constraints:{collapsedSize:n,collapsible:r,defaultSize:a,maxSize:o,minSize:c},id:R,idIsFromProps:i!==void 0,order:h});b.useRef({didLogMissingDefaultSizeWarning:!1}),au(()=>{const{callbacks:$,constraints:E}=I.current,M={...E};I.current.id=R,I.current.idIsFromProps=i!==void 0,I.current.order=h,$.onCollapse=u,$.onExpand=d,$.onResize=m,E.collapsedSize=n,E.collapsible=r,E.defaultSize=a,E.maxSize=o,E.minSize=c,(M.collapsedSize!==E.collapsedSize||M.collapsible!==E.collapsible||M.maxSize!==E.maxSize||M.minSize!==E.minSize)&&S(I.current,M)}),au(()=>{const $=I.current;return T($),()=>{j($)}},[h,R,T,j]),b.useImperativeHandle(s,()=>({collapse:()=>{y(I.current)},expand:$=>{w(I.current,$)},getId(){return R},getSize(){return v(I.current)},isCollapsed(){return _(I.current)},isExpanded(){return!_(I.current)},resize:$=>{N(I.current,$)}}),[y,w,v,_,R,N]);const A=k(I.current,a);return b.createElement(f,{...g,children:t,className:e,id:R,style:{...A,...p},[$r.groupId]:C,[$r.panel]:"",[$r.panelCollapsible]:r||void 0,[$r.panelId]:R,[$r.panelSize]:parseFloat(""+A.flexGrow).toFixed(1)})}const uk=b.forwardRef((t,e)=>b.createElement(XL,{...t,forwardedRef:e}));XL.displayName="Panel";uk.displayName="forwardRef(Panel)";let dk=null,Hg=-1,Ol=null;function u0e(t,e,n){const r=(e&tO)!==0,a=(e&nO)!==0,s=(e&rO)!==0,i=(e&aO)!==0;if(e){if(r)return s?"se-resize":i?"ne-resize":"e-resize";if(a)return s?"sw-resize":i?"nw-resize":"w-resize";if(s)return"s-resize";if(i)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function d0e(){Ol!==null&&(document.head.removeChild(Ol),dk=null,Ol=null,Hg=-1)}function kw(t,e,n){var r,a;const s=u0e(t,e);if(dk!==s){if(dk=s,Ol===null&&(Ol=document.createElement("style"),document.head.appendChild(Ol)),Hg>=0){var i;(i=Ol.sheet)===null||i===void 0||i.removeRule(Hg)}Hg=(r=(a=Ol.sheet)===null||a===void 0?void 0:a.insertRule(`*{cursor: ${s} !important;}`))!==null&&r!==void 0?r:-1}}function ZL(t){return t.type==="keydown"}function QL(t){return t.type.startsWith("pointer")}function JL(t){return t.type.startsWith("mouse")}function fy(t){if(QL(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(JL(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function m0e(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function h0e(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function p0e(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:bT(t),b:bT(e)};let r;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),r=t;An(r,"Stacking order can only be calculated for elements with a common ancestor");const a={a:gT(fT(n.a)),b:gT(fT(n.b))};if(a.a===a.b){const s=r.childNodes,i={a:n.a.at(-1),b:n.b.at(-1)};let o=s.length;for(;o--;){const c=s[o];if(c===i.a)return 1;if(c===i.b)return-1}}return Math.sign(a.a-a.b)}const f0e=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function g0e(t){var e;const n=getComputedStyle((e=eO(t))!==null&&e!==void 0?e:t).display;return n==="flex"||n==="inline-flex"}function b0e(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||g0e(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||f0e.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function fT(t){let e=t.length;for(;e--;){const n=t[e];if(An(n,"Missing node"),b0e(n))return n}return null}function gT(t){return t&&Number(getComputedStyle(t).zIndex)||0}function bT(t){const e=[];for(;t;)e.push(t),t=eO(t);return e}function eO(t){const{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}const tO=1,nO=2,rO=4,aO=8,x0e=m0e()==="coarse";let Ci=[],Zd=!1,Pl=new Map,gy=new Map;const ef=new Set;function y0e(t,e,n,r,a){var s;const{ownerDocument:i}=e,o={direction:n,element:e,hitAreaMargins:r,setResizeHandlerState:a},c=(s=Pl.get(i))!==null&&s!==void 0?s:0;return Pl.set(i,c+1),ef.add(o),Y1(),function(){var d;gy.delete(t),ef.delete(o);const m=(d=Pl.get(i))!==null&&d!==void 0?d:1;if(Pl.set(i,m-1),Y1(),m===1&&Pl.delete(i),Ci.includes(o)){const h=Ci.indexOf(o);h>=0&&Ci.splice(h,1),by(),a("up",!0,null)}}}function w0e(t){const{target:e}=t,{x:n,y:r}=fy(t);Zd=!0,CC({target:e,x:n,y:r}),Y1(),Ci.length>0&&(X1("down",t),by(),t.preventDefault(),sO(e)||t.stopImmediatePropagation())}function _w(t){const{x:e,y:n}=fy(t);if(Zd&&t.type!=="pointerleave"&&t.buttons===0&&(Zd=!1,X1("up",t)),!Zd){const{target:r}=t;CC({target:r,x:e,y:n})}X1("move",t),by(),Ci.length>0&&t.preventDefault()}function Cw(t){const{target:e}=t,{x:n,y:r}=fy(t);gy.clear(),Zd=!1,Ci.length>0&&(t.preventDefault(),sO(e)||t.stopImmediatePropagation()),X1("up",t),CC({target:e,x:n,y:r}),by(),Y1()}function sO(t){let e=t;for(;e;){if(e.hasAttribute($r.resizeHandle))return!0;e=e.parentElement}return!1}function CC({target:t,x:e,y:n}){Ci.splice(0);let r=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(r=t),ef.forEach(a=>{const{element:s,hitAreaMargins:i}=a,o=s.getBoundingClientRect(),{bottom:c,left:u,right:d,top:m}=o,h=x0e?i.coarse:i.fine;if(e>=u-h&&e<=d+h&&n>=m-h&&n<=c+h){if(r!==null&&document.contains(r)&&s!==r&&!s.contains(r)&&!r.contains(s)&&p0e(r,s)>0){let f=r,g=!1;for(;f&&!f.contains(s);){if(h0e(f.getBoundingClientRect(),o)){g=!0;break}f=f.parentElement}if(g)return}Ci.push(a)}})}function Sw(t,e){gy.set(t,e)}function by(){let t=!1,e=!1;Ci.forEach(r=>{const{direction:a}=r;a==="horizontal"?t=!0:e=!0});let n=0;gy.forEach(r=>{n|=r}),t&&e?kw("intersection",n):t?kw("horizontal",n):e?kw("vertical",n):d0e()}let jw;function Y1(){var t;(t=jw)===null||t===void 0||t.abort(),jw=new AbortController;const e={capture:!0,signal:jw.signal};ef.size&&(Zd?(Ci.length>0&&Pl.forEach((n,r)=>{const{body:a}=r;n>0&&(a.addEventListener("contextmenu",Cw,e),a.addEventListener("pointerleave",_w,e),a.addEventListener("pointermove",_w,e))}),Pl.forEach((n,r)=>{const{body:a}=r;a.addEventListener("pointerup",Cw,e),a.addEventListener("pointercancel",Cw,e)})):Pl.forEach((n,r)=>{const{body:a}=r;n>0&&(a.addEventListener("pointerdown",w0e,e),a.addEventListener("pointermove",_w,e))}))}function X1(t,e){ef.forEach(n=>{const{setResizeHandlerState:r}=n,a=Ci.includes(n);r(t,a,e)})}function v0e(){const[t,e]=b.useState(0);return b.useCallback(()=>e(n=>n+1),[])}function An(t,e){if(!t)throw console.error(e),Error(e)}function wu(t,e,n=kC){return t.toFixed(n)===e.toFixed(n)?0:t>e?1:-1}function zo(t,e,n=kC){return wu(t,e,n)===0}function Es(t,e,n){return wu(t,e,n)===0}function k0e(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){const a=t[r],s=e[r];if(!Es(a,s,n))return!1}return!0}function Ld({panelConstraints:t,panelIndex:e,size:n}){const r=t[e];An(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:a=0,collapsible:s,maxSize:i=100,minSize:o=0}=r;if(wu(n,o)<0)if(s){const c=(a+o)/2;wu(n,c)<0?n=a:n=o}else n=o;return n=Math.min(i,n),n=parseFloat(n.toFixed(kC)),n}function Kh({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:r,prevLayout:a,trigger:s}){if(Es(t,0))return e;const i=[...e],[o,c]=r;An(o!=null,"Invalid first pivot index"),An(c!=null,"Invalid second pivot index");let u=0;if(s==="keyboard"){{const m=t<0?c:o,h=n[m];An(h,`Panel constraints not found for index ${m}`);const{collapsedSize:p=0,collapsible:f,minSize:g=0}=h;if(f){const x=e[m];if(An(x!=null,`Previous layout not found for panel index ${m}`),Es(x,p)){const y=g-x;wu(y,Math.abs(t))>0&&(t=t<0?0-y:y)}}}{const m=t<0?o:c,h=n[m];An(h,`No panel constraints found for index ${m}`);const{collapsedSize:p=0,collapsible:f,minSize:g=0}=h;if(f){const x=e[m];if(An(x!=null,`Previous layout not found for panel index ${m}`),Es(x,g)){const y=x-p;wu(y,Math.abs(t))>0&&(t=t<0?0-y:y)}}}}{const m=t<0?1:-1;let h=t<0?c:o,p=0;for(;;){const g=e[h];An(g!=null,`Previous layout not found for panel index ${h}`);const y=Ld({panelConstraints:n,panelIndex:h,size:100})-g;if(p+=y,h+=m,h<0||h>=n.length)break}const f=Math.min(Math.abs(t),Math.abs(p));t=t<0?0-f:f}{let h=t<0?o:c;for(;h>=0&&h<n.length;){const p=Math.abs(t)-Math.abs(u),f=e[h];An(f!=null,`Previous layout not found for panel index ${h}`);const g=f-p,x=Ld({panelConstraints:n,panelIndex:h,size:g});if(!Es(f,x)&&(u+=f-x,i[h]=x,u.toFixed(3).localeCompare(Math.abs(t).toFixed(3),void 0,{numeric:!0})>=0))break;t<0?h--:h++}}if(k0e(a,i))return a;{const m=t<0?c:o,h=e[m];An(h!=null,`Previous layout not found for panel index ${m}`);const p=h+u,f=Ld({panelConstraints:n,panelIndex:m,size:p});if(i[m]=f,!Es(f,p)){let g=p-f,y=t<0?c:o;for(;y>=0&&y<n.length;){const w=i[y];An(w!=null,`Previous layout not found for panel index ${y}`);const v=w+g,k=Ld({panelConstraints:n,panelIndex:y,size:v});if(Es(w,k)||(g-=k-w,i[y]=k),Es(g,0))break;t>0?y--:y++}}}const d=i.reduce((m,h)=>h+m,0);return Es(d,100)?i:a}function _0e({layout:t,panelsArray:e,pivotIndices:n}){let r=0,a=100,s=0,i=0;const o=n[0];An(o!=null,"No pivot index found"),e.forEach((m,h)=>{const{constraints:p}=m,{maxSize:f=100,minSize:g=0}=p;h===o?(r=g,a=f):(s+=g,i+=f)});const c=Math.min(a,100-s),u=Math.max(r,100-i),d=t[o];return{valueMax:c,valueMin:u,valueNow:d}}function tf(t,e=document){return Array.from(e.querySelectorAll(`[${$r.resizeHandleId}][data-panel-group-id="${t}"]`))}function iO(t,e,n=document){const a=tf(t,n).findIndex(s=>s.getAttribute($r.resizeHandleId)===e);return a??null}function oO(t,e,n){const r=iO(t,e,n);return r!=null?[r,r+1]:[-1,-1]}function C0e(t){return t instanceof HTMLElement?!0:typeof t=="object"&&t!==null&&"tagName"in t&&"getAttribute"in t}function lO(t,e=document){if(C0e(e)&&e.dataset.panelGroupId==t)return e;const n=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return n||null}function xy(t,e=document){const n=e.querySelector(`[${$r.resizeHandleId}="${t}"]`);return n||null}function S0e(t,e,n,r=document){var a,s,i,o;const c=xy(e,r),u=tf(t,r),d=c?u.indexOf(c):-1,m=(a=(s=n[d])===null||s===void 0?void 0:s.id)!==null&&a!==void 0?a:null,h=(i=(o=n[d+1])===null||o===void 0?void 0:o.id)!==null&&i!==void 0?i:null;return[m,h]}function j0e({committedValuesRef:t,eagerValuesRef:e,groupId:n,layout:r,panelDataArray:a,panelGroupElement:s,setLayout:i}){b.useRef({didWarnAboutMissingResizeHandle:!1}),au(()=>{if(!s)return;const o=tf(n,s);for(let c=0;c<a.length-1;c++){const{valueMax:u,valueMin:d,valueNow:m}=_0e({layout:r,panelsArray:a,pivotIndices:[c,c+1]}),h=o[c];if(h!=null){const p=a[c];An(p,`No panel data found for index "${c}"`),h.setAttribute("aria-controls",p.id),h.setAttribute("aria-valuemax",""+Math.round(u)),h.setAttribute("aria-valuemin",""+Math.round(d)),h.setAttribute("aria-valuenow",m!=null?""+Math.round(m):"")}}return()=>{o.forEach((c,u)=>{c.removeAttribute("aria-controls"),c.removeAttribute("aria-valuemax"),c.removeAttribute("aria-valuemin"),c.removeAttribute("aria-valuenow")})}},[n,r,a,s]),b.useEffect(()=>{if(!s)return;const o=e.current;An(o,"Eager values not found");const{panelDataArray:c}=o,u=lO(n,s);An(u!=null,`No group found for id "${n}"`);const d=tf(n,s);An(d,`No resize handles found for group id "${n}"`);const m=d.map(h=>{const p=h.getAttribute($r.resizeHandleId);An(p,"Resize handle element has no handle id attribute");const[f,g]=S0e(n,p,c,s);if(f==null||g==null)return()=>{};const x=y=>{if(!y.defaultPrevented)switch(y.key){case"Enter":{y.preventDefault();const w=c.findIndex(v=>v.id===f);if(w>=0){const v=c[w];An(v,`No panel data found for index ${w}`);const k=r[w],{collapsedSize:C=0,collapsible:_,minSize:S=0}=v.constraints;if(k!=null&&_){const T=Kh({delta:Es(k,C)?S-C:C-k,initialLayout:r,panelConstraints:c.map(N=>N.constraints),pivotIndices:oO(n,p,s),prevLayout:r,trigger:"keyboard"});r!==T&&i(T)}}break}}};return h.addEventListener("keydown",x),()=>{h.removeEventListener("keydown",x)}});return()=>{m.forEach(h=>h())}},[s,t,e,n,r,a,i])}function xT(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function cO(t,e){const n=t==="horizontal",{x:r,y:a}=fy(e);return n?r:a}function T0e(t,e,n,r,a){const s=n==="horizontal",i=xy(e,a);An(i,`No resize handle element found for id "${e}"`);const o=i.getAttribute($r.groupId);An(o,"Resize handle element has no group id attribute");let{initialCursorPosition:c}=r;const u=cO(n,t),d=lO(o,a);An(d,`No group element found for id "${o}"`);const m=d.getBoundingClientRect(),h=s?m.width:m.height;return(u-c)/h*100}function E0e(t,e,n,r,a,s){if(ZL(t)){const i=n==="horizontal";let o=0;t.shiftKey?o=100:a!=null?o=a:o=10;let c=0;switch(t.key){case"ArrowDown":c=i?0:o;break;case"ArrowLeft":c=i?-o:0;break;case"ArrowRight":c=i?o:0;break;case"ArrowUp":c=i?0:-o;break;case"End":c=100;break;case"Home":c=-100;break}return c}else return r==null?0:T0e(t,e,n,r,s)}function N0e({panelDataArray:t}){const e=Array(t.length),n=t.map(s=>s.constraints);let r=0,a=100;for(let s=0;s<t.length;s++){const i=n[s];An(i,`Panel constraints not found for index ${s}`);const{defaultSize:o}=i;o!=null&&(r++,e[s]=o,a-=o)}for(let s=0;s<t.length;s++){const i=n[s];An(i,`Panel constraints not found for index ${s}`);const{defaultSize:o}=i;if(o!=null)continue;const c=t.length-r,u=a/c;r++,e[s]=u,a-=u}return e}function ud(t,e,n){e.forEach((r,a)=>{const s=t[a];An(s,`Panel data not found for index ${a}`);const{callbacks:i,constraints:o,id:c}=s,{collapsedSize:u=0,collapsible:d}=o,m=n[c];if(m==null||r!==m){n[c]=r;const{onCollapse:h,onExpand:p,onResize:f}=i;f&&f(r,m),d&&(h||p)&&(p&&(m==null||zo(m,u))&&!zo(r,u)&&p(),h&&(m==null||!zo(m,u))&&zo(r,u)&&h())}})}function G0(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function $0e({defaultSize:t,dragState:e,layout:n,panelData:r,panelIndex:a,precision:s=3}){const i=n[a];let o;return i==null?o=t!=null?t.toFixed(s):"1":r.length===1?o="1":o=i.toFixed(s),{flexBasis:0,flexGrow:o,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function A0e(t,e=10){let n=null;return(...a)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...a)},e)}}function yT(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function uO(t){return`react-resizable-panels:${t}`}function dO(t){return t.map(e=>{const{constraints:n,id:r,idIsFromProps:a,order:s}=e;return a?r:s?`${s}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function mO(t,e){try{const n=uO(t),r=e.getItem(n);if(r){const a=JSON.parse(r);if(typeof a=="object"&&a!=null)return a}}catch{}return null}function I0e(t,e,n){var r,a;const s=(r=mO(t,n))!==null&&r!==void 0?r:{},i=dO(e);return(a=s[i])!==null&&a!==void 0?a:null}function R0e(t,e,n,r,a){var s;const i=uO(t),o=dO(e),c=(s=mO(t,a))!==null&&s!==void 0?s:{};c[o]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{a.setItem(i,JSON.stringify(c))}catch(u){console.error(u)}}function wT({layout:t,panelConstraints:e}){const n=[...t],r=n.reduce((s,i)=>s+i,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(s=>`${s}%`).join(", ")}`);if(!Es(r,100)&&n.length>0)for(let s=0;s<e.length;s++){const i=n[s];An(i!=null,`No layout data found for index ${s}`);const o=100/r*i;n[s]=o}let a=0;for(let s=0;s<e.length;s++){const i=n[s];An(i!=null,`No layout data found for index ${s}`);const o=Ld({panelConstraints:e,panelIndex:s,size:i});i!=o&&(a+=i-o,n[s]=o)}if(!Es(a,0))for(let s=0;s<e.length;s++){const i=n[s];An(i!=null,`No layout data found for index ${s}`);const o=i+a,c=Ld({panelConstraints:e,panelIndex:s,size:o});if(i!==c&&(a-=c-i,n[s]=c,Es(a,0)))break}return n}const M0e=100,Yh={getItem:t=>(yT(Yh),Yh.getItem(t)),setItem:(t,e)=>{yT(Yh),Yh.setItem(t,e)}},vT={};function hO({autoSaveId:t=null,children:e,className:n="",direction:r,forwardedRef:a,id:s=null,onLayout:i=null,keyboardResizeBy:o=null,storage:c=Yh,style:u,tagName:d="div",...m}){const h=_C(s),p=b.useRef(null),[f,g]=b.useState(null),[x,y]=b.useState([]),w=v0e(),v=b.useRef({}),k=b.useRef(new Map),C=b.useRef(0),_=b.useRef({autoSaveId:t,direction:r,dragState:f,id:h,keyboardResizeBy:o,onLayout:i,storage:c}),S=b.useRef({layout:x,panelDataArray:[],panelDataArrayChanged:!1});b.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),b.useImperativeHandle(a,()=>({getId:()=>_.current.id,getLayout:()=>{const{layout:D}=S.current;return D},setLayout:D=>{const{onLayout:U}=_.current,{layout:B,panelDataArray:q}=S.current,V=wT({layout:D,panelConstraints:q.map(Z=>Z.constraints)});xT(B,V)||(y(V),S.current.layout=V,U&&U(V),ud(q,V,v.current))}}),[]),au(()=>{_.current.autoSaveId=t,_.current.direction=r,_.current.dragState=f,_.current.id=h,_.current.onLayout=i,_.current.storage=c}),j0e({committedValuesRef:_,eagerValuesRef:S,groupId:h,layout:x,panelDataArray:S.current.panelDataArray,setLayout:y,panelGroupElement:p.current}),b.useEffect(()=>{const{panelDataArray:D}=S.current;if(t){if(x.length===0||x.length!==D.length)return;let U=vT[t];U==null&&(U=A0e(R0e,M0e),vT[t]=U);const B=[...D],q=new Map(k.current);U(t,B,q,x,c)}},[t,x,c]),b.useEffect(()=>{});const T=b.useCallback(D=>{const{onLayout:U}=_.current,{layout:B,panelDataArray:q}=S.current;if(D.constraints.collapsible){const V=q.map(J=>J.constraints),{collapsedSize:Z=0,panelSize:W,pivotIndices:K}=Tc(q,D,B);if(An(W!=null,`Panel size not found for panel "${D.id}"`),!zo(W,Z)){k.current.set(D.id,W);const ee=_d(q,D)===q.length-1?W-Z:Z-W,se=Kh({delta:ee,initialLayout:B,panelConstraints:V,pivotIndices:K,prevLayout:B,trigger:"imperative-api"});G0(B,se)||(y(se),S.current.layout=se,U&&U(se),ud(q,se,v.current))}}},[]),N=b.useCallback((D,U)=>{const{onLayout:B}=_.current,{layout:q,panelDataArray:V}=S.current;if(D.constraints.collapsible){const Z=V.map(re=>re.constraints),{collapsedSize:W=0,panelSize:K=0,minSize:J=0,pivotIndices:ee}=Tc(V,D,q),se=U??J;if(zo(K,W)){const re=k.current.get(D.id),ue=re!=null&&re>=se?re:se,ke=_d(V,D)===V.length-1?K-ue:ue-K,je=Kh({delta:ke,initialLayout:q,panelConstraints:Z,pivotIndices:ee,prevLayout:q,trigger:"imperative-api"});G0(q,je)||(y(je),S.current.layout=je,B&&B(je),ud(V,je,v.current))}}},[]),j=b.useCallback(D=>{const{layout:U,panelDataArray:B}=S.current,{panelSize:q}=Tc(B,D,U);return An(q!=null,`Panel size not found for panel "${D.id}"`),q},[]),R=b.useCallback((D,U)=>{const{panelDataArray:B}=S.current,q=_d(B,D);return $0e({defaultSize:U,dragState:f,layout:x,panelData:B,panelIndex:q})},[f,x]),I=b.useCallback(D=>{const{layout:U,panelDataArray:B}=S.current,{collapsedSize:q=0,collapsible:V,panelSize:Z}=Tc(B,D,U);return An(Z!=null,`Panel size not found for panel "${D.id}"`),V===!0&&zo(Z,q)},[]),A=b.useCallback(D=>{const{layout:U,panelDataArray:B}=S.current,{collapsedSize:q=0,collapsible:V,panelSize:Z}=Tc(B,D,U);return An(Z!=null,`Panel size not found for panel "${D.id}"`),!V||wu(Z,q)>0},[]),$=b.useCallback(D=>{const{panelDataArray:U}=S.current;U.push(D),U.sort((B,q)=>{const V=B.order,Z=q.order;return V==null&&Z==null?0:V==null?-1:Z==null?1:V-Z}),S.current.panelDataArrayChanged=!0,w()},[w]);au(()=>{if(S.current.panelDataArrayChanged){S.current.panelDataArrayChanged=!1;const{autoSaveId:D,onLayout:U,storage:B}=_.current,{layout:q,panelDataArray:V}=S.current;let Z=null;if(D){const K=I0e(D,V,B);K&&(k.current=new Map(Object.entries(K.expandToSizes)),Z=K.layout)}Z==null&&(Z=N0e({panelDataArray:V}));const W=wT({layout:Z,panelConstraints:V.map(K=>K.constraints)});xT(q,W)||(y(W),S.current.layout=W,U&&U(W),ud(V,W,v.current))}}),au(()=>{const D=S.current;return()=>{D.layout=[]}},[]);const E=b.useCallback(D=>{let U=!1;const B=p.current;return B&&window.getComputedStyle(B,null).getPropertyValue("direction")==="rtl"&&(U=!0),function(V){V.preventDefault();const Z=p.current;if(!Z)return()=>null;const{direction:W,dragState:K,id:J,keyboardResizeBy:ee,onLayout:se}=_.current,{layout:re,panelDataArray:ue}=S.current,{initialLayout:he}=K??{},ke=oO(J,D,Z);let je=E0e(V,D,W,K,ee,Z);const _e=W==="horizontal";_e&&U&&(je=-je);const ge=ue.map($e=>$e.constraints),ve=Kh({delta:je,initialLayout:he??re,panelConstraints:ge,pivotIndices:ke,prevLayout:re,trigger:ZL(V)?"keyboard":"mouse-or-touch"}),De=!G0(re,ve);(QL(V)||JL(V))&&C.current!=je&&(C.current=je,!De&&je!==0?_e?Sw(D,je<0?tO:nO):Sw(D,je<0?rO:aO):Sw(D,0)),De&&(y(ve),S.current.layout=ve,se&&se(ve),ud(ue,ve,v.current))}},[]),M=b.useCallback((D,U)=>{const{onLayout:B}=_.current,{layout:q,panelDataArray:V}=S.current,Z=V.map(re=>re.constraints),{panelSize:W,pivotIndices:K}=Tc(V,D,q);An(W!=null,`Panel size not found for panel "${D.id}"`);const ee=_d(V,D)===V.length-1?W-U:U-W,se=Kh({delta:ee,initialLayout:q,panelConstraints:Z,pivotIndices:K,prevLayout:q,trigger:"imperative-api"});G0(q,se)||(y(se),S.current.layout=se,B&&B(se),ud(V,se,v.current))},[]),F=b.useCallback((D,U)=>{const{layout:B,panelDataArray:q}=S.current,{collapsedSize:V=0,collapsible:Z}=U,{collapsedSize:W=0,collapsible:K,maxSize:J=100,minSize:ee=0}=D.constraints,{panelSize:se}=Tc(q,D,B);se!=null&&(Z&&K&&zo(se,V)?zo(V,W)||M(D,W):se<ee?M(D,ee):se>J&&M(D,J))},[M]),L=b.useCallback((D,U)=>{const{direction:B}=_.current,{layout:q}=S.current;if(!p.current)return;const V=xy(D,p.current);An(V,`Drag handle element not found for id "${D}"`);const Z=cO(B,U);g({dragHandleId:D,dragHandleRect:V.getBoundingClientRect(),initialCursorPosition:Z,initialLayout:q})},[]),Y=b.useCallback(()=>{g(null)},[]),O=b.useCallback(D=>{const{panelDataArray:U}=S.current,B=_d(U,D);B>=0&&(U.splice(B,1),delete v.current[D.id],S.current.panelDataArrayChanged=!0,w())},[w]),G=b.useMemo(()=>({collapsePanel:T,direction:r,dragState:f,expandPanel:N,getPanelSize:j,getPanelStyle:R,groupId:h,isPanelCollapsed:I,isPanelExpanded:A,reevaluatePanelConstraints:F,registerPanel:$,registerResizeHandle:E,resizePanel:M,startDragging:L,stopDragging:Y,unregisterPanel:O,panelGroupElement:p.current}),[T,f,r,N,j,R,h,I,A,F,$,E,M,L,Y,O]),H={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return b.createElement(py.Provider,{value:G},b.createElement(d,{...m,children:e,className:n,id:s,ref:p,style:{...H,...u},[$r.group]:"",[$r.groupDirection]:r,[$r.groupId]:h}))}const pO=b.forwardRef((t,e)=>b.createElement(hO,{...t,forwardedRef:e}));hO.displayName="PanelGroup";pO.displayName="forwardRef(PanelGroup)";function _d(t,e){return t.findIndex(n=>n===e||n.id===e.id)}function Tc(t,e,n){const r=_d(t,e),s=r===t.length-1?[r-1,r]:[r,r+1],i=n[r];return{...e.constraints,panelSize:i,pivotIndices:s}}function D0e({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:r}){b.useEffect(()=>{if(t||n==null||r==null)return;const a=xy(e,r);if(a==null)return;const s=i=>{if(!i.defaultPrevented)switch(i.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{i.preventDefault(),n(i);break}case"F6":{i.preventDefault();const o=a.getAttribute($r.groupId);An(o,`No group element found for id "${o}"`);const c=tf(o,r),u=iO(o,e,r);An(u!==null,`No resize element found for id "${e}"`);const d=i.shiftKey?u>0?u-1:c.length-1:u+1<c.length?u+1:0;c[d].focus();break}}};return a.addEventListener("keydown",s),()=>{a.removeEventListener("keydown",s)}},[r,t,e,n])}function fO({children:t=null,className:e="",disabled:n=!1,hitAreaMargins:r,id:a,onBlur:s,onClick:i,onDragging:o,onFocus:c,onPointerDown:u,onPointerUp:d,style:m={},tabIndex:h=0,tagName:p="div",...f}){var g,x;const y=b.useRef(null),w=b.useRef({onClick:i,onDragging:o,onPointerDown:u,onPointerUp:d});b.useEffect(()=>{w.current.onClick=i,w.current.onDragging=o,w.current.onPointerDown=u,w.current.onPointerUp=d});const v=b.useContext(py);if(v===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:k,groupId:C,registerResizeHandle:_,startDragging:S,stopDragging:T,panelGroupElement:N}=v,j=_C(a),[R,I]=b.useState("inactive"),[A,$]=b.useState(!1),[E,M]=b.useState(null),F=b.useRef({state:R});au(()=>{F.current.state=R}),b.useEffect(()=>{if(n)M(null);else{const G=_(j);M(()=>G)}},[n,j,_]);const L=(g=r?.coarse)!==null&&g!==void 0?g:15,Y=(x=r?.fine)!==null&&x!==void 0?x:5;b.useEffect(()=>{if(n||E==null)return;const G=y.current;An(G,"Element ref not attached");let H=!1;return y0e(j,G,k,{coarse:L,fine:Y},(U,B,q)=>{if(!B){I("inactive");return}switch(U){case"down":{I("drag"),H=!1,An(q,'Expected event to be defined for "down" action'),S(j,q);const{onDragging:V,onPointerDown:Z}=w.current;V?.(!0),Z?.();break}case"move":{const{state:V}=F.current;H=!0,V!=="drag"&&I("hover"),An(q,'Expected event to be defined for "move" action'),E(q);break}case"up":{I("hover"),T();const{onClick:V,onDragging:Z,onPointerUp:W}=w.current;Z?.(!1),W?.(),H||V?.();break}}})},[L,k,n,Y,_,j,E,S,T]),D0e({disabled:n,handleId:j,resizeHandler:E,panelGroupElement:N});const O={touchAction:"none",userSelect:"none"};return b.createElement(p,{...f,children:t,className:e,id:a,onBlur:()=>{$(!1),s?.()},onFocus:()=>{$(!0),c?.()},ref:y,role:"separator",style:{...O,...m},tabIndex:h,[$r.groupDirection]:k,[$r.groupId]:C,[$r.resizeHandle]:"",[$r.resizeHandleActive]:R==="drag"?"pointer":A?"keyboard":void 0,[$r.resizeHandleEnabled]:!n,[$r.resizeHandleId]:j,[$r.resizeHandleState]:R})}fO.displayName="PanelResizeHandle";function mk(t){if(!t||typeof t!="object")return!1;const e=t;return e.type==="tabset"?typeof e.id=="string"&&Array.isArray(e.tabs)&&e.tabs.every(n=>yu(n))&&yu(e.activeTab):e.type==="split"?typeof e.id!="string"||e.direction!=="horizontal"&&e.direction!=="vertical"||!Array.isArray(e.sizes)||e.sizes.length!==2||typeof e.sizes[0]!="number"||typeof e.sizes[1]!="number"||!Array.isArray(e.children)||e.children.length!==2?!1:mk(e.children[0])&&mk(e.children[1]):!1}function gO(t){if(!t||typeof t!="object")return!1;const e=t;return e.version!==1||typeof e.nextId!="number"||typeof e.focusedTabsetId!="string"||!mk(e.root)?!1:pa(e.root,e.focusedTabsetId)!==null}function Hu(t){const e=["costs","review","explorer"];return{version:1,nextId:2,focusedTabsetId:"tabset-1",root:{type:"tabset",id:"tabset-1",tabs:e.includes(t)?e:[...e,t],activeTab:t}}}function hk(t,e){return t.type==="tabset"?t.tabs.includes(e)?!1:(t.tabs.push(e),!0):hk(t.children[0],e)||hk(t.children[1],e)}function pk(t,e){return t.type==="tabset"?t.tabs.includes(e):pk(t.children[0],e)||pk(t.children[1],e)}function Rl(t,e){return gO(t)?(pk(t.root,"explorer")||hk(t.root,"explorer"),t):Hu(e)}function pa(t,e){return t.type==="tabset"?t.id===e?t:null:pa(t.children[0],e)??pa(t.children[1],e)}function nf(t){return t.type==="tabset"?t.id:nf(t.children[0])??nf(t.children[1])}function Z1(t,e){return{id:`${e}-${t.nextId}`,nextId:t.nextId+1}}function fk(t,e){if(t.type==="tabset"){const a=t.tabs.indexOf(e),s=t.tabs.filter(o=>o!==e);if(s.length===0)return null;let i=t.activeTab;return t.activeTab===e&&(i=s[Math.min(a,s.length-1)]),{...t,tabs:s,activeTab:s.includes(i)?i:s[0]}}const n=fk(t.children[0],e),r=fk(t.children[1],e);return!n&&!r?null:n?r?{...t,children:[n,r]}:n:r}function dd(t,e){const n=fk(t.root,e);if(!n)return Hu("costs");const a=pa(n,t.focusedTabsetId)!==null?t.focusedTabsetId:nf(n)??"tabset-1";return{...t,root:n,focusedTabsetId:a}}function vu(t,e,n){return t.type==="tabset"?t.id!==e?t:n(t):{...t,children:[vu(t.children[0],e,n),vu(t.children[1],e,n)]}}function km(t,e){return t.focusedTabsetId===e?t:{...t,focusedTabsetId:e}}function _m(t,e,n){const r=pa(t.root,e);return r?.type!=="tabset"||r.activeTab===n&&r.tabs.includes(n)?t:{...t,root:vu(t.root,e,a=>{const s=a.tabs.includes(n)?a.tabs:[...a.tabs,n];return{...a,tabs:s,activeTab:n}})}}function L0e(t,e,n,r){const a=pa(t.root,e);return a?.type!=="tabset"||n===r||n<0||r<0||n>=a.tabs.length||r>=a.tabs.length?t:{...t,root:vu(t.root,e,s=>{const i=[...s.tabs],[o]=i.splice(n,1);return o?(i.splice(r,0,o),{...s,tabs:i}):s})}}function O0e(t,e){const n=pa(t.root,t.focusedTabsetId);return n?.type!=="tabset"||n.activeTab===e&&n.tabs.includes(e)?t:{...t,root:vu(t.root,n.id,r=>{const a=r.tabs.includes(e)?r.tabs:[...r.tabs,e];return{...r,tabs:a,activeTab:e}})}}function kT(t,e){const n=pa(t.root,t.focusedTabsetId);if(n?.type!=="tabset")return t;const r=Z1(t,"split"),a=Z1({...t,nextId:r.nextId},"tabset"),s=n.activeTab==="terminal"?"costs":(n.activeTab==="costs","terminal");let i=n,o;const c=a.id;if(n.tabs.length>1){const m=n.activeTab,h=n.tabs.filter(f=>f!==m),p=h[0]??"costs";i={...n,tabs:h,activeTab:p},o={type:"tabset",id:a.id,tabs:[m],activeTab:m}}else o={type:"tabset",id:a.id,tabs:[s],activeTab:s};const u={type:"split",id:r.id,direction:e,sizes:[50,50],children:[i,o]},d=m=>m.type==="tabset"?m.id===n.id?u:m:{...m,children:[d(m.children[0]),d(m.children[1])]};return{...t,nextId:a.nextId,focusedTabsetId:c,root:d(t.root)}}function P0e(t,e,n){const r=a=>a.type==="split"?a.id===e?{...a,sizes:n}:{...a,children:[r(a.children[0]),r(a.children[1])]}:a;return{...t,root:r(t.root)}}function Qd(t){return t.type==="tabset"?[...t.tabs]:[...Qd(t.children[0]),...Qd(t.children[1])]}function Jd(t){return t.type==="tabset"?t.tabs.map(e=>({tab:e,tabsetId:t.id})):[...Jd(t.children[0]),...Jd(t.children[1])]}function F0e(t,e){const n=Jd(t.root);if(e<0||e>=n.length)return t;const{tab:r,tabsetId:a}=n[e];return _m(km(t,a),a,r)}function B0e(t,e){const n=pa(t.root,t.focusedTabsetId);return n?.type==="tabset"?n.activeTab:e}function z0e(t,e){return O0e(t,e)}function Xh(t,e,n=!0){const r=pa(t.root,t.focusedTabsetId);return r?.type!=="tabset"?t:r.tabs.includes(e)?n&&r.activeTab!==e?{...t,root:vu(t.root,r.id,a=>({...a,activeTab:e}))}:t:{...t,root:vu(t.root,r.id,a=>({...a,tabs:[...a.tabs,e],activeTab:n?e:a.activeTab}))}}function Tw(t,e,n,r){if(n===r)return _m(t,r,e);const a=pa(t.root,n),s=pa(t.root,r);if(a?.type!=="tabset"||s?.type!=="tabset"||!a.tabs.includes(e))return t;const i=u=>{if(u.type==="tabset"){if(u.id===n){const h=u.tabs.filter(f=>f!==e);if(h.length===0)return null;const p=u.activeTab===e?h[0]:u.activeTab;return{...u,tabs:h,activeTab:p}}if(u.id===r){const h=s.tabs.includes(e)?s.tabs:[...s.tabs,e];return{...u,tabs:h,activeTab:e}}return u}const d=i(u.children[0]),m=i(u.children[1]);return d===null&&m===null?null:d===null?m:m===null?d:{...u,children:[d,m]}},o=i(t.root);if(o===null)return t;let c=r;return pa(o,c)===null&&(c=nf(o)??r),{...t,focusedTabsetId:c,root:o}}function H0e(t){return t==="terminal"?"costs":"terminal"}function q0e(t,e,n,r,a){const s=pa(t.root,n),i=pa(t.root,r);if(s?.type!=="tabset"||i?.type!=="tabset"||!s.tabs.includes(e))return t;const o=a==="top"||a==="bottom"?"horizontal":"vertical",c=a==="top"||a==="left",u=Z1(t,"split"),d=Z1({...t,nextId:u.nextId},"tabset"),m={type:"tabset",id:d.id,tabs:[e],activeTab:e},h=g=>{if(g.type==="tabset"){if(g.id===r){let w=g;if(n===r){const k=g.tabs.filter(T=>T!==e),C=H0e(e),_=k.length>0?k:[C],S=g.activeTab===e||!_.includes(g.activeTab)?_[0]:g.activeTab;w={...g,tabs:_,activeTab:S}}const v=c?[m,w]:[w,m];return{type:"split",id:u.id,direction:o,sizes:[50,50],children:v}}if(g.id===n){if(n===r)return g;const w=g.tabs.filter(k=>k!==e);if(w.length===0)return null;const v=g.activeTab===e?w[0]:g.activeTab;return{...g,tabs:w,activeTab:v}}return g}const x=h(g.children[0]),y=h(g.children[1]);return x===null&&y===null?null:x===null?y:y===null?x:{...g,children:[x,y]}},p=h(t.root);if(p===null)return t;const f=d.id;return{...t,nextId:d.nextId,focusedTabsetId:pa(p,f)?f:t.focusedTabsetId,root:p}}function U0e(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b.useMemo(()=>r=>{e.forEach(a=>a(r))},e)}const yy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zm(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function SC(t){return"nodeType"in t}function ss(t){var e,n;return t?Zm(t)?t:SC(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function jC(t){const{Document:e}=ss(t);return t instanceof e}function Uf(t){return Zm(t)?!1:t instanceof ss(t).HTMLElement}function bO(t){return t instanceof ss(t).SVGElement}function Qm(t){return t?Zm(t)?t.document:SC(t)?jC(t)?t:Uf(t)||bO(t)?t.ownerDocument:document:document:document}const Ri=yy?b.useLayoutEffect:b.useEffect;function wy(t){const e=b.useRef(t);return Ri(()=>{e.current=t}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}function W0e(){const t=b.useRef(null),e=b.useCallback((r,a)=>{t.current=setInterval(r,a)},[]),n=b.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function rf(t,e){e===void 0&&(e=[t]);const n=b.useRef(t);return Ri(()=>{n.current!==t&&(n.current=t)},e),n}function Wf(t,e){const n=b.useRef();return b.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Q1(t){const e=wy(t),n=b.useRef(null),r=b.useCallback(a=>{a!==n.current&&e?.(a,n.current),n.current=a},[]);return[n,r]}function J1(t){const e=b.useRef();return b.useEffect(()=>{e.current=t},[t]),e.current}let Ew={};function Gf(t,e){return b.useMemo(()=>{if(e)return e;const n=Ew[t]==null?0:Ew[t]+1;return Ew[t]=n,t+"-"+n},[t,e])}function xO(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((s,i)=>{const o=Object.entries(i);for(const[c,u]of o){const d=s[c];d!=null&&(s[c]=d+t*u)}return s},{...e})}}const em=xO(1),eb=xO(-1);function G0e(t){return"clientX"in t&&"clientY"in t}function vy(t){if(!t)return!1;const{KeyboardEvent:e}=ss(t.target);return e&&t instanceof e}function V0e(t){if(!t)return!1;const{TouchEvent:e}=ss(t.target);return e&&t instanceof e}function tb(t){if(V0e(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return G0e(t)?{x:t.clientX,y:t.clientY}:null}const Ql=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[Ql.Translate.toString(t),Ql.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),_T="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function K0e(t){return t.matches(_T)?t:t.querySelector(_T)}const Y0e={display:"none"};function X0e(t){let{id:e,value:n}=t;return xe.createElement("div",{id:e,style:Y0e},n)}function Z0e(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return xe.createElement("div",{id:e,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function Q0e(){const[t,e]=b.useState("");return{announce:b.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const yO=b.createContext(null);function J0e(t){const e=b.useContext(yO);b.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function ege(){const[t]=b.useState(()=>new Set),e=b.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[b.useCallback(r=>{let{type:a,event:s}=r;t.forEach(i=>{var o;return(o=i[a])==null?void 0:o.call(i,s)})},[t]),e]}const tge={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},nge={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function rge(t){let{announcements:e=nge,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=tge}=t;const{announce:s,announcement:i}=Q0e(),o=Gf("DndLiveRegion"),[c,u]=b.useState(!1);if(b.useEffect(()=>{u(!0)},[]),J0e(b.useMemo(()=>({onDragStart(m){let{active:h}=m;s(e.onDragStart({active:h}))},onDragMove(m){let{active:h,over:p}=m;e.onDragMove&&s(e.onDragMove({active:h,over:p}))},onDragOver(m){let{active:h,over:p}=m;s(e.onDragOver({active:h,over:p}))},onDragEnd(m){let{active:h,over:p}=m;s(e.onDragEnd({active:h,over:p}))},onDragCancel(m){let{active:h,over:p}=m;s(e.onDragCancel({active:h,over:p}))}}),[s,e])),!c)return null;const d=xe.createElement(xe.Fragment,null,xe.createElement(X0e,{id:r,value:a.draggable}),xe.createElement(Z0e,{id:o,announcement:i}));return n?Ys.createPortal(d,n):d}var Jr;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Jr||(Jr={}));function nb(){}function age(t,e){return b.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function sge(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Mi=Object.freeze({x:0,y:0});function ige(t,e){const n=tb(t);if(!n)return"0 0";const r={x:(n.x-e.left)/e.width*100,y:(n.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function oge(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function lge(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function cge(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),i=a-r,o=s-n;if(r<a&&n<s){const c=e.width*e.height,u=t.width*t.height,d=i*o,m=d/(c+u-d);return Number(m.toFixed(4))}return 0}const uge=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const a=[];for(const s of r){const{id:i}=s,o=n.get(i);if(o){const c=cge(o,e);c>0&&a.push({id:i,data:{droppableContainer:s,value:c}})}}return a.sort(oge)};function dge(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function wO(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Mi}function mge(t){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return a.reduce((i,o)=>({...i,top:i.top+t*o.y,bottom:i.bottom+t*o.y,left:i.left+t*o.x,right:i.right+t*o.x}),{...n})}}const hge=mge(1);function vO(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function pge(t,e,n){const r=vO(e);if(!r)return t;const{scaleX:a,scaleY:s,x:i,y:o}=r,c=t.left-i-(1-a)*parseFloat(n),u=t.top-o-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=a?t.width/a:t.width,m=s?t.height/s:t.height;return{width:d,height:m,top:u,right:c+d,bottom:u+m,left:c}}const fge={ignoreTransform:!1};function Jm(t,e){e===void 0&&(e=fge);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=ss(t).getComputedStyle(t);u&&(n=pge(n,u,d))}const{top:r,left:a,width:s,height:i,bottom:o,right:c}=n;return{top:r,left:a,width:s,height:i,bottom:o,right:c}}function CT(t){return Jm(t,{ignoreTransform:!0})}function gge(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function bge(t,e){return e===void 0&&(e=ss(t).getComputedStyle(t)),e.position==="fixed"}function xge(t,e){e===void 0&&(e=ss(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const s=e[a];return typeof s=="string"?n.test(s):!1})}function TC(t,e){const n=[];function r(a){if(e!=null&&n.length>=e||!a)return n;if(jC(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Uf(a)||bO(a)||n.includes(a))return n;const s=ss(t).getComputedStyle(a);return a!==t&&xge(a,s)&&n.push(a),bge(a,s)?n:r(a.parentNode)}return t?r(t):n}function kO(t){const[e]=TC(t,1);return e??null}function Nw(t){return!yy||!t?null:Zm(t)?t:SC(t)?jC(t)||t===Qm(t).scrollingElement?window:Uf(t)?t:null:null}function _O(t){return Zm(t)?t.scrollX:t.scrollLeft}function CO(t){return Zm(t)?t.scrollY:t.scrollTop}function gk(t){return{x:_O(t),y:CO(t)}}var ma;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(ma||(ma={}));function SO(t){return!yy||!t?!1:t===document.scrollingElement}function jO(t){const e={x:0,y:0},n=SO(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},a=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,i=t.scrollTop>=r.y,o=t.scrollLeft>=r.x;return{isTop:a,isLeft:s,isBottom:i,isRight:o,maxScroll:r,minScroll:e}}const yge={x:.2,y:.2};function wge(t,e,n,r,a){let{top:s,left:i,right:o,bottom:c}=n;r===void 0&&(r=10),a===void 0&&(a=yge);const{isTop:u,isBottom:d,isLeft:m,isRight:h}=jO(t),p={x:0,y:0},f={x:0,y:0},g={height:e.height*a.y,width:e.width*a.x};return!u&&s<=e.top+g.height?(p.y=ma.Backward,f.y=r*Math.abs((e.top+g.height-s)/g.height)):!d&&c>=e.bottom-g.height&&(p.y=ma.Forward,f.y=r*Math.abs((e.bottom-g.height-c)/g.height)),!h&&o>=e.right-g.width?(p.x=ma.Forward,f.x=r*Math.abs((e.right-g.width-o)/g.width)):!m&&i<=e.left+g.width&&(p.x=ma.Backward,f.x=r*Math.abs((e.left+g.width-i)/g.width)),{direction:p,speed:f}}function vge(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:i}=window;return{top:0,left:0,right:s,bottom:i,width:s,height:i}}const{top:e,left:n,right:r,bottom:a}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:a,width:t.clientWidth,height:t.clientHeight}}function TO(t){return t.reduce((e,n)=>em(e,gk(n)),Mi)}function kge(t){return t.reduce((e,n)=>e+_O(n),0)}function _ge(t){return t.reduce((e,n)=>e+CO(n),0)}function EO(t,e){if(e===void 0&&(e=Jm),!t)return;const{top:n,left:r,bottom:a,right:s}=e(t);kO(t)&&(a<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const Cge=[["x",["left","right"],kge],["y",["top","bottom"],_ge]];class EC{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=TC(n),a=TO(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,i,o]of Cge)for(const c of i)Object.defineProperty(this,c,{get:()=>{const u=o(r),d=a[s]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class fp{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var a;(a=this.target)==null||a.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function Sge(t){const{EventTarget:e}=ss(t);return t instanceof e?t:Qm(t)}function $w(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Us;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Us||(Us={}));function ST(t){t.preventDefault()}function jge(t){t.stopPropagation()}var Qn;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Qn||(Qn={}));const NO={start:[Qn.Space,Qn.Enter],cancel:[Qn.Esc],end:[Qn.Space,Qn.Enter,Qn.Tab]},Tge=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Qn.Right:return{...n,x:n.x+25};case Qn.Left:return{...n,x:n.x-25};case Qn.Down:return{...n,y:n.y+25};case Qn.Up:return{...n,y:n.y-25}}};class $O{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new fp(Qm(n)),this.windowListeners=new fp(ss(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Us.Resize,this.handleCancel),this.windowListeners.add(Us.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Us.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&EO(r),n(Mi)}handleKeyDown(e){if(vy(e)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:s=NO,coordinateGetter:i=Tge,scrollBehavior:o="smooth"}=a,{code:c}=e;if(s.end.includes(c)){this.handleEnd(e);return}if(s.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Mi;this.referenceCoordinates||(this.referenceCoordinates=d);const m=i(e,{active:n,context:r.current,currentCoordinates:d});if(m){const h=eb(m,d),p={x:0,y:0},{scrollableAncestors:f}=r.current;for(const g of f){const x=e.code,{isTop:y,isRight:w,isLeft:v,isBottom:k,maxScroll:C,minScroll:_}=jO(g),S=vge(g),T={x:Math.min(x===Qn.Right?S.right-S.width/2:S.right,Math.max(x===Qn.Right?S.left:S.left+S.width/2,m.x)),y:Math.min(x===Qn.Down?S.bottom-S.height/2:S.bottom,Math.max(x===Qn.Down?S.top:S.top+S.height/2,m.y))},N=x===Qn.Right&&!w||x===Qn.Left&&!v,j=x===Qn.Down&&!k||x===Qn.Up&&!y;if(N&&T.x!==m.x){const R=g.scrollLeft+h.x,I=x===Qn.Right&&R<=C.x||x===Qn.Left&&R>=_.x;if(I&&!h.y){g.scrollTo({left:R,behavior:o});return}I?p.x=g.scrollLeft-R:p.x=x===Qn.Right?g.scrollLeft-C.x:g.scrollLeft-_.x,p.x&&g.scrollBy({left:-p.x,behavior:o});break}else if(j&&T.y!==m.y){const R=g.scrollTop+h.y,I=x===Qn.Down&&R<=C.y||x===Qn.Up&&R>=_.y;if(I&&!h.x){g.scrollTo({top:R,behavior:o});return}I?p.y=g.scrollTop-R:p.y=x===Qn.Down?g.scrollTop-C.y:g.scrollTop-_.y,p.y&&g.scrollBy({top:-p.y,behavior:o});break}}this.handleMove(e,em(eb(m,this.referenceCoordinates),p))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}$O.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=NO,onActivation:a}=e,{active:s}=n;const{code:i}=t.nativeEvent;if(r.start.includes(i)){const o=s.activatorNode.current;return o&&t.target!==o?!1:(t.preventDefault(),a?.({event:t.nativeEvent}),!0)}return!1}}];function jT(t){return!!(t&&"distance"in t)}function TT(t){return!!(t&&"delay"in t)}class NC{constructor(e,n,r){var a;r===void 0&&(r=Sge(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:i}=s;this.props=e,this.events=n,this.document=Qm(i),this.documentListeners=new fp(this.document),this.listeners=new fp(r),this.windowListeners=new fp(ss(i)),this.initialCoordinates=(a=tb(s))!=null?a:Mi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Us.Resize,this.handleCancel),this.windowListeners.add(Us.DragStart,ST),this.windowListeners.add(Us.VisibilityChange,this.handleCancel),this.windowListeners.add(Us.ContextMenu,ST),this.documentListeners.add(Us.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(TT(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(jT(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:a}=this.props;a(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Us.Click,jge,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Us.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:a,props:s}=this,{onMove:i,options:{activationConstraint:o}}=s;if(!a)return;const c=(n=tb(e))!=null?n:Mi,u=eb(a,c);if(!r&&o){if(jT(o)){if(o.tolerance!=null&&$w(u,o.tolerance))return this.handleCancel();if($w(u,o.distance))return this.handleStart()}if(TT(o)&&$w(u,o.tolerance))return this.handleCancel();this.handlePending(o,u);return}e.cancelable&&e.preventDefault(),i(c)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Qn.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Ege={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class $C extends NC{constructor(e){const{event:n}=e,r=Qm(n.target);super(e,Ege,r)}}$C.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const Nge={move:{name:"mousemove"},end:{name:"mouseup"}};var bk;(function(t){t[t.RightClick=2]="RightClick"})(bk||(bk={}));class $ge extends NC{constructor(e){super(e,Nge,Qm(e.event.target))}}$ge.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===bk.RightClick?!1:(r?.({event:n}),!0)}}];const Aw={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Age extends NC{constructor(e){super(e,Aw)}static setup(){return window.addEventListener(Aw.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Aw.move.name,e)};function e(){}}}Age.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:a}=n;return a.length>1?!1:(r?.({event:n}),!0)}}];var gp;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(gp||(gp={}));var rb;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(rb||(rb={}));function Ige(t){let{acceleration:e,activator:n=gp.Pointer,canScroll:r,draggingRect:a,enabled:s,interval:i=5,order:o=rb.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:m,threshold:h}=t;const p=Mge({delta:m,disabled:!s}),[f,g]=W0e(),x=b.useRef({x:0,y:0}),y=b.useRef({x:0,y:0}),w=b.useMemo(()=>{switch(n){case gp.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case gp.DraggableRect:return a}},[n,a,c]),v=b.useRef(null),k=b.useCallback(()=>{const _=v.current;if(!_)return;const S=x.current.x*y.current.x,T=x.current.y*y.current.y;_.scrollBy(S,T)},[]),C=b.useMemo(()=>o===rb.TreeOrder?[...u].reverse():u,[o,u]);b.useEffect(()=>{if(!s||!u.length||!w){g();return}for(const _ of C){if(r?.(_)===!1)continue;const S=u.indexOf(_),T=d[S];if(!T)continue;const{direction:N,speed:j}=wge(_,T,w,e,h);for(const R of["x","y"])p[R][N[R]]||(j[R]=0,N[R]=0);if(j.x>0||j.y>0){g(),v.current=_,f(k,i),x.current=j,y.current=N;return}}x.current={x:0,y:0},y.current={x:0,y:0},g()},[e,k,r,g,s,i,JSON.stringify(w),JSON.stringify(p),f,u,C,d,JSON.stringify(h)])}const Rge={x:{[ma.Backward]:!1,[ma.Forward]:!1},y:{[ma.Backward]:!1,[ma.Forward]:!1}};function Mge(t){let{delta:e,disabled:n}=t;const r=J1(e);return Wf(a=>{if(n||!r||!a)return Rge;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[ma.Backward]:a.x[ma.Backward]||s.x===-1,[ma.Forward]:a.x[ma.Forward]||s.x===1},y:{[ma.Backward]:a.y[ma.Backward]||s.y===-1,[ma.Forward]:a.y[ma.Forward]||s.y===1}}},[n,e,r])}function Dge(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Wf(a=>{var s;return e==null?null:(s=r??a)!=null?s:null},[r,e])}function Lge(t,e){return b.useMemo(()=>t.reduce((n,r)=>{const{sensor:a}=r,s=a.activators.map(i=>({eventName:i.eventName,handler:e(i.handler,r)}));return[...n,...s]},[]),[t,e])}var af;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(af||(af={}));var xk;(function(t){t.Optimized="optimized"})(xk||(xk={}));const ET=new Map;function Oge(t,e){let{dragging:n,dependencies:r,config:a}=e;const[s,i]=b.useState(null),{frequency:o,measure:c,strategy:u}=a,d=b.useRef(t),m=x(),h=rf(m),p=b.useCallback(function(y){y===void 0&&(y=[]),!h.current&&i(w=>w===null?y:w.concat(y.filter(v=>!w.includes(v))))},[h]),f=b.useRef(null),g=Wf(y=>{if(m&&!n)return ET;if(!y||y===ET||d.current!==t||s!=null){const w=new Map;for(let v of t){if(!v)continue;if(s&&s.length>0&&!s.includes(v.id)&&v.rect.current){w.set(v.id,v.rect.current);continue}const k=v.node.current,C=k?new EC(c(k),k):null;v.rect.current=C,C&&w.set(v.id,C)}return w}return y},[t,s,n,m,c]);return b.useEffect(()=>{d.current=t},[t]),b.useEffect(()=>{m||p()},[n,m]),b.useEffect(()=>{s&&s.length>0&&i(null)},[JSON.stringify(s)]),b.useEffect(()=>{m||typeof o!="number"||f.current!==null||(f.current=setTimeout(()=>{p(),f.current=null},o))},[o,m,p,...r]),{droppableRects:g,measureDroppableContainers:p,measuringScheduled:s!=null};function x(){switch(u){case af.Always:return!1;case af.BeforeDragging:return n;default:return!n}}}function AC(t,e){return Wf(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function Pge(t,e){return AC(t,e)}function Fge(t){let{callback:e,disabled:n}=t;const r=wy(e),a=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return b.useEffect(()=>()=>a?.disconnect(),[a]),a}function ky(t){let{callback:e,disabled:n}=t;const r=wy(e),a=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return b.useEffect(()=>()=>a?.disconnect(),[a]),a}function Bge(t){return new EC(Jm(t),t)}function NT(t,e,n){e===void 0&&(e=Bge);const[r,a]=b.useState(null);function s(){a(c=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=e(t);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const i=Fge({callback(c){if(t)for(const u of c){const{type:d,target:m}=u;if(d==="childList"&&m instanceof HTMLElement&&m.contains(t)){s();break}}}}),o=ky({callback:s});return Ri(()=>{s(),t?(o?.observe(t),i?.observe(document.body,{childList:!0,subtree:!0})):(o?.disconnect(),i?.disconnect())},[t]),r}function zge(t){const e=AC(t);return wO(t,e)}const $T=[];function Hge(t){const e=b.useRef(t),n=Wf(r=>t?r&&r!==$T&&t&&e.current&&t.parentNode===e.current.parentNode?r:TC(t):$T,[t]);return b.useEffect(()=>{e.current=t},[t]),n}function qge(t){const[e,n]=b.useState(null),r=b.useRef(t),a=b.useCallback(s=>{const i=Nw(s.target);i&&n(o=>o?(o.set(i,gk(i)),new Map(o)):null)},[]);return b.useEffect(()=>{const s=r.current;if(t!==s){i(s);const o=t.map(c=>{const u=Nw(c);return u?(u.addEventListener("scroll",a,{passive:!0}),[u,gk(u)]):null}).filter(c=>c!=null);n(o.length?new Map(o):null),r.current=t}return()=>{i(t),i(s)};function i(o){o.forEach(c=>{const u=Nw(c);u?.removeEventListener("scroll",a)})}},[a,t]),b.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,i)=>em(s,i),Mi):TO(t):Mi,[t,e])}function AT(t,e){e===void 0&&(e=[]);const n=b.useRef(null);return b.useEffect(()=>{n.current=null},e),b.useEffect(()=>{const r=t!==Mi;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?eb(t,n.current):Mi}function Uge(t){b.useEffect(()=>{if(!yy)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n?.()}},t.map(e=>{let{sensor:n}=e;return n}))}function Wge(t,e){return b.useMemo(()=>t.reduce((n,r)=>{let{eventName:a,handler:s}=r;return n[a]=i=>{s(i,e)},n},{}),[t,e])}function AO(t){return b.useMemo(()=>t?gge(t):null,[t])}const IT=[];function Gge(t,e){e===void 0&&(e=Jm);const[n]=t,r=AO(n?ss(n):null),[a,s]=b.useState(IT);function i(){s(()=>t.length?t.map(c=>SO(c)?r:new EC(e(c),c)):IT)}const o=ky({callback:i});return Ri(()=>{o?.disconnect(),i(),t.forEach(c=>o?.observe(c))},[t]),a}function IO(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Uf(e)?e:t}function Vge(t){let{measure:e}=t;const[n,r]=b.useState(null),a=b.useCallback(u=>{for(const{target:d}of u)if(Uf(d)){r(m=>{const h=e(d);return m?{...m,width:h.width,height:h.height}:h});break}},[e]),s=ky({callback:a}),i=b.useCallback(u=>{const d=IO(u);s?.disconnect(),d&&s?.observe(d),r(d?e(d):null)},[e,s]),[o,c]=Q1(i);return b.useMemo(()=>({nodeRef:o,rect:n,setRef:c}),[n,o,c])}const Kge=[{sensor:$C,options:{}},{sensor:$O,options:{}}],Yge={current:{}},qg={draggable:{measure:CT},droppable:{measure:CT,strategy:af.WhileDragging,frequency:xk.Optimized},dragOverlay:{measure:Jm}};class bp extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const Xge={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new bp,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:nb},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:qg,measureDroppableContainers:nb,windowRect:null,measuringScheduled:!1},RO={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:nb,draggableNodes:new Map,over:null,measureDroppableContainers:nb},Vf=b.createContext(RO),MO=b.createContext(Xge);function Zge(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new bp}}}function Qge(t,e){switch(e.type){case Jr.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Jr.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Jr.DragEnd:case Jr.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Jr.RegisterDroppable:{const{element:n}=e,{id:r}=n,a=new bp(t.droppable.containers);return a.set(r,n),{...t,droppable:{...t.droppable,containers:a}}}case Jr.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const i=new bp(t.droppable.containers);return i.set(n,{...s,disabled:a}),{...t,droppable:{...t.droppable,containers:i}}}case Jr.UnregisterDroppable:{const{id:n,key:r}=e,a=t.droppable.containers.get(n);if(!a||r!==a.key)return t;const s=new bp(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function Jge(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:a}=b.useContext(Vf),s=J1(r),i=J1(n?.id);return b.useEffect(()=>{if(!e&&!r&&s&&i!=null){if(!vy(s)||document.activeElement===s.target)return;const o=a.get(i);if(!o)return;const{activatorNode:c,node:u}=o;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const m=K0e(d);if(m){m.focus();break}}})}},[r,e,a,i,s]),null}function DO(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((a,s)=>s({transform:a,...r}),n):n}function e1e(t){return b.useMemo(()=>({draggable:{...qg.draggable,...t?.draggable},droppable:{...qg.droppable,...t?.droppable},dragOverlay:{...qg.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function t1e(t){let{activeNode:e,measure:n,initialRect:r,config:a=!0}=t;const s=b.useRef(!1),{x:i,y:o}=typeof a=="boolean"?{x:a,y:a}:a;Ri(()=>{if(!i&&!o||!e){s.current=!1;return}if(s.current||!r)return;const u=e?.node.current;if(!u||u.isConnected===!1)return;const d=n(u),m=wO(d,r);if(i||(m.x=0),o||(m.y=0),s.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const h=kO(u);h&&h.scrollBy({top:m.y,left:m.x})}},[e,i,o,r,n])}const _y=b.createContext({...Mi,scaleX:1,scaleY:1});var Ml;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Ml||(Ml={}));const n1e=b.memo(function(e){var n,r,a,s;let{id:i,accessibility:o,autoScroll:c=!0,children:u,sensors:d=Kge,collisionDetection:m=uge,measuring:h,modifiers:p,...f}=e;const g=b.useReducer(Qge,void 0,Zge),[x,y]=g,[w,v]=ege(),[k,C]=b.useState(Ml.Uninitialized),_=k===Ml.Initialized,{draggable:{active:S,nodes:T,translate:N},droppable:{containers:j}}=x,R=S!=null?T.get(S):null,I=b.useRef({initial:null,translated:null}),A=b.useMemo(()=>{var qe;return S!=null?{id:S,data:(qe=R?.data)!=null?qe:Yge,rect:I}:null},[S,R]),$=b.useRef(null),[E,M]=b.useState(null),[F,L]=b.useState(null),Y=rf(f,Object.values(f)),O=Gf("DndDescribedBy",i),G=b.useMemo(()=>j.getEnabled(),[j]),H=e1e(h),{droppableRects:D,measureDroppableContainers:U,measuringScheduled:B}=Oge(G,{dragging:_,dependencies:[N.x,N.y],config:H.droppable}),q=Dge(T,S),V=b.useMemo(()=>F?tb(F):null,[F]),Z=Ze(),W=Pge(q,H.draggable.measure);t1e({activeNode:S!=null?T.get(S):null,config:Z.layoutShiftCompensation,initialRect:W,measure:H.draggable.measure});const K=NT(q,H.draggable.measure,W),J=NT(q?q.parentElement:null),ee=b.useRef({activatorEvent:null,active:null,activeNode:q,collisionRect:null,collisions:null,droppableRects:D,draggableNodes:T,draggingNode:null,draggingNodeRect:null,droppableContainers:j,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),se=j.getNodeFor((n=ee.current.over)==null?void 0:n.id),re=Vge({measure:H.dragOverlay.measure}),ue=(r=re.nodeRef.current)!=null?r:q,he=_?(a=re.rect)!=null?a:K:null,ke=!!(re.nodeRef.current&&re.rect),je=zge(ke?null:K),_e=AO(ue?ss(ue):null),ge=Hge(_?se??q:null),ve=Gge(ge),De=DO(p,{transform:{x:N.x-je.x,y:N.y-je.y,scaleX:1,scaleY:1},activatorEvent:F,active:A,activeNodeRect:K,containerNodeRect:J,draggingNodeRect:he,over:ee.current.over,overlayNodeRect:re.rect,scrollableAncestors:ge,scrollableAncestorRects:ve,windowRect:_e}),$e=V?em(V,N):null,Qe=qge(ge),Be=AT(Qe),ie=AT(Qe,[K]),Te=em(De,Be),Ne=he?hge(he,De):null,Re=A&&Ne?m({active:A,collisionRect:Ne,droppableRects:D,droppableContainers:G,pointerCoordinates:$e}):null,Le=lge(Re,"id"),[Ae,bt]=b.useState(null),nt=ke?De:em(De,ie),ct=dge(nt,(s=Ae?.rect)!=null?s:null,K),pt=b.useRef(null),be=b.useCallback((qe,ft)=>{let{sensor:Et,options:At}=ft;if($.current==null)return;const dt=T.get($.current);if(!dt)return;const Mt=qe.nativeEvent,Gt=new Et({active:$.current,activeNode:dt,event:Mt,options:At,context:ee,onAbort(It){if(!T.get(It))return;const{onDragAbort:Vt}=Y.current,qt={id:It};Vt?.(qt),w({type:"onDragAbort",event:qt})},onPending(It,zt,Vt,qt){if(!T.get(It))return;const{onDragPending:et}=Y.current,rt={id:It,constraint:zt,initialCoordinates:Vt,offset:qt};et?.(rt),w({type:"onDragPending",event:rt})},onStart(It){const zt=$.current;if(zt==null)return;const Vt=T.get(zt);if(!Vt)return;const{onDragStart:qt}=Y.current,Pt={activatorEvent:Mt,active:{id:zt,data:Vt.data,rect:I}};Ys.unstable_batchedUpdates(()=>{qt?.(Pt),C(Ml.Initializing),y({type:Jr.DragStart,initialCoordinates:It,active:zt}),w({type:"onDragStart",event:Pt}),M(pt.current),L(Mt)})},onMove(It){y({type:Jr.DragMove,coordinates:It})},onEnd:tn(Jr.DragEnd),onCancel:tn(Jr.DragCancel)});pt.current=Gt;function tn(It){return async function(){const{active:Vt,collisions:qt,over:Pt,scrollAdjustedTranslate:et}=ee.current;let rt=null;if(Vt&&et){const{cancelDrop:jt}=Y.current;rt={activatorEvent:Mt,active:Vt,collisions:qt,delta:et,over:Pt},It===Jr.DragEnd&&typeof jt=="function"&&await Promise.resolve(jt(rt))&&(It=Jr.DragCancel)}$.current=null,Ys.unstable_batchedUpdates(()=>{y({type:It}),C(Ml.Uninitialized),bt(null),M(null),L(null),pt.current=null;const jt=It===Jr.DragEnd?"onDragEnd":"onDragCancel";if(rt){const ze=Y.current[jt];ze?.(rt),w({type:jt,event:rt})}})}}},[T]),We=b.useCallback((qe,ft)=>(Et,At)=>{const dt=Et.nativeEvent,Mt=T.get(At);if($.current!==null||!Mt||dt.dndKit||dt.defaultPrevented)return;const Gt={active:Mt};qe(Et,ft.options,Gt)===!0&&(dt.dndKit={capturedBy:ft.sensor},$.current=At,be(Et,ft))},[T,be]),He=Lge(d,We);Uge(d),Ri(()=>{K&&k===Ml.Initializing&&C(Ml.Initialized)},[K,k]),b.useEffect(()=>{const{onDragMove:qe}=Y.current,{active:ft,activatorEvent:Et,collisions:At,over:dt}=ee.current;if(!ft||!Et)return;const Mt={active:ft,activatorEvent:Et,collisions:At,delta:{x:Te.x,y:Te.y},over:dt};Ys.unstable_batchedUpdates(()=>{qe?.(Mt),w({type:"onDragMove",event:Mt})})},[Te.x,Te.y]),b.useEffect(()=>{const{active:qe,activatorEvent:ft,collisions:Et,droppableContainers:At,scrollAdjustedTranslate:dt}=ee.current;if(!qe||$.current==null||!ft||!dt)return;const{onDragOver:Mt}=Y.current,Gt=At.get(Le),tn=Gt&&Gt.rect.current?{id:Gt.id,rect:Gt.rect.current,data:Gt.data,disabled:Gt.disabled}:null,It={active:qe,activatorEvent:ft,collisions:Et,delta:{x:dt.x,y:dt.y},over:tn};Ys.unstable_batchedUpdates(()=>{bt(tn),Mt?.(It),w({type:"onDragOver",event:It})})},[Le]),Ri(()=>{ee.current={activatorEvent:F,active:A,activeNode:q,collisionRect:Ne,collisions:Re,droppableRects:D,draggableNodes:T,draggingNode:ue,draggingNodeRect:he,droppableContainers:j,over:Ae,scrollableAncestors:ge,scrollAdjustedTranslate:Te},I.current={initial:he,translated:Ne}},[A,q,Re,Ne,T,ue,he,D,j,Ae,ge,Te]),Ige({...Z,delta:N,draggingRect:Ne,pointerCoordinates:$e,scrollableAncestors:ge,scrollableAncestorRects:ve});const Je=b.useMemo(()=>({active:A,activeNode:q,activeNodeRect:K,activatorEvent:F,collisions:Re,containerNodeRect:J,dragOverlay:re,draggableNodes:T,droppableContainers:j,droppableRects:D,over:Ae,measureDroppableContainers:U,scrollableAncestors:ge,scrollableAncestorRects:ve,measuringConfiguration:H,measuringScheduled:B,windowRect:_e}),[A,q,K,F,Re,J,re,T,j,D,Ae,U,ge,ve,H,B,_e]),ye=b.useMemo(()=>({activatorEvent:F,activators:He,active:A,activeNodeRect:K,ariaDescribedById:{draggable:O},dispatch:y,draggableNodes:T,over:Ae,measureDroppableContainers:U}),[F,He,A,K,y,O,T,Ae,U]);return xe.createElement(yO.Provider,{value:v},xe.createElement(Vf.Provider,{value:ye},xe.createElement(MO.Provider,{value:Je},xe.createElement(_y.Provider,{value:ct},u)),xe.createElement(Jge,{disabled:o?.restoreFocus===!1})),xe.createElement(rge,{...o,hiddenTextDescribedById:O}));function Ze(){const qe=E?.autoScrollEnabled===!1,ft=typeof c=="object"?c.enabled===!1:c===!1,Et=_&&!qe&&!ft;return typeof c=="object"?{...c,enabled:Et}:{enabled:Et}}}),r1e=b.createContext(null),RT="button",a1e="Draggable";function s1e(t){let{id:e,data:n,disabled:r=!1,attributes:a}=t;const s=Gf(a1e),{activators:i,activatorEvent:o,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:m,over:h}=b.useContext(Vf),{role:p=RT,roleDescription:f="draggable",tabIndex:g=0}=a??{},x=c?.id===e,y=b.useContext(x?_y:r1e),[w,v]=Q1(),[k,C]=Q1(),_=Wge(i,e),S=rf(n);Ri(()=>(m.set(e,{id:e,key:s,node:w,activatorNode:k,data:S}),()=>{const N=m.get(e);N&&N.key===s&&m.delete(e)}),[m,e]);const T=b.useMemo(()=>({role:p,tabIndex:g,"aria-disabled":r,"aria-pressed":x&&p===RT?!0:void 0,"aria-roledescription":f,"aria-describedby":d.draggable}),[r,p,g,x,f,d.draggable]);return{active:c,activatorEvent:o,activeNodeRect:u,attributes:T,isDragging:x,listeners:r?void 0:_,node:w,over:h,setNodeRef:v,setActivatorNodeRef:C,transform:y}}function IC(){return b.useContext(MO)}const i1e="Droppable",o1e={timeout:25};function zc(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:a}=t;const s=Gf(i1e),{active:i,dispatch:o,over:c,measureDroppableContainers:u}=b.useContext(Vf),d=b.useRef({disabled:n}),m=b.useRef(!1),h=b.useRef(null),p=b.useRef(null),{disabled:f,updateMeasurementsFor:g,timeout:x}={...o1e,...a},y=rf(g??r),w=b.useCallback(()=>{if(!m.current){m.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(y.current)?y.current:[y.current]),p.current=null},x)},[x]),v=ky({callback:w,disabled:f||!i}),k=b.useCallback((T,N)=>{v&&(N&&(v.unobserve(N),m.current=!1),T&&v.observe(T))},[v]),[C,_]=Q1(k),S=rf(e);return b.useEffect(()=>{!v||!C.current||(v.disconnect(),m.current=!1,v.observe(C.current))},[C,v]),b.useEffect(()=>(o({type:Jr.RegisterDroppable,element:{id:r,key:s,disabled:n,node:C,rect:h,data:S}}),()=>o({type:Jr.UnregisterDroppable,key:s,id:r})),[r]),b.useEffect(()=>{n!==d.current.disabled&&(o({type:Jr.SetDroppableDisabled,id:r,key:s,disabled:n}),d.current.disabled=n)},[r,s,n,o]),{active:i,rect:h,isOver:c?.id===r,node:C,over:c,setNodeRef:_}}function l1e(t){let{animation:e,children:n}=t;const[r,a]=b.useState(null),[s,i]=b.useState(null),o=J1(n);return!n&&!r&&o&&a(o),Ri(()=>{if(!s)return;const c=r?.key,u=r?.props.id;if(c==null||u==null){a(null);return}Promise.resolve(e(u,s)).then(()=>{a(null)})},[e,r,s]),xe.createElement(xe.Fragment,null,n,r?b.cloneElement(r,{ref:i}):null)}const c1e={x:0,y:0,scaleX:1,scaleY:1};function u1e(t){let{children:e}=t;return xe.createElement(Vf.Provider,{value:RO},xe.createElement(_y.Provider,{value:c1e},e))}const d1e={position:"fixed",touchAction:"none"},m1e=t=>vy(t)?"transform 250ms ease":void 0,h1e=b.forwardRef((t,e)=>{let{as:n,activatorEvent:r,adjustScale:a,children:s,className:i,rect:o,style:c,transform:u,transition:d=m1e}=t;if(!o)return null;const m=a?u:{...u,scaleX:1,scaleY:1},h={...d1e,width:o.width,height:o.height,top:o.top,left:o.left,transform:Ql.Transform.toString(m),transformOrigin:a&&r?ige(r,o):void 0,transition:typeof d=="function"?d(r):d,...c};return xe.createElement(n,{className:i,style:h,ref:e},s)}),p1e=t=>e=>{let{active:n,dragOverlay:r}=e;const a={},{styles:s,className:i}=t;if(s!=null&&s.active)for(const[o,c]of Object.entries(s.active))c!==void 0&&(a[o]=n.node.style.getPropertyValue(o),n.node.style.setProperty(o,c));if(s!=null&&s.dragOverlay)for(const[o,c]of Object.entries(s.dragOverlay))c!==void 0&&r.node.style.setProperty(o,c);return i!=null&&i.active&&n.node.classList.add(i.active),i!=null&&i.dragOverlay&&r.node.classList.add(i.dragOverlay),function(){for(const[c,u]of Object.entries(a))n.node.style.setProperty(c,u);i!=null&&i.active&&n.node.classList.remove(i.active)}},f1e=t=>{let{transform:{initial:e,final:n}}=t;return[{transform:Ql.Transform.toString(e)},{transform:Ql.Transform.toString(n)}]},g1e={duration:250,easing:"ease",keyframes:f1e,sideEffects:p1e({styles:{active:{opacity:"0"}}})};function b1e(t){let{config:e,draggableNodes:n,droppableContainers:r,measuringConfiguration:a}=t;return wy((s,i)=>{if(e===null)return;const o=n.get(s);if(!o)return;const c=o.node.current;if(!c)return;const u=IO(i);if(!u)return;const{transform:d}=ss(i).getComputedStyle(i),m=vO(d);if(!m)return;const h=typeof e=="function"?e:x1e(e);return EO(c,a.draggable.measure),h({active:{id:s,data:o.data,node:c,rect:a.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:i,rect:a.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:a,transform:m})})}function x1e(t){const{duration:e,easing:n,sideEffects:r,keyframes:a}={...g1e,...t};return s=>{let{active:i,dragOverlay:o,transform:c,...u}=s;if(!e)return;const d={x:o.rect.left-i.rect.left,y:o.rect.top-i.rect.top},m={scaleX:c.scaleX!==1?i.rect.width*c.scaleX/o.rect.width:1,scaleY:c.scaleY!==1?i.rect.height*c.scaleY/o.rect.height:1},h={x:c.x-d.x,y:c.y-d.y,...m},p=a({...u,active:i,dragOverlay:o,transform:{initial:c,final:h}}),[f]=p,g=p[p.length-1];if(JSON.stringify(f)===JSON.stringify(g))return;const x=r?.({active:i,dragOverlay:o,...u}),y=o.node.animate(p,{duration:e,easing:n,fill:"forwards"});return new Promise(w=>{y.onfinish=()=>{x?.(),w()}})}}let MT=0;function y1e(t){return b.useMemo(()=>{if(t!=null)return MT++,MT},[t])}const w1e=xe.memo(t=>{let{adjustScale:e=!1,children:n,dropAnimation:r,style:a,transition:s,modifiers:i,wrapperElement:o="div",className:c,zIndex:u=999}=t;const{activatorEvent:d,active:m,activeNodeRect:h,containerNodeRect:p,draggableNodes:f,droppableContainers:g,dragOverlay:x,over:y,measuringConfiguration:w,scrollableAncestors:v,scrollableAncestorRects:k,windowRect:C}=IC(),_=b.useContext(_y),S=y1e(m?.id),T=DO(i,{activatorEvent:d,active:m,activeNodeRect:h,containerNodeRect:p,draggingNodeRect:x.rect,over:y,overlayNodeRect:x.rect,scrollableAncestors:v,scrollableAncestorRects:k,transform:_,windowRect:C}),N=AC(h),j=b1e({config:r,draggableNodes:f,droppableContainers:g,measuringConfiguration:w}),R=N?x.setRef:void 0;return xe.createElement(u1e,null,xe.createElement(l1e,{animation:j},m&&S?xe.createElement(h1e,{key:S,id:m.id,ref:R,as:o,activatorEvent:d,adjustScale:e,className:c,transition:s,rect:N,style:{zIndex:u,...a},transform:T},n):null))});function LO(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function v1e(t,e){return t.reduce((n,r,a)=>{const s=e.get(r);return s&&(n[a]=s),n},Array(t.length))}function V0(t){return t!==null&&t>=0}function k1e(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function _1e(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const RC=t=>{let{rects:e,activeIndex:n,overIndex:r,index:a}=t;const s=LO(e,r,n),i=e[a],o=s[a];return!o||!i?null:{x:o.left-i.left,y:o.top-i.top,scaleX:o.width/i.width,scaleY:o.height/i.height}},OO="Sortable",PO=xe.createContext({activeIndex:-1,containerId:OO,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:RC,disabled:{draggable:!1,droppable:!1}});function C1e(t){let{children:e,id:n,items:r,strategy:a=RC,disabled:s=!1}=t;const{active:i,dragOverlay:o,droppableRects:c,over:u,measureDroppableContainers:d}=IC(),m=Gf(OO,n),h=o.rect!==null,p=b.useMemo(()=>r.map(_=>typeof _=="object"&&"id"in _?_.id:_),[r]),f=i!=null,g=i?p.indexOf(i.id):-1,x=u?p.indexOf(u.id):-1,y=b.useRef(p),w=!k1e(p,y.current),v=x!==-1&&g===-1||w,k=_1e(s);Ri(()=>{w&&f&&d(p)},[w,p,f,d]),b.useEffect(()=>{y.current=p},[p]);const C=b.useMemo(()=>({activeIndex:g,containerId:m,disabled:k,disableTransforms:v,items:p,overIndex:x,useDragOverlay:h,sortedRects:v1e(p,c),strategy:a}),[g,m,k.draggable,k.droppable,v,p,x,c,h,a]);return xe.createElement(PO.Provider,{value:C},e)}const S1e=t=>{let{id:e,items:n,activeIndex:r,overIndex:a}=t;return LO(n,r,a).indexOf(e)},j1e=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:a,items:s,newIndex:i,previousItems:o,previousContainerId:c,transition:u}=t;return!u||!r||o!==s&&a===i?!1:n?!0:i!==a&&e===c},T1e={duration:200,easing:"ease"},FO="transform",E1e=Ql.Transition.toString({property:FO,duration:0,easing:"linear"}),N1e={roleDescription:"sortable"};function $1e(t){let{disabled:e,index:n,node:r,rect:a}=t;const[s,i]=b.useState(null),o=b.useRef(n);return Ri(()=>{if(!e&&n!==o.current&&r.current){const c=a.current;if(c){const u=Jm(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&i(d)}}n!==o.current&&(o.current=n)},[e,n,r,a]),b.useEffect(()=>{s&&i(null)},[s]),s}function A1e(t){let{animateLayoutChanges:e=j1e,attributes:n,disabled:r,data:a,getNewIndex:s=S1e,id:i,strategy:o,resizeObserverConfig:c,transition:u=T1e}=t;const{items:d,containerId:m,activeIndex:h,disabled:p,disableTransforms:f,sortedRects:g,overIndex:x,useDragOverlay:y,strategy:w}=b.useContext(PO),v=I1e(r,p),k=d.indexOf(i),C=b.useMemo(()=>({sortable:{containerId:m,index:k,items:d},...a}),[m,a,k,d]),_=b.useMemo(()=>d.slice(d.indexOf(i)),[d,i]),{rect:S,node:T,isOver:N,setNodeRef:j}=zc({id:i,data:C,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:_,...c}}),{active:R,activatorEvent:I,activeNodeRect:A,attributes:$,setNodeRef:E,listeners:M,isDragging:F,over:L,setActivatorNodeRef:Y,transform:O}=s1e({id:i,data:C,attributes:{...N1e,...n},disabled:v.draggable}),G=U0e(j,E),H=!!R,D=H&&!f&&V0(h)&&V0(x),U=!y&&F,B=U&&D?O:null,V=D?B??(o??w)({rects:g,activeNodeRect:A,activeIndex:h,overIndex:x,index:k}):null,Z=V0(h)&&V0(x)?s({id:i,items:d,activeIndex:h,overIndex:x}):k,W=R?.id,K=b.useRef({activeId:W,items:d,newIndex:Z,containerId:m}),J=d!==K.current.items,ee=e({active:R,containerId:m,isDragging:F,isSorting:H,id:i,index:k,items:d,newIndex:K.current.newIndex,previousItems:K.current.items,previousContainerId:K.current.containerId,transition:u,wasDragging:K.current.activeId!=null}),se=$1e({disabled:!ee,index:k,node:T,rect:S});return b.useEffect(()=>{H&&K.current.newIndex!==Z&&(K.current.newIndex=Z),m!==K.current.containerId&&(K.current.containerId=m),d!==K.current.items&&(K.current.items=d)},[H,Z,m,d]),b.useEffect(()=>{if(W===K.current.activeId)return;if(W!=null&&K.current.activeId==null){K.current.activeId=W;return}const ue=setTimeout(()=>{K.current.activeId=W},50);return()=>clearTimeout(ue)},[W]),{active:R,activeIndex:h,attributes:$,data:C,rect:S,index:k,newIndex:Z,items:d,isOver:N,isSorting:H,isDragging:F,listeners:M,node:T,overIndex:x,over:L,setNodeRef:G,setActivatorNodeRef:Y,setDroppableNodeRef:j,setDraggableNodeRef:E,transform:se??V,transition:re()};function re(){if(se||J&&K.current.newIndex===k)return E1e;if(!(U&&!vy(I)||!u)&&(H||ee))return Ql.Transition.toString({...u,property:FO})}}function I1e(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t?.draggable)!=null?n:e.draggable,droppable:(r=t?.droppable)!=null?r:e.droppable}}Qn.Down,Qn.Right,Qn.Up,Qn.Left;const R1e={costs:{name:"Costs",contentClassName:"overflow-y-auto p-[15px]"},review:{name:"Review",contentClassName:"overflow-y-auto p-0"},explorer:{name:"Explorer",contentClassName:"overflow-y-auto p-0"},stats:{name:"Stats",contentClassName:"overflow-y-auto p-[15px]",featureFlag:"statsTab"},monitor:{name:"Monitor",contentClassName:"overflow-y-auto p-[15px]"}},M1e={name:"Terminal",contentClassName:"overflow-hidden p-0",keepAlive:!0},D1e={name:"File",contentClassName:"overflow-auto p-0",keepAlive:!1};function BO(t){return t==="costs"||t==="review"||t==="explorer"||t==="stats"||t==="monitor"?R1e[t]:t.startsWith("file:")?D1e:M1e}function L1e(t){return BO(t).name}function O1e(t){return BO(t).contentClassName}function P1e(t){if(t<1e3)return`${Math.round(t)}ms`;if(t<6e4)return`${Math.round(t/1e3)}s`;const e=Math.floor(t/6e4),n=Math.round(t%6e4/1e3);return n>0?`${e}m${n}s`:`${e}m`}const F1e=t=>{const e=ae.c(7),{workspaceId:n}=t,r=If(n);let a;if(e[0]!==r.liveCostUsage||e[1]!==r.sessionTotal){e:{const c=[];if(r.sessionTotal&&c.push(r.sessionTotal),r.liveCostUsage&&c.push(r.liveCostUsage),c.length===0){a=null;break e}const u=Ex(c);if(!u){a=null;break e}const d=(u.input.cost_usd??0)+(u.cached.cost_usd??0)+(u.cacheCreate.cost_usd??0)+(u.output.cost_usd??0)+(u.reasoning.cost_usd??0);a=d>0?d:null}e[0]=r.liveCostUsage,e[1]=r.sessionTotal,e[2]=a}else a=e[2];const s=a;let i;e[3]!==s?(i=s!==null&&l.jsxs("span",{className:"text-muted text-[10px]",children:["$",s<.01?"<0.01":s.toFixed(2)]}),e[3]=s,e[4]=i):i=e[4];let o;return e[5]!==i?(o=l.jsxs(l.Fragment,{children:["Costs",i]}),e[5]=i,e[6]=o):o=e[6],o},B1e=t=>{const e=ae.c(4),{reviewStats:n}=t;let r;e[0]!==n?(r=n!==null&&n.total>0&&l.jsxs("span",{className:ce("text-[10px]",(n.read===n.total,"text-muted")),children:[n.read,"/",n.total]}),e[0]=n,e[1]=r):r=e[1];let a;return e[2]!==r?(a=l.jsxs(l.Fragment,{children:["Review",r]}),e[2]=r,e[3]=a):a=e[3],a},z1e=t=>{const e=ae.c(4),{workspaceId:n}=t,r=Nx(n),a=r?.session?.totalDurationMs??0,s=r?.active?.elapsedMs??0,i=a+s,o=i>0?i:null;let c;e[0]!==o?(c=o!==null&&l.jsx("span",{className:"text-muted text-[10px]",children:P1e(o)}),e[0]=o,e[1]=c):c=e[1];let u;return e[2]!==c?(u=l.jsxs(l.Fragment,{children:["Stats",c]}),e[2]=c,e[3]=u):u=e[3],u},H1e=t=>{const e=ae.c(4),{workspaceId:n}=t,a=Nx(n)?.active!=null;let s;e[0]!==a?(s=a&&l.jsxs("span",{className:"relative ml-0.5 inline-flex h-1.5 w-1.5",children:[l.jsx("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-green-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex h-1.5 w-1.5 rounded-full bg-green-400"})]}),e[0]=a,e[1]=s):s=e[1];let i;return e[2]!==s?(i=l.jsxs(l.Fragment,{children:["Monitor",s]}),e[2]=s,e[3]=i):i=e[3],i},q1e=()=>{const t=ae.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsxs("span",{className:"inline-flex items-center gap-1",children:[l.jsx("img",{src:U_("folder.svg"),alt:"Explorer",className:"h-3 w-3 shrink-0 select-none",draggable:!1}),"Explorer"]}),t[0]=e):e=t[0],e},U1e=t=>{const e=ae.c(20),{filePath:n,onClose:r}=t;let a;e[0]!==n?(a=n.split("/").pop()??n,e[0]=n,e[1]=a):a=e[1];const s=a;let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i={fontSize:14},e[2]=i):i=e[2];let o;e[3]!==s?(o=l.jsx(cc,{fileName:s,style:i,className:"h-3.5 w-3.5 shrink-0"}),e[3]=s,e[4]=o):o=e[4];let c;e[5]!==s||e[6]!==n?(c=l.jsx("span",{className:"max-w-[120px] truncate",title:n,children:s}),e[5]=s,e[6]=n,e[7]=c):c=e[7];let u;e[8]!==r?(u=g=>{g.stopPropagation(),r()},e[8]=r,e[9]=u):u=e[9];let d;e[10]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(ir,{className:"h-3 w-3"}),e[10]=d):d=e[10];let m;e[11]!==u?(m=l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",className:"text-muted hover:text-destructive -my-0.5 rounded p-0.5 transition-colors",onClick:u,"aria-label":"Close file",children:d})}),e[11]=u,e[12]=m):m=e[12];let h;e[13]===Symbol.for("react.memo_cache_sentinel")?(h=l.jsxs(Ke,{side:"bottom",children:["Close (",Bt(st.CLOSE_TAB),")"]}),e[13]=h):h=e[13];let p;e[14]!==m?(p=l.jsxs(Ye,{children:[m,h]}),e[14]=m,e[15]=p):p=e[15];let f;return e[16]!==o||e[17]!==c||e[18]!==p?(f=l.jsxs("span",{className:"inline-flex items-center gap-1",children:[o,c,p]}),e[16]=o,e[17]=c,e[18]=p,e[19]=f):f=e[19],f},W1e=t=>{const e=ae.c(23),{dynamicTitle:n,terminalIndex:r,onPopOut:a,onClose:s}=t,i=r===0?"Terminal":`Terminal ${r+1}`,o=n??i;let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx("img",{src:U_("bash.svg"),alt:"Terminal",className:"h-3 w-3 shrink-0 select-none",draggable:!1}),e[0]=c):c=e[0];let u;e[1]!==o?(u=l.jsx("span",{className:"max-w-[20ch] min-w-0 truncate",children:o}),e[1]=o,e[2]=u):u=e[2];let d;e[3]!==a?(d=C=>{C.stopPropagation(),a()},e[3]=a,e[4]=d):d=e[4];let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx(pl,{className:"h-3 w-3"}),e[5]=m):m=e[5];let h;e[6]!==d?(h=l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",className:"text-muted hover:text-foreground -my-0.5 rounded p-0.5 transition-colors",onClick:d,"aria-label":"Open terminal in new window",children:m})}),e[6]=d,e[7]=h):h=e[7];let p;e[8]===Symbol.for("react.memo_cache_sentinel")?(p=l.jsx(Ke,{side:"bottom",children:"Open in new window"}),e[8]=p):p=e[8];let f;e[9]!==h?(f=l.jsxs(Ye,{children:[h,p]}),e[9]=h,e[10]=f):f=e[10];let g;e[11]!==s?(g=C=>{C.stopPropagation(),s()},e[11]=s,e[12]=g):g=e[12];let x;e[13]===Symbol.for("react.memo_cache_sentinel")?(x=l.jsx(ir,{className:"h-3 w-3"}),e[13]=x):x=e[13];let y;e[14]!==g?(y=l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",className:"text-muted hover:text-destructive -my-0.5 rounded p-0.5 transition-colors",onClick:g,"aria-label":"Close terminal",children:x})}),e[14]=g,e[15]=y):y=e[15];let w;e[16]===Symbol.for("react.memo_cache_sentinel")?(w=l.jsxs(Ke,{side:"bottom",children:["Close terminal (",Bt(st.CLOSE_TAB),")"]}),e[16]=w):w=e[16];let v;e[17]!==y?(v=l.jsxs(Ye,{children:[y,w]}),e[17]=y,e[18]=v):v=e[18];let k;return e[19]!==v||e[20]!==u||e[21]!==f?(k=l.jsxs("span",{className:"inline-flex items-center gap-1",children:[c,u,f,v]}),e[19]=v,e[20]=u,e[21]=f,e[22]=k):k=e[22],k},G1e=t=>{const e=ae.c(48),{item:n,index:r,tabsetId:a,isDesktop:s}=t,i=`${a}:${n.tab}`;let o;e[0]!==r||e[1]!==n.tab||e[2]!==a?(o={tab:n.tab,sourceTabsetId:a,index:r},e[0]=r,e[1]=n.tab,e[2]=a,e[3]=o):o=e[3];const c=o;let u;e[4]!==i||e[5]!==c?(u={id:i,data:c},e[4]=i,e[5]=c,e[6]=u):u=e[6];const{attributes:d,listeners:m,setNodeRef:h,transform:p,transition:f,isDragging:g}=A1e(u);let x;e[7]!==p?(x=Ql.Transform.toString(p),e[7]=p,e[8]=x):x=e[8];let y;e[9]!==x||e[10]!==f?(y={transform:x,transition:f},e[9]=x,e[10]=f,e[11]=y):y=e[11];const w=y,v=m?.onKeyDown,k=s&&"titlebar-no-drag";let C;e[12]!==k?(C=ce("relative shrink-0",k),e[12]=k,e[13]=C):C=e[13];let _;e[14]!==m?(_=m??{},e[14]=m,e[15]=_):_=e[15];const S=n.selected?"bg-hover text-foreground":"bg-transparent text-muted hover:bg-hover/50 hover:text-foreground",T=n.disabled&&"pointer-events-none opacity-50",N=g&&"cursor-grabbing opacity-50";let j;e[16]!==T||e[17]!==N||e[18]!==S?(j=ce("flex min-w-0 max-w-[240px] items-baseline gap-1.5 whitespace-nowrap rounded-md px-3 py-1 text-xs font-medium transition-all duration-150","cursor-grab touch-none active:cursor-grabbing",S,T,N),e[16]=T,e[17]=N,e[18]=S,e[19]=j):j=e[19];let R;e[20]!==n||e[21]!==v?(R=Y=>{Y.currentTarget===Y.target&&(v?.(Y),!Y.defaultPrevented&&!n.disabled&&(Y.key==="Enter"||Y.key===" ")&&(Y.preventDefault(),n.onSelect()))},e[20]=n,e[21]=v,e[22]=R):R=e[22];let I;e[23]!==n?(I=Y=>{Y.button===1&&n.onClose&&(Y.preventDefault(),n.onClose())},e[23]=n,e[24]=I):I=e[24];const A=n.disabled?!0:void 0,$=n.disabled?-1:d.tabIndex??0;let E;e[25]!==d||e[26]!==n.id||e[27]!==n.label||e[28]!==n.onSelect||e[29]!==n.panelId||e[30]!==n.selected||e[31]!==h||e[32]!==j||e[33]!==R||e[34]!==I||e[35]!==A||e[36]!==$||e[37]!==_?(E=l.jsx(Xe,{asChild:!0,children:l.jsx("div",{ref:h,...d,..._,className:j,onClick:n.onSelect,onKeyDown:R,onAuxClick:I,id:n.id,role:"tab","aria-selected":n.selected,"aria-controls":n.panelId,"aria-disabled":A,tabIndex:$,children:n.label})}),e[25]=d,e[26]=n.id,e[27]=n.label,e[28]=n.onSelect,e[29]=n.panelId,e[30]=n.selected,e[31]=h,e[32]=j,e[33]=R,e[34]=I,e[35]=A,e[36]=$,e[37]=_,e[38]=E):E=e[38];let M;e[39]!==n.tooltip?(M=l.jsx(Ke,{side:"bottom",align:"center",children:n.tooltip}),e[39]=n.tooltip,e[40]=M):M=e[40];let F;e[41]!==E||e[42]!==M?(F=l.jsxs(Ye,{children:[E,M]}),e[41]=E,e[42]=M,e[43]=F):F=e[43];let L;return e[44]!==w||e[45]!==F||e[46]!==C?(L=l.jsx("div",{className:C,style:w,children:F}),e[44]=w,e[45]=F,e[46]=C,e[47]=L):L=e[47],L},V1e=t=>{const e=ae.c(32),{items:n,ariaLabel:r,tabsetId:a,onAddTerminal:s}=t,i=r===void 0?"Sidebar views":r,{active:o}=IC(),c=o?.data.current,u=c?.sourceTabsetId===a,d=`tabstrip:${a}`;let m;e[0]!==a?(m={tabsetId:a},e[0]=a,e[1]=m):m=e[1];let h;e[2]!==d||e[3]!==m?(h={id:d,data:m},e[2]=d,e[3]=m,e[4]=h):h=e[4];const{setNodeRef:p,isOver:f}=zc(h),g=c!==void 0&&c.sourceTabsetId!==a,x=f&&g;let y,w,v,k,C,_,S,T;if(e[5]!==i||e[6]!==u||e[7]!==n||e[8]!==s||e[9]!==p||e[10]!==x||e[11]!==a){const R=$i(),I=AA();S=p,T=ce("border-border-light flex min-w-0 items-center border-b px-2 py-1.5 transition-colors",R&&aQ,x&&"bg-accent/30",u&&"bg-accent/10",R&&"titlebar-drag"),e[20]===Symbol.for("react.memo_cache_sentinel")?(y=I>0?{paddingRight:I}:void 0,e[20]=y):y=e[20],w="tablist",v=i,k="flex min-w-0 flex-1 flex-wrap items-center gap-1",C=n.map((A,$)=>l.jsx(G1e,{item:A,index:$,tabsetId:a,isDesktop:R},A.id)),_=s&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",className:ce("text-muted hover:bg-hover hover:text-foreground shrink-0 rounded-md p-1 transition-colors",R&&"titlebar-no-drag"),onClick:s,"aria-label":"New terminal",children:l.jsx(uu,{className:"h-3.5 w-3.5"})})}),l.jsx(Ke,{side:"bottom",children:"New terminal"})]}),e[5]=i,e[6]=u,e[7]=n,e[8]=s,e[9]=p,e[10]=x,e[11]=a,e[12]=y,e[13]=w,e[14]=v,e[15]=k,e[16]=C,e[17]=_,e[18]=S,e[19]=T}else y=e[12],w=e[13],v=e[14],k=e[15],C=e[16],_=e[17],S=e[18],T=e[19];let N;e[21]!==k||e[22]!==C||e[23]!==_?(N=l.jsxs("div",{className:k,children:[C,_]}),e[21]=k,e[22]=C,e[23]=_,e[24]=N):N=e[24];let j;return e[25]!==y||e[26]!==w||e[27]!==v||e[28]!==N||e[29]!==S||e[30]!==T?(j=l.jsx("div",{ref:S,className:T,style:y,role:w,"aria-label":v,children:N}),e[25]=y,e[26]=w,e[27]=v,e[28]=N,e[29]=S,e[30]=T,e[31]=j):j=e[31],j};function zO(t){const e=t.split(/\n/),n=[];let r=0;function a(){const o={};for(n.push(o);r<e.length;){const c=e[r];if(/^(---|\+\+\+|@@)\s/.test(c))break;const u=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(c);u&&(o.index=u[1]),r++}for(s(o),s(o),o.hunks=[];r<e.length;){const c=e[r];if(/^(Index:\s|diff\s|---\s|\+\+\+\s|===================================================================)/.test(c))break;if(/^@@/.test(c))o.hunks.push(i());else{if(c)throw new Error("Unknown line "+(r+1)+" "+JSON.stringify(c));r++}}}function s(o){const c=/^(---|\+\+\+)\s+(.*)\r?$/.exec(e[r]);if(c){const u=c[2].split("	",2),d=(u[1]||"").trim();let m=u[0].replace(/\\\\/g,"\\");/^".*"$/.test(m)&&(m=m.substr(1,m.length-2)),c[1]==="---"?(o.oldFileName=m,o.oldHeader=d):(o.newFileName=m,o.newHeader=d),r++}}function i(){var o;const c=r,u=e[r++],d=u.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),m={oldStart:+d[1],oldLines:typeof d[2]>"u"?1:+d[2],newStart:+d[3],newLines:typeof d[4]>"u"?1:+d[4],lines:[]};m.oldLines===0&&(m.oldStart+=1),m.newLines===0&&(m.newStart+=1);let h=0,p=0;for(;r<e.length&&(p<m.oldLines||h<m.newLines||!((o=e[r])===null||o===void 0)&&o.startsWith("\\"));r++){const f=e[r].length==0&&r!=e.length-1?" ":e[r][0];if(f==="+"||f==="-"||f===" "||f==="\\")m.lines.push(e[r]),f==="+"?h++:f==="-"?p++:f===" "&&(h++,p++);else throw new Error(`Hunk at line ${c+1} contained invalid line ${e[r]}`)}if(!h&&m.newLines===1&&(m.newLines=0),!p&&m.oldLines===1&&(m.oldLines=0),h!==m.newLines)throw new Error("Added line count did not match for hunk at line "+(c+1));if(p!==m.oldLines)throw new Error("Removed line count did not match for hunk at line "+(c+1));return m}for(;r<e.length;)a();return n}const K1e=3e4,Y1e=t=>t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(1)} KB`:`${(t/(1024*1024)).toFixed(1)} MB`,X1e={add:"+",remove:"-",context:" "},Z1e=t=>{const e=t.split(`
`);return e.filter((n,r)=>r<e.length-1||n!=="")};function Q1e(t,e){try{const n=zO(e);if(n.length===0)return null;const r=n[0];if(!r.hunks||r.hunks.length===0)return null;const a=[];let s=0;for(const i of r.hunks){const o=i.newStart-1;for(;s<o&&s<t.length;)a.push({type:"context",content:t[s]}),s++;for(const c of i.lines){const u=c[0],d=c.slice(1);u==="-"?a.push({type:"remove",content:d}):u==="+"?(a.push({type:"add",content:d}),s++):u===" "&&(a.push({type:"context",content:d}),s++)}}for(;s<t.length;)a.push({type:"context",content:t[s]}),s++;return a}catch{return null}}function J1e(t,e,n){const r=[];let a=e,s=n,i=0,o=0;for(const c of t){const u=c.content.length,d=o===0?u:i+u+1;o>0&&d>K1e&&(r.push(`@@ -${a} +${s} @@`),i=0,o=0),r.push(`${X1e[c.type]}${c.content}`),i=o===0?u:i+u+1,o+=1,c.type==="add"?s+=1:c.type==="remove"?a+=1:(a+=1,s+=1)}return r.join(`
`)}const ebe=t=>{const e=ae.c(71),{reviews:n,updateReviewNote:r,checkReview:a,uncheckReview:s,attachReview:i,detachReview:o,removeReview:c}=Xm(t.workspaceId);let u;if(e[0]!==t.filePath||e[1]!==n){let Y;e[3]!==t.filePath?(Y=O=>O.data?.filePath===t.filePath,e[3]=t.filePath,e[4]=Y):Y=e[4],u=n.filter(Y),e[0]=t.filePath,e[1]=n,e[2]=u}else u=e[2];const d=u;let m;e[5]!==i||e[6]!==a||e[7]!==o||e[8]!==c||e[9]!==s||e[10]!==r?(m={onEditComment:r,onComplete:a,onUncheck:s,onAttach:i,onDetach:o,onDelete:c},e[5]=i,e[6]=a,e[7]=o,e[8]=c,e[9]=s,e[10]=r,e[11]=m):m=e[11];const h=m;let p;if(e[12]!==t.filePath){const Y=gC(t.filePath);p=Yhe(Y),e[12]=t.filePath,e[13]=p}else p=e[13];const f=p;let g,x,y,w,v,k,C,_,S,T,N,j;if(e[14]!==d||e[15]!==t.content||e[16]!==t.diff||e[17]!==t.filePath||e[18]!==t.onReviewNote||e[19]!==t.size){const Y=Z1e(t.content),O=Y.length,G=t.diff?Q1e(Y,t.diff):null,H=G??Y.map(tbe),D=J1e(H,1,1);g=G?H.filter(nbe).length:0,y=G?H.filter(rbe).length:0,x={content:D,showLineNumbers:!0,lineNumberMode:"new",oldStart:1,newStart:1,filePath:t.filePath,fontSize:"11px",maxHeight:"none",className:"rounded-none border-0 [&>div]:overflow-x-visible"},w=!!t.onReviewNote||d.length>0,j="text-file-viewer",v="bg-code-bg flex h-full flex-col",N="border-border-light flex flex-col border-b",_="text-muted-foreground flex items-center gap-3 px-2 py-1 text-[11px]",e[32]!==t.filePath?(S=l.jsx("span",{className:"min-w-0 truncate",children:t.filePath}),e[32]=t.filePath,e[33]=S):S=e[33];let U;e[34]!==t.size?(U=Y1e(t.size),e[34]=t.size,e[35]=U):U=e[35],e[36]!==U?(T=l.jsx("span",{className:"shrink-0",children:U}),e[36]=U,e[37]=T):T=e[37],k="shrink-0",C=O.toLocaleString(),e[14]=d,e[15]=t.content,e[16]=t.diff,e[17]=t.filePath,e[18]=t.onReviewNote,e[19]=t.size,e[20]=g,e[21]=x,e[22]=y,e[23]=w,e[24]=v,e[25]=k,e[26]=C,e[27]=_,e[28]=S,e[29]=T,e[30]=N,e[31]=j}else g=e[20],x=e[21],y=e[22],w=e[23],v=e[24],k=e[25],C=e[26],_=e[27],S=e[28],T=e[29],N=e[30],j=e[31];let R;e[38]!==k||e[39]!==C?(R=l.jsxs("span",{className:k,children:[C," lines"]}),e[38]=k,e[39]=C,e[40]=R):R=e[40];let I;e[41]!==g||e[42]!==y?(I=(g>0||y>0)&&l.jsxs("span",{className:"shrink-0",children:[l.jsxs("span",{className:"text-success-light",children:["+",g]}),l.jsx("span",{className:"text-muted-foreground",children:"/"}),l.jsxs("span",{className:"text-warning-light",children:["",y]})]}),e[41]=g,e[42]=y,e[43]=I):I=e[43];let A;e[44]!==f?(A=l.jsx("span",{className:"ml-auto shrink-0",children:f}),e[44]=f,e[45]=A):A=e[45];let $;e[46]!==t.isRefreshing||e[47]!==t.onRefresh?($=t.onRefresh&&l.jsx("button",{type:"button",className:"text-muted hover:bg-accent/50 hover:text-foreground rounded p-0.5",onClick:t.onRefresh,title:"Refresh file",disabled:t.isRefreshing,children:l.jsx(Xo,{className:`h-3.5 w-3.5 ${t.isRefreshing?"animate-spin":""}`})}),e[46]=t.isRefreshing,e[47]=t.onRefresh,e[48]=$):$=e[48];let E;e[49]!==R||e[50]!==I||e[51]!==A||e[52]!==$||e[53]!==_||e[54]!==S||e[55]!==T?(E=l.jsxs("div",{className:_,children:[S,T,R,I,A,$]}),e[49]=R,e[50]=I,e[51]=A,e[52]=$,e[53]=_,e[54]=S,e[55]=T,e[56]=E):E=e[56];let M;e[57]!==E||e[58]!==N?(M=l.jsx("div",{className:N,children:E}),e[57]=E,e[58]=N,e[59]=M):M=e[59];let F;e[60]!==x||e[61]!==d||e[62]!==t.onReviewNote||e[63]!==h||e[64]!==w?(F=l.jsx("div",{className:"min-h-0 flex-1 overflow-auto",children:w?l.jsx(Xd,{...x,onReviewNote:t.onReviewNote,inlineReviews:d,reviewActions:h}):l.jsx(Jp,{...x})}),e[60]=x,e[61]=d,e[62]=t.onReviewNote,e[63]=h,e[64]=w,e[65]=F):F=e[65];let L;return e[66]!==v||e[67]!==M||e[68]!==F||e[69]!==j?(L=l.jsxs("div",{"data-testid":j,className:v,children:[M,F]}),e[66]=v,e[67]=M,e[68]=F,e[69]=j,e[70]=L):L=e[70],L};function tbe(t){return{type:"context",content:t}}function nbe(t){return t.type==="add"}function rbe(t){return t.type==="remove"}const yk=.1,DT=10,Ug=.1,LT=[10,25,50,75,100,200,300,400,500],abe=16,sbe=t=>{const e=abe*t;return{background:`repeating-conic-gradient(
      color-mix(in srgb, var(--color-background) 85%, var(--color-foreground)) 0% 25%,
      var(--color-background) 0% 50%
    ) 0 0 / ${e}px ${e}px`}},ibe=t=>{const e=ae.c(72),[n,r]=xe.useState(1),a=xe.useRef(null),[s,i]=xe.useState(null),[o,c]=xe.useState(null);let u,d;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{const je=a.current;if(!je)return;const _e=new ResizeObserver(ge=>{const ve=ge[0];ve&&i({width:ve.contentRect.width,height:ve.contentRect.height})});return _e.observe(je),()=>_e.disconnect()},d=[],e[0]=u,e[1]=d):(u=e[0],d=e[1]),xe.useEffect(u,d);let m;e:{if(!s||!o){m=DT;break e}const je=(s.width-32)/o.width,_e=(s.height-32)/o.height;m=Math.max(yk,Math.min(DT,je,_e))}const h=m;let p,f;e[2]!==h?(p=()=>{r(je=>Math.min(je,h))},f=[h],e[2]=h,e[3]=p,e[4]=f):(p=e[3],f=e[4]),xe.useEffect(p,f);const g=obe;let x;e[5]!==h?(x=je=>{je.preventDefault();const _e=je.deltaY>0?-Ug:Ug;r(ge=>Math.min(h,Math.max(yk,ge+_e)))},e[5]=h,e[6]=x):x=e[6];const y=x;let w;e[7]!==h?(w=()=>r(je=>Math.min(h,je+Ug)),e[7]=h,e[8]=w):w=e[8];const v=w;let k;e[9]===Symbol.for("react.memo_cache_sentinel")?(k=()=>r(lbe),e[9]=k):k=e[9];const C=k;let _;e[10]!==h?(_=()=>r(Math.min(1,h)),e[10]=h,e[11]=_):_=e[11];const S=_;let T;e[12]===Symbol.for("react.memo_cache_sentinel")?(T=je=>{const _e=je.currentTarget;c({width:_e.naturalWidth,height:_e.naturalHeight})},e[12]=T):T=e[12];const N=T,j=`data:${t.mimeType};base64,${t.base64}`;let R;e[13]!==t.filePath?(R=l.jsx("span",{className:"min-w-0 truncate",children:t.filePath}),e[13]=t.filePath,e[14]=R):R=e[14];let I;e[15]!==o?(I=o&&l.jsxs("span",{className:"shrink-0",children:[o.width,"  ",o.height]}),e[15]=o,e[16]=I):I=e[16];const A=g(t.size);let $;e[17]!==A?($=l.jsx("span",{className:"shrink-0",children:A}),e[17]=A,e[18]=$):$=e[18];let E;e[19]!==t.mimeType?(E=l.jsx("span",{className:"shrink-0 truncate opacity-60",children:t.mimeType}),e[19]=t.mimeType,e[20]=E):E=e[20];let M;e[21]!==R||e[22]!==I||e[23]!==$||e[24]!==E?(M=l.jsxs("div",{className:"text-muted-foreground flex min-w-0 flex-1 items-center gap-2 text-xs",children:[R,I,$,E]}),e[21]=R,e[22]=I,e[23]=$,e[24]=E,e[25]=M):M=e[25];let F;e[26]===Symbol.for("react.memo_cache_sentinel")?(F=l.jsx("button",{type:"button",className:"text-muted hover:bg-accent/50 hover:text-foreground rounded p-1",onClick:C,title:"Zoom out",children:l.jsx(Kte,{className:"h-3.5 w-3.5"})}),e[26]=F):F=e[26];let L;e[27]!==n?(L=Math.round(n*100),e[27]=n,e[28]=L):L=e[28];let Y;e[29]===Symbol.for("react.memo_cache_sentinel")?(Y=je=>r(Number(je.target.value)/100),e[29]=Y):Y=e[29];let O;e[30]!==n?(O=!LT.includes(Math.round(n*100))&&l.jsxs("option",{value:Math.round(n*100),children:[Math.round(n*100),"%"]}),e[30]=n,e[31]=O):O=e[31];let G;e[32]!==h?(G=LT.filter(je=>je/100<=h).map(cbe),e[32]=h,e[33]=G):G=e[33];let H;e[34]!==L||e[35]!==O||e[36]!==G?(H=l.jsxs("select",{value:L,onChange:Y,className:"text-muted-foreground hover:text-foreground bg-background cursor-pointer rounded px-1 py-0.5 text-center text-xs outline-none",title:"Select zoom level",children:[O,G]}),e[34]=L,e[35]=O,e[36]=G,e[37]=H):H=e[37];let D;e[38]===Symbol.for("react.memo_cache_sentinel")?(D=l.jsx(Gte,{className:"h-3.5 w-3.5"}),e[38]=D):D=e[38];let U;e[39]!==v?(U=l.jsx("button",{type:"button",className:"text-muted hover:bg-accent/50 hover:text-foreground rounded p-1",onClick:v,title:"Zoom in",children:D}),e[39]=v,e[40]=U):U=e[40];const B=n===1&&"opacity-50";let q;e[41]!==B?(q=ce("text-muted hover:bg-accent/50 hover:text-foreground rounded p-1",B),e[41]=B,e[42]=q):q=e[42];const V=n===1;let Z;e[43]===Symbol.for("react.memo_cache_sentinel")?(Z=l.jsx(yte,{className:"h-3.5 w-3.5"}),e[43]=Z):Z=e[43];let W;e[44]!==S||e[45]!==q||e[46]!==V?(W=l.jsx("button",{type:"button",className:q,onClick:S,title:"Reset zoom",disabled:V,children:Z}),e[44]=S,e[45]=q,e[46]=V,e[47]=W):W=e[47];let K;e[48]!==H||e[49]!==U||e[50]!==W?(K=l.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[F,H,U,W]}),e[48]=H,e[49]=U,e[50]=W,e[51]=K):K=e[51];let J;e[52]!==M||e[53]!==K?(J=l.jsxs("div",{className:"border-border-light flex items-center justify-between border-b px-2 py-1",children:[M,K]}),e[52]=M,e[53]=K,e[54]=J):J=e[54];let ee;e[55]!==n?(ee=sbe(n),e[55]=n,e[56]=ee):ee=e[56];let se;e[57]!==o||e[58]!==n?(se=o?{width:o.width*n,height:o.height*n}:{},e[57]=o,e[58]=n,e[59]=se):se=e[59];let re;e[60]!==ee||e[61]!==se?(re={...ee,...se},e[60]=ee,e[61]=se,e[62]=re):re=e[62];let ue;e[63]!==j||e[64]!==re?(ue=l.jsx("img",{src:j,alt:"File preview",onLoad:N,style:re,className:"block",draggable:!1}),e[63]=j,e[64]=re,e[65]=ue):ue=e[65];let he;e[66]!==y||e[67]!==ue?(he=l.jsx("div",{ref:a,className:"flex min-h-0 flex-1 items-center justify-center overflow-hidden",onWheel:y,children:ue}),e[66]=y,e[67]=ue,e[68]=he):he=e[68];let ke;return e[69]!==J||e[70]!==he?(ke=l.jsxs("div",{"data-testid":"image-file-viewer",className:"flex h-full flex-col",children:[J,he]}),e[69]=J,e[70]=he,e[71]=ke):ke=e[71],ke};function obe(t){return t<1024?`${t} B`:t<1048576?`${(t/1024).toFixed(1)} KB`:`${(t/1048576).toFixed(1)} MB`}function lbe(t){return Math.max(yk,t-Ug)}function cbe(t){return l.jsxs("option",{value:t,children:[t,"%"]},t)}const ube=10*1024*1024,MC=42,dbe=[{bytes:[137,80,78,71],mime:"image/png"},{bytes:[255,216,255],mime:"image/jpeg"},{bytes:[71,73,70],mime:"image/gif"},{bytes:[82,73,70,70],mime:"image/webp"},{bytes:[66,77],mime:"image/bmp"},{bytes:[0,0,1,0],mime:"image/x-icon"}];function HO(t){if(t){if(t.startsWith("/"))return"Absolute paths are not allowed";if(t.includes(".."))return"Path traversal not allowed";if(t.includes("\0"))return"Invalid path"}}function Cy(t){return"'"+t.replace(/'/g,"'\\''")+"'"}function mbe(t,e){const n=t.trim().split(`
`),r=[];for(const a of n){if(!a||a.startsWith("total "))continue;const s=a.split(/\s+/);if(s.length<9)continue;const i=s[0],o=i.startsWith("l");let c=s.slice(8).join(" ");if(o){const m=c.indexOf(" -> ");m!==-1&&(c=c.slice(0,m))}if(c==="."||c===".."||c===".git")continue;const u=i.startsWith("d"),d=e?`${e}/${c}`:c;r.push({name:c,path:d,isDirectory:u,children:[]})}return r.sort((a,s)=>a.isDirectory!==s.isDirectory?a.isDirectory?-1:1:a.name.localeCompare(s.name,void 0,{sensitivity:"base"})),r}function hbe(t,e){const n=new Set,r=new Set,a=new Set,s=t.trimEnd().split(`
`);for(const i of s){if(i.length<4)continue;const o=i.slice(0,2);let c=i.slice(3);const u=c.indexOf(" -> ");u!==-1&&(c=c.slice(u+4)),c=c.trimEnd(),c.endsWith("/")&&(c=c.slice(0,-1)),o==="!!"?n.add(c):o==="??"?a.add(c):(o.includes("M")||o.includes("A")||o.includes("R"))&&r.add(c)}return{ignored:n,modified:r,untracked:a}}function pbe(t){const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}function fbe(t){for(const{bytes:e,mime:n}of dbe){if(t.length<e.length)continue;let r=!0;for(let a=0;a<e.length;a++)if(t[a]!==e[a]){r=!1;break}if(r){if(n==="image/webp"){if(t.length>=12&&t[8]===87&&t[9]===69&&t[10]===66&&t[11]===80)return n;continue}return n}}}function gbe(t){const e=Math.min(t.length,1024),n=new TextDecoder("utf-8",{fatal:!0});try{const r=n.decode(t.slice(0,e)).toLowerCase();return r.includes("<svg")||r.includes("<?xml")&&r.includes("<svg")}catch{return!1}}function bbe(t){const e=Math.min(t.length,8192);for(let n=0;n<e;n++){const r=t[n];if(r===0||r<32&&r!==9&&r!==10&&r!==13)return!0}return!1}function xbe(t){return`ls -la ${t?Cy(t):"."}`}function ybe(t){return"git status --ignored --porcelain -- . 2>/dev/null || true"}function wbe(t){return`printf '${t.map(n=>Cy(n)).join("\\n")}\\n' | git check-ignore --stdin 2>/dev/null || true`}function vbe(t){const e=new Set;if(!t.trim())return e;for(const n of t.trimEnd().split(`
`))if(n){const r=n.endsWith("/")?n.slice(0,-1):n;e.add(r)}return e}function kbe(t){const e=Cy(t);return`size=$(stat -c %s ${e} 2>/dev/null || stat -f %z ${e})
[ "$size" -gt ${ube} ] && exit ${MC}
echo "$size"
base64 < ${e}`}function _be(t){return`git diff -- ${Cy(t)}`}function Cbe(t){const e=t.indexOf(`
`);if(e===-1){const a=parseInt(t,10);if(isNaN(a))throw new Error("Invalid file output format");return{size:a,base64:""}}const n=parseInt(t.slice(0,e),10);if(isNaN(n))throw new Error("Invalid file size");const r=t.slice(e+1).replace(/[\r\n]/g,"");return{size:n,base64:r}}function Sbe(t,e){if(e===MC)return{type:"error",message:"File is too large to display. Maximum: 10 MB."};const{size:n,base64:r}=Cbe(t);let a;try{a=pbe(r)}catch{return{type:"error",message:"Unable to decode file contents"}}const s=fbe(a);return s?{type:"image",base64:r,mimeType:s,size:n}:gbe(a)?{type:"image",base64:r,mimeType:"image/svg+xml",size:n}:bbe(a)?{type:"error",message:"Unable to display binary file"}:{type:"text",content:new TextDecoder("utf-8",{fatal:!1}).decode(a),size:n}}const md={MAX_ENTRIES:50,TTL_MS:1800*1e3};function jbe(t){const e=new TextEncoder().encode(t),n=Array.from(e,r=>String.fromCodePoint(r)).join("");return btoa(n)}function Tbe(t){const e=atob(t),n=Uint8Array.from(e,r=>r.codePointAt(0));return new TextDecoder().decode(n)}function DC(t,e){return`${t}:${e}`}let Iw=null,OT=0,PT=0;function LC(){return(!Iw||OT!==md.MAX_ENTRIES||PT!==md.TTL_MS)&&(OT=md.MAX_ENTRIES,PT=md.TTL_MS,Iw=Cx({entryPrefix:"explorer:file:",indexKey:"explorer:fileIndex",maxEntries:md.MAX_ENTRIES,ttlMs:md.TTL_MS})),Iw}function Ebe(t,e){const n=LC().getEntry(DC(t,e));return n?{...n.data,cachedAt:n.cachedAt}:null}function Nbe(t,e,n,r){if(n.type==="error")return;const a={type:n.type,base64:n.type==="image"?n.base64:jbe(n.content),mimeType:n.type==="image"?n.mimeType:void 0,size:n.size,diff:r};LC().set(DC(t,e),a)}function $be(t,e){LC().remove(DC(t,e))}function Abe(t){return t.type==="image"?{type:"image",base64:t.base64,mimeType:t.mimeType??"application/octet-stream",size:t.size}:{type:"text",content:Tbe(t.base64),size:t.size}}const Ibe=2e3,Rbe=t=>{const{api:e}=Kt(),n=xe.useMemo(()=>{if(!t.relativePath)return null;const w=Ebe(t.workspaceId,t.relativePath);return w?{data:Abe(w),diff:w.diff??null}:null},[t.workspaceId,t.relativePath]),[r,a]=xe.useState(!n),[s,i]=xe.useState(!!n),[o,c]=xe.useState(null),[u,d]=xe.useState(n),m=xe.useRef(n?t.relativePath:null),[h,p]=xe.useState(0);xe.useEffect(()=>{let w=null;const v=Fc.subscribeFileModifyingTool(()=>{w&&clearTimeout(w),w=setTimeout(()=>{p(k=>k+1)},Ibe)},t.workspaceId);return()=>{v(),w&&clearTimeout(w)}},[t.workspaceId]),xe.useEffect(()=>{if(!e)return;const w=HO(t.relativePath);if(w){c(w),a(!1);return}if(!t.relativePath){c("No file selected"),a(!1);return}let v=!1;m.current===t.relativePath?i(!0):a(!0),c(null);async function C(){try{const[_,S]=await Promise.all([e.workspace.executeBash({workspaceId:t.workspaceId,script:kbe(t.relativePath)}),e.workspace.executeBash({workspaceId:t.workspaceId,script:_be(t.relativePath)})]);if(v)return;if(!_.success){c(_.error),a(!1),i(!1);return}const T=_.data;if(T.exitCode===MC){d({data:{type:"error",message:"File is too large to display. Maximum: 10 MB."},diff:null}),m.current=t.relativePath,a(!1),i(!1);return}if(!T.success&&!T.output){const R=T.error??"Failed to read file";$be(t.workspaceId,t.relativePath),c(R.length>128?R.slice(0,128)+"...":R),a(!1),i(!1);return}const N=Sbe(T.output??"",T.exitCode);if(v)return;let j=null;S.success&&S.data.success&&(j=S.data.output),Nbe(t.workspaceId,t.relativePath,N,j),d({data:N,diff:j}),m.current=t.relativePath,a(!1),i(!1)}catch(_){if(v)return;c(_ instanceof Error?_.message:"Failed to load file"),a(!1),i(!1)}}return C(),()=>{v=!0}},[e,t.workspaceId,t.relativePath,h]);const f=u&&m.current===t.relativePath;if(r&&!f)return l.jsx("div",{className:"flex h-full items-center justify-center",children:l.jsx(Xo,{className:"text-muted h-5 w-5 animate-spin"})});if(o&&!f)return l.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 p-4",children:[l.jsx(Wp,{className:"text-destructive h-8 w-8"}),l.jsx("p",{className:"text-destructive text-center text-sm",children:o})]});if(!f)return l.jsx("div",{className:"flex h-full items-center justify-center",children:l.jsx("p",{className:"text-muted-foreground text-sm",children:"No file loaded"})});const{data:g,diff:x}=u;if(g.type==="error")return l.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 p-4",children:[l.jsx(Wp,{className:"text-muted h-8 w-8"}),l.jsx("p",{className:"text-muted-foreground text-center text-sm",children:g.message})]});const y=()=>p(w=>w+1);return g.type==="text"?l.jsx(ebe,{workspaceId:t.workspaceId,content:g.content,filePath:t.relativePath,size:g.size,diff:x,onRefresh:y,isRefreshing:s,onReviewNote:t.onReviewNote}):g.type==="image"?l.jsx(ibe,{base64:g.base64,mimeType:g.mimeType,size:g.size,filePath:t.relativePath}):l.jsx("div",{className:"flex h-full items-center justify-center",children:l.jsx("p",{className:"text-muted-foreground text-sm",children:"Unknown file type"})})},Mbe=2e3,Dbe=12,FT=t=>`explorer:entries:${t}`,Lbe=t=>`explorer:expanded:${t}`,Obe=t=>{const{api:e}=Kt(),[n,r]=Tt(Lbe(t.workspaceId),[],{listener:!0}),a=xe.useMemo(()=>new Set(n),[n]),[s,i]=xe.useState(()=>{const w=_n(FT(t.workspaceId),{});return{entries:new Map(Object.entries(w)),expanded:new Set,loading:new Set,error:null,gitStatus:{ignored:new Set,modified:new Set,untracked:new Set},ignoredDirs:new Set,checkedDirPaths:new Set}});xe.useEffect(()=>{const w=Object.fromEntries(s.entries);rn(FT(t.workspaceId),w,{})},[s.entries,t.workspaceId]);const o=xe.useRef(!1),c=xe.useCallback(async(w,v=!1)=>{if(!e)return null;const k=w,C=HO(w);if(C)return v||i(_=>({..._,error:C})),null;i(_=>({..._,loading:new Set(_.loading).add(k),error:null}));try{const _=w==="",S=e.workspace.executeBash({workspaceId:t.workspaceId,script:xbe(w)}),T=_?e.workspace.executeBash({workspaceId:t.workspaceId,script:ybe("")}):null,[N,j]=await Promise.all([S,T]);if(!N.success)return r($=>$.filter(E=>E!==k)),i($=>{const E=new Map($.entries);return E.delete(k),{...$,entries:E,loading:new Set([...$.loading].filter(M=>M!==k)),error:v?$.error:N.error}}),null;if(!N.data.success){const $=N.data.error||"Failed to list directory";return r(E=>E.filter(M=>M!==k)),i(E=>{const M=new Map(E.entries);return M.delete(k),{...E,entries:M,loading:new Set([...E.loading].filter(F=>F!==k)),error:v?E.error:$}}),null}const R=mbe(N.data.output,w);let I=null;_&&j?.success&&j.data.success&&(I=hbe(j.data.output,""));const A=[];if(i($=>{const E=I??$.gitStatus,M=_?new Set:$.checkedDirPaths;for(const L of R)L.isDirectory&&!M.has(L.path)&&!E.ignored.has(L.path)&&A.push(L.path);const F=new Map($.entries);F.set(k,R);for(const L of R)(E.ignored.has(L.path)||$.ignoredDirs.has(L.path))&&(L.ignored=!0);return{...$,entries:F,loading:new Set([...$.loading].filter(L=>L!==k)),gitStatus:E,checkedDirPaths:M}}),A.length>0){const $=await e.workspace.executeBash({workspaceId:t.workspaceId,script:wbe(A)});if($.success&&$.data.success){const E=vbe($.data.output);i(M=>{const F=new Set(M.checkedDirPaths);for(const G of A)F.add(G);const L=new Set(M.ignoredDirs);for(const G of E)L.add(G);const Y=new Map(M.entries),O=Y.get(k);if(O)for(const G of O)G.isDirectory&&E.has(G.path)&&(G.ignored=!0);return{...M,checkedDirPaths:F,ignoredDirs:L,entries:Y}})}}return R}catch(_){return r(S=>S.filter(T=>T!==k)),i(S=>{const T=new Map(S.entries);return T.delete(k),{...S,entries:T,loading:new Set([...S.loading].filter(N=>N!==k)),error:v?S.error:_ instanceof Error?_.message:String(_)}}),null}},[e,t.workspaceId,r]);xe.useEffect(()=>{if(e&&!o.current){o.current=!0,c("");for(const w of a)c(w,!0)}},[e,c,a]),xe.useEffect(()=>{let w=null;const v=Fc.subscribeFileModifyingTool(()=>{w&&clearTimeout(w),w=setTimeout(()=>{c("");for(const k of a)c(k,!0)},Mbe)},t.workspaceId);return()=>{v(),w&&clearTimeout(w)}},[t.workspaceId,a,c]);const u=w=>{if(!w.isDirectory)return;const v=w.path;a.has(v)?r(k=>k.filter(C=>C!==v)):(r(k=>[...k,v]),c(v))},d=()=>{const w=["",...a];Promise.all(w.map(v=>c(v)))},m=()=>{r([])},h=a.size>0,p=(w,v)=>{const k=w.path,C=a.has(k),_=s.loading.has(k),S=s.entries.get(k)??[],T=w.ignored===!0||s.ignoredDirs.has(w.path),N=s.gitStatus.modified.has(w.path),j=s.gitStatus.untracked.has(w.path),R=N?"text-[var(--color-git-modified)]":j?"text-[var(--color-git-untracked)]":void 0,I=R?"group-hover:text-foreground group-focus:text-foreground":void 0;return l.jsxs("div",{children:[l.jsxs("button",{type:"button",className:ce("group flex w-full cursor-pointer items-center gap-1 px-2 py-0.5 text-left text-sm hover:bg-accent/50","focus:bg-accent/50 focus:outline-none",T&&"opacity-50"),style:{paddingLeft:`${8+v*Dbe}px`},onClick:()=>{w.isDirectory?u(w):t.onOpenFile?.(w.path)},children:[w.isDirectory?l.jsxs(l.Fragment,{children:[_?l.jsx(Xo,{className:"text-muted h-3 w-3 shrink-0 animate-spin"}):C?l.jsx(Fs,{className:"text-muted h-3 w-3 shrink-0"}):l.jsx(na,{className:"text-muted h-3 w-3 shrink-0"}),C?l.jsx(y1,{className:"h-4 w-4 shrink-0 text-[var(--color-folder-icon)]"}):l.jsx(xee,{className:"h-4 w-4 shrink-0 text-[var(--color-folder-icon)]"})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"w-3 shrink-0"}),l.jsx(cc,{fileName:w.name,style:{fontSize:18},className:"h-4 w-4"})]}),l.jsx("span",{className:ce("truncate",R,I),children:w.name})]}),w.isDirectory&&C&&l.jsx("div",{children:S.map(A=>p(A,v+1))})]},k)},f=s.entries.get("")??[],g=s.loading.has(""),y=(w=>{const v=[/^\/home\/[^/]+/,/^\/Users\/[^/]+/,/^[A-Za-z]:[\\/]Users[\\/][^\\/]+/];for(const k of v){const C=w.match(k);if(C)return"~"+w.slice(C[0].length)}return w})(t.workspacePath);return l.jsxs("div",{className:"flex h-full flex-col",children:[l.jsxs("div",{className:"border-border-light flex items-center gap-1 border-b px-2 py-1",children:[l.jsx(y1,{className:"h-4 w-4 shrink-0 text-[var(--color-folder-icon)]"}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("span",{className:"min-w-0 flex-1 truncate text-xs font-medium",children:y})}),l.jsx(Ke,{side:"bottom",children:t.workspacePath})]}),l.jsxs("div",{className:"flex shrink-0 items-center gap-0.5",children:[l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",className:"text-muted hover:bg-accent/50 hover:text-foreground rounded p-1",onClick:d,disabled:g,children:l.jsx(Xo,{className:ce("h-3.5 w-3.5",g&&"animate-spin")})})}),l.jsx(Ke,{side:"bottom",children:"Refresh"})]}),h&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",className:"text-muted hover:bg-accent/50 hover:text-foreground rounded p-1",onClick:m,"aria-label":"Collapse All",children:l.jsx(IJ,{className:"h-3.5 w-3.5"})})}),l.jsx(Ke,{side:"bottom",children:"Collapse All"})]})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto py-1",children:[s.error&&l.jsx("div",{className:"text-destructive px-3 py-2 text-sm",children:s.error}),g&&f.length===0?l.jsx("div",{className:"flex items-center justify-center py-4",children:l.jsx(Xo,{className:"text-muted h-5 w-5 animate-spin"})}):f.map(w=>p(w,0)),!g&&f.length===0&&!s.error&&l.jsx("div",{className:"text-muted px-3 py-2 text-sm",children:"No files found"})]})]})},Pbe=t=>{const e=ae.c(12),{collapsed:n,customWidth:r,isResizing:a,isDesktop:s,children:i,role:o,"aria-label":c}=t,u=n?"20px":r?`${r}px`:"400px",d=!a&&"transition-[width] duration-200",m=n&&"sticky right-0 z-10 shadow-[-2px_0_4px_rgba(0,0,0,0.2)]",h=s&&n&&"border-l-0";let p;e[0]!==d||e[1]!==m||e[2]!==h?(p=ce("bg-sidebar border-l border-border-light flex flex-col overflow-hidden flex-shrink-0","mobile-hide-right-sidebar",d,m,h),e[0]=d,e[1]=m,e[2]=h,e[3]=p):p=e[3];let f;e[4]!==u?(f={width:u,maxWidth:"100%"},e[4]=u,e[5]=f):f=e[5];let g;return e[6]!==c||e[7]!==i||e[8]!==o||e[9]!==p||e[10]!==f?(g=l.jsx("div",{className:p,style:f,role:o,"aria-label":c,children:i}),e[6]=c,e[7]=i,e[8]=o,e[9]=p,e[10]=f,e[11]=g):g=e[11],g},Fbe=t=>{const e=ae.c(5),{direction:n,isDraggingTab:r}=t,a=n==="horizontal"?"w-0.5 flex-shrink-0 z-10 transition-[background] duration-150 cursor-col-resize bg-border-light hover:bg-accent":"h-0.5 flex-shrink-0 z-10 transition-[background] duration-150 cursor-row-resize bg-border-light hover:bg-accent",s=r&&"pointer-events-none";let i;e[0]!==a||e[1]!==s?(i=ce(a,s),e[0]=a,e[1]=s,e[2]=i):i=e[2];const o=i;let c;return e[3]!==o?(c=l.jsx(fO,{className:o}),e[3]=o,e[4]=c):c=e[4],c},Bbe=t=>{const e=ae.c(119),n=`${t.baseId}-${t.node.id}`,r=ce("relative flex-1 min-h-0",O1e(t.node.activeTab)),a=`content:${t.node.id}`;let s;e[0]!==t.node.id?(s={type:"content",tabsetId:t.node.id},e[0]=t.node.id,e[1]=s):s=e[1];let i;e[2]!==a||e[3]!==s?(i={id:a,data:s},e[2]=a,e[3]=s,e[4]=i):i=e[4];const{setNodeRef:o,isOver:c}=zc(i),u=`edge:${t.node.id}:top`;let d;e[5]!==t.node.id?(d={type:"edge",tabsetId:t.node.id,edge:"top"},e[5]=t.node.id,e[6]=d):d=e[6];let m;e[7]!==u||e[8]!==d?(m={id:u,data:d},e[7]=u,e[8]=d,e[9]=m):m=e[9];const{setNodeRef:h,isOver:p}=zc(m),f=`edge:${t.node.id}:bottom`;let g;e[10]!==t.node.id?(g={type:"edge",tabsetId:t.node.id,edge:"bottom"},e[10]=t.node.id,e[11]=g):g=e[11];let x;e[12]!==f||e[13]!==g?(x={id:f,data:g},e[12]=f,e[13]=g,e[14]=x):x=e[14];const{setNodeRef:y,isOver:w}=zc(x),v=`edge:${t.node.id}:left`;let k;e[15]!==t.node.id?(k={type:"edge",tabsetId:t.node.id,edge:"left"},e[15]=t.node.id,e[16]=k):k=e[16];let C;e[17]!==k||e[18]!==v?(C={id:v,data:k},e[17]=k,e[18]=v,e[19]=C):C=e[19];const{setNodeRef:_,isOver:S}=zc(C),T=`edge:${t.node.id}:right`;let N;e[20]!==t.node.id?(N={type:"edge",tabsetId:t.node.id,edge:"right"},e[20]=t.node.id,e[21]=N):N=e[21];let j;e[22]!==T||e[23]!==N?(j={id:T,data:N},e[22]=T,e[23]=N,e[24]=j):j=e[24];const{setNodeRef:R,isOver:I}=zc(j),A=t.isDraggingTab&&(c||p||w||S||I);let $;e[25]!==t?($=()=>{t.setLayout(be=>km(be,t.node.id))},e[25]=t,e[26]=$):$=e[26];const E=$;let M;e[27]!==t?(M=be=>{if(Kc(be)){const We=Yi(be);We&&t.onRequestTerminalFocus(We)}t.setLayout(We=>{const He=km(We,t.node.id);return _m(He,t.node.id,be)})},e[27]=t,e[28]=M):M=e[28];const F=M,L=t.node.tabs.filter(Kc),Y=t.node.tabs.flatMap(be=>{if(be==="stats"&&!t.statsTabEnabled)return[];const We=`${n}-tab-${be}`,He=`${n}-panel-${be}`,Je=Kc(be),ye=Vh(be),Ze=t.tabPositions.get(be),qe=[st.SIDEBAR_TAB_1,st.SIDEBAR_TAB_2,st.SIDEBAR_TAB_3,st.SIDEBAR_TAB_4,st.SIDEBAR_TAB_5,st.SIDEBAR_TAB_6,st.SIDEBAR_TAB_7,st.SIDEBAR_TAB_8,st.SIDEBAR_TAB_9],ft=Ze!==void 0&&Ze<qe.length?Bt(qe[Ze]):void 0;let Et;if(ye){const dt=vw(be);Et=l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{children:dt}),ft&&l.jsx("span",{className:"text-muted-foreground",children:ft})]})}else Et=ft;let At;if(be==="costs")At=l.jsx(F1e,{workspaceId:t.workspaceId});else if(be==="review")At=l.jsx(B1e,{reviewStats:t.reviewStats});else if(be==="explorer")At=l.jsx(q1e,{});else if(be==="stats")At=l.jsx(z1e,{workspaceId:t.workspaceId});else if(be==="monitor")At=l.jsx(H1e,{workspaceId:t.workspaceId});else if(Je){const dt=L.indexOf(be);At=l.jsx(W1e,{dynamicTitle:t.terminalTitles.get(be),terminalIndex:dt,onPopOut:()=>t.onPopOutTerminal(be),onClose:()=>t.onCloseTerminal(be)})}else if(Vh(be)){const dt=vw(be);At=l.jsx(U1e,{filePath:dt??be,onClose:()=>t.onCloseFile(be)})}else At=be;return[{id:We,panelId:He,selected:t.node.activeTab===be,onSelect:()=>F(be),label:At,tooltip:Et,tab:be,onClose:Je?()=>t.onCloseTerminal(be):Vh(be)?()=>t.onCloseFile(be):void 0}]}),O=`${n}-panel-costs`,G=`${n}-panel-review`,H=`${n}-panel-explorer`,D=`${n}-panel-stats`,U=`${n}-tab-costs`,B=`${n}-tab-review`,q=`${n}-tab-explorer`,V=`${n}-tab-stats`;let Z;e[29]!==t.node.id?(Z=be=>`${t.node.id}:${be.tab}`,e[29]=t.node.id,e[30]=Z):Z=e[30];const W=Y.map(Z),K=ce(r,t.isDraggingTab&&c&&"bg-accent/10 ring-1 ring-accent/50"),J=t.isDraggingTab?A?"opacity-100":"opacity-0":"opacity-0 pointer-events-none",ee=p?"bg-accent/20 border-b border-accent":"bg-accent/5";let se;e[31]!==J||e[32]!==ee?(se=ce("absolute inset-x-0 top-0 z-10 h-10 transition-opacity",J,ee),e[31]=J,e[32]=ee,e[33]=se):se=e[33];let re;e[34]!==se||e[35]!==h?(re=l.jsx("div",{ref:h,className:se}),e[34]=se,e[35]=h,e[36]=re):re=e[36];const ue=t.isDraggingTab?A?"opacity-100":"opacity-0":"opacity-0 pointer-events-none",he=w?"bg-accent/20 border-t border-accent":"bg-accent/5";let ke;e[37]!==ue||e[38]!==he?(ke=ce("absolute inset-x-0 bottom-0 z-10 h-10 transition-opacity",ue,he),e[37]=ue,e[38]=he,e[39]=ke):ke=e[39];let je;e[40]!==y||e[41]!==ke?(je=l.jsx("div",{ref:y,className:ke}),e[40]=y,e[41]=ke,e[42]=je):je=e[42];const _e=t.isDraggingTab?A?"opacity-100":"opacity-0":"opacity-0 pointer-events-none",ge=S?"bg-accent/20 border-r border-accent":"bg-accent/5";let ve;e[43]!==_e||e[44]!==ge?(ve=ce("absolute inset-y-0 left-0 z-10 w-10 transition-opacity",_e,ge),e[43]=_e,e[44]=ge,e[45]=ve):ve=e[45];let De;e[46]!==_||e[47]!==ve?(De=l.jsx("div",{ref:_,className:ve}),e[46]=_,e[47]=ve,e[48]=De):De=e[48];const $e=t.isDraggingTab?A?"opacity-100":"opacity-0":"opacity-0 pointer-events-none",Qe=I?"bg-accent/20 border-l border-accent":"bg-accent/5";let Be;e[49]!==$e||e[50]!==Qe?(Be=ce("absolute inset-y-0 right-0 z-10 w-10 transition-opacity",$e,Qe),e[49]=$e,e[50]=Qe,e[51]=Be):Be=e[51];let ie;e[52]!==R||e[53]!==Be?(ie=l.jsx("div",{ref:R,className:Be}),e[52]=R,e[53]=Be,e[54]=ie):ie=e[54];let Te;e[55]!==O||e[56]!==U||e[57]!==t.node.activeTab||e[58]!==t.workspaceId?(Te=t.node.activeTab==="costs"&&l.jsx("div",{role:"tabpanel",id:O,"aria-labelledby":U,children:l.jsx(zhe,{workspaceId:t.workspaceId})}),e[55]=O,e[56]=U,e[57]=t.node.activeTab,e[58]=t.workspaceId,e[59]=Te):Te=e[59];let Ne;e[60]!==t||e[61]!==n?(Ne=be=>{const We=`${n}-tab-${be}`,He=`${n}-panel-${be}`,Je=t.node.activeTab===be,ye=Yi(be),Ze=Je&&ye===t.autoFocusTerminalSession;return l.jsx("div",{role:"tabpanel",id:He,"aria-labelledby":We,className:"h-full",hidden:!Je,children:l.jsx(o0e,{workspaceId:t.workspaceId,tabType:be,visible:Je,onTitleChange:qe=>t.onTerminalTitleChange(be,qe),autoFocus:Ze,onAutoFocusConsumed:Ze?t.onAutoFocusConsumed:void 0,onExit:()=>t.onTerminalExit(be)})},He)},e[60]=t,e[61]=n,e[62]=Ne):Ne=e[62];const Re=L.map(Ne);let Le;e[63]!==t.node.activeTab||e[64]!==t.node.tabs||e[65]!==t.statsTabEnabled||e[66]!==t.workspaceId||e[67]!==D||e[68]!==V?(Le=t.node.tabs.includes("stats")&&t.statsTabEnabled&&l.jsx("div",{role:"tabpanel",id:D,"aria-labelledby":V,hidden:t.node.activeTab!=="stats",children:l.jsx(lk,{workspaceInfo:"Stats tab",children:l.jsx(Zfe,{workspaceId:t.workspaceId})})}),e[63]=t.node.activeTab,e[64]=t.node.tabs,e[65]=t.statsTabEnabled,e[66]=t.workspaceId,e[67]=D,e[68]=V,e[69]=Le):Le=e[69];let Ae;e[70]!==t.node.activeTab||e[71]!==t.node.tabs||e[72]!==t.workspaceId?(Ae=t.node.tabs.includes("monitor")&&l.jsx("div",{role:"tabpanel",hidden:t.node.activeTab!=="monitor",children:l.jsx(lk,{workspaceInfo:"Monitor tab",children:l.jsx(a0e,{workspaceId:t.workspaceId})})}),e[70]=t.node.activeTab,e[71]=t.node.tabs,e[72]=t.workspaceId,e[73]=Ae):Ae=e[73];let bt;e[74]!==H||e[75]!==q||e[76]!==t.node.activeTab||e[77]!==t.onOpenFile||e[78]!==t.workspaceId||e[79]!==t.workspacePath?(bt=t.node.activeTab==="explorer"&&l.jsx("div",{role:"tabpanel",id:H,"aria-labelledby":q,className:"h-full",children:l.jsx(Obe,{workspaceId:t.workspaceId,workspacePath:t.workspacePath,onOpenFile:t.onOpenFile})}),e[74]=H,e[75]=q,e[76]=t.node.activeTab,e[77]=t.onOpenFile,e[78]=t.workspaceId,e[79]=t.workspacePath,e[80]=bt):bt=e[80];let nt;if(e[81]!==t.node.activeTab||e[82]!==t.node.tabs||e[83]!==t.onReviewNote||e[84]!==t.workspaceId||e[85]!==n){let be;e[87]!==t.node.activeTab||e[88]!==t.onReviewNote||e[89]!==t.workspaceId||e[90]!==n?(be=We=>{const He=vw(We),Je=`${n}-tab-${We}`,ye=`${n}-panel-${We}`,Ze=t.node.activeTab===We;return l.jsx("div",{role:"tabpanel",id:ye,"aria-labelledby":Je,className:"h-full",hidden:!Ze,children:Ze&&He&&l.jsx(Rbe,{workspaceId:t.workspaceId,relativePath:He,onReviewNote:t.onReviewNote})},ye)},e[87]=t.node.activeTab,e[88]=t.onReviewNote,e[89]=t.workspaceId,e[90]=n,e[91]=be):be=e[91],nt=t.node.tabs.filter(Vh).map(be),e[81]=t.node.activeTab,e[82]=t.node.tabs,e[83]=t.onReviewNote,e[84]=t.workspaceId,e[85]=n,e[86]=nt}else nt=e[86];let ct;e[92]!==t.focusTrigger||e[93]!==t.isCreating||e[94]!==t.node.activeTab||e[95]!==t.node.id||e[96]!==t.onOpenFile||e[97]!==t.onReviewNote||e[98]!==t.onReviewStatsChange||e[99]!==t.projectPath||e[100]!==t.workspaceId||e[101]!==t.workspacePath||e[102]!==G||e[103]!==B?(ct=t.node.activeTab==="review"&&l.jsx("div",{role:"tabpanel",id:G,"aria-labelledby":B,className:"h-full",children:l.jsx(Ofe,{workspaceId:t.workspaceId,workspacePath:t.workspacePath,projectPath:t.projectPath,onReviewNote:t.onReviewNote,focusTrigger:t.focusTrigger,isCreating:t.isCreating,onStatsChange:t.onReviewStatsChange,onOpenFile:t.onOpenFile},`${t.workspaceId}:${t.node.id}`)}),e[92]=t.focusTrigger,e[93]=t.isCreating,e[94]=t.node.activeTab,e[95]=t.node.id,e[96]=t.onOpenFile,e[97]=t.onReviewNote,e[98]=t.onReviewStatsChange,e[99]=t.projectPath,e[100]=t.workspaceId,e[101]=t.workspacePath,e[102]=G,e[103]=B,e[104]=ct):ct=e[104];let pt;return e[105]!==o||e[106]!==K||e[107]!==re||e[108]!==je||e[109]!==De||e[110]!==ie||e[111]!==Te||e[112]!==Re||e[113]!==Le||e[114]!==Ae||e[115]!==bt||e[116]!==nt||e[117]!==ct?(pt=l.jsxs("div",{ref:o,className:K,children:[re,je,De,ie,Te,Re,Le,Ae,bt,nt,ct]}),e[105]=o,e[106]=K,e[107]=re,e[108]=je,e[109]=De,e[110]=ie,e[111]=Te,e[112]=Re,e[113]=Le,e[114]=Ae,e[115]=bt,e[116]=nt,e[117]=ct,e[118]=pt):pt=e[118],l.jsxs("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",onMouseDownCapture:E,children:[l.jsx(C1e,{items:W,strategy:RC,children:l.jsx(V1e,{ariaLabel:"Sidebar views",items:Y,tabsetId:t.node.id,onAddTerminal:t.onAddTerminal})}),pt]})},zbe=({workspaceId:t,workspacePath:e,projectPath:n,width:r,onStartResize:a,isResizing:s=!1,onReviewNote:i,isCreating:o=!1,addTerminalRef:c})=>{const[u,d]=xe.useState(0),[m,h]=xe.useState(null),[p,f]=xe.useState(null),[g,x]=Tt(yx,!1,{listener:!0}),{statsTabState:y}=uC(),w=!!y?.enabled,v=xe.useMemo(()=>{const _e=_n(R_,"costs");return yu(_e)?_e:"costs"},[]),k=xe.useMemo(()=>Hu(v),[v]),C=wx(t),[_,S]=Tt(C,k,{listener:!0}),[T,N]=xe.useState(null),j=xe.useRef(null),R=xe.useRef(_);R.current=_;const I=xe.useRef(!1),A=xe.useCallback(()=>{I.current=!0,j.current=null},[]),$=xe.useCallback(()=>{I.current=!1;const _e=j.current;_e&&S(_e),j.current=null,N(null)},[S]),E=xe.useMemo(()=>Rl(T??_,v),[T,_,v]);xe.useEffect(()=>{S(_e=>{const ge=Rl(_e,v),ve=Qd(ge.root).includes("stats");return w&&!ve?Xh(ge,"stats",!1):!w&&ve?dd(ge,"stats"):ge})},[v,S,w]),xe.useEffect(()=>{gO(_)||S(E)},[E,_,S]);const M=xe.useCallback(()=>j.current??Rl(R.current,v),[v]),F=xe.useCallback(_e=>{const ge=B0e(_e,v);if(!Kc(ge))return;const ve=Yi(ge);ve&&f(ve)},[v,f]),L=xe.useCallback(_e=>{if(I.current){const ge=j.current??Rl(R.current,v),ve=_e(ge);j.current=ve,N(ve);return}S(ge=>_e(Rl(ge,v)))},[v,S]);xe.useEffect(()=>{const _e=[st.SIDEBAR_TAB_1,st.SIDEBAR_TAB_2,st.SIDEBAR_TAB_3,st.SIDEBAR_TAB_4,st.SIDEBAR_TAB_5,st.SIDEBAR_TAB_6,st.SIDEBAR_TAB_7,st.SIDEBAR_TAB_8,st.SIDEBAR_TAB_9],ge=ve=>{for(let De=0;De<_e.length;De++)if(bn(ve,_e[De])){ve.preventDefault();const $e=Rl(R.current,v),Be=Jd($e.root)[De];if(Be&&Kc(Be.tab)){const ie=Yi(Be.tab);ie&&f(ie)}else Be?.tab==="review"&&d(ie=>ie+1);L(ie=>F0e(ie,De)),x(!1);return}};return window.addEventListener("keydown",ge),()=>window.removeEventListener("keydown",ge)},[v,f,x,L,d]);const Y=`right-sidebar-${t}`,O=xe.useMemo(()=>{const _e=Jd(E.root),ge=new Map;return _e.forEach(({tab:ve},De)=>{ge.set(ve,De)}),ge},[E.root]),[G,H]=xe.useState(null),D=lZ(t),[U,B]=xe.useState(()=>{const _e=_n(D,{});return new Map(Object.entries(_e))}),{api:q}=Kt(),V=xe.useCallback(_e=>{const ge=dd(M(),_e);L(()=>ge),F(ge),B(ve=>{const De=new Map(ve);return De.delete(_e),rn(D,Object.fromEntries(De)),De})},[F,M,L,D]);xe.useEffect(()=>{const _e=ge=>{if(!bn(ge,st.CLOSE_TAB))return;const ve=pa(E.root,E.focusedTabsetId);if(ve?.type!=="tabset")return;const De=ve.activeTab;if(Kc(De)){ge.preventDefault();const $e=Yi(De);$e&&q?.terminal.close({sessionId:$e}).catch(Qe=>{console.warn("[RightSidebar] Failed to close terminal session:",Qe)}),V(De);return}if(Vh(De)){ge.preventDefault();const $e=dd(E,De);L(()=>$e),F($e)}};return window.addEventListener("keydown",_e,{capture:!0}),()=>window.removeEventListener("keydown",_e,{capture:!0})},[q,F,E,V,L]),xe.useEffect(()=>{if(!q)return;let _e=!1;return q.terminal.listSessions({workspaceId:t}).then(ge=>{if(_e)return;const ve=new Set(ge),$e=Qd(E.root).filter(Kc),Qe=new Set($e.map(Yi).filter(Boolean)),Be=ge.filter(Te=>!Qe.has(Te)),ie=$e.filter(Te=>{const Ne=Yi(Te);return Ne&&!ve.has(Ne)});(Be.length>0||ie.length>0)&&L(Te=>{let Ne=Te;for(const Re of ie)Ne=dd(Ne,Re);for(const Re of Be)Ne=Xh(Ne,ck(Re),!1);return Ne})}),()=>{_e=!0}},[q,t,L]);const Z=xe.useCallback((_e,ge)=>{B(ve=>{const De=new Map(ve);return De.set(_e,ge),rn(D,Object.fromEntries(De)),De})},[D]),W=xe.useCallback(_e=>{q&&(x(!1),lC(q,t,_e).then(ge=>{const ve=ck(ge.sessionId);L(De=>Xh(De,ve)),f(ge.sessionId)}))},[q,t,L,x]);xe.useEffect(()=>(c&&(c.current=W),()=>{c&&(c.current=null)}),[c,W]);const K=xe.useCallback(_e=>{const ge=Yi(_e);ge&&q?.terminal.close({sessionId:ge}).catch(ve=>{console.warn("[RightSidebar] Failed to close terminal session:",ve)}),V(_e)},[q,V]),J=xe.useCallback(_e=>{if(!q)return;const ge=Yi(_e);ge&&(gL(q,t,ge),L(ve=>dd(ve,_e)),B(ve=>{const De=new Map(ve);return De.delete(_e),rn(D,Object.fromEntries(De)),De}))},[t,q,L,D]),ee=xe.useCallback(_e=>{const ge=i0e(_e);if(Qd(E.root).includes(ge)){const De=Jd(E.root).find($e=>$e.tab===ge)?.tabsetId;De&&L($e=>{const Qe=km($e,De);return _m(Qe,De,ge)});return}L(De=>Xh(De,ge))},[E.root,L]),se=xe.useCallback(_e=>{const ge=dd(M(),_e);L(()=>ge),F(ge)},[F,M,L]),re=sge(age($C,{activationConstraint:{distance:8}})),ue=xe.useCallback(_e=>{const ge=_e.active.data.current;ge&&(H(ge),A())},[A]),he=xe.useCallback(_e=>{const{active:ge,over:ve}=_e,De=ge.data.current;if(De&&ve){const $e=ve.data.current;if($e){if("type"in $e&&$e.type==="edge")L(Qe=>q0e(Qe,De.tab,De.sourceTabsetId,$e.tabsetId,$e.edge));else if("type"in $e&&$e.type==="content")De.sourceTabsetId!==$e.tabsetId&&L(Qe=>Tw(Qe,De.tab,De.sourceTabsetId,$e.tabsetId));else if("tabsetId"in $e&&!("tab"in $e))De.sourceTabsetId!==$e.tabsetId&&L(Qe=>Tw(Qe,De.tab,De.sourceTabsetId,$e.tabsetId));else if("tab"in $e&&"sourceTabsetId"in $e)if(De.sourceTabsetId===$e.sourceTabsetId){const Qe=De.index,Be=$e.index;Qe!==Be&&L(ie=>L0e(ie,De.sourceTabsetId,Qe,Be))}else L(Qe=>Tw(Qe,De.tab,De.sourceTabsetId,$e.sourceTabsetId))}}H(null),$()},[L,$]),ke=G!==null,je=_e=>{if(_e.type==="split"){const ge=_e.direction==="horizontal"?"vertical":"horizontal";return l.jsxs(pO,{direction:ge,className:"flex min-h-0 min-w-0 flex-1",onLayout:ve=>{if(ve.length!==2)return;const De=[typeof ve[0]=="number"?ve[0]:50,typeof ve[1]=="number"?ve[1]:50];L($e=>P0e($e,_e.id,De))},children:[l.jsx(uk,{defaultSize:_e.sizes[0],minSize:15,className:"flex min-h-0 min-w-0 flex-col",children:je(_e.children[0])}),l.jsx(Fbe,{direction:ge,isDraggingTab:ke}),l.jsx(uk,{defaultSize:_e.sizes[1],minSize:15,className:"flex min-h-0 min-w-0 flex-col",children:je(_e.children[1])})]})}return l.jsx(Bbe,{node:_e,baseId:Y,workspaceId:t,workspacePath:e,projectPath:n,isCreating:!!o,focusTrigger:u,onReviewNote:i,reviewStats:m,statsTabEnabled:w,onReviewStatsChange:h,isDraggingTab:ke,activeDragData:G,setLayout:L,onPopOutTerminal:J,onAddTerminal:W,onCloseTerminal:K,onTerminalExit:V,terminalTitles:U,onTerminalTitleChange:Z,tabPositions:O,onRequestTerminalFocus:f,autoFocusTerminalSession:p,onAutoFocusConsumed:()=>f(null),onOpenFile:ee,onCloseFile:se},_e.id)};return l.jsxs(n1e,{sensors:re,onDragStart:ue,onDragEnd:he,children:[l.jsxs(Pbe,{collapsed:g,isResizing:s,isDesktop:$i(),customWidth:r,role:"complementary","aria-label":"Workspace insights",children:[!g&&l.jsxs("div",{className:"flex min-h-0 min-w-0 flex-1 flex-row",children:[a&&l.jsx("div",{className:ce("w-0.5 flex-shrink-0 z-10 transition-[background] duration-150 cursor-col-resize",s?"bg-accent":"bg-border-light hover:bg-accent"),onMouseDown:_e=>a(_e)}),l.jsxs("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col",children:[je(E.root),l.jsx(R3,{collapsed:g,onToggle:()=>x(!g),side:"right"})]})]}),g&&l.jsx(R3,{collapsed:g,onToggle:()=>x(!g),side:"right"})]}),l.jsx(w1e,{children:G?l.jsx("div",{className:"border-border bg-background/95 cursor-grabbing rounded-md border px-3 py-1 text-xs font-medium shadow",children:L1e(G.tab)}):null})]})},Hbe=xe.memo(zbe),BT="pointer-events-none absolute right-[15px] bottom-full left-[15px] z-[1000] mb-2 [&>*]:pointer-events-auto",qO=t=>{const e=ae.c(14),{wrap:n}=t,r=n===void 0?!0:n,a=Kt();if(a.status==="connected"||a.status==="connecting"||a.status==="auth_required")return null;if(a.status==="degraded"||a.status==="reconnecting"){let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx("span",{className:"bg-warning inline-block h-2 w-2 animate-pulse rounded-full"}),e[0]=s):s=e[0];let i;e[1]!==a.attempt||e[2]!==a.status?(i=a.status==="degraded"?"Connection unstable  messages may be delayed":l.jsxs(l.Fragment,{children:["Reconnecting to server",a.attempt>1&&` (attempt ${a.attempt})`,""]}),e[1]=a.attempt,e[2]=a.status,e[3]=i):i=e[3];let o;e[4]!==i?(o=l.jsxs("div",{role:"status","aria-live":"polite",className:"bg-warning/10 border-warning/30 text-warning flex animate-[toastSlideIn_0.2s_ease-out] items-center gap-2 rounded border px-3 py-1.5 text-xs shadow-[0_4px_12px_rgba(0,0,0,0.3)]",children:[s,l.jsx("span",{children:i})]}),e[4]=i,e[5]=o):o=e[5];const c=o;if(!r)return c;let u;return e[6]!==c?(u=l.jsx("div",{className:BT,children:c}),e[6]=c,e[7]=u):u=e[7],u}if(a.status==="error"){let s,i;e[8]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx("span",{className:"bg-danger inline-block h-2 w-2 rounded-full"}),i=l.jsx("span",{children:"Connection lost"}),e[8]=s,e[9]=i):(s=e[8],i=e[9]);let o;e[10]!==a.retry?(o=l.jsxs("div",{role:"alert","aria-live":"assertive",className:"bg-toast-error-bg border-toast-error-border text-toast-error-text flex animate-[toastSlideIn_0.2s_ease-out] items-center gap-2 rounded border px-3 py-1.5 text-xs shadow-[0_4px_12px_rgba(0,0,0,0.3)]",children:[s,i,l.jsx("button",{type:"button",onClick:a.retry,className:"underline hover:no-underline",children:"Retry"})]}),e[10]=a.retry,e[11]=o):o=e[11];const c=o;if(!r)return c;let u;return e[12]!==c?(u=l.jsx("div",{className:BT,children:c}),e[12]=c,e[13]=u):u=e[13],u}return null},qbe=t=>{const e=ae.c(22),{projectPath:n}=t,{api:r}=Kt(),a=as(),[s,i]=xe.useState(!1);let o;e[0]!==n?(o=()=>_n(f1(n),{}),e[0]=n,e[1]=o):o=e[1];const[c,u]=xe.useState(o);let d,m;e[2]!==r||e[3]!==n||e[4]!==a.isOpen?(d=()=>{if(!r||a.isOpen)return;let f=!1;return i(!0),r.mcp.list({projectPath:n}).then(g=>{if(f)return;const x=g??{};u(x),rn(f1(n),x)}).catch(()=>{f||u({})}).finally(()=>{f||i(!1)}),()=>{f=!0}},m=[r,n,a.isOpen],e[2]=r,e[3]=n,e[4]=a.isOpen,e[5]=d,e[6]=m):(d=e[5],m=e[6]),xe.useEffect(d,m);let h,p;if(e[7]!==s||e[8]!==c||e[9]!==a){p=Symbol.for("react.early_return_sentinel");e:{const f=Object.entries(c).filter(Ube).sort(Wbe);if(!s&&f.length===0){p=null;break e}let g;e[12]!==a?(g=()=>a.open("mcp"),e[12]=a,e[13]=g):g=e[13];let x;e[14]===Symbol.for("react.memo_cache_sentinel")?(x=l.jsx(Bl,{className:"text-muted h-3.5 w-3.5 shrink-0"}),e[14]=x):x=e[14];const y=!s&&l.jsxs("span",{className:"text-muted/60 ml-1",children:["(",f.length,")"]});let w;e[15]!==y?(w=l.jsxs("span",{className:"text-muted text-xs font-medium",children:["MCP Servers",y]}),e[15]=y,e[16]=w):w=e[16];let v;e[17]!==s?(v=s&&l.jsx(pn,{className:"text-muted h-3 w-3 animate-spin"}),e[17]=s,e[18]=v):v=e[18];let k;e[19]!==v||e[20]!==w?(k=l.jsxs("div",{className:"flex items-center gap-2",children:[x,w,v]}),e[19]=v,e[20]=w,e[21]=k):k=e[21],h=l.jsxs("button",{type:"button",onClick:g,className:"border-border/50 hover:border-border hover:bg-bg-lighter group mt-5 w-full max-w-sm cursor-pointer rounded-lg border px-4 py-3 text-left transition-colors",children:[k,f.length>0&&l.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5",children:f.map(Gbe)})]})}e[7]=s,e[8]=c,e[9]=a,e[10]=h,e[11]=p}else h=e[10],p=e[11];return p!==Symbol.for("react.early_return_sentinel")?p:h};function Ube(t){const[,e]=t;return!e.disabled}function Wbe(t,e){const[n]=t,[r]=e;return n.localeCompare(r)}function Gbe(t){const[e,n]=t;return l.jsxs("span",{className:"bg-separator/60 text-muted-foreground inline-flex items-center gap-1 rounded px-1.5 py-0.5 text-[11px]",children:[l.jsx("span",{className:"inline-block h-1.5 w-1.5 shrink-0 rounded-full bg-green-500",title:n.transport}),e]},e)}const UO=b.createContext(null),Vbe=t=>{const e=ae.c(3);let n;return e[0]!==t.children||e[1]!==t.value?(n=l.jsx(UO.Provider,{value:t.value,children:t.children}),e[0]=t.children,e[1]=t.value,e[2]=n):n=e[2],n};function OC(){return b.useContext(UO)}const Kbe=["messageEditing","imageAttachments","slashCommandSuggestions","commandPalette","voiceInput","reviewAnnotations","bashForegroundControls","jsonRawView"],Ybe=Kbe.reduce((t,e)=>(t[e]="supported",t),{}),Xbe=b.createContext({uiSupport:Ybe,actions:{}});function Zbe(){return b.useContext(Xbe)}const ab=t=>{const e=ae.c(34),{label:n,variant:r,message:a,buttons:s,children:i,rightLabel:o,backgroundEffect:c}=t,u=r===void 0?"assistant":r;let d;e[0]!==s?(d=s===void 0?[]:s,e[0]=s,e[1]=d):d=e[1];const m=d,[h,p]=b.useState(!1),{uiSupport:f}=Zbe(),g=f.jsonRawView==="supported",x=g&&h,y="timestamp"in a&&typeof a.timestamp=="number"?a.timestamp:null;let w;e[2]!==y?(w=y?Xpe(y):null,e[2]=y,e[3]=w):w=e[3];const v=w;let k;e:{if("isLastPartOfMessage"in a&&a.isLastPartOfMessage&&!a.isPartial){k=!0;break e}k=!1}const C=k,_=u==="user"||C,S=u==="user"&&"ml-auto w-fit max-w-full",T=u==="assistant"&&"w-full text-foreground",N=C&&"mb-4";let j;e[4]!==S||e[5]!==T||e[6]!==N?(j=ce("mt-4 mb-1 flex flex-col relative isolate",S,T,N),e[4]=S,e[5]=T,e[6]=N,e[7]=j):j=e[7];const R=u==="user"&&"bg-[var(--color-user-surface)] border border-[var(--color-user-border)] rounded-lg px-3 py-2 overflow-x-auto shadow-sm",I=u==="assistant"&&"px-1 py-1";let A;e[8]!==R||e[9]!==I?(A=ce(R,I),e[8]=R,e[9]=I,e[10]=A):A=e[10];let $;e[11]!==i||e[12]!==x||e[13]!==a?($=x?l.jsx("pre",{className:"m-0 overflow-x-auto rounded-xl border border-[var(--color-message-debug-border)] bg-[var(--color-message-debug-bg)] p-3 text-[12px] leading-snug whitespace-pre-wrap text-[var(--color-message-debug-text)]",children:JSON.stringify(a,null,2)}):i,e[11]=i,e[12]=x,e[13]=a,e[14]=$):$=e[14];let E;e[15]!==$?(E=l.jsx("div",{className:"relative z-10 flex flex-col gap-2",children:l.jsx("div",{"data-message-content":!0,children:$})}),e[15]=$,e[16]=E):E=e[16];let M;e[17]!==c||e[18]!==A||e[19]!==E?(M=l.jsxs("div",{className:A,children:[c,E]}),e[17]=c,e[18]=A,e[19]=E,e[20]=M):M=e[20];let F;e[21]!==m||e[22]!==g||e[23]!==v||e[24]!==x||e[25]!==n||e[26]!==o||e[27]!==_||e[28]!==u?(F=_&&l.jsxs("div",{className:ce("mt-2 flex flex-wrap items-center justify-between gap-3 text-[11px]",u==="user"?"ml-auto text-muted":"text-muted"),"data-message-meta":!0,children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-0.5","data-message-meta-actions":!0,children:[m.map(Qbe),g&&l.jsx(Od,{button:{label:x?"Hide JSON":"Show JSON",icon:l.jsx(QJ,{}),active:x,onClick:()=>p(!x),tooltip:x?"Hide raw JSON":"Show raw JSON"}})]}),l.jsxs("div",{className:"text-muted flex min-w-0 flex-1 flex-wrap items-center gap-2 text-xs","data-message-meta-right":!0,children:[o,n&&l.jsx("div",{className:"inline-flex min-w-0 items-center gap-2 whitespace-nowrap",children:n}),v&&l.jsx("span",{"data-message-timestamp":!0,children:v})]})]}),e[21]=m,e[22]=g,e[23]=v,e[24]=x,e[25]=n,e[26]=o,e[27]=_,e[28]=u,e[29]=F):F=e[29];let L;return e[30]!==M||e[31]!==F||e[32]!==j?(L=l.jsxs("div",{className:j,"data-message-block":!0,children:[M,F]}),e[30]=M,e[31]=F,e[32]=j,e[33]=L):L=e[33],L},Od=t=>{const e=ae.c(17),{button:n}=t;if(n.component){let i;return e[0]!==n.component?(i=l.jsx(l.Fragment,{children:n.component}),e[0]=n.component,e[1]=i):i=e[1],i}let r;e[2]!==n.icon||e[3]!==n.label?(r=n.icon??l.jsx("span",{className:"text-[10px] font-semibold tracking-wide uppercase",children:n.label}),e[2]=n.icon,e[3]=n.label,e[4]=r):r=e[4];let a;e[5]!==n.disabled||e[6]!==n.label||e[7]!==n.onClick||e[8]!==r?(a=l.jsx(tt,{onClick:n.onClick,disabled:n.disabled,"aria-label":n.label,variant:"ghost",size:"icon",className:"text-placeholder flex h-6 w-6 items-center justify-center [&_svg]:size-3.5",children:r}),e[5]=n.disabled,e[6]=n.label,e[7]=n.onClick,e[8]=r,e[9]=a):a=e[9];const s=a;if(n.tooltip||n.label){let i;e[10]!==s?(i=l.jsx(Xe,{asChild:!0,children:s}),e[10]=s,e[11]=i):i=e[11];const o=n.tooltip??n.label;let c;e[12]!==o?(c=l.jsx(Ke,{align:"center",children:o}),e[12]=o,e[13]=c):c=e[13];let u;return e[14]!==i||e[15]!==c?(u=l.jsxs(Ye,{children:[i,c]}),e[14]=i,e[15]=c,e[16]=u):u=e[16],u}return s};function Qbe(t,e){return l.jsx(Od,{button:t},e)}const Jbe=t=>{const e=ae.c(52),{filePath:n,lineRange:r,code:a,diff:s,oldStart:i,newStart:o,comment:c,onDetach:u,onComplete:d,onDelete:m,onEditComment:h,compact:p}=t,f=p===void 0?!1:p,[g,x]=b.useState(!1),[y,w]=b.useState(c),v=b.useRef(null);let k;e:{if(!a){k=!1;break e}let H;if(e[0]!==a){const D=a.split(`
`)[0]??"";let U;e[2]===Symbol.for("react.memo_cache_sentinel")?(U=/^\s*\d*\s+\d*\s+[+-\s]/,e[2]=U):U=e[2],H=U.test(D),e[0]=a,e[1]=H}else H=e[1];k=H}const C=k;let _;e[3]!==c?(_=()=>{w(c),x(!0),setTimeout(()=>v.current?.focus(),0)},e[3]=c,e[4]=_):_=e[4];const S=_;let T;e[5]!==c||e[6]!==y||e[7]!==h?(T=()=>{h&&y.trim()!==c&&h(y.trim()),x(!1)},e[5]=c,e[6]=y,e[7]=h,e[8]=T):T=e[8];const N=T;let j;e[9]!==c?(j=()=>{w(c),x(!1)},e[9]=c,e[10]=j):j=e[10];const R=j;let I;e[11]!==R||e[12]!==N?(I=H=>{bn(H,st.SAVE_EDIT)?(H.preventDefault(),N()):bn(H,st.CANCEL_EDIT)&&(H.preventDefault(),R())},e[11]=R,e[12]=N,e[13]=I):I=e[13];const A=I,$=!!(d??u??m??h);let E;e[14]!==f||e[15]!==n||e[16]!==r?(E=!f&&l.jsxs("span",{className:"text-primary min-w-0 flex-1 truncate font-mono text-[11px]",children:[n,":L",q1(r)]}),e[14]=f,e[15]=n,e[16]=r,e[17]=E):E=e[17];let M;e[18]!==f||e[19]!==r?(M=f&&l.jsxs("span",{className:"text-muted min-w-0 flex-1 truncate font-mono text-[10px]",children:["L",q1(r)]}),e[18]=f,e[19]=r,e[20]=M):M=e[20];let F;e[21]!==S||e[22]!==$||e[23]!==g||e[24]!==d||e[25]!==m||e[26]!==u||e[27]!==h?(F=$&&l.jsxs("div",{className:"flex shrink-0 items-center gap-0.5 opacity-0 transition-opacity group-hover/review:opacity-100",children:[h&&!g&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",onClick:S,"aria-label":"Edit comment",className:"text-muted hover:text-secondary flex items-center justify-center rounded p-1 transition-colors",children:l.jsx(Rs,{className:"size-3"})})}),l.jsx(Ke,{children:"Edit comment"})]}),d&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",onClick:d,"aria-label":"Mark as done",className:"text-muted hover:text-success flex items-center justify-center rounded p-1 transition-colors",children:l.jsx(Hn,{className:"size-3"})})}),l.jsx(Ke,{children:"Mark as done"})]}),u&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",onClick:u,"aria-label":"Detach from message",className:"text-muted hover:text-secondary flex items-center justify-center rounded p-1 transition-colors",children:l.jsx(fI,{className:"size-3"})})}),l.jsx(Ke,{children:"Detach from message"})]}),m&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",onClick:m,"aria-label":"Delete review",className:"text-muted hover:text-error flex items-center justify-center rounded p-1 transition-colors",children:l.jsx(fa,{className:"size-3"})})}),l.jsx(Ke,{children:"Delete review"})]})]}),e[21]=S,e[22]=$,e[23]=g,e[24]=d,e[25]=m,e[26]=u,e[27]=h,e[28]=F):F=e[28];let L;e[29]!==E||e[30]!==M||e[31]!==F?(L=l.jsxs("div",{className:"flex items-center gap-1.5 border-b border-[var(--color-review-accent)]/20 bg-[var(--color-review-accent)]/10 px-2 py-1 text-xs",children:[E,M,F]}),e[29]=E,e[30]=M,e[31]=F,e[32]=L):L=e[32];let Y;e[33]!==a||e[34]!==s||e[35]!==n||e[36]!==C||e[37]!==o||e[38]!==i?(Y=(s??a)&&l.jsx("div",{className:"max-h-48 overflow-auto text-[11px]",children:s?l.jsx(Jp,{content:s,showLineNumbers:!0,oldStart:i??1,newStart:o??1,fontSize:"11px",filePath:n,maxHeight:"none",className:"min-w-fit rounded-none"}):C?l.jsx("pre",{className:"font-monospace bg-code-bg p-1.5 text-[11px] leading-[1.4] whitespace-pre",children:a}):l.jsx(Jp,{content:a,showLineNumbers:!1,fontSize:"11px",filePath:n,maxHeight:"none",className:"min-w-fit rounded-none"})}),e[33]=a,e[34]=s,e[35]=n,e[36]=C,e[37]=o,e[38]=i,e[39]=Y):Y=e[39];let O;e[40]!==c||e[41]!==y||e[42]!==R||e[43]!==A||e[44]!==N||e[45]!==g||e[46]!==h?(O=(c||h)&&l.jsx("div",{className:"border-t border-[var(--color-review-accent)]/20 px-2 py-1",children:g?l.jsxs("div",{className:"space-y-1",children:[l.jsx("textarea",{ref:v,value:y,onChange:H=>w(H.target.value),onKeyDown:A,className:"text-primary w-full resize-none rounded border border-[var(--color-review-accent)]/40 bg-[var(--color-review-accent)]/10 px-1.5 py-1 text-xs focus:border-[var(--color-review-accent)]/60 focus:outline-none",rows:2,placeholder:"Your comment..."}),l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[l.jsxs("span",{className:"text-muted text-[10px]",children:[Bt(st.SAVE_EDIT),"  ",Bt(st.CANCEL_EDIT)]}),l.jsx(tt,{variant:"ghost",size:"sm",className:"h-5 px-1.5 text-[10px]",onClick:R,children:"Cancel"}),l.jsx(tt,{variant:"secondary",size:"sm",className:"h-5 px-1.5 text-[10px]",onClick:N,children:"Save"})]})]}):l.jsx("blockquote",{className:"text-secondary border-l-2 border-[var(--color-review-accent)]/50 pl-2 text-xs leading-relaxed whitespace-pre-wrap",children:c||l.jsx("span",{className:"text-muted italic",children:"No comment"})})}),e[40]=c,e[41]=y,e[42]=R,e[43]=A,e[44]=N,e[45]=g,e[46]=h,e[47]=O):O=e[47];let G;return e[48]!==L||e[49]!==Y||e[50]!==O?(G=l.jsxs("div",{className:"group/review min-w-0 overflow-hidden rounded border border-[var(--color-review-accent)]/30 bg-[var(--color-review-accent)]/5",children:[L,Y,O]}),e[48]=L,e[49]=Y,e[50]=O,e[51]=G):G=e[51],G},WO=t=>{const e=ae.c(13),{data:n,onDetach:r,onComplete:a,onDelete:s,onEditComment:i,compact:o}=t;let c;return e[0]!==o||e[1]!==n.filePath||e[2]!==n.lineRange||e[3]!==n.newStart||e[4]!==n.oldStart||e[5]!==n.selectedCode||e[6]!==n.selectedDiff||e[7]!==n.userNote||e[8]!==a||e[9]!==s||e[10]!==r||e[11]!==i?(c=l.jsx(Jbe,{filePath:n.filePath,lineRange:n.lineRange,code:n.selectedCode,diff:n.selectedDiff,oldStart:n.oldStart,newStart:n.newStart,comment:n.userNote,onDetach:r,compact:o,onComplete:a,onDelete:s,onEditComment:i}),e[0]=o,e[1]=n.filePath,e[2]=n.lineRange,e[3]=n.newStart,e[4]=n.oldStart,e[5]=n.selectedCode,e[6]=n.selectedDiff,e[7]=n.userNote,e[8]=a,e[9]=s,e[10]=r,e[11]=i,e[12]=c):c=e[12],c},Kf=(function(t){if(t==null)return rxe;if(typeof t=="function")return Sy(t);if(typeof t=="object")return Array.isArray(t)?exe(t):txe(t);if(typeof t=="string")return nxe(t);throw new Error("Expected function, string, or object as test")});function exe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Kf(t[n]);return Sy(r);function r(...a){let s=-1;for(;++s<e.length;)if(e[s].apply(this,a))return!0;return!1}}function txe(t){const e=t;return Sy(n);function n(r){const a=r;let s;for(s in t)if(a[s]!==e[s])return!1;return!0}}function nxe(t){return Sy(e);function e(n){return n&&n.type===t}}function Sy(t){return e;function e(n,r,a){return!!(axe(n)&&t.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function rxe(){return!0}function axe(t){return t!==null&&typeof t=="object"&&"type"in t}const GO=[],Vo=!0,wk=!1,Cm="skip";function PC(t,e,n,r){let a;typeof e=="function"&&typeof n!="function"?(r=n,n=e):a=e;const s=Kf(a),i=r?-1:1;o(t,void 0,[])();function o(c,u,d){const m=c&&typeof c=="object"?c:{};if(typeof m.type=="string"){const p=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=GO,f,g,x;if((!e||s(c,u,d[d.length-1]||void 0))&&(p=sxe(n(c,d)),p[0]===wk))return p;if("children"in c&&c.children){const y=c;if(y.children&&p[0]!==Cm)for(g=(r?y.children.length:-1)+i,x=d.concat(y);g>-1&&g<y.children.length;){const w=y.children[g];if(f=o(w,g,x)(),f[0]===wk)return f;g=typeof f[1]=="number"?f[1]:g+i}}return p}}}function sxe(t){return Array.isArray(t)?t:typeof t=="number"?[Vo,t]:t==null?GO:[t]}function uo(t,e,n,r){let a,s,i;typeof e=="function"&&typeof n!="function"?(s=void 0,i=e,a=n):(s=e,i=n,a=r),PC(t,s,o,a);function o(c,u){const d=u[u.length-1],m=d?d.children.indexOf(c):void 0;return i(c,m,d)}}function ixe({defaultOrigin:t="",allowedLinkPrefixes:e=[],allowedImagePrefixes:n=[],allowDataImages:r=!1,allowedProtocols:a=[],blockedImageClass:s="inline-block bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 px-3 py-1 rounded text-sm",blockedLinkClass:i="text-gray-500"}){const o=e.length&&!e.every(u=>u==="*"),c=n.length&&!n.every(u=>u==="*");if(!t&&(o||c))throw new Error("defaultOrigin is required when allowedLinkPrefixes or allowedImagePrefixes are provided");return u=>{const d=uxe(t,e,n,r,a,s,i);uo(u,d)}}function zT(t,e){if(typeof t!="string")return null;try{return new URL(t)}catch{if(e)try{return new URL(t,e)}catch{return null}if(t.startsWith("/")||t.startsWith("./")||t.startsWith("../"))try{return new URL(t,"http://example.com")}catch{return null}return null}}function oxe(t){return typeof t!="string"?!1:t.startsWith("/")||t.startsWith("./")||t.startsWith("../")}const lxe=new Set(["https:","http:","irc:","ircs:","mailto:","xmpp:","blob:"]),cxe=new Set(["javascript:","data:","file:","vbscript:"]);function HT(t,e,n,r=!1,a=!1,s=[]){if(!t)return null;if(typeof t=="string"&&t.startsWith("#")&&!a)try{if(new URL(t,"http://example.com").hash===t)return t}catch{}if(typeof t=="string"&&t.startsWith("data:"))return a&&r&&t.startsWith("data:image/")?t:null;if(typeof t=="string"&&t.startsWith("blob:")){try{if(new URL(t).protocol==="blob:"&&t.length>5){const d=t.substring(5);if(d&&d.length>0&&d!=="invalid")return t}}catch{return null}return null}const i=zT(t,n);if(!i||cxe.has(i.protocol)||!(lxe.has(i.protocol)||s.includes(i.protocol)||s.includes("*")))return null;if(i.protocol==="mailto:"||!i.protocol.match(/^https?:$/))return i.href;const c=oxe(t);return i&&e.some(u=>{const d=zT(u,n);return!d||d.origin!==i.origin?!1:i.href.startsWith(d.href)})?c?i.pathname+i.search+i.hash:i.href:e.includes("*")?i.protocol!=="https:"&&i.protocol!=="http:"?null:c?i.pathname+i.search+i.hash:i.href:null}const Rw=Symbol("node-seen"),uxe=(t,e,n,r,a,s,i)=>{const o=(c,u,d)=>{if(c.type!=="element"||c[Rw])return Vo;if(c.tagName==="a"){const m=HT(c.properties.href,e,t,!1,!1,a);return m===null?(c[Rw]=!0,uo(c,o),d&&typeof u=="number"&&(d.children[u]={type:"element",tagName:"span",properties:{title:"Blocked URL: "+String(c.properties.href),class:i},children:[...c.children,{type:"text",value:" [blocked]"}]}),Cm):(c.properties.href=m,c.properties.target="_blank",c.properties.rel="noopener noreferrer",Vo)}if(c.tagName==="img"){const m=HT(c.properties.src,n,t,r,!0,a);return m===null?(c[Rw]=!0,uo(c,o),d&&typeof u=="number"&&(d.children[u]={type:"element",tagName:"span",properties:{class:s},children:[{type:"text",value:"[Image blocked: "+String(c.properties.alt||"No description")+"]"}]}),Cm):(c.properties.src=m,Vo)}return Vo};return o};let Yf=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};Yf.prototype.normal={};Yf.prototype.property={};Yf.prototype.space=void 0;function VO(t,e){const n={},r={};for(const a of t)Object.assign(n,a.property),Object.assign(r,a.normal);return new Yf(n,r,e)}function sf(t){return t.toLowerCase()}let xs=class{constructor(e,n){this.attribute=n,this.property=e}};xs.prototype.attribute="";xs.prototype.booleanish=!1;xs.prototype.boolean=!1;xs.prototype.commaOrSpaceSeparated=!1;xs.prototype.commaSeparated=!1;xs.prototype.defined=!1;xs.prototype.mustUseProperty=!1;xs.prototype.number=!1;xs.prototype.overloadedBoolean=!1;xs.prototype.property="";xs.prototype.spaceSeparated=!1;xs.prototype.space=void 0;let dxe=0;const Nn=qu(),Gr=qu(),vk=qu(),Ct=qu(),lr=qu(),tm=qu(),Cs=qu();function qu(){return 2**++dxe}const kk=Object.freeze(Object.defineProperty({__proto__:null,boolean:Nn,booleanish:Gr,commaOrSpaceSeparated:Cs,commaSeparated:tm,number:Ct,overloadedBoolean:vk,spaceSeparated:lr},Symbol.toStringTag,{value:"Module"})),Mw=Object.keys(kk);let FC=class extends xs{constructor(e,n,r,a){let s=-1;if(super(e,n),qT(this,"space",a),typeof r=="number")for(;++s<Mw.length;){const i=Mw[s];qT(this,Mw[s],(r&kk[i])===kk[i])}}};FC.prototype.defined=!0;function qT(t,e,n){n&&(t[e]=n)}function eh(t){const e={},n={};for(const[r,a]of Object.entries(t.properties)){const s=new FC(r,t.transform(t.attributes||{},r),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[sf(r)]=r,n[sf(s.attribute)]=r}return new Yf(e,n,t.space)}const KO=eh({properties:{ariaActiveDescendant:null,ariaAtomic:Gr,ariaAutoComplete:null,ariaBusy:Gr,ariaChecked:Gr,ariaColCount:Ct,ariaColIndex:Ct,ariaColSpan:Ct,ariaControls:lr,ariaCurrent:null,ariaDescribedBy:lr,ariaDetails:null,ariaDisabled:Gr,ariaDropEffect:lr,ariaErrorMessage:null,ariaExpanded:Gr,ariaFlowTo:lr,ariaGrabbed:Gr,ariaHasPopup:null,ariaHidden:Gr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:lr,ariaLevel:Ct,ariaLive:null,ariaModal:Gr,ariaMultiLine:Gr,ariaMultiSelectable:Gr,ariaOrientation:null,ariaOwns:lr,ariaPlaceholder:null,ariaPosInSet:Ct,ariaPressed:Gr,ariaReadOnly:Gr,ariaRelevant:null,ariaRequired:Gr,ariaRoleDescription:lr,ariaRowCount:Ct,ariaRowIndex:Ct,ariaRowSpan:Ct,ariaSelected:Gr,ariaSetSize:Ct,ariaSort:null,ariaValueMax:Ct,ariaValueMin:Ct,ariaValueNow:Ct,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function YO(t,e){return e in t?t[e]:e}function XO(t,e){return YO(t,e.toLowerCase())}const mxe=eh({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:tm,acceptCharset:lr,accessKey:lr,action:null,allow:null,allowFullScreen:Nn,allowPaymentRequest:Nn,allowUserMedia:Nn,alt:null,as:null,async:Nn,autoCapitalize:null,autoComplete:lr,autoFocus:Nn,autoPlay:Nn,blocking:lr,capture:null,charSet:null,checked:Nn,cite:null,className:lr,cols:Ct,colSpan:null,content:null,contentEditable:Gr,controls:Nn,controlsList:lr,coords:Ct|tm,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Nn,defer:Nn,dir:null,dirName:null,disabled:Nn,download:vk,draggable:Gr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Nn,formTarget:null,headers:lr,height:Ct,hidden:vk,high:Ct,href:null,hrefLang:null,htmlFor:lr,httpEquiv:lr,id:null,imageSizes:null,imageSrcSet:null,inert:Nn,inputMode:null,integrity:null,is:null,isMap:Nn,itemId:null,itemProp:lr,itemRef:lr,itemScope:Nn,itemType:lr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Nn,low:Ct,manifest:null,max:null,maxLength:Ct,media:null,method:null,min:null,minLength:Ct,multiple:Nn,muted:Nn,name:null,nonce:null,noModule:Nn,noValidate:Nn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Nn,optimum:Ct,pattern:null,ping:lr,placeholder:null,playsInline:Nn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Nn,referrerPolicy:null,rel:lr,required:Nn,reversed:Nn,rows:Ct,rowSpan:Ct,sandbox:lr,scope:null,scoped:Nn,seamless:Nn,selected:Nn,shadowRootClonable:Nn,shadowRootDelegatesFocus:Nn,shadowRootMode:null,shape:null,size:Ct,sizes:null,slot:null,span:Ct,spellCheck:Gr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ct,step:null,style:null,tabIndex:Ct,target:null,title:null,translate:null,type:null,typeMustMatch:Nn,useMap:null,value:Gr,width:Ct,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:lr,axis:null,background:null,bgColor:null,border:Ct,borderColor:null,bottomMargin:Ct,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Nn,declare:Nn,event:null,face:null,frame:null,frameBorder:null,hSpace:Ct,leftMargin:Ct,link:null,longDesc:null,lowSrc:null,marginHeight:Ct,marginWidth:Ct,noResize:Nn,noHref:Nn,noShade:Nn,noWrap:Nn,object:null,profile:null,prompt:null,rev:null,rightMargin:Ct,rules:null,scheme:null,scrolling:Gr,standby:null,summary:null,text:null,topMargin:Ct,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ct,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Nn,disableRemotePlayback:Nn,prefix:null,property:null,results:Ct,security:null,unselectable:null},space:"html",transform:XO}),hxe=eh({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Cs,accentHeight:Ct,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ct,amplitude:Ct,arabicForm:null,ascent:Ct,attributeName:null,attributeType:null,azimuth:Ct,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ct,by:null,calcMode:null,capHeight:Ct,className:lr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ct,diffuseConstant:Ct,direction:null,display:null,dur:null,divisor:Ct,dominantBaseline:null,download:Nn,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ct,enableBackground:null,end:null,event:null,exponent:Ct,externalResourcesRequired:null,fill:null,fillOpacity:Ct,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:tm,g2:tm,glyphName:tm,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ct,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ct,horizOriginX:Ct,horizOriginY:Ct,id:null,ideographic:Ct,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ct,k:Ct,k1:Ct,k2:Ct,k3:Ct,k4:Ct,kernelMatrix:Cs,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ct,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ct,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ct,overlineThickness:Ct,paintOrder:null,panose1:null,path:null,pathLength:Ct,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:lr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ct,pointsAtY:Ct,pointsAtZ:Ct,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Cs,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Cs,rev:Cs,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Cs,requiredFeatures:Cs,requiredFonts:Cs,requiredFormats:Cs,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ct,specularExponent:Ct,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ct,strikethroughThickness:Ct,string:null,stroke:null,strokeDashArray:Cs,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ct,strokeOpacity:Ct,strokeWidth:null,style:null,surfaceScale:Ct,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Cs,tabIndex:Ct,tableValues:null,target:null,targetX:Ct,targetY:Ct,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Cs,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ct,underlineThickness:Ct,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ct,values:null,vAlphabetic:Ct,vMathematical:Ct,vectorEffect:null,vHanging:Ct,vIdeographic:Ct,version:null,vertAdvY:Ct,vertOriginX:Ct,vertOriginY:Ct,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ct,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:YO}),ZO=eh({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),QO=eh({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:XO}),JO=eh({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),pxe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},fxe=/[A-Z]/g,UT=/-[a-z]/g,gxe=/^data[-\w.:]+$/i;function BC(t,e){const n=sf(e);let r=e,a=xs;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&gxe.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(UT,xxe);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!UT.test(s)){let i=s.replace(fxe,bxe);i.charAt(0)!=="-"&&(i="-"+i),e="data"+i}}a=FC}return new a(r,e)}function bxe(t){return"-"+t.toLowerCase()}function xxe(t){return t.charAt(1).toUpperCase()}const jy=VO([KO,mxe,ZO,QO,JO],"html"),th=VO([KO,hxe,ZO,QO,JO],"svg");function WT(t){const e=[],n=String(t||"");let r=n.indexOf(","),a=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const i=n.slice(a,r).trim();(i||!s)&&e.push(i),a=r+1,r=n.indexOf(",",a)}return e}function eP(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const GT=/[#.]/g;function yxe(t,e){const n=t||"",r={};let a=0,s,i;for(;a<n.length;){GT.lastIndex=a;const o=GT.exec(n),c=n.slice(a,o?o.index:n.length);c&&(s?s==="#"?r.id=c:Array.isArray(r.className)?r.className.push(c):r.className=[c]:i=c,a+=c.length),o&&(s=o[0],a++)}return{type:"element",tagName:i||e||"div",properties:r,children:[]}}function VT(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function tP(t){return t.join(" ").trim()}function nP(t,e,n){const r=n?_xe(n):void 0;function a(s,i,...o){let c;if(s==null){c={type:"root",children:[]};const u=i;o.unshift(u)}else{c=yxe(s,e);const u=c.tagName.toLowerCase(),d=r?r.get(u):void 0;if(c.tagName=d||u,wxe(i))o.unshift(i);else for(const[m,h]of Object.entries(i))vxe(t,c.properties,m,h)}for(const u of o)_k(c.children,u);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return a}function wxe(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const a=e[r];if(a&&typeof a=="object"){if(!Array.isArray(a))return!0;const s=a;for(const i of s)if(typeof i!="number"&&typeof i!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function vxe(t,e,n,r){const a=BC(t,n);let s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?a.spaceSeparated?s=VT(r):a.commaSeparated?s=WT(r):a.commaOrSpaceSeparated?s=VT(WT(r).join(" ")):s=KT(a,a.property,r):Array.isArray(r)?s=[...r]:s=a.property==="style"?kxe(r):String(r);if(Array.isArray(s)){const i=[];for(const o of s)i.push(KT(a,a.property,o));s=i}a.property==="className"&&Array.isArray(e.className)&&(s=e.className.concat(s)),e[a.property]=s}}function _k(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)_k(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?_k(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function KT(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||sf(n)===sf(e)))return!0}return n}function kxe(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function _xe(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const Cxe=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],rP=nP(jy,"div"),aP=nP(th,"g",Cxe),no={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Sxe(t,e){return sP(t,{})||{type:"root",children:[]}}function sP(t,e){const n=jxe(t,e);return n&&e.afterTransform&&e.afterTransform(t,n),n}function jxe(t,e){switch(t.nodeType){case 1:return $xe(t,e);case 3:return Exe(t);case 8:return Nxe(t);case 9:return YT(t,e);case 10:return Txe();case 11:return YT(t,e);default:return}}function YT(t,e){return{type:"root",children:iP(t,e)}}function Txe(){return{type:"doctype"}}function Exe(t){return{type:"text",value:t.nodeValue||""}}function Nxe(t){return{type:"comment",value:t.nodeValue||""}}function $xe(t,e){const n=t.namespaceURI,r=n===no.svg?aP:rP,a=n===no.html?t.tagName.toLowerCase():t.tagName,s=n===no.html&&a==="template"?t.content:t,i=t.getAttributeNames(),o={};let c=-1;for(;++c<i.length;)o[i[c]]=t.getAttribute(i[c])||"";return r(a,o,iP(s,e))}function iP(t,e){const n=t.childNodes,r=[];let a=-1;for(;++a<n.length;){const s=sP(n[a],e);s!==void 0&&r.push(s)}return r}new DOMParser;function Axe(t,e){const n=Ixe(t);return Sxe(n)}function Ixe(t){const e=document.createElement("template");return e.innerHTML=t,e.content}const XT=(function(t,e,n){const r=Kf(n);if(!t||!t.type||!t.children)throw new Error("Expected parent node");if(typeof e=="number"){if(e<0||e===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(e=t.children.indexOf(e),e<0)throw new Error("Expected child node or index");for(;++e<t.children.length;)if(r(t.children[e],e,t))return t.children[e]}),Uu=(function(t){if(t==null)return Dxe;if(typeof t=="string")return Mxe(t);if(typeof t=="object")return Rxe(t);if(typeof t=="function")return zC(t);throw new Error("Expected function, string, or array as `test`")});function Rxe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Uu(t[n]);return zC(r);function r(...a){let s=-1;for(;++s<e.length;)if(e[s].apply(this,a))return!0;return!1}}function Mxe(t){return zC(e);function e(n){return n.tagName===t}}function zC(t){return e;function e(n,r,a){return!!(Lxe(n)&&t.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function Dxe(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="element"&&"tagName"in t&&typeof t.tagName=="string")}function Lxe(t){return t!==null&&typeof t=="object"&&"type"in t&&"tagName"in t}const ZT=/\n/g,QT=/[\t ]+/g,Ck=Uu("br"),JT=Uu(Uxe),Oxe=Uu("p"),eE=Uu("tr"),Pxe=Uu(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",qxe,Wxe]),oP=Uu(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function Fxe(t,e){const n=e||{},r="children"in t?t.children:[],a=oP(t),s=uP(t,{whitespace:n.whitespace||"normal"}),i=[];(t.type==="text"||t.type==="comment")&&i.push(...cP(t,{breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<r.length;)i.push(...lP(r[o],t,{whitespace:s,breakBefore:o?void 0:a,breakAfter:o<r.length-1?Ck(r[o+1]):a}));const c=[];let u;for(o=-1;++o<i.length;){const d=i[o];typeof d=="number"?u!==void 0&&d>u&&(u=d):d&&(u!==void 0&&u>-1&&c.push(`
`.repeat(u)||" "),u=-1,c.push(d))}return c.join("")}function lP(t,e,n){return t.type==="element"?Bxe(t,e,n):t.type==="text"?n.whitespace==="normal"?cP(t,n):zxe(t):[]}function Bxe(t,e,n){const r=uP(t,n),a=t.children||[];let s=-1,i=[];if(Pxe(t))return i;let o,c;for(Ck(t)||eE(t)&&XT(e,t,eE)?c=`
`:Oxe(t)?(o=2,c=2):oP(t)&&(o=1,c=1);++s<a.length;)i=i.concat(lP(a[s],t,{whitespace:r,breakBefore:s?void 0:o,breakAfter:s<a.length-1?Ck(a[s+1]):c}));return JT(t)&&XT(e,t,JT)&&i.push("	"),o&&i.unshift(o),c&&i.push(c),i}function cP(t,e){const n=String(t.value),r=[],a=[];let s=0;for(;s<=n.length;){ZT.lastIndex=s;const c=ZT.exec(n),u=c&&"index"in c?c.index:n.length;r.push(Hxe(n.slice(s,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?e.breakBefore:!0,u===n.length?e.breakAfter:!0)),s=u+1}let i=-1,o;for(;++i<r.length;)r[i].charCodeAt(r[i].length-1)===8203||i<r.length-1&&r[i+1].charCodeAt(0)===8203?(a.push(r[i]),o=void 0):r[i]?(typeof o=="number"&&a.push(o),a.push(r[i]),o=0):(i===0||i===r.length-1)&&a.push(0);return a}function zxe(t){return[String(t.value)]}function Hxe(t,e,n){const r=[];let a=0,s;for(;a<t.length;){QT.lastIndex=a;const i=QT.exec(t);s=i?i.index:t.length,!a&&!s&&i&&!e&&r.push(""),a!==s&&r.push(t.slice(a,s)),a=i?s+i[0].length:s}return a!==s&&!n&&r.push(""),r.join(" ")}function uP(t,e){if(t.type==="element"){const n=t.properties||{};switch(t.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}}return e.whitespace}function qxe(t){return!!(t.properties||{}).hidden}function Uxe(t){return t.tagName==="td"||t.tagName==="th"}function Wxe(t){return t.tagName==="dialog"&&!(t.properties||{}).open}class ms{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new ms(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class Ds{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Ds(n,ms.range(this,e))}}class _t{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,a,s,i=n&&n.loc;if(i&&i.start<=i.end){var o=i.lexer.input;a=i.start,s=i.end,a===o.length?r+=" at end of input: ":r+=" at position "+(a+1)+": ";var c=o.slice(a,s).replace(/[^]/g,"$&"),u;a>15?u=""+o.slice(a-15,a):u=o.slice(0,a);var d;s+15<o.length?d=o.slice(s,s+15)+"":d=o.slice(s),r+=u+c+d}var m=new Error(r);return m.name="ParseError",m.__proto__=_t.prototype,m.position=a,a!=null&&s!=null&&(m.length=s-a),m.rawMessage=e,m}}_t.prototype.__proto__=Error.prototype;var Gxe=function(e,n){return e===void 0?n:e},Vxe=/([A-Z])/g,Kxe=function(e){return e.replace(Vxe,"-$1").toLowerCase()},Yxe={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Xxe=/[&><"']/g;function Zxe(t){return String(t).replace(Xxe,e=>Yxe[e])}var dP=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},Qxe=function(e){var n=dP(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},Jxe=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},eye=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Kn={deflt:Gxe,escape:Zxe,hyphenate:Kxe,getBaseElem:dP,isCharacterBox:Qxe,protocolFromUrl:eye},xp={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function tye(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class HC{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in xp)if(xp.hasOwnProperty(n)){var r=xp[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:tye(r)}}reportNonstrict(e,n,r){var a=this.strict;if(typeof a=="function"&&(a=a(e,n,r)),!(!a||a==="ignore")){if(a===!0||a==="error")throw new _t("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);a==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var a=this.strict;if(typeof a=="function")try{a=a(e,n,r)}catch{a="error"}return!a||a==="ignore"?!1:a===!0||a==="error"?!0:a==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+a+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=Kn.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}}class Sl{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return Qi[nye[this.id]]}sub(){return Qi[rye[this.id]]}fracNum(){return Qi[aye[this.id]]}fracDen(){return Qi[sye[this.id]]}cramp(){return Qi[iye[this.id]]}text(){return Qi[oye[this.id]]}isTight(){return this.size>=2}}var qC=0,sb=1,nm=2,Zo=3,of=4,Zs=5,Sm=6,Ya=7,Qi=[new Sl(qC,0,!1),new Sl(sb,0,!0),new Sl(nm,1,!1),new Sl(Zo,1,!0),new Sl(of,2,!1),new Sl(Zs,2,!0),new Sl(Sm,3,!1),new Sl(Ya,3,!0)],nye=[of,Zs,of,Zs,Sm,Ya,Sm,Ya],rye=[Zs,Zs,Zs,Zs,Ya,Ya,Ya,Ya],aye=[nm,Zo,of,Zs,Sm,Ya,Sm,Ya],sye=[Zo,Zo,Zs,Zs,Ya,Ya,Ya,Ya],iye=[sb,sb,Zo,Zo,Zs,Zs,Ya,Ya],oye=[qC,sb,nm,Zo,nm,Zo,nm,Zo],hn={DISPLAY:Qi[qC],TEXT:Qi[nm],SCRIPT:Qi[of],SCRIPTSCRIPT:Qi[Sm]},Sk=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function lye(t){for(var e=0;e<Sk.length;e++)for(var n=Sk[e],r=0;r<n.blocks.length;r++){var a=n.blocks[r];if(t>=a[0]&&t<=a[1])return n.name}return null}var Wg=[];Sk.forEach(t=>t.blocks.forEach(e=>Wg.push(...e)));function mP(t){for(var e=0;e<Wg.length;e+=2)if(t>=Wg[e]&&t<=Wg[e+1])return!0;return!1}var hd=80,cye=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},uye=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},dye=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},mye=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},hye=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},pye=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},fye=function(e,n,r){var a=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+a+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},gye=function(e,n,r){n=1e3*n;var a="";switch(e){case"sqrtMain":a=cye(n,hd);break;case"sqrtSize1":a=uye(n,hd);break;case"sqrtSize2":a=dye(n,hd);break;case"sqrtSize3":a=mye(n,hd);break;case"sqrtSize4":a=hye(n,hd);break;case"sqrtTall":a=fye(n,hd,r)}return a},bye=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},tE={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},xye=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let Xf=class{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}};var ro={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},K0={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},nE={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function hP(t,e){ro[t]=e}function UC(t,e,n){if(!ro[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),a=ro[e][r];if(!a&&t[0]in nE&&(r=nE[t[0]].charCodeAt(0),a=ro[e][r]),!a&&n==="text"&&mP(r)&&(a=ro[e][77]),a)return{depth:a[0],height:a[1],italic:a[2],skew:a[3],width:a[4]}}var Dw={};function yye(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!Dw[e]){var n=Dw[e]={cssEmPerMu:K0.quad[e]/18};for(var r in K0)K0.hasOwnProperty(r)&&(n[r]=K0[r][e])}return Dw[e]}var wye=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],rE=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],aE=function(e,n){return n.size<2?e:wye[e-1][n.size-1]};class Bo{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Bo.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=rE[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new Bo(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:aE(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:rE[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=aE(Bo.BASESIZE,e);return this.size===n&&this.textSize===Bo.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Bo.BASESIZE?["sizing","reset-size"+this.size,"size"+Bo.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=yye(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Bo.BASESIZE=6;var jk={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},vye={ex:!0,em:!0,mu:!0},pP=function(e){return typeof e!="string"&&(e=e.unit),e in jk||e in vye||e==="ex"},jr=function(e,n){var r;if(e.unit in jk)r=jk[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var a;if(n.style.isTight()?a=n.havingStyle(n.style.text()):a=n,e.unit==="ex")r=a.fontMetrics().xHeight;else if(e.unit==="em")r=a.fontMetrics().quad;else throw new _t("Invalid unit: '"+e.unit+"'");a!==n&&(r*=a.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},Rt=function(e){return+e.toFixed(4)+"em"},Jl=function(e){return e.filter(n=>n).join(" ")},fP=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var a=n.getColor();a&&(this.style.color=a)}},gP=function(e){var n=document.createElement(e);n.className=Jl(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var a in this.attributes)this.attributes.hasOwnProperty(a)&&n.setAttribute(a,this.attributes[a]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},kye=/[\s"'>/=\x00-\x1f]/,bP=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+Kn.escape(Jl(this.classes))+'"');var r="";for(var a in this.style)this.style.hasOwnProperty(a)&&(r+=Kn.hyphenate(a)+":"+this.style[a]+";");r&&(n+=' style="'+Kn.escape(r)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(kye.test(s))throw new _t("Invalid attribute name '"+s+"'");n+=" "+s+'="'+Kn.escape(this.attributes[s])+'"'}n+=">";for(var i=0;i<this.children.length;i++)n+=this.children[i].toMarkup();return n+="</"+e+">",n};class Zf{constructor(e,n,r,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,fP.call(this,e,r,a),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return gP.call(this,"span")}toMarkup(){return bP.call(this,"span")}}class WC{constructor(e,n,r,a){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,fP.call(this,n,a),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return gP.call(this,"a")}toMarkup(){return bP.call(this,"a")}}class _ye{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+Kn.escape(this.src)+'"'+(' alt="'+Kn.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Kn.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+Kn.escape(n)+'"'),e+="'/>",e}}var Cye={:"",:"",:"",:""};class ri{constructor(e,n,r,a,s,i,o,c){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=a||0,this.skew=s||0,this.width=i||0,this.classes=o||[],this.style=c||{},this.maxFontSize=0;var u=lye(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=Cye[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Rt(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Jl(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=Kn.escape(Jl(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var a in this.style)this.style.hasOwnProperty(a)&&(r+=Kn.hyphenate(a)+":"+this.style[a]+";");r&&(e=!0,n+=' style="'+Kn.escape(r)+'"');var s=Kn.escape(this.text);return e?(n+=">",n+=s,n+="</span>",n):s}}class al{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var a=0;a<this.children.length;a++)n.appendChild(this.children[a].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Kn.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class ec{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",tE[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Kn.escape(this.alternate)+'"/>':'<path d="'+Kn.escape(tE[this.pathName])+'"/>'}}class Tk{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Kn.escape(this.attributes[n])+'"');return e+="/>",e}}function sE(t){if(t instanceof ri)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function Sye(t){if(t instanceof Zf)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var jye={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Tye={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ur={math:{},text:{}};function z(t,e,n,r,a,s){ur[t][a]={font:e,group:n,replace:r},s&&r&&(ur[t][r]=ur[t][a])}var Q="math",gt="text",te="main",me="ams",wr="accent-token",Ht="bin",is="close",nh="inner",dn="mathord",Zr="op-token",Bs="open",Ty="punct",pe="rel",bl="spacing",Ce="textord";z(Q,te,pe,"","\\equiv",!0);z(Q,te,pe,"","\\prec",!0);z(Q,te,pe,"","\\succ",!0);z(Q,te,pe,"","\\sim",!0);z(Q,te,pe,"","\\perp");z(Q,te,pe,"","\\preceq",!0);z(Q,te,pe,"","\\succeq",!0);z(Q,te,pe,"","\\simeq",!0);z(Q,te,pe,"","\\mid",!0);z(Q,te,pe,"","\\ll",!0);z(Q,te,pe,"","\\gg",!0);z(Q,te,pe,"","\\asymp",!0);z(Q,te,pe,"","\\parallel");z(Q,te,pe,"","\\bowtie",!0);z(Q,te,pe,"","\\smile",!0);z(Q,te,pe,"","\\sqsubseteq",!0);z(Q,te,pe,"","\\sqsupseteq",!0);z(Q,te,pe,"","\\doteq",!0);z(Q,te,pe,"","\\frown",!0);z(Q,te,pe,"","\\ni",!0);z(Q,te,pe,"","\\propto",!0);z(Q,te,pe,"","\\vdash",!0);z(Q,te,pe,"","\\dashv",!0);z(Q,te,pe,"","\\owns");z(Q,te,Ty,".","\\ldotp");z(Q,te,Ty,"","\\cdotp");z(Q,te,Ce,"#","\\#");z(gt,te,Ce,"#","\\#");z(Q,te,Ce,"&","\\&");z(gt,te,Ce,"&","\\&");z(Q,te,Ce,"","\\aleph",!0);z(Q,te,Ce,"","\\forall",!0);z(Q,te,Ce,"","\\hbar",!0);z(Q,te,Ce,"","\\exists",!0);z(Q,te,Ce,"","\\nabla",!0);z(Q,te,Ce,"","\\flat",!0);z(Q,te,Ce,"","\\ell",!0);z(Q,te,Ce,"","\\natural",!0);z(Q,te,Ce,"","\\clubsuit",!0);z(Q,te,Ce,"","\\wp",!0);z(Q,te,Ce,"","\\sharp",!0);z(Q,te,Ce,"","\\diamondsuit",!0);z(Q,te,Ce,"","\\Re",!0);z(Q,te,Ce,"","\\heartsuit",!0);z(Q,te,Ce,"","\\Im",!0);z(Q,te,Ce,"","\\spadesuit",!0);z(Q,te,Ce,"","\\S",!0);z(gt,te,Ce,"","\\S");z(Q,te,Ce,"","\\P",!0);z(gt,te,Ce,"","\\P");z(Q,te,Ce,"","\\dag");z(gt,te,Ce,"","\\dag");z(gt,te,Ce,"","\\textdagger");z(Q,te,Ce,"","\\ddag");z(gt,te,Ce,"","\\ddag");z(gt,te,Ce,"","\\textdaggerdbl");z(Q,te,is,"","\\rmoustache",!0);z(Q,te,Bs,"","\\lmoustache",!0);z(Q,te,is,"","\\rgroup",!0);z(Q,te,Bs,"","\\lgroup",!0);z(Q,te,Ht,"","\\mp",!0);z(Q,te,Ht,"","\\ominus",!0);z(Q,te,Ht,"","\\uplus",!0);z(Q,te,Ht,"","\\sqcap",!0);z(Q,te,Ht,"","\\ast");z(Q,te,Ht,"","\\sqcup",!0);z(Q,te,Ht,"","\\bigcirc",!0);z(Q,te,Ht,"","\\bullet",!0);z(Q,te,Ht,"","\\ddagger");z(Q,te,Ht,"","\\wr",!0);z(Q,te,Ht,"","\\amalg");z(Q,te,Ht,"&","\\And");z(Q,te,pe,"","\\longleftarrow",!0);z(Q,te,pe,"","\\Leftarrow",!0);z(Q,te,pe,"","\\Longleftarrow",!0);z(Q,te,pe,"","\\longrightarrow",!0);z(Q,te,pe,"","\\Rightarrow",!0);z(Q,te,pe,"","\\Longrightarrow",!0);z(Q,te,pe,"","\\leftrightarrow",!0);z(Q,te,pe,"","\\longleftrightarrow",!0);z(Q,te,pe,"","\\Leftrightarrow",!0);z(Q,te,pe,"","\\Longleftrightarrow",!0);z(Q,te,pe,"","\\mapsto",!0);z(Q,te,pe,"","\\longmapsto",!0);z(Q,te,pe,"","\\nearrow",!0);z(Q,te,pe,"","\\hookleftarrow",!0);z(Q,te,pe,"","\\hookrightarrow",!0);z(Q,te,pe,"","\\searrow",!0);z(Q,te,pe,"","\\leftharpoonup",!0);z(Q,te,pe,"","\\rightharpoonup",!0);z(Q,te,pe,"","\\swarrow",!0);z(Q,te,pe,"","\\leftharpoondown",!0);z(Q,te,pe,"","\\rightharpoondown",!0);z(Q,te,pe,"","\\nwarrow",!0);z(Q,te,pe,"","\\rightleftharpoons",!0);z(Q,me,pe,"","\\nless",!0);z(Q,me,pe,"","\\@nleqslant");z(Q,me,pe,"","\\@nleqq");z(Q,me,pe,"","\\lneq",!0);z(Q,me,pe,"","\\lneqq",!0);z(Q,me,pe,"","\\@lvertneqq");z(Q,me,pe,"","\\lnsim",!0);z(Q,me,pe,"","\\lnapprox",!0);z(Q,me,pe,"","\\nprec",!0);z(Q,me,pe,"","\\npreceq",!0);z(Q,me,pe,"","\\precnsim",!0);z(Q,me,pe,"","\\precnapprox",!0);z(Q,me,pe,"","\\nsim",!0);z(Q,me,pe,"","\\@nshortmid");z(Q,me,pe,"","\\nmid",!0);z(Q,me,pe,"","\\nvdash",!0);z(Q,me,pe,"","\\nvDash",!0);z(Q,me,pe,"","\\ntriangleleft");z(Q,me,pe,"","\\ntrianglelefteq",!0);z(Q,me,pe,"","\\subsetneq",!0);z(Q,me,pe,"","\\@varsubsetneq");z(Q,me,pe,"","\\subsetneqq",!0);z(Q,me,pe,"","\\@varsubsetneqq");z(Q,me,pe,"","\\ngtr",!0);z(Q,me,pe,"","\\@ngeqslant");z(Q,me,pe,"","\\@ngeqq");z(Q,me,pe,"","\\gneq",!0);z(Q,me,pe,"","\\gneqq",!0);z(Q,me,pe,"","\\@gvertneqq");z(Q,me,pe,"","\\gnsim",!0);z(Q,me,pe,"","\\gnapprox",!0);z(Q,me,pe,"","\\nsucc",!0);z(Q,me,pe,"","\\nsucceq",!0);z(Q,me,pe,"","\\succnsim",!0);z(Q,me,pe,"","\\succnapprox",!0);z(Q,me,pe,"","\\ncong",!0);z(Q,me,pe,"","\\@nshortparallel");z(Q,me,pe,"","\\nparallel",!0);z(Q,me,pe,"","\\nVDash",!0);z(Q,me,pe,"","\\ntriangleright");z(Q,me,pe,"","\\ntrianglerighteq",!0);z(Q,me,pe,"","\\@nsupseteqq");z(Q,me,pe,"","\\supsetneq",!0);z(Q,me,pe,"","\\@varsupsetneq");z(Q,me,pe,"","\\supsetneqq",!0);z(Q,me,pe,"","\\@varsupsetneqq");z(Q,me,pe,"","\\nVdash",!0);z(Q,me,pe,"","\\precneqq",!0);z(Q,me,pe,"","\\succneqq",!0);z(Q,me,pe,"","\\@nsubseteqq");z(Q,me,Ht,"","\\unlhd");z(Q,me,Ht,"","\\unrhd");z(Q,me,pe,"","\\nleftarrow",!0);z(Q,me,pe,"","\\nrightarrow",!0);z(Q,me,pe,"","\\nLeftarrow",!0);z(Q,me,pe,"","\\nRightarrow",!0);z(Q,me,pe,"","\\nleftrightarrow",!0);z(Q,me,pe,"","\\nLeftrightarrow",!0);z(Q,me,pe,"","\\vartriangle");z(Q,me,Ce,"","\\hslash");z(Q,me,Ce,"","\\triangledown");z(Q,me,Ce,"","\\lozenge");z(Q,me,Ce,"","\\circledS");z(Q,me,Ce,"","\\circledR");z(gt,me,Ce,"","\\circledR");z(Q,me,Ce,"","\\measuredangle",!0);z(Q,me,Ce,"","\\nexists");z(Q,me,Ce,"","\\mho");z(Q,me,Ce,"","\\Finv",!0);z(Q,me,Ce,"","\\Game",!0);z(Q,me,Ce,"","\\backprime");z(Q,me,Ce,"","\\blacktriangle");z(Q,me,Ce,"","\\blacktriangledown");z(Q,me,Ce,"","\\blacksquare");z(Q,me,Ce,"","\\blacklozenge");z(Q,me,Ce,"","\\bigstar");z(Q,me,Ce,"","\\sphericalangle",!0);z(Q,me,Ce,"","\\complement",!0);z(Q,me,Ce,"","\\eth",!0);z(gt,te,Ce,"","");z(Q,me,Ce,"","\\diagup");z(Q,me,Ce,"","\\diagdown");z(Q,me,Ce,"","\\square");z(Q,me,Ce,"","\\Box");z(Q,me,Ce,"","\\Diamond");z(Q,me,Ce,"","\\yen",!0);z(gt,me,Ce,"","\\yen",!0);z(Q,me,Ce,"","\\checkmark",!0);z(gt,me,Ce,"","\\checkmark");z(Q,me,Ce,"","\\beth",!0);z(Q,me,Ce,"","\\daleth",!0);z(Q,me,Ce,"","\\gimel",!0);z(Q,me,Ce,"","\\digamma",!0);z(Q,me,Ce,"","\\varkappa");z(Q,me,Bs,"","\\@ulcorner",!0);z(Q,me,is,"","\\@urcorner",!0);z(Q,me,Bs,"","\\@llcorner",!0);z(Q,me,is,"","\\@lrcorner",!0);z(Q,me,pe,"","\\leqq",!0);z(Q,me,pe,"","\\leqslant",!0);z(Q,me,pe,"","\\eqslantless",!0);z(Q,me,pe,"","\\lesssim",!0);z(Q,me,pe,"","\\lessapprox",!0);z(Q,me,pe,"","\\approxeq",!0);z(Q,me,Ht,"","\\lessdot");z(Q,me,pe,"","\\lll",!0);z(Q,me,pe,"","\\lessgtr",!0);z(Q,me,pe,"","\\lesseqgtr",!0);z(Q,me,pe,"","\\lesseqqgtr",!0);z(Q,me,pe,"","\\doteqdot");z(Q,me,pe,"","\\risingdotseq",!0);z(Q,me,pe,"","\\fallingdotseq",!0);z(Q,me,pe,"","\\backsim",!0);z(Q,me,pe,"","\\backsimeq",!0);z(Q,me,pe,"","\\subseteqq",!0);z(Q,me,pe,"","\\Subset",!0);z(Q,me,pe,"","\\sqsubset",!0);z(Q,me,pe,"","\\preccurlyeq",!0);z(Q,me,pe,"","\\curlyeqprec",!0);z(Q,me,pe,"","\\precsim",!0);z(Q,me,pe,"","\\precapprox",!0);z(Q,me,pe,"","\\vartriangleleft");z(Q,me,pe,"","\\trianglelefteq");z(Q,me,pe,"","\\vDash",!0);z(Q,me,pe,"","\\Vvdash",!0);z(Q,me,pe,"","\\smallsmile");z(Q,me,pe,"","\\smallfrown");z(Q,me,pe,"","\\bumpeq",!0);z(Q,me,pe,"","\\Bumpeq",!0);z(Q,me,pe,"","\\geqq",!0);z(Q,me,pe,"","\\geqslant",!0);z(Q,me,pe,"","\\eqslantgtr",!0);z(Q,me,pe,"","\\gtrsim",!0);z(Q,me,pe,"","\\gtrapprox",!0);z(Q,me,Ht,"","\\gtrdot");z(Q,me,pe,"","\\ggg",!0);z(Q,me,pe,"","\\gtrless",!0);z(Q,me,pe,"","\\gtreqless",!0);z(Q,me,pe,"","\\gtreqqless",!0);z(Q,me,pe,"","\\eqcirc",!0);z(Q,me,pe,"","\\circeq",!0);z(Q,me,pe,"","\\triangleq",!0);z(Q,me,pe,"","\\thicksim");z(Q,me,pe,"","\\thickapprox");z(Q,me,pe,"","\\supseteqq",!0);z(Q,me,pe,"","\\Supset",!0);z(Q,me,pe,"","\\sqsupset",!0);z(Q,me,pe,"","\\succcurlyeq",!0);z(Q,me,pe,"","\\curlyeqsucc",!0);z(Q,me,pe,"","\\succsim",!0);z(Q,me,pe,"","\\succapprox",!0);z(Q,me,pe,"","\\vartriangleright");z(Q,me,pe,"","\\trianglerighteq");z(Q,me,pe,"","\\Vdash",!0);z(Q,me,pe,"","\\shortmid");z(Q,me,pe,"","\\shortparallel");z(Q,me,pe,"","\\between",!0);z(Q,me,pe,"","\\pitchfork",!0);z(Q,me,pe,"","\\varpropto");z(Q,me,pe,"","\\blacktriangleleft");z(Q,me,pe,"","\\therefore",!0);z(Q,me,pe,"","\\backepsilon");z(Q,me,pe,"","\\blacktriangleright");z(Q,me,pe,"","\\because",!0);z(Q,me,pe,"","\\llless");z(Q,me,pe,"","\\gggtr");z(Q,me,Ht,"","\\lhd");z(Q,me,Ht,"","\\rhd");z(Q,me,pe,"","\\eqsim",!0);z(Q,te,pe,"","\\Join");z(Q,me,pe,"","\\Doteq",!0);z(Q,me,Ht,"","\\dotplus",!0);z(Q,me,Ht,"","\\smallsetminus");z(Q,me,Ht,"","\\Cap",!0);z(Q,me,Ht,"","\\Cup",!0);z(Q,me,Ht,"","\\doublebarwedge",!0);z(Q,me,Ht,"","\\boxminus",!0);z(Q,me,Ht,"","\\boxplus",!0);z(Q,me,Ht,"","\\divideontimes",!0);z(Q,me,Ht,"","\\ltimes",!0);z(Q,me,Ht,"","\\rtimes",!0);z(Q,me,Ht,"","\\leftthreetimes",!0);z(Q,me,Ht,"","\\rightthreetimes",!0);z(Q,me,Ht,"","\\curlywedge",!0);z(Q,me,Ht,"","\\curlyvee",!0);z(Q,me,Ht,"","\\circleddash",!0);z(Q,me,Ht,"","\\circledast",!0);z(Q,me,Ht,"","\\centerdot");z(Q,me,Ht,"","\\intercal",!0);z(Q,me,Ht,"","\\doublecap");z(Q,me,Ht,"","\\doublecup");z(Q,me,Ht,"","\\boxtimes",!0);z(Q,me,pe,"","\\dashrightarrow",!0);z(Q,me,pe,"","\\dashleftarrow",!0);z(Q,me,pe,"","\\leftleftarrows",!0);z(Q,me,pe,"","\\leftrightarrows",!0);z(Q,me,pe,"","\\Lleftarrow",!0);z(Q,me,pe,"","\\twoheadleftarrow",!0);z(Q,me,pe,"","\\leftarrowtail",!0);z(Q,me,pe,"","\\looparrowleft",!0);z(Q,me,pe,"","\\leftrightharpoons",!0);z(Q,me,pe,"","\\curvearrowleft",!0);z(Q,me,pe,"","\\circlearrowleft",!0);z(Q,me,pe,"","\\Lsh",!0);z(Q,me,pe,"","\\upuparrows",!0);z(Q,me,pe,"","\\upharpoonleft",!0);z(Q,me,pe,"","\\downharpoonleft",!0);z(Q,te,pe,"","\\origof",!0);z(Q,te,pe,"","\\imageof",!0);z(Q,me,pe,"","\\multimap",!0);z(Q,me,pe,"","\\leftrightsquigarrow",!0);z(Q,me,pe,"","\\rightrightarrows",!0);z(Q,me,pe,"","\\rightleftarrows",!0);z(Q,me,pe,"","\\twoheadrightarrow",!0);z(Q,me,pe,"","\\rightarrowtail",!0);z(Q,me,pe,"","\\looparrowright",!0);z(Q,me,pe,"","\\curvearrowright",!0);z(Q,me,pe,"","\\circlearrowright",!0);z(Q,me,pe,"","\\Rsh",!0);z(Q,me,pe,"","\\downdownarrows",!0);z(Q,me,pe,"","\\upharpoonright",!0);z(Q,me,pe,"","\\downharpoonright",!0);z(Q,me,pe,"","\\rightsquigarrow",!0);z(Q,me,pe,"","\\leadsto");z(Q,me,pe,"","\\Rrightarrow",!0);z(Q,me,pe,"","\\restriction");z(Q,te,Ce,"","`");z(Q,te,Ce,"$","\\$");z(gt,te,Ce,"$","\\$");z(gt,te,Ce,"$","\\textdollar");z(Q,te,Ce,"%","\\%");z(gt,te,Ce,"%","\\%");z(Q,te,Ce,"_","\\_");z(gt,te,Ce,"_","\\_");z(gt,te,Ce,"_","\\textunderscore");z(Q,te,Ce,"","\\angle",!0);z(Q,te,Ce,"","\\infty",!0);z(Q,te,Ce,"","\\prime");z(Q,te,Ce,"","\\triangle");z(Q,te,Ce,"","\\Gamma",!0);z(Q,te,Ce,"","\\Delta",!0);z(Q,te,Ce,"","\\Theta",!0);z(Q,te,Ce,"","\\Lambda",!0);z(Q,te,Ce,"","\\Xi",!0);z(Q,te,Ce,"","\\Pi",!0);z(Q,te,Ce,"","\\Sigma",!0);z(Q,te,Ce,"","\\Upsilon",!0);z(Q,te,Ce,"","\\Phi",!0);z(Q,te,Ce,"","\\Psi",!0);z(Q,te,Ce,"","\\Omega",!0);z(Q,te,Ce,"A","");z(Q,te,Ce,"B","");z(Q,te,Ce,"E","");z(Q,te,Ce,"Z","");z(Q,te,Ce,"H","");z(Q,te,Ce,"I","");z(Q,te,Ce,"K","");z(Q,te,Ce,"M","");z(Q,te,Ce,"N","");z(Q,te,Ce,"O","");z(Q,te,Ce,"P","");z(Q,te,Ce,"T","");z(Q,te,Ce,"X","");z(Q,te,Ce,"","\\neg",!0);z(Q,te,Ce,"","\\lnot");z(Q,te,Ce,"","\\top");z(Q,te,Ce,"","\\bot");z(Q,te,Ce,"","\\emptyset");z(Q,me,Ce,"","\\varnothing");z(Q,te,dn,"","\\alpha",!0);z(Q,te,dn,"","\\beta",!0);z(Q,te,dn,"","\\gamma",!0);z(Q,te,dn,"","\\delta",!0);z(Q,te,dn,"","\\epsilon",!0);z(Q,te,dn,"","\\zeta",!0);z(Q,te,dn,"","\\eta",!0);z(Q,te,dn,"","\\theta",!0);z(Q,te,dn,"","\\iota",!0);z(Q,te,dn,"","\\kappa",!0);z(Q,te,dn,"","\\lambda",!0);z(Q,te,dn,"","\\mu",!0);z(Q,te,dn,"","\\nu",!0);z(Q,te,dn,"","\\xi",!0);z(Q,te,dn,"","\\omicron",!0);z(Q,te,dn,"","\\pi",!0);z(Q,te,dn,"","\\rho",!0);z(Q,te,dn,"","\\sigma",!0);z(Q,te,dn,"","\\tau",!0);z(Q,te,dn,"","\\upsilon",!0);z(Q,te,dn,"","\\phi",!0);z(Q,te,dn,"","\\chi",!0);z(Q,te,dn,"","\\psi",!0);z(Q,te,dn,"","\\omega",!0);z(Q,te,dn,"","\\varepsilon",!0);z(Q,te,dn,"","\\vartheta",!0);z(Q,te,dn,"","\\varpi",!0);z(Q,te,dn,"","\\varrho",!0);z(Q,te,dn,"","\\varsigma",!0);z(Q,te,dn,"","\\varphi",!0);z(Q,te,Ht,"","*",!0);z(Q,te,Ht,"+","+");z(Q,te,Ht,"","-",!0);z(Q,te,Ht,"","\\cdot",!0);z(Q,te,Ht,"","\\circ",!0);z(Q,te,Ht,"","\\div",!0);z(Q,te,Ht,"","\\pm",!0);z(Q,te,Ht,"","\\times",!0);z(Q,te,Ht,"","\\cap",!0);z(Q,te,Ht,"","\\cup",!0);z(Q,te,Ht,"","\\setminus",!0);z(Q,te,Ht,"","\\land");z(Q,te,Ht,"","\\lor");z(Q,te,Ht,"","\\wedge",!0);z(Q,te,Ht,"","\\vee",!0);z(Q,te,Ce,"","\\surd");z(Q,te,Bs,"","\\langle",!0);z(Q,te,Bs,"","\\lvert");z(Q,te,Bs,"","\\lVert");z(Q,te,is,"?","?");z(Q,te,is,"!","!");z(Q,te,is,"","\\rangle",!0);z(Q,te,is,"","\\rvert");z(Q,te,is,"","\\rVert");z(Q,te,pe,"=","=");z(Q,te,pe,":",":");z(Q,te,pe,"","\\approx",!0);z(Q,te,pe,"","\\cong",!0);z(Q,te,pe,"","\\ge");z(Q,te,pe,"","\\geq",!0);z(Q,te,pe,"","\\gets");z(Q,te,pe,">","\\gt",!0);z(Q,te,pe,"","\\in",!0);z(Q,te,pe,"","\\@not");z(Q,te,pe,"","\\subset",!0);z(Q,te,pe,"","\\supset",!0);z(Q,te,pe,"","\\subseteq",!0);z(Q,te,pe,"","\\supseteq",!0);z(Q,me,pe,"","\\nsubseteq",!0);z(Q,me,pe,"","\\nsupseteq",!0);z(Q,te,pe,"","\\models");z(Q,te,pe,"","\\leftarrow",!0);z(Q,te,pe,"","\\le");z(Q,te,pe,"","\\leq",!0);z(Q,te,pe,"<","\\lt",!0);z(Q,te,pe,"","\\rightarrow",!0);z(Q,te,pe,"","\\to");z(Q,me,pe,"","\\ngeq",!0);z(Q,me,pe,"","\\nleq",!0);z(Q,te,bl,"","\\ ");z(Q,te,bl,"","\\space");z(Q,te,bl,"","\\nobreakspace");z(gt,te,bl,"","\\ ");z(gt,te,bl,""," ");z(gt,te,bl,"","\\space");z(gt,te,bl,"","\\nobreakspace");z(Q,te,bl,null,"\\nobreak");z(Q,te,bl,null,"\\allowbreak");z(Q,te,Ty,",",",");z(Q,te,Ty,";",";");z(Q,me,Ht,"","\\barwedge",!0);z(Q,me,Ht,"","\\veebar",!0);z(Q,te,Ht,"","\\odot",!0);z(Q,te,Ht,"","\\oplus",!0);z(Q,te,Ht,"","\\otimes",!0);z(Q,te,Ce,"","\\partial",!0);z(Q,te,Ht,"","\\oslash",!0);z(Q,me,Ht,"","\\circledcirc",!0);z(Q,me,Ht,"","\\boxdot",!0);z(Q,te,Ht,"","\\bigtriangleup");z(Q,te,Ht,"","\\bigtriangledown");z(Q,te,Ht,"","\\dagger");z(Q,te,Ht,"","\\diamond");z(Q,te,Ht,"","\\star");z(Q,te,Ht,"","\\triangleleft");z(Q,te,Ht,"","\\triangleright");z(Q,te,Bs,"{","\\{");z(gt,te,Ce,"{","\\{");z(gt,te,Ce,"{","\\textbraceleft");z(Q,te,is,"}","\\}");z(gt,te,Ce,"}","\\}");z(gt,te,Ce,"}","\\textbraceright");z(Q,te,Bs,"{","\\lbrace");z(Q,te,is,"}","\\rbrace");z(Q,te,Bs,"[","\\lbrack",!0);z(gt,te,Ce,"[","\\lbrack",!0);z(Q,te,is,"]","\\rbrack",!0);z(gt,te,Ce,"]","\\rbrack",!0);z(Q,te,Bs,"(","\\lparen",!0);z(Q,te,is,")","\\rparen",!0);z(gt,te,Ce,"<","\\textless",!0);z(gt,te,Ce,">","\\textgreater",!0);z(Q,te,Bs,"","\\lfloor",!0);z(Q,te,is,"","\\rfloor",!0);z(Q,te,Bs,"","\\lceil",!0);z(Q,te,is,"","\\rceil",!0);z(Q,te,Ce,"\\","\\backslash");z(Q,te,Ce,"","|");z(Q,te,Ce,"","\\vert");z(gt,te,Ce,"|","\\textbar",!0);z(Q,te,Ce,"","\\|");z(Q,te,Ce,"","\\Vert");z(gt,te,Ce,"","\\textbardbl");z(gt,te,Ce,"~","\\textasciitilde");z(gt,te,Ce,"\\","\\textbackslash");z(gt,te,Ce,"^","\\textasciicircum");z(Q,te,pe,"","\\uparrow",!0);z(Q,te,pe,"","\\Uparrow",!0);z(Q,te,pe,"","\\downarrow",!0);z(Q,te,pe,"","\\Downarrow",!0);z(Q,te,pe,"","\\updownarrow",!0);z(Q,te,pe,"","\\Updownarrow",!0);z(Q,te,Zr,"","\\coprod");z(Q,te,Zr,"","\\bigvee");z(Q,te,Zr,"","\\bigwedge");z(Q,te,Zr,"","\\biguplus");z(Q,te,Zr,"","\\bigcap");z(Q,te,Zr,"","\\bigcup");z(Q,te,Zr,"","\\int");z(Q,te,Zr,"","\\intop");z(Q,te,Zr,"","\\iint");z(Q,te,Zr,"","\\iiint");z(Q,te,Zr,"","\\prod");z(Q,te,Zr,"","\\sum");z(Q,te,Zr,"","\\bigotimes");z(Q,te,Zr,"","\\bigoplus");z(Q,te,Zr,"","\\bigodot");z(Q,te,Zr,"","\\oint");z(Q,te,Zr,"","\\oiint");z(Q,te,Zr,"","\\oiiint");z(Q,te,Zr,"","\\bigsqcup");z(Q,te,Zr,"","\\smallint");z(gt,te,nh,"","\\textellipsis");z(Q,te,nh,"","\\mathellipsis");z(gt,te,nh,"","\\ldots",!0);z(Q,te,nh,"","\\ldots",!0);z(Q,te,nh,"","\\@cdots",!0);z(Q,te,nh,"","\\ddots",!0);z(Q,te,Ce,"","\\varvdots");z(gt,te,Ce,"","\\varvdots");z(Q,te,wr,"","\\acute");z(Q,te,wr,"","\\grave");z(Q,te,wr,"","\\ddot");z(Q,te,wr,"~","\\tilde");z(Q,te,wr,"","\\bar");z(Q,te,wr,"","\\breve");z(Q,te,wr,"","\\check");z(Q,te,wr,"^","\\hat");z(Q,te,wr,"","\\vec");z(Q,te,wr,"","\\dot");z(Q,te,wr,"","\\mathring");z(Q,te,dn,"","\\@imath");z(Q,te,dn,"","\\@jmath");z(Q,te,Ce,"","");z(Q,te,Ce,"","");z(gt,te,Ce,"","\\i",!0);z(gt,te,Ce,"","\\j",!0);z(gt,te,Ce,"","\\ss",!0);z(gt,te,Ce,"","\\ae",!0);z(gt,te,Ce,"","\\oe",!0);z(gt,te,Ce,"","\\o",!0);z(gt,te,Ce,"","\\AE",!0);z(gt,te,Ce,"","\\OE",!0);z(gt,te,Ce,"","\\O",!0);z(gt,te,wr,"","\\'");z(gt,te,wr,"","\\`");z(gt,te,wr,"","\\^");z(gt,te,wr,"","\\~");z(gt,te,wr,"","\\=");z(gt,te,wr,"","\\u");z(gt,te,wr,"","\\.");z(gt,te,wr,"","\\c");z(gt,te,wr,"","\\r");z(gt,te,wr,"","\\v");z(gt,te,wr,"",'\\"');z(gt,te,wr,"","\\H");z(gt,te,wr,"","\\textcircled");var xP={"--":!0,"---":!0,"``":!0,"''":!0};z(gt,te,Ce,"","--",!0);z(gt,te,Ce,"","\\textendash");z(gt,te,Ce,"","---",!0);z(gt,te,Ce,"","\\textemdash");z(gt,te,Ce,"","`",!0);z(gt,te,Ce,"","\\textquoteleft");z(gt,te,Ce,"","'",!0);z(gt,te,Ce,"","\\textquoteright");z(gt,te,Ce,"","``",!0);z(gt,te,Ce,"","\\textquotedblleft");z(gt,te,Ce,"","''",!0);z(gt,te,Ce,"","\\textquotedblright");z(Q,te,Ce,"","\\degree",!0);z(gt,te,Ce,"","\\degree");z(gt,te,Ce,"","\\textdegree",!0);z(Q,te,Ce,"","\\pounds");z(Q,te,Ce,"","\\mathsterling",!0);z(gt,te,Ce,"","\\pounds");z(gt,te,Ce,"","\\textsterling",!0);z(Q,me,Ce,"","\\maltese");z(gt,me,Ce,"","\\maltese");var iE='0123456789/@."';for(var Lw=0;Lw<iE.length;Lw++){var oE=iE.charAt(Lw);z(Q,te,Ce,oE,oE)}var lE='0123456789!@*()-=+";:?/.,';for(var Ow=0;Ow<lE.length;Ow++){var cE=lE.charAt(Ow);z(gt,te,Ce,cE,cE)}var ib="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Pw=0;Pw<ib.length;Pw++){var Y0=ib.charAt(Pw);z(Q,te,dn,Y0,Y0),z(gt,te,Ce,Y0,Y0)}z(Q,me,Ce,"C","");z(gt,me,Ce,"C","");z(Q,me,Ce,"H","");z(gt,me,Ce,"H","");z(Q,me,Ce,"N","");z(gt,me,Ce,"N","");z(Q,me,Ce,"P","");z(gt,me,Ce,"P","");z(Q,me,Ce,"Q","");z(gt,me,Ce,"Q","");z(Q,me,Ce,"R","");z(gt,me,Ce,"R","");z(Q,me,Ce,"Z","");z(gt,me,Ce,"Z","");z(Q,te,dn,"h","");z(gt,te,dn,"h","");var xn="";for(var Wa=0;Wa<ib.length;Wa++){var Nr=ib.charAt(Wa);xn=String.fromCharCode(55349,56320+Wa),z(Q,te,dn,Nr,xn),z(gt,te,Ce,Nr,xn),xn=String.fromCharCode(55349,56372+Wa),z(Q,te,dn,Nr,xn),z(gt,te,Ce,Nr,xn),xn=String.fromCharCode(55349,56424+Wa),z(Q,te,dn,Nr,xn),z(gt,te,Ce,Nr,xn),xn=String.fromCharCode(55349,56580+Wa),z(Q,te,dn,Nr,xn),z(gt,te,Ce,Nr,xn),xn=String.fromCharCode(55349,56684+Wa),z(Q,te,dn,Nr,xn),z(gt,te,Ce,Nr,xn),xn=String.fromCharCode(55349,56736+Wa),z(Q,te,dn,Nr,xn),z(gt,te,Ce,Nr,xn),xn=String.fromCharCode(55349,56788+Wa),z(Q,te,dn,Nr,xn),z(gt,te,Ce,Nr,xn),xn=String.fromCharCode(55349,56840+Wa),z(Q,te,dn,Nr,xn),z(gt,te,Ce,Nr,xn),xn=String.fromCharCode(55349,56944+Wa),z(Q,te,dn,Nr,xn),z(gt,te,Ce,Nr,xn),Wa<26&&(xn=String.fromCharCode(55349,56632+Wa),z(Q,te,dn,Nr,xn),z(gt,te,Ce,Nr,xn),xn=String.fromCharCode(55349,56476+Wa),z(Q,te,dn,Nr,xn),z(gt,te,Ce,Nr,xn))}xn="";z(Q,te,dn,"k",xn);z(gt,te,Ce,"k",xn);for(var Ec=0;Ec<10;Ec++){var jl=Ec.toString();xn=String.fromCharCode(55349,57294+Ec),z(Q,te,dn,jl,xn),z(gt,te,Ce,jl,xn),xn=String.fromCharCode(55349,57314+Ec),z(Q,te,dn,jl,xn),z(gt,te,Ce,jl,xn),xn=String.fromCharCode(55349,57324+Ec),z(Q,te,dn,jl,xn),z(gt,te,Ce,jl,xn),xn=String.fromCharCode(55349,57334+Ec),z(Q,te,dn,jl,xn),z(gt,te,Ce,jl,xn)}var Ek="";for(var Fw=0;Fw<Ek.length;Fw++){var X0=Ek.charAt(Fw);z(Q,te,dn,X0,X0),z(gt,te,Ce,X0,X0)}var Z0=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],uE=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Eye=function(e,n){var r=e.charCodeAt(0),a=e.charCodeAt(1),s=(r-55296)*1024+(a-56320)+65536,i=n==="math"?0:1;if(119808<=s&&s<120484){var o=Math.floor((s-119808)/26);return[Z0[o][2],Z0[o][i]]}else if(120782<=s&&s<=120831){var c=Math.floor((s-120782)/10);return[uE[c][2],uE[c][i]]}else{if(s===120485||s===120486)return[Z0[0][2],Z0[0][i]];if(120486<s&&s<120782)return["",""];throw new _t("Unsupported character: "+e)}},Ey=function(e,n,r){return ur[r][e]&&ur[r][e].replace&&(e=ur[r][e].replace),{value:e,metrics:UC(e,n,r)}},gi=function(e,n,r,a,s){var i=Ey(e,n,r),o=i.metrics;e=i.value;var c;if(o){var u=o.italic;(r==="text"||a&&a.font==="mathit")&&(u=0),c=new ri(e,o.height,o.depth,u,o.skew,o.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),c=new ri(e,0,0,0,0,0,s);if(a){c.maxFontSize=a.sizeMultiplier,a.style.isTight()&&c.classes.push("mtight");var d=a.getColor();d&&(c.style.color=d)}return c},Nye=function(e,n,r,a){return a===void 0&&(a=[]),r.font==="boldsymbol"&&Ey(e,"Main-Bold",n).metrics?gi(e,"Main-Bold",n,r,a.concat(["mathbf"])):e==="\\"||ur[n][e].font==="main"?gi(e,"Main-Regular",n,r,a):gi(e,"AMS-Regular",n,r,a.concat(["amsrm"]))},$ye=function(e,n,r,a,s){return s!=="textord"&&Ey(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Aye=function(e,n,r){var a=e.mode,s=e.text,i=["mord"],o=a==="math"||a==="text"&&n.font,c=o?n.font:n.fontFamily,u="",d="";if(s.charCodeAt(0)===55349&&([u,d]=Eye(s,a)),u.length>0)return gi(s,u,a,n,i.concat(d));if(c){var m,h;if(c==="boldsymbol"){var p=$ye(s,a,n,i,r);m=p.fontName,h=[p.fontClass]}else o?(m=vP[c].fontName,h=[c]):(m=Q0(c,n.fontWeight,n.fontShape),h=[c,n.fontWeight,n.fontShape]);if(Ey(s,m,a).metrics)return gi(s,m,a,n,i.concat(h));if(xP.hasOwnProperty(s)&&m.slice(0,10)==="Typewriter"){for(var f=[],g=0;g<s.length;g++)f.push(gi(s[g],m,a,n,i.concat(h)));return wP(f)}}if(r==="mathord")return gi(s,"Math-Italic",a,n,i.concat(["mathnormal"]));if(r==="textord"){var x=ur[a][s]&&ur[a][s].font;if(x==="ams"){var y=Q0("amsrm",n.fontWeight,n.fontShape);return gi(s,y,a,n,i.concat("amsrm",n.fontWeight,n.fontShape))}else if(x==="main"||!x){var w=Q0("textrm",n.fontWeight,n.fontShape);return gi(s,w,a,n,i.concat(n.fontWeight,n.fontShape))}else{var v=Q0(x,n.fontWeight,n.fontShape);return gi(s,v,a,n,i.concat(v,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},Iye=(t,e)=>{if(Jl(t.classes)!==Jl(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var a in e.style)if(e.style.hasOwnProperty(a)&&t.style[a]!==e.style[a])return!1;return!0},Rye=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof ri&&r instanceof ri&&Iye(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},GC=function(e){for(var n=0,r=0,a=0,s=0;s<e.children.length;s++){var i=e.children[s];i.height>n&&(n=i.height),i.depth>r&&(r=i.depth),i.maxFontSize>a&&(a=i.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=a},ds=function(e,n,r,a){var s=new Zf(e,n,r,a);return GC(s),s},yP=(t,e,n,r)=>new Zf(t,e,n,r),Mye=function(e,n,r){var a=ds([e],[],n);return a.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),a.style.borderBottomWidth=Rt(a.height),a.maxFontSize=1,a},Dye=function(e,n,r,a){var s=new WC(e,n,r,a);return GC(s),s},wP=function(e){var n=new Xf(e);return GC(n),n},Lye=function(e,n){return e instanceof Xf?ds([],[e],n):e},Oye=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],a=-n[0].shift-n[0].elem.depth,s=a,i=1;i<n.length;i++){var o=-n[i].shift-s-n[i].elem.depth,c=o-(n[i-1].elem.height+n[i-1].elem.depth);s=s+o,r.push({type:"kern",size:c}),r.push(n[i])}return{children:r,depth:a}}var u;if(e.positionType==="top"){for(var d=e.positionData,m=0;m<e.children.length;m++){var h=e.children[m];d-=h.type==="kern"?h.size:h.elem.height+h.elem.depth}u=d}else if(e.positionType==="bottom")u=-e.positionData;else{var p=e.children[0];if(p.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-p.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-p.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},Pye=function(e,n){for(var{children:r,depth:a}=Oye(e),s=0,i=0;i<r.length;i++){var o=r[i];if(o.type==="elem"){var c=o.elem;s=Math.max(s,c.maxFontSize,c.height)}}s+=2;var u=ds(["pstrut"],[]);u.style.height=Rt(s);for(var d=[],m=a,h=a,p=a,f=0;f<r.length;f++){var g=r[f];if(g.type==="kern")p+=g.size;else{var x=g.elem,y=g.wrapperClasses||[],w=g.wrapperStyle||{},v=ds(y,[u,x],void 0,w);v.style.top=Rt(-s-p-x.depth),g.marginLeft&&(v.style.marginLeft=g.marginLeft),g.marginRight&&(v.style.marginRight=g.marginRight),d.push(v),p+=x.height+x.depth}m=Math.min(m,p),h=Math.max(h,p)}var k=ds(["vlist"],d);k.style.height=Rt(h);var C;if(m<0){var _=ds([],[]),S=ds(["vlist"],[_]);S.style.height=Rt(-m);var T=ds(["vlist-s"],[new ri("")]);C=[ds(["vlist-r"],[k,T]),ds(["vlist-r"],[S])]}else C=[ds(["vlist-r"],[k])];var N=ds(["vlist-t"],C);return C.length===2&&N.classes.push("vlist-t2"),N.height=h,N.depth=-m,N},Fye=(t,e)=>{var n=ds(["mspace"],[],e),r=jr(t,e);return n.style.marginRight=Rt(r),n},Q0=function(e,n,r){var a="";switch(e){case"amsrm":a="AMS";break;case"textrm":a="Main";break;case"textsf":a="SansSerif";break;case"texttt":a="Typewriter";break;default:a=e}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",a+"-"+s},vP={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},kP={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Bye=function(e,n){var[r,a,s]=kP[e],i=new ec(r),o=new al([i],{width:Rt(a),height:Rt(s),style:"width:"+Rt(a),viewBox:"0 0 "+1e3*a+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),c=yP(["overlay"],[o],n);return c.height=s,c.style.height=Rt(s),c.style.width=Rt(a),c},Fe={fontMap:vP,makeSymbol:gi,mathsym:Nye,makeSpan:ds,makeSvgSpan:yP,makeLineSpan:Mye,makeAnchor:Dye,makeFragment:wP,wrapFragment:Lye,makeVList:Pye,makeOrd:Aye,makeGlue:Fye,staticSvg:Bye,svgData:kP,tryCombineChars:Rye},Sr={number:3,unit:"mu"},Nc={number:4,unit:"mu"},Ao={number:5,unit:"mu"},zye={mord:{mop:Sr,mbin:Nc,mrel:Ao,minner:Sr},mop:{mord:Sr,mop:Sr,mrel:Ao,minner:Sr},mbin:{mord:Nc,mop:Nc,mopen:Nc,minner:Nc},mrel:{mord:Ao,mop:Ao,mopen:Ao,minner:Ao},mopen:{},mclose:{mop:Sr,mbin:Nc,mrel:Ao,minner:Sr},mpunct:{mord:Sr,mop:Sr,mrel:Ao,mopen:Sr,mclose:Sr,mpunct:Sr,minner:Sr},minner:{mord:Sr,mop:Sr,mbin:Nc,mrel:Ao,mopen:Sr,mpunct:Sr,minner:Sr}},Hye={mord:{mop:Sr},mop:{mord:Sr,mop:Sr},mbin:{},mrel:{},mopen:{},mclose:{mop:Sr},mpunct:{},minner:{mop:Sr}},_P={},ob={},lb={};function Lt(t){for(var{type:e,names:n,props:r,handler:a,htmlBuilder:s,mathmlBuilder:i}=t,o={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:a},c=0;c<n.length;++c)_P[n[c]]=o;e&&(s&&(ob[e]=s),i&&(lb[e]=i))}function Wu(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;Lt({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var cb=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Wr=function(e){return e.type==="ordgroup"?e.body:[e]},sl=Fe.makeSpan,qye=["leftmost","mbin","mopen","mrel","mop","mpunct"],Uye=["rightmost","mrel","mclose","mpunct"],Wye={display:hn.DISPLAY,text:hn.TEXT,script:hn.SCRIPT,scriptscript:hn.SCRIPTSCRIPT},Gye={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},ra=function(e,n,r,a){a===void 0&&(a=[null,null]);for(var s=[],i=0;i<e.length;i++){var o=Gn(e[i],n);if(o instanceof Xf){var c=o.children;s.push(...c)}else s.push(o)}if(Fe.tryCombineChars(s),!r)return s;var u=n;if(e.length===1){var d=e[0];d.type==="sizing"?u=n.havingSize(d.size):d.type==="styling"&&(u=n.havingStyle(Wye[d.style]))}var m=sl([a[0]||"leftmost"],[],n),h=sl([a[1]||"rightmost"],[],n),p=r==="root";return dE(s,(f,g)=>{var x=g.classes[0],y=f.classes[0];x==="mbin"&&Uye.includes(y)?g.classes[0]="mord":y==="mbin"&&qye.includes(x)&&(f.classes[0]="mord")},{node:m},h,p),dE(s,(f,g)=>{var x=Nk(g),y=Nk(f),w=x&&y?f.hasClass("mtight")?Hye[x][y]:zye[x][y]:null;if(w)return Fe.makeGlue(w,u)},{node:m},h,p),s},dE=function t(e,n,r,a,s){a&&e.push(a);for(var i=0;i<e.length;i++){var o=e[i],c=CP(o);if(c){t(c.children,n,r,null,s);continue}var u=!o.hasClass("mspace");if(u){var d=n(o,r.node);d&&(r.insertAfter?r.insertAfter(d):(e.unshift(d),i++))}u?r.node=o:s&&o.hasClass("newline")&&(r.node=sl(["leftmost"])),r.insertAfter=(m=>h=>{e.splice(m+1,0,h),i++})(i)}a&&e.pop()},CP=function(e){return e instanceof Xf||e instanceof WC||e instanceof Zf&&e.hasClass("enclosing")?e:null},Vye=function t(e,n){var r=CP(e);if(r){var a=r.children;if(a.length){if(n==="right")return t(a[a.length-1],"right");if(n==="left")return t(a[0],"left")}}return e},Nk=function(e,n){return e?(n&&(e=Vye(e,n)),Gye[e.classes[0]]||null):null},lf=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return sl(n.concat(r))},Gn=function(e,n,r){if(!e)return sl();if(ob[e.type]){var a=ob[e.type](e,n);if(r&&n.size!==r.size){a=sl(n.sizingClasses(r),[a],n);var s=n.sizeMultiplier/r.sizeMultiplier;a.height*=s,a.depth*=s}return a}else throw new _t("Got group of unknown type: '"+e.type+"'")};function J0(t,e){var n=sl(["base"],t,e),r=sl(["strut"]);return r.style.height=Rt(n.height+n.depth),n.depth&&(r.style.verticalAlign=Rt(-n.depth)),n.children.unshift(r),n}function $k(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=ra(t,e,"root"),a;r.length===2&&r[1].hasClass("tag")&&(a=r.pop());for(var s=[],i=[],o=0;o<r.length;o++)if(i.push(r[o]),r[o].hasClass("mbin")||r[o].hasClass("mrel")||r[o].hasClass("allowbreak")){for(var c=!1;o<r.length-1&&r[o+1].hasClass("mspace")&&!r[o+1].hasClass("newline");)o++,i.push(r[o]),r[o].hasClass("nobreak")&&(c=!0);c||(s.push(J0(i,e)),i=[])}else r[o].hasClass("newline")&&(i.pop(),i.length>0&&(s.push(J0(i,e)),i=[]),s.push(r[o]));i.length>0&&s.push(J0(i,e));var u;n?(u=J0(ra(n,e,!0)),u.classes=["tag"],s.push(u)):a&&s.push(a);var d=sl(["katex-html"],s);if(d.setAttribute("aria-hidden","true"),u){var m=u.children[0];m.style.height=Rt(d.height+d.depth),d.depth&&(m.style.verticalAlign=Rt(-d.depth))}return d}function SP(t){return new Xf(t)}class $s{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Jl(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof ao&&this.children[r+1]instanceof ao){for(var a=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof ao;)a+=this.children[++r].toText();e.appendChild(new ao(a).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=Kn.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+Kn.escape(Jl(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class ao{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Kn.escape(this.toText())}toText(){return this.text}}class Kye{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Rt(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Rt(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var vt={MathNode:$s,TextNode:ao,SpaceNode:Kye,newDocumentFragment:SP},ai=function(e,n,r){return ur[n][e]&&ur[n][e].replace&&e.charCodeAt(0)!==55349&&!(xP.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=ur[n][e].replace),new vt.TextNode(e)},VC=function(e){return e.length===1?e[0]:new vt.MathNode("mrow",e)},KC=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var a=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(["\\imath","\\jmath"].includes(s))return null;ur[a][s]&&ur[a][s].replace&&(s=ur[a][s].replace);var i=Fe.fontMap[r].fontName;return UC(s,i,a)?Fe.fontMap[r].variant:null};function Bw(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof ao&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof ao&&n.text===","}else return!1}var ys=function(e,n,r){if(e.length===1){var a=or(e[0],n);return r&&a instanceof $s&&a.type==="mo"&&(a.setAttribute("lspace","0em"),a.setAttribute("rspace","0em")),[a]}for(var s=[],i,o=0;o<e.length;o++){var c=or(e[o],n);if(c instanceof $s&&i instanceof $s){if(c.type==="mtext"&&i.type==="mtext"&&c.getAttribute("mathvariant")===i.getAttribute("mathvariant")){i.children.push(...c.children);continue}else if(c.type==="mn"&&i.type==="mn"){i.children.push(...c.children);continue}else if(Bw(c)&&i.type==="mn"){i.children.push(...c.children);continue}else if(c.type==="mn"&&Bw(i))c.children=[...i.children,...c.children],s.pop();else if((c.type==="msup"||c.type==="msub")&&c.children.length>=1&&(i.type==="mn"||Bw(i))){var u=c.children[0];u instanceof $s&&u.type==="mn"&&(u.children=[...i.children,...u.children],s.pop())}else if(i.type==="mi"&&i.children.length===1){var d=i.children[0];if(d instanceof ao&&d.text===""&&(c.type==="mo"||c.type==="mi"||c.type==="mn")){var m=c.children[0];m instanceof ao&&m.text.length>0&&(m.text=m.text.slice(0,1)+""+m.text.slice(1),s.pop())}}}s.push(c),i=c}return s},tc=function(e,n,r){return VC(ys(e,n,r))},or=function(e,n){if(!e)return new vt.MathNode("mrow");if(lb[e.type]){var r=lb[e.type](e,n);return r}else throw new _t("Got group of unknown type: '"+e.type+"'")};function mE(t,e,n,r,a){var s=ys(t,n),i;s.length===1&&s[0]instanceof $s&&["mrow","mtable"].includes(s[0].type)?i=s[0]:i=new vt.MathNode("mrow",s);var o=new vt.MathNode("annotation",[new vt.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var c=new vt.MathNode("semantics",[i,o]),u=new vt.MathNode("math",[c]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var d=a?"katex":"katex-mathml";return Fe.makeSpan([d],[u])}var jP=function(e){return new Bo({style:e.displayMode?hn.DISPLAY:hn.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},TP=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=Fe.makeSpan(r,[e])}return e},Yye=function(e,n,r){var a=jP(r),s;if(r.output==="mathml")return mE(e,n,a,r.displayMode,!0);if(r.output==="html"){var i=$k(e,a);s=Fe.makeSpan(["katex"],[i])}else{var o=mE(e,n,a,r.displayMode,!1),c=$k(e,a);s=Fe.makeSpan(["katex"],[o,c])}return TP(s,r)},Xye=function(e,n,r){var a=jP(r),s=$k(e,a),i=Fe.makeSpan(["katex"],[s]);return TP(i,r)},Zye={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},Qye=function(e){var n=new vt.MathNode("mo",[new vt.TextNode(Zye[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},Jye={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},e2e=function(e){return e.type==="ordgroup"?e.body.length:1},t2e=function(e,n){function r(){var o=4e5,c=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(c)){var u=e,d=e2e(u.base),m,h,p;if(d>5)c==="widehat"||c==="widecheck"?(m=420,o=2364,p=.42,h=c+"4"):(m=312,o=2340,p=.34,h="tilde4");else{var f=[1,1,2,2,3,3][d];c==="widehat"||c==="widecheck"?(o=[0,1062,2364,2364,2364][f],m=[0,239,300,360,420][f],p=[0,.24,.3,.3,.36,.42][f],h=c+f):(o=[0,600,1033,2339,2340][f],m=[0,260,286,306,312][f],p=[0,.26,.286,.3,.306,.34][f],h="tilde"+f)}var g=new ec(h),x=new al([g],{width:"100%",height:Rt(p),viewBox:"0 0 "+o+" "+m,preserveAspectRatio:"none"});return{span:Fe.makeSvgSpan([],[x],n),minWidth:0,height:p}}else{var y=[],w=Jye[c],[v,k,C]=w,_=C/1e3,S=v.length,T,N;if(S===1){var j=w[3];T=["hide-tail"],N=[j]}else if(S===2)T=["halfarrow-left","halfarrow-right"],N=["xMinYMin","xMaxYMin"];else if(S===3)T=["brace-left","brace-center","brace-right"],N=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+S+" children.");for(var R=0;R<S;R++){var I=new ec(v[R]),A=new al([I],{width:"400em",height:Rt(_),viewBox:"0 0 "+o+" "+C,preserveAspectRatio:N[R]+" slice"}),$=Fe.makeSvgSpan([T[R]],[A],n);if(S===1)return{span:$,minWidth:k,height:_};$.style.height=Rt(_),y.push($)}return{span:Fe.makeSpan(["stretchy"],y,n),minWidth:k,height:_}}}var{span:a,minWidth:s,height:i}=r();return a.height=i,a.style.height=Rt(i),s>0&&(a.style.minWidth=Rt(s)),a},n2e=function(e,n,r,a,s){var i,o=e.height+e.depth+r+a;if(/fbox|color|angl/.test(n)){if(i=Fe.makeSpan(["stretchy",n],[],s),n==="fbox"){var c=s.color&&s.getColor();c&&(i.style.borderColor=c)}}else{var u=[];/^[bx]cancel$/.test(n)&&u.push(new Tk({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&u.push(new Tk({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var d=new al(u,{width:"100%",height:Rt(o)});i=Fe.makeSvgSpan([],[d],s)}return i.height=o,i.style.height=Rt(o),i},il={encloseSpan:n2e,mathMLnode:Qye,svgSpan:t2e};function $n(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function YC(t){var e=Ny(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function Ny(t){return t&&(t.type==="atom"||Tye.hasOwnProperty(t.type))?t:null}var XC=(t,e)=>{var n,r,a;t&&t.type==="supsub"?(r=$n(t.base,"accent"),n=r.base,t.base=n,a=Sye(Gn(t,e)),t.base=r):(r=$n(t,"accent"),n=r.base);var s=Gn(n,e.havingCrampedStyle()),i=r.isShifty&&Kn.isCharacterBox(n),o=0;if(i){var c=Kn.getBaseElem(n),u=Gn(c,e.havingCrampedStyle());o=sE(u).skew}var d=r.label==="\\c",m=d?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),h;if(r.isStretchy)h=il.svgSpan(r,e),h=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+Rt(2*o)+")",marginLeft:Rt(2*o)}:void 0}]},e);else{var p,f;r.label==="\\vec"?(p=Fe.staticSvg("vec",e),f=Fe.svgData.vec[1]):(p=Fe.makeOrd({mode:r.mode,text:r.label},e,"textord"),p=sE(p),p.italic=0,f=p.width,d&&(m+=p.depth)),h=Fe.makeSpan(["accent-body"],[p]);var g=r.label==="\\textcircled";g&&(h.classes.push("accent-full"),m=s.height);var x=o;g||(x-=f/2),h.style.left=Rt(x),r.label==="\\textcircled"&&(h.style.top=".2em"),h=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-m},{type:"elem",elem:h}]},e)}var y=Fe.makeSpan(["mord","accent"],[h],e);return a?(a.children[0]=y,a.height=Math.max(y.height,a.height),a.classes[0]="mord",a):y},EP=(t,e)=>{var n=t.isStretchy?il.mathMLnode(t.label):new vt.MathNode("mo",[ai(t.label,t.mode)]),r=new vt.MathNode("mover",[or(t.base,e),n]);return r.setAttribute("accent","true"),r},r2e=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Lt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=cb(e[0]),r=!r2e.test(t.funcName),a=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:a,base:n}},htmlBuilder:XC,mathmlBuilder:EP});Lt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:XC,mathmlBuilder:EP});Lt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,a=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:a}},htmlBuilder:(t,e)=>{var n=Gn(t.base,e),r=il.svgSpan(t,e),a=t.label==="\\utilde"?.12:0,s=Fe.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:a},{type:"elem",elem:n}]},e);return Fe.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var n=il.mathMLnode(t.label),r=new vt.MathNode("munder",[or(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var eg=t=>{var e=new vt.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Lt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:a}=t;return{type:"xArrow",mode:r.mode,label:a,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),a=Fe.wrapFragment(Gn(t.body,r,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";a.classes.push(s+"-arrow-pad");var i;t.below&&(r=e.havingStyle(n.sub()),i=Fe.wrapFragment(Gn(t.below,r,e),e),i.classes.push(s+"-arrow-pad"));var o=il.svgSpan(t,e),c=-e.fontMetrics().axisHeight+.5*o.height,u=-e.fontMetrics().axisHeight-.5*o.height-.111;(a.depth>.25||t.label==="\\xleftequilibrium")&&(u-=a.depth);var d;if(i){var m=-e.fontMetrics().axisHeight+i.height+.5*o.height+.111;d=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:u},{type:"elem",elem:o,shift:c},{type:"elem",elem:i,shift:m}]},e)}else d=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:u},{type:"elem",elem:o,shift:c}]},e);return d.children[0].children[0].children[1].classes.push("svg-align"),Fe.makeSpan(["mrel","x-arrow"],[d],e)},mathmlBuilder(t,e){var n=il.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var a=eg(or(t.body,e));if(t.below){var s=eg(or(t.below,e));r=new vt.MathNode("munderover",[n,s,a])}else r=new vt.MathNode("mover",[n,a])}else if(t.below){var i=eg(or(t.below,e));r=new vt.MathNode("munder",[n,i])}else r=eg(),r=new vt.MathNode("mover",[n,r]);return r}});var a2e=Fe.makeSpan;function NP(t,e){var n=ra(t.body,e,!0);return a2e([t.mclass],n,e)}function $P(t,e){var n,r=ys(t.body,e);return t.mclass==="minner"?n=new vt.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new vt.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new vt.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}Lt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,a=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:Wr(a),isCharacterBox:Kn.isCharacterBox(a)}},htmlBuilder:NP,mathmlBuilder:$P});var $y=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Lt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:$y(e[0]),body:Wr(e[1]),isCharacterBox:Kn.isCharacterBox(e[1])}}});Lt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,a=e[1],s=e[0],i;r!=="\\stackrel"?i=$y(a):i="mrel";var o={type:"op",mode:a.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Wr(a)},c={type:"supsub",mode:s.mode,base:o,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:i,body:[c],isCharacterBox:Kn.isCharacterBox(c)}},htmlBuilder:NP,mathmlBuilder:$P});Lt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:$y(e[0]),body:Wr(e[0])}},htmlBuilder(t,e){var n=ra(t.body,e,!0),r=Fe.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=ys(t.body,e),r=new vt.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var s2e={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},hE=()=>({type:"styling",body:[],mode:"math",style:"display"}),pE=t=>t.type==="textord"&&t.text==="@",i2e=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function o2e(t,e,n){var r=s2e[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var a=n.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},i=n.callFunction("\\Big",[s],[]),o=n.callFunction("\\\\cdright",[e[1]],[]),c={type:"ordgroup",mode:"math",body:[a,i,o]};return n.callFunction("\\\\cdparent",[c],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function l2e(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new _t("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],a=[r],s=0;s<e.length;s++){for(var i=e[s],o=hE(),c=0;c<i.length;c++)if(!pE(i[c]))o.body.push(i[c]);else{r.push(o),c+=1;var u=YC(i[c]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var m=0;m<2;m++){for(var h=!0,p=c+1;p<i.length;p++){if(i2e(i[p],u)){h=!1,c=p;break}if(pE(i[p]))throw new _t("Missing a "+u+" character to complete a CD arrow.",i[p]);d[m].body.push(i[p])}if(h)throw new _t("Missing a "+u+" character to complete a CD arrow.",i[c])}else throw new _t('Expected one of "<>AV=|." after @',i[c]);var f=o2e(u,d,t),g={type:"styling",body:[f],mode:"math",style:"display"};r.push(g),o=hE()}s%2===0?r.push(o):r.shift(),r=[],a.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var x=new Array(a[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:a,arraystretch:1,addJot:!0,rowGaps:[null],cols:x,colSeparationType:"CD",hLinesBeforeRow:new Array(a.length+1).fill([])}}Lt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=Fe.wrapFragment(Gn(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=Rt(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new vt.MathNode("mrow",[or(t.label,e)]);return n=new vt.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new vt.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});Lt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=Fe.wrapFragment(Gn(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new vt.MathNode("mrow",[or(t.fragment,e)])}});Lt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=$n(e[0],"ordgroup"),a=r.body,s="",i=0;i<a.length;i++){var o=$n(a[i],"textord");s+=o.text}var c=parseInt(s),u;if(isNaN(c))throw new _t("\\@char has non-numeric argument "+s);if(c<0||c>=1114111)throw new _t("\\@char with invalid code point "+s);return c<=65535?u=String.fromCharCode(c):(c-=65536,u=String.fromCharCode((c>>10)+55296,(c&1023)+56320)),{type:"textord",mode:n.mode,text:u}}});var AP=(t,e)=>{var n=ra(t.body,e.withColor(t.color),!1);return Fe.makeFragment(n)},IP=(t,e)=>{var n=ys(t.body,e.withColor(t.color)),r=new vt.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};Lt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=$n(e[0],"color-token").color,a=e[1];return{type:"color",mode:n.mode,color:r,body:Wr(a)}},htmlBuilder:AP,mathmlBuilder:IP});Lt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,a=$n(e[0],"color-token").color;n.gullet.macros.set("\\current@color",a);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:a,body:s}},htmlBuilder:AP,mathmlBuilder:IP});Lt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,a=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:a&&$n(a,"size").value}},htmlBuilder(t,e){var n=Fe.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=Rt(jr(t.size,e)))),n},mathmlBuilder(t,e){var n=new vt.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",Rt(jr(t.size,e)))),n}});var Ak={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},RP=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new _t("Expected a control sequence",t);return e},c2e=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},MP=(t,e,n,r)=>{var a=t.gullet.macros.get(n.text);a==null&&(n.noexpand=!0,a={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,a,r)};Lt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(Ak[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=Ak[r.text]),$n(e.parseFunction(),"internal");throw new _t("Invalid token after macro prefix",r)}});Lt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),a=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(a))throw new _t("Expected a control sequence",r);for(var s=0,i,o=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){i=e.gullet.future(),o[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new _t('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new _t('Argument number "'+r.text+'" out of order');s++,o.push([])}else{if(r.text==="EOF")throw new _t("Expected a macro definition");o[s].push(r.text)}var{tokens:c}=e.gullet.consumeArg();return i&&c.unshift(i),(n==="\\edef"||n==="\\xdef")&&(c=e.gullet.expandTokens(c),c.reverse()),e.gullet.macros.set(a,{tokens:c,numArgs:s,delimiters:o},n===Ak[n]),{type:"internal",mode:e.mode}}});Lt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=RP(e.gullet.popToken());e.gullet.consumeSpaces();var a=c2e(e);return MP(e,r,a,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});Lt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=RP(e.gullet.popToken()),a=e.gullet.popToken(),s=e.gullet.popToken();return MP(e,r,s,n==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(a),{type:"internal",mode:e.mode}}});var Zh=function(e,n,r){var a=ur.math[e]&&ur.math[e].replace,s=UC(a||e,n,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return s},ZC=function(e,n,r,a){var s=r.havingBaseStyle(n),i=Fe.makeSpan(a.concat(s.sizingClasses(r)),[e],r),o=s.sizeMultiplier/r.sizeMultiplier;return i.height*=o,i.depth*=o,i.maxFontSize=s.sizeMultiplier,i},DP=function(e,n,r){var a=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/a.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Rt(s),e.height-=s,e.depth+=s},u2e=function(e,n,r,a,s,i){var o=Fe.makeSymbol(e,"Main-Regular",s,a),c=ZC(o,n,a,i);return r&&DP(c,a,n),c},d2e=function(e,n,r,a){return Fe.makeSymbol(e,"Size"+n+"-Regular",r,a)},LP=function(e,n,r,a,s,i){var o=d2e(e,n,s,a),c=ZC(Fe.makeSpan(["delimsizing","size"+n],[o],a),hn.TEXT,a,i);return r&&DP(c,a,hn.TEXT),c},zw=function(e,n,r){var a;n==="Size1-Regular"?a="delim-size1":a="delim-size4";var s=Fe.makeSpan(["delimsizinginner",a],[Fe.makeSpan([],[Fe.makeSymbol(e,n,r)])]);return{type:"elem",elem:s}},Hw=function(e,n,r){var a=ro["Size4-Regular"][e.charCodeAt(0)]?ro["Size4-Regular"][e.charCodeAt(0)][4]:ro["Size1-Regular"][e.charCodeAt(0)][4],s=new ec("inner",bye(e,Math.round(1e3*n))),i=new al([s],{width:Rt(a),height:Rt(n),style:"width:"+Rt(a),viewBox:"0 0 "+1e3*a+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),o=Fe.makeSvgSpan([],[i],r);return o.height=n,o.style.height=Rt(n),o.style.width=Rt(a),{type:"elem",elem:o}},Ik=.008,tg={type:"kern",size:-1*Ik},m2e=["|","\\lvert","\\rvert","\\vert"],h2e=["\\|","\\lVert","\\rVert","\\Vert"],OP=function(e,n,r,a,s,i){var o,c,u,d,m="",h=0;o=u=d=e,c=null;var p="Size1-Regular";e==="\\uparrow"?u=d="":e==="\\Uparrow"?u=d="":e==="\\downarrow"?o=u="":e==="\\Downarrow"?o=u="":e==="\\updownarrow"?(o="\\uparrow",u="",d="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",u="",d="\\Downarrow"):m2e.includes(e)?(u="",m="vert",h=333):h2e.includes(e)?(u="",m="doublevert",h=556):e==="["||e==="\\lbrack"?(o="",u="",d="",p="Size4-Regular",m="lbrack",h=667):e==="]"||e==="\\rbrack"?(o="",u="",d="",p="Size4-Regular",m="rbrack",h=667):e==="\\lfloor"||e===""?(u=o="",d="",p="Size4-Regular",m="lfloor",h=667):e==="\\lceil"||e===""?(o="",u=d="",p="Size4-Regular",m="lceil",h=667):e==="\\rfloor"||e===""?(u=o="",d="",p="Size4-Regular",m="rfloor",h=667):e==="\\rceil"||e===""?(o="",u=d="",p="Size4-Regular",m="rceil",h=667):e==="("||e==="\\lparen"?(o="",u="",d="",p="Size4-Regular",m="lparen",h=875):e===")"||e==="\\rparen"?(o="",u="",d="",p="Size4-Regular",m="rparen",h=875):e==="\\{"||e==="\\lbrace"?(o="",c="",d="",u="",p="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="",c="",d="",u="",p="Size4-Regular"):e==="\\lgroup"||e===""?(o="",d="",u="",p="Size4-Regular"):e==="\\rgroup"||e===""?(o="",d="",u="",p="Size4-Regular"):e==="\\lmoustache"||e===""?(o="",d="",u="",p="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(o="",d="",u="",p="Size4-Regular");var f=Zh(o,p,s),g=f.height+f.depth,x=Zh(u,p,s),y=x.height+x.depth,w=Zh(d,p,s),v=w.height+w.depth,k=0,C=1;if(c!==null){var _=Zh(c,p,s);k=_.height+_.depth,C=2}var S=g+v+k,T=Math.max(0,Math.ceil((n-S)/(C*y))),N=S+T*C*y,j=a.fontMetrics().axisHeight;r&&(j*=a.sizeMultiplier);var R=N/2-j,I=[];if(m.length>0){var A=N-g-v,$=Math.round(N*1e3),E=xye(m,Math.round(A*1e3)),M=new ec(m,E),F=(h/1e3).toFixed(3)+"em",L=($/1e3).toFixed(3)+"em",Y=new al([M],{width:F,height:L,viewBox:"0 0 "+h+" "+$}),O=Fe.makeSvgSpan([],[Y],a);O.height=$/1e3,O.style.width=F,O.style.height=L,I.push({type:"elem",elem:O})}else{if(I.push(zw(d,p,s)),I.push(tg),c===null){var G=N-g-v+2*Ik;I.push(Hw(u,G,a))}else{var H=(N-g-v-k)/2+2*Ik;I.push(Hw(u,H,a)),I.push(tg),I.push(zw(c,p,s)),I.push(tg),I.push(Hw(u,H,a))}I.push(tg),I.push(zw(o,p,s))}var D=a.havingBaseStyle(hn.TEXT),U=Fe.makeVList({positionType:"bottom",positionData:R,children:I},D);return ZC(Fe.makeSpan(["delimsizing","mult"],[U],D),hn.TEXT,a,i)},qw=80,Uw=.08,Ww=function(e,n,r,a,s){var i=gye(e,a,r),o=new ec(e,i),c=new al([o],{width:"400em",height:Rt(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return Fe.makeSvgSpan(["hide-tail"],[c],s)},p2e=function(e,n){var r=n.havingBaseSizing(),a=zP("\\surd",e*r.sizeMultiplier,BP,r),s=r.sizeMultiplier,i=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),o,c=0,u=0,d=0,m;return a.type==="small"?(d=1e3+1e3*i+qw,e<1?s=1:e<1.4&&(s=.7),c=(1+i+Uw)/s,u=(1+i)/s,o=Ww("sqrtMain",c,d,i,n),o.style.minWidth="0.853em",m=.833/s):a.type==="large"?(d=(1e3+qw)*yp[a.size],u=(yp[a.size]+i)/s,c=(yp[a.size]+i+Uw)/s,o=Ww("sqrtSize"+a.size,c,d,i,n),o.style.minWidth="1.02em",m=1/s):(c=e+i+Uw,u=e+i,d=Math.floor(1e3*e+i)+qw,o=Ww("sqrtTall",c,d,i,n),o.style.minWidth="0.742em",m=1.056),o.height=u,o.style.height=Rt(c),{span:o,advanceWidth:m,ruleWidth:(n.fontMetrics().sqrtRuleThickness+i)*s}},PP=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],f2e=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],FP=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],yp=[0,1.2,1.8,2.4,3],g2e=function(e,n,r,a,s){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),PP.includes(e)||FP.includes(e))return LP(e,n,!1,r,a,s);if(f2e.includes(e))return OP(e,yp[n],!1,r,a,s);throw new _t("Illegal delimiter: '"+e+"'")},b2e=[{type:"small",style:hn.SCRIPTSCRIPT},{type:"small",style:hn.SCRIPT},{type:"small",style:hn.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],x2e=[{type:"small",style:hn.SCRIPTSCRIPT},{type:"small",style:hn.SCRIPT},{type:"small",style:hn.TEXT},{type:"stack"}],BP=[{type:"small",style:hn.SCRIPTSCRIPT},{type:"small",style:hn.SCRIPT},{type:"small",style:hn.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],y2e=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},zP=function(e,n,r,a){for(var s=Math.min(2,3-a.style.size),i=s;i<r.length&&r[i].type!=="stack";i++){var o=Zh(e,y2e(r[i]),"math"),c=o.height+o.depth;if(r[i].type==="small"){var u=a.havingBaseStyle(r[i].style);c*=u.sizeMultiplier}if(c>n)return r[i]}return r[r.length-1]},HP=function(e,n,r,a,s,i){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var o;FP.includes(e)?o=b2e:PP.includes(e)?o=BP:o=x2e;var c=zP(e,n,o,a);return c.type==="small"?u2e(e,c.style,r,a,s,i):c.type==="large"?LP(e,c.size,r,a,s,i):OP(e,n,r,a,s,i)},w2e=function(e,n,r,a,s,i){var o=a.fontMetrics().axisHeight*a.sizeMultiplier,c=901,u=5/a.fontMetrics().ptPerEm,d=Math.max(n-o,r+o),m=Math.max(d/500*c,2*d-u);return HP(e,m,!0,a,s,i)},Qo={sqrtImage:p2e,sizedDelim:g2e,sizeToMaxHeight:yp,customSizedDelim:HP,leftRightDelim:w2e},fE={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},v2e=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Ay(t,e){var n=Ny(t);if(n&&v2e.includes(n.text))return n;throw n?new _t("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new _t("Invalid delimiter type '"+t.type+"'",t)}Lt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=Ay(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:fE[t.funcName].size,mclass:fE[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?Fe.makeSpan([t.mclass]):Qo.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(ai(t.delim,t.mode));var n=new vt.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=Rt(Qo.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function gE(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Lt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new _t("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Ay(e[0],t).text,color:n}}});Lt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Ay(e[0],t),r=t.parser;++r.leftrightDepth;var a=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=$n(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:a,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{gE(t);for(var n=ra(t.body,e,!0,["mopen","mclose"]),r=0,a=0,s=!1,i=0;i<n.length;i++)n[i].isMiddle?s=!0:(r=Math.max(n[i].height,r),a=Math.max(n[i].depth,a));r*=e.sizeMultiplier,a*=e.sizeMultiplier;var o;if(t.left==="."?o=lf(e,["mopen"]):o=Qo.leftRightDelim(t.left,r,a,e,t.mode,["mopen"]),n.unshift(o),s)for(var c=1;c<n.length;c++){var u=n[c],d=u.isMiddle;d&&(n[c]=Qo.leftRightDelim(d.delim,r,a,d.options,t.mode,[]))}var m;if(t.right===".")m=lf(e,["mclose"]);else{var h=t.rightColor?e.withColor(t.rightColor):e;m=Qo.leftRightDelim(t.right,r,a,h,t.mode,["mclose"])}return n.push(m),Fe.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{gE(t);var n=ys(t.body,e);if(t.left!=="."){var r=new vt.MathNode("mo",[ai(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var a=new vt.MathNode("mo",[ai(t.right,t.mode)]);a.setAttribute("fence","true"),t.rightColor&&a.setAttribute("mathcolor",t.rightColor),n.push(a)}return VC(n)}});Lt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=Ay(e[0],t);if(!t.parser.leftrightDepth)throw new _t("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=lf(e,[]);else{n=Qo.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?ai("|","text"):ai(t.delim,t.mode),r=new vt.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var QC=(t,e)=>{var n=Fe.wrapFragment(Gn(t.body,e),e),r=t.label.slice(1),a=e.sizeMultiplier,s,i=0,o=Kn.isCharacterBox(t.body);if(r==="sout")s=Fe.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/a,i=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var c=jr({number:.6,unit:"pt"},e),u=jr({number:.35,unit:"ex"},e),d=e.havingBaseSizing();a=a/d.sizeMultiplier;var m=n.height+n.depth+c+u;n.style.paddingLeft=Rt(m/2+c);var h=Math.floor(1e3*m*a),p=pye(h),f=new al([new ec("phase",p)],{width:"400em",height:Rt(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});s=Fe.makeSvgSpan(["hide-tail"],[f],e),s.style.height=Rt(m),i=n.depth+c+u}else{/cancel/.test(r)?o||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var g=0,x=0,y=0;/box/.test(r)?(y=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),g=e.fontMetrics().fboxsep+(r==="colorbox"?0:y),x=g):r==="angl"?(y=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),g=4*y,x=Math.max(0,.25-n.depth)):(g=o?.2:0,x=g),s=il.encloseSpan(n,r,g,x,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=Rt(y)):r==="angl"&&y!==.049&&(s.style.borderTopWidth=Rt(y),s.style.borderRightWidth=Rt(y)),i=n.depth+x,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var w;if(t.backgroundColor)w=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:i},{type:"elem",elem:n,shift:0}]},e);else{var v=/cancel|phase/.test(r)?["svg-align"]:[];w=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:i,wrapperClasses:v}]},e)}return/cancel/.test(r)&&(w.height=n.height,w.depth=n.depth),/cancel/.test(r)&&!o?Fe.makeSpan(["mord","cancel-lap"],[w],e):Fe.makeSpan(["mord"],[w],e)},JC=(t,e)=>{var n=0,r=new vt.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[or(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var a=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+a+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};Lt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:a}=t,s=$n(e[0],"color-token").color,i=e[1];return{type:"enclose",mode:r.mode,label:a,backgroundColor:s,body:i}},htmlBuilder:QC,mathmlBuilder:JC});Lt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:a}=t,s=$n(e[0],"color-token").color,i=$n(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:r.mode,label:a,backgroundColor:i,borderColor:s,body:o}},htmlBuilder:QC,mathmlBuilder:JC});Lt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});Lt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,a=e[0];return{type:"enclose",mode:n.mode,label:r,body:a}},htmlBuilder:QC,mathmlBuilder:JC});Lt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var qP={};function bo(t){for(var{type:e,names:n,props:r,handler:a,htmlBuilder:s,mathmlBuilder:i}=t,o={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:a},c=0;c<n.length;++c)qP[n[c]]=o;s&&(ob[e]=s),i&&(lb[e]=i)}var UP={};function ne(t,e){UP[t]=e}function bE(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var Iy=t=>{var e=t.parser.settings;if(!e.displayMode)throw new _t("{"+t.envName+"} can be used only in display mode.")};function e6(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function wc(t,e,n){var{hskipBeforeAndAfter:r,addJot:a,cols:s,arraystretch:i,colSeparationType:o,autoTag:c,singleRow:u,emptySingleRow:d,maxNumCols:m,leqno:h}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!i){var p=t.gullet.expandMacroAsText("\\arraystretch");if(p==null)i=1;else if(i=parseFloat(p),!i||i<0)throw new _t("Invalid \\arraystretch: "+p)}t.gullet.beginGroup();var f=[],g=[f],x=[],y=[],w=c!=null?[]:void 0;function v(){c&&t.gullet.macros.set("\\@eqnsw","1",!0)}function k(){w&&(t.gullet.macros.get("\\df@tag")?(w.push(t.subparse([new Ds("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):w.push(!!c&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(v(),y.push(bE(t));;){var C=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),C={type:"ordgroup",mode:t.mode,body:C},n&&(C={type:"styling",mode:t.mode,style:n,body:[C]}),f.push(C);var _=t.fetch().text;if(_==="&"){if(m&&f.length===m){if(u||o)throw new _t("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(_==="\\end"){k(),f.length===1&&C.type==="styling"&&C.body[0].body.length===0&&(g.length>1||!d)&&g.pop(),y.length<g.length+1&&y.push([]);break}else if(_==="\\\\"){t.consume();var S=void 0;t.gullet.future().text!==" "&&(S=t.parseSizeGroup(!0)),x.push(S?S.value:null),k(),y.push(bE(t)),f=[],g.push(f),v()}else throw new _t("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:a,arraystretch:i,body:g,cols:s,rowGaps:x,hskipBeforeAndAfter:r,hLinesBeforeRow:y,colSeparationType:o,tags:w,leqno:h}}function t6(t){return t.slice(0,1)==="d"?"display":"text"}var xo=function(e,n){var r,a,s=e.body.length,i=e.hLinesBeforeRow,o=0,c=new Array(s),u=[],d=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),m=1/n.fontMetrics().ptPerEm,h=5*m;if(e.colSeparationType&&e.colSeparationType==="small"){var p=n.havingStyle(hn.SCRIPT).sizeMultiplier;h=.2778*(p/n.sizeMultiplier)}var f=e.colSeparationType==="CD"?jr({number:3,unit:"ex"},n):12*m,g=3*m,x=e.arraystretch*f,y=.7*x,w=.3*x,v=0;function k(je){for(var _e=0;_e<je.length;++_e)_e>0&&(v+=.25),u.push({pos:v,isDashed:je[_e]})}for(k(i[0]),r=0;r<e.body.length;++r){var C=e.body[r],_=y,S=w;o<C.length&&(o=C.length);var T=new Array(C.length);for(a=0;a<C.length;++a){var N=Gn(C[a],n);S<N.depth&&(S=N.depth),_<N.height&&(_=N.height),T[a]=N}var j=e.rowGaps[r],R=0;j&&(R=jr(j,n),R>0&&(R+=w,S<R&&(S=R),R=0)),e.addJot&&(S+=g),T.height=_,T.depth=S,v+=_,T.pos=v,v+=S+R,c[r]=T,k(i[r+1])}var I=v/2+n.fontMetrics().axisHeight,A=e.cols||[],$=[],E,M,F=[];if(e.tags&&e.tags.some(je=>je))for(r=0;r<s;++r){var L=c[r],Y=L.pos-I,O=e.tags[r],G=void 0;O===!0?G=Fe.makeSpan(["eqn-num"],[],n):O===!1?G=Fe.makeSpan([],[],n):G=Fe.makeSpan([],ra(O,n,!0),n),G.depth=L.depth,G.height=L.height,F.push({type:"elem",elem:G,shift:Y})}for(a=0,M=0;a<o||M<A.length;++a,++M){for(var H=A[M]||{},D=!0;H.type==="separator";){if(D||(E=Fe.makeSpan(["arraycolsep"],[]),E.style.width=Rt(n.fontMetrics().doubleRuleSep),$.push(E)),H.separator==="|"||H.separator===":"){var U=H.separator==="|"?"solid":"dashed",B=Fe.makeSpan(["vertical-separator"],[],n);B.style.height=Rt(v),B.style.borderRightWidth=Rt(d),B.style.borderRightStyle=U,B.style.margin="0 "+Rt(-d/2);var q=v-I;q&&(B.style.verticalAlign=Rt(-q)),$.push(B)}else throw new _t("Invalid separator type: "+H.separator);M++,H=A[M]||{},D=!1}if(!(a>=o)){var V=void 0;(a>0||e.hskipBeforeAndAfter)&&(V=Kn.deflt(H.pregap,h),V!==0&&(E=Fe.makeSpan(["arraycolsep"],[]),E.style.width=Rt(V),$.push(E)));var Z=[];for(r=0;r<s;++r){var W=c[r],K=W[a];if(K){var J=W.pos-I;K.depth=W.depth,K.height=W.height,Z.push({type:"elem",elem:K,shift:J})}}Z=Fe.makeVList({positionType:"individualShift",children:Z},n),Z=Fe.makeSpan(["col-align-"+(H.align||"c")],[Z]),$.push(Z),(a<o-1||e.hskipBeforeAndAfter)&&(V=Kn.deflt(H.postgap,h),V!==0&&(E=Fe.makeSpan(["arraycolsep"],[]),E.style.width=Rt(V),$.push(E)))}}if(c=Fe.makeSpan(["mtable"],$),u.length>0){for(var ee=Fe.makeLineSpan("hline",n,d),se=Fe.makeLineSpan("hdashline",n,d),re=[{type:"elem",elem:c,shift:0}];u.length>0;){var ue=u.pop(),he=ue.pos-I;ue.isDashed?re.push({type:"elem",elem:se,shift:he}):re.push({type:"elem",elem:ee,shift:he})}c=Fe.makeVList({positionType:"individualShift",children:re},n)}if(F.length===0)return Fe.makeSpan(["mord"],[c],n);var ke=Fe.makeVList({positionType:"individualShift",children:F},n);return ke=Fe.makeSpan(["tag"],[ke],n),Fe.makeFragment([c,ke])},k2e={c:"center ",l:"left ",r:"right "},yo=function(e,n){for(var r=[],a=new vt.MathNode("mtd",[],["mtr-glue"]),s=new vt.MathNode("mtd",[],["mml-eqn-num"]),i=0;i<e.body.length;i++){for(var o=e.body[i],c=[],u=0;u<o.length;u++)c.push(new vt.MathNode("mtd",[or(o[u],n)]));e.tags&&e.tags[i]&&(c.unshift(a),c.push(a),e.leqno?c.unshift(s):c.push(s)),r.push(new vt.MathNode("mtr",c))}var d=new vt.MathNode("mtable",r),m=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);d.setAttribute("rowspacing",Rt(m));var h="",p="";if(e.cols&&e.cols.length>0){var f=e.cols,g="",x=!1,y=0,w=f.length;f[0].type==="separator"&&(h+="top ",y=1),f[f.length-1].type==="separator"&&(h+="bottom ",w-=1);for(var v=y;v<w;v++)f[v].type==="align"?(p+=k2e[f[v].align],x&&(g+="none "),x=!0):f[v].type==="separator"&&x&&(g+=f[v].separator==="|"?"solid ":"dashed ",x=!1);d.setAttribute("columnalign",p.trim()),/[sd]/.test(g)&&d.setAttribute("columnlines",g.trim())}if(e.colSeparationType==="align"){for(var k=e.cols||[],C="",_=1;_<k.length;_++)C+=_%2?"0em ":"1em ";d.setAttribute("columnspacing",C.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?d.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?d.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?d.setAttribute("columnspacing","0.5em"):d.setAttribute("columnspacing","1em");var S="",T=e.hLinesBeforeRow;h+=T[0].length>0?"left ":"",h+=T[T.length-1].length>0?"right ":"";for(var N=1;N<T.length-1;N++)S+=T[N].length===0?"none ":T[N][0]?"dashed ":"solid ";return/[sd]/.test(S)&&d.setAttribute("rowlines",S.trim()),h!==""&&(d=new vt.MathNode("menclose",[d]),d.setAttribute("notation",h.trim())),e.arraystretch&&e.arraystretch<1&&(d=new vt.MathNode("mstyle",[d]),d.setAttribute("scriptlevel","1")),d},WP=function(e,n){e.envName.indexOf("ed")===-1&&Iy(e);var r=[],a=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",i=wc(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:e6(e.envName),emptySingleRow:!0,colSeparationType:a,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),o,c=0,u={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var d="",m=0;m<n[0].body.length;m++){var h=$n(n[0].body[m],"textord");d+=h.text}o=Number(d),c=o*2}var p=!c;i.body.forEach(function(y){for(var w=1;w<y.length;w+=2){var v=$n(y[w],"styling"),k=$n(v.body[0],"ordgroup");k.body.unshift(u)}if(p)c<y.length&&(c=y.length);else{var C=y.length/2;if(o<C)throw new _t("Too many math in a row: "+("expected "+o+", but got "+C),y[0])}});for(var f=0;f<c;++f){var g="r",x=0;f%2===1?g="l":f>0&&p&&(x=1),r[f]={type:"align",align:g,pregap:x,postgap:0}}return i.colSeparationType=p?"align":"alignat",i};bo({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=Ny(e[0]),r=n?[e[0]]:$n(e[0],"ordgroup").body,a=r.map(function(i){var o=YC(i),c=o.text;if("lcr".indexOf(c)!==-1)return{type:"align",align:c};if(c==="|")return{type:"separator",separator:"|"};if(c===":")return{type:"separator",separator:":"};throw new _t("Unknown column alignment: "+c,i)}),s={cols:a,hskipBeforeAndAfter:!0,maxNumCols:a.length};return wc(t.parser,s,t6(t.envName))},htmlBuilder:xo,mathmlBuilder:yo});bo({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var a=t.parser;if(a.consumeSpaces(),a.fetch().text==="["){if(a.consume(),a.consumeSpaces(),n=a.fetch().text,"lcr".indexOf(n)===-1)throw new _t("Expected l or c or r",a.nextToken);a.consume(),a.consumeSpaces(),a.expect("]"),a.consume(),r.cols=[{type:"align",align:n}]}}var s=wc(t.parser,r,t6(t.envName)),i=Math.max(0,...s.body.map(o=>o.length));return s.cols=new Array(i).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:xo,mathmlBuilder:yo});bo({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=wc(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:xo,mathmlBuilder:yo});bo({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=Ny(e[0]),r=n?[e[0]]:$n(e[0],"ordgroup").body,a=r.map(function(i){var o=YC(i),c=o.text;if("lc".indexOf(c)!==-1)return{type:"align",align:c};throw new _t("Unknown column alignment: "+c,i)});if(a.length>1)throw new _t("{subarray} can contain only one column");var s={cols:a,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=wc(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new _t("{subarray} can contain only one column");return s},htmlBuilder:xo,mathmlBuilder:yo});bo({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=wc(t.parser,e,t6(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:xo,mathmlBuilder:yo});bo({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:WP,htmlBuilder:xo,mathmlBuilder:yo});bo({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&Iy(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:e6(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return wc(t.parser,e,"display")},htmlBuilder:xo,mathmlBuilder:yo});bo({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:WP,htmlBuilder:xo,mathmlBuilder:yo});bo({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){Iy(t);var e={autoTag:e6(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return wc(t.parser,e,"display")},htmlBuilder:xo,mathmlBuilder:yo});bo({type:"array",names:["CD"],props:{numArgs:0},handler(t){return Iy(t),l2e(t.parser)},htmlBuilder:xo,mathmlBuilder:yo});ne("\\nonumber","\\gdef\\@eqnsw{0}");ne("\\notag","\\nonumber");Lt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new _t(t.funcName+" valid only within array environment")}});var xE=qP;Lt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,a=e[0];if(a.type!=="ordgroup")throw new _t("Invalid environment name",a);for(var s="",i=0;i<a.body.length;++i)s+=$n(a.body[i],"textord").text;if(r==="\\begin"){if(!xE.hasOwnProperty(s))throw new _t("No such environment: "+s,a);var o=xE[s],{args:c,optArgs:u}=n.parseArguments("\\begin{"+s+"}",o),d={mode:n.mode,envName:s,parser:n},m=o.handler(d,c,u);n.expect("\\end",!1);var h=n.nextToken,p=$n(n.parseFunction(),"environment");if(p.name!==s)throw new _t("Mismatch: \\begin{"+s+"} matched by \\end{"+p.name+"}",h);return m}return{type:"environment",mode:n.mode,name:s,nameGroup:a}}});var GP=(t,e)=>{var n=t.font,r=e.withFont(n);return Gn(t.body,r)},VP=(t,e)=>{var n=t.font,r=e.withFont(n);return or(t.body,r)},yE={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Lt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,a=cb(e[0]),s=r;return s in yE&&(s=yE[s]),{type:"font",mode:n.mode,font:s.slice(1),body:a}},htmlBuilder:GP,mathmlBuilder:VP});Lt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],a=Kn.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:$y(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:a}}});Lt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:a}=t,{mode:s}=n,i=n.parseExpression(!0,a),o="math"+r.slice(1);return{type:"font",mode:s,font:o,body:{type:"ordgroup",mode:n.mode,body:i}}},htmlBuilder:GP,mathmlBuilder:VP});var KP=(t,e)=>{var n=e;return t==="display"?n=n.id>=hn.SCRIPT.id?n.text():hn.DISPLAY:t==="text"&&n.size===hn.DISPLAY.size?n=hn.TEXT:t==="script"?n=hn.SCRIPT:t==="scriptscript"&&(n=hn.SCRIPTSCRIPT),n},n6=(t,e)=>{var n=KP(t.size,e.style),r=n.fracNum(),a=n.fracDen(),s;s=e.havingStyle(r);var i=Gn(t.numer,s,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,c=3.5/e.fontMetrics().ptPerEm;i.height=i.height<o?o:i.height,i.depth=i.depth<c?c:i.depth}s=e.havingStyle(a);var u=Gn(t.denom,s,e),d,m,h;t.hasBarLine?(t.barSize?(m=jr(t.barSize,e),d=Fe.makeLineSpan("frac-line",e,m)):d=Fe.makeLineSpan("frac-line",e),m=d.height,h=d.height):(d=null,m=0,h=e.fontMetrics().defaultRuleThickness);var p,f,g;n.size===hn.DISPLAY.size||t.size==="display"?(p=e.fontMetrics().num1,m>0?f=3*h:f=7*h,g=e.fontMetrics().denom1):(m>0?(p=e.fontMetrics().num2,f=h):(p=e.fontMetrics().num3,f=3*h),g=e.fontMetrics().denom2);var x;if(d){var w=e.fontMetrics().axisHeight;p-i.depth-(w+.5*m)<f&&(p+=f-(p-i.depth-(w+.5*m))),w-.5*m-(u.height-g)<f&&(g+=f-(w-.5*m-(u.height-g)));var v=-(w-.5*m);x=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:g},{type:"elem",elem:d,shift:v},{type:"elem",elem:i,shift:-p}]},e)}else{var y=p-i.depth-(u.height-g);y<f&&(p+=.5*(f-y),g+=.5*(f-y)),x=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:g},{type:"elem",elem:i,shift:-p}]},e)}s=e.havingStyle(n),x.height*=s.sizeMultiplier/e.sizeMultiplier,x.depth*=s.sizeMultiplier/e.sizeMultiplier;var k;n.size===hn.DISPLAY.size?k=e.fontMetrics().delim1:n.size===hn.SCRIPTSCRIPT.size?k=e.havingStyle(hn.SCRIPT).fontMetrics().delim2:k=e.fontMetrics().delim2;var C,_;return t.leftDelim==null?C=lf(e,["mopen"]):C=Qo.customSizedDelim(t.leftDelim,k,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?_=Fe.makeSpan([]):t.rightDelim==null?_=lf(e,["mclose"]):_=Qo.customSizedDelim(t.rightDelim,k,!0,e.havingStyle(n),t.mode,["mclose"]),Fe.makeSpan(["mord"].concat(s.sizingClasses(e)),[C,Fe.makeSpan(["mfrac"],[x]),_],e)},r6=(t,e)=>{var n=new vt.MathNode("mfrac",[or(t.numer,e),or(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=jr(t.barSize,e);n.setAttribute("linethickness",Rt(r))}var a=KP(t.size,e.style);if(a.size!==e.style.size){n=new vt.MathNode("mstyle",[n]);var s=a.size===hn.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var i=[];if(t.leftDelim!=null){var o=new vt.MathNode("mo",[new vt.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),i.push(o)}if(i.push(n),t.rightDelim!=null){var c=new vt.MathNode("mo",[new vt.TextNode(t.rightDelim.replace("\\",""))]);c.setAttribute("fence","true"),i.push(c)}return VC(i)}return n};Lt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,a=e[0],s=e[1],i,o=null,c=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":i=!0;break;case"\\\\atopfrac":i=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":i=!1,o="(",c=")";break;case"\\\\bracefrac":i=!1,o="\\{",c="\\}";break;case"\\\\brackfrac":i=!1,o="[",c="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:a,denom:s,hasBarLine:i,leftDelim:o,rightDelim:c,size:u,barSize:null}},htmlBuilder:n6,mathmlBuilder:r6});Lt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,a=e[0],s=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:a,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Lt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,a;switch(n){case"\\over":a="\\frac";break;case"\\choose":a="\\binom";break;case"\\atop":a="\\\\atopfrac";break;case"\\brace":a="\\\\bracefrac";break;case"\\brack":a="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:a,token:r}}});var wE=["display","text","script","scriptscript"],vE=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};Lt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],a=e[5],s=cb(e[0]),i=s.type==="atom"&&s.family==="open"?vE(s.text):null,o=cb(e[1]),c=o.type==="atom"&&o.family==="close"?vE(o.text):null,u=$n(e[2],"size"),d,m=null;u.isBlank?d=!0:(m=u.value,d=m.number>0);var h="auto",p=e[3];if(p.type==="ordgroup"){if(p.body.length>0){var f=$n(p.body[0],"textord");h=wE[Number(f.text)]}}else p=$n(p,"textord"),h=wE[Number(p.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:a,continued:!1,hasBarLine:d,barSize:m,leftDelim:i,rightDelim:c,size:h}},htmlBuilder:n6,mathmlBuilder:r6});Lt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:a}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:$n(e[0],"size").value,token:a}}});Lt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,a=e[0],s=Jxe($n(e[1],"infix").size),i=e[2],o=s.number>0;return{type:"genfrac",mode:n.mode,numer:a,denom:i,continued:!1,hasBarLine:o,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:n6,mathmlBuilder:r6});var YP=(t,e)=>{var n=e.style,r,a;t.type==="supsub"?(r=t.sup?Gn(t.sup,e.havingStyle(n.sup()),e):Gn(t.sub,e.havingStyle(n.sub()),e),a=$n(t.base,"horizBrace")):a=$n(t,"horizBrace");var s=Gn(a.base,e.havingBaseStyle(hn.DISPLAY)),i=il.svgSpan(a,e),o;if(a.isOver?(o=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:i}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=Fe.makeVList({positionType:"bottom",positionData:s.depth+.1+i.height,children:[{type:"elem",elem:i},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),r){var c=Fe.makeSpan(["mord",a.isOver?"mover":"munder"],[o],e);a.isOver?o=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:.2},{type:"elem",elem:r}]},e):o=Fe.makeVList({positionType:"bottom",positionData:c.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:c}]},e)}return Fe.makeSpan(["mord",a.isOver?"mover":"munder"],[o],e)},_2e=(t,e)=>{var n=il.mathMLnode(t.label);return new vt.MathNode(t.isOver?"mover":"munder",[or(t.base,e),n])};Lt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:YP,mathmlBuilder:_2e});Lt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],a=$n(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:a})?{type:"href",mode:n.mode,href:a,body:Wr(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=ra(t.body,e,!1);return Fe.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=tc(t.body,e);return n instanceof $s||(n=new $s("mrow",[n])),n.setAttribute("href",t.href),n}});Lt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=$n(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var a=[],s=0;s<r.length;s++){var i=r[s];i==="~"&&(i="\\textasciitilde"),a.push({type:"textord",mode:"text",text:i})}var o={type:"text",mode:n.mode,font:"\\texttt",body:a};return{type:"href",mode:n.mode,href:r,body:Wr(o)}}});Lt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:Wr(e[0])}},htmlBuilder(t,e){var n=ra(t.body,e,!1);return Fe.makeFragment(n)},mathmlBuilder(t,e){return new vt.MathNode("mrow",ys(t.body,e))}});Lt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:a}=t,s=$n(e[0],"raw").string,i=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,c={};switch(r){case"\\htmlClass":c.class=s,o={command:"\\htmlClass",class:s};break;case"\\htmlId":c.id=s,o={command:"\\htmlId",id:s};break;case"\\htmlStyle":c.style=s,o={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var u=s.split(","),d=0;d<u.length;d++){var m=u[d].split("=");if(m.length!==2)throw new _t("Error parsing key-value for \\htmlData");c["data-"+m[0].trim()]=m[1].trim()}o={command:"\\htmlData",attributes:c};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(o)?{type:"html",mode:n.mode,attributes:c,body:Wr(i)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=ra(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var a=Fe.makeSpan(r,n,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&a.setAttribute(s,t.attributes[s]);return a},mathmlBuilder:(t,e)=>tc(t.body,e)});Lt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:Wr(e[0]),mathml:Wr(e[1])}},htmlBuilder:(t,e)=>{var n=ra(t.html,e,!1);return Fe.makeFragment(n)},mathmlBuilder:(t,e)=>tc(t.mathml,e)});var Gw=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new _t("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!pP(r))throw new _t("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};Lt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,a={number:0,unit:"em"},s={number:.9,unit:"em"},i={number:0,unit:"em"},o="";if(n[0])for(var c=$n(n[0],"raw").string,u=c.split(","),d=0;d<u.length;d++){var m=u[d].split("=");if(m.length===2){var h=m[1].trim();switch(m[0].trim()){case"alt":o=h;break;case"width":a=Gw(h);break;case"height":s=Gw(h);break;case"totalheight":i=Gw(h);break;default:throw new _t("Invalid key: '"+m[0]+"' in \\includegraphics.")}}}var p=$n(e[0],"url").url;return o===""&&(o=p,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:r.mode,alt:o,width:a,height:s,totalheight:i,src:p}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=jr(t.height,e),r=0;t.totalheight.number>0&&(r=jr(t.totalheight,e)-n);var a=0;t.width.number>0&&(a=jr(t.width,e));var s={height:Rt(n+r)};a>0&&(s.width=Rt(a)),r>0&&(s.verticalAlign=Rt(-r));var i=new _ye(t.src,t.alt,s);return i.height=n,i.depth=r,i},mathmlBuilder:(t,e)=>{var n=new vt.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=jr(t.height,e),a=0;if(t.totalheight.number>0&&(a=jr(t.totalheight,e)-r,n.setAttribute("valign",Rt(-a))),n.setAttribute("height",Rt(r+a)),t.width.number>0){var s=jr(t.width,e);n.setAttribute("width",Rt(s))}return n.setAttribute("src",t.src),n}});Lt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,a=$n(e[0],"size");if(n.settings.strict){var s=r[1]==="m",i=a.value.unit==="mu";s?(i||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+a.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):i&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:a.value}},htmlBuilder(t,e){return Fe.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=jr(t.dimension,e);return new vt.SpaceNode(n)}});Lt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,a=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:a}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=Fe.makeSpan([],[Gn(t.body,e)]),n=Fe.makeSpan(["inner"],[n],e)):n=Fe.makeSpan(["inner"],[Gn(t.body,e)]);var r=Fe.makeSpan(["fix"],[]),a=Fe.makeSpan([t.alignment],[n,r],e),s=Fe.makeSpan(["strut"]);return s.style.height=Rt(a.height+a.depth),a.depth&&(s.style.verticalAlign=Rt(-a.depth)),a.children.unshift(s),a=Fe.makeSpan(["thinbox"],[a],e),Fe.makeSpan(["mord","vbox"],[a],e)},mathmlBuilder:(t,e)=>{var n=new vt.MathNode("mpadded",[or(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});Lt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,a=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",i=r.parseExpression(!1,s);return r.expect(s),r.switchMode(a),{type:"styling",mode:r.mode,style:"text",body:i}}});Lt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new _t("Mismatched "+t.funcName)}});var kE=(t,e)=>{switch(e.style.size){case hn.DISPLAY.size:return t.display;case hn.TEXT.size:return t.text;case hn.SCRIPT.size:return t.script;case hn.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Lt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:Wr(e[0]),text:Wr(e[1]),script:Wr(e[2]),scriptscript:Wr(e[3])}},htmlBuilder:(t,e)=>{var n=kE(t,e),r=ra(n,e,!1);return Fe.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=kE(t,e);return tc(n,e)}});var XP=(t,e,n,r,a,s,i)=>{t=Fe.makeSpan([],[t]);var o=n&&Kn.isCharacterBox(n),c,u;if(e){var d=Gn(e,r.havingStyle(a.sup()),r);u={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-d.depth)}}if(n){var m=Gn(n,r.havingStyle(a.sub()),r);c={elem:m,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-m.height)}}var h;if(u&&c){var p=r.fontMetrics().bigOpSpacing5+c.elem.height+c.elem.depth+c.kern+t.depth+i;h=Fe.makeVList({positionType:"bottom",positionData:p,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:Rt(-s)},{type:"kern",size:c.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Rt(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(c){var f=t.height-i;h=Fe.makeVList({positionType:"top",positionData:f,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:Rt(-s)},{type:"kern",size:c.kern},{type:"elem",elem:t}]},r)}else if(u){var g=t.depth+i;h=Fe.makeVList({positionType:"bottom",positionData:g,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Rt(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var x=[h];if(c&&s!==0&&!o){var y=Fe.makeSpan(["mspace"],[],r);y.style.marginRight=Rt(s),x.unshift(y)}return Fe.makeSpan(["mop","op-limits"],x,r)},ZP=["\\smallint"],rh=(t,e)=>{var n,r,a=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=$n(t.base,"op"),a=!0):s=$n(t,"op");var i=e.style,o=!1;i.size===hn.DISPLAY.size&&s.symbol&&!ZP.includes(s.name)&&(o=!0);var c;if(s.symbol){var u=o?"Size2-Regular":"Size1-Regular",d="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(d=s.name.slice(1),s.name=d==="oiint"?"\\iint":"\\iiint"),c=Fe.makeSymbol(s.name,u,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),d.length>0){var m=c.italic,h=Fe.staticSvg(d+"Size"+(o?"2":"1"),e);c=Fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:0},{type:"elem",elem:h,shift:o?.08:0}]},e),s.name="\\"+d,c.classes.unshift("mop"),c.italic=m}}else if(s.body){var p=ra(s.body,e,!0);p.length===1&&p[0]instanceof ri?(c=p[0],c.classes[0]="mop"):c=Fe.makeSpan(["mop"],p,e)}else{for(var f=[],g=1;g<s.name.length;g++)f.push(Fe.mathsym(s.name[g],s.mode,e));c=Fe.makeSpan(["mop"],f,e)}var x=0,y=0;return(c instanceof ri||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(x=(c.height-c.depth)/2-e.fontMetrics().axisHeight,y=c.italic),a?XP(c,n,r,e,i,y,x):(x&&(c.style.position="relative",c.style.top=Rt(x)),c)},Qf=(t,e)=>{var n;if(t.symbol)n=new $s("mo",[ai(t.name,t.mode)]),ZP.includes(t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new $s("mo",ys(t.body,e));else{n=new $s("mi",[new ao(t.name.slice(1))]);var r=new $s("mo",[ai("","text")]);t.parentIsSupSub?n=new $s("mrow",[n,r]):n=SP([n,r])}return n},C2e={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Lt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,a=r;return a.length===1&&(a=C2e[a]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:a}},htmlBuilder:rh,mathmlBuilder:Qf});Lt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Wr(r)}},htmlBuilder:rh,mathmlBuilder:Qf});var S2e={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Lt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:rh,mathmlBuilder:Qf});Lt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:rh,mathmlBuilder:Qf});Lt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=S2e[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:rh,mathmlBuilder:Qf});var QP=(t,e)=>{var n,r,a=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=$n(t.base,"operatorname"),a=!0):s=$n(t,"operatorname");var i;if(s.body.length>0){for(var o=s.body.map(m=>{var h=m.text;return typeof h=="string"?{type:"textord",mode:m.mode,text:h}:m}),c=ra(o,e.withFont("mathrm"),!0),u=0;u<c.length;u++){var d=c[u];d instanceof ri&&(d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}i=Fe.makeSpan(["mop"],c,e)}else i=Fe.makeSpan(["mop"],[],e);return a?XP(i,n,r,e,e.style,0,0):i},j2e=(t,e)=>{for(var n=ys(t.body,e.withFont("mathrm")),r=!0,a=0;a<n.length;a++){var s=n[a];if(!(s instanceof vt.SpaceNode))if(s instanceof vt.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var i=s.children[0];s.children.length===1&&i instanceof vt.TextNode?i.text=i.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var o=n.map(d=>d.toText()).join("");n=[new vt.TextNode(o)]}var c=new vt.MathNode("mi",n);c.setAttribute("mathvariant","normal");var u=new vt.MathNode("mo",[ai("","text")]);return t.parentIsSupSub?new vt.MathNode("mrow",[c,u]):vt.newDocumentFragment([c,u])};Lt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,a=e[0];return{type:"operatorname",mode:n.mode,body:Wr(a),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:QP,mathmlBuilder:j2e});ne("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Wu({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?Fe.makeFragment(ra(t.body,e,!1)):Fe.makeSpan(["mord"],ra(t.body,e,!0),e)},mathmlBuilder(t,e){return tc(t.body,e,!0)}});Lt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=Gn(t.body,e.havingCrampedStyle()),r=Fe.makeLineSpan("overline-line",e),a=e.fontMetrics().defaultRuleThickness,s=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*a},{type:"elem",elem:r},{type:"kern",size:a}]},e);return Fe.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var n=new vt.MathNode("mo",[new vt.TextNode("")]);n.setAttribute("stretchy","true");var r=new vt.MathNode("mover",[or(t.body,e),n]);return r.setAttribute("accent","true"),r}});Lt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:Wr(r)}},htmlBuilder:(t,e)=>{var n=ra(t.body,e.withPhantom(),!1);return Fe.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=ys(t.body,e);return new vt.MathNode("mphantom",n)}});Lt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=Fe.makeSpan([],[Gn(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),Fe.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=ys(Wr(t.body),e),r=new vt.MathNode("mphantom",n),a=new vt.MathNode("mpadded",[r]);return a.setAttribute("height","0px"),a.setAttribute("depth","0px"),a}});Lt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=Fe.makeSpan(["inner"],[Gn(t.body,e.withPhantom())]),r=Fe.makeSpan(["fix"],[]);return Fe.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=ys(Wr(t.body),e),r=new vt.MathNode("mphantom",n),a=new vt.MathNode("mpadded",[r]);return a.setAttribute("width","0px"),a}});Lt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=$n(e[0],"size").value,a=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:a}},htmlBuilder(t,e){var n=Gn(t.body,e),r=jr(t.dy,e);return Fe.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new vt.MathNode("mpadded",[or(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});Lt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});Lt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,a=n[0],s=$n(e[0],"size"),i=$n(e[1],"size");return{type:"rule",mode:r.mode,shift:a&&$n(a,"size").value,width:s.value,height:i.value}},htmlBuilder(t,e){var n=Fe.makeSpan(["mord","rule"],[],e),r=jr(t.width,e),a=jr(t.height,e),s=t.shift?jr(t.shift,e):0;return n.style.borderRightWidth=Rt(r),n.style.borderTopWidth=Rt(a),n.style.bottom=Rt(s),n.width=r,n.height=a+s,n.depth=-s,n.maxFontSize=a*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=jr(t.width,e),r=jr(t.height,e),a=t.shift?jr(t.shift,e):0,s=e.color&&e.getColor()||"black",i=new vt.MathNode("mspace");i.setAttribute("mathbackground",s),i.setAttribute("width",Rt(n)),i.setAttribute("height",Rt(r));var o=new vt.MathNode("mpadded",[i]);return a>=0?o.setAttribute("height",Rt(a)):(o.setAttribute("height",Rt(a)),o.setAttribute("depth",Rt(-a))),o.setAttribute("voffset",Rt(a)),o}});function JP(t,e,n){for(var r=ra(t,e,!1),a=e.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var i=r[s].classes.indexOf("sizing");i<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(n)):r[s].classes[i+1]==="reset-size"+e.size&&(r[s].classes[i+1]="reset-size"+n.size),r[s].height*=a,r[s].depth*=a}return Fe.makeFragment(r)}var _E=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],T2e=(t,e)=>{var n=e.havingSize(t.size);return JP(t.body,n,e)};Lt({type:"sizing",names:_E,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:a}=t,s=a.parseExpression(!1,n);return{type:"sizing",mode:a.mode,size:_E.indexOf(r)+1,body:s}},htmlBuilder:T2e,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=ys(t.body,n),a=new vt.MathNode("mstyle",r);return a.setAttribute("mathsize",Rt(n.sizeMultiplier)),a}});Lt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,a=!1,s=!1,i=n[0]&&$n(n[0],"ordgroup");if(i)for(var o="",c=0;c<i.body.length;++c){var u=i.body[c];if(o=u.text,o==="t")a=!0;else if(o==="b")s=!0;else{a=!1,s=!1;break}}else a=!0,s=!0;var d=e[0];return{type:"smash",mode:r.mode,body:d,smashHeight:a,smashDepth:s}},htmlBuilder:(t,e)=>{var n=Fe.makeSpan([],[Gn(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var a=0;a<n.children.length;a++)n.children[a].depth=0;var s=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return Fe.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var n=new vt.MathNode("mpadded",[or(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});Lt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,a=n[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:a}},htmlBuilder(t,e){var n=Gn(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=Fe.wrapFragment(n,e);var r=e.fontMetrics(),a=r.defaultRuleThickness,s=a;e.style.id<hn.TEXT.id&&(s=e.fontMetrics().xHeight);var i=a+s/4,o=n.height+n.depth+i+a,{span:c,ruleWidth:u,advanceWidth:d}=Qo.sqrtImage(o,e),m=c.height-u;m>n.height+n.depth+i&&(i=(i+m-n.height-n.depth)/2);var h=c.height-n.height-i-u;n.style.paddingLeft=Rt(d);var p=Fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:c},{type:"kern",size:u}]},e);if(t.index){var f=e.havingStyle(hn.SCRIPTSCRIPT),g=Gn(t.index,f,e),x=.6*(p.height-p.depth),y=Fe.makeVList({positionType:"shift",positionData:-x,children:[{type:"elem",elem:g}]},e),w=Fe.makeSpan(["root"],[y]);return Fe.makeSpan(["mord","sqrt"],[w,p],e)}else return Fe.makeSpan(["mord","sqrt"],[p],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new vt.MathNode("mroot",[or(n,e),or(r,e)]):new vt.MathNode("msqrt",[or(n,e)])}});var CE={display:hn.DISPLAY,text:hn.TEXT,script:hn.SCRIPT,scriptscript:hn.SCRIPTSCRIPT};Lt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:a}=t,s=a.parseExpression(!0,n),i=r.slice(1,r.length-5);return{type:"styling",mode:a.mode,style:i,body:s}},htmlBuilder(t,e){var n=CE[t.style],r=e.havingStyle(n).withFont("");return JP(t.body,r,e)},mathmlBuilder(t,e){var n=CE[t.style],r=e.havingStyle(n),a=ys(t.body,r),s=new vt.MathNode("mstyle",a),i={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=i[t.style];return s.setAttribute("scriptlevel",o[0]),s.setAttribute("displaystyle",o[1]),s}});var E2e=function(e,n){var r=e.base;if(r)if(r.type==="op"){var a=r.limits&&(n.style.size===hn.DISPLAY.size||r.alwaysHandleSupSub);return a?rh:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===hn.DISPLAY.size||r.limits);return s?QP:null}else{if(r.type==="accent")return Kn.isCharacterBox(r.base)?XC:null;if(r.type==="horizBrace"){var i=!e.sub;return i===r.isOver?YP:null}else return null}else return null};Wu({type:"supsub",htmlBuilder(t,e){var n=E2e(t,e);if(n)return n(t,e);var{base:r,sup:a,sub:s}=t,i=Gn(r,e),o,c,u=e.fontMetrics(),d=0,m=0,h=r&&Kn.isCharacterBox(r);if(a){var p=e.havingStyle(e.style.sup());o=Gn(a,p,e),h||(d=i.height-p.fontMetrics().supDrop*p.sizeMultiplier/e.sizeMultiplier)}if(s){var f=e.havingStyle(e.style.sub());c=Gn(s,f,e),h||(m=i.depth+f.fontMetrics().subDrop*f.sizeMultiplier/e.sizeMultiplier)}var g;e.style===hn.DISPLAY?g=u.sup1:e.style.cramped?g=u.sup3:g=u.sup2;var x=e.sizeMultiplier,y=Rt(.5/u.ptPerEm/x),w=null;if(c){var v=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(i instanceof ri||v)&&(w=Rt(-i.italic))}var k;if(o&&c){d=Math.max(d,g,o.depth+.25*u.xHeight),m=Math.max(m,u.sub2);var C=u.defaultRuleThickness,_=4*C;if(d-o.depth-(c.height-m)<_){m=_-(d-o.depth)+c.height;var S=.8*u.xHeight-(d-o.depth);S>0&&(d+=S,m-=S)}var T=[{type:"elem",elem:c,shift:m,marginRight:y,marginLeft:w},{type:"elem",elem:o,shift:-d,marginRight:y}];k=Fe.makeVList({positionType:"individualShift",children:T},e)}else if(c){m=Math.max(m,u.sub1,c.height-.8*u.xHeight);var N=[{type:"elem",elem:c,marginLeft:w,marginRight:y}];k=Fe.makeVList({positionType:"shift",positionData:m,children:N},e)}else if(o)d=Math.max(d,g,o.depth+.25*u.xHeight),k=Fe.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:o,marginRight:y}]},e);else throw new Error("supsub must have either sup or sub.");var j=Nk(i,"right")||"mord";return Fe.makeSpan([j],[i,Fe.makeSpan(["msupsub"],[k])],e)},mathmlBuilder(t,e){var n=!1,r,a;t.base&&t.base.type==="horizBrace"&&(a=!!t.sup,a===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[or(t.base,e)];t.sub&&s.push(or(t.sub,e)),t.sup&&s.push(or(t.sup,e));var i;if(n)i=r?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===hn.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===hn.DISPLAY||u.limits)?i="munderover":i="msubsup"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===hn.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===hn.DISPLAY)?i="munder":i="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===hn.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===hn.DISPLAY)?i="mover":i="msup"}return new vt.MathNode(i,s)}});Wu({type:"atom",htmlBuilder(t,e){return Fe.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new vt.MathNode("mo",[ai(t.text,t.mode)]);if(t.family==="bin"){var r=KC(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var eF={mi:"italic",mn:"normal",mtext:"normal"};Wu({type:"mathord",htmlBuilder(t,e){return Fe.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new vt.MathNode("mi",[ai(t.text,t.mode,e)]),r=KC(t,e)||"italic";return r!==eF[n.type]&&n.setAttribute("mathvariant",r),n}});Wu({type:"textord",htmlBuilder(t,e){return Fe.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=ai(t.text,t.mode,e),r=KC(t,e)||"normal",a;return t.mode==="text"?a=new vt.MathNode("mtext",[n]):/[0-9]/.test(t.text)?a=new vt.MathNode("mn",[n]):t.text==="\\prime"?a=new vt.MathNode("mo",[n]):a=new vt.MathNode("mi",[n]),r!==eF[a.type]&&a.setAttribute("mathvariant",r),a}});var Vw={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Kw={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Wu({type:"spacing",htmlBuilder(t,e){if(Kw.hasOwnProperty(t.text)){var n=Kw[t.text].className||"";if(t.mode==="text"){var r=Fe.makeOrd(t,e,"textord");return r.classes.push(n),r}else return Fe.makeSpan(["mspace",n],[Fe.mathsym(t.text,t.mode,e)],e)}else{if(Vw.hasOwnProperty(t.text))return Fe.makeSpan(["mspace",Vw[t.text]],[],e);throw new _t('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(Kw.hasOwnProperty(t.text))n=new vt.MathNode("mtext",[new vt.TextNode("")]);else{if(Vw.hasOwnProperty(t.text))return new vt.MathNode("mspace");throw new _t('Unknown type of space "'+t.text+'"')}return n}});var SE=()=>{var t=new vt.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Wu({type:"tag",mathmlBuilder(t,e){var n=new vt.MathNode("mtable",[new vt.MathNode("mtr",[SE(),new vt.MathNode("mtd",[tc(t.body,e)]),SE(),new vt.MathNode("mtd",[tc(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var jE={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},TE={"\\textbf":"textbf","\\textmd":"textmd"},N2e={"\\textit":"textit","\\textup":"textup"},EE=(t,e)=>{var n=t.font;if(n){if(jE[n])return e.withTextFontFamily(jE[n]);if(TE[n])return e.withTextFontWeight(TE[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(N2e[n])};Lt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,a=e[0];return{type:"text",mode:n.mode,body:Wr(a),font:r}},htmlBuilder(t,e){var n=EE(t,e),r=ra(t.body,n,!0);return Fe.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=EE(t,e);return tc(t.body,n)}});Lt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Gn(t.body,e),r=Fe.makeLineSpan("underline-line",e),a=e.fontMetrics().defaultRuleThickness,s=Fe.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:a},{type:"elem",elem:r},{type:"kern",size:3*a},{type:"elem",elem:n}]},e);return Fe.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var n=new vt.MathNode("mo",[new vt.TextNode("")]);n.setAttribute("stretchy","true");var r=new vt.MathNode("munder",[or(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});Lt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Gn(t.body,e),r=e.fontMetrics().axisHeight,a=.5*(n.height-r-(n.depth+r));return Fe.makeVList({positionType:"shift",positionData:a,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new vt.MathNode("mpadded",[or(t.body,e)],["vcenter"])}});Lt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new _t("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=NE(t),r=[],a=e.havingStyle(e.style.text()),s=0;s<n.length;s++){var i=n[s];i==="~"&&(i="\\textasciitilde"),r.push(Fe.makeSymbol(i,"Typewriter-Regular",t.mode,a,["mord","texttt"]))}return Fe.makeSpan(["mord","text"].concat(a.sizingClasses(e)),Fe.tryCombineChars(r),a)},mathmlBuilder(t,e){var n=new vt.TextNode(NE(t)),r=new vt.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var NE=t=>t.body.replace(/ /g,t.star?"":""),Hl=_P,tF=`[ \r
	]`,$2e="\\\\[a-zA-Z@]+",A2e="\\\\[^\uD800-\uDFFF]",I2e="("+$2e+")"+tF+"*",R2e=`\\\\(
|[ \r	]+
?)[ \r	]*`,Rk="[-]",M2e=new RegExp(Rk+"+$"),D2e="("+tF+"+)|"+(R2e+"|")+"([!-\\[\\]---]"+(Rk+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Rk+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+I2e)+("|"+A2e+")");class $E{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(D2e,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new Ds("EOF",new ms(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new _t("Unexpected character: '"+e[n]+"'",new Ds(e[n],new ms(this,n,n+1)));var a=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[a]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new Ds(a,new ms(this,n,this.tokenRegex.lastIndex))}}class L2e{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new _t("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var a=0;a<this.undefStack.length;a++)delete this.undefStack[a][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var O2e=UP;ne("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});ne("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});ne("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});ne("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});ne("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});ne("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");ne("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var AE={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ne("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new _t("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=AE[e.text],r==null||r>=n)throw new _t("Invalid base-"+n+" digit "+e.text);for(var a;(a=AE[t.future().text])!=null&&a<n;)r*=n,r+=a,t.popToken()}return"\\@char{"+r+"}"});var a6=(t,e,n,r)=>{var a=t.consumeArg().tokens;if(a.length!==1)throw new _t("\\newcommand's first argument must be a macro name");var s=a[0].text,i=t.isDefined(s);if(i&&!e)throw new _t("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!i&&!n)throw new _t("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var o=0;if(a=t.consumeArg().tokens,a.length===1&&a[0].text==="["){for(var c="",u=t.expandNextToken();u.text!=="]"&&u.text!=="EOF";)c+=u.text,u=t.expandNextToken();if(!c.match(/^\s*[0-9]+\s*$/))throw new _t("Invalid number of arguments: "+c);o=parseInt(c),a=t.consumeArg().tokens}return i&&r||t.macros.set(s,{tokens:a,numArgs:o}),""};ne("\\newcommand",t=>a6(t,!1,!0,!1));ne("\\renewcommand",t=>a6(t,!0,!1,!1));ne("\\providecommand",t=>a6(t,!0,!0,!0));ne("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});ne("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});ne("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),Hl[n],ur.math[n],ur.text[n]),""});ne("\\bgroup","{");ne("\\egroup","}");ne("~","\\nobreakspace");ne("\\lq","`");ne("\\rq","'");ne("\\aa","\\r a");ne("\\AA","\\r A");ne("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");ne("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");ne("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");ne("","\\mathscr{B}");ne("","\\mathscr{E}");ne("","\\mathscr{F}");ne("","\\mathscr{H}");ne("","\\mathscr{I}");ne("","\\mathscr{L}");ne("","\\mathscr{M}");ne("","\\mathscr{R}");ne("","\\mathfrak{C}");ne("","\\mathfrak{H}");ne("","\\mathfrak{Z}");ne("\\Bbbk","\\Bbb{k}");ne("","\\cdotp");ne("\\llap","\\mathllap{\\textrm{#1}}");ne("\\rlap","\\mathrlap{\\textrm{#1}}");ne("\\clap","\\mathclap{\\textrm{#1}}");ne("\\mathstrut","\\vphantom{(}");ne("\\underbar","\\underline{\\text{#1}}");ne("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');ne("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");ne("\\ne","\\neq");ne("","\\neq");ne("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");ne("","\\notin");ne("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");ne("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");ne("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");ne("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");ne("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");ne("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");ne("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");ne("","\\perp");ne("","\\mathclose{!\\mkern-0.8mu!}");ne("","\\notni");ne("","\\ulcorner");ne("","\\urcorner");ne("","\\llcorner");ne("","\\lrcorner");ne("","\\copyright");ne("","\\textregistered");ne("","\\textregistered");ne("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');ne("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');ne("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');ne("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');ne("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");ne("","\\vdots");ne("\\varGamma","\\mathit{\\Gamma}");ne("\\varDelta","\\mathit{\\Delta}");ne("\\varTheta","\\mathit{\\Theta}");ne("\\varLambda","\\mathit{\\Lambda}");ne("\\varXi","\\mathit{\\Xi}");ne("\\varPi","\\mathit{\\Pi}");ne("\\varSigma","\\mathit{\\Sigma}");ne("\\varUpsilon","\\mathit{\\Upsilon}");ne("\\varPhi","\\mathit{\\Phi}");ne("\\varPsi","\\mathit{\\Psi}");ne("\\varOmega","\\mathit{\\Omega}");ne("\\substack","\\begin{subarray}{c}#1\\end{subarray}");ne("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");ne("\\boxed","\\fbox{$\\displaystyle{#1}$}");ne("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");ne("\\implies","\\DOTSB\\;\\Longrightarrow\\;");ne("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");ne("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");ne("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var IE={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ne("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in IE?e=IE[n]:(n.slice(0,4)==="\\not"||n in ur.math&&["bin","rel"].includes(ur.math[n].group))&&(e="\\dotsb"),e});var s6={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ne("\\dotso",function(t){var e=t.future().text;return e in s6?"\\ldots\\,":"\\ldots"});ne("\\dotsc",function(t){var e=t.future().text;return e in s6&&e!==","?"\\ldots\\,":"\\ldots"});ne("\\cdots",function(t){var e=t.future().text;return e in s6?"\\@cdots\\,":"\\@cdots"});ne("\\dotsb","\\cdots");ne("\\dotsm","\\cdots");ne("\\dotsi","\\!\\cdots");ne("\\dotsx","\\ldots\\,");ne("\\DOTSI","\\relax");ne("\\DOTSB","\\relax");ne("\\DOTSX","\\relax");ne("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");ne("\\,","\\tmspace+{3mu}{.1667em}");ne("\\thinspace","\\,");ne("\\>","\\mskip{4mu}");ne("\\:","\\tmspace+{4mu}{.2222em}");ne("\\medspace","\\:");ne("\\;","\\tmspace+{5mu}{.2777em}");ne("\\thickspace","\\;");ne("\\!","\\tmspace-{3mu}{.1667em}");ne("\\negthinspace","\\!");ne("\\negmedspace","\\tmspace-{4mu}{.2222em}");ne("\\negthickspace","\\tmspace-{5mu}{.277em}");ne("\\enspace","\\kern.5em ");ne("\\enskip","\\hskip.5em\\relax");ne("\\quad","\\hskip1em\\relax");ne("\\qquad","\\hskip2em\\relax");ne("\\tag","\\@ifstar\\tag@literal\\tag@paren");ne("\\tag@paren","\\tag@literal{({#1})}");ne("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new _t("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});ne("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");ne("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");ne("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");ne("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");ne("\\newline","\\\\\\relax");ne("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var nF=Rt(ro["Main-Regular"][84][1]-.7*ro["Main-Regular"][65][1]);ne("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+nF+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");ne("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+nF+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");ne("\\hspace","\\@ifstar\\@hspacer\\@hspace");ne("\\@hspace","\\hskip #1\\relax");ne("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");ne("\\ordinarycolon",":");ne("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");ne("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');ne("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');ne("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');ne("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');ne("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');ne("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');ne("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');ne("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');ne("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');ne("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');ne("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');ne("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');ne("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');ne("","\\dblcolon");ne("","\\eqcolon");ne("","\\coloneqq");ne("","\\eqqcolon");ne("","\\Coloneqq");ne("\\ratio","\\vcentcolon");ne("\\coloncolon","\\dblcolon");ne("\\colonequals","\\coloneqq");ne("\\coloncolonequals","\\Coloneqq");ne("\\equalscolon","\\eqqcolon");ne("\\equalscoloncolon","\\Eqqcolon");ne("\\colonminus","\\coloneq");ne("\\coloncolonminus","\\Coloneq");ne("\\minuscolon","\\eqcolon");ne("\\minuscoloncolon","\\Eqcolon");ne("\\coloncolonapprox","\\Colonapprox");ne("\\coloncolonsim","\\Colonsim");ne("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ne("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");ne("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");ne("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");ne("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");ne("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");ne("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");ne("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");ne("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");ne("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");ne("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");ne("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");ne("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");ne("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");ne("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");ne("\\ngeqq","\\html@mathml{\\@ngeqq}{}");ne("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");ne("\\nleqq","\\html@mathml{\\@nleqq}{}");ne("\\nleqslant","\\html@mathml{\\@nleqslant}{}");ne("\\nshortmid","\\html@mathml{\\@nshortmid}{}");ne("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");ne("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");ne("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");ne("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");ne("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");ne("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");ne("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");ne("\\imath","\\html@mathml{\\@imath}{}");ne("\\jmath","\\html@mathml{\\@jmath}{}");ne("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");ne("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");ne("","\\llbracket");ne("","\\rrbracket");ne("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");ne("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");ne("","\\lBrace");ne("","\\rBrace");ne("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");ne("","\\minuso");ne("\\darr","\\downarrow");ne("\\dArr","\\Downarrow");ne("\\Darr","\\Downarrow");ne("\\lang","\\langle");ne("\\rang","\\rangle");ne("\\uarr","\\uparrow");ne("\\uArr","\\Uparrow");ne("\\Uarr","\\Uparrow");ne("\\N","\\mathbb{N}");ne("\\R","\\mathbb{R}");ne("\\Z","\\mathbb{Z}");ne("\\alef","\\aleph");ne("\\alefsym","\\aleph");ne("\\Alpha","\\mathrm{A}");ne("\\Beta","\\mathrm{B}");ne("\\bull","\\bullet");ne("\\Chi","\\mathrm{X}");ne("\\clubs","\\clubsuit");ne("\\cnums","\\mathbb{C}");ne("\\Complex","\\mathbb{C}");ne("\\Dagger","\\ddagger");ne("\\diamonds","\\diamondsuit");ne("\\empty","\\emptyset");ne("\\Epsilon","\\mathrm{E}");ne("\\Eta","\\mathrm{H}");ne("\\exist","\\exists");ne("\\harr","\\leftrightarrow");ne("\\hArr","\\Leftrightarrow");ne("\\Harr","\\Leftrightarrow");ne("\\hearts","\\heartsuit");ne("\\image","\\Im");ne("\\infin","\\infty");ne("\\Iota","\\mathrm{I}");ne("\\isin","\\in");ne("\\Kappa","\\mathrm{K}");ne("\\larr","\\leftarrow");ne("\\lArr","\\Leftarrow");ne("\\Larr","\\Leftarrow");ne("\\lrarr","\\leftrightarrow");ne("\\lrArr","\\Leftrightarrow");ne("\\Lrarr","\\Leftrightarrow");ne("\\Mu","\\mathrm{M}");ne("\\natnums","\\mathbb{N}");ne("\\Nu","\\mathrm{N}");ne("\\Omicron","\\mathrm{O}");ne("\\plusmn","\\pm");ne("\\rarr","\\rightarrow");ne("\\rArr","\\Rightarrow");ne("\\Rarr","\\Rightarrow");ne("\\real","\\Re");ne("\\reals","\\mathbb{R}");ne("\\Reals","\\mathbb{R}");ne("\\Rho","\\mathrm{P}");ne("\\sdot","\\cdot");ne("\\sect","\\S");ne("\\spades","\\spadesuit");ne("\\sub","\\subset");ne("\\sube","\\subseteq");ne("\\supe","\\supseteq");ne("\\Tau","\\mathrm{T}");ne("\\thetasym","\\vartheta");ne("\\weierp","\\wp");ne("\\Zeta","\\mathrm{Z}");ne("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");ne("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");ne("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");ne("\\bra","\\mathinner{\\langle{#1}|}");ne("\\ket","\\mathinner{|{#1}\\rangle}");ne("\\braket","\\mathinner{\\langle{#1}\\rangle}");ne("\\Bra","\\left\\langle#1\\right|");ne("\\Ket","\\left|#1\\right\\rangle");var rF=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,a=e.consumeArg().tokens,s=e.consumeArg().tokens,i=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var c=m=>h=>{t&&(h.macros.set("|",i),a.length&&h.macros.set("\\|",o));var p=m;if(!m&&a.length){var f=h.future();f.text==="|"&&(h.popToken(),p=!0)}return{tokens:p?a:r,numArgs:0}};e.macros.set("|",c(!1)),a.length&&e.macros.set("\\|",c(!0));var u=e.consumeArg().tokens,d=e.expandTokens([...s,...u,...n]);return e.macros.endGroup(),{tokens:d.reverse(),numArgs:0}};ne("\\bra@ket",rF(!1));ne("\\bra@set",rF(!0));ne("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");ne("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");ne("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");ne("\\angln","{\\angl n}");ne("\\blue","\\textcolor{##6495ed}{#1}");ne("\\orange","\\textcolor{##ffa500}{#1}");ne("\\pink","\\textcolor{##ff00af}{#1}");ne("\\red","\\textcolor{##df0030}{#1}");ne("\\green","\\textcolor{##28ae7b}{#1}");ne("\\gray","\\textcolor{gray}{#1}");ne("\\purple","\\textcolor{##9d38bd}{#1}");ne("\\blueA","\\textcolor{##ccfaff}{#1}");ne("\\blueB","\\textcolor{##80f6ff}{#1}");ne("\\blueC","\\textcolor{##63d9ea}{#1}");ne("\\blueD","\\textcolor{##11accd}{#1}");ne("\\blueE","\\textcolor{##0c7f99}{#1}");ne("\\tealA","\\textcolor{##94fff5}{#1}");ne("\\tealB","\\textcolor{##26edd5}{#1}");ne("\\tealC","\\textcolor{##01d1c1}{#1}");ne("\\tealD","\\textcolor{##01a995}{#1}");ne("\\tealE","\\textcolor{##208170}{#1}");ne("\\greenA","\\textcolor{##b6ffb0}{#1}");ne("\\greenB","\\textcolor{##8af281}{#1}");ne("\\greenC","\\textcolor{##74cf70}{#1}");ne("\\greenD","\\textcolor{##1fab54}{#1}");ne("\\greenE","\\textcolor{##0d923f}{#1}");ne("\\goldA","\\textcolor{##ffd0a9}{#1}");ne("\\goldB","\\textcolor{##ffbb71}{#1}");ne("\\goldC","\\textcolor{##ff9c39}{#1}");ne("\\goldD","\\textcolor{##e07d10}{#1}");ne("\\goldE","\\textcolor{##a75a05}{#1}");ne("\\redA","\\textcolor{##fca9a9}{#1}");ne("\\redB","\\textcolor{##ff8482}{#1}");ne("\\redC","\\textcolor{##f9685d}{#1}");ne("\\redD","\\textcolor{##e84d39}{#1}");ne("\\redE","\\textcolor{##bc2612}{#1}");ne("\\maroonA","\\textcolor{##ffbde0}{#1}");ne("\\maroonB","\\textcolor{##ff92c6}{#1}");ne("\\maroonC","\\textcolor{##ed5fa6}{#1}");ne("\\maroonD","\\textcolor{##ca337c}{#1}");ne("\\maroonE","\\textcolor{##9e034e}{#1}");ne("\\purpleA","\\textcolor{##ddd7ff}{#1}");ne("\\purpleB","\\textcolor{##c6b9fc}{#1}");ne("\\purpleC","\\textcolor{##aa87ff}{#1}");ne("\\purpleD","\\textcolor{##7854ab}{#1}");ne("\\purpleE","\\textcolor{##543b78}{#1}");ne("\\mintA","\\textcolor{##f5f9e8}{#1}");ne("\\mintB","\\textcolor{##edf2df}{#1}");ne("\\mintC","\\textcolor{##e0e5cc}{#1}");ne("\\grayA","\\textcolor{##f6f7f7}{#1}");ne("\\grayB","\\textcolor{##f0f1f2}{#1}");ne("\\grayC","\\textcolor{##e3e5e6}{#1}");ne("\\grayD","\\textcolor{##d6d8da}{#1}");ne("\\grayE","\\textcolor{##babec2}{#1}");ne("\\grayF","\\textcolor{##888d93}{#1}");ne("\\grayG","\\textcolor{##626569}{#1}");ne("\\grayH","\\textcolor{##3b3e40}{#1}");ne("\\grayI","\\textcolor{##21242c}{#1}");ne("\\kaBlue","\\textcolor{##314453}{#1}");ne("\\kaGreen","\\textcolor{##71B307}{#1}");var aF={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class P2e{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new L2e(O2e,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new $E(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,a;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:a,end:r}=this.consumeArg(["]"])}else({tokens:a,start:n,end:r}=this.consumeArg());return this.pushToken(new Ds("EOF",r.loc)),this.pushTokens(a),new Ds("",ms.range(n,r))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var a=this.future(),s,i=0,o=0;do{if(s=this.popToken(),n.push(s),s.text==="{")++i;else if(s.text==="}"){if(--i,i===-1)throw new _t("Extra }",s)}else if(s.text==="EOF")throw new _t("Unexpected end of input in a macro argument, expected '"+(e&&r?e[o]:"}")+"'",s);if(e&&r)if((i===0||i===1&&e[o]==="{")&&s.text===e[o]){if(++o,o===e.length){n.splice(-o,o);break}}else o=0}while(i!==0||r);return a.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:a,end:s}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new _t("The length of delimiters doesn't match the number of args!");for(var r=n[0],a=0;a<r.length;a++){var s=this.popToken();if(r[a]!==s.text)throw new _t("Use of the macro doesn't match its definition",s)}}for(var i=[],o=0;o<e;o++)i.push(this.consumeArg(n&&n[o+1]).tokens);return i}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new _t("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,a=n.noexpand?null:this._getExpansion(r);if(a==null||e&&a.unexpandable){if(e&&a==null&&r[0]==="\\"&&!this.isDefined(r))throw new _t("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var s=a.tokens,i=this.consumeArgs(a.numArgs,a.delimiters);if(a.numArgs){s=s.slice();for(var o=s.length-1;o>=0;--o){var c=s[o];if(c.text==="#"){if(o===0)throw new _t("Incomplete placeholder at end of macro body",c);if(c=s[--o],c.text==="#")s.splice(o+1,1);else if(/^[1-9]$/.test(c.text))s.splice(o,2,...i[+c.text-1]);else throw new _t("Not a valid argument number",c)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Ds(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var a=this.stack.pop();a.treatAsRelax&&(a.noexpand=!1,a.treatAsRelax=!1),n.push(a)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var a=typeof n=="function"?n(this):n;if(typeof a=="string"){var s=0;if(a.indexOf("#")!==-1)for(var i=a.replace(/##/g,"");i.indexOf("#"+(s+1))!==-1;)++s;for(var o=new $E(a,this.settings),c=[],u=o.lex();u.text!=="EOF";)c.push(u),u=o.lex();c.reverse();var d={tokens:c,numArgs:s};return d}return a}isDefined(e){return this.macros.has(e)||Hl.hasOwnProperty(e)||ur.math.hasOwnProperty(e)||ur.text.hasOwnProperty(e)||aF.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Hl.hasOwnProperty(e)&&!Hl[e].primitive}}var RE=/^[]/,ng=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Yw={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},ME={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};let sF=class iF{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new P2e(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new _t("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Ds("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var a=this.fetch();if(iF.endOfExpression.indexOf(a.text)!==-1||n&&a.text===n||e&&Hl[a.text]&&Hl[a.text].infix)break;var s=this.parseAtom(n);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,a=0;a<e.length;a++)if(e[a].type==="infix"){if(n!==-1)throw new _t("only one infix operator per group",e[a].token);n=a,r=e[a].replaceWith}if(n!==-1&&r){var s,i,o=e.slice(0,n),c=e.slice(n+1);o.length===1&&o[0].type==="ordgroup"?s=o[0]:s={type:"ordgroup",mode:this.mode,body:o},c.length===1&&c[0].type==="ordgroup"?i=c[0]:i={type:"ordgroup",mode:this.mode,body:c};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[s,e[n],i],[]):u=this.callFunction(r,[s,i],[]),[u]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var a;do{var s;a=this.parseGroup(e)}while(((s=a)==null?void 0:s.type)==="internal");if(!a)throw new _t("Expected group after '"+r+"'",n);return a}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var a={type:"text",mode:this.mode,body:n},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[a]};return s}parseAtom(e){var n=this.parseGroup("atom",e);if(n?.type==="internal"||this.mode==="text")return n;for(var r,a;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(n&&n.type==="op"){var i=s.text==="\\limits";n.limits=i,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=s.text==="\\limits");else throw new _t("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new _t("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(a)throw new _t("Double subscript",s);a=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new _t("Double superscript",s);var o={type:"textord",mode:this.mode,text:"\\prime"},c=[o];for(this.consume();this.fetch().text==="'";)c.push(o),this.consume();this.fetch().text==="^"&&c.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:c}}else if(ng[s.text]){var u=RE.test(s.text),d=[];for(d.push(new Ds(ng[s.text])),this.consume();;){var m=this.fetch().text;if(!ng[m]||RE.test(m)!==u)break;d.unshift(new Ds(ng[m])),this.consume()}var h=this.subparse(d);u?a={type:"ordgroup",mode:"math",body:h}:r={type:"ordgroup",mode:"math",body:h}}else break}return r||a?{type:"supsub",mode:this.mode,base:n,sup:r,sub:a}:n}parseFunction(e,n){var r=this.fetch(),a=r.text,s=Hl[a];if(!s)return null;if(this.consume(),n&&n!=="atom"&&!s.allowedInArgument)throw new _t("Got function '"+a+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!s.allowedInText)throw new _t("Can't use function '"+a+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new _t("Can't use function '"+a+"' in math mode",r);var{args:i,optArgs:o}=this.parseArguments(a,s);return this.callFunction(a,i,o,r,e)}callFunction(e,n,r,a,s){var i={funcName:e,parser:this,token:a,breakOnTokenText:s},o=Hl[e];if(o&&o.handler)return o.handler(i,n,r);throw new _t("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var a=[],s=[],i=0;i<r;i++){var o=n.argTypes&&n.argTypes[i],c=i<n.numOptionalArgs;(n.primitive&&o==null||n.type==="sqrt"&&i===1&&s[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",o,c);if(c)s.push(u);else if(u!=null)a.push(u);else throw new _t("Null argument, please report this as a bug")}return{args:a,optArgs:s}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var a=this.parseArgumentGroup(r,"text");return a!=null?{type:"styling",mode:a.mode,body:[a],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new _t("A primitive argument cannot be optional");var i=this.parseGroup(e);if(i==null)throw new _t("Expected group as "+e,this.fetch());return i}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new _t("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var a="",s;(s=this.fetch()).text!=="EOF";)a+=s.text,this.consume();return this.consume(),r.text=a,r}parseRegexGroup(e,n){for(var r=this.fetch(),a=r,s="",i;(i=this.fetch()).text!=="EOF"&&e.test(s+i.text);)a=i,s+=a.text,this.consume();if(s==="")throw new _t("Invalid "+n+": '"+r.text+"'",r);return r.range(a,s)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new _t("Invalid color: '"+n.text+"'",n);var a=r[0];return/^[0-9a-f]{6}$/i.test(a)&&(a="#"+a),{type:"color-token",mode:this.mode,color:a}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var a=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!a)throw new _t("Invalid size: '"+n.text+"'",n);var s={number:+(a[1]+a[2]),unit:a[3]};if(!pP(s))throw new _t("Invalid unit: '"+s.unit+"'",n);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var a=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var i={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return n&&this.switchMode(a),i}parseGroup(e,n){var r=this.fetch(),a=r.text,s;if(a==="{"||a==="\\begingroup"){this.consume();var i=a==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,i),c=this.fetch();this.expect(i),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:ms.range(r,c),body:o,semisimple:a==="\\begingroup"||void 0}}else if(s=this.parseFunction(n,e)||this.parseSymbol(),s==null&&a[0]==="\\"&&!aF.hasOwnProperty(a)){if(this.settings.throwOnError)throw new _t("Undefined control sequence: "+a,r);s=this.formatUnsupportedCmd(a),this.consume()}return s}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var a=e[r],s=a.text;s==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:ms.range(a,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:ms.range(a,e[r+1]),text:"--"}),n-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:ms.range(a,e[r+1]),text:s+s}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),a=r.charAt(0)==="*";if(a&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new _t(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:a}}ME.hasOwnProperty(n[0])&&!ur[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=ME[n[0]]+n.slice(1));var s=M2e.exec(n);s&&(n=n.substring(0,s.index),n==="i"?n="":n==="j"&&(n=""));var i;if(ur[this.mode][n]){this.settings.strict&&this.mode==="math"&&Ek.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var o=ur[this.mode][n].group,c=ms.range(e),u;if(jye.hasOwnProperty(o)){var d=o;u={type:"atom",mode:this.mode,family:d,loc:c,text:n}}else u={type:o,mode:this.mode,loc:c,text:n};i=u}else if(n.charCodeAt(0)>=128)this.settings.strict&&(mP(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),i={type:"textord",mode:"text",loc:ms.range(e),text:n};else return null;if(this.consume(),s)for(var m=0;m<s[0].length;m++){var h=s[0][m];if(!Yw[h])throw new _t("Unknown accent ' "+h+"'",e);var p=Yw[h][this.mode]||Yw[h].text;if(!p)throw new _t("Accent "+h+" unsupported in "+this.mode+" mode",e);i={type:"accent",mode:this.mode,loc:ms.range(e),label:p,isStretchy:!1,isShifty:!0,base:i}}return i}};sF.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var i6=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new sF(e,n);delete r.gullet.macros.current["\\df@tag"];var a=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new _t("\\tag works only in display equations");a=[{type:"tag",mode:"text",body:a,tag:r.subparse([new Ds("\\df@tag")])}]}return a},o6=function(e,n,r){n.textContent="";var a=Ry(e,r).toNode();n.appendChild(a)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),o6=function(){throw new _t("KaTeX doesn't work in quirks mode.")});var oF=function(e,n){var r=Ry(e,n).toMarkup();return r},lF=function(e,n){var r=new HC(n);return i6(e,r)},cF=function(e,n,r){if(r.throwOnError||!(e instanceof _t))throw e;var a=Fe.makeSpan(["katex-error"],[new ri(n)]);return a.setAttribute("title",e.toString()),a.setAttribute("style","color:"+r.errorColor),a},Ry=function(e,n){var r=new HC(n);try{var a=i6(e,r);return Yye(a,e,r)}catch(s){return cF(s,e,r)}},uF=function(e,n){var r=new HC(n);try{var a=i6(e,r);return Xye(a,e,r)}catch(s){return cF(s,e,r)}},dF="0.16.25",mF={Span:Zf,Anchor:WC,SymbolNode:ri,SvgNode:al,PathNode:ec,LineNode:Tk},Mk={version:dF,render:o6,renderToString:oF,ParseError:_t,SETTINGS_SCHEMA:xp,__parse:lF,__renderToDomTree:Ry,__renderToHTMLTree:uF,__setFontMetrics:hP,__defineSymbol:z,__defineFunction:Lt,__defineMacro:ne,__domTree:mF};const F2e=Object.freeze(Object.defineProperty({__proto__:null,ParseError:_t,SETTINGS_SCHEMA:xp,__defineFunction:Lt,__defineMacro:ne,__defineSymbol:z,__domTree:mF,__parse:lF,__renderToDomTree:Ry,__renderToHTMLTree:uF,__setFontMetrics:hP,default:Mk,get render(){return o6},renderToString:oF,version:dF},Symbol.toStringTag,{value:"Module"})),B2e={},z2e=[];function ub(t){const e=t||B2e;return function(n,r){PC(n,"element",function(a,s){const i=Array.isArray(a.properties.className)?a.properties.className:z2e,o=i.includes("language-math"),c=i.includes("math-display"),u=i.includes("math-inline");let d=c;if(!o&&!c&&!u)return;let m=s[s.length-1],h=a;if(a.tagName==="code"&&o&&m&&m.type==="element"&&m.tagName==="pre"&&(h=m,m=s[s.length-2],d=!0),!m)return;const p=Fxe(h,{whitespace:"pre"});let f;try{f=Mk.renderToString(p,{...e,displayMode:d,throwOnError:!0})}catch(x){const y=x,w=y.name.toLowerCase();r.message("Could not render math with KaTeX",{ancestors:[...s,a],cause:y,place:a.position,ruleId:w,source:"rehype-katex"});try{f=Mk.renderToString(p,{...e,displayMode:d,strict:"ignore",throwOnError:!1})}catch{f=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(e.errorColor||"#cc0000"),title:String(x)},children:[{type:"text",value:p}]}]}}typeof f=="string"&&(f=Axe(f).children);const g=m.children.indexOf(h);return m.children.splice(g,1,...f),Cm})}}const hF=-1,My=0,wp=1,db=2,l6=3,c6=4,u6=5,d6=6,pF=7,fF=8,DE=typeof self=="object"?self:globalThis,H2e=(t,e)=>{const n=(a,s)=>(t.set(s,a),a),r=a=>{if(t.has(a))return t.get(a);const[s,i]=e[a];switch(s){case My:case hF:return n(i,a);case wp:{const o=n([],a);for(const c of i)o.push(r(c));return o}case db:{const o=n({},a);for(const[c,u]of i)o[r(c)]=r(u);return o}case l6:return n(new Date(i),a);case c6:{const{source:o,flags:c}=i;return n(new RegExp(o,c),a)}case u6:{const o=n(new Map,a);for(const[c,u]of i)o.set(r(c),r(u));return o}case d6:{const o=n(new Set,a);for(const c of i)o.add(r(c));return o}case pF:{const{name:o,message:c}=i;return n(new DE[o](c),a)}case fF:return n(BigInt(i),a);case"BigInt":return n(Object(BigInt(i)),a);case"ArrayBuffer":return n(new Uint8Array(i).buffer,i);case"DataView":{const{buffer:o}=new Uint8Array(i);return n(new DataView(o),i)}}return n(new DE[s](i),a)};return r},LE=t=>H2e(new Map,t)(0),pd="",{toString:q2e}={},{keys:U2e}=Object,yh=t=>{const e=typeof t;if(e!=="object"||!t)return[My,e];const n=q2e.call(t).slice(8,-1);switch(n){case"Array":return[wp,pd];case"Object":return[db,pd];case"Date":return[l6,pd];case"RegExp":return[c6,pd];case"Map":return[u6,pd];case"Set":return[d6,pd];case"DataView":return[wp,n]}return n.includes("Array")?[wp,n]:n.includes("Error")?[pF,n]:[db,n]},rg=([t,e])=>t===My&&(e==="function"||e==="symbol"),W2e=(t,e,n,r)=>{const a=(i,o)=>{const c=r.push(i)-1;return n.set(o,c),c},s=i=>{if(n.has(i))return n.get(i);let[o,c]=yh(i);switch(o){case My:{let d=i;switch(c){case"bigint":o=fF,d=i.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return a([hF],i)}return a([o,d],i)}case wp:{if(c){let h=i;return c==="DataView"?h=new Uint8Array(i.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(i)),a([c,[...h]],i)}const d=[],m=a([o,d],i);for(const h of i)d.push(s(h));return m}case db:{if(c)switch(c){case"BigInt":return a([c,i.toString()],i);case"Boolean":case"Number":case"String":return a([c,i.valueOf()],i)}if(e&&"toJSON"in i)return s(i.toJSON());const d=[],m=a([o,d],i);for(const h of U2e(i))(t||!rg(yh(i[h])))&&d.push([s(h),s(i[h])]);return m}case l6:return a([o,i.toISOString()],i);case c6:{const{source:d,flags:m}=i;return a([o,{source:d,flags:m}],i)}case u6:{const d=[],m=a([o,d],i);for(const[h,p]of i)(t||!(rg(yh(h))||rg(yh(p))))&&d.push([s(h),s(p)]);return m}case d6:{const d=[],m=a([o,d],i);for(const h of i)(t||!rg(yh(h)))&&d.push(s(h));return m}}const{message:u}=i;return a([o,{name:c,message:u}],i)};return s},OE=(t,{json:e,lossy:n}={})=>{const r=[];return W2e(!(e||n),!!e,new Map,r)(t),r},ku=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?LE(OE(t,e)):structuredClone(t):(t,e)=>LE(OE(t,e));function G2e(t){const e=String(t),n=[];return{toOffset:a,toPoint:r};function r(s){if(typeof s=="number"&&s>-1&&s<=e.length){let i=0;for(;;){let o=n[i];if(o===void 0){const c=PE(e,n[i-1]);o=c===-1?e.length+1:c+1,n[i]=o}if(o>s)return{line:i+1,column:s-(i>0?n[i-1]:0)+1,offset:s};i++}}}function a(s){if(s&&typeof s.line=="number"&&typeof s.column=="number"&&!Number.isNaN(s.line)&&!Number.isNaN(s.column)){for(;n.length<s.line;){const o=n[n.length-1],c=PE(e,o),u=c===-1?e.length+1:c+1;if(o===u)break;n.push(u)}const i=(s.line>1?n[s.line-2]:0)+s.column-1;if(i<n[s.line-1])return i}}}function PE(t,e){const n=t.indexOf("\r",e),r=t.indexOf(`
`,e);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const gF={}.hasOwnProperty,V2e=Object.prototype;function K2e(t,e){const n=e||{};return m6({file:n.file||void 0,location:!1,schema:n.space==="svg"?th:jy,verbose:n.verbose||!1},t)}function m6(t,e){let n;switch(e.nodeName){case"#comment":{const r=e;return n={type:"comment",value:r.data},Gg(t,r,n),n}case"#document":case"#document-fragment":{const r=e,a="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:bF(t,e.childNodes),data:{quirksMode:a}},t.file&&t.location){const s=String(t.file),i=G2e(s),o=i.toPoint(0),c=i.toPoint(s.length);n.position={start:o,end:c}}return n}case"#documentType":{const r=e;return n={type:"doctype"},Gg(t,r,n),n}case"#text":{const r=e;return n={type:"text",value:r.value},Gg(t,r,n),n}default:return n=Y2e(t,e),n}}function bF(t,e){let n=-1;const r=[];for(;++n<e.length;){const a=m6(t,e[n]);r.push(a)}return r}function Y2e(t,e){const n=t.schema;t.schema=e.namespaceURI===no.svg?th:jy;let r=-1;const a={};for(;++r<e.attrs.length;){const o=e.attrs[r],c=(o.prefix?o.prefix+":":"")+o.name;gF.call(V2e,c)||(a[c]=o.value)}const i=(t.schema.space==="svg"?aP:rP)(e.tagName,a,bF(t,e.childNodes));if(Gg(t,e,i),i.tagName==="template"){const o=e,c=o.sourceCodeLocation,u=c&&c.startTag&&Pd(c.startTag),d=c&&c.endTag&&Pd(c.endTag),m=m6(t,o.content);u&&d&&t.file&&(m.position={start:u.end,end:d.start}),i.content=m}return t.schema=n,i}function Gg(t,e,n){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const r=X2e(t,n,e.sourceCodeLocation);r&&(t.location=!0,n.position=r)}}function X2e(t,e,n){const r=Pd(n);if(e.type==="element"){const a=e.children[e.children.length-1];if(r&&!n.endTag&&a&&a.position&&a.position.end&&(r.end=Object.assign({},a.position.end)),t.verbose){const s={};let i;if(n.attrs)for(i in n.attrs)gF.call(n.attrs,i)&&(s[BC(t.schema,i).property]=Pd(n.attrs[i]));n.startTag;const o=Pd(n.startTag),c=n.endTag?Pd(n.endTag):void 0,u={opening:o};c&&(u.closing=c),u.properties=s,e.data={position:u}}}return r}function Pd(t){const e=FE({line:t.startLine,column:t.startCol,offset:t.startOffset}),n=FE({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||n?{start:e,end:n}:void 0}function FE(t){return t.line&&t.column?t:void 0}class Jf{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}Jf.prototype.property={};Jf.prototype.normal={};Jf.prototype.space=null;function xF(t,e){const n={},r={};let a=-1;for(;++a<t.length;)Object.assign(n,t[a].property),Object.assign(r,t[a].normal);return new Jf(n,r,e)}function Dk(t){return t.toLowerCase()}class ci{constructor(e,n){this.property=e,this.attribute=n}}ci.prototype.space=null;ci.prototype.boolean=!1;ci.prototype.booleanish=!1;ci.prototype.overloadedBoolean=!1;ci.prototype.number=!1;ci.prototype.commaSeparated=!1;ci.prototype.spaceSeparated=!1;ci.prototype.commaOrSpaceSeparated=!1;ci.prototype.mustUseProperty=!1;ci.prototype.defined=!1;let Z2e=0;const Sn=Gu(),Vr=Gu(),yF=Gu(),St=Gu(),cr=Gu(),rm=Gu(),Ss=Gu();function Gu(){return 2**++Z2e}const Lk=Object.freeze(Object.defineProperty({__proto__:null,boolean:Sn,booleanish:Vr,commaOrSpaceSeparated:Ss,commaSeparated:rm,number:St,overloadedBoolean:yF,spaceSeparated:cr},Symbol.toStringTag,{value:"Module"})),Xw=Object.keys(Lk);class h6 extends ci{constructor(e,n,r,a){let s=-1;if(super(e,n),BE(this,"space",a),typeof r=="number")for(;++s<Xw.length;){const i=Xw[s];BE(this,Xw[s],(r&Lk[i])===Lk[i])}}}h6.prototype.defined=!0;function BE(t,e,n){n&&(t[e]=n)}const Q2e={}.hasOwnProperty;function ah(t){const e={},n={};let r;for(r in t.properties)if(Q2e.call(t.properties,r)){const a=t.properties[r],s=new h6(r,t.transform(t.attributes||{},r),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[Dk(r)]=r,n[Dk(s.attribute)]=r}return new Jf(e,n,t.space)}const wF=ah({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),vF=ah({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function kF(t,e){return e in t?t[e]:e}function _F(t,e){return kF(t,e.toLowerCase())}const CF=ah({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:_F,properties:{xmlns:null,xmlnsXLink:null}}),SF=ah({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Vr,ariaAutoComplete:null,ariaBusy:Vr,ariaChecked:Vr,ariaColCount:St,ariaColIndex:St,ariaColSpan:St,ariaControls:cr,ariaCurrent:null,ariaDescribedBy:cr,ariaDetails:null,ariaDisabled:Vr,ariaDropEffect:cr,ariaErrorMessage:null,ariaExpanded:Vr,ariaFlowTo:cr,ariaGrabbed:Vr,ariaHasPopup:null,ariaHidden:Vr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:cr,ariaLevel:St,ariaLive:null,ariaModal:Vr,ariaMultiLine:Vr,ariaMultiSelectable:Vr,ariaOrientation:null,ariaOwns:cr,ariaPlaceholder:null,ariaPosInSet:St,ariaPressed:Vr,ariaReadOnly:Vr,ariaRelevant:null,ariaRequired:Vr,ariaRoleDescription:cr,ariaRowCount:St,ariaRowIndex:St,ariaRowSpan:St,ariaSelected:Vr,ariaSetSize:St,ariaSort:null,ariaValueMax:St,ariaValueMin:St,ariaValueNow:St,ariaValueText:null,role:null}}),J2e=ah({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:_F,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:rm,acceptCharset:cr,accessKey:cr,action:null,allow:null,allowFullScreen:Sn,allowPaymentRequest:Sn,allowUserMedia:Sn,alt:null,as:null,async:Sn,autoCapitalize:null,autoComplete:cr,autoFocus:Sn,autoPlay:Sn,blocking:cr,capture:null,charSet:null,checked:Sn,cite:null,className:cr,cols:St,colSpan:null,content:null,contentEditable:Vr,controls:Sn,controlsList:cr,coords:St|rm,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Sn,defer:Sn,dir:null,dirName:null,disabled:Sn,download:yF,draggable:Vr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Sn,formTarget:null,headers:cr,height:St,hidden:Sn,high:St,href:null,hrefLang:null,htmlFor:cr,httpEquiv:cr,id:null,imageSizes:null,imageSrcSet:null,inert:Sn,inputMode:null,integrity:null,is:null,isMap:Sn,itemId:null,itemProp:cr,itemRef:cr,itemScope:Sn,itemType:cr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Sn,low:St,manifest:null,max:null,maxLength:St,media:null,method:null,min:null,minLength:St,multiple:Sn,muted:Sn,name:null,nonce:null,noModule:Sn,noValidate:Sn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Sn,optimum:St,pattern:null,ping:cr,placeholder:null,playsInline:Sn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Sn,referrerPolicy:null,rel:cr,required:Sn,reversed:Sn,rows:St,rowSpan:St,sandbox:cr,scope:null,scoped:Sn,seamless:Sn,selected:Sn,shadowRootClonable:Sn,shadowRootDelegatesFocus:Sn,shadowRootMode:null,shape:null,size:St,sizes:null,slot:null,span:St,spellCheck:Vr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:St,step:null,style:null,tabIndex:St,target:null,title:null,translate:null,type:null,typeMustMatch:Sn,useMap:null,value:Vr,width:St,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:cr,axis:null,background:null,bgColor:null,border:St,borderColor:null,bottomMargin:St,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Sn,declare:Sn,event:null,face:null,frame:null,frameBorder:null,hSpace:St,leftMargin:St,link:null,longDesc:null,lowSrc:null,marginHeight:St,marginWidth:St,noResize:Sn,noHref:Sn,noShade:Sn,noWrap:Sn,object:null,profile:null,prompt:null,rev:null,rightMargin:St,rules:null,scheme:null,scrolling:Vr,standby:null,summary:null,text:null,topMargin:St,valueType:null,version:null,vAlign:null,vLink:null,vSpace:St,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Sn,disableRemotePlayback:Sn,prefix:null,property:null,results:St,security:null,unselectable:null}}),ewe=ah({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:kF,properties:{about:Ss,accentHeight:St,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:St,amplitude:St,arabicForm:null,ascent:St,attributeName:null,attributeType:null,azimuth:St,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:St,by:null,calcMode:null,capHeight:St,className:cr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:St,diffuseConstant:St,direction:null,display:null,dur:null,divisor:St,dominantBaseline:null,download:Sn,dx:null,dy:null,edgeMode:null,editable:null,elevation:St,enableBackground:null,end:null,event:null,exponent:St,externalResourcesRequired:null,fill:null,fillOpacity:St,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:rm,g2:rm,glyphName:rm,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:St,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:St,horizOriginX:St,horizOriginY:St,id:null,ideographic:St,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:St,k:St,k1:St,k2:St,k3:St,k4:St,kernelMatrix:Ss,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:St,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:St,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:St,overlineThickness:St,paintOrder:null,panose1:null,path:null,pathLength:St,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:cr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:St,pointsAtY:St,pointsAtZ:St,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ss,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ss,rev:Ss,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ss,requiredFeatures:Ss,requiredFonts:Ss,requiredFormats:Ss,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:St,specularExponent:St,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:St,strikethroughThickness:St,string:null,stroke:null,strokeDashArray:Ss,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:St,strokeOpacity:St,strokeWidth:null,style:null,surfaceScale:St,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ss,tabIndex:St,tableValues:null,target:null,targetX:St,targetY:St,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ss,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:St,underlineThickness:St,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:St,values:null,vAlphabetic:St,vMathematical:St,vectorEffect:null,vHanging:St,vIdeographic:St,version:null,vertAdvY:St,vertOriginX:St,vertOriginY:St,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:St,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),twe=/^data[-\w.:]+$/i,zE=/-[a-z]/g,nwe=/[A-Z]/g;function rwe(t,e){const n=Dk(e);let r=e,a=ci;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&twe.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(zE,swe);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!zE.test(s)){let i=s.replace(nwe,awe);i.charAt(0)!=="-"&&(i="-"+i),e="data"+i}}a=h6}return new a(r,e)}function awe(t){return"-"+t.toLowerCase()}function swe(t){return t.charAt(1).toUpperCase()}const iwe=xF([vF,wF,CF,SF,J2e],"html"),jF=xF([vF,wF,CF,SF,ewe],"svg"),HE={}.hasOwnProperty;function TF(t,e){const n=e||{};function r(a,...s){let i=r.invalid;const o=r.handlers;if(a&&HE.call(a,t)){const c=String(a[t]);i=HE.call(o,c)?o[c]:r.unknown}if(i)return i.call(this,a,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const owe={},lwe={}.hasOwnProperty,EF=TF("type",{handlers:{root:uwe,element:fwe,text:hwe,comment:pwe,doctype:mwe}});function cwe(t,e){const r=(e||owe).space;return EF(t,r==="svg"?jF:iwe)}function uwe(t,e){const n={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=p6(t.children,n,e),sh(t,n),n}function dwe(t,e){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=p6(t.children,n,e),sh(t,n),n}function mwe(t){const e={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return sh(t,e),e}function hwe(t){const e={nodeName:"#text",value:t.value,parentNode:null};return sh(t,e),e}function pwe(t){const e={nodeName:"#comment",data:t.value,parentNode:null};return sh(t,e),e}function fwe(t,e){const n=e;let r=n;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=jF);const a=[];let s;if(t.properties){for(s in t.properties)if(s!=="children"&&lwe.call(t.properties,s)){const c=gwe(r,s,t.properties[s]);c&&a.push(c)}}const i=r.space,o={nodeName:t.tagName,tagName:t.tagName,attrs:a,namespaceURI:no[i],childNodes:[],parentNode:null};return o.childNodes=p6(t.children,o,r),sh(t,o),t.tagName==="template"&&t.content&&(o.content=dwe(t.content,r)),o}function gwe(t,e,n){const r=rwe(t,e);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?eP(n):tP(n));const a={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const s=a.name.indexOf(":");s<0?a.prefix="":(a.name=a.name.slice(s+1),a.prefix=r.attribute.slice(0,s)),a.namespace=no[r.space]}return a}function p6(t,e,n){let r=-1;const a=[];if(t)for(;++r<t.length;){const s=EF(t[r],n);s.parentNode=e,a.push(s)}return a}function sh(t,e){const n=t.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,e.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const bwe=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],xwe=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),gr="";var oe;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(oe||(oe={}));const ls={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function NF(t){return t>=55296&&t<=57343}function ywe(t){return t>=56320&&t<=57343}function wwe(t,e){return(t-55296)*1024+9216+e}function $F(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function AF(t){return t>=64976&&t<=65007||xwe.has(t)}var at;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(at||(at={}));const vwe=65536;class kwe{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=vwe,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){const{line:r,col:a,offset:s}=this,i=a+n,o=s+n;return{code:e,startLine:r,endLine:r,startCol:i,endCol:i,startOffset:o,endOffset:o}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(ywe(n))return this.pos++,this._addGap(),wwe(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,oe.EOF;return this._err(at.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let r=0;r<e.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==e.charCodeAt(r))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,oe.EOF;const r=this.html.charCodeAt(n);return r===oe.CARRIAGE_RETURN?oe.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,oe.EOF;let e=this.html.charCodeAt(this.pos);return e===oe.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,oe.LINE_FEED):e===oe.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,NF(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===oe.LINE_FEED||e===oe.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){$F(e)?this._err(at.controlCharacterInInputStream):AF(e)&&this._err(at.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var In;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(In||(In={}));function IF(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}const _we=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),Cwe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function Swe(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=Cwe.get(t))!==null&&e!==void 0?e:t}var ha;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(ha||(ha={}));const jwe=32;var ql;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(ql||(ql={}));function Ok(t){return t>=ha.ZERO&&t<=ha.NINE}function Twe(t){return t>=ha.UPPER_A&&t<=ha.UPPER_F||t>=ha.LOWER_A&&t<=ha.LOWER_F}function Ewe(t){return t>=ha.UPPER_A&&t<=ha.UPPER_Z||t>=ha.LOWER_A&&t<=ha.LOWER_Z||Ok(t)}function Nwe(t){return t===ha.EQUALS||Ewe(t)}var da;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(da||(da={}));var Ho;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(Ho||(Ho={}));class $we{constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=da.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Ho.Strict}startEntity(e){this.decodeMode=e,this.state=da.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case da.EntityStart:return e.charCodeAt(n)===ha.NUM?(this.state=da.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=da.NamedEntity,this.stateNamedEntity(e,n));case da.NumericStart:return this.stateNumericStart(e,n);case da.NumericDecimal:return this.stateNumericDecimal(e,n);case da.NumericHex:return this.stateNumericHex(e,n);case da.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|jwe)===ha.LOWER_X?(this.state=da.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=da.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,a){if(n!==r){const s=r-n;this.result=this.result*Math.pow(a,s)+Number.parseInt(e.substr(n,s),a),this.consumed+=s}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const a=e.charCodeAt(n);if(Ok(a)||Twe(a))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const a=e.charCodeAt(n);if(Ok(a))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===ha.SEMI)this.consumed+=1;else if(this.decodeMode===Ho.Strict)return 0;return this.emitCodePoint(Swe(this.result),this.consumed),this.errors&&(e!==ha.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let a=r[this.treeIndex],s=(a&ql.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const i=e.charCodeAt(n);if(this.treeIndex=Awe(r,a,this.treeIndex+Math.max(1,s),i),this.treeIndex<0)return this.result===0||this.decodeMode===Ho.Attribute&&(s===0||Nwe(i))?0:this.emitNotTerminatedNamedEntity();if(a=r[this.treeIndex],s=(a&ql.VALUE_LENGTH)>>14,s!==0){if(i===ha.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==Ho.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,a=(r[n]&ql.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[e]&~ql.VALUE_LENGTH:a[e+1],r),n===3&&this.emitCodePoint(a[e+2],r),r}end(){var e;switch(this.state){case da.NamedEntity:return this.result!==0&&(this.decodeMode!==Ho.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case da.NumericDecimal:return this.emitNumericEntity(0,2);case da.NumericHex:return this.emitNumericEntity(0,3);case da.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case da.EntityStart:return 0}}}function Awe(t,e,n,r){const a=(e&ql.BRANCH_LENGTH)>>7,s=e&ql.JUMP_TABLE;if(a===0)return s!==0&&r===s?n:-1;if(s){const c=r-s;return c<0||c>=a?-1:t[n+c]-1}let i=n,o=i+a-1;for(;i<=o;){const c=i+o>>>1,u=t[c];if(u<r)i=c+1;else if(u>r)o=c-1;else return t[c+a]}return-1}var xt;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(xt||(xt={}));var su;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(su||(su={}));var Vs;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(Vs||(Vs={}));var Oe;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(Oe||(Oe={}));var P;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(P||(P={}));const Iwe=new Map([[Oe.A,P.A],[Oe.ADDRESS,P.ADDRESS],[Oe.ANNOTATION_XML,P.ANNOTATION_XML],[Oe.APPLET,P.APPLET],[Oe.AREA,P.AREA],[Oe.ARTICLE,P.ARTICLE],[Oe.ASIDE,P.ASIDE],[Oe.B,P.B],[Oe.BASE,P.BASE],[Oe.BASEFONT,P.BASEFONT],[Oe.BGSOUND,P.BGSOUND],[Oe.BIG,P.BIG],[Oe.BLOCKQUOTE,P.BLOCKQUOTE],[Oe.BODY,P.BODY],[Oe.BR,P.BR],[Oe.BUTTON,P.BUTTON],[Oe.CAPTION,P.CAPTION],[Oe.CENTER,P.CENTER],[Oe.CODE,P.CODE],[Oe.COL,P.COL],[Oe.COLGROUP,P.COLGROUP],[Oe.DD,P.DD],[Oe.DESC,P.DESC],[Oe.DETAILS,P.DETAILS],[Oe.DIALOG,P.DIALOG],[Oe.DIR,P.DIR],[Oe.DIV,P.DIV],[Oe.DL,P.DL],[Oe.DT,P.DT],[Oe.EM,P.EM],[Oe.EMBED,P.EMBED],[Oe.FIELDSET,P.FIELDSET],[Oe.FIGCAPTION,P.FIGCAPTION],[Oe.FIGURE,P.FIGURE],[Oe.FONT,P.FONT],[Oe.FOOTER,P.FOOTER],[Oe.FOREIGN_OBJECT,P.FOREIGN_OBJECT],[Oe.FORM,P.FORM],[Oe.FRAME,P.FRAME],[Oe.FRAMESET,P.FRAMESET],[Oe.H1,P.H1],[Oe.H2,P.H2],[Oe.H3,P.H3],[Oe.H4,P.H4],[Oe.H5,P.H5],[Oe.H6,P.H6],[Oe.HEAD,P.HEAD],[Oe.HEADER,P.HEADER],[Oe.HGROUP,P.HGROUP],[Oe.HR,P.HR],[Oe.HTML,P.HTML],[Oe.I,P.I],[Oe.IMG,P.IMG],[Oe.IMAGE,P.IMAGE],[Oe.INPUT,P.INPUT],[Oe.IFRAME,P.IFRAME],[Oe.KEYGEN,P.KEYGEN],[Oe.LABEL,P.LABEL],[Oe.LI,P.LI],[Oe.LINK,P.LINK],[Oe.LISTING,P.LISTING],[Oe.MAIN,P.MAIN],[Oe.MALIGNMARK,P.MALIGNMARK],[Oe.MARQUEE,P.MARQUEE],[Oe.MATH,P.MATH],[Oe.MENU,P.MENU],[Oe.META,P.META],[Oe.MGLYPH,P.MGLYPH],[Oe.MI,P.MI],[Oe.MO,P.MO],[Oe.MN,P.MN],[Oe.MS,P.MS],[Oe.MTEXT,P.MTEXT],[Oe.NAV,P.NAV],[Oe.NOBR,P.NOBR],[Oe.NOFRAMES,P.NOFRAMES],[Oe.NOEMBED,P.NOEMBED],[Oe.NOSCRIPT,P.NOSCRIPT],[Oe.OBJECT,P.OBJECT],[Oe.OL,P.OL],[Oe.OPTGROUP,P.OPTGROUP],[Oe.OPTION,P.OPTION],[Oe.P,P.P],[Oe.PARAM,P.PARAM],[Oe.PLAINTEXT,P.PLAINTEXT],[Oe.PRE,P.PRE],[Oe.RB,P.RB],[Oe.RP,P.RP],[Oe.RT,P.RT],[Oe.RTC,P.RTC],[Oe.RUBY,P.RUBY],[Oe.S,P.S],[Oe.SCRIPT,P.SCRIPT],[Oe.SEARCH,P.SEARCH],[Oe.SECTION,P.SECTION],[Oe.SELECT,P.SELECT],[Oe.SOURCE,P.SOURCE],[Oe.SMALL,P.SMALL],[Oe.SPAN,P.SPAN],[Oe.STRIKE,P.STRIKE],[Oe.STRONG,P.STRONG],[Oe.STYLE,P.STYLE],[Oe.SUB,P.SUB],[Oe.SUMMARY,P.SUMMARY],[Oe.SUP,P.SUP],[Oe.TABLE,P.TABLE],[Oe.TBODY,P.TBODY],[Oe.TEMPLATE,P.TEMPLATE],[Oe.TEXTAREA,P.TEXTAREA],[Oe.TFOOT,P.TFOOT],[Oe.TD,P.TD],[Oe.TH,P.TH],[Oe.THEAD,P.THEAD],[Oe.TITLE,P.TITLE],[Oe.TR,P.TR],[Oe.TRACK,P.TRACK],[Oe.TT,P.TT],[Oe.U,P.U],[Oe.UL,P.UL],[Oe.SVG,P.SVG],[Oe.VAR,P.VAR],[Oe.WBR,P.WBR],[Oe.XMP,P.XMP]]);function ih(t){var e;return(e=Iwe.get(t))!==null&&e!==void 0?e:P.UNKNOWN}const wt=P,Rwe={[xt.HTML]:new Set([wt.ADDRESS,wt.APPLET,wt.AREA,wt.ARTICLE,wt.ASIDE,wt.BASE,wt.BASEFONT,wt.BGSOUND,wt.BLOCKQUOTE,wt.BODY,wt.BR,wt.BUTTON,wt.CAPTION,wt.CENTER,wt.COL,wt.COLGROUP,wt.DD,wt.DETAILS,wt.DIR,wt.DIV,wt.DL,wt.DT,wt.EMBED,wt.FIELDSET,wt.FIGCAPTION,wt.FIGURE,wt.FOOTER,wt.FORM,wt.FRAME,wt.FRAMESET,wt.H1,wt.H2,wt.H3,wt.H4,wt.H5,wt.H6,wt.HEAD,wt.HEADER,wt.HGROUP,wt.HR,wt.HTML,wt.IFRAME,wt.IMG,wt.INPUT,wt.LI,wt.LINK,wt.LISTING,wt.MAIN,wt.MARQUEE,wt.MENU,wt.META,wt.NAV,wt.NOEMBED,wt.NOFRAMES,wt.NOSCRIPT,wt.OBJECT,wt.OL,wt.P,wt.PARAM,wt.PLAINTEXT,wt.PRE,wt.SCRIPT,wt.SECTION,wt.SELECT,wt.SOURCE,wt.STYLE,wt.SUMMARY,wt.TABLE,wt.TBODY,wt.TD,wt.TEMPLATE,wt.TEXTAREA,wt.TFOOT,wt.TH,wt.THEAD,wt.TITLE,wt.TR,wt.TRACK,wt.UL,wt.WBR,wt.XMP]),[xt.MATHML]:new Set([wt.MI,wt.MO,wt.MN,wt.MS,wt.MTEXT,wt.ANNOTATION_XML]),[xt.SVG]:new Set([wt.TITLE,wt.FOREIGN_OBJECT,wt.DESC]),[xt.XLINK]:new Set,[xt.XML]:new Set,[xt.XMLNS]:new Set},Pk=new Set([wt.H1,wt.H2,wt.H3,wt.H4,wt.H5,wt.H6]);Oe.STYLE,Oe.SCRIPT,Oe.XMP,Oe.IFRAME,Oe.NOEMBED,Oe.NOFRAMES,Oe.PLAINTEXT;var de;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(de||(de={}));const qr={DATA:de.DATA,RCDATA:de.RCDATA,RAWTEXT:de.RAWTEXT,SCRIPT_DATA:de.SCRIPT_DATA,PLAINTEXT:de.PLAINTEXT,CDATA_SECTION:de.CDATA_SECTION};function Mwe(t){return t>=oe.DIGIT_0&&t<=oe.DIGIT_9}function Qh(t){return t>=oe.LATIN_CAPITAL_A&&t<=oe.LATIN_CAPITAL_Z}function Dwe(t){return t>=oe.LATIN_SMALL_A&&t<=oe.LATIN_SMALL_Z}function Nl(t){return Dwe(t)||Qh(t)}function qE(t){return Nl(t)||Mwe(t)}function ag(t){return t+32}function RF(t){return t===oe.SPACE||t===oe.LINE_FEED||t===oe.TABULATION||t===oe.FORM_FEED}function UE(t){return RF(t)||t===oe.SOLIDUS||t===oe.GREATER_THAN_SIGN}function Lwe(t){return t===oe.NULL?at.nullCharacterReference:t>1114111?at.characterReferenceOutsideUnicodeRange:NF(t)?at.surrogateCharacterReference:AF(t)?at.noncharacterCharacterReference:$F(t)||t===oe.CARRIAGE_RETURN?at.controlCharacterReference:null}class Owe{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=de.DATA,this.returnState=de.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new kwe(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new $we(_we,(r,a)=>{this.preprocessor.pos=this.entityStartPos+a-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(at.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(at.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const a=Lwe(r);a&&this._err(a,1)}}:void 0)}_err(e,n=0){var r,a;(a=(r=this.handler).onParseError)===null||a===void 0||a.call(r,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e?.())}write(e,n,r){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:In.START_TAG,tagName:"",tagID:P.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:In.END_TAG,tagName:"",tagID:P.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:In.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:In.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const r=this.currentToken;if(IF(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const a=(e=(n=r.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(at.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=ih(e.tagName),e.type===In.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(at.endTagWithAttributes),e.selfClosing&&this._err(at.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case In.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case In.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case In.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:In.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){const n=RF(e)?In.WHITESPACE_CHARACTER:e===oe.NULL?In.NULL_CHARACTER:In.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(In.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=de.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?Ho.Attribute:Ho.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===de.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===de.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===de.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case de.DATA:{this._stateData(e);break}case de.RCDATA:{this._stateRcdata(e);break}case de.RAWTEXT:{this._stateRawtext(e);break}case de.SCRIPT_DATA:{this._stateScriptData(e);break}case de.PLAINTEXT:{this._statePlaintext(e);break}case de.TAG_OPEN:{this._stateTagOpen(e);break}case de.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case de.TAG_NAME:{this._stateTagName(e);break}case de.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case de.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case de.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case de.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case de.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case de.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case de.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case de.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case de.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case de.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case de.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case de.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case de.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case de.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case de.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case de.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case de.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case de.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case de.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case de.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case de.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case de.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case de.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case de.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case de.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case de.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case de.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case de.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case de.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case de.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case de.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case de.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case de.BOGUS_COMMENT:{this._stateBogusComment(e);break}case de.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case de.COMMENT_START:{this._stateCommentStart(e);break}case de.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case de.COMMENT:{this._stateComment(e);break}case de.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case de.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case de.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case de.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case de.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case de.COMMENT_END:{this._stateCommentEnd(e);break}case de.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case de.DOCTYPE:{this._stateDoctype(e);break}case de.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case de.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case de.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case de.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case de.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case de.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case de.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case de.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case de.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case de.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case de.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case de.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case de.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case de.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case de.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case de.CDATA_SECTION:{this._stateCdataSection(e);break}case de.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case de.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case de.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case de.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case oe.LESS_THAN_SIGN:{this.state=de.TAG_OPEN;break}case oe.AMPERSAND:{this._startCharacterReference();break}case oe.NULL:{this._err(at.unexpectedNullCharacter),this._emitCodePoint(e);break}case oe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case oe.AMPERSAND:{this._startCharacterReference();break}case oe.LESS_THAN_SIGN:{this.state=de.RCDATA_LESS_THAN_SIGN;break}case oe.NULL:{this._err(at.unexpectedNullCharacter),this._emitChars(gr);break}case oe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case oe.LESS_THAN_SIGN:{this.state=de.RAWTEXT_LESS_THAN_SIGN;break}case oe.NULL:{this._err(at.unexpectedNullCharacter),this._emitChars(gr);break}case oe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case oe.LESS_THAN_SIGN:{this.state=de.SCRIPT_DATA_LESS_THAN_SIGN;break}case oe.NULL:{this._err(at.unexpectedNullCharacter),this._emitChars(gr);break}case oe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case oe.NULL:{this._err(at.unexpectedNullCharacter),this._emitChars(gr);break}case oe.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(Nl(e))this._createStartTagToken(),this.state=de.TAG_NAME,this._stateTagName(e);else switch(e){case oe.EXCLAMATION_MARK:{this.state=de.MARKUP_DECLARATION_OPEN;break}case oe.SOLIDUS:{this.state=de.END_TAG_OPEN;break}case oe.QUESTION_MARK:{this._err(at.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=de.BOGUS_COMMENT,this._stateBogusComment(e);break}case oe.EOF:{this._err(at.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(at.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=de.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(Nl(e))this._createEndTagToken(),this.state=de.TAG_NAME,this._stateTagName(e);else switch(e){case oe.GREATER_THAN_SIGN:{this._err(at.missingEndTagName),this.state=de.DATA;break}case oe.EOF:{this._err(at.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(at.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=de.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:{this.state=de.BEFORE_ATTRIBUTE_NAME;break}case oe.SOLIDUS:{this.state=de.SELF_CLOSING_START_TAG;break}case oe.GREATER_THAN_SIGN:{this.state=de.DATA,this.emitCurrentTagToken();break}case oe.NULL:{this._err(at.unexpectedNullCharacter),n.tagName+=gr;break}case oe.EOF:{this._err(at.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Qh(e)?ag(e):e)}}_stateRcdataLessThanSign(e){e===oe.SOLIDUS?this.state=de.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=de.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){Nl(e)?(this.state=de.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=de.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=de.BEFORE_ATTRIBUTE_NAME,!1;case oe.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=de.SELF_CLOSING_START_TAG,!1;case oe.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=de.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=de.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===oe.SOLIDUS?this.state=de.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=de.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){Nl(e)?(this.state=de.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=de.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=de.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case oe.SOLIDUS:{this.state=de.SCRIPT_DATA_END_TAG_OPEN;break}case oe.EXCLAMATION_MARK:{this.state=de.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=de.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){Nl(e)?(this.state=de.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=de.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=de.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===oe.HYPHEN_MINUS?(this.state=de.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=de.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===oe.HYPHEN_MINUS?(this.state=de.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=de.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case oe.HYPHEN_MINUS:{this.state=de.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case oe.LESS_THAN_SIGN:{this.state=de.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case oe.NULL:{this._err(at.unexpectedNullCharacter),this._emitChars(gr);break}case oe.EOF:{this._err(at.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case oe.HYPHEN_MINUS:{this.state=de.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case oe.LESS_THAN_SIGN:{this.state=de.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case oe.NULL:{this._err(at.unexpectedNullCharacter),this.state=de.SCRIPT_DATA_ESCAPED,this._emitChars(gr);break}case oe.EOF:{this._err(at.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=de.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case oe.HYPHEN_MINUS:{this._emitChars("-");break}case oe.LESS_THAN_SIGN:{this.state=de.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case oe.GREATER_THAN_SIGN:{this.state=de.SCRIPT_DATA,this._emitChars(">");break}case oe.NULL:{this._err(at.unexpectedNullCharacter),this.state=de.SCRIPT_DATA_ESCAPED,this._emitChars(gr);break}case oe.EOF:{this._err(at.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=de.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===oe.SOLIDUS?this.state=de.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Nl(e)?(this._emitChars("<"),this.state=de.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=de.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){Nl(e)?(this.state=de.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=de.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=de.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(ls.SCRIPT,!1)&&UE(this.preprocessor.peek(ls.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<ls.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=de.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case oe.HYPHEN_MINUS:{this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case oe.LESS_THAN_SIGN:{this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case oe.NULL:{this._err(at.unexpectedNullCharacter),this._emitChars(gr);break}case oe.EOF:{this._err(at.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case oe.HYPHEN_MINUS:{this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case oe.LESS_THAN_SIGN:{this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case oe.NULL:{this._err(at.unexpectedNullCharacter),this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(gr);break}case oe.EOF:{this._err(at.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case oe.HYPHEN_MINUS:{this._emitChars("-");break}case oe.LESS_THAN_SIGN:{this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case oe.GREATER_THAN_SIGN:{this.state=de.SCRIPT_DATA,this._emitChars(">");break}case oe.NULL:{this._err(at.unexpectedNullCharacter),this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(gr);break}case oe.EOF:{this._err(at.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===oe.SOLIDUS?(this.state=de.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(ls.SCRIPT,!1)&&UE(this.preprocessor.peek(ls.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<ls.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=de.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:break;case oe.SOLIDUS:case oe.GREATER_THAN_SIGN:case oe.EOF:{this.state=de.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case oe.EQUALS_SIGN:{this._err(at.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=de.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=de.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:case oe.SOLIDUS:case oe.GREATER_THAN_SIGN:case oe.EOF:{this._leaveAttrName(),this.state=de.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case oe.EQUALS_SIGN:{this._leaveAttrName(),this.state=de.BEFORE_ATTRIBUTE_VALUE;break}case oe.QUOTATION_MARK:case oe.APOSTROPHE:case oe.LESS_THAN_SIGN:{this._err(at.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case oe.NULL:{this._err(at.unexpectedNullCharacter),this.currentAttr.name+=gr;break}default:this.currentAttr.name+=String.fromCodePoint(Qh(e)?ag(e):e)}}_stateAfterAttributeName(e){switch(e){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:break;case oe.SOLIDUS:{this.state=de.SELF_CLOSING_START_TAG;break}case oe.EQUALS_SIGN:{this.state=de.BEFORE_ATTRIBUTE_VALUE;break}case oe.GREATER_THAN_SIGN:{this.state=de.DATA,this.emitCurrentTagToken();break}case oe.EOF:{this._err(at.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=de.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:break;case oe.QUOTATION_MARK:{this.state=de.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case oe.APOSTROPHE:{this.state=de.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case oe.GREATER_THAN_SIGN:{this._err(at.missingAttributeValue),this.state=de.DATA,this.emitCurrentTagToken();break}default:this.state=de.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case oe.QUOTATION_MARK:{this.state=de.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case oe.AMPERSAND:{this._startCharacterReference();break}case oe.NULL:{this._err(at.unexpectedNullCharacter),this.currentAttr.value+=gr;break}case oe.EOF:{this._err(at.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case oe.APOSTROPHE:{this.state=de.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case oe.AMPERSAND:{this._startCharacterReference();break}case oe.NULL:{this._err(at.unexpectedNullCharacter),this.currentAttr.value+=gr;break}case oe.EOF:{this._err(at.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:{this._leaveAttrValue(),this.state=de.BEFORE_ATTRIBUTE_NAME;break}case oe.AMPERSAND:{this._startCharacterReference();break}case oe.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=de.DATA,this.emitCurrentTagToken();break}case oe.NULL:{this._err(at.unexpectedNullCharacter),this.currentAttr.value+=gr;break}case oe.QUOTATION_MARK:case oe.APOSTROPHE:case oe.LESS_THAN_SIGN:case oe.EQUALS_SIGN:case oe.GRAVE_ACCENT:{this._err(at.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case oe.EOF:{this._err(at.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:{this._leaveAttrValue(),this.state=de.BEFORE_ATTRIBUTE_NAME;break}case oe.SOLIDUS:{this._leaveAttrValue(),this.state=de.SELF_CLOSING_START_TAG;break}case oe.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=de.DATA,this.emitCurrentTagToken();break}case oe.EOF:{this._err(at.eofInTag),this._emitEOFToken();break}default:this._err(at.missingWhitespaceBetweenAttributes),this.state=de.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case oe.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=de.DATA,this.emitCurrentTagToken();break}case oe.EOF:{this._err(at.eofInTag),this._emitEOFToken();break}default:this._err(at.unexpectedSolidusInTag),this.state=de.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case oe.GREATER_THAN_SIGN:{this.state=de.DATA,this.emitCurrentComment(n);break}case oe.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case oe.NULL:{this._err(at.unexpectedNullCharacter),n.data+=gr;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(ls.DASH_DASH,!0)?(this._createCommentToken(ls.DASH_DASH.length+1),this.state=de.COMMENT_START):this._consumeSequenceIfMatch(ls.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(ls.DOCTYPE.length+1),this.state=de.DOCTYPE):this._consumeSequenceIfMatch(ls.CDATA_START,!0)?this.inForeignNode?this.state=de.CDATA_SECTION:(this._err(at.cdataInHtmlContent),this._createCommentToken(ls.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=de.BOGUS_COMMENT):this._ensureHibernation()||(this._err(at.incorrectlyOpenedComment),this._createCommentToken(2),this.state=de.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case oe.HYPHEN_MINUS:{this.state=de.COMMENT_START_DASH;break}case oe.GREATER_THAN_SIGN:{this._err(at.abruptClosingOfEmptyComment),this.state=de.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=de.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case oe.HYPHEN_MINUS:{this.state=de.COMMENT_END;break}case oe.GREATER_THAN_SIGN:{this._err(at.abruptClosingOfEmptyComment),this.state=de.DATA,this.emitCurrentComment(n);break}case oe.EOF:{this._err(at.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=de.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case oe.HYPHEN_MINUS:{this.state=de.COMMENT_END_DASH;break}case oe.LESS_THAN_SIGN:{n.data+="<",this.state=de.COMMENT_LESS_THAN_SIGN;break}case oe.NULL:{this._err(at.unexpectedNullCharacter),n.data+=gr;break}case oe.EOF:{this._err(at.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case oe.EXCLAMATION_MARK:{n.data+="!",this.state=de.COMMENT_LESS_THAN_SIGN_BANG;break}case oe.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=de.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===oe.HYPHEN_MINUS?this.state=de.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=de.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===oe.HYPHEN_MINUS?this.state=de.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=de.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==oe.GREATER_THAN_SIGN&&e!==oe.EOF&&this._err(at.nestedComment),this.state=de.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case oe.HYPHEN_MINUS:{this.state=de.COMMENT_END;break}case oe.EOF:{this._err(at.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=de.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case oe.GREATER_THAN_SIGN:{this.state=de.DATA,this.emitCurrentComment(n);break}case oe.EXCLAMATION_MARK:{this.state=de.COMMENT_END_BANG;break}case oe.HYPHEN_MINUS:{n.data+="-";break}case oe.EOF:{this._err(at.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=de.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case oe.HYPHEN_MINUS:{n.data+="--!",this.state=de.COMMENT_END_DASH;break}case oe.GREATER_THAN_SIGN:{this._err(at.incorrectlyClosedComment),this.state=de.DATA,this.emitCurrentComment(n);break}case oe.EOF:{this._err(at.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=de.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:{this.state=de.BEFORE_DOCTYPE_NAME;break}case oe.GREATER_THAN_SIGN:{this.state=de.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case oe.EOF:{this._err(at.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(at.missingWhitespaceBeforeDoctypeName),this.state=de.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(Qh(e))this._createDoctypeToken(String.fromCharCode(ag(e))),this.state=de.DOCTYPE_NAME;else switch(e){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:break;case oe.NULL:{this._err(at.unexpectedNullCharacter),this._createDoctypeToken(gr),this.state=de.DOCTYPE_NAME;break}case oe.GREATER_THAN_SIGN:{this._err(at.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=de.DATA;break}case oe.EOF:{this._err(at.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=de.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:{this.state=de.AFTER_DOCTYPE_NAME;break}case oe.GREATER_THAN_SIGN:{this.state=de.DATA,this.emitCurrentDoctype(n);break}case oe.NULL:{this._err(at.unexpectedNullCharacter),n.name+=gr;break}case oe.EOF:{this._err(at.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Qh(e)?ag(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:break;case oe.GREATER_THAN_SIGN:{this.state=de.DATA,this.emitCurrentDoctype(n);break}case oe.EOF:{this._err(at.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(ls.PUBLIC,!1)?this.state=de.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(ls.SYSTEM,!1)?this.state=de.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(at.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=de.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:{this.state=de.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case oe.QUOTATION_MARK:{this._err(at.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=de.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case oe.APOSTROPHE:{this._err(at.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=de.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case oe.GREATER_THAN_SIGN:{this._err(at.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=de.DATA,this.emitCurrentDoctype(n);break}case oe.EOF:{this._err(at.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(at.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=de.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:break;case oe.QUOTATION_MARK:{n.publicId="",this.state=de.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case oe.APOSTROPHE:{n.publicId="",this.state=de.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case oe.GREATER_THAN_SIGN:{this._err(at.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=de.DATA,this.emitCurrentDoctype(n);break}case oe.EOF:{this._err(at.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(at.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=de.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case oe.QUOTATION_MARK:{this.state=de.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case oe.NULL:{this._err(at.unexpectedNullCharacter),n.publicId+=gr;break}case oe.GREATER_THAN_SIGN:{this._err(at.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=de.DATA;break}case oe.EOF:{this._err(at.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case oe.APOSTROPHE:{this.state=de.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case oe.NULL:{this._err(at.unexpectedNullCharacter),n.publicId+=gr;break}case oe.GREATER_THAN_SIGN:{this._err(at.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=de.DATA;break}case oe.EOF:{this._err(at.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:{this.state=de.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case oe.GREATER_THAN_SIGN:{this.state=de.DATA,this.emitCurrentDoctype(n);break}case oe.QUOTATION_MARK:{this._err(at.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=de.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case oe.APOSTROPHE:{this._err(at.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=de.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case oe.EOF:{this._err(at.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(at.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=de.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:break;case oe.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=de.DATA;break}case oe.QUOTATION_MARK:{n.systemId="",this.state=de.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case oe.APOSTROPHE:{n.systemId="",this.state=de.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case oe.EOF:{this._err(at.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(at.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=de.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:{this.state=de.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case oe.QUOTATION_MARK:{this._err(at.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=de.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case oe.APOSTROPHE:{this._err(at.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=de.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case oe.GREATER_THAN_SIGN:{this._err(at.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=de.DATA,this.emitCurrentDoctype(n);break}case oe.EOF:{this._err(at.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(at.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=de.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:break;case oe.QUOTATION_MARK:{n.systemId="",this.state=de.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case oe.APOSTROPHE:{n.systemId="",this.state=de.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case oe.GREATER_THAN_SIGN:{this._err(at.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=de.DATA,this.emitCurrentDoctype(n);break}case oe.EOF:{this._err(at.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(at.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=de.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case oe.QUOTATION_MARK:{this.state=de.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case oe.NULL:{this._err(at.unexpectedNullCharacter),n.systemId+=gr;break}case oe.GREATER_THAN_SIGN:{this._err(at.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=de.DATA;break}case oe.EOF:{this._err(at.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case oe.APOSTROPHE:{this.state=de.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case oe.NULL:{this._err(at.unexpectedNullCharacter),n.systemId+=gr;break}case oe.GREATER_THAN_SIGN:{this._err(at.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=de.DATA;break}case oe.EOF:{this._err(at.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case oe.SPACE:case oe.LINE_FEED:case oe.TABULATION:case oe.FORM_FEED:break;case oe.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=de.DATA;break}case oe.EOF:{this._err(at.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(at.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=de.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case oe.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=de.DATA;break}case oe.NULL:{this._err(at.unexpectedNullCharacter);break}case oe.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case oe.RIGHT_SQUARE_BRACKET:{this.state=de.CDATA_SECTION_BRACKET;break}case oe.EOF:{this._err(at.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===oe.RIGHT_SQUARE_BRACKET?this.state=de.CDATA_SECTION_END:(this._emitChars("]"),this.state=de.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case oe.GREATER_THAN_SIGN:{this.state=de.DATA;break}case oe.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=de.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(oe.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&qE(this.preprocessor.peek(1))?de.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){qE(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===oe.SEMICOLON&&this._err(at.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const MF=new Set([P.DD,P.DT,P.LI,P.OPTGROUP,P.OPTION,P.P,P.RB,P.RP,P.RT,P.RTC]),WE=new Set([...MF,P.CAPTION,P.COLGROUP,P.TBODY,P.TD,P.TFOOT,P.TH,P.THEAD,P.TR]),mb=new Set([P.APPLET,P.CAPTION,P.HTML,P.MARQUEE,P.OBJECT,P.TABLE,P.TD,P.TEMPLATE,P.TH]),Pwe=new Set([...mb,P.OL,P.UL]),Fwe=new Set([...mb,P.BUTTON]),GE=new Set([P.ANNOTATION_XML,P.MI,P.MN,P.MO,P.MS,P.MTEXT]),VE=new Set([P.DESC,P.FOREIGN_OBJECT,P.TITLE]),Bwe=new Set([P.TR,P.TEMPLATE,P.HTML]),zwe=new Set([P.TBODY,P.TFOOT,P.THEAD,P.TEMPLATE,P.HTML]),Hwe=new Set([P.TABLE,P.TEMPLATE,P.HTML]),qwe=new Set([P.TD,P.TH]);class Uwe{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=P.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===P.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===xt.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const r=this._indexOf(e);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(e,n,r){const a=this._indexOf(e)+1;this.items.splice(a,0,n),this.tagIDs.splice(a,0,r),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==xt.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(Math.max(n,0))}popUntilPopped(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(Pk,xt.HTML)}popUntilTableCellPopped(){this.popUntilPopped(qwe,xt.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let r=this.stackTop;r>=0;r--)if(e.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(e,n){const r=this._indexOfTagNames(e,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(Hwe,xt.HTML)}clearBackToTableBodyContext(){this.clearBackTo(zwe,xt.HTML)}clearBackToTableRowContext(){this.clearBackTo(Bwe,xt.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===P.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===P.HTML}hasInDynamicScope(e,n){for(let r=this.stackTop;r>=0;r--){const a=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case xt.HTML:{if(a===e)return!0;if(n.has(a))return!1;break}case xt.SVG:{if(VE.has(a))return!1;break}case xt.MATHML:{if(GE.has(a))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,mb)}hasInListItemScope(e){return this.hasInDynamicScope(e,Pwe)}hasInButtonScope(e){return this.hasInDynamicScope(e,Fwe)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case xt.HTML:{if(Pk.has(n))return!0;if(mb.has(n))return!1;break}case xt.SVG:{if(VE.has(n))return!1;break}case xt.MATHML:{if(GE.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===xt.HTML)switch(this.tagIDs[n]){case e:return!0;case P.TABLE:case P.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===xt.HTML)switch(this.tagIDs[e]){case P.TBODY:case P.THEAD:case P.TFOOT:return!0;case P.TABLE:case P.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===xt.HTML)switch(this.tagIDs[n]){case e:return!0;case P.OPTION:case P.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&MF.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&WE.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&WE.has(this.currentTagId);)this.pop()}}const Zw=3;var Ji;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(Ji||(Ji={}));const KE={type:Ji.Marker};class Wwe{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const r=[],a=n.length,s=this.treeAdapter.getTagName(e),i=this.treeAdapter.getNamespaceURI(e);for(let o=0;o<this.entries.length;o++){const c=this.entries[o];if(c.type===Ji.Marker)break;const{element:u}=c;if(this.treeAdapter.getTagName(u)===s&&this.treeAdapter.getNamespaceURI(u)===i){const d=this.treeAdapter.getAttrList(u);d.length===a&&r.push({idx:o,attrs:d})}}return r}_ensureNoahArkCondition(e){if(this.entries.length<Zw)return;const n=this.treeAdapter.getAttrList(e),r=this._getNoahArkConditionCandidates(e,n);if(r.length<Zw)return;const a=new Map(n.map(i=>[i.name,i.value]));let s=0;for(let i=0;i<r.length;i++){const o=r[i];o.attrs.every(c=>a.get(c.name)===c.value)&&(s+=1,s>=Zw&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(KE)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:Ji.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Ji.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(KE);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const n=this.entries.find(r=>r.type===Ji.Marker||this.treeAdapter.getTagName(r.element)===e);return n&&n.type===Ji.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===Ji.Element&&n.element===e)}}const $l={createDocument(){return{nodeName:"#document",mode:Vs.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const r=t.childNodes.indexOf(n);t.childNodes.splice(r,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,r){const a=t.childNodes.find(s=>s.nodeName==="#documentType");if(a)a.name=e,a.publicId=n,a.systemId=r;else{const s={nodeName:"#documentType",name:e,publicId:n,systemId:r,parentNode:null};$l.appendChild(t,s)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if($l.isTextNode(n)){n.value+=e;return}}$l.appendChild(t,$l.createTextNode(e))},insertTextBefore(t,e,n){const r=t.childNodes[t.childNodes.indexOf(n)-1];r&&$l.isTextNode(r)?r.value+=e:$l.insertBefore(t,$l.createTextNode(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(r=>r.name));for(let r=0;r<e.length;r++)n.has(e[r].name)||t.attrs.push(e[r])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},DF="html",Gwe="about:legacy-compat",Vwe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",LF=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],Kwe=[...LF,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],Ywe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),OF=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Xwe=[...OF,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function YE(t,e){return e.some(n=>t.startsWith(n))}function Zwe(t){return t.name===DF&&t.publicId===null&&(t.systemId===null||t.systemId===Gwe)}function Qwe(t){if(t.name!==DF)return Vs.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===Vwe)return Vs.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),Ywe.has(n))return Vs.QUIRKS;let r=e===null?Kwe:LF;if(YE(n,r))return Vs.QUIRKS;if(r=e===null?OF:Xwe,YE(n,r))return Vs.LIMITED_QUIRKS}return Vs.NO_QUIRKS}const XE={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Jwe="definitionurl",eve="definitionURL",tve=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),nve=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:xt.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:xt.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:xt.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:xt.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:xt.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:xt.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:xt.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:xt.XML}],["xml:space",{prefix:"xml",name:"space",namespace:xt.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:xt.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:xt.XMLNS}]]),rve=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),ave=new Set([P.B,P.BIG,P.BLOCKQUOTE,P.BODY,P.BR,P.CENTER,P.CODE,P.DD,P.DIV,P.DL,P.DT,P.EM,P.EMBED,P.H1,P.H2,P.H3,P.H4,P.H5,P.H6,P.HEAD,P.HR,P.I,P.IMG,P.LI,P.LISTING,P.MENU,P.META,P.NOBR,P.OL,P.P,P.PRE,P.RUBY,P.S,P.SMALL,P.SPAN,P.STRONG,P.STRIKE,P.SUB,P.SUP,P.TABLE,P.TT,P.U,P.UL,P.VAR]);function sve(t){const e=t.tagID;return e===P.FONT&&t.attrs.some(({name:r})=>r===su.COLOR||r===su.SIZE||r===su.FACE)||ave.has(e)}function PF(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===Jwe){t.attrs[e].name=eve;break}}function FF(t){for(let e=0;e<t.attrs.length;e++){const n=tve.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function f6(t){for(let e=0;e<t.attrs.length;e++){const n=nve.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function ive(t){const e=rve.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=ih(t.tagName))}function ove(t,e){return e===xt.MATHML&&(t===P.MI||t===P.MO||t===P.MN||t===P.MS||t===P.MTEXT)}function lve(t,e,n){if(e===xt.MATHML&&t===P.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===su.ENCODING){const a=n[r].value.toLowerCase();return a===XE.TEXT_HTML||a===XE.APPLICATION_XML}}return e===xt.SVG&&(t===P.FOREIGN_OBJECT||t===P.DESC||t===P.TITLE)}function cve(t,e,n,r){return(!r||r===xt.HTML)&&lve(t,e,n)||(!r||r===xt.MATHML)&&ove(t,e)}const uve="hidden",dve=8,mve=3;var fe;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(fe||(fe={}));const hve={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},BF=new Set([P.TABLE,P.TBODY,P.TFOOT,P.THEAD,P.TR]),ZE={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:$l,onParseError:null};class QE{constructor(e,n,r=null,a=null){this.fragmentContext=r,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=fe.INITIAL,this.originalInsertionMode=fe.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...ZE,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new Owe(this.options,this),this.activeFormattingElements=new Wwe(this.treeAdapter),this.fragmentContextID=r?ih(this.treeAdapter.getTagName(r)):P.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new Uwe(this.document,this.treeAdapter,this)}static parse(e,n){const r=new this(n);return r.tokenizer.write(e,!0),r.document}static getFragmentParser(e,n){const r={...ZE,...n};e??(e=r.treeAdapter.createElement(Oe.TEMPLATE,xt.HTML,[]));const a=r.treeAdapter.createElement("documentmock",xt.HTML,[]),s=new this(r,a,e);return s.fragmentContextID===P.TEMPLATE&&s.tmplInsertionModeStack.unshift(fe.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,r){var a;if(!this.onParseError)return;const s=(a=e.location)!==null&&a!==void 0?a:hve,i={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:r?s.startLine:s.endLine,endCol:r?s.startCol:s.endCol,endOffset:r?s.startOffset:s.endOffset};this.onParseError(i)}onItemPush(e,n,r){var a,s;(s=(a=this.treeAdapter).onItemPush)===null||s===void 0||s.call(a,e),r&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var r,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(a=(r=this.treeAdapter).onItemPop)===null||a===void 0||a.call(r,e,this.openElements.current),n){let s,i;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,i=this.fragmentContextID):{current:s,currentTagId:i}=this.openElements,this._setContextModes(s,i)}}_setContextModes(e,n){const r=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===xt.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&e!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,xt.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=fe.TEXT}switchToPlaintextParsing(){this.insertionMode=fe.TEXT,this.originalInsertionMode=fe.IN_BODY,this.tokenizer.state=qr.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===Oe.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==xt.HTML))switch(this.fragmentContextID){case P.TITLE:case P.TEXTAREA:{this.tokenizer.state=qr.RCDATA;break}case P.STYLE:case P.XMP:case P.IFRAME:case P.NOEMBED:case P.NOFRAMES:case P.NOSCRIPT:{this.tokenizer.state=qr.RAWTEXT;break}case P.SCRIPT:{this.tokenizer.state=qr.SCRIPT_DATA;break}case P.PLAINTEXT:{this.tokenizer.state=qr.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",r=e.publicId||"",a=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,a),e.location){const i=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));i&&this.treeAdapter.setNodeSourceCodeLocation(i,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,e)}}_appendElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location)}_insertElement(e,n){const r=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(r,e.location),this.openElements.push(r,e.tagID)}_insertFakeElement(e,n){const r=this.treeAdapter.createElement(e,xt.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,xt.HTML,e.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(Oe.HTML,xt.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,P.HTML)}_appendCommentNode(e,n){const r=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,e.location)}_insertCharacters(e){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,e.chars,r):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const a=this.treeAdapter.getChildNodes(n),s=r?a.lastIndexOf(r):a.length,i=a[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(i)){const{endLine:c,endCol:u,endOffset:d}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(i,{endLine:c,endCol:u,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,e.location)}_adoptNodes(e,n){for(let r=this.treeAdapter.getFirstChild(e);r;r=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const r=n.location,a=this.treeAdapter.getTagName(e),s=n.type===In.END_TAG&&a===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,s)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,e.tagID===P.SVG&&this.treeAdapter.getTagName(n)===Oe.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===xt.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===P.MGLYPH||e.tagID===P.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,xt.HTML)}_processToken(e){switch(e.type){case In.CHARACTER:{this.onCharacter(e);break}case In.NULL_CHARACTER:{this.onNullCharacter(e);break}case In.COMMENT:{this.onComment(e);break}case In.DOCTYPE:{this.onDoctype(e);break}case In.START_TAG:{this._processStartTag(e);break}case In.END_TAG:{this.onEndTag(e);break}case In.EOF:{this.onEof(e);break}case In.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,r){const a=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return cve(e,a,s,r)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(a=>a.type===Ji.Marker||this.openElements.contains(a.element)),r=n===-1?e-1:n-1;for(let a=r;a>=0;a--){const s=this.activeFormattingElements.entries[a];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=fe.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(P.P),this.openElements.popUntilTagNamePopped(P.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case P.TR:{this.insertionMode=fe.IN_ROW;return}case P.TBODY:case P.THEAD:case P.TFOOT:{this.insertionMode=fe.IN_TABLE_BODY;return}case P.CAPTION:{this.insertionMode=fe.IN_CAPTION;return}case P.COLGROUP:{this.insertionMode=fe.IN_COLUMN_GROUP;return}case P.TABLE:{this.insertionMode=fe.IN_TABLE;return}case P.BODY:{this.insertionMode=fe.IN_BODY;return}case P.FRAMESET:{this.insertionMode=fe.IN_FRAMESET;return}case P.SELECT:{this._resetInsertionModeForSelect(e);return}case P.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case P.HTML:{this.insertionMode=this.headElement?fe.AFTER_HEAD:fe.BEFORE_HEAD;return}case P.TD:case P.TH:{if(e>0){this.insertionMode=fe.IN_CELL;return}break}case P.HEAD:{if(e>0){this.insertionMode=fe.IN_HEAD;return}break}}this.insertionMode=fe.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===P.TEMPLATE)break;if(r===P.TABLE){this.insertionMode=fe.IN_SELECT_IN_TABLE;return}}this.insertionMode=fe.IN_SELECT}_isElementCausesFosterParenting(e){return BF.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case P.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===xt.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case P.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const r=this.treeAdapter.getNamespaceURI(e);return Rwe[r].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){q3e(this,e);return}switch(this.insertionMode){case fe.INITIAL:{wh(this,e);break}case fe.BEFORE_HTML:{vp(this,e);break}case fe.BEFORE_HEAD:{kp(this,e);break}case fe.IN_HEAD:{_p(this,e);break}case fe.IN_HEAD_NO_SCRIPT:{Cp(this,e);break}case fe.AFTER_HEAD:{Sp(this,e);break}case fe.IN_BODY:case fe.IN_CAPTION:case fe.IN_CELL:case fe.IN_TEMPLATE:{HF(this,e);break}case fe.TEXT:case fe.IN_SELECT:case fe.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case fe.IN_TABLE:case fe.IN_TABLE_BODY:case fe.IN_ROW:{Qw(this,e);break}case fe.IN_TABLE_TEXT:{KF(this,e);break}case fe.IN_COLUMN_GROUP:{hb(this,e);break}case fe.AFTER_BODY:{pb(this,e);break}case fe.AFTER_AFTER_BODY:{Vg(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){H3e(this,e);return}switch(this.insertionMode){case fe.INITIAL:{wh(this,e);break}case fe.BEFORE_HTML:{vp(this,e);break}case fe.BEFORE_HEAD:{kp(this,e);break}case fe.IN_HEAD:{_p(this,e);break}case fe.IN_HEAD_NO_SCRIPT:{Cp(this,e);break}case fe.AFTER_HEAD:{Sp(this,e);break}case fe.TEXT:{this._insertCharacters(e);break}case fe.IN_TABLE:case fe.IN_TABLE_BODY:case fe.IN_ROW:{Qw(this,e);break}case fe.IN_COLUMN_GROUP:{hb(this,e);break}case fe.AFTER_BODY:{pb(this,e);break}case fe.AFTER_AFTER_BODY:{Vg(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){Fk(this,e);return}switch(this.insertionMode){case fe.INITIAL:case fe.BEFORE_HTML:case fe.BEFORE_HEAD:case fe.IN_HEAD:case fe.IN_HEAD_NO_SCRIPT:case fe.AFTER_HEAD:case fe.IN_BODY:case fe.IN_TABLE:case fe.IN_CAPTION:case fe.IN_COLUMN_GROUP:case fe.IN_TABLE_BODY:case fe.IN_ROW:case fe.IN_CELL:case fe.IN_SELECT:case fe.IN_SELECT_IN_TABLE:case fe.IN_TEMPLATE:case fe.IN_FRAMESET:case fe.AFTER_FRAMESET:{Fk(this,e);break}case fe.IN_TABLE_TEXT:{vh(this,e);break}case fe.AFTER_BODY:{wve(this,e);break}case fe.AFTER_AFTER_BODY:case fe.AFTER_AFTER_FRAMESET:{vve(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case fe.INITIAL:{kve(this,e);break}case fe.BEFORE_HEAD:case fe.IN_HEAD:case fe.IN_HEAD_NO_SCRIPT:case fe.AFTER_HEAD:{this._err(e,at.misplacedDoctype);break}case fe.IN_TABLE_TEXT:{vh(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,at.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?U3e(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case fe.INITIAL:{wh(this,e);break}case fe.BEFORE_HTML:{_ve(this,e);break}case fe.BEFORE_HEAD:{Sve(this,e);break}case fe.IN_HEAD:{Pi(this,e);break}case fe.IN_HEAD_NO_SCRIPT:{Eve(this,e);break}case fe.AFTER_HEAD:{$ve(this,e);break}case fe.IN_BODY:{Ba(this,e);break}case fe.IN_TABLE:{jm(this,e);break}case fe.IN_TABLE_TEXT:{vh(this,e);break}case fe.IN_CAPTION:{j3e(this,e);break}case fe.IN_COLUMN_GROUP:{x6(this,e);break}case fe.IN_TABLE_BODY:{Oy(this,e);break}case fe.IN_ROW:{Py(this,e);break}case fe.IN_CELL:{N3e(this,e);break}case fe.IN_SELECT:{ZF(this,e);break}case fe.IN_SELECT_IN_TABLE:{A3e(this,e);break}case fe.IN_TEMPLATE:{R3e(this,e);break}case fe.AFTER_BODY:{D3e(this,e);break}case fe.IN_FRAMESET:{L3e(this,e);break}case fe.AFTER_FRAMESET:{P3e(this,e);break}case fe.AFTER_AFTER_BODY:{B3e(this,e);break}case fe.AFTER_AFTER_FRAMESET:{z3e(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?W3e(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case fe.INITIAL:{wh(this,e);break}case fe.BEFORE_HTML:{Cve(this,e);break}case fe.BEFORE_HEAD:{jve(this,e);break}case fe.IN_HEAD:{Tve(this,e);break}case fe.IN_HEAD_NO_SCRIPT:{Nve(this,e);break}case fe.AFTER_HEAD:{Ave(this,e);break}case fe.IN_BODY:{Ly(this,e);break}case fe.TEXT:{g3e(this,e);break}case fe.IN_TABLE:{cf(this,e);break}case fe.IN_TABLE_TEXT:{vh(this,e);break}case fe.IN_CAPTION:{T3e(this,e);break}case fe.IN_COLUMN_GROUP:{E3e(this,e);break}case fe.IN_TABLE_BODY:{Bk(this,e);break}case fe.IN_ROW:{XF(this,e);break}case fe.IN_CELL:{$3e(this,e);break}case fe.IN_SELECT:{QF(this,e);break}case fe.IN_SELECT_IN_TABLE:{I3e(this,e);break}case fe.IN_TEMPLATE:{M3e(this,e);break}case fe.AFTER_BODY:{eB(this,e);break}case fe.IN_FRAMESET:{O3e(this,e);break}case fe.AFTER_FRAMESET:{F3e(this,e);break}case fe.AFTER_AFTER_BODY:{Vg(this,e);break}}}onEof(e){switch(this.insertionMode){case fe.INITIAL:{wh(this,e);break}case fe.BEFORE_HTML:{vp(this,e);break}case fe.BEFORE_HEAD:{kp(this,e);break}case fe.IN_HEAD:{_p(this,e);break}case fe.IN_HEAD_NO_SCRIPT:{Cp(this,e);break}case fe.AFTER_HEAD:{Sp(this,e);break}case fe.IN_BODY:case fe.IN_TABLE:case fe.IN_CAPTION:case fe.IN_COLUMN_GROUP:case fe.IN_TABLE_BODY:case fe.IN_ROW:case fe.IN_CELL:case fe.IN_SELECT:case fe.IN_SELECT_IN_TABLE:{GF(this,e);break}case fe.TEXT:{b3e(this,e);break}case fe.IN_TABLE_TEXT:{vh(this,e);break}case fe.IN_TEMPLATE:{JF(this,e);break}case fe.AFTER_BODY:case fe.IN_FRAMESET:case fe.AFTER_FRAMESET:case fe.AFTER_AFTER_BODY:case fe.AFTER_AFTER_FRAMESET:{b6(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===oe.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case fe.IN_HEAD:case fe.IN_HEAD_NO_SCRIPT:case fe.AFTER_HEAD:case fe.TEXT:case fe.IN_COLUMN_GROUP:case fe.IN_SELECT:case fe.IN_SELECT_IN_TABLE:case fe.IN_FRAMESET:case fe.AFTER_FRAMESET:{this._insertCharacters(e);break}case fe.IN_BODY:case fe.IN_CAPTION:case fe.IN_CELL:case fe.IN_TEMPLATE:case fe.AFTER_BODY:case fe.AFTER_AFTER_BODY:case fe.AFTER_AFTER_FRAMESET:{zF(this,e);break}case fe.IN_TABLE:case fe.IN_TABLE_BODY:case fe.IN_ROW:{Qw(this,e);break}case fe.IN_TABLE_TEXT:{VF(this,e);break}}}}function pve(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):WF(t,e),n}function fve(t,e){let n=null,r=t.openElements.stackTop;for(;r>=0;r--){const a=t.openElements.items[r];if(a===e.element)break;t._isSpecialElement(a,t.openElements.tagIDs[r])&&(n=a)}return n||(t.openElements.shortenToLength(Math.max(r,0)),t.activeFormattingElements.removeEntry(e)),n}function gve(t,e,n){let r=e,a=t.openElements.getCommonAncestor(e);for(let s=0,i=a;i!==n;s++,i=a){a=t.openElements.getCommonAncestor(i);const o=t.activeFormattingElements.getElementEntry(i),c=o&&s>=mve;!o||c?(c&&t.activeFormattingElements.removeEntry(o),t.openElements.remove(i)):(i=bve(t,o),r===e&&(t.activeFormattingElements.bookmark=o),t.treeAdapter.detachNode(r),t.treeAdapter.appendChild(i,r),r=i)}return r}function bve(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),r=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,r),e.element=r,r}function xve(t,e,n){const r=t.treeAdapter.getTagName(e),a=ih(r);if(t._isElementCausesFosterParenting(a))t._fosterParentElement(n);else{const s=t.treeAdapter.getNamespaceURI(e);a===P.TEMPLATE&&s===xt.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function yve(t,e,n){const r=t.treeAdapter.getNamespaceURI(n.element),{token:a}=n,s=t.treeAdapter.createElement(a.tagName,r,a.attrs);t._adoptNodes(e,s),t.treeAdapter.appendChild(e,s),t.activeFormattingElements.insertElementAfterBookmark(s,a),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,s,a.tagID)}function g6(t,e){for(let n=0;n<dve;n++){const r=pve(t,e);if(!r)break;const a=fve(t,r);if(!a)break;t.activeFormattingElements.bookmark=r;const s=gve(t,a,r.element),i=t.openElements.getCommonAncestor(r.element);t.treeAdapter.detachNode(s),i&&xve(t,i,s),yve(t,a,r)}}function Fk(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function wve(t,e){t._appendCommentNode(e,t.openElements.items[0])}function vve(t,e){t._appendCommentNode(e,t.document)}function b6(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let r=t.openElements.stackTop;r>=n;r--)t._setEndLocation(t.openElements.items[r],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const r=t.openElements.items[0],a=t.treeAdapter.getNodeSourceCodeLocation(r);if(a&&!a.endTag&&(t._setEndLocation(r,e),t.openElements.stackTop>=1)){const s=t.openElements.items[1],i=t.treeAdapter.getNodeSourceCodeLocation(s);i&&!i.endTag&&t._setEndLocation(s,e)}}}}function kve(t,e){t._setDocumentType(e);const n=e.forceQuirks?Vs.QUIRKS:Qwe(e);Zwe(e)||t._err(e,at.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=fe.BEFORE_HTML}function wh(t,e){t._err(e,at.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,Vs.QUIRKS),t.insertionMode=fe.BEFORE_HTML,t._processToken(e)}function _ve(t,e){e.tagID===P.HTML?(t._insertElement(e,xt.HTML),t.insertionMode=fe.BEFORE_HEAD):vp(t,e)}function Cve(t,e){const n=e.tagID;(n===P.HTML||n===P.HEAD||n===P.BODY||n===P.BR)&&vp(t,e)}function vp(t,e){t._insertFakeRootElement(),t.insertionMode=fe.BEFORE_HEAD,t._processToken(e)}function Sve(t,e){switch(e.tagID){case P.HTML:{Ba(t,e);break}case P.HEAD:{t._insertElement(e,xt.HTML),t.headElement=t.openElements.current,t.insertionMode=fe.IN_HEAD;break}default:kp(t,e)}}function jve(t,e){const n=e.tagID;n===P.HEAD||n===P.BODY||n===P.HTML||n===P.BR?kp(t,e):t._err(e,at.endTagWithoutMatchingOpenElement)}function kp(t,e){t._insertFakeElement(Oe.HEAD,P.HEAD),t.headElement=t.openElements.current,t.insertionMode=fe.IN_HEAD,t._processToken(e)}function Pi(t,e){switch(e.tagID){case P.HTML:{Ba(t,e);break}case P.BASE:case P.BASEFONT:case P.BGSOUND:case P.LINK:case P.META:{t._appendElement(e,xt.HTML),e.ackSelfClosing=!0;break}case P.TITLE:{t._switchToTextParsing(e,qr.RCDATA);break}case P.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,qr.RAWTEXT):(t._insertElement(e,xt.HTML),t.insertionMode=fe.IN_HEAD_NO_SCRIPT);break}case P.NOFRAMES:case P.STYLE:{t._switchToTextParsing(e,qr.RAWTEXT);break}case P.SCRIPT:{t._switchToTextParsing(e,qr.SCRIPT_DATA);break}case P.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=fe.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(fe.IN_TEMPLATE);break}case P.HEAD:{t._err(e,at.misplacedStartTagForHeadElement);break}default:_p(t,e)}}function Tve(t,e){switch(e.tagID){case P.HEAD:{t.openElements.pop(),t.insertionMode=fe.AFTER_HEAD;break}case P.BODY:case P.BR:case P.HTML:{_p(t,e);break}case P.TEMPLATE:{Vu(t,e);break}default:t._err(e,at.endTagWithoutMatchingOpenElement)}}function Vu(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==P.TEMPLATE&&t._err(e,at.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(P.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,at.endTagWithoutMatchingOpenElement)}function _p(t,e){t.openElements.pop(),t.insertionMode=fe.AFTER_HEAD,t._processToken(e)}function Eve(t,e){switch(e.tagID){case P.HTML:{Ba(t,e);break}case P.BASEFONT:case P.BGSOUND:case P.HEAD:case P.LINK:case P.META:case P.NOFRAMES:case P.STYLE:{Pi(t,e);break}case P.NOSCRIPT:{t._err(e,at.nestedNoscriptInHead);break}default:Cp(t,e)}}function Nve(t,e){switch(e.tagID){case P.NOSCRIPT:{t.openElements.pop(),t.insertionMode=fe.IN_HEAD;break}case P.BR:{Cp(t,e);break}default:t._err(e,at.endTagWithoutMatchingOpenElement)}}function Cp(t,e){const n=e.type===In.EOF?at.openElementsLeftAfterEof:at.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=fe.IN_HEAD,t._processToken(e)}function $ve(t,e){switch(e.tagID){case P.HTML:{Ba(t,e);break}case P.BODY:{t._insertElement(e,xt.HTML),t.framesetOk=!1,t.insertionMode=fe.IN_BODY;break}case P.FRAMESET:{t._insertElement(e,xt.HTML),t.insertionMode=fe.IN_FRAMESET;break}case P.BASE:case P.BASEFONT:case P.BGSOUND:case P.LINK:case P.META:case P.NOFRAMES:case P.SCRIPT:case P.STYLE:case P.TEMPLATE:case P.TITLE:{t._err(e,at.abandonedHeadElementChild),t.openElements.push(t.headElement,P.HEAD),Pi(t,e),t.openElements.remove(t.headElement);break}case P.HEAD:{t._err(e,at.misplacedStartTagForHeadElement);break}default:Sp(t,e)}}function Ave(t,e){switch(e.tagID){case P.BODY:case P.HTML:case P.BR:{Sp(t,e);break}case P.TEMPLATE:{Vu(t,e);break}default:t._err(e,at.endTagWithoutMatchingOpenElement)}}function Sp(t,e){t._insertFakeElement(Oe.BODY,P.BODY),t.insertionMode=fe.IN_BODY,Dy(t,e)}function Dy(t,e){switch(e.type){case In.CHARACTER:{HF(t,e);break}case In.WHITESPACE_CHARACTER:{zF(t,e);break}case In.COMMENT:{Fk(t,e);break}case In.START_TAG:{Ba(t,e);break}case In.END_TAG:{Ly(t,e);break}case In.EOF:{GF(t,e);break}}}function zF(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function HF(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function Ive(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function Rve(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function Mve(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,xt.HTML),t.insertionMode=fe.IN_FRAMESET)}function Dve(t,e){t.openElements.hasInButtonScope(P.P)&&t._closePElement(),t._insertElement(e,xt.HTML)}function Lve(t,e){t.openElements.hasInButtonScope(P.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&Pk.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,xt.HTML)}function Ove(t,e){t.openElements.hasInButtonScope(P.P)&&t._closePElement(),t._insertElement(e,xt.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function Pve(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(P.P)&&t._closePElement(),t._insertElement(e,xt.HTML),n||(t.formElement=t.openElements.current))}function Fve(t,e){t.framesetOk=!1;const n=e.tagID;for(let r=t.openElements.stackTop;r>=0;r--){const a=t.openElements.tagIDs[r];if(n===P.LI&&a===P.LI||(n===P.DD||n===P.DT)&&(a===P.DD||a===P.DT)){t.openElements.generateImpliedEndTagsWithExclusion(a),t.openElements.popUntilTagNamePopped(a);break}if(a!==P.ADDRESS&&a!==P.DIV&&a!==P.P&&t._isSpecialElement(t.openElements.items[r],a))break}t.openElements.hasInButtonScope(P.P)&&t._closePElement(),t._insertElement(e,xt.HTML)}function Bve(t,e){t.openElements.hasInButtonScope(P.P)&&t._closePElement(),t._insertElement(e,xt.HTML),t.tokenizer.state=qr.PLAINTEXT}function zve(t,e){t.openElements.hasInScope(P.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(P.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,xt.HTML),t.framesetOk=!1}function Hve(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(Oe.A);n&&(g6(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,xt.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function qve(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,xt.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function Uve(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(P.NOBR)&&(g6(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,xt.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function Wve(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,xt.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function Gve(t,e){t.treeAdapter.getDocumentMode(t.document)!==Vs.QUIRKS&&t.openElements.hasInButtonScope(P.P)&&t._closePElement(),t._insertElement(e,xt.HTML),t.framesetOk=!1,t.insertionMode=fe.IN_TABLE}function qF(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,xt.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function UF(t){const e=IF(t,su.TYPE);return e!=null&&e.toLowerCase()===uve}function Vve(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,xt.HTML),UF(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function Kve(t,e){t._appendElement(e,xt.HTML),e.ackSelfClosing=!0}function Yve(t,e){t.openElements.hasInButtonScope(P.P)&&t._closePElement(),t._appendElement(e,xt.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function Xve(t,e){e.tagName=Oe.IMG,e.tagID=P.IMG,qF(t,e)}function Zve(t,e){t._insertElement(e,xt.HTML),t.skipNextNewLine=!0,t.tokenizer.state=qr.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=fe.TEXT}function Qve(t,e){t.openElements.hasInButtonScope(P.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,qr.RAWTEXT)}function Jve(t,e){t.framesetOk=!1,t._switchToTextParsing(e,qr.RAWTEXT)}function JE(t,e){t._switchToTextParsing(e,qr.RAWTEXT)}function e3e(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,xt.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===fe.IN_TABLE||t.insertionMode===fe.IN_CAPTION||t.insertionMode===fe.IN_TABLE_BODY||t.insertionMode===fe.IN_ROW||t.insertionMode===fe.IN_CELL?fe.IN_SELECT_IN_TABLE:fe.IN_SELECT}function t3e(t,e){t.openElements.currentTagId===P.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,xt.HTML)}function n3e(t,e){t.openElements.hasInScope(P.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,xt.HTML)}function r3e(t,e){t.openElements.hasInScope(P.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(P.RTC),t._insertElement(e,xt.HTML)}function a3e(t,e){t._reconstructActiveFormattingElements(),PF(e),f6(e),e.selfClosing?t._appendElement(e,xt.MATHML):t._insertElement(e,xt.MATHML),e.ackSelfClosing=!0}function s3e(t,e){t._reconstructActiveFormattingElements(),FF(e),f6(e),e.selfClosing?t._appendElement(e,xt.SVG):t._insertElement(e,xt.SVG),e.ackSelfClosing=!0}function e8(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,xt.HTML)}function Ba(t,e){switch(e.tagID){case P.I:case P.S:case P.B:case P.U:case P.EM:case P.TT:case P.BIG:case P.CODE:case P.FONT:case P.SMALL:case P.STRIKE:case P.STRONG:{qve(t,e);break}case P.A:{Hve(t,e);break}case P.H1:case P.H2:case P.H3:case P.H4:case P.H5:case P.H6:{Lve(t,e);break}case P.P:case P.DL:case P.OL:case P.UL:case P.DIV:case P.DIR:case P.NAV:case P.MAIN:case P.MENU:case P.ASIDE:case P.CENTER:case P.FIGURE:case P.FOOTER:case P.HEADER:case P.HGROUP:case P.DIALOG:case P.DETAILS:case P.ADDRESS:case P.ARTICLE:case P.SEARCH:case P.SECTION:case P.SUMMARY:case P.FIELDSET:case P.BLOCKQUOTE:case P.FIGCAPTION:{Dve(t,e);break}case P.LI:case P.DD:case P.DT:{Fve(t,e);break}case P.BR:case P.IMG:case P.WBR:case P.AREA:case P.EMBED:case P.KEYGEN:{qF(t,e);break}case P.HR:{Yve(t,e);break}case P.RB:case P.RTC:{n3e(t,e);break}case P.RT:case P.RP:{r3e(t,e);break}case P.PRE:case P.LISTING:{Ove(t,e);break}case P.XMP:{Qve(t,e);break}case P.SVG:{s3e(t,e);break}case P.HTML:{Ive(t,e);break}case P.BASE:case P.LINK:case P.META:case P.STYLE:case P.TITLE:case P.SCRIPT:case P.BGSOUND:case P.BASEFONT:case P.TEMPLATE:{Pi(t,e);break}case P.BODY:{Rve(t,e);break}case P.FORM:{Pve(t,e);break}case P.NOBR:{Uve(t,e);break}case P.MATH:{a3e(t,e);break}case P.TABLE:{Gve(t,e);break}case P.INPUT:{Vve(t,e);break}case P.PARAM:case P.TRACK:case P.SOURCE:{Kve(t,e);break}case P.IMAGE:{Xve(t,e);break}case P.BUTTON:{zve(t,e);break}case P.APPLET:case P.OBJECT:case P.MARQUEE:{Wve(t,e);break}case P.IFRAME:{Jve(t,e);break}case P.SELECT:{e3e(t,e);break}case P.OPTION:case P.OPTGROUP:{t3e(t,e);break}case P.NOEMBED:case P.NOFRAMES:{JE(t,e);break}case P.FRAMESET:{Mve(t,e);break}case P.TEXTAREA:{Zve(t,e);break}case P.NOSCRIPT:{t.options.scriptingEnabled?JE(t,e):e8(t,e);break}case P.PLAINTEXT:{Bve(t,e);break}case P.COL:case P.TH:case P.TD:case P.TR:case P.HEAD:case P.FRAME:case P.TBODY:case P.TFOOT:case P.THEAD:case P.CAPTION:case P.COLGROUP:break;default:e8(t,e)}}function i3e(t,e){if(t.openElements.hasInScope(P.BODY)&&(t.insertionMode=fe.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function o3e(t,e){t.openElements.hasInScope(P.BODY)&&(t.insertionMode=fe.AFTER_BODY,eB(t,e))}function l3e(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function c3e(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(P.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(P.FORM):n&&t.openElements.remove(n))}function u3e(t){t.openElements.hasInButtonScope(P.P)||t._insertFakeElement(Oe.P,P.P),t._closePElement()}function d3e(t){t.openElements.hasInListItemScope(P.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(P.LI),t.openElements.popUntilTagNamePopped(P.LI))}function m3e(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function h3e(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function p3e(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function f3e(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(Oe.BR,P.BR),t.openElements.pop(),t.framesetOk=!1}function WF(t,e){const n=e.tagName,r=e.tagID;for(let a=t.openElements.stackTop;a>0;a--){const s=t.openElements.items[a],i=t.openElements.tagIDs[a];if(r===i&&(r!==P.UNKNOWN||t.treeAdapter.getTagName(s)===n)){t.openElements.generateImpliedEndTagsWithExclusion(r),t.openElements.stackTop>=a&&t.openElements.shortenToLength(a);break}if(t._isSpecialElement(s,i))break}}function Ly(t,e){switch(e.tagID){case P.A:case P.B:case P.I:case P.S:case P.U:case P.EM:case P.TT:case P.BIG:case P.CODE:case P.FONT:case P.NOBR:case P.SMALL:case P.STRIKE:case P.STRONG:{g6(t,e);break}case P.P:{u3e(t);break}case P.DL:case P.UL:case P.OL:case P.DIR:case P.DIV:case P.NAV:case P.PRE:case P.MAIN:case P.MENU:case P.ASIDE:case P.BUTTON:case P.CENTER:case P.FIGURE:case P.FOOTER:case P.HEADER:case P.HGROUP:case P.DIALOG:case P.ADDRESS:case P.ARTICLE:case P.DETAILS:case P.SEARCH:case P.SECTION:case P.SUMMARY:case P.LISTING:case P.FIELDSET:case P.BLOCKQUOTE:case P.FIGCAPTION:{l3e(t,e);break}case P.LI:{d3e(t);break}case P.DD:case P.DT:{m3e(t,e);break}case P.H1:case P.H2:case P.H3:case P.H4:case P.H5:case P.H6:{h3e(t);break}case P.BR:{f3e(t);break}case P.BODY:{i3e(t,e);break}case P.HTML:{o3e(t,e);break}case P.FORM:{c3e(t);break}case P.APPLET:case P.OBJECT:case P.MARQUEE:{p3e(t,e);break}case P.TEMPLATE:{Vu(t,e);break}default:WF(t,e)}}function GF(t,e){t.tmplInsertionModeStack.length>0?JF(t,e):b6(t,e)}function g3e(t,e){var n;e.tagID===P.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function b3e(t,e){t._err(e,at.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function Qw(t,e){if(t.openElements.currentTagId!==void 0&&BF.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=fe.IN_TABLE_TEXT,e.type){case In.CHARACTER:{KF(t,e);break}case In.WHITESPACE_CHARACTER:{VF(t,e);break}}else e0(t,e)}function x3e(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,xt.HTML),t.insertionMode=fe.IN_CAPTION}function y3e(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,xt.HTML),t.insertionMode=fe.IN_COLUMN_GROUP}function w3e(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(Oe.COLGROUP,P.COLGROUP),t.insertionMode=fe.IN_COLUMN_GROUP,x6(t,e)}function v3e(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,xt.HTML),t.insertionMode=fe.IN_TABLE_BODY}function k3e(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(Oe.TBODY,P.TBODY),t.insertionMode=fe.IN_TABLE_BODY,Oy(t,e)}function _3e(t,e){t.openElements.hasInTableScope(P.TABLE)&&(t.openElements.popUntilTagNamePopped(P.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function C3e(t,e){UF(e)?t._appendElement(e,xt.HTML):e0(t,e),e.ackSelfClosing=!0}function S3e(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,xt.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function jm(t,e){switch(e.tagID){case P.TD:case P.TH:case P.TR:{k3e(t,e);break}case P.STYLE:case P.SCRIPT:case P.TEMPLATE:{Pi(t,e);break}case P.COL:{w3e(t,e);break}case P.FORM:{S3e(t,e);break}case P.TABLE:{_3e(t,e);break}case P.TBODY:case P.TFOOT:case P.THEAD:{v3e(t,e);break}case P.INPUT:{C3e(t,e);break}case P.CAPTION:{x3e(t,e);break}case P.COLGROUP:{y3e(t,e);break}default:e0(t,e)}}function cf(t,e){switch(e.tagID){case P.TABLE:{t.openElements.hasInTableScope(P.TABLE)&&(t.openElements.popUntilTagNamePopped(P.TABLE),t._resetInsertionMode());break}case P.TEMPLATE:{Vu(t,e);break}case P.BODY:case P.CAPTION:case P.COL:case P.COLGROUP:case P.HTML:case P.TBODY:case P.TD:case P.TFOOT:case P.TH:case P.THEAD:case P.TR:break;default:e0(t,e)}}function e0(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,Dy(t,e),t.fosterParentingEnabled=n}function VF(t,e){t.pendingCharacterTokens.push(e)}function KF(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function vh(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)e0(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const YF=new Set([P.CAPTION,P.COL,P.COLGROUP,P.TBODY,P.TD,P.TFOOT,P.TH,P.THEAD,P.TR]);function j3e(t,e){const n=e.tagID;YF.has(n)?t.openElements.hasInTableScope(P.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(P.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=fe.IN_TABLE,jm(t,e)):Ba(t,e)}function T3e(t,e){const n=e.tagID;switch(n){case P.CAPTION:case P.TABLE:{t.openElements.hasInTableScope(P.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(P.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=fe.IN_TABLE,n===P.TABLE&&cf(t,e));break}case P.BODY:case P.COL:case P.COLGROUP:case P.HTML:case P.TBODY:case P.TD:case P.TFOOT:case P.TH:case P.THEAD:case P.TR:break;default:Ly(t,e)}}function x6(t,e){switch(e.tagID){case P.HTML:{Ba(t,e);break}case P.COL:{t._appendElement(e,xt.HTML),e.ackSelfClosing=!0;break}case P.TEMPLATE:{Pi(t,e);break}default:hb(t,e)}}function E3e(t,e){switch(e.tagID){case P.COLGROUP:{t.openElements.currentTagId===P.COLGROUP&&(t.openElements.pop(),t.insertionMode=fe.IN_TABLE);break}case P.TEMPLATE:{Vu(t,e);break}case P.COL:break;default:hb(t,e)}}function hb(t,e){t.openElements.currentTagId===P.COLGROUP&&(t.openElements.pop(),t.insertionMode=fe.IN_TABLE,t._processToken(e))}function Oy(t,e){switch(e.tagID){case P.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,xt.HTML),t.insertionMode=fe.IN_ROW;break}case P.TH:case P.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(Oe.TR,P.TR),t.insertionMode=fe.IN_ROW,Py(t,e);break}case P.CAPTION:case P.COL:case P.COLGROUP:case P.TBODY:case P.TFOOT:case P.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=fe.IN_TABLE,jm(t,e));break}default:jm(t,e)}}function Bk(t,e){const n=e.tagID;switch(e.tagID){case P.TBODY:case P.TFOOT:case P.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=fe.IN_TABLE);break}case P.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=fe.IN_TABLE,cf(t,e));break}case P.BODY:case P.CAPTION:case P.COL:case P.COLGROUP:case P.HTML:case P.TD:case P.TH:case P.TR:break;default:cf(t,e)}}function Py(t,e){switch(e.tagID){case P.TH:case P.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,xt.HTML),t.insertionMode=fe.IN_CELL,t.activeFormattingElements.insertMarker();break}case P.CAPTION:case P.COL:case P.COLGROUP:case P.TBODY:case P.TFOOT:case P.THEAD:case P.TR:{t.openElements.hasInTableScope(P.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=fe.IN_TABLE_BODY,Oy(t,e));break}default:jm(t,e)}}function XF(t,e){switch(e.tagID){case P.TR:{t.openElements.hasInTableScope(P.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=fe.IN_TABLE_BODY);break}case P.TABLE:{t.openElements.hasInTableScope(P.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=fe.IN_TABLE_BODY,Bk(t,e));break}case P.TBODY:case P.TFOOT:case P.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(P.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=fe.IN_TABLE_BODY,Bk(t,e));break}case P.BODY:case P.CAPTION:case P.COL:case P.COLGROUP:case P.HTML:case P.TD:case P.TH:break;default:cf(t,e)}}function N3e(t,e){const n=e.tagID;YF.has(n)?(t.openElements.hasInTableScope(P.TD)||t.openElements.hasInTableScope(P.TH))&&(t._closeTableCell(),Py(t,e)):Ba(t,e)}function $3e(t,e){const n=e.tagID;switch(n){case P.TD:case P.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=fe.IN_ROW);break}case P.TABLE:case P.TBODY:case P.TFOOT:case P.THEAD:case P.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),XF(t,e));break}case P.BODY:case P.CAPTION:case P.COL:case P.COLGROUP:case P.HTML:break;default:Ly(t,e)}}function ZF(t,e){switch(e.tagID){case P.HTML:{Ba(t,e);break}case P.OPTION:{t.openElements.currentTagId===P.OPTION&&t.openElements.pop(),t._insertElement(e,xt.HTML);break}case P.OPTGROUP:{t.openElements.currentTagId===P.OPTION&&t.openElements.pop(),t.openElements.currentTagId===P.OPTGROUP&&t.openElements.pop(),t._insertElement(e,xt.HTML);break}case P.HR:{t.openElements.currentTagId===P.OPTION&&t.openElements.pop(),t.openElements.currentTagId===P.OPTGROUP&&t.openElements.pop(),t._appendElement(e,xt.HTML),e.ackSelfClosing=!0;break}case P.INPUT:case P.KEYGEN:case P.TEXTAREA:case P.SELECT:{t.openElements.hasInSelectScope(P.SELECT)&&(t.openElements.popUntilTagNamePopped(P.SELECT),t._resetInsertionMode(),e.tagID!==P.SELECT&&t._processStartTag(e));break}case P.SCRIPT:case P.TEMPLATE:{Pi(t,e);break}}}function QF(t,e){switch(e.tagID){case P.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===P.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===P.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===P.OPTGROUP&&t.openElements.pop();break}case P.OPTION:{t.openElements.currentTagId===P.OPTION&&t.openElements.pop();break}case P.SELECT:{t.openElements.hasInSelectScope(P.SELECT)&&(t.openElements.popUntilTagNamePopped(P.SELECT),t._resetInsertionMode());break}case P.TEMPLATE:{Vu(t,e);break}}}function A3e(t,e){const n=e.tagID;n===P.CAPTION||n===P.TABLE||n===P.TBODY||n===P.TFOOT||n===P.THEAD||n===P.TR||n===P.TD||n===P.TH?(t.openElements.popUntilTagNamePopped(P.SELECT),t._resetInsertionMode(),t._processStartTag(e)):ZF(t,e)}function I3e(t,e){const n=e.tagID;n===P.CAPTION||n===P.TABLE||n===P.TBODY||n===P.TFOOT||n===P.THEAD||n===P.TR||n===P.TD||n===P.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(P.SELECT),t._resetInsertionMode(),t.onEndTag(e)):QF(t,e)}function R3e(t,e){switch(e.tagID){case P.BASE:case P.BASEFONT:case P.BGSOUND:case P.LINK:case P.META:case P.NOFRAMES:case P.SCRIPT:case P.STYLE:case P.TEMPLATE:case P.TITLE:{Pi(t,e);break}case P.CAPTION:case P.COLGROUP:case P.TBODY:case P.TFOOT:case P.THEAD:{t.tmplInsertionModeStack[0]=fe.IN_TABLE,t.insertionMode=fe.IN_TABLE,jm(t,e);break}case P.COL:{t.tmplInsertionModeStack[0]=fe.IN_COLUMN_GROUP,t.insertionMode=fe.IN_COLUMN_GROUP,x6(t,e);break}case P.TR:{t.tmplInsertionModeStack[0]=fe.IN_TABLE_BODY,t.insertionMode=fe.IN_TABLE_BODY,Oy(t,e);break}case P.TD:case P.TH:{t.tmplInsertionModeStack[0]=fe.IN_ROW,t.insertionMode=fe.IN_ROW,Py(t,e);break}default:t.tmplInsertionModeStack[0]=fe.IN_BODY,t.insertionMode=fe.IN_BODY,Ba(t,e)}}function M3e(t,e){e.tagID===P.TEMPLATE&&Vu(t,e)}function JF(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(P.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):b6(t,e)}function D3e(t,e){e.tagID===P.HTML?Ba(t,e):pb(t,e)}function eB(t,e){var n;if(e.tagID===P.HTML){if(t.fragmentContext||(t.insertionMode=fe.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===P.HTML){t._setEndLocation(t.openElements.items[0],e);const r=t.openElements.items[1];r&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&t._setEndLocation(r,e)}}else pb(t,e)}function pb(t,e){t.insertionMode=fe.IN_BODY,Dy(t,e)}function L3e(t,e){switch(e.tagID){case P.HTML:{Ba(t,e);break}case P.FRAMESET:{t._insertElement(e,xt.HTML);break}case P.FRAME:{t._appendElement(e,xt.HTML),e.ackSelfClosing=!0;break}case P.NOFRAMES:{Pi(t,e);break}}}function O3e(t,e){e.tagID===P.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==P.FRAMESET&&(t.insertionMode=fe.AFTER_FRAMESET))}function P3e(t,e){switch(e.tagID){case P.HTML:{Ba(t,e);break}case P.NOFRAMES:{Pi(t,e);break}}}function F3e(t,e){e.tagID===P.HTML&&(t.insertionMode=fe.AFTER_AFTER_FRAMESET)}function B3e(t,e){e.tagID===P.HTML?Ba(t,e):Vg(t,e)}function Vg(t,e){t.insertionMode=fe.IN_BODY,Dy(t,e)}function z3e(t,e){switch(e.tagID){case P.HTML:{Ba(t,e);break}case P.NOFRAMES:{Pi(t,e);break}}}function H3e(t,e){e.chars=gr,t._insertCharacters(e)}function q3e(t,e){t._insertCharacters(e),t.framesetOk=!1}function tB(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==xt.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function U3e(t,e){if(sve(e))tB(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),r=t.treeAdapter.getNamespaceURI(n);r===xt.MATHML?PF(e):r===xt.SVG&&(ive(e),FF(e)),f6(e),e.selfClosing?t._appendElement(e,r):t._insertElement(e,r),e.ackSelfClosing=!0}}function W3e(t,e){if(e.tagID===P.P||e.tagID===P.BR){tB(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const r=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(r)===xt.HTML){t._endTagOutsideForeignContent(e);break}const a=t.treeAdapter.getTagName(r);if(a.toLowerCase()===e.tagName){e.tagName=a,t.openElements.shortenToLength(n);break}}}Oe.AREA,Oe.BASE,Oe.BASEFONT,Oe.BGSOUND,Oe.BR,Oe.COL,Oe.EMBED,Oe.FRAME,Oe.HR,Oe.IMG,Oe.INPUT,Oe.KEYGEN,Oe.LINK,Oe.META,Oe.PARAM,Oe.SOURCE,Oe.TRACK,Oe.WBR;const Fy=nB("end"),wo=nB("start");function nB(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function rB(t){const e=wo(t),n=Fy(t);if(e&&n)return{start:e,end:n}}const G3e=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,V3e=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),t8={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function aB(t,e){const n=rke(t),r=TF("type",{handlers:{root:K3e,element:Y3e,text:X3e,comment:iB,doctype:Z3e,raw:J3e},unknown:eke}),a={parser:n?new QE(t8):QE.getFragmentParser(void 0,t8),handle(o){r(o,a)},stitches:!1,options:e||{}};r(t,a),oh(a,wo());const s=n?a.parser.document:a.parser.getFragment(),i=K2e(s,{file:a.options.file});return a.stitches&&uo(i,"comment",function(o,c,u){const d=o;if(d.value.stitch&&u&&c!==void 0){const m=u.children;return m[c]=d.value.stitch,c}}),i.type==="root"&&i.children.length===1&&i.children[0].type===t.type?i.children[0]:i}function sB(t,e){let n=-1;if(t)for(;++n<t.length;)e.handle(t[n])}function K3e(t,e){sB(t.children,e)}function Y3e(t,e){tke(t,e),sB(t.children,e),nke(t,e)}function X3e(t,e){e.parser.tokenizer.state>4&&(e.parser.tokenizer.state=0);const n={type:In.CHARACTER,chars:t.value,location:t0(t)};oh(e,wo(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function Z3e(t,e){const n={type:In.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:t0(t)};oh(e,wo(t)),e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)}function Q3e(t,e){e.stitches=!0;const n=ake(t);if("children"in t&&"children"in n){const r=aB({type:"root",children:t.children},e.options);n.children=r.children}iB({type:"comment",value:{stitch:n}},e)}function iB(t,e){const n=t.value,r={type:In.COMMENT,data:n,location:t0(t)};oh(e,wo(t)),e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)}function J3e(t,e){if(e.parser.tokenizer.preprocessor.html="",e.parser.tokenizer.preprocessor.pos=-1,e.parser.tokenizer.preprocessor.lastGapPos=-2,e.parser.tokenizer.preprocessor.gapStack=[],e.parser.tokenizer.preprocessor.skipNextNewLine=!1,e.parser.tokenizer.preprocessor.lastChunkWritten=!1,e.parser.tokenizer.preprocessor.endOfChunkHit=!1,e.parser.tokenizer.preprocessor.isEol=!1,oB(e,wo(t)),e.parser.tokenizer.write(e.options.tagfilter?t.value.replace(G3e,"&lt;$1$2"):t.value,!1),e.parser.tokenizer._runParsingLoop(),e.parser.tokenizer.state===72||e.parser.tokenizer.state===78){e.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=e.parser.tokenizer._consume();e.parser.tokenizer._callState(n)}}function eke(t,e){const n=t;if(e.options.passThrough&&e.options.passThrough.includes(n.type))Q3e(n,e);else{let r="";throw V3e.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function oh(t,e){oB(t,e);const n=t.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=t.parser.tokenizer.preprocessor.line,n.location.endCol=t.parser.tokenizer.preprocessor.col+1,n.location.endOffset=t.parser.tokenizer.preprocessor.offset+1,t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)),t.parser.tokenizer.paused=!1,t.parser.tokenizer.inLoop=!1,t.parser.tokenizer.active=!1,t.parser.tokenizer.returnState=qr.DATA,t.parser.tokenizer.charRefCode=-1,t.parser.tokenizer.consumedAfterSnapshot=-1,t.parser.tokenizer.currentLocation=null,t.parser.tokenizer.currentCharacterToken=null,t.parser.tokenizer.currentToken=null,t.parser.tokenizer.currentAttr={name:"",value:""}}function oB(t,e){if(e&&e.offset!==void 0){const n={startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:-1,endCol:-1,endOffset:-1};t.parser.tokenizer.preprocessor.lineStartPos=-e.column+1,t.parser.tokenizer.preprocessor.droppedBufferSize=e.offset,t.parser.tokenizer.preprocessor.line=e.line,t.parser.tokenizer.currentLocation=n}}function tke(t,e){const n=t.tagName.toLowerCase();if(e.parser.tokenizer.state===qr.PLAINTEXT)return;oh(e,wo(t));const r=e.parser.openElements.current;let a="namespaceURI"in r?r.namespaceURI:no.html;a===no.html&&n==="svg"&&(a=no.svg);const s=cwe({...t,children:[]},{space:a===no.svg?"svg":"html"}),i={type:In.START_TAG,tagName:n,tagID:ih(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in s?s.attrs:[],location:t0(t)};e.parser.currentToken=i,e.parser._processToken(e.parser.currentToken),e.parser.tokenizer.lastStartTagName=n}function nke(t,e){const n=t.tagName.toLowerCase();if(!e.parser.tokenizer.inForeignNode&&bwe.includes(n)||e.parser.tokenizer.state===qr.PLAINTEXT)return;oh(e,Fy(t));const r={type:In.END_TAG,tagName:n,tagID:ih(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:t0(t)};e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken),n===e.parser.tokenizer.lastStartTagName&&(e.parser.tokenizer.state===qr.RCDATA||e.parser.tokenizer.state===qr.RAWTEXT||e.parser.tokenizer.state===qr.SCRIPT_DATA)&&(e.parser.tokenizer.state=qr.DATA)}function rke(t){const e=t.type==="root"?t.children[0]:t;return!!(e&&(e.type==="doctype"||e.type==="element"&&e.tagName.toLowerCase()==="html"))}function t0(t){const e=wo(t)||{line:void 0,column:void 0,offset:void 0},n=Fy(t)||{line:void 0,column:void 0,offset:void 0};return{startLine:e.line,startCol:e.column,startOffset:e.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function ake(t){return"children"in t?ku({...t,children:[]}):ku(t)}function lB(t){return function(e,n){return aB(e,{...t,file:n})}}const $c=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],Hc={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[...$c,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[...$c],h2:[["className","sr-only"]],img:[...$c,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[...$c,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[...$c],table:[...$c],ul:[...$c,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},Dl={}.hasOwnProperty;function ske(t,e){let n={type:"root",children:[]};const r={schema:e?{...Hc,...e}:Hc,stack:[]},a=cB(r,t);return a&&(Array.isArray(a)?a.length===1?n=a[0]:n.children=a:n=a),n}function cB(t,e){if(e&&typeof e=="object"){const n=e;switch(typeof n.type=="string"?n.type:""){case"comment":return ike(t,n);case"doctype":return oke(t,n);case"element":return lke(t,n);case"root":return cke(t,n);case"text":return uke(t,n)}}}function ike(t,e){if(t.schema.allowComments){const n=typeof e.value=="string"?e.value:"",r=n.indexOf("-->"),s={type:"comment",value:r<0?n:n.slice(0,r)};return n0(s,e),s}}function oke(t,e){if(t.schema.allowDoctypes){const n={type:"doctype"};return n0(n,e),n}}function lke(t,e){const n=typeof e.tagName=="string"?e.tagName:"";t.stack.push(n);const r=uB(t,e.children),a=dke(t,e.properties);t.stack.pop();let s=!1;if(n&&n!=="*"&&(!t.schema.tagNames||t.schema.tagNames.includes(n))&&(s=!0,t.schema.ancestors&&Dl.call(t.schema.ancestors,n))){const o=t.schema.ancestors[n];let c=-1;for(s=!1;++c<o.length;)t.stack.includes(o[c])&&(s=!0)}if(!s)return t.schema.strip&&!t.schema.strip.includes(n)?r:void 0;const i={type:"element",tagName:n,properties:a,children:r};return n0(i,e),i}function cke(t,e){const r={type:"root",children:uB(t,e.children)};return n0(r,e),r}function uke(t,e){const r={type:"text",value:typeof e.value=="string"?e.value:""};return n0(r,e),r}function uB(t,e){const n=[];if(Array.isArray(e)){const r=e;let a=-1;for(;++a<r.length;){const s=cB(t,r[a]);s&&(Array.isArray(s)?n.push(...s):n.push(s))}}return n}function dke(t,e){const n=t.stack[t.stack.length-1],r=t.schema.attributes,a=t.schema.required,s=r&&Dl.call(r,n)?r[n]:void 0,i=r&&Dl.call(r,"*")?r["*"]:void 0,o=e&&typeof e=="object"?e:{},c={};let u;for(u in o)if(Dl.call(o,u)){const d=o[u];let m=n8(t,r8(s,u),u,d);m==null&&(m=n8(t,r8(i,u),u,d)),m!=null&&(c[u]=m)}if(a&&Dl.call(a,n)){const d=a[n];for(u in d)Dl.call(d,u)&&!Dl.call(c,u)&&(c[u]=d[u])}return c}function n8(t,e,n,r){return e?Array.isArray(r)?mke(t,e,n,r):dB(t,e,n,r):void 0}function mke(t,e,n,r){let a=-1;const s=[];for(;++a<r.length;){const i=dB(t,e,n,r[a]);(typeof i=="number"||typeof i=="string")&&s.push(i)}return s}function dB(t,e,n,r){if(!(typeof r!="boolean"&&typeof r!="number"&&typeof r!="string")&&hke(t,n,r)){if(typeof e=="object"&&e.length>1){let a=!1,s=0;for(;++s<e.length;){const i=e[s];if(i&&typeof i=="object"&&"flags"in i){if(i.test(String(r))){a=!0;break}}else if(i===r){a=!0;break}}if(!a)return}return t.schema.clobber&&t.schema.clobberPrefix&&t.schema.clobber.includes(n)?t.schema.clobberPrefix+r:r}}function hke(t,e,n){const r=t.schema.protocols&&Dl.call(t.schema.protocols,e)?t.schema.protocols[e]:void 0;if(!r||r.length===0)return!0;const a=String(n),s=a.indexOf(":"),i=a.indexOf("?"),o=a.indexOf("#"),c=a.indexOf("/");if(s<0||c>-1&&s>c||i>-1&&s>i||o>-1&&s>o)return!0;let u=-1;for(;++u<r.length;){const d=r[u];if(s===d.length&&a.slice(0,d.length)===d)return!0}return!1}function n0(t,e){const n=rB(e);e.data&&(t.data=ku(e.data)),n&&(t.position=n)}function r8(t,e){let n,r=-1;if(t)for(;++r<t.length;){const a=t[r],s=typeof a=="string"?a:a[0];if(s===e)return a;s==="data*"&&(n=a)}if(e.length>4&&e.slice(0,4).toLowerCase()==="data")return n}function mB(t){return function(e){return ske(e,t)}}const Ko={eof:null,asterisk:42,underscore:95,tilde:126},Tm={attentionSideAfter:2,characterGroupPunctuation:2,characterGroupWhitespace:1},Vi={data:"data",characterEscape:"characterEscape",emphasis:"emphasis",emphasisSequence:"emphasisSequence",emphasisText:"emphasisText",strong:"strong",strongSequence:"strongSequence",strongText:"strongText"},Ka=vc(/[A-Za-z]/),Da=vc(/[\dA-Za-z]/),pke=vc(/[#-'*+\--9=?A-Z^-~]/);function fb(t){return t!==null&&(t<32||t===127)}const zk=vc(/\d/),fke=vc(/[\dA-Fa-f]/),gke=vc(/[!-/:-@[-`{-~]/);function an(t){return t!==null&&t<-2}function sr(t){return t!==null&&(t<0||t===32)}function Pn(t){return t===-2||t===-1||t===32}const By=vc(/\p{P}|\p{S}/u),_u=vc(/\s/);function vc(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function bke(t){return t===161||t===164||t===167||t===168||t===170||t===173||t===174||t>=176&&t<=180||t>=182&&t<=186||t>=188&&t<=191||t===198||t===208||t===215||t===216||t>=222&&t<=225||t===230||t>=232&&t<=234||t===236||t===237||t===240||t===242||t===243||t>=247&&t<=250||t===252||t===254||t===257||t===273||t===275||t===283||t===294||t===295||t===299||t>=305&&t<=307||t===312||t>=319&&t<=322||t===324||t>=328&&t<=331||t===333||t===338||t===339||t===358||t===359||t===363||t===462||t===464||t===466||t===468||t===470||t===472||t===474||t===476||t===593||t===609||t===708||t===711||t>=713&&t<=715||t===717||t===720||t>=728&&t<=731||t===733||t===735||t>=768&&t<=879||t>=913&&t<=929||t>=931&&t<=937||t>=945&&t<=961||t>=963&&t<=969||t===1025||t>=1040&&t<=1103||t===1105||t===8208||t>=8211&&t<=8214||t===8216||t===8217||t===8220||t===8221||t>=8224&&t<=8226||t>=8228&&t<=8231||t===8240||t===8242||t===8243||t===8245||t===8251||t===8254||t===8308||t===8319||t>=8321&&t<=8324||t===8364||t===8451||t===8453||t===8457||t===8467||t===8470||t===8481||t===8482||t===8486||t===8491||t===8531||t===8532||t>=8539&&t<=8542||t>=8544&&t<=8555||t>=8560&&t<=8569||t===8585||t>=8592&&t<=8601||t===8632||t===8633||t===8658||t===8660||t===8679||t===8704||t===8706||t===8707||t===8711||t===8712||t===8715||t===8719||t===8721||t===8725||t===8730||t>=8733&&t<=8736||t===8739||t===8741||t>=8743&&t<=8748||t===8750||t>=8756&&t<=8759||t===8764||t===8765||t===8776||t===8780||t===8786||t===8800||t===8801||t>=8804&&t<=8807||t===8810||t===8811||t===8814||t===8815||t===8834||t===8835||t===8838||t===8839||t===8853||t===8857||t===8869||t===8895||t===8978||t>=9312&&t<=9449||t>=9451&&t<=9547||t>=9552&&t<=9587||t>=9600&&t<=9615||t>=9618&&t<=9621||t===9632||t===9633||t>=9635&&t<=9641||t===9650||t===9651||t===9654||t===9655||t===9660||t===9661||t===9664||t===9665||t>=9670&&t<=9672||t===9675||t>=9678&&t<=9681||t>=9698&&t<=9701||t===9711||t===9733||t===9734||t===9737||t===9742||t===9743||t===9756||t===9758||t===9792||t===9794||t===9824||t===9825||t>=9827&&t<=9829||t>=9831&&t<=9834||t===9836||t===9837||t===9839||t===9886||t===9887||t===9919||t>=9926&&t<=9933||t>=9935&&t<=9939||t>=9941&&t<=9953||t===9955||t===9960||t===9961||t>=9963&&t<=9969||t===9972||t>=9974&&t<=9977||t===9979||t===9980||t===9982||t===9983||t===10045||t>=10102&&t<=10111||t>=11094&&t<=11097||t>=12872&&t<=12879||t>=57344&&t<=63743||t>=65024&&t<=65039||t===65533||t>=127232&&t<=127242||t>=127248&&t<=127277||t>=127280&&t<=127337||t>=127344&&t<=127373||t===127375||t===127376||t>=127387&&t<=127404||t>=917760&&t<=917999||t>=983040&&t<=1048573||t>=1048576&&t<=1114109}function xke(t){return t===12288||t>=65281&&t<=65376||t>=65504&&t<=65510}function yke(t){return t>=4352&&t<=4447||t===8986||t===8987||t===9001||t===9002||t>=9193&&t<=9196||t===9200||t===9203||t===9725||t===9726||t===9748||t===9749||t>=9776&&t<=9783||t>=9800&&t<=9811||t===9855||t>=9866&&t<=9871||t===9875||t===9889||t===9898||t===9899||t===9917||t===9918||t===9924||t===9925||t===9934||t===9940||t===9962||t===9970||t===9971||t===9973||t===9978||t===9981||t===9989||t===9994||t===9995||t===10024||t===10060||t===10062||t>=10067&&t<=10069||t===10071||t>=10133&&t<=10135||t===10160||t===10175||t===11035||t===11036||t===11088||t===11093||t>=11904&&t<=11929||t>=11931&&t<=12019||t>=12032&&t<=12245||t>=12272&&t<=12287||t>=12289&&t<=12350||t>=12353&&t<=12438||t>=12441&&t<=12543||t>=12549&&t<=12591||t>=12593&&t<=12686||t>=12688&&t<=12773||t>=12783&&t<=12830||t>=12832&&t<=12871||t>=12880&&t<=42124||t>=42128&&t<=42182||t>=43360&&t<=43388||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65106||t>=65108&&t<=65126||t>=65128&&t<=65131||t>=94176&&t<=94180||t>=94192&&t<=94198||t>=94208&&t<=101589||t>=101631&&t<=101662||t>=101760&&t<=101874||t>=110576&&t<=110579||t>=110581&&t<=110587||t===110589||t===110590||t>=110592&&t<=110882||t===110898||t>=110928&&t<=110930||t===110933||t>=110948&&t<=110951||t>=110960&&t<=111355||t>=119552&&t<=119638||t>=119648&&t<=119670||t===126980||t===127183||t===127374||t>=127377&&t<=127386||t>=127488&&t<=127490||t>=127504&&t<=127547||t>=127552&&t<=127560||t===127568||t===127569||t>=127584&&t<=127589||t>=127744&&t<=127776||t>=127789&&t<=127797||t>=127799&&t<=127868||t>=127870&&t<=127891||t>=127904&&t<=127946||t>=127951&&t<=127955||t>=127968&&t<=127984||t===127988||t>=127992&&t<=128062||t===128064||t>=128066&&t<=128252||t>=128255&&t<=128317||t>=128331&&t<=128334||t>=128336&&t<=128359||t===128378||t===128405||t===128406||t===128420||t>=128507&&t<=128591||t>=128640&&t<=128709||t===128716||t>=128720&&t<=128722||t>=128725&&t<=128728||t>=128732&&t<=128735||t===128747||t===128748||t>=128756&&t<=128764||t>=128992&&t<=129003||t===129008||t>=129292&&t<=129338||t>=129340&&t<=129349||t>=129351&&t<=129535||t>=129648&&t<=129660||t>=129664&&t<=129674||t>=129678&&t<=129734||t===129736||t>=129741&&t<=129756||t>=129759&&t<=129770||t>=129775&&t<=129784||t>=131072&&t<=196605||t>=196608&&t<=262141}function wke(t){return bke(t)?"ambiguous":xke(t)?"fullwidth":t===8361||t>=65377&&t<=65470||t>=65474&&t<=65479||t>=65482&&t<=65487||t>=65490&&t<=65495||t>=65498&&t<=65500||t>=65512&&t<=65518?"halfwidth":t>=32&&t<=126||t===162||t===163||t===165||t===166||t===172||t===175||t>=10214&&t<=10221||t===10629||t===10630?"narrow":yke(t)?"wide":"neutral"}function vke(t){if(!Number.isSafeInteger(t))throw new TypeError(`Expected a code point, got \`${typeof t}\`.`)}function kke(t){return vke(t),wke(t)}var _ke=Object.defineProperty,Cke=(t,e,n)=>e in t?_ke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ske=(t,e,n)=>Cke(t,e+"",n);function jke(t){return/^\p{Emoji_Presentation}/u.test(String.fromCodePoint(t))}function Tke(t){if(!t||t<4352)return!1;switch(kke(t)){case"fullwidth":case"halfwidth":return!0;case"wide":return!jke(t);case"narrow":return!1;case"ambiguous":return 917760<=t&&t<=917999?null:!1;case"neutral":return/^\p{sc=Hangul}/u.test(String.fromCodePoint(t))}}function Eke(t,e){return e!==65025||!t||t<8216?!1:t===8216||t===8217||t===8220||t===8221}function Nke(t){return t!==null&&t>=65024&&t<=65038}var $ke=hB(/\p{P}|\p{S}/u),Ake=hB(/\s/);function hB(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCodePoint(n))}}var Ls;(t=>{t.spaceOrPunctuation=3,t.cjk=4096,t.cjkPunctuation=4098,t.ivs=8192,t.cjkOrIvs=12288,t.nonEmojiGeneralUseVS=16384,t.variationSelector=24576,t.ivsToCjkRightShift=1})(Ls||(Ls={}));function am(t){if(t===Ko.eof||sr(t)||Ake(t))return Tm.characterGroupWhitespace;let e=0;if(t>=4352){if(Nke(t))return Ls.nonEmojiGeneralUseVS;switch(Tke(t)){case null:return Ls.ivs;case!0:e|=Ls.cjk;break}}return $ke(t)&&(e|=Tm.characterGroupPunctuation),e}function pB(t,e,n){if(!Dke(t))return t;const r=e(),a=am(r);return!r||uf(a)?t:Eke(r,n)?Ls.cjkPunctuation:Ike(a)}function Ike(t){return t&~Ls.ivs}function uf(t){return!!(t&Tm.characterGroupWhitespace)}function gb(t){return(t&Ls.cjkPunctuation)===Tm.characterGroupPunctuation}function Hk(t){return!!(t&Ls.cjk)}function Rke(t){return t===Ls.ivs}function Mke(t){return!!(t&Ls.cjkOrIvs)}function Dke(t){return t===Ls.nonEmojiGeneralUseVS}function a8(t){return!!(t&Ls.spaceOrPunctuation)}function fB(t){return!!(t&&t>=55296&&t<=56319)}function gB(t){return!!(t&&t>=56320&&t<=57343)}function bB(t,e,n){if(e._bufferIndex<2)return t;const a=n({start:{...e,_bufferIndex:e._bufferIndex-2},end:e}).codePointAt(0);return a&&a>=65536?a:t}function Lke(t,e,n){const r=t>=65536?2:1;if(e._bufferIndex<1+r)return null;const a=e._bufferIndex-r-2,s=n({start:{...e,_bufferIndex:a>=0?a:0},end:{...e,_bufferIndex:e._bufferIndex-r}}),i=s.charCodeAt(s.length-1);if(Number.isNaN(i))return null;if(s.length<2||i<56320||57343<i)return i;const o=s.codePointAt(0);return o&&o>=65536?o:i}var xB=class{constructor(t,e,n){this.previousCode=t,this.nowPoint=e,this.sliceSerialize=n,Ske(this,"cachedValue")}value(){return this.cachedValue===void 0&&(this.cachedValue=Lke(this.previousCode,this.nowPoint,this.sliceSerialize)),this.cachedValue}};function yB(t,e,n){const r=n({start:e,end:{...e,_bufferIndex:e._bufferIndex+2}}).codePointAt(0);return r&&r>=65536?r:t}function ka(t,e,n,r){const a=t.length;let s=0,i;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(e,n),t.splice(...i);else for(n&&t.splice(e,n);s<r.length;)i=r.slice(s,s+1e4),i.unshift(e,0),t.splice(...i),s+=1e4,e+=1e4}function wa(t,e){return t.length>0?(ka(t,t.length,0,e),t):e}function lh(t,e,n){const r=[];let a=-1;for(;++a<t.length;){const s=t[a].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}var Jw={name:"attention",resolveAll:Oke,tokenize:Pke};function Oke(t,e){let n=-1,r,a,s,i,o,c,u,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const m={...t[r][1].end},h={...t[n][1].start};s8(m,-c),s8(h,c),i={type:c>1?Vi.strongSequence:Vi.emphasisSequence,start:m,end:{...t[r][1].end}},o={type:c>1?Vi.strongSequence:Vi.emphasisSequence,start:{...t[n][1].start},end:h},s={type:c>1?Vi.strongText:Vi.emphasisText,start:{...t[r][1].end},end:{...t[n][1].start}},a={type:c>1?Vi.strong:Vi.emphasis,start:{...i.start},end:{...o.end}},t[r][1].end={...i.start},t[n][1].start={...o.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=wa(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=wa(u,[["enter",a,e],["enter",i,e],["exit",i,e],["enter",s,e]]),e.parser.constructs.insideSpan.null,u=wa(u,lh(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=wa(u,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",a,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,u=wa(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,ka(t,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Pke(t,e){const n=this.parser.constructs.attentionMarkers.null,{now:r,sliceSerialize:a,previous:s}=this,i=gB(s)?bB(s,r(),a):s,o=am(i),c=new xB(i,r(),a),u=pB(o,c.value.bind(c),i);let d;return m;function m(p){return d=p,t.enter("attentionSequence"),h(p)}function h(p){if(p===d)return t.consume(p),h;const f=t.exit("attentionSequence"),g=fB(p)?yB(p,r(),a):p,x=am(g),y=gb(u),w=y||uf(u),v=gb(x),k=v||uf(x),C=Mke(u),_=!k||v&&(w||C)||n.includes(p),S=!w||y&&(k||Hk(x))||n.includes(i);return f._open=!!(d===Ko.asterisk?_:_&&(a8(u)||!S)),f._close=!!(d===Ko.asterisk?S:S&&(a8(x)||!_)),e(p)}}function s8(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}function Fke(){return{text:{[Ko.asterisk]:Jw,[Ko.underscore]:Jw},insideSpan:{null:[Jw]}}}function Bke(){const t=this.data();(t.micromarkExtensions||(t.micromarkExtensions=[])).push(Fke())}function zke(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:a};return n==null&&(n=!0),{text:{[Ko.tilde]:r},insideSpan:{null:[r]},attentionMarkers:{null:[Ko.tilde]}};function a(i,o){let c=-1;for(;++c<i.length;)if(i[c][0]==="enter"&&i[c][1].type==="strikethroughSequenceTemporary"&&i[c][1]._close){let u=c;for(;u--;)if(i[u][0]==="exit"&&i[u][1].type==="strikethroughSequenceTemporary"&&i[u][1]._open&&i[c][1].end.offset-i[c][1].start.offset===i[u][1].end.offset-i[u][1].start.offset){i[c][1].type="strikethroughSequence",i[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},i[u][1].start),end:Object.assign({},i[c][1].end)},m={type:"strikethroughText",start:Object.assign({},i[u][1].end),end:Object.assign({},i[c][1].start)},h=[["enter",d,o],["enter",i[u][1],o],["exit",i[u][1],o],["enter",m,o]],p=o.parser.constructs.insideSpan.null;p&&ka(h,h.length,0,lh(p,i.slice(u+1,c),o)),ka(h,h.length,0,[["exit",m,o],["enter",i[c][1],o],["exit",i[c][1],o],["exit",d,o]]),ka(i,u-1,c-u+3,h),c=u+h.length-2;break}}for(c=-1;++c<i.length;)i[c][1].type==="strikethroughSequenceTemporary"&&(i[c][1].type=Vi.data);return i}function s(i,o,c){const{now:u,sliceSerialize:d,previous:m}=this,h=gB(m)?bB(m,u(),d):m,p=am(h),f=new xB(h,u(),d),g=pB(p,f.value.bind(f),h),x=this.events;let y=0;return w;function w(k){return h===Ko.tilde&&x[x.length-1][1].type!==Vi.characterEscape?c(k):(i.enter("strikethroughSequenceTemporary"),v(k))}function v(k){const C=am(h);if(k===Ko.tilde)return y>1?c(k):(i.consume(k),y++,v);if(y<2&&!n)return c(k);const _=i.exit("strikethroughSequenceTemporary"),S=fB(k)?yB(k,u(),d):k,T=am(S),j=gb(g)||uf(g),I=gb(T)||uf(T),A=Hk(g)||Rke(C);return _._open=!I||T===Tm.attentionSideAfter&&(j||A),_._close=!j||C===Tm.attentionSideAfter&&(I||Hk(T)),o(k)}}}function Hke(t){const e=this.data();(e.micromarkExtensions||(e.micromarkExtensions=[])).push(zke(t))}function i8(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(e);for(;a!==-1;)r++,a=n.indexOf(e,a+e.length);return r}function qke(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function wB(t,e,n){const a=Kf((n||{}).ignore||[]),s=Uke(e);let i=-1;for(;++i<s.length;)PC(t,"text",o);function o(u,d){let m=-1,h;for(;++m<d.length;){const p=d[m],f=h?h.children:void 0;if(a(p,f?f.indexOf(p):void 0,h))return;h=p}if(h)return c(u,d)}function c(u,d){const m=d[d.length-1],h=s[i][0],p=s[i][1];let f=0;const x=m.children.indexOf(u);let y=!1,w=[];h.lastIndex=0;let v=h.exec(u.value);for(;v;){const k=v.index,C={index:v.index,input:v.input,stack:[...d,u]};let _=p(...v,C);if(typeof _=="string"&&(_=_.length>0?{type:"text",value:_}:void 0),_===!1?h.lastIndex=k+1:(f!==k&&w.push({type:"text",value:u.value.slice(f,k)}),Array.isArray(_)?w.push(..._):_&&w.push(_),f=k+v[0].length,y=!0),!h.global)break;v=h.exec(u.value)}return y?(f<u.value.length&&w.push({type:"text",value:u.value.slice(f)}),m.children.splice(x,1,...w)):w=[u],x+w.length}}function Uke(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const a=n[r];e.push([Wke(a[0]),Gke(a[1])])}return e}function Wke(t){return typeof t=="string"?new RegExp(qke(t),"g"):t}function Gke(t){return typeof t=="function"?t:function(){return t}}const ev="phrasing",tv=["autolink","link","image","label"];function Vke(){return{transforms:[e4e],enter:{literalAutolink:Yke,literalAutolinkEmail:nv,literalAutolinkHttp:nv,literalAutolinkWww:nv},exit:{literalAutolink:Jke,literalAutolinkEmail:Qke,literalAutolinkHttp:Xke,literalAutolinkWww:Zke}}}function Kke(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ev,notInConstruct:tv},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ev,notInConstruct:tv},{character:":",before:"[ps]",after:"\\/",inConstruct:ev,notInConstruct:tv}]}}function Yke(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function nv(t){this.config.enter.autolinkProtocol.call(this,t)}function Xke(t){this.config.exit.autolinkProtocol.call(this,t)}function Zke(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function Qke(t){this.config.exit.autolinkEmail.call(this,t)}function Jke(t){this.exit(t)}function e4e(t){wB(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,t4e],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,n4e]],{ignore:["link","linkReference"]})}function t4e(t,e,n,r,a){let s="";if(!vB(a)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!r4e(n)))return!1;const i=a4e(n+r);if(!i[0])return!1;const o={type:"link",title:null,url:s+e+i[0],children:[{type:"text",value:e+i[0]}]};return i[1]?[o,{type:"text",value:i[1]}]:o}function n4e(t,e,n,r){return!vB(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function r4e(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function a4e(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const a=i8(t,"(");let s=i8(t,")");for(;r!==-1&&a>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function vB(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||_u(n)||By(n))&&(!e||n!==47)}function Si(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}kB.peek=h4e;function s4e(){this.buffer()}function i4e(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function o4e(){this.buffer()}function l4e(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function c4e(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Si(this.sliceSerialize(t)).toLowerCase(),n.label=e}function u4e(t){this.exit(t)}function d4e(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Si(this.sliceSerialize(t)).toLowerCase(),n.label=e}function m4e(t){this.exit(t)}function h4e(){return"["}function kB(t,e,n,r){const a=n.createTracker(r);let s=a.move("[^");const i=n.enter("footnoteReference"),o=n.enter("reference");return s+=a.move(n.safe(n.associationId(t),{after:"]",before:s})),o(),i(),s+=a.move("]"),s}function p4e(){return{enter:{gfmFootnoteCallString:s4e,gfmFootnoteCall:i4e,gfmFootnoteDefinitionLabelString:o4e,gfmFootnoteDefinition:l4e},exit:{gfmFootnoteCallString:c4e,gfmFootnoteCall:u4e,gfmFootnoteDefinitionLabelString:d4e,gfmFootnoteDefinition:m4e}}}function f4e(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:kB},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,s,i){const o=s.createTracker(i);let c=o.move("[^");const u=s.enter("footnoteDefinition"),d=s.enter("label");return c+=o.move(s.safe(s.associationId(r),{before:c,after:"]"})),d(),c+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),c+=o.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,o.current()),e?_B:g4e))),u(),c}}function g4e(t,e,n){return e===0?t:_B(t,e,n)}function _B(t,e,n){return(n?"":"    ")+t}const b4e=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];CB.peek=k4e;function x4e(){return{canContainEols:["delete"],enter:{strikethrough:w4e},exit:{strikethrough:v4e}}}function y4e(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:b4e}],handlers:{delete:CB}}}function w4e(t){this.enter({type:"delete",children:[]},t)}function v4e(t){this.exit(t)}function CB(t,e,n,r){const a=n.createTracker(r),s=n.enter("strikethrough");let i=a.move("~~");return i+=n.containerPhrasing(t,{...a.current(),before:i,after:"~"}),i+=a.move("~~"),s(),i}function k4e(){return"~"}function _4e(t){return t.length}function C4e(t,e){const n=e||{},r=(n.align||[]).concat(),a=n.stringLength||_4e,s=[],i=[],o=[],c=[];let u=0,d=-1;for(;++d<t.length;){const g=[],x=[];let y=-1;for(t[d].length>u&&(u=t[d].length);++y<t[d].length;){const w=S4e(t[d][y]);if(n.alignDelimiters!==!1){const v=a(w);x[y]=v,(c[y]===void 0||v>c[y])&&(c[y]=v)}g.push(w)}i[d]=g,o[d]=x}let m=-1;if(typeof r=="object"&&"length"in r)for(;++m<u;)s[m]=o8(r[m]);else{const g=o8(r);for(;++m<u;)s[m]=g}m=-1;const h=[],p=[];for(;++m<u;){const g=s[m];let x="",y="";g===99?(x=":",y=":"):g===108?x=":":g===114&&(y=":");let w=n.alignDelimiters===!1?1:Math.max(1,c[m]-x.length-y.length);const v=x+"-".repeat(w)+y;n.alignDelimiters!==!1&&(w=x.length+w+y.length,w>c[m]&&(c[m]=w),p[m]=w),h[m]=v}i.splice(1,0,h),o.splice(1,0,p),d=-1;const f=[];for(;++d<i.length;){const g=i[d],x=o[d];m=-1;const y=[];for(;++m<u;){const w=g[m]||"";let v="",k="";if(n.alignDelimiters!==!1){const C=c[m]-(x[m]||0),_=s[m];_===114?v=" ".repeat(C):_===99?C%2?(v=" ".repeat(C/2+.5),k=" ".repeat(C/2-.5)):(v=" ".repeat(C/2),k=v):k=" ".repeat(C)}n.delimiterStart!==!1&&!m&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||m)&&y.push(" "),n.alignDelimiters!==!1&&y.push(v),y.push(w),n.alignDelimiters!==!1&&y.push(k),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||m!==u-1)&&y.push("|")}f.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return f.join(`
`)}function S4e(t){return t==null?"":String(t)}function o8(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function j4e(t,e,n,r){const a=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const i=n.indentLines(n.containerFlow(t,s.current()),T4e);return a(),i}function T4e(t,e,n){return">"+(n?"":" ")+t}function E4e(t,e){return l8(t,e.inConstruct,!0)&&!l8(t,e.notInConstruct,!1)}function l8(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function c8(t,e,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&E4e(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function SB(t,e){const n=String(t);let r=n.indexOf(e),a=r,s=0,i=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++s>i&&(i=s):s=1,a=r+e.length,r=n.indexOf(e,a);return i}function N4e(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function $4e(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function A4e(t,e,n,r){const a=$4e(n),s=t.value||"",i=a==="`"?"GraveAccent":"Tilde";if(N4e(t,n)){const m=n.enter("codeIndented"),h=n.indentLines(s,I4e);return m(),h}const o=n.createTracker(r),c=a.repeat(Math.max(SB(s,a)+1,3)),u=n.enter("codeFenced");let d=o.move(c);if(t.lang){const m=n.enter(`codeFencedLang${i}`);d+=o.move(n.safe(t.lang,{before:d,after:" ",encode:["`"],...o.current()})),m()}if(t.lang&&t.meta){const m=n.enter(`codeFencedMeta${i}`);d+=o.move(" "),d+=o.move(n.safe(t.meta,{before:d,after:`
`,encode:["`"],...o.current()})),m()}return d+=o.move(`
`),s&&(d+=o.move(s+`
`)),d+=o.move(c),u(),d}function I4e(t,e,n){return(n?"":"    ")+t}function y6(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function R4e(t,e,n,r){const a=y6(n),s=a==='"'?"Quote":"Apostrophe",i=n.enter("definition");let o=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(t),{before:u,after:"]",...c.current()})),u+=c.move("]: "),o(),!t.url||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(t.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(o=n.enter("destinationRaw"),u+=c.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...c.current()}))),o(),t.title&&(o=n.enter(`title${s}`),u+=c.move(" "+a),u+=c.move(n.safe(t.title,{before:u,after:a,...c.current()})),u+=c.move(a),o()),i(),u}function M4e(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function df(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Em(t){if(t===null||sr(t)||_u(t))return 1;if(By(t))return 2}function bb(t,e,n){const r=Em(t),a=Em(e);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}jB.peek=D4e;function jB(t,e,n,r){const a=M4e(n),s=n.enter("emphasis"),i=n.createTracker(r),o=i.move(a);let c=i.move(n.containerPhrasing(t,{after:a,before:o,...i.current()}));const u=c.charCodeAt(0),d=bb(r.before.charCodeAt(r.before.length-1),u,a);d.inside&&(c=df(u)+c.slice(1));const m=c.charCodeAt(c.length-1),h=bb(r.after.charCodeAt(0),m,a);h.inside&&(c=c.slice(0,-1)+df(m));const p=i.move(a);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+c+p}function D4e(t,e,n){return n.options.emphasis||"*"}const L4e={};function w6(t,e){const n=L4e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return TB(t,r,a)}function TB(t,e,n){if(O4e(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return u8(t.children,e,n)}return Array.isArray(t)?u8(t,e,n):""}function u8(t,e,n){const r=[];let a=-1;for(;++a<t.length;)r[a]=TB(t[a],e,n);return r.join("")}function O4e(t){return!!(t&&typeof t=="object")}function P4e(t,e){let n=!1;return uo(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,wk}),!!((!t.depth||t.depth<3)&&w6(t)&&(e.options.setext||n))}function F4e(t,e,n,r){const a=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(P4e(t,n)){const d=n.enter("headingSetext"),m=n.enter("phrasing"),h=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return m(),d(),h+`
`+(a===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const i="#".repeat(a),o=n.enter("headingAtx"),c=n.enter("phrasing");s.move(i+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=df(u.charCodeAt(0))+u.slice(1)),u=u?i+" "+u:i,n.options.closeAtx&&(u+=" "+i),c(),o(),u}EB.peek=B4e;function EB(t){return t.value||""}function B4e(){return"<"}NB.peek=z4e;function NB(t,e,n,r){const a=y6(n),s=a==='"'?"Quote":"Apostrophe",i=n.enter("image");let o=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(t.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),o(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(t.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(o=n.enter("destinationRaw"),u+=c.move(n.safe(t.url,{before:u,after:t.title?" ":")",...c.current()}))),o(),t.title&&(o=n.enter(`title${s}`),u+=c.move(" "+a),u+=c.move(n.safe(t.title,{before:u,after:a,...c.current()})),u+=c.move(a),o()),u+=c.move(")"),i(),u}function z4e(){return"!"}$B.peek=H4e;function $B(t,e,n,r){const a=t.referenceType,s=n.enter("imageReference");let i=n.enter("label");const o=n.createTracker(r);let c=o.move("![");const u=n.safe(t.alt,{before:c,after:"]",...o.current()});c+=o.move(u+"]["),i();const d=n.stack;n.stack=[],i=n.enter("reference");const m=n.safe(n.associationId(t),{before:c,after:"]",...o.current()});return i(),n.stack=d,s(),a==="full"||!u||u!==m?c+=o.move(m+"]"):a==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function H4e(){return"!"}AB.peek=q4e;function AB(t,e,n){let r=t.value||"",a="`",s=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const i=n.unsafe[s],o=n.compilePattern(i);let c;if(i.atBreak)for(;c=o.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return a+r+a}function q4e(){return"`"}function IB(t,e){const n=w6(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}RB.peek=U4e;function RB(t,e,n,r){const a=y6(n),s=a==='"'?"Quote":"Apostrophe",i=n.createTracker(r);let o,c;if(IB(t,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let m=i.move("<");return m+=i.move(n.containerPhrasing(t,{before:m,after:">",...i.current()})),m+=i.move(">"),o(),n.stack=d,m}o=n.enter("link"),c=n.enter("label");let u=i.move("[");return u+=i.move(n.containerPhrasing(t,{before:u,after:"](",...i.current()})),u+=i.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),u+=i.move("<"),u+=i.move(n.safe(t.url,{before:u,after:">",...i.current()})),u+=i.move(">")):(c=n.enter("destinationRaw"),u+=i.move(n.safe(t.url,{before:u,after:t.title?" ":")",...i.current()}))),c(),t.title&&(c=n.enter(`title${s}`),u+=i.move(" "+a),u+=i.move(n.safe(t.title,{before:u,after:a,...i.current()})),u+=i.move(a),c()),u+=i.move(")"),o(),u}function U4e(t,e,n){return IB(t,n)?"<":"["}MB.peek=W4e;function MB(t,e,n,r){const a=t.referenceType,s=n.enter("linkReference");let i=n.enter("label");const o=n.createTracker(r);let c=o.move("[");const u=n.containerPhrasing(t,{before:c,after:"]",...o.current()});c+=o.move(u+"]["),i();const d=n.stack;n.stack=[],i=n.enter("reference");const m=n.safe(n.associationId(t),{before:c,after:"]",...o.current()});return i(),n.stack=d,s(),a==="full"||!u||u!==m?c+=o.move(m+"]"):a==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function W4e(){return"["}function v6(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function G4e(t){const e=v6(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function V4e(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function DB(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function K4e(t,e,n,r){const a=n.enter("list"),s=n.bulletCurrent;let i=t.ordered?V4e(n):v6(n);const o=t.ordered?i==="."?")":".":G4e(n);let c=e&&n.bulletLastUsed?i===n.bulletLastUsed:!1;if(!t.ordered){const d=t.children?t.children[0]:void 0;if((i==="*"||i==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),DB(n)===i&&d){let m=-1;for(;++m<t.children.length;){const h=t.children[m];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(i=o),n.bulletCurrent=i;const u=n.containerFlow(t,r);return n.bulletLastUsed=i,n.bulletCurrent=s,a(),u}function Y4e(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function X4e(t,e,n,r){const a=Y4e(n);let s=n.bulletCurrent||v6(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let i=s.length+1;(a==="tab"||a==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(i=Math.ceil(i/4)*4);const o=n.createTracker(r);o.move(s+" ".repeat(i-s.length)),o.shift(i);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,o.current()),d);return c(),u;function d(m,h,p){return h?(p?"":" ".repeat(i))+m:(p?s:s+" ".repeat(i-s.length))+m}}function Z4e(t,e,n,r){const a=n.enter("paragraph"),s=n.enter("phrasing"),i=n.containerPhrasing(t,r);return s(),a(),i}const Q4e=Kf(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function J4e(t,e,n,r){return(t.children.some(function(i){return Q4e(i)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function e_e(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}LB.peek=t_e;function LB(t,e,n,r){const a=e_e(n),s=n.enter("strong"),i=n.createTracker(r),o=i.move(a+a);let c=i.move(n.containerPhrasing(t,{after:a,before:o,...i.current()}));const u=c.charCodeAt(0),d=bb(r.before.charCodeAt(r.before.length-1),u,a);d.inside&&(c=df(u)+c.slice(1));const m=c.charCodeAt(c.length-1),h=bb(r.after.charCodeAt(0),m,a);h.inside&&(c=c.slice(0,-1)+df(m));const p=i.move(a+a);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+c+p}function t_e(t,e,n){return n.options.strong||"*"}function n_e(t,e,n,r){return n.safe(t.value,r)}function r_e(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function a_e(t,e,n){const r=(DB(n)+(n.options.ruleSpaces?" ":"")).repeat(r_e(n));return n.options.ruleSpaces?r.slice(0,-1):r}const OB={blockquote:j4e,break:c8,code:A4e,definition:R4e,emphasis:jB,hardBreak:c8,heading:F4e,html:EB,image:NB,imageReference:$B,inlineCode:AB,link:RB,linkReference:MB,list:K4e,listItem:X4e,paragraph:Z4e,root:J4e,strong:LB,text:n_e,thematicBreak:a_e},d8=document.createElement("i");function k6(t){const e="&"+t+";";d8.innerHTML=e;const n=d8.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function PB(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const s_e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function i_e(t){return t.replace(s_e,o_e)}function o_e(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),s=a===120||a===88;return PB(n.slice(s?2:1),s?16:10)}return k6(n)||t}function l_e(){return{enter:{table:c_e,tableData:m8,tableHeader:m8,tableRow:d_e},exit:{codeText:m_e,table:u_e,tableData:rv,tableHeader:rv,tableRow:rv}}}function c_e(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function u_e(t){this.exit(t),this.data.inTable=void 0}function d_e(t){this.enter({type:"tableRow",children:[]},t)}function rv(t){this.exit(t)}function m8(t){this.enter({type:"tableCell",children:[]},t)}function m_e(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,h_e));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function h_e(t,e){return e==="|"?e:t}function p_e(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,a=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:i,tableCell:c,tableRow:o}};function i(p,f,g,x){return u(d(p,g,x),p.align)}function o(p,f,g,x){const y=m(p,g,x),w=u([y]);return w.slice(0,w.indexOf(`
`))}function c(p,f,g,x){const y=g.enter("tableCell"),w=g.enter("phrasing"),v=g.containerPhrasing(p,{...x,before:s,after:s});return w(),y(),v}function u(p,f){return C4e(p,{align:f,alignDelimiters:r,padding:n,stringLength:a})}function d(p,f,g){const x=p.children;let y=-1;const w=[],v=f.enter("table");for(;++y<x.length;)w[y]=m(x[y],f,g);return v(),w}function m(p,f,g){const x=p.children;let y=-1;const w=[],v=f.enter("tableRow");for(;++y<x.length;)w[y]=c(x[y],p,f,g);return v(),w}function h(p,f,g){let x=OB.inlineCode(p,f,g);return g.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function f_e(){return{exit:{taskListCheckValueChecked:h8,taskListCheckValueUnchecked:h8,paragraph:b_e}}}function g_e(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:x_e}}}function h8(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function b_e(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=e.children;let s=-1,i;for(;++s<a.length;){const o=a[s];if(o.type==="paragraph"){i=o;break}}i===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function x_e(t,e,n,r){const a=t.children[0],s=typeof t.checked=="boolean"&&a&&a.type==="paragraph",i="["+(t.checked?"x":" ")+"] ",o=n.createTracker(r);s&&o.move(i);let c=OB.listItem(t,e,n,{...r,...o.current()});return s&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+i}}function y_e(){return[Vke(),p4e(),x4e(),l_e(),f_e()]}function w_e(t){return{extensions:[Kke(),f4e(t),y4e(),p_e(t),g_e()]}}const p8={}.hasOwnProperty;function FB(t){const e={};let n=-1;for(;++n<t.length;)v_e(e,t[n]);return e}function v_e(t,e){let n;for(n in e){const a=(p8.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let i;if(s)for(i in s){p8.call(a,i)||(a[i]=[]);const o=s[i];k_e(a[i],Array.isArray(o)?o:o?[o]:[])}}}function k_e(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ka(t,0,0,r)}const __e={tokenize:N_e,partial:!0},BB={tokenize:$_e,partial:!0},zB={tokenize:A_e,partial:!0},HB={tokenize:I_e,partial:!0},C_e={tokenize:R_e,partial:!0},qB={name:"wwwAutolink",tokenize:T_e,previous:WB},UB={name:"protocolAutolink",tokenize:E_e,previous:GB},xl={name:"emailAutolink",tokenize:j_e,previous:VB},vo={};function S_e(){return{text:vo}}let Ac=48;for(;Ac<123;)vo[Ac]=xl,Ac++,Ac===58?Ac=65:Ac===91&&(Ac=97);vo[43]=xl;vo[45]=xl;vo[46]=xl;vo[95]=xl;vo[72]=[xl,UB];vo[104]=[xl,UB];vo[87]=[xl,qB];vo[119]=[xl,qB];function j_e(t,e,n){const r=this;let a,s;return i;function i(m){return!qk(m)||!VB.call(r,r.previous)||_6(r.events)?n(m):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),o(m))}function o(m){return qk(m)?(t.consume(m),o):m===64?(t.consume(m),c):n(m)}function c(m){return m===46?t.check(C_e,d,u)(m):m===45||m===95||Da(m)?(s=!0,t.consume(m),c):d(m)}function u(m){return t.consume(m),a=!0,c}function d(m){return s&&a&&Ka(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(m)):n(m)}}function T_e(t,e,n){const r=this;return a;function a(i){return i!==87&&i!==119||!WB.call(r,r.previous)||_6(r.events)?n(i):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(__e,t.attempt(BB,t.attempt(zB,s),n),n)(i))}function s(i){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(i)}}function E_e(t,e,n){const r=this;let a="",s=!1;return i;function i(m){return(m===72||m===104)&&GB.call(r,r.previous)&&!_6(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),a+=String.fromCodePoint(m),t.consume(m),o):n(m)}function o(m){if(Ka(m)&&a.length<5)return a+=String.fromCodePoint(m),t.consume(m),o;if(m===58){const h=a.toLowerCase();if(h==="http"||h==="https")return t.consume(m),c}return n(m)}function c(m){return m===47?(t.consume(m),s?u:(s=!0,c)):n(m)}function u(m){return m===null||fb(m)||sr(m)||_u(m)||By(m)?n(m):t.attempt(BB,t.attempt(zB,d),n)(m)}function d(m){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(m)}}function N_e(t,e,n){let r=0;return a;function a(i){return(i===87||i===119)&&r<3?(r++,t.consume(i),a):i===46&&r===3?(t.consume(i),s):n(i)}function s(i){return i===null?n(i):e(i)}}function $_e(t,e,n){let r,a,s;return i;function i(u){return u===46||u===95?t.check(HB,c,o)(u):u===null||sr(u)||_u(u)||u!==45&&By(u)?c(u):(s=!0,t.consume(u),i)}function o(u){return u===95?r=!0:(a=r,r=void 0),t.consume(u),i}function c(u){return a||r||!s?n(u):e(u)}}function A_e(t,e){let n=0,r=0;return a;function a(i){return i===40?(n++,t.consume(i),a):i===41&&r<n?s(i):i===33||i===34||i===38||i===39||i===41||i===42||i===44||i===46||i===58||i===59||i===60||i===63||i===93||i===95||i===126?t.check(HB,e,s)(i):i===null||sr(i)||_u(i)?e(i):(t.consume(i),a)}function s(i){return i===41&&r++,t.consume(i),a}}function I_e(t,e,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(t.consume(o),r):o===38?(t.consume(o),s):o===93?(t.consume(o),a):o===60||o===null||sr(o)||_u(o)?e(o):n(o)}function a(o){return o===null||o===40||o===91||sr(o)||_u(o)?e(o):r(o)}function s(o){return Ka(o)?i(o):n(o)}function i(o){return o===59?(t.consume(o),r):Ka(o)?(t.consume(o),i):n(o)}}function R_e(t,e,n){return r;function r(s){return t.consume(s),a}function a(s){return Da(s)?n(s):e(s)}}function WB(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||sr(t)}function GB(t){return!Ka(t)}function VB(t){return!(t===47||qk(t))}function qk(t){return t===43||t===45||t===46||t===95||Da(t)}function _6(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function ch(t){const e=[];let n=-1,r=0,a=0;for(;++n<t.length;){const s=t.charCodeAt(n);let i="";if(s===37&&Da(t.charCodeAt(n+1))&&Da(t.charCodeAt(n+2)))a=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(i=String.fromCharCode(s));else if(s>55295&&s<57344){const o=t.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(i=String.fromCharCode(s,o),a=1):i=""}else i=String.fromCharCode(s);i&&(e.push(t.slice(r,n),encodeURIComponent(i)),r=n+a+1,i=""),a&&(n+=a,a=0)}return e.join("")+t.slice(r)}const Uk={name:"attention",resolveAll:M_e,tokenize:D_e};function M_e(t,e){let n=-1,r,a,s,i,o,c,u,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const m={...t[r][1].end},h={...t[n][1].start};f8(m,-c),f8(h,c),i={type:c>1?"strongSequence":"emphasisSequence",start:m,end:{...t[r][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},s={type:c>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},a={type:c>1?"strong":"emphasis",start:{...i.start},end:{...o.end}},t[r][1].end={...i.start},t[n][1].start={...o.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=wa(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=wa(u,[["enter",a,e],["enter",i,e],["exit",i,e],["enter",s,e]]),u=wa(u,lh(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=wa(u,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",a,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,u=wa(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,ka(t,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function D_e(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Em(r);let s;return i;function i(c){return s=c,t.enter("attentionSequence"),o(c)}function o(c){if(c===s)return t.consume(c),o;const u=t.exit("attentionSequence"),d=Em(c),m=!d||d===2&&a||n.includes(c),h=!a||a===2&&d||n.includes(r);return u._open=!!(s===42?m:m&&(a||!h)),u._close=!!(s===42?h:h&&(d||!m)),e(c)}}function f8(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const L_e={name:"autolink",tokenize:O_e};function O_e(t,e,n){let r=0;return a;function a(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(p){return Ka(p)?(t.consume(p),i):p===64?n(p):u(p)}function i(p){return p===43||p===45||p===46||Da(p)?(r=1,o(p)):u(p)}function o(p){return p===58?(t.consume(p),r=0,c):(p===43||p===45||p===46||Da(p))&&r++<32?(t.consume(p),o):(r=0,u(p))}function c(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||fb(p)?n(p):(t.consume(p),c)}function u(p){return p===64?(t.consume(p),d):pke(p)?(t.consume(p),u):n(p)}function d(p){return Da(p)?m(p):n(p)}function m(p){return p===46?(t.consume(p),r=0,d):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):h(p)}function h(p){if((p===45||Da(p))&&r++<63){const f=p===45?h:m;return t.consume(p),f}return n(p)}}function Mn(t,e,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let s=0;return i;function i(c){return Pn(c)?(t.enter(n),o(c)):e(c)}function o(c){return Pn(c)&&s++<a?(t.consume(c),o):(t.exit(n),e(c))}}const r0={partial:!0,tokenize:P_e};function P_e(t,e,n){return r;function r(s){return Pn(s)?Mn(t,a,"linePrefix")(s):a(s)}function a(s){return s===null||an(s)?e(s):n(s)}}const KB={continuation:{tokenize:B_e},exit:z_e,name:"blockQuote",tokenize:F_e};function F_e(t,e,n){const r=this;return a;function a(i){if(i===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(i),t.exit("blockQuoteMarker"),s}return n(i)}function s(i){return Pn(i)?(t.enter("blockQuotePrefixWhitespace"),t.consume(i),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(i))}}function B_e(t,e,n){const r=this;return a;function a(i){return Pn(i)?Mn(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i):s(i)}function s(i){return t.attempt(KB,e,n)(i)}}function z_e(t){t.exit("blockQuote")}const YB={name:"characterEscape",tokenize:H_e};function H_e(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),a}function a(s){return gke(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const XB={name:"characterReference",tokenize:q_e};function q_e(t,e,n){const r=this;let a=0,s,i;return o;function o(m){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),c}function c(m){return m===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(m),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,i=Da,d(m))}function u(m){return m===88||m===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(m),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,i=fke,d):(t.enter("characterReferenceValue"),s=7,i=zk,d(m))}function d(m){if(m===59&&a){const h=t.exit("characterReferenceValue");return i===Da&&!k6(r.sliceSerialize(h))?n(m):(t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return i(m)&&a++<s?(t.consume(m),d):n(m)}}const g8={partial:!0,tokenize:W_e},b8={concrete:!0,name:"codeFenced",tokenize:U_e};function U_e(t,e,n){const r=this,a={partial:!0,tokenize:C};let s=0,i=0,o;return c;function c(_){return u(_)}function u(_){const S=r.events[r.events.length-1];return s=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,o=_,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(_)}function d(_){return _===o?(i++,t.consume(_),d):i<3?n(_):(t.exit("codeFencedFenceSequence"),Pn(_)?Mn(t,m,"whitespace")(_):m(_))}function m(_){return _===null||an(_)?(t.exit("codeFencedFence"),r.interrupt?e(_):t.check(g8,g,k)(_)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(_))}function h(_){return _===null||an(_)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),m(_)):Pn(_)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Mn(t,p,"whitespace")(_)):_===96&&_===o?n(_):(t.consume(_),h)}function p(_){return _===null||an(_)?m(_):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),f(_))}function f(_){return _===null||an(_)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(_)):_===96&&_===o?n(_):(t.consume(_),f)}function g(_){return t.attempt(a,k,x)(_)}function x(_){return t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),y}function y(_){return s>0&&Pn(_)?Mn(t,w,"linePrefix",s+1)(_):w(_)}function w(_){return _===null||an(_)?t.check(g8,g,k)(_):(t.enter("codeFlowValue"),v(_))}function v(_){return _===null||an(_)?(t.exit("codeFlowValue"),w(_)):(t.consume(_),v)}function k(_){return t.exit("codeFenced"),e(_)}function C(_,S,T){let N=0;return j;function j(E){return _.enter("lineEnding"),_.consume(E),_.exit("lineEnding"),R}function R(E){return _.enter("codeFencedFence"),Pn(E)?Mn(_,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):I(E)}function I(E){return E===o?(_.enter("codeFencedFenceSequence"),A(E)):T(E)}function A(E){return E===o?(N++,_.consume(E),A):N>=i?(_.exit("codeFencedFenceSequence"),Pn(E)?Mn(_,$,"whitespace")(E):$(E)):T(E)}function $(E){return E===null||an(E)?(_.exit("codeFencedFence"),S(E)):T(E)}}}function W_e(t,e,n){const r=this;return a;function a(i){return i===null?n(i):(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),s)}function s(i){return r.parser.lazy[r.now().line]?n(i):e(i)}}const av={name:"codeIndented",tokenize:V_e},G_e={partial:!0,tokenize:K_e};function V_e(t,e,n){const r=this;return a;function a(u){return t.enter("codeIndented"),Mn(t,s,"linePrefix",5)(u)}function s(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?i(u):n(u)}function i(u){return u===null?c(u):an(u)?t.attempt(G_e,i,c)(u):(t.enter("codeFlowValue"),o(u))}function o(u){return u===null||an(u)?(t.exit("codeFlowValue"),i(u)):(t.consume(u),o)}function c(u){return t.exit("codeIndented"),e(u)}}function K_e(t,e,n){const r=this;return a;function a(i){return r.parser.lazy[r.now().line]?n(i):an(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),a):Mn(t,s,"linePrefix",5)(i)}function s(i){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(i):an(i)?a(i):n(i)}}const Y_e={name:"codeText",previous:Z_e,resolve:X_e,tokenize:Q_e};function X_e(t){let e=t.length-4,n=3,r,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)a===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(a=r):(r===e||t[r][1].type==="lineEnding")&&(t[a][1].type="codeTextData",r!==a+2&&(t[a][1].end=t[r-1][1].end,t.splice(a+2,r-a-2),e-=r-a-2,r=a+2),a=void 0);return t}function Z_e(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Q_e(t,e,n){let r=0,a,s;return i;function i(m){return t.enter("codeText"),t.enter("codeTextSequence"),o(m)}function o(m){return m===96?(t.consume(m),r++,o):(t.exit("codeTextSequence"),c(m))}function c(m){return m===null?n(m):m===32?(t.enter("space"),t.consume(m),t.exit("space"),c):m===96?(s=t.enter("codeTextSequence"),a=0,d(m)):an(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),c):(t.enter("codeTextData"),u(m))}function u(m){return m===null||m===32||m===96||an(m)?(t.exit("codeTextData"),c(m)):(t.consume(m),u)}function d(m){return m===96?(t.consume(m),a++,d):a===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(m)):(s.type="codeTextData",u(m))}}class J_e{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const a=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&kh(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),kh(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),kh(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);kh(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);kh(this.left,n.reverse())}}}function kh(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function ZB(t){const e={};let n=-1,r,a,s,i,o,c,u;const d=new J_e(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,e5e(d,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,a=void 0;s--;)if(i=d.get(s),i[1].type==="lineEnding"||i[1].type==="lineEndingBlank")i[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),i[1].type="lineEnding",a=s);else if(!(i[1].type==="linePrefix"||i[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},o=d.slice(a,n),o.unshift(r),d.splice(a,n-a+1,o))}}return ka(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function e5e(t,e){const n=t.get(e)[1],r=t.get(e)[2];let a=e-1;const s=[];let i=n._tokenizer;i||(i=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(i._contentTypeTextTrailing=!0));const o=i.events,c=[],u={};let d,m,h=-1,p=n,f=0,g=0;const x=[g];for(;p;){for(;t.get(++a)[1]!==p;);s.push(a),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),m&&i.defineSkip(p.start),p._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(d),p._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),m=p,p=p.next}for(p=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(g=h+1,x.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(i.events=[],p?(p._tokenizer=void 0,p.previous=void 0):x.pop(),h=x.length;h--;){const y=o.slice(x[h],x[h+1]),w=s.pop();c.push([w,w+y.length-1]),t.splice(w,2,y)}for(c.reverse(),h=-1;++h<c.length;)u[f+c[h][0]]=f+c[h][1],f+=c[h][1]-c[h][0]-1;return u}const t5e={resolve:r5e,tokenize:a5e},n5e={partial:!0,tokenize:s5e};function r5e(t){return ZB(t),t}function a5e(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(o)}function a(o){return o===null?s(o):an(o)?t.check(n5e,i,s)(o):(t.consume(o),a)}function s(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function i(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function s5e(t,e,n){const r=this;return a;function a(i){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),Mn(t,s,"linePrefix")}function s(i){if(i===null||an(i))return n(i);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(i):t.interrupt(r.parser.constructs.flow,n,e)(i)}}function QB(t,e,n,r,a,s,i,o,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return m;function m(y){return y===60?(t.enter(r),t.enter(a),t.enter(s),t.consume(y),t.exit(s),h):y===null||y===32||y===41||fb(y)?n(y):(t.enter(r),t.enter(i),t.enter(o),t.enter("chunkString",{contentType:"string"}),g(y))}function h(y){return y===62?(t.enter(s),t.consume(y),t.exit(s),t.exit(a),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(t.exit("chunkString"),t.exit(o),h(y)):y===null||y===60||an(y)?n(y):(t.consume(y),y===92?f:p)}function f(y){return y===60||y===62||y===92?(t.consume(y),p):p(y)}function g(y){return!d&&(y===null||y===41||sr(y))?(t.exit("chunkString"),t.exit(o),t.exit(i),t.exit(r),e(y)):d<u&&y===40?(t.consume(y),d++,g):y===41?(t.consume(y),d--,g):y===null||y===32||y===40||fb(y)?n(y):(t.consume(y),y===92?x:g)}function x(y){return y===40||y===41||y===92?(t.consume(y),g):g(y)}}function JB(t,e,n,r,a,s){const i=this;let o=0,c;return u;function u(p){return t.enter(r),t.enter(a),t.consume(p),t.exit(a),t.enter(s),d}function d(p){return o>999||p===null||p===91||p===93&&!c||p===94&&!o&&"_hiddenFootnoteSupport"in i.parser.constructs?n(p):p===93?(t.exit(s),t.enter(a),t.consume(p),t.exit(a),t.exit(r),e):an(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),m(p))}function m(p){return p===null||p===91||p===93||an(p)||o++>999?(t.exit("chunkString"),d(p)):(t.consume(p),c||(c=!Pn(p)),p===92?h:m)}function h(p){return p===91||p===92||p===93?(t.consume(p),o++,m):m(p)}}function ez(t,e,n,r,a,s){let i;return o;function o(h){return h===34||h===39||h===40?(t.enter(r),t.enter(a),t.consume(h),t.exit(a),i=h===40?41:h,c):n(h)}function c(h){return h===i?(t.enter(a),t.consume(h),t.exit(a),t.exit(r),e):(t.enter(s),u(h))}function u(h){return h===i?(t.exit(s),c(i)):h===null?n(h):an(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),Mn(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===i||h===null||an(h)?(t.exit("chunkString"),u(h)):(t.consume(h),h===92?m:d)}function m(h){return h===i||h===92?(t.consume(h),d):d(h)}}function jp(t,e){let n;return r;function r(a){return an(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,r):Pn(a)?Mn(t,r,n?"linePrefix":"lineSuffix")(a):e(a)}}const i5e={name:"definition",tokenize:l5e},o5e={partial:!0,tokenize:c5e};function l5e(t,e,n){const r=this;let a;return s;function s(p){return t.enter("definition"),i(p)}function i(p){return JB.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return a=Si(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),c):n(p)}function c(p){return sr(p)?jp(t,u)(p):u(p)}function u(p){return QB(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return t.attempt(o5e,m,m)(p)}function m(p){return Pn(p)?Mn(t,h,"whitespace")(p):h(p)}function h(p){return p===null||an(p)?(t.exit("definition"),r.parser.defined.push(a),e(p)):n(p)}}function c5e(t,e,n){return r;function r(o){return sr(o)?jp(t,a)(o):n(o)}function a(o){return ez(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return Pn(o)?Mn(t,i,"whitespace")(o):i(o)}function i(o){return o===null||an(o)?e(o):n(o)}}const u5e={name:"hardBreakEscape",tokenize:d5e};function d5e(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),a}function a(s){return an(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const m5e={name:"headingAtx",resolve:h5e,tokenize:p5e};function h5e(t,e){let n=t.length-2,r=3,a,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ka(t,r,n-r+1,[["enter",a,e],["enter",s,e],["exit",s,e],["exit",a,e]])),t}function p5e(t,e,n){let r=0;return a;function a(d){return t.enter("atxHeading"),s(d)}function s(d){return t.enter("atxHeadingSequence"),i(d)}function i(d){return d===35&&r++<6?(t.consume(d),i):d===null||sr(d)?(t.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(t.enter("atxHeadingSequence"),c(d)):d===null||an(d)?(t.exit("atxHeading"),e(d)):Pn(d)?Mn(t,o,"whitespace")(d):(t.enter("atxHeadingText"),u(d))}function c(d){return d===35?(t.consume(d),c):(t.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||sr(d)?(t.exit("atxHeadingText"),o(d)):(t.consume(d),u)}}const f5e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],x8=["pre","script","style","textarea"],g5e={concrete:!0,name:"htmlFlow",resolveTo:y5e,tokenize:w5e},b5e={partial:!0,tokenize:k5e},x5e={partial:!0,tokenize:v5e};function y5e(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function w5e(t,e,n){const r=this;let a,s,i,o,c;return u;function u(D){return d(D)}function d(D){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(D),m}function m(D){return D===33?(t.consume(D),h):D===47?(t.consume(D),s=!0,g):D===63?(t.consume(D),a=3,r.interrupt?e:O):Ka(D)?(t.consume(D),i=String.fromCharCode(D),x):n(D)}function h(D){return D===45?(t.consume(D),a=2,p):D===91?(t.consume(D),a=5,o=0,f):Ka(D)?(t.consume(D),a=4,r.interrupt?e:O):n(D)}function p(D){return D===45?(t.consume(D),r.interrupt?e:O):n(D)}function f(D){const U="CDATA[";return D===U.charCodeAt(o++)?(t.consume(D),o===U.length?r.interrupt?e:I:f):n(D)}function g(D){return Ka(D)?(t.consume(D),i=String.fromCharCode(D),x):n(D)}function x(D){if(D===null||D===47||D===62||sr(D)){const U=D===47,B=i.toLowerCase();return!U&&!s&&x8.includes(B)?(a=1,r.interrupt?e(D):I(D)):f5e.includes(i.toLowerCase())?(a=6,U?(t.consume(D),y):r.interrupt?e(D):I(D)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(D):s?w(D):v(D))}return D===45||Da(D)?(t.consume(D),i+=String.fromCharCode(D),x):n(D)}function y(D){return D===62?(t.consume(D),r.interrupt?e:I):n(D)}function w(D){return Pn(D)?(t.consume(D),w):j(D)}function v(D){return D===47?(t.consume(D),j):D===58||D===95||Ka(D)?(t.consume(D),k):Pn(D)?(t.consume(D),v):j(D)}function k(D){return D===45||D===46||D===58||D===95||Da(D)?(t.consume(D),k):C(D)}function C(D){return D===61?(t.consume(D),_):Pn(D)?(t.consume(D),C):v(D)}function _(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(t.consume(D),c=D,S):Pn(D)?(t.consume(D),_):T(D)}function S(D){return D===c?(t.consume(D),c=null,N):D===null||an(D)?n(D):(t.consume(D),S)}function T(D){return D===null||D===34||D===39||D===47||D===60||D===61||D===62||D===96||sr(D)?C(D):(t.consume(D),T)}function N(D){return D===47||D===62||Pn(D)?v(D):n(D)}function j(D){return D===62?(t.consume(D),R):n(D)}function R(D){return D===null||an(D)?I(D):Pn(D)?(t.consume(D),R):n(D)}function I(D){return D===45&&a===2?(t.consume(D),M):D===60&&a===1?(t.consume(D),F):D===62&&a===4?(t.consume(D),G):D===63&&a===3?(t.consume(D),O):D===93&&a===5?(t.consume(D),Y):an(D)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(b5e,H,A)(D)):D===null||an(D)?(t.exit("htmlFlowData"),A(D)):(t.consume(D),I)}function A(D){return t.check(x5e,$,H)(D)}function $(D){return t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),E}function E(D){return D===null||an(D)?A(D):(t.enter("htmlFlowData"),I(D))}function M(D){return D===45?(t.consume(D),O):I(D)}function F(D){return D===47?(t.consume(D),i="",L):I(D)}function L(D){if(D===62){const U=i.toLowerCase();return x8.includes(U)?(t.consume(D),G):I(D)}return Ka(D)&&i.length<8?(t.consume(D),i+=String.fromCharCode(D),L):I(D)}function Y(D){return D===93?(t.consume(D),O):I(D)}function O(D){return D===62?(t.consume(D),G):D===45&&a===2?(t.consume(D),O):I(D)}function G(D){return D===null||an(D)?(t.exit("htmlFlowData"),H(D)):(t.consume(D),G)}function H(D){return t.exit("htmlFlow"),e(D)}}function v5e(t,e,n){const r=this;return a;function a(i){return an(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),s):n(i)}function s(i){return r.parser.lazy[r.now().line]?n(i):e(i)}}function k5e(t,e,n){return r;function r(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(r0,e,n)}}const _5e={name:"htmlText",tokenize:C5e};function C5e(t,e,n){const r=this;let a,s,i;return o;function o(O){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(O),c}function c(O){return O===33?(t.consume(O),u):O===47?(t.consume(O),C):O===63?(t.consume(O),v):Ka(O)?(t.consume(O),T):n(O)}function u(O){return O===45?(t.consume(O),d):O===91?(t.consume(O),s=0,f):Ka(O)?(t.consume(O),w):n(O)}function d(O){return O===45?(t.consume(O),p):n(O)}function m(O){return O===null?n(O):O===45?(t.consume(O),h):an(O)?(i=m,F(O)):(t.consume(O),m)}function h(O){return O===45?(t.consume(O),p):m(O)}function p(O){return O===62?M(O):O===45?h(O):m(O)}function f(O){const G="CDATA[";return O===G.charCodeAt(s++)?(t.consume(O),s===G.length?g:f):n(O)}function g(O){return O===null?n(O):O===93?(t.consume(O),x):an(O)?(i=g,F(O)):(t.consume(O),g)}function x(O){return O===93?(t.consume(O),y):g(O)}function y(O){return O===62?M(O):O===93?(t.consume(O),y):g(O)}function w(O){return O===null||O===62?M(O):an(O)?(i=w,F(O)):(t.consume(O),w)}function v(O){return O===null?n(O):O===63?(t.consume(O),k):an(O)?(i=v,F(O)):(t.consume(O),v)}function k(O){return O===62?M(O):v(O)}function C(O){return Ka(O)?(t.consume(O),_):n(O)}function _(O){return O===45||Da(O)?(t.consume(O),_):S(O)}function S(O){return an(O)?(i=S,F(O)):Pn(O)?(t.consume(O),S):M(O)}function T(O){return O===45||Da(O)?(t.consume(O),T):O===47||O===62||sr(O)?N(O):n(O)}function N(O){return O===47?(t.consume(O),M):O===58||O===95||Ka(O)?(t.consume(O),j):an(O)?(i=N,F(O)):Pn(O)?(t.consume(O),N):M(O)}function j(O){return O===45||O===46||O===58||O===95||Da(O)?(t.consume(O),j):R(O)}function R(O){return O===61?(t.consume(O),I):an(O)?(i=R,F(O)):Pn(O)?(t.consume(O),R):N(O)}function I(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(t.consume(O),a=O,A):an(O)?(i=I,F(O)):Pn(O)?(t.consume(O),I):(t.consume(O),$)}function A(O){return O===a?(t.consume(O),a=void 0,E):O===null?n(O):an(O)?(i=A,F(O)):(t.consume(O),A)}function $(O){return O===null||O===34||O===39||O===60||O===61||O===96?n(O):O===47||O===62||sr(O)?N(O):(t.consume(O),$)}function E(O){return O===47||O===62||sr(O)?N(O):n(O)}function M(O){return O===62?(t.consume(O),t.exit("htmlTextData"),t.exit("htmlText"),e):n(O)}function F(O){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),L}function L(O){return Pn(O)?Mn(t,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):Y(O)}function Y(O){return t.enter("htmlTextData"),i(O)}}const C6={name:"labelEnd",resolveAll:E5e,resolveTo:N5e,tokenize:$5e},S5e={tokenize:A5e},j5e={tokenize:I5e},T5e={tokenize:R5e};function E5e(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",e+=a}}return t.length!==n.length&&ka(t,0,t.length,n),t}function N5e(t,e){let n=t.length,r=0,a,s,i,o;for(;n--;)if(a=t[n][1],s){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(i){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(s=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(i=n);const c={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[s][1].start},end:{...t[i][1].end}},d={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[i-2][1].start}};return o=[["enter",c,e],["enter",u,e]],o=wa(o,t.slice(s+1,s+r+3)),o=wa(o,[["enter",d,e]]),o=wa(o,lh(e.parser.constructs.insideSpan.null,t.slice(s+r+4,i-3),e)),o=wa(o,[["exit",d,e],t[i-2],t[i-1],["exit",u,e]]),o=wa(o,t.slice(i+1)),o=wa(o,[["exit",c,e]]),ka(t,s,t.length,o),t}function $5e(t,e,n){const r=this;let a=r.events.length,s,i;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){s=r.events[a][1];break}return o;function o(h){return s?s._inactive?m(h):(i=r.parser.defined.includes(Si(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),c):n(h)}function c(h){return h===40?t.attempt(S5e,d,i?d:m)(h):h===91?t.attempt(j5e,d,i?u:m)(h):i?d(h):m(h)}function u(h){return t.attempt(T5e,d,m)(h)}function d(h){return e(h)}function m(h){return s._balanced=!0,n(h)}}function A5e(t,e,n){return r;function r(m){return t.enter("resource"),t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),a}function a(m){return sr(m)?jp(t,s)(m):s(m)}function s(m){return m===41?d(m):QB(t,i,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function i(m){return sr(m)?jp(t,c)(m):d(m)}function o(m){return n(m)}function c(m){return m===34||m===39||m===40?ez(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):d(m)}function u(m){return sr(m)?jp(t,d)(m):d(m)}function d(m){return m===41?(t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),t.exit("resource"),e):n(m)}}function I5e(t,e,n){const r=this;return a;function a(o){return JB.call(r,t,s,i,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(Si(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function i(o){return n(o)}}function R5e(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),a}function a(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const M5e={name:"labelStartImage",resolveAll:C6.resolveAll,tokenize:D5e};function D5e(t,e,n){const r=this;return a;function a(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),s}function s(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),i):n(o)}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const L5e={name:"labelStartLink",resolveAll:C6.resolveAll,tokenize:O5e};function O5e(t,e,n){const r=this;return a;function a(i){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(i),t.exit("labelMarker"),t.exit("labelLink"),s}function s(i){return i===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(i):e(i)}}const sv={name:"lineEnding",tokenize:P5e};function P5e(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Mn(t,e,"linePrefix")}}const Kg={name:"thematicBreak",tokenize:F5e};function F5e(t,e,n){let r=0,a;return s;function s(u){return t.enter("thematicBreak"),i(u)}function i(u){return a=u,o(u)}function o(u){return u===a?(t.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||an(u))?(t.exit("thematicBreak"),e(u)):n(u)}function c(u){return u===a?(t.consume(u),r++,c):(t.exit("thematicBreakSequence"),Pn(u)?Mn(t,o,"whitespace")(u):o(u))}}const us={continuation:{tokenize:q5e},exit:W5e,name:"list",tokenize:H5e},B5e={partial:!0,tokenize:G5e},z5e={partial:!0,tokenize:U5e};function H5e(t,e,n){const r=this,a=r.events[r.events.length-1];let s=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,i=0;return o;function o(p){const f=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(f==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:zk(p)){if(r.containerState.type||(r.containerState.type=f,t.enter(f,{_container:!0})),f==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(Kg,n,u)(p):u(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(p)}return n(p)}function c(p){return zk(p)&&++i<10?(t.consume(p),c):(!r.interrupt||i<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):n(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(r0,r.interrupt?n:d,t.attempt(B5e,h,m))}function d(p){return r.containerState.initialBlankLine=!0,s++,h(p)}function m(p){return Pn(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function q5e(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(r0,a,s);function a(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Mn(t,e,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!Pn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(z5e,e,i)(o))}function i(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Mn(t,t.attempt(us,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function U5e(t,e,n){const r=this;return Mn(t,a,"listItemIndent",r.containerState.size+1);function a(s){const i=r.events[r.events.length-1];return i&&i[1].type==="listItemIndent"&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?e(s):n(s)}}function W5e(t){t.exit(this.containerState.type)}function G5e(t,e,n){const r=this;return Mn(t,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(s){const i=r.events[r.events.length-1];return!Pn(s)&&i&&i[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const y8={name:"setextUnderline",resolveTo:V5e,tokenize:K5e};function V5e(t,e){let n=t.length,r,a,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const i={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",s?(t.splice(a,0,["enter",i,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=i,t.push(["exit",i,e]),t}function K5e(t,e,n){const r=this;let a;return s;function s(u){let d=r.events.length,m;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){m=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(t.enter("setextHeadingLine"),a=u,i(u)):n(u)}function i(u){return t.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===a?(t.consume(u),o):(t.exit("setextHeadingLineSequence"),Pn(u)?Mn(t,c,"lineSuffix")(u):c(u))}function c(u){return u===null||an(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const Y5e={tokenize:rCe,partial:!0};function X5e(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:eCe,continuation:{tokenize:tCe},exit:nCe}},text:{91:{name:"gfmFootnoteCall",tokenize:J5e},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Z5e,resolveTo:Q5e}}}}function Z5e(t,e,n){const r=this;let a=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i;for(;a--;){const c=r.events[a][1];if(c.type==="labelImage"){i=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return o;function o(c){if(!i||!i._balanced)return n(c);const u=Si(r.sliceSerialize({start:i.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(c):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),e(c))}}function Q5e(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},t[t.length-1][1].start)},i={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",a,e],["exit",a,e],["enter",s,e],["enter",i,e],["exit",i,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...o),t}function J5e(t,e,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,i;return o;function o(m){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),c}function c(m){return m!==94?n(m):(t.enter("gfmFootnoteCallMarker"),t.consume(m),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(m){if(s>999||m===93&&!i||m===null||m===91||sr(m))return n(m);if(m===93){t.exit("chunkString");const h=t.exit("gfmFootnoteCallString");return a.includes(Si(r.sliceSerialize(h)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(m),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(m)}return sr(m)||(i=!0),s++,t.consume(m),m===92?d:u}function d(m){return m===91||m===92||m===93?(t.consume(m),s++,u):u(m)}}function eCe(t,e,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,i=0,o;return c;function c(f){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(f),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(f){return f===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(f),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",d):n(f)}function d(f){if(i>999||f===93&&!o||f===null||f===91||sr(f))return n(f);if(f===93){t.exit("chunkString");const g=t.exit("gfmFootnoteDefinitionLabelString");return s=Si(r.sliceSerialize(g)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(f),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),h}return sr(f)||(o=!0),i++,t.consume(f),f===92?m:d}function m(f){return f===91||f===92||f===93?(t.consume(f),i++,d):d(f)}function h(f){return f===58?(t.enter("definitionMarker"),t.consume(f),t.exit("definitionMarker"),a.includes(s)||a.push(s),Mn(t,p,"gfmFootnoteDefinitionWhitespace")):n(f)}function p(f){return e(f)}}function tCe(t,e,n){return t.check(r0,e,t.attempt(Y5e,e,n))}function nCe(t){t.exit("gfmFootnoteDefinition")}function rCe(t,e,n){const r=this;return Mn(t,a,"gfmFootnoteDefinitionIndent",5);function a(s){const i=r.events[r.events.length-1];return i&&i[1].type==="gfmFootnoteDefinitionIndent"&&i[2].sliceSerialize(i[1],!0).length===4?e(s):n(s)}}function aCe(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:a};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function a(i,o){let c=-1;for(;++c<i.length;)if(i[c][0]==="enter"&&i[c][1].type==="strikethroughSequenceTemporary"&&i[c][1]._close){let u=c;for(;u--;)if(i[u][0]==="exit"&&i[u][1].type==="strikethroughSequenceTemporary"&&i[u][1]._open&&i[c][1].end.offset-i[c][1].start.offset===i[u][1].end.offset-i[u][1].start.offset){i[c][1].type="strikethroughSequence",i[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},i[u][1].start),end:Object.assign({},i[c][1].end)},m={type:"strikethroughText",start:Object.assign({},i[u][1].end),end:Object.assign({},i[c][1].start)},h=[["enter",d,o],["enter",i[u][1],o],["exit",i[u][1],o],["enter",m,o]],p=o.parser.constructs.insideSpan.null;p&&ka(h,h.length,0,lh(p,i.slice(u+1,c),o)),ka(h,h.length,0,[["exit",m,o],["enter",i[c][1],o],["exit",i[c][1],o],["exit",d,o]]),ka(i,u-1,c-u+3,h),c=u+h.length-2;break}}for(c=-1;++c<i.length;)i[c][1].type==="strikethroughSequenceTemporary"&&(i[c][1].type="data");return i}function s(i,o,c){const u=this.previous,d=this.events;let m=0;return h;function h(f){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(f):(i.enter("strikethroughSequenceTemporary"),p(f))}function p(f){const g=Em(u);if(f===126)return m>1?c(f):(i.consume(f),m++,p);if(m<2&&!n)return c(f);const x=i.exit("strikethroughSequenceTemporary"),y=Em(f);return x._open=!y||y===2&&!!g,x._close=!g||g===2&&!!y,o(f)}}}class sCe{constructor(){this.map=[]}add(e,n,r){iCe(this,e,n,r)}consume(e){if(this.map.sort(function(s,i){return s[0]-i[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let a=r.pop();for(;a;){for(const s of a)e.push(s);a=r.pop()}this.map.length=0}}function iCe(t,e,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<t.map.length;){if(t.map[a][0]===e){t.map[a][1]+=n,t.map[a][2].push(...r);return}a+=1}t.map.push([e,n,r])}}function oCe(t,e){let n=!1;const r=[];for(;e<t.length;){const a=t[e];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function lCe(){return{flow:{null:{name:"table",tokenize:cCe,resolveAll:uCe}}}}function cCe(t,e,n){const r=this;let a=0,s=0,i;return o;function o(j){let R=r.events.length-1;for(;R>-1;){const $=r.events[R][1].type;if($==="lineEnding"||$==="linePrefix")R--;else break}const I=R>-1?r.events[R][1].type:null,A=I==="tableHead"||I==="tableRow"?_:c;return A===_&&r.parser.lazy[r.now().line]?n(j):A(j)}function c(j){return t.enter("tableHead"),t.enter("tableRow"),u(j)}function u(j){return j===124||(i=!0,s+=1),d(j)}function d(j){return j===null?n(j):an(j)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),p):n(j):Pn(j)?Mn(t,d,"whitespace")(j):(s+=1,i&&(i=!1,a+=1),j===124?(t.enter("tableCellDivider"),t.consume(j),t.exit("tableCellDivider"),i=!0,d):(t.enter("data"),m(j)))}function m(j){return j===null||j===124||sr(j)?(t.exit("data"),d(j)):(t.consume(j),j===92?h:m)}function h(j){return j===92||j===124?(t.consume(j),m):m(j)}function p(j){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(j):(t.enter("tableDelimiterRow"),i=!1,Pn(j)?Mn(t,f,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):f(j))}function f(j){return j===45||j===58?x(j):j===124?(i=!0,t.enter("tableCellDivider"),t.consume(j),t.exit("tableCellDivider"),g):C(j)}function g(j){return Pn(j)?Mn(t,x,"whitespace")(j):x(j)}function x(j){return j===58?(s+=1,i=!0,t.enter("tableDelimiterMarker"),t.consume(j),t.exit("tableDelimiterMarker"),y):j===45?(s+=1,y(j)):j===null||an(j)?k(j):C(j)}function y(j){return j===45?(t.enter("tableDelimiterFiller"),w(j)):C(j)}function w(j){return j===45?(t.consume(j),w):j===58?(i=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(j),t.exit("tableDelimiterMarker"),v):(t.exit("tableDelimiterFiller"),v(j))}function v(j){return Pn(j)?Mn(t,k,"whitespace")(j):k(j)}function k(j){return j===124?f(j):j===null||an(j)?!i||a!==s?C(j):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(j)):C(j)}function C(j){return n(j)}function _(j){return t.enter("tableRow"),S(j)}function S(j){return j===124?(t.enter("tableCellDivider"),t.consume(j),t.exit("tableCellDivider"),S):j===null||an(j)?(t.exit("tableRow"),e(j)):Pn(j)?Mn(t,S,"whitespace")(j):(t.enter("data"),T(j))}function T(j){return j===null||j===124||sr(j)?(t.exit("data"),S(j)):(t.consume(j),j===92?N:T)}function N(j){return j===92||j===124?(t.consume(j),T):T(j)}}function uCe(t,e){let n=-1,r=!0,a=0,s=[0,0,0,0],i=[0,0,0,0],o=!1,c=0,u,d,m;const h=new sCe;for(;++n<t.length;){const p=t[n],f=p[1];p[0]==="enter"?f.type==="tableHead"?(o=!1,c!==0&&(w8(h,e,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},f.start),end:Object.assign({},f.end)},h.add(n,0,[["enter",u,e]])):f.type==="tableRow"||f.type==="tableDelimiterRow"?(r=!0,m=void 0,s=[0,0,0,0],i=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},f.start),end:Object.assign({},f.end)},h.add(n,0,[["enter",d,e]])),a=f.type==="tableDelimiterRow"?2:d?3:1):a&&(f.type==="data"||f.type==="tableDelimiterMarker"||f.type==="tableDelimiterFiller")?(r=!1,i[2]===0&&(s[1]!==0&&(i[0]=i[1],m=sg(h,e,s,a,void 0,m),s=[0,0,0,0]),i[2]=n)):f.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(i[0]=i[1],m=sg(h,e,s,a,void 0,m)),s=i,i=[s[1],n,0,0])):f.type==="tableHead"?(o=!0,c=n):f.type==="tableRow"||f.type==="tableDelimiterRow"?(c=n,s[1]!==0?(i[0]=i[1],m=sg(h,e,s,a,n,m)):i[1]!==0&&(m=sg(h,e,i,a,n,m)),a=0):a&&(f.type==="data"||f.type==="tableDelimiterMarker"||f.type==="tableDelimiterFiller")&&(i[3]=n)}for(c!==0&&w8(h,e,c,u,d),h.consume(e.events),n=-1;++n<e.events.length;){const p=e.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=oCe(e.events,n))}return t}function sg(t,e,n,r,a,s){const i=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},Cd(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const c=Cd(e.events,n[1]);if(s={type:i,start:Object.assign({},c),end:Object.assign({},c)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const u=Cd(e.events,n[2]),d=Cd(e.events,n[3]),m={type:o,start:Object.assign({},u),end:Object.assign({},d)};if(t.add(n[2],0,[["enter",m,e]]),r!==2){const h=e.events[n[2]],p=e.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const f=n[2]+1,g=n[3]-n[2]-1;t.add(f,g,[])}}t.add(n[3]+1,0,[["exit",m,e]])}return a!==void 0&&(s.end=Object.assign({},Cd(e.events,a)),t.add(a,0,[["exit",s,e]]),s=void 0),s}function w8(t,e,n,r,a){const s=[],i=Cd(e.events,n);a&&(a.end=Object.assign({},i),s.push(["exit",a,e])),r.end=Object.assign({},i),s.push(["exit",r,e]),t.add(n+1,0,s)}function Cd(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const dCe={name:"tasklistCheck",tokenize:hCe};function mCe(){return{text:{91:dCe}}}function hCe(t,e,n){const r=this;return a;function a(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(c),t.exit("taskListCheckMarker"),s)}function s(c){return sr(c)?(t.enter("taskListCheckValueUnchecked"),t.consume(c),t.exit("taskListCheckValueUnchecked"),i):c===88||c===120?(t.enter("taskListCheckValueChecked"),t.consume(c),t.exit("taskListCheckValueChecked"),i):n(c)}function i(c){return c===93?(t.enter("taskListCheckMarker"),t.consume(c),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),o):n(c)}function o(c){return an(c)?e(c):Pn(c)?t.check({tokenize:pCe},e,n)(c):n(c)}}function pCe(t,e,n){return Mn(t,r,"whitespace");function r(a){return a===null?n(a):e(a)}}function fCe(t){return FB([S_e(),X5e(),aCe(t),lCe(),mCe()])}const gCe={};function S6(t){const e=this,n=t||gCe,r=e.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),i=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(fCe(n)),s.push(y_e()),i.push(w_e(n))}function bCe(){return{enter:{mathFlow:t,mathFlowFenceMeta:e,mathText:s},exit:{mathFlow:a,mathFlowFence:r,mathFlowFenceMeta:n,mathFlowValue:o,mathText:i,mathTextData:o}};function t(c){const u={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[u]}},c)}function e(){this.buffer()}function n(){const c=this.resume(),u=this.stack[this.stack.length-1];u.type,u.meta=c}function r(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function a(c){const u=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),d=this.stack[this.stack.length-1];d.type,this.exit(c),d.value=u;const m=d.data.hChildren[0];m.type,m.tagName,m.children.push({type:"text",value:u}),this.data.mathFlowInside=void 0}function s(c){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},c),this.buffer()}function i(c){const u=this.resume(),d=this.stack[this.stack.length-1];d.type,this.exit(c),d.value=u,d.data.hChildren.push({type:"text",value:u})}function o(c){this.config.enter.data.call(this,c),this.config.exit.data.call(this,c)}}function xCe(t){let e=(t||{}).singleDollarTextMath;return e==null&&(e=!0),r.peek=a,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:r}};function n(s,i,o,c){const u=s.value||"",d=o.createTracker(c),m="$".repeat(Math.max(SB(u,"$")+1,2)),h=o.enter("mathFlow");let p=d.move(m);if(s.meta){const f=o.enter("mathFlowMeta");p+=d.move(o.safe(s.meta,{after:`
`,before:p,encode:["$"],...d.current()})),f()}return p+=d.move(`
`),u&&(p+=d.move(u+`
`)),p+=d.move(m),h(),p}function r(s,i,o){let c=s.value||"",u=1;for(e||u++;new RegExp("(^|[^$])"+"\\$".repeat(u)+"([^$]|$)").test(c);)u++;const d="$".repeat(u);/[^ \r\n]/.test(c)&&(/^[ \r\n]/.test(c)&&/[ \r\n]$/.test(c)||/^\$|\$$/.test(c))&&(c=" "+c+" ");let m=-1;for(;++m<o.unsafe.length;){const h=o.unsafe[m];if(!h.atBreak)continue;const p=o.compilePattern(h);let f;for(;f=p.exec(c);){let g=f.index;c.codePointAt(g)===10&&c.codePointAt(g-1)===13&&g--,c=c.slice(0,g)+" "+c.slice(f.index+1)}}return d+c+d}function a(){return"$"}}const yCe={tokenize:wCe,concrete:!0,name:"mathFlow"},v8={tokenize:vCe,partial:!0};function wCe(t,e,n){const r=this,a=r.events[r.events.length-1],s=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0;let i=0;return o;function o(w){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),c(w)}function c(w){return w===36?(t.consume(w),i++,c):i<2?n(w):(t.exit("mathFlowFenceSequence"),Mn(t,u,"whitespace")(w))}function u(w){return w===null||an(w)?m(w):(t.enter("mathFlowFenceMeta"),t.enter("chunkString",{contentType:"string"}),d(w))}function d(w){return w===null||an(w)?(t.exit("chunkString"),t.exit("mathFlowFenceMeta"),m(w)):w===36?n(w):(t.consume(w),d)}function m(w){return t.exit("mathFlowFence"),r.interrupt?e(w):t.attempt(v8,h,x)(w)}function h(w){return t.attempt({tokenize:y,partial:!0},x,p)(w)}function p(w){return(s?Mn(t,f,"linePrefix",s+1):f)(w)}function f(w){return w===null?x(w):an(w)?t.attempt(v8,h,x)(w):(t.enter("mathFlowValue"),g(w))}function g(w){return w===null||an(w)?(t.exit("mathFlowValue"),f(w)):(t.consume(w),g)}function x(w){return t.exit("mathFlow"),e(w)}function y(w,v,k){let C=0;return Mn(w,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function _(N){return w.enter("mathFlowFence"),w.enter("mathFlowFenceSequence"),S(N)}function S(N){return N===36?(C++,w.consume(N),S):C<i?k(N):(w.exit("mathFlowFenceSequence"),Mn(w,T,"whitespace")(N))}function T(N){return N===null||an(N)?(w.exit("mathFlowFence"),v(N)):k(N)}}}function vCe(t,e,n){const r=this;return a;function a(i){return i===null?e(i):(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),s)}function s(i){return r.parser.lazy[r.now().line]?n(i):e(i)}}function kCe(t){let n=(t||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:r,resolve:_Ce,previous:CCe,name:"mathText"};function r(a,s,i){let o=0,c,u;return d;function d(g){return a.enter("mathText"),a.enter("mathTextSequence"),m(g)}function m(g){return g===36?(a.consume(g),o++,m):o<2&&!n?i(g):(a.exit("mathTextSequence"),h(g))}function h(g){return g===null?i(g):g===36?(u=a.enter("mathTextSequence"),c=0,f(g)):g===32?(a.enter("space"),a.consume(g),a.exit("space"),h):an(g)?(a.enter("lineEnding"),a.consume(g),a.exit("lineEnding"),h):(a.enter("mathTextData"),p(g))}function p(g){return g===null||g===32||g===36||an(g)?(a.exit("mathTextData"),h(g)):(a.consume(g),p)}function f(g){return g===36?(a.consume(g),c++,f):c===o?(a.exit("mathTextSequence"),a.exit("mathText"),s(g)):(u.type="mathTextData",p(g))}}}function _Ce(t){let e=t.length-4,n=3,r,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[n][1].type="mathTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)a===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(a=r):(r===e||t[r][1].type==="lineEnding")&&(t[a][1].type="mathTextData",r!==a+2&&(t[a][1].end=t[r-1][1].end,t.splice(a+2,r-a-2),e-=r-a-2,r=a+2),a=void 0);return t}function CCe(t){return t!==36||this.events[this.events.length-1][1].type==="characterEscape"}function SCe(t){return{flow:{36:yCe},text:{36:kCe(t)}}}const jCe={};function mf(t){const e=this,n=t||jCe,r=e.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),i=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(SCe(n)),s.push(bCe()),i.push(xCe(n))}var TCe=/(\*\*)([^*]*?)$/,ECe=/(__)([^_]*?)$/,NCe=/(\*\*\*)([^*]*?)$/,$Ce=/(\*)([^*]*?)$/,ACe=/(_)([^_]*?)$/,ICe=/(`)([^`]*?)$/,RCe=/(~~)([^~]*?)$/,Ku=/^[\s_~*`]*$/,tz=/^[\s]*[-*+][\s]+$/,MCe=/[\p{L}\p{N}_]/u,DCe=/^```[^`\n]*```?$/,LCe=/^\*{4,}$/,nc=t=>{if(!t)return!1;let e=t.charCodeAt(0);return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122||e===95?!0:MCe.test(t)},a0=(t,e)=>{let n=!1;for(let r=0;r<e;r+=1)t[r]==="`"&&t[r+1]==="`"&&t[r+2]==="`"&&(n=!n,r+=2);return n},OCe=(t,e)=>{let n=1;for(let r=e-1;r>=0;r-=1)if(t[r]==="]")n+=1;else if(t[r]==="["&&(n-=1,n===0))return r;return-1},PCe=(t,e)=>{let n=1;for(let r=e+1;r<t.length;r+=1)if(t[r]==="[")n+=1;else if(t[r]==="]"&&(n-=1,n===0))return r;return-1},zy=(t,e)=>{let n=!1,r=!1;for(let a=0;a<t.length&&a<e;a+=1){if(t[a]==="\\"&&t[a+1]==="$"){a+=1;continue}t[a]==="$"&&(t[a+1]==="$"?(r=!r,a+=1,n=!1):r||(n=!n))}return n||r},FCe=(t,e)=>{for(let n=e;n<t.length;n+=1){if(t[n]===")")return!0;if(t[n]===`
`)return!1}return!1},nz=(t,e)=>{for(let n=e-1;n>=0;n-=1){if(t[n]===")")return!1;if(t[n]==="(")return n>0&&t[n-1]==="]"?FCe(t,e):!1;if(t[n]===`
`)return!1}return!1},j6=(t,e,n)=>{let r=0;for(let c=e-1;c>=0;c-=1)if(t[c]===`
`){r=c+1;break}let a=t.length;for(let c=e;c<t.length;c+=1)if(t[c]===`
`){a=c;break}let s=t.substring(r,a),i=0,o=!1;for(let c of s)if(c===n)i+=1;else if(c!==" "&&c!=="	"){o=!0;break}return i>=3&&!o},BCe=(t,e,n)=>{if(n!==" "&&n!=="	")return!1;let r=0;for(let a=e-1;a>=0;a-=1)if(t[a]===`
`){r=a+1;break}for(let a=r;a<e;a+=1)if(t[a]!==" "&&t[a]!=="	")return!1;return!0},zCe=(t,e,n,r)=>n==="\\"||t.includes("$")&&zy(t,e)?!0:n!=="*"&&r==="*"?(e<t.length-2?t[e+2]:"")!=="*":!!(n==="*"||n&&r&&nc(n)&&nc(r)||BCe(t,e,r)),rz=t=>{let e=0,n=t.length;for(let r=0;r<n;r+=1){if(t[r]!=="*")continue;let a=r>0?t[r-1]:"",s=r<n-1?t[r+1]:"";zCe(t,r,a,s)||(e+=1)}return e},HCe=(t,e,n,r)=>!!(n==="\\"||t.includes("$")&&zy(t,e)||nz(t,e)||n==="_"||r==="_"||n&&r&&nc(n)&&nc(r)),qCe=t=>{let e=0,n=t.length;for(let r=0;r<n;r+=1){if(t[r]!=="_")continue;let a=r>0?t[r-1]:"",s=r<n-1?t[r+1]:"";HCe(t,r,a,s)||(e+=1)}return e},UCe=t=>{let e=0,n=0;for(let r=0;r<t.length;r+=1)t[r]==="*"?n+=1:(n>=3&&(e+=Math.floor(n/3)),n=0);return n>=3&&(e+=Math.floor(n/3)),e},WCe=(t,e,n)=>{if(!e||Ku.test(e))return!0;let r=t.substring(0,n).lastIndexOf(`
`),a=r===-1?0:r+1,s=t.substring(a,n);return tz.test(s)&&e.includes(`
`)?!0:j6(t,n,"*")},GCe=t=>{let e=t.match(TCe);if(!e)return t;let n=e[2],r=t.lastIndexOf(e[1]);return a0(t,r)||WCe(t,n,r)?t:(t.match(/\*\*/g)||[]).length%2===1?`${t}**`:t},VCe=(t,e,n)=>{if(!e||Ku.test(e))return!0;let r=t.substring(0,n).lastIndexOf(`
`),a=r===-1?0:r+1,s=t.substring(a,n);return tz.test(s)&&e.includes(`
`)?!0:j6(t,n,"_")},KCe=t=>{let e=t.match(ECe);if(!e)return t;let n=e[2],r=t.lastIndexOf(e[1]);return a0(t,r)||VCe(t,n,r)?t:(t.match(/__/g)||[]).length%2===1?`${t}__`:t},YCe=t=>{for(let e=0;e<t.length;e+=1)if(t[e]==="*"&&t[e-1]!=="*"&&t[e+1]!=="*"&&t[e-1]!=="\\"&&!zy(t,e)){let n=e>0?t[e-1]:"",r=e<t.length-1?t[e+1]:"";if(n&&r&&nc(n)&&nc(r))continue;return e}return-1},XCe=t=>{if(!t.match($Ce))return t;let e=YCe(t);if(e===-1||a0(t,e))return t;let n=t.substring(e+1);return!n||Ku.test(n)?t:rz(t)%2===1?`${t}*`:t},az=t=>{for(let e=0;e<t.length;e+=1)if(t[e]==="_"&&t[e-1]!=="_"&&t[e+1]!=="_"&&t[e-1]!=="\\"&&!zy(t,e)&&!nz(t,e)){let n=e>0?t[e-1]:"",r=e<t.length-1?t[e+1]:"";if(n&&r&&nc(n)&&nc(r))continue;return e}return-1},ZCe=t=>{let e=t.length;for(;e>0&&t[e-1]===`
`;)e-=1;if(e<t.length){let n=t.slice(0,e),r=t.slice(e);return`${n}_${r}`}return`${t}_`},QCe=t=>{if(!t.endsWith("**"))return null;let e=t.slice(0,-2);if((e.match(/\*\*/g)||[]).length%2!==1)return null;let n=e.indexOf("**"),r=az(e);return n!==-1&&r!==-1&&n<r?`${e}_**`:null},JCe=t=>{if(!t.match(ACe))return t;let e=az(t);if(e===-1||a0(t,e))return t;let n=t.substring(e+1);if(!n||Ku.test(n))return t;if(qCe(t)%2===1){let r=QCe(t);return r!==null?r:ZCe(t)}return t},e6e=t=>{let e=(t.match(/\*\*/g)||[]).length,n=rz(t);return e%2===0&&n%2===0},t6e=(t,e,n)=>!e||Ku.test(e)||a0(t,n)?!0:j6(t,n,"*"),n6e=t=>{if(LCe.test(t))return t;let e=t.match(NCe);if(!e)return t;let n=e[2],r=t.lastIndexOf(e[1]);return t6e(t,n,r)?t:UCe(t)%2===1?e6e(t)?t:`${t}***`:t},Wk=(t,e)=>{let n=!1,r=!1;for(let a=0;a<e;a+=1){if(t.substring(a,a+3)==="```"){r=!r,a+=2;continue}!r&&t[a]==="`"&&(n=!n)}return n||r},r6e=(t,e)=>{let n=t.substring(e,e+3)==="```",r=e>0&&t.substring(e-1,e+2)==="```",a=e>1&&t.substring(e-2,e+1)==="```";return n||r||a},a6e=t=>{let e=0;for(let n=0;n<t.length;n+=1)t[n]==="`"&&!r6e(t,n)&&(e+=1);return e},s6e=t=>!t.match(DCe)||t.includes(`
`)?null:t.endsWith("``")&&!t.endsWith("```")?`${t}\``:t,i6e=t=>(t.match(/```/g)||[]).length%2===1,o6e=t=>{let e=s6e(t);if(e!==null)return e;let n=t.match(ICe);if(n&&!i6e(t)){let r=n[2];if(!r||Ku.test(r))return t;if(a6e(t)%2===1)return`${t}\``}return t},l6e=(t,e)=>e>=2&&t.substring(e-2,e+1)==="```"||e>=1&&t.substring(e-1,e+2)==="```"||e<=t.length-3&&t.substring(e,e+3)==="```",c6e=t=>{let e=0,n=!1;for(let r=0;r<t.length-1;r+=1)t[r]==="`"&&!l6e(t,r)&&(n=!n),!n&&t[r]==="$"&&t[r+1]==="$"&&(e+=1,r+=1);return e},u6e=t=>{let e=t.indexOf("$$");return e!==-1&&t.indexOf(`
`,e)!==-1&&!t.endsWith(`
`)?`${t}
$$`:`${t}$$`},d6e=t=>c6e(t)%2===0?t:u6e(t),m6e=(t,e)=>{if(t.substring(e+2).includes(")"))return null;let n=OCe(t,e);if(n===-1||Wk(t,n))return null;let r=n>0&&t[n-1]==="!",a=r?n-1:n,s=t.substring(0,a);if(r)return s;let i=t.substring(n+1,e);return`${s}[${i}](streamdown:incomplete-link)`},h6e=(t,e)=>{let n=e>0&&t[e-1]==="!",r=n?e-1:e;if(!t.substring(e+1).includes("]")){let a=t.substring(0,r);return n?a:`${t}](streamdown:incomplete-link)`}if(PCe(t,e)===-1){let a=t.substring(0,r);return n?a:`${t}](streamdown:incomplete-link)`}return null},p6e=t=>{let e=t.lastIndexOf("](");if(e!==-1&&!Wk(t,e)){let n=m6e(t,e);if(n!==null)return n}for(let n=t.length-1;n>=0;n-=1)if(t[n]==="["&&!Wk(t,n)){let r=h6e(t,n);if(r!==null)return r}return t},f6e=/^-{1,2}$/,g6e=/^[\s]*-{1,2}[\s]+$/,b6e=/^={1,2}$/,x6e=/^[\s]*={1,2}[\s]+$/,y6e=t=>{if(!t||typeof t!="string")return t;let e=t.lastIndexOf(`
`);if(e===-1)return t;let n=t.substring(e+1),r=t.substring(0,e),a=n.trim();if(f6e.test(a)&&!n.match(g6e)){let s=r.split(`
`).at(-1);if(s&&s.trim().length>0)return`${t}`}if(b6e.test(a)&&!n.match(x6e)){let s=r.split(`
`).at(-1);if(s&&s.trim().length>0)return`${t}`}return t},w6e=t=>{let e=t.match(RCe);if(e){let n=e[2];if(!n||Ku.test(n))return t;if((t.match(/~~/g)||[]).length%2===1)return`${t}~~`}return t},Io=t=>t!==!1,v6e=(t,e)=>{if(!t||typeof t!="string")return t;let n=t.endsWith(" ")&&!t.endsWith("  ")?t.slice(0,-1):t;if(Io(e?.setextHeadings)&&(n=y6e(n)),Io(e?.links)||Io(e?.images)){let r=p6e(n);if(r.endsWith("](streamdown:incomplete-link)"))return r;n=r}return Io(e?.boldItalic)&&(n=n6e(n)),Io(e?.bold)&&(n=GCe(n)),Io(e?.italic)&&(n=KCe(n),n=XCe(n),n=JCe(n)),Io(e?.inlineCode)&&(n=o6e(n)),Io(e?.strikethrough)&&(n=w6e(n)),Io(e?.katex)&&(n=d6e(n)),n},k6e=v6e;const _6e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,C6e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,S6e={};function k8(t,e){return(S6e.jsx?C6e:_6e).test(t)}const j6e=/[ \t\n\f\r]/g;function T6e(t){return typeof t=="object"?t.type==="text"?_8(t.value):!1:_8(t)}function _8(t){return t.replace(j6e,"")===""}var fd={},iv,C8;function E6e(){if(C8)return iv;C8=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,i=/^[;\s]*/,o=/^\s+|\s+$/g,c=`
`,u="/",d="*",m="",h="comment",p="declaration";function f(x,y){if(typeof x!="string")throw new TypeError("First argument must be a string");if(!x)return[];y=y||{};var w=1,v=1;function k($){var E=$.match(e);E&&(w+=E.length);var M=$.lastIndexOf(c);v=~M?$.length-M:v+$.length}function C(){var $={line:w,column:v};return function(E){return E.position=new _($),N(),E}}function _($){this.start=$,this.end={line:w,column:v},this.source=y.source}_.prototype.content=x;function S($){var E=new Error(y.source+":"+w+":"+v+": "+$);if(E.reason=$,E.filename=y.source,E.line=w,E.column=v,E.source=x,!y.silent)throw E}function T($){var E=$.exec(x);if(E){var M=E[0];return k(M),x=x.slice(M.length),E}}function N(){T(n)}function j($){var E;for($=$||[];E=R();)E!==!1&&$.push(E);return $}function R(){var $=C();if(!(u!=x.charAt(0)||d!=x.charAt(1))){for(var E=2;m!=x.charAt(E)&&(d!=x.charAt(E)||u!=x.charAt(E+1));)++E;if(E+=2,m===x.charAt(E-1))return S("End of comment missing");var M=x.slice(2,E-2);return v+=2,k(M),x=x.slice(E),v+=2,$({type:h,comment:M})}}function I(){var $=C(),E=T(r);if(E){if(R(),!T(a))return S("property missing ':'");var M=T(s),F=$({type:p,property:g(E[0].replace(t,m)),value:M?g(M[0].replace(t,m)):m});return T(i),F}}function A(){var $=[];j($);for(var E;E=I();)E!==!1&&($.push(E),j($));return $}return N(),A()}function g(x){return x?x.replace(o,m):m}return iv=f,iv}var S8;function N6e(){if(S8)return fd;S8=1;var t=fd&&fd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fd,"__esModule",{value:!0}),fd.default=n;const e=t(E6e());function n(r,a){let s=null;if(!r||typeof r!="string")return s;const i=(0,e.default)(r),o=typeof a=="function";return i.forEach(c=>{if(c.type!=="declaration")return;const{property:u,value:d}=c;o?a(u,d,c):d&&(s=s||{},s[u]=d)}),s}return fd}var _h={},j8;function $6e(){if(j8)return _h;j8=1,Object.defineProperty(_h,"__esModule",{value:!0}),_h.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,s=function(u){return!u||n.test(u)||t.test(u)},i=function(u,d){return d.toUpperCase()},o=function(u,d){return"".concat(d,"-")},c=function(u,d){return d===void 0&&(d={}),s(u)?u:(u=u.toLowerCase(),d.reactCompat?u=u.replace(a,o):u=u.replace(r,o),u.replace(e,i))};return _h.camelCase=c,_h}var Ch,T8;function A6e(){if(T8)return Ch;T8=1;var t=Ch&&Ch.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},e=t(N6e()),n=$6e();function r(a,s){var i={};return!a||typeof a!="string"||(0,e.default)(a,function(o,c){o&&c&&(i[(0,n.camelCase)(o,s)]=c)}),i}return r.default=r,Ch=r,Ch}var I6e=A6e();const R6e=Ru(I6e);function Tp(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?E8(t.position):"start"in t||"end"in t?E8(t):"line"in t||"column"in t?Gk(t):""}function Gk(t){return N8(t&&t.line)+":"+N8(t&&t.column)}function E8(t){return Gk(t&&t.start)+"-"+Gk(t&&t.end)}function N8(t){return t&&typeof t=="number"?t:1}class za extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",s={},i=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?a=e:!s.cause&&e&&(i=!0,a=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=o?o.line:void 0,this.name=Tp(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=i&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}za.prototype.file="";za.prototype.name="";za.prototype.reason="";za.prototype.message="";za.prototype.stack="";za.prototype.column=void 0;za.prototype.line=void 0;za.prototype.ancestors=void 0;za.prototype.cause=void 0;za.prototype.fatal=void 0;za.prototype.place=void 0;za.prototype.ruleId=void 0;za.prototype.source=void 0;const T6={}.hasOwnProperty,M6e=new Map,D6e=/[A-Z]/g,L6e=new Set(["table","tbody","thead","tfoot","tr"]),O6e=new Set(["td","th"]),sz="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function P6e(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=G6e(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=W6e(n,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?th:jy,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=iz(a,t,void 0);return s&&typeof s!="string"?s:a.create(t,a.Fragment,{children:s||void 0},void 0)}function iz(t,e,n){if(e.type==="element")return F6e(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return B6e(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return H6e(t,e,n);if(e.type==="mdxjsEsm")return z6e(t,e);if(e.type==="root")return q6e(t,e,n);if(e.type==="text")return U6e(t,e)}function F6e(t,e,n){const r=t.schema;let a=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=th,t.schema=a),t.ancestors.push(e);const s=lz(t,e.tagName,!1),i=V6e(t,e);let o=N6(t,e);return L6e.has(e.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!T6e(c):!0})),oz(t,i,s,e),E6(i,o),t.ancestors.pop(),t.schema=r,t.create(e,s,i,n)}function B6e(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}hf(t,e.position)}function z6e(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);hf(t,e.position)}function H6e(t,e,n){const r=t.schema;let a=r;e.name==="svg"&&r.space==="html"&&(a=th,t.schema=a),t.ancestors.push(e);const s=e.name===null?t.Fragment:lz(t,e.name,!0),i=K6e(t,e),o=N6(t,e);return oz(t,i,s,e),E6(i,o),t.ancestors.pop(),t.schema=r,t.create(e,s,i,n)}function q6e(t,e,n){const r={};return E6(r,N6(t,e)),t.create(e,t.Fragment,r,n)}function U6e(t,e){return e.value}function oz(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function E6(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function W6e(t,e,n){return r;function r(a,s,i,o){const u=Array.isArray(i.children)?n:e;return o?u(s,i,o):u(s,i)}}function G6e(t,e){return n;function n(r,a,s,i){const o=Array.isArray(s.children),c=wo(r);return e(a,s,i,o,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function V6e(t,e){const n={};let r,a;for(a in e.properties)if(a!=="children"&&T6.call(e.properties,a)){const s=Y6e(t,a,e.properties[a]);if(s){const[i,o]=s;t.tableCellAlignToStyle&&i==="align"&&typeof o=="string"&&O6e.has(e.tagName)?r=o:n[i]=o}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function K6e(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const i=s.expression;i.type;const o=i.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else hf(t,e.position);else{const a=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,s=t.evaluater.evaluateExpression(o.expression)}else hf(t,e.position);else s=r.value===null?!0:r.value;n[a]=s}return n}function N6(t,e){const n=[];let r=-1;const a=t.passKeys?new Map:M6e;for(;++r<e.children.length;){const s=e.children[r];let i;if(t.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const u=a.get(c)||0;i=c+"-"+u,a.set(c,u+1)}}const o=iz(t,s,i);o!==void 0&&n.push(o)}return n}function Y6e(t,e,n){const r=BC(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?eP(n):tP(n)),r.property==="style"){let a=typeof n=="object"?n:X6e(t,String(n));return t.stylePropertyNameCase==="css"&&(a=Z6e(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&r.space?pxe[r.property]||r.property:r.attribute,n]}}function X6e(t,e){try{return R6e(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,a=new za("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=sz+"#cannot-parse-style-attribute",a}}function lz(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let s=-1,i;for(;++s<a.length;){const o=k8(a[s])?{type:"Identifier",name:a[s]}:{type:"Literal",value:a[s]};i=i?{type:"MemberExpression",object:i,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=i}else r=k8(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const a=r.value;return T6.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(r);hf(t)}function hf(t,e){const n=new za("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=sz+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Z6e(t){const e={};let n;for(n in t)T6.call(t,n)&&(e[Q6e(n)]=t[n]);return e}function Q6e(t){let e=t.replace(D6e,J6e);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function J6e(t){return"-"+t.toLowerCase()}const eSe={tokenize:tSe};function tSe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,a);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Mn(t,e,"linePrefix")}function a(o){return t.enter("paragraph"),s(o)}function s(o){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,i(o)}function i(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return an(o)?(t.consume(o),t.exit("chunkText"),s):(t.consume(o),i)}}const nSe={tokenize:rSe},$8={tokenize:aSe};function rSe(t){const e=this,n=[];let r=0,a,s,i;return o;function o(v){if(r<n.length){const k=n[r];return e.containerState=k[1],t.attempt(k[0].continuation,c,u)(v)}return u(v)}function c(v){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&w();const k=e.events.length;let C=k,_;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){_=e.events[C][1].end;break}y(r);let S=k;for(;S<e.events.length;)e.events[S][1].end={..._},S++;return ka(e.events,C+1,0,e.events.slice(k)),e.events.length=S,u(v)}return o(v)}function u(v){if(r===n.length){if(!a)return h(v);if(a.currentConstruct&&a.currentConstruct.concrete)return f(v);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},t.check($8,d,m)(v)}function d(v){return a&&w(),y(r),h(v)}function m(v){return e.parser.lazy[e.now().line]=r!==n.length,i=e.now().offset,f(v)}function h(v){return e.containerState={},t.attempt($8,p,f)(v)}function p(v){return r++,n.push([e.currentConstruct,e.containerState]),h(v)}function f(v){if(v===null){a&&w(),y(0),t.consume(v);return}return a=a||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:s}),g(v)}function g(v){if(v===null){x(t.exit("chunkFlow"),!0),y(0),t.consume(v);return}return an(v)?(t.consume(v),x(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(v),g)}function x(v,k){const C=e.sliceStream(v);if(k&&C.push(null),v.previous=s,s&&(s.next=v),s=v,a.defineSkip(v.start),a.write(C),e.parser.lazy[v.start.line]){let _=a.events.length;for(;_--;)if(a.events[_][1].start.offset<i&&(!a.events[_][1].end||a.events[_][1].end.offset>i))return;const S=e.events.length;let T=S,N,j;for(;T--;)if(e.events[T][0]==="exit"&&e.events[T][1].type==="chunkFlow"){if(N){j=e.events[T][1].end;break}N=!0}for(y(r),_=S;_<e.events.length;)e.events[_][1].end={...j},_++;ka(e.events,T+1,0,e.events.slice(S)),e.events.length=_}}function y(v){let k=n.length;for(;k-- >v;){const C=n[k];e.containerState=C[1],C[0].exit.call(e,t)}n.length=v}function w(){a.write([null]),s=void 0,a=void 0,e.containerState._closeFlow=void 0}}function aSe(t,e,n){return Mn(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const sSe={tokenize:iSe};function iSe(t){const e=this,n=t.attempt(r0,r,t.attempt(this.parser.constructs.flowInitial,a,Mn(t,t.attempt(this.parser.constructs.flow,a,t.attempt(t5e,a)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function a(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const oSe={resolveAll:uz()},lSe=cz("string"),cSe=cz("text");function cz(t){return{resolveAll:uz(t==="text"?uSe:void 0),tokenize:e};function e(n){const r=this,a=this.parser.constructs[t],s=n.attempt(a,i,o);return i;function i(d){return u(d)?s(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),s(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const m=a[d];let h=-1;if(m)for(;++h<m.length;){const p=m[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function uz(t){return e;function e(n,r){let a=-1,s;for(;++a<=n.length;)s===void 0?n[a]&&n[a][1].type==="data"&&(s=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==s+2&&(n[s][1].end=n[a-1][1].end,n.splice(s+2,a-s-2),a=s+2),s=void 0);return t?t(n,r):n}}function uSe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],a=e.sliceStream(r);let s=a.length,i=-1,o=0,c;for(;s--;){const u=a[s];if(typeof u=="string"){for(i=u.length;u.charCodeAt(i-1)===32;)o++,i--;if(i)break;i=-1}else if(u===-2)c=!0,o++;else if(u!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const u={type:n===t.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?i:r.start._bufferIndex+i,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const dSe={42:us,43:us,45:us,48:us,49:us,50:us,51:us,52:us,53:us,54:us,55:us,56:us,57:us,62:KB},mSe={91:i5e},hSe={[-2]:av,[-1]:av,32:av},pSe={35:m5e,42:Kg,45:[y8,Kg],60:g5e,61:y8,95:Kg,96:b8,126:b8},fSe={38:XB,92:YB},gSe={[-5]:sv,[-4]:sv,[-3]:sv,33:M5e,38:XB,42:Uk,60:[L_e,_5e],91:L5e,92:[u5e,YB],93:C6,95:Uk,96:Y_e},bSe={null:[Uk,oSe]},xSe={null:[42,95]},ySe={null:[]},wSe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:xSe,contentInitial:mSe,disable:ySe,document:dSe,flow:pSe,flowInitial:hSe,insideSpan:bSe,string:fSe,text:gSe},Symbol.toStringTag,{value:"Module"}));function vSe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},s=[];let i=[],o=[];const c={attempt:S(C),check:S(_),consume:w,enter:v,exit:k,interrupt:S(_,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:f,parser:t,previous:null,sliceSerialize:h,sliceStream:p,write:m};let d=e.tokenize.call(u,c);return e.resolveAll&&s.push(e),u;function m(R){return i=wa(i,R),x(),i[i.length-1]!==null?[]:(T(e,0),u.events=lh(s,u.events,u),u.events)}function h(R,I){return _Se(p(R),I)}function p(R){return kSe(i,R)}function f(){const{_bufferIndex:R,_index:I,line:A,column:$,offset:E}=r;return{_bufferIndex:R,_index:I,line:A,column:$,offset:E}}function g(R){a[R.line]=R.column,j()}function x(){let R;for(;r._index<i.length;){const I=i[r._index];if(typeof I=="string")for(R=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===R&&r._bufferIndex<I.length;)y(I.charCodeAt(r._bufferIndex));else y(I)}}function y(R){d=d(R)}function w(R){an(R)?(r.line++,r.column=1,r.offset+=R===-3?2:1,j()):R!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===i[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=R}function v(R,I){const A=I||{};return A.type=R,A.start=f(),u.events.push(["enter",A,u]),o.push(A),A}function k(R){const I=o.pop();return I.end=f(),u.events.push(["exit",I,u]),I}function C(R,I){T(R,I.from)}function _(R,I){I.restore()}function S(R,I){return A;function A($,E,M){let F,L,Y,O;return Array.isArray($)?H($):"tokenize"in $?H([$]):G($);function G(q){return V;function V(Z){const W=Z!==null&&q[Z],K=Z!==null&&q.null,J=[...Array.isArray(W)?W:W?[W]:[],...Array.isArray(K)?K:K?[K]:[]];return H(J)(Z)}}function H(q){return F=q,L=0,q.length===0?M:D(q[L])}function D(q){return V;function V(Z){return O=N(),Y=q,q.partial||(u.currentConstruct=q),q.name&&u.parser.constructs.disable.null.includes(q.name)?B():q.tokenize.call(I?Object.assign(Object.create(u),I):u,c,U,B)(Z)}}function U(q){return R(Y,O),E}function B(q){return O.restore(),++L<F.length?D(F[L]):M}}}function T(R,I){R.resolveAll&&!s.includes(R)&&s.push(R),R.resolve&&ka(u.events,I,u.events.length-I,R.resolve(u.events.slice(I),u)),R.resolveTo&&(u.events=R.resolveTo(u.events,u))}function N(){const R=f(),I=u.previous,A=u.currentConstruct,$=u.events.length,E=Array.from(o);return{from:$,restore:M};function M(){r=R,u.previous=I,u.currentConstruct=A,u.events.length=$,o=E,j()}}function j(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function kSe(t,e){const n=e.start._index,r=e.start._bufferIndex,a=e.end._index,s=e.end._bufferIndex;let i;if(n===a)i=[t[n].slice(r,s)];else{if(i=t.slice(n,a),r>-1){const o=i[0];typeof o=="string"?i[0]=o.slice(r):i.shift()}s>0&&i.push(t[a].slice(0,s))}return i}function _Se(t,e){let n=-1;const r=[];let a;for(;++n<t.length;){const s=t[n];let i;if(typeof s=="string")i=s;else switch(s){case-5:{i="\r";break}case-4:{i=`
`;break}case-3:{i=`\r
`;break}case-2:{i=e?" ":"	";break}case-1:{if(!e&&a)continue;i=" ";break}default:i=String.fromCharCode(s)}a=s===-2,r.push(i)}return r.join("")}function CSe(t){const r={constructs:FB([wSe,...(t||{}).extensions||[]]),content:a(eSe),defined:[],document:a(nSe),flow:a(sSe),lazy:{},string:a(lSe),text:a(cSe)};return r;function a(s){return i;function i(o){return vSe(r,s,o)}}}function SSe(t){for(;!ZB(t););return t}const A8=/[\0\t\n\r]/g;function jSe(){let t=1,e="",n=!0,r;return a;function a(s,i,o){const c=[];let u,d,m,h,p;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(i||void 0).decode(s)),m=0,e="",n&&(s.charCodeAt(0)===65279&&m++,n=void 0);m<s.length;){if(A8.lastIndex=m,u=A8.exec(s),h=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(h),!u){e=s.slice(m);break}if(p===10&&m===h&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),m<h&&(c.push(s.slice(m,h)),t+=h-m),p){case 0:{c.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,c.push(-2);t++<d;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:r=!0,t=1}m=h+1}return o&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}const dz={}.hasOwnProperty;function TSe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),ESe(n)(SSe(CSe(n).document().write(jSe()(t,e,!0))))}function ESe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(_e),autolinkProtocol:N,autolinkEmail:N,atxHeading:s(ue),blockQuote:s(K),characterEscape:N,characterReference:N,codeFenced:s(J),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:s(J,i),codeText:s(ee,i),codeTextData:N,data:N,codeFlowValue:N,definition:s(se),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:s(re),hardBreakEscape:s(he),hardBreakTrailing:s(he),htmlFlow:s(ke,i),htmlFlowData:N,htmlText:s(ke,i),htmlTextData:N,image:s(je),label:i,link:s(_e),listItem:s(ve),listItemValue:h,listOrdered:s(ge,m),listUnordered:s(ge),paragraph:s(De),reference:D,referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:s(ue),strong:s($e),thematicBreak:s(Be)},exit:{atxHeading:c(),atxHeadingSequence:C,autolink:c(),autolinkEmail:W,autolinkProtocol:Z,blockQuote:c(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:B,characterReferenceMarkerNumeric:B,characterReferenceValue:q,characterReference:V,codeFenced:c(x),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:f,codeFlowValue:j,codeIndented:c(y),codeText:c(E),codeTextData:j,data:j,definition:c(),definitionDestinationString:k,definitionLabelString:w,definitionTitleString:v,emphasis:c(),hardBreakEscape:c(I),hardBreakTrailing:c(I),htmlFlow:c(A),htmlFlowData:j,htmlText:c($),htmlTextData:j,image:c(F),label:Y,labelText:L,lineEnding:R,link:c(M),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:U,resourceDestinationString:O,resourceTitleString:G,resource:H,setextHeading:c(T),setextHeadingLineSequence:S,setextHeadingText:_,strong:c(),thematicBreak:c()}};mz(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ie){let Te={type:"root",children:[]};const Ne={stack:[Te],tokenStack:[],config:e,enter:o,exit:u,buffer:i,resume:d,data:n},Re=[];let Le=-1;for(;++Le<ie.length;)if(ie[Le][1].type==="listOrdered"||ie[Le][1].type==="listUnordered")if(ie[Le][0]==="enter")Re.push(Le);else{const Ae=Re.pop();Le=a(ie,Ae,Le)}for(Le=-1;++Le<ie.length;){const Ae=e[ie[Le][0]];dz.call(Ae,ie[Le][1].type)&&Ae[ie[Le][1].type].call(Object.assign({sliceSerialize:ie[Le][2].sliceSerialize},Ne),ie[Le][1])}if(Ne.tokenStack.length>0){const Ae=Ne.tokenStack[Ne.tokenStack.length-1];(Ae[1]||I8).call(Ne,void 0,Ae[0])}for(Te.position={start:Tl(ie.length>0?ie[0][1].start:{line:1,column:1,offset:0}),end:Tl(ie.length>0?ie[ie.length-2][1].end:{line:1,column:1,offset:0})},Le=-1;++Le<e.transforms.length;)Te=e.transforms[Le](Te)||Te;return Te}function a(ie,Te,Ne){let Re=Te-1,Le=-1,Ae=!1,bt,nt,ct,pt;for(;++Re<=Ne;){const be=ie[Re];switch(be[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{be[0]==="enter"?Le++:Le--,pt=void 0;break}case"lineEndingBlank":{be[0]==="enter"&&(bt&&!pt&&!Le&&!ct&&(ct=Re),pt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:pt=void 0}if(!Le&&be[0]==="enter"&&be[1].type==="listItemPrefix"||Le===-1&&be[0]==="exit"&&(be[1].type==="listUnordered"||be[1].type==="listOrdered")){if(bt){let We=Re;for(nt=void 0;We--;){const He=ie[We];if(He[1].type==="lineEnding"||He[1].type==="lineEndingBlank"){if(He[0]==="exit")continue;nt&&(ie[nt][1].type="lineEndingBlank",Ae=!0),He[1].type="lineEnding",nt=We}else if(!(He[1].type==="linePrefix"||He[1].type==="blockQuotePrefix"||He[1].type==="blockQuotePrefixWhitespace"||He[1].type==="blockQuoteMarker"||He[1].type==="listItemIndent"))break}ct&&(!nt||ct<nt)&&(bt._spread=!0),bt.end=Object.assign({},nt?ie[nt][1].start:be[1].end),ie.splice(nt||Re,0,["exit",bt,be[2]]),Re++,Ne++}if(be[1].type==="listItemPrefix"){const We={type:"listItem",_spread:!1,start:Object.assign({},be[1].start),end:void 0};bt=We,ie.splice(Re,0,["enter",We,be[2]]),Re++,Ne++,ct=void 0,pt=!0}}}return ie[Te][1]._spread=Ae,Ne}function s(ie,Te){return Ne;function Ne(Re){o.call(this,ie(Re),Re),Te&&Te.call(this,Re)}}function i(){this.stack.push({type:"fragment",children:[]})}function o(ie,Te,Ne){this.stack[this.stack.length-1].children.push(ie),this.stack.push(ie),this.tokenStack.push([Te,Ne||void 0]),ie.position={start:Tl(Te.start),end:void 0}}function c(ie){return Te;function Te(Ne){ie&&ie.call(this,Ne),u.call(this,Ne)}}function u(ie,Te){const Ne=this.stack.pop(),Re=this.tokenStack.pop();if(Re)Re[0].type!==ie.type&&(Te?Te.call(this,ie,Re[0]):(Re[1]||I8).call(this,ie,Re[0]));else throw new Error("Cannot close `"+ie.type+"` ("+Tp({start:ie.start,end:ie.end})+"): its not open");Ne.position.end=Tl(ie.end)}function d(){return w6(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function h(ie){if(this.data.expectingFirstListItemValue){const Te=this.stack[this.stack.length-2];Te.start=Number.parseInt(this.sliceSerialize(ie),10),this.data.expectingFirstListItemValue=void 0}}function p(){const ie=this.resume(),Te=this.stack[this.stack.length-1];Te.lang=ie}function f(){const ie=this.resume(),Te=this.stack[this.stack.length-1];Te.meta=ie}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const ie=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ie.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const ie=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ie.replace(/(\r?\n|\r)$/g,"")}function w(ie){const Te=this.resume(),Ne=this.stack[this.stack.length-1];Ne.label=Te,Ne.identifier=Si(this.sliceSerialize(ie)).toLowerCase()}function v(){const ie=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ie}function k(){const ie=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ie}function C(ie){const Te=this.stack[this.stack.length-1];if(!Te.depth){const Ne=this.sliceSerialize(ie).length;Te.depth=Ne}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function S(ie){const Te=this.stack[this.stack.length-1];Te.depth=this.sliceSerialize(ie).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function N(ie){const Ne=this.stack[this.stack.length-1].children;let Re=Ne[Ne.length-1];(!Re||Re.type!=="text")&&(Re=Qe(),Re.position={start:Tl(ie.start),end:void 0},Ne.push(Re)),this.stack.push(Re)}function j(ie){const Te=this.stack.pop();Te.value+=this.sliceSerialize(ie),Te.position.end=Tl(ie.end)}function R(ie){const Te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ne=Te.children[Te.children.length-1];Ne.position.end=Tl(ie.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Te.type)&&(N.call(this,ie),j.call(this,ie))}function I(){this.data.atHardBreak=!0}function A(){const ie=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ie}function $(){const ie=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ie}function E(){const ie=this.resume(),Te=this.stack[this.stack.length-1];Te.value=ie}function M(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=Te,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function F(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const Te=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=Te,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function L(ie){const Te=this.sliceSerialize(ie),Ne=this.stack[this.stack.length-2];Ne.label=i_e(Te),Ne.identifier=Si(Te).toLowerCase()}function Y(){const ie=this.stack[this.stack.length-1],Te=this.resume(),Ne=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ne.type==="link"){const Re=ie.children;Ne.children=Re}else Ne.alt=Te}function O(){const ie=this.resume(),Te=this.stack[this.stack.length-1];Te.url=ie}function G(){const ie=this.resume(),Te=this.stack[this.stack.length-1];Te.title=ie}function H(){this.data.inReference=void 0}function D(){this.data.referenceType="collapsed"}function U(ie){const Te=this.resume(),Ne=this.stack[this.stack.length-1];Ne.label=Te,Ne.identifier=Si(this.sliceSerialize(ie)).toLowerCase(),this.data.referenceType="full"}function B(ie){this.data.characterReferenceType=ie.type}function q(ie){const Te=this.sliceSerialize(ie),Ne=this.data.characterReferenceType;let Re;Ne?(Re=PB(Te,Ne==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Re=k6(Te);const Le=this.stack[this.stack.length-1];Le.value+=Re}function V(ie){const Te=this.stack.pop();Te.position.end=Tl(ie.end)}function Z(ie){j.call(this,ie);const Te=this.stack[this.stack.length-1];Te.url=this.sliceSerialize(ie)}function W(ie){j.call(this,ie);const Te=this.stack[this.stack.length-1];Te.url="mailto:"+this.sliceSerialize(ie)}function K(){return{type:"blockquote",children:[]}}function J(){return{type:"code",lang:null,meta:null,value:""}}function ee(){return{type:"inlineCode",value:""}}function se(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function re(){return{type:"emphasis",children:[]}}function ue(){return{type:"heading",depth:0,children:[]}}function he(){return{type:"break"}}function ke(){return{type:"html",value:""}}function je(){return{type:"image",title:null,url:"",alt:null}}function _e(){return{type:"link",title:null,url:"",children:[]}}function ge(ie){return{type:"list",ordered:ie.type==="listOrdered",start:null,spread:ie._spread,children:[]}}function ve(ie){return{type:"listItem",spread:ie._spread,checked:null,children:[]}}function De(){return{type:"paragraph",children:[]}}function $e(){return{type:"strong",children:[]}}function Qe(){return{type:"text",value:""}}function Be(){return{type:"thematicBreak"}}}function Tl(t){return{line:t.line,column:t.column,offset:t.offset}}function mz(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?mz(t,r):NSe(t,r)}}function NSe(t,e){let n;for(n in e)if(dz.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function I8(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Tp({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Tp({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Tp({start:e.start,end:e.end})+") is still open")}function $Se(t){const e=this;e.parser=n;function n(r){return TSe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function ASe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function ISe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function RSe(t,e){const n=e.value?e.value+`
`:"",r={},a=e.lang?e.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function MSe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function DSe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function LSe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),a=ch(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let i,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),i=t.footnoteOrder.length):i=s+1,o+=1,t.footnoteCounts.set(r,o);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(i)}]};t.patch(e,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,u),t.applyData(e,u)}function OSe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function PSe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function hz(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const a=t.all(e),s=a[0];s&&s.type==="text"?s.value="["+s.value:a.unshift({type:"text",value:"["});const i=a[a.length-1];return i&&i.type==="text"?i.value+=r:a.push({type:"text",value:r}),a}function FSe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return hz(t,e);const a={src:ch(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const s={type:"element",tagName:"img",properties:a,children:[]};return t.patch(e,s),t.applyData(e,s)}function BSe(t,e){const n={src:ch(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function zSe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function HSe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return hz(t,e);const a={href:ch(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const s={type:"element",tagName:"a",properties:a,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function qSe(t,e){const n={href:ch(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function USe(t,e,n){const r=t.all(e),a=n?WSe(n):pz(e),s={},i=[];if(typeof e.checked=="boolean"){const d=r[0];let m;d&&d.type==="element"&&d.tagName==="p"?m=d:(m={type:"element",tagName:"p",properties:{},children:[]},r.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(a||o!==0||d.type!=="element"||d.tagName!=="p")&&i.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?i.push(...d.children):i.push(d)}const c=r[r.length-1];c&&(a||c.type!=="element"||c.tagName!=="p")&&i.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:i};return t.patch(e,u),t.applyData(e,u)}function WSe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=pz(n[r])}return e}function pz(t){const e=t.spread;return e??t.children.length>1}function GSe(t,e){const n={},r=t.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++a<r.length;){const i=r[a];if(i.type==="element"&&i.tagName==="li"&&i.properties&&Array.isArray(i.properties.className)&&i.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function VSe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function KSe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function YSe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function XSe(t,e){const n=t.all(e),r=n.shift(),a=[];if(r){const i={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],i),a.push(i)}if(n.length>0){const i={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=wo(e.children[1]),c=Fy(e.children[e.children.length-1]);o&&c&&(i.position={start:o,end:c}),a.push(i)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(e,s),t.applyData(e,s)}function ZSe(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,o=i?i.length:e.children.length;let c=-1;const u=[];for(;++c<o;){const m=e.children[c],h={},p=i?i[c]:void 0;p&&(h.align=p);let f={type:"element",tagName:s,properties:h,children:[]};m&&(f.children=t.all(m),t.patch(m,f),f=t.applyData(m,f)),u.push(f)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,d),t.applyData(e,d)}function QSe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const R8=9,M8=32;function JSe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),a=0;const s=[];for(;r;)s.push(D8(e.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(e);return s.push(D8(e.slice(a),a>0,!1)),s.join("")}function D8(t,e,n){let r=0,a=t.length;if(e){let s=t.codePointAt(r);for(;s===R8||s===M8;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(a-1);for(;s===R8||s===M8;)a--,s=t.codePointAt(a-1)}return a>r?t.slice(r,a):""}function eje(t,e){const n={type:"text",value:JSe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function tje(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const nje={blockquote:ASe,break:ISe,code:RSe,delete:MSe,emphasis:DSe,footnoteReference:LSe,heading:OSe,html:PSe,imageReference:FSe,image:BSe,inlineCode:zSe,linkReference:HSe,link:qSe,listItem:USe,list:GSe,paragraph:VSe,root:KSe,strong:YSe,table:XSe,tableCell:QSe,tableRow:ZSe,text:eje,thematicBreak:tje,toml:ig,yaml:ig,definition:ig,footnoteDefinition:ig};function ig(){}function rje(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function aje(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function sje(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||rje,r=t.options.footnoteBackLabel||aje,a=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",i=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[c]);if(!u)continue;const d=t.all(u),m=String(u.identifier).toUpperCase(),h=ch(m.toLowerCase());let p=0;const f=[],g=t.footnoteCounts.get(m);for(;g!==void 0&&++p<=g;){f.length>0&&f.push({type:"text",value:" "});let w=typeof n=="string"?n:n(c,p);typeof w=="string"&&(w={type:"text",value:w}),f.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,p),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const w=x.children[x.children.length-1];w&&w.type==="text"?w.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...f)}else d.push(...f);const y={type:"element",tagName:"li",properties:{id:e+"fn-"+h},children:t.wrap(d,!0)};t.patch(u,y),o.push(y)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...ku(i),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const Vk={}.hasOwnProperty,ije={};function oje(t,e){const n=e||ije,r=new Map,a=new Map,s=new Map,i={...nje,...n.handlers},o={all:u,applyData:cje,definitionById:r,footnoteById:a,footnoteCounts:s,footnoteOrder:[],handlers:i,one:c,options:n,patch:lje,wrap:dje};return uo(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const m=d.type==="definition"?r:a,h=String(d.identifier).toUpperCase();m.has(h)||m.set(h,d)}}),o;function c(d,m){const h=d.type,p=o.handlers[h];if(Vk.call(o.handlers,h)&&p)return p(o,d,m);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:g,...x}=d,y=ku(x);return y.children=o.all(d),y}return ku(d)}return(o.options.unknownHandler||uje)(o,d,m)}function u(d){const m=[];if("children"in d){const h=d.children;let p=-1;for(;++p<h.length;){const f=o.one(h[p],d);if(f){if(p&&h[p-1].type==="break"&&(!Array.isArray(f)&&f.type==="text"&&(f.value=L8(f.value)),!Array.isArray(f)&&f.type==="element")){const g=f.children[0];g&&g.type==="text"&&(g.value=L8(g.value))}Array.isArray(f)?m.push(...f):m.push(f)}}}return m}}function lje(t,e){t.position&&(e.position=rB(t))}function cje(t,e){let n=e;if(t&&t.data){const r=t.data.hName,a=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const i="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:i}}n.type==="element"&&s&&Object.assign(n.properties,ku(s)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function uje(t,e){const n=e.data||{},r="value"in e&&!(Vk.call(n,"hProperties")||Vk.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function dje(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function L8(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function O8(t,e){const n=oje(t,e),r=n.one(t,void 0),a=sje(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&s.children.push({type:"text",value:`
`},a),s}function mje(t,e){return t&&"run"in t?async function(n,r){const a=O8(n,{file:r,...e});await t.run(a,r)}:function(n,r){return O8(n,{file:r,...t||e})}}function P8(t){if(t)throw t}var ov,F8;function hje(){if(F8)return ov;F8=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(u){return typeof Array.isArray=="function"?Array.isArray(u):e.call(u)==="[object Array]"},s=function(u){if(!u||e.call(u)!=="[object Object]")return!1;var d=t.call(u,"constructor"),m=u.constructor&&u.constructor.prototype&&t.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!d&&!m)return!1;var h;for(h in u);return typeof h>"u"||t.call(u,h)},i=function(u,d){n&&d.name==="__proto__"?n(u,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):u[d.name]=d.newValue},o=function(u,d){if(d==="__proto__")if(t.call(u,d)){if(r)return r(u,d).value}else return;return u[d]};return ov=function c(){var u,d,m,h,p,f,g=arguments[0],x=1,y=arguments.length,w=!1;for(typeof g=="boolean"&&(w=g,g=arguments[1]||{},x=2),(g==null||typeof g!="object"&&typeof g!="function")&&(g={});x<y;++x)if(u=arguments[x],u!=null)for(d in u)m=o(g,d),h=o(u,d),g!==h&&(w&&h&&(s(h)||(p=a(h)))?(p?(p=!1,f=m&&a(m)?m:[]):f=m&&s(m)?m:{},i(g,{name:d,newValue:c(w,f,h)})):typeof h<"u"&&i(g,{name:d,newValue:h}));return g},ov}var pje=hje();const lv=Ru(pje);function Kk(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function fje(){const t=[],e={run:n,use:r};return e;function n(...a){let s=-1;const i=a.pop();if(typeof i!="function")throw new TypeError("Expected function as last argument, not "+i);o(null,...a);function o(c,...u){const d=t[++s];let m=-1;if(c){i(c);return}for(;++m<a.length;)(u[m]===null||u[m]===void 0)&&(u[m]=a[m]);a=u,d?gje(d,o)(...u):i(null,...u)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),e}}function gje(t,e){let n;return r;function r(...i){const o=t.length>i.length;let c;o&&i.push(a);try{c=t.apply(this,i)}catch(u){const d=u;if(o&&n)throw d;return a(d)}o||(c&&c.then&&typeof c.then=="function"?c.then(s,a):c instanceof Error?a(c):s(c))}function a(i,...o){n||(n=!0,e(i,...o))}function s(i){a(null,i)}}const Ki={basename:bje,dirname:xje,extname:yje,join:wje,sep:"/"};function bje(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');s0(t);let n=0,r=-1,a=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(s){n=a+1;break}}else r<0&&(s=!0,r=a+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let i=-1,o=e.length-1;for(;a--;)if(t.codePointAt(a)===47){if(s){n=a+1;break}}else i<0&&(s=!0,i=a+1),o>-1&&(t.codePointAt(a)===e.codePointAt(o--)?o<0&&(r=a):(o=-1,r=i));return n===r?r=i:r<0&&(r=t.length),t.slice(n,r)}function xje(t){if(s0(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function yje(t){s0(t);let e=t.length,n=-1,r=0,a=-1,s=0,i;for(;e--;){const o=t.codePointAt(e);if(o===47){if(i){r=e+1;break}continue}n<0&&(i=!0,n=e+1),o===46?a<0?a=e:s!==1&&(s=1):a>-1&&(s=-1)}return a<0||n<0||s===0||s===1&&a===n-1&&a===r+1?"":t.slice(a,n)}function wje(...t){let e=-1,n;for(;++e<t.length;)s0(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":vje(n)}function vje(t){s0(t);const e=t.codePointAt(0)===47;let n=kje(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function kje(t,e){let n="",r=0,a=-1,s=0,i=-1,o,c;for(;++i<=t.length;){if(i<t.length)o=t.codePointAt(i);else{if(o===47)break;o=47}if(o===47){if(!(a===i-1||s===1))if(a!==i-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),a=i,s=0;continue}}else if(n.length>0){n="",r=0,a=i,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(a+1,i):n=t.slice(a+1,i),r=i-a-1;a=i,s=0}else o===46&&s>-1?s++:s=-1}return n}function s0(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const _je={cwd:Cje};function Cje(){return"/"}function Yk(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Sje(t){if(typeof t=="string")t=new URL(t);else if(!Yk(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return jje(t)}function jje(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const cv=["history","path","basename","stem","extname","dirname"];class Tje{constructor(e){let n;e?Yk(e)?n={path:e}:typeof e=="string"||Eje(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":_je.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<cv.length;){const s=cv[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let a;for(a in n)cv.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Ki.basename(this.path):void 0}set basename(e){dv(e,"basename"),uv(e,"basename"),this.path=Ki.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ki.dirname(this.path):void 0}set dirname(e){B8(this.basename,"dirname"),this.path=Ki.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ki.extname(this.path):void 0}set extname(e){if(uv(e,"extname"),B8(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ki.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Yk(e)&&(e=Sje(e)),dv(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ki.basename(this.path,this.extname):void 0}set stem(e){dv(e,"stem"),uv(e,"stem"),this.path=Ki.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const a=this.message(e,n,r);throw a.fatal=!0,a}info(e,n,r){const a=this.message(e,n,r);return a.fatal=void 0,a}message(e,n,r){const a=new za(e,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function uv(t,e){if(t&&t.includes(Ki.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ki.sep+"`")}function dv(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function B8(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Eje(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Nje=(function(t){const r=this.constructor.prototype,a=r[t],s=function(){return a.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),$je={}.hasOwnProperty;class $6 extends Nje{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=fje()}copy(){const e=new $6;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(lv(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(pv("data",this.frozen),this.namespace[e]=n,this):$je.call(this.namespace,e)&&this.namespace[e]||void 0:e?(pv("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(e,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=og(e),r=this.parser||this.Parser;return mv("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),mv("process",this.parser||this.Parser),hv("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(s,i){const o=og(e),c=r.parse(o);r.run(c,o,function(d,m,h){if(d||!m||!h)return u(d);const p=m,f=r.stringify(p,h);Rje(f)?h.value=f:h.result=f,u(d,h)});function u(d,m){d||!m?i(d):s?s(m):n(void 0,m)}}}processSync(e){let n=!1,r;return this.freeze(),mv("processSync",this.parser||this.Parser),hv("processSync",this.compiler||this.Compiler),this.process(e,a),H8("processSync","process",n),r;function a(s,i){n=!0,P8(s),r=i}}run(e,n,r){z8(e),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(i,o){const c=og(n);a.run(e,c,u);function u(d,m,h){const p=m||e;d?o(d):i?i(p):r(void 0,p,h)}}}runSync(e,n){let r=!1,a;return this.run(e,n,s),H8("runSync","run",r),a;function s(i,o){P8(i),a=o,r=!0}}stringify(e,n){this.freeze();const r=og(n),a=this.compiler||this.Compiler;return hv("stringify",a),z8(e),a(e,r)}use(e,...n){const r=this.attachers,a=this.namespace;if(pv("use",this.frozen),e!=null)if(typeof e=="function")c(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):i(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...m]=u;c(d,m)}else i(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function i(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(a.settings=lv(!0,a.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const m=u[d];s(m)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let m=-1,h=-1;for(;++m<r.length;)if(r[m][0]===u){h=m;break}if(h===-1)r.push([u,...d]);else if(d.length>0){let[p,...f]=d;const g=r[h][1];Kk(g)&&Kk(p)&&(p=lv(!0,g,p)),r[h]=[u,p,...f]}}}}const Aje=new $6().freeze();function mv(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function hv(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function pv(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function z8(t){if(!Kk(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function H8(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function og(t){return Ije(t)?t:new Tje(t)}function Ije(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Rje(t){return typeof t=="string"||Mje(t)}function Mje(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}function A6(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Yu=A6();function fz(t){Yu=t}var Ep={exec:()=>null};function Yn(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(a,s)=>{let i=typeof s=="string"?s:s.source;return i=i.replace(Xa.caret,"$1"),n=n.replace(a,i),r},getRegex:()=>new RegExp(n,e)};return r}var Dje=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Xa={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},Lje=/^(?:[ \t]*(?:\n|$))+/,Oje=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Pje=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,i0=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Fje=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,I6=/(?:[*+-]|\d{1,9}[.)])/,gz=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,bz=Yn(gz).replace(/bull/g,I6).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Bje=Yn(gz).replace(/bull/g,I6).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),R6=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,zje=/^[^\n]+/,M6=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Hje=Yn(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",M6).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),qje=Yn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,I6).getRegex(),Hy="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",D6=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Uje=Yn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",D6).replace("tag",Hy).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),xz=Yn(R6).replace("hr",i0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Hy).getRegex(),Wje=Yn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",xz).getRegex(),L6={blockquote:Wje,code:Oje,def:Hje,fences:Pje,heading:Fje,hr:i0,html:Uje,lheading:bz,list:qje,newline:Lje,paragraph:xz,table:Ep,text:zje},q8=Yn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",i0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Hy).getRegex(),Gje={...L6,lheading:Bje,table:q8,paragraph:Yn(R6).replace("hr",i0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",q8).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Hy).getRegex()},Vje={...L6,html:Yn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",D6).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ep,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Yn(R6).replace("hr",i0).replace("heading",` *#{1,6} *[^
]`).replace("lheading",bz).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Kje=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Yje=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,yz=/^( {2,}|\\)\n(?!\s*$)/,Xje=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,qy=/[\p{P}\p{S}]/u,O6=/[\s\p{P}\p{S}]/u,wz=/[^\s\p{P}\p{S}]/u,Zje=Yn(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,O6).getRegex(),vz=/(?!~)[\p{P}\p{S}]/u,Qje=/(?!~)[\s\p{P}\p{S}]/u,Jje=/(?:[^\s\p{P}\p{S}]|~)/u,e9e=Yn(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",Dje?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),kz=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,t9e=Yn(kz,"u").replace(/punct/g,qy).getRegex(),n9e=Yn(kz,"u").replace(/punct/g,vz).getRegex(),_z="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",r9e=Yn(_z,"gu").replace(/notPunctSpace/g,wz).replace(/punctSpace/g,O6).replace(/punct/g,qy).getRegex(),a9e=Yn(_z,"gu").replace(/notPunctSpace/g,Jje).replace(/punctSpace/g,Qje).replace(/punct/g,vz).getRegex(),s9e=Yn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,wz).replace(/punctSpace/g,O6).replace(/punct/g,qy).getRegex(),i9e=Yn(/\\(punct)/,"gu").replace(/punct/g,qy).getRegex(),o9e=Yn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),l9e=Yn(D6).replace("(?:-->|$)","-->").getRegex(),c9e=Yn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",l9e).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),xb=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,u9e=Yn(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",xb).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Cz=Yn(/^!?\[(label)\]\[(ref)\]/).replace("label",xb).replace("ref",M6).getRegex(),Sz=Yn(/^!?\[(ref)\](?:\[\])?/).replace("ref",M6).getRegex(),d9e=Yn("reflink|nolink(?!\\()","g").replace("reflink",Cz).replace("nolink",Sz).getRegex(),U8=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,P6={_backpedal:Ep,anyPunctuation:i9e,autolink:o9e,blockSkip:e9e,br:yz,code:Yje,del:Ep,emStrongLDelim:t9e,emStrongRDelimAst:r9e,emStrongRDelimUnd:s9e,escape:Kje,link:u9e,nolink:Sz,punctuation:Zje,reflink:Cz,reflinkSearch:d9e,tag:c9e,text:Xje,url:Ep},m9e={...P6,link:Yn(/^!?\[(label)\]\((.*?)\)/).replace("label",xb).getRegex(),reflink:Yn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",xb).getRegex()},Xk={...P6,emStrongRDelimAst:a9e,emStrongLDelim:n9e,url:Yn(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",U8).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Yn(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",U8).getRegex()},h9e={...Xk,br:Yn(yz).replace("{2,}","*").getRegex(),text:Yn(Xk.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},lg={normal:L6,gfm:Gje,pedantic:Vje},Sh={normal:P6,gfm:Xk,breaks:h9e,pedantic:m9e},p9e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},W8=t=>p9e[t];function Lo(t,e){if(e){if(Xa.escapeTest.test(t))return t.replace(Xa.escapeReplace,W8)}else if(Xa.escapeTestNoEncode.test(t))return t.replace(Xa.escapeReplaceNoEncode,W8);return t}function G8(t){try{t=encodeURI(t).replace(Xa.percentDecode,"%")}catch{return null}return t}function V8(t,e){let n=t.replace(Xa.findPipe,(s,i,o)=>{let c=!1,u=i;for(;--u>=0&&o[u]==="\\";)c=!c;return c?"|":" |"}),r=n.split(Xa.splitPipe),a=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;a<r.length;a++)r[a]=r[a].trim().replace(Xa.slashPipe,"|");return r}function jh(t,e,n){let r=t.length;if(r===0)return"";let a=0;for(;a<r&&t.charAt(r-a-1)===e;)a++;return t.slice(0,r-a)}function f9e(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function K8(t,e,n,r,a){let s=e.href,i=e.title||null,o=t[1].replace(a.other.outputLinkReplace,"$1");r.state.inLink=!0;let c={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:i,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,c}function g9e(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let a=r[1];return e.split(`
`).map(s=>{let i=s.match(n.other.beginningSpace);if(i===null)return s;let[o]=i;return o.length>=a.length?s.slice(a.length):s}).join(`
`)}var yb=class{options;rules;lexer;constructor(e){this.options=e||Yu}space(e){let n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){let n=this.rules.block.code.exec(e);if(n){let r=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:jh(r,`
`)}}}fences(e){let n=this.rules.block.fences.exec(e);if(n){let r=n[0],a=g9e(r,n[3]||"",this.rules);return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:a}}}heading(e){let n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(this.rules.other.endingHash.test(r)){let a=jh(r,"#");(this.options.pedantic||!a||this.rules.other.endingSpaceChar.test(a))&&(r=a.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:jh(n[0],`
`)}}blockquote(e){let n=this.rules.block.blockquote.exec(e);if(n){let r=jh(n[0],`
`).split(`
`),a="",s="",i=[];for(;r.length>0;){let o=!1,c=[],u;for(u=0;u<r.length;u++)if(this.rules.other.blockquoteStart.test(r[u]))c.push(r[u]),o=!0;else if(!o)c.push(r[u]);else break;r=r.slice(u);let d=c.join(`
`),m=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");a=a?`${a}
${d}`:d,s=s?`${s}
${m}`:m;let h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(m,i,!0),this.lexer.state.top=h,r.length===0)break;let p=i.at(-1);if(p?.type==="code")break;if(p?.type==="blockquote"){let f=p,g=f.raw+`
`+r.join(`
`),x=this.blockquote(g);i[i.length-1]=x,a=a.substring(0,a.length-f.raw.length)+x.raw,s=s.substring(0,s.length-f.text.length)+x.text;break}else if(p?.type==="list"){let f=p,g=f.raw+`
`+r.join(`
`),x=this.list(g);i[i.length-1]=x,a=a.substring(0,a.length-p.raw.length)+x.raw,s=s.substring(0,s.length-f.raw.length)+x.raw,r=g.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:a,tokens:i,text:s}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim(),a=r.length>1,s={type:"list",raw:"",ordered:a,start:a?+r.slice(0,-1):"",loose:!1,items:[]};r=a?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=a?r:"[*+-]");let i=this.rules.other.listItemRegex(r),o=!1;for(;e;){let u=!1,d="",m="";if(!(n=i.exec(e))||this.rules.block.hr.test(e))break;d=n[0],e=e.substring(d.length);let h=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,x=>" ".repeat(3*x.length)),p=e.split(`
`,1)[0],f=!h.trim(),g=0;if(this.options.pedantic?(g=2,m=h.trimStart()):f?g=n[1].length+1:(g=n[2].search(this.rules.other.nonSpaceChar),g=g>4?1:g,m=h.slice(g),g+=n[1].length),f&&this.rules.other.blankLine.test(p)&&(d+=p+`
`,e=e.substring(p.length+1),u=!0),!u){let x=this.rules.other.nextBulletRegex(g),y=this.rules.other.hrRegex(g),w=this.rules.other.fencesBeginRegex(g),v=this.rules.other.headingBeginRegex(g),k=this.rules.other.htmlBeginRegex(g);for(;e;){let C=e.split(`
`,1)[0],_;if(p=C,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),_=p):_=p.replace(this.rules.other.tabCharGlobal,"    "),w.test(p)||v.test(p)||k.test(p)||x.test(p)||y.test(p))break;if(_.search(this.rules.other.nonSpaceChar)>=g||!p.trim())m+=`
`+_.slice(g);else{if(f||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||w.test(h)||v.test(h)||y.test(h))break;m+=`
`+p}!f&&!p.trim()&&(f=!0),d+=C+`
`,e=e.substring(C.length+1),h=_.slice(g)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(o=!0)),s.items.push({type:"list_item",raw:d,task:!!this.options.gfm&&this.rules.other.listIsTask.test(m),loose:!1,text:m,tokens:[]}),s.raw+=d}let c=s.items.at(-1);if(c)c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let u of s.items){if(this.lexer.state.top=!1,u.tokens=this.lexer.blockTokens(u.text,[]),u.task){if(u.text=u.text.replace(this.rules.other.listReplaceTask,""),u.tokens[0]?.type==="text"||u.tokens[0]?.type==="paragraph"){u.tokens[0].raw=u.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),u.tokens[0].text=u.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let m=this.lexer.inlineQueue.length-1;m>=0;m--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[m].src)){this.lexer.inlineQueue[m].src=this.lexer.inlineQueue[m].src.replace(this.rules.other.listReplaceTask,"");break}}let d=this.rules.other.listTaskCheckbox.exec(u.raw);if(d){let m={type:"checkbox",raw:d[0]+" ",checked:d[0]!=="[ ]"};u.checked=m.checked,s.loose?u.tokens[0]&&["paragraph","text"].includes(u.tokens[0].type)&&"tokens"in u.tokens[0]&&u.tokens[0].tokens?(u.tokens[0].raw=m.raw+u.tokens[0].raw,u.tokens[0].text=m.raw+u.tokens[0].text,u.tokens[0].tokens.unshift(m)):u.tokens.unshift({type:"paragraph",raw:m.raw,text:m.raw,tokens:[m]}):u.tokens.unshift(m)}}if(!s.loose){let d=u.tokens.filter(h=>h.type==="space"),m=d.length>0&&d.some(h=>this.rules.other.anyLine.test(h.raw));s.loose=m}}if(s.loose)for(let u of s.items){u.loose=!0;for(let d of u.tokens)d.type==="text"&&(d.type="paragraph")}return s}}html(e){let n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){let n=this.rules.block.def.exec(e);if(n){let r=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),a=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:a,title:s}}}table(e){let n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let r=V8(n[1]),a=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=n[3]?.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===a.length){for(let o of a)this.rules.other.tableAlignRight.test(o)?i.align.push("right"):this.rules.other.tableAlignCenter.test(o)?i.align.push("center"):this.rules.other.tableAlignLeft.test(o)?i.align.push("left"):i.align.push(null);for(let o=0;o<r.length;o++)i.header.push({text:r[o],tokens:this.lexer.inline(r[o]),header:!0,align:i.align[o]});for(let o of s)i.rows.push(V8(o,i.header.length).map((c,u)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:i.align[u]})));return i}}lheading(e){let n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){let n=this.rules.block.paragraph.exec(e);if(n){let r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){let n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(e){let n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){let n=this.rules.inline.link.exec(e);if(n){let r=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let i=jh(r.slice(0,-1),"\\");if((r.length-i.length)%2===0)return}else{let i=f9e(n[2],"()");if(i===-2)return;if(i>-1){let o=(n[0].indexOf("!")===0?5:4)+n[1].length+i;n[2]=n[2].substring(0,i),n[0]=n[0].substring(0,o).trim(),n[3]=""}}let a=n[2],s="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(a);i&&(a=i[1],s=i[3])}else s=n[3]?n[3].slice(1,-1):"";return a=a.trim(),this.rules.other.startAngleBracket.test(a)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?a=a.slice(1):a=a.slice(1,-1)),K8(n,{href:a&&a.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let a=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=n[a.toLowerCase()];if(!s){let i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return K8(r,s,r[0],this.lexer,this.rules)}}emStrong(e,n,r=""){let a=this.rules.inline.emStrongLDelim.exec(e);if(!(!a||a[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(a[1]||a[2])||!r||this.rules.inline.punctuation.exec(r))){let s=[...a[0]].length-1,i,o,c=s,u=0,d=a[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,n=n.slice(-1*e.length+s);(a=d.exec(n))!=null;){if(i=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!i)continue;if(o=[...i].length,a[3]||a[4]){c+=o;continue}else if((a[5]||a[6])&&s%3&&!((s+o)%3)){u+=o;continue}if(c-=o,c>0)continue;o=Math.min(o,o+c+u);let m=[...a[0]][0].length,h=e.slice(0,s+a.index+m+o);if(Math.min(s,o)%2){let f=h.slice(1,-1);return{type:"em",raw:h,text:f,tokens:this.lexer.inlineTokens(f)}}let p=h.slice(2,-2);return{type:"strong",raw:h,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(e){let n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(this.rules.other.newLineCharGlobal," "),a=this.rules.other.nonSpaceChar.test(r),s=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return a&&s&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:n[0],text:r}}}br(e){let n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){let n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){let n=this.rules.inline.autolink.exec(e);if(n){let r,a;return n[2]==="@"?(r=n[1],a="mailto:"+r):(r=n[1],a=r),{type:"link",raw:n[0],text:r,href:a,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let n;if(n=this.rules.inline.url.exec(e)){let r,a;if(n[2]==="@")r=n[0],a="mailto:"+r;else{let s;do s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(s!==n[0]);r=n[0],n[1]==="www."?a="http://"+n[0]:a=n[0]}return{type:"link",raw:n[0],text:r,href:a,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){let n=this.rules.inline.text.exec(e);if(n){let r=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:r}}}},Ks=class Zk{tokens;options;state;inlineQueue;tokenizer;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Yu,this.options.tokenizer=this.options.tokenizer||new yb,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:Xa,block:lg.normal,inline:Sh.normal};this.options.pedantic?(n.block=lg.pedantic,n.inline=Sh.pedantic):this.options.gfm&&(n.block=lg.gfm,this.options.breaks?n.inline=Sh.breaks:n.inline=Sh.gfm),this.tokenizer.rules=n}static get rules(){return{block:lg,inline:Sh}}static lex(e,n){return new Zk(n).lex(e)}static lexInline(e,n){return new Zk(n).inlineTokens(e)}lex(e){e=e.replace(Xa.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){for(this.options.pedantic&&(e=e.replace(Xa.tabCharGlobal,"    ").replace(Xa.spaceLine,""));e;){let a;if(this.options.extensions?.block?.some(i=>(a=i.call({lexer:this},e,n))?(e=e.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);let i=n.at(-1);a.raw.length===1&&i!==void 0?i.raw+=`
`:n.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);let i=n.at(-1);i?.type==="paragraph"||i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+a.raw,i.text+=`
`+a.text,this.inlineQueue.at(-1).src=i.text):n.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);let i=n.at(-1);i?.type==="paragraph"||i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+a.raw,i.text+=`
`+a.raw,this.inlineQueue.at(-1).src=i.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title},n.push(a));continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),n.push(a);continue}let s=e;if(this.options.extensions?.startBlock){let i=1/0,o=e.slice(1),c;this.options.extensions.startBlock.forEach(u=>{c=u.call({lexer:this},o),typeof c=="number"&&c>=0&&(i=Math.min(i,c))}),i<1/0&&i>=0&&(s=e.substring(0,i+1))}if(this.state.top&&(a=this.tokenizer.paragraph(s))){let i=n.at(-1);r&&i?.type==="paragraph"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+a.raw,i.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):n.push(a),r=s.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);let i=n.at(-1);i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+a.raw,i.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):n.push(a);continue}if(e){let i="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(i);break}else throw new Error(i)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r=e,a=null;if(this.tokens.links){let c=Object.keys(this.tokens.links);if(c.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)c.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,a.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(a=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)s=a[2]?a[2].length:0,r=r.slice(0,a.index+s)+"["+"a".repeat(a[0].length-s-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=this.options.hooks?.emStrongMask?.call({lexer:this},r)??r;let i=!1,o="";for(;e;){i||(o=""),i=!1;let c;if(this.options.extensions?.inline?.some(d=>(c=d.call({lexer:this},e,n))?(e=e.substring(c.raw.length),n.push(c),!0):!1))continue;if(c=this.tokenizer.escape(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.tag(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.link(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(c.raw.length);let d=n.at(-1);c.type==="text"&&d?.type==="text"?(d.raw+=c.raw,d.text+=c.text):n.push(c);continue}if(c=this.tokenizer.emStrong(e,r,o)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.codespan(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.br(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.del(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.autolink(e)){e=e.substring(c.raw.length),n.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(e))){e=e.substring(c.raw.length),n.push(c);continue}let u=e;if(this.options.extensions?.startInline){let d=1/0,m=e.slice(1),h;this.options.extensions.startInline.forEach(p=>{h=p.call({lexer:this},m),typeof h=="number"&&h>=0&&(d=Math.min(d,h))}),d<1/0&&d>=0&&(u=e.substring(0,d+1))}if(c=this.tokenizer.inlineText(u)){e=e.substring(c.raw.length),c.raw.slice(-1)!=="_"&&(o=c.raw.slice(-1)),i=!0;let d=n.at(-1);d?.type==="text"?(d.raw+=c.raw,d.text+=c.text):n.push(c);continue}if(e){let d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return n}},wb=class{options;parser;constructor(e){this.options=e||Yu}space(e){return""}code({text:e,lang:n,escaped:r}){let a=(n||"").match(Xa.notSpaceStart)?.[0],s=e.replace(Xa.endingNewline,"")+`
`;return a?'<pre><code class="language-'+Lo(a)+'">'+(r?s:Lo(s,!0))+`</code></pre>
`:"<pre><code>"+(r?s:Lo(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){let n=e.ordered,r=e.start,a="";for(let o=0;o<e.items.length;o++){let c=e.items[o];a+=this.listitem(c)}let s=n?"ol":"ul",i=n&&r!==1?' start="'+r+'"':"";return"<"+s+i+`>
`+a+"</"+s+`>
`}listitem(e){return`<li>${this.parser.parse(e.tokens)}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",r="";for(let s=0;s<e.header.length;s++)r+=this.tablecell(e.header[s]);n+=this.tablerow({text:r});let a="";for(let s=0;s<e.rows.length;s++){let i=e.rows[s];r="";for(let o=0;o<i.length;o++)r+=this.tablecell(i[o]);a+=this.tablerow({text:r})}return a&&(a=`<tbody>${a}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+a+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let n=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Lo(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:r}){let a=this.parser.parseInline(r),s=G8(e);if(s===null)return a;e=s;let i='<a href="'+e+'"';return n&&(i+=' title="'+Lo(n)+'"'),i+=">"+a+"</a>",i}image({href:e,title:n,text:r,tokens:a}){a&&(r=this.parser.parseInline(a,this.parser.textRenderer));let s=G8(e);if(s===null)return Lo(r);e=s;let i=`<img src="${e}" alt="${r}"`;return n&&(i+=` title="${Lo(n)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Lo(e.text)}},F6=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}checkbox({raw:e}){return e}},bi=class Qk{options;renderer;textRenderer;constructor(e){this.options=e||Yu,this.options.renderer=this.options.renderer||new wb,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new F6}static parse(e,n){return new Qk(n).parse(e)}static parseInline(e,n){return new Qk(n).parseInline(e)}parse(e){let n="";for(let r=0;r<e.length;r++){let a=e[r];if(this.options.extensions?.renderers?.[a.type]){let i=a,o=this.options.extensions.renderers[i.type].call({parser:this},i);if(o!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(i.type)){n+=o||"";continue}}let s=a;switch(s.type){case"space":{n+=this.renderer.space(s);break}case"hr":{n+=this.renderer.hr(s);break}case"heading":{n+=this.renderer.heading(s);break}case"code":{n+=this.renderer.code(s);break}case"table":{n+=this.renderer.table(s);break}case"blockquote":{n+=this.renderer.blockquote(s);break}case"list":{n+=this.renderer.list(s);break}case"checkbox":{n+=this.renderer.checkbox(s);break}case"html":{n+=this.renderer.html(s);break}case"def":{n+=this.renderer.def(s);break}case"paragraph":{n+=this.renderer.paragraph(s);break}case"text":{n+=this.renderer.text(s);break}default:{let i='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(i),"";throw new Error(i)}}}return n}parseInline(e,n=this.renderer){let r="";for(let a=0;a<e.length;a++){let s=e[a];if(this.options.extensions?.renderers?.[s.type]){let o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=o||"";continue}}let i=s;switch(i.type){case"escape":{r+=n.text(i);break}case"html":{r+=n.html(i);break}case"link":{r+=n.link(i);break}case"image":{r+=n.image(i);break}case"checkbox":{r+=n.checkbox(i);break}case"strong":{r+=n.strong(i);break}case"em":{r+=n.em(i);break}case"codespan":{r+=n.codespan(i);break}case"br":{r+=n.br(i);break}case"del":{r+=n.del(i);break}case"text":{r+=n.text(i);break}default:{let o='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}},Jh=class{options;block;constructor(e){this.options=e||Yu}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?Ks.lex:Ks.lexInline}provideParser(){return this.block?bi.parse:bi.parseInline}},b9e=class{defaults=A6();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=bi;Renderer=wb;TextRenderer=F6;Lexer=Ks;Tokenizer=yb;Hooks=Jh;constructor(...e){this.use(...e)}walkTokens(e,n){let r=[];for(let a of e)switch(r=r.concat(n.call(this,a)),a.type){case"table":{let s=a;for(let i of s.header)r=r.concat(this.walkTokens(i.tokens,n));for(let i of s.rows)for(let o of i)r=r.concat(this.walkTokens(o.tokens,n));break}case"list":{let s=a;r=r.concat(this.walkTokens(s.items,n));break}default:{let s=a;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(i=>{let o=s[i].flat(1/0);r=r.concat(this.walkTokens(o,n))}):s.tokens&&(r=r.concat(this.walkTokens(s.tokens,n)))}}return r}use(...e){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let a={...r};if(a.async=this.defaults.async||a.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let i=n.renderers[s.name];i?n.renderers[s.name]=function(...o){let c=s.renderer.apply(this,o);return c===!1&&(c=i.apply(this,o)),c}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=n[s.level];i?i.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),a.extensions=n),r.renderer){let s=this.defaults.renderer||new wb(this.defaults);for(let i in r.renderer){if(!(i in s))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let o=i,c=r.renderer[o],u=s[o];s[o]=(...d)=>{let m=c.apply(s,d);return m===!1&&(m=u.apply(s,d)),m||""}}a.renderer=s}if(r.tokenizer){let s=this.defaults.tokenizer||new yb(this.defaults);for(let i in r.tokenizer){if(!(i in s))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let o=i,c=r.tokenizer[o],u=s[o];s[o]=(...d)=>{let m=c.apply(s,d);return m===!1&&(m=u.apply(s,d)),m}}a.tokenizer=s}if(r.hooks){let s=this.defaults.hooks||new Jh;for(let i in r.hooks){if(!(i in s))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let o=i,c=r.hooks[o],u=s[o];Jh.passThroughHooks.has(i)?s[o]=d=>{if(this.defaults.async&&Jh.passThroughHooksRespectAsync.has(i))return(async()=>{let h=await c.call(s,d);return u.call(s,h)})();let m=c.call(s,d);return u.call(s,m)}:s[o]=(...d)=>{if(this.defaults.async)return(async()=>{let h=await c.apply(s,d);return h===!1&&(h=await u.apply(s,d)),h})();let m=c.apply(s,d);return m===!1&&(m=u.apply(s,d)),m}}a.hooks=s}if(r.walkTokens){let s=this.defaults.walkTokens,i=r.walkTokens;a.walkTokens=function(o){let c=[];return c.push(i.call(this,o)),s&&(c=c.concat(s.call(this,o))),c}}this.defaults={...this.defaults,...a}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return Ks.lex(e,n??this.defaults)}parser(e,n){return bi.parse(e,n??this.defaults)}parseMarkdown(e){return(n,r)=>{let a={...r},s={...this.defaults,...a},i=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&a.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let o=s.hooks?await s.hooks.preprocess(n):n,c=await(s.hooks?await s.hooks.provideLexer():e?Ks.lex:Ks.lexInline)(o,s),u=s.hooks?await s.hooks.processAllTokens(c):c;s.walkTokens&&await Promise.all(this.walkTokens(u,s.walkTokens));let d=await(s.hooks?await s.hooks.provideParser():e?bi.parse:bi.parseInline)(u,s);return s.hooks?await s.hooks.postprocess(d):d})().catch(i);try{s.hooks&&(n=s.hooks.preprocess(n));let o=(s.hooks?s.hooks.provideLexer():e?Ks.lex:Ks.lexInline)(n,s);s.hooks&&(o=s.hooks.processAllTokens(o)),s.walkTokens&&this.walkTokens(o,s.walkTokens);let c=(s.hooks?s.hooks.provideParser():e?bi.parse:bi.parseInline)(o,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(o){return i(o)}}}onError(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let a="<p>An error occurred:</p><pre>"+Lo(r.message+"",!0)+"</pre>";return n?Promise.resolve(a):a}if(n)return Promise.reject(r);throw r}}},Cu=new b9e;function ar(t,e){return Cu.parse(t,e)}ar.options=ar.setOptions=function(t){return Cu.setOptions(t),ar.defaults=Cu.defaults,fz(ar.defaults),ar};ar.getDefaults=A6;ar.defaults=Yu;ar.use=function(...t){return Cu.use(...t),ar.defaults=Cu.defaults,fz(ar.defaults),ar};ar.walkTokens=function(t,e){return Cu.walkTokens(t,e)};ar.parseInline=Cu.parseInline;ar.Parser=bi;ar.parser=bi.parse;ar.Renderer=wb;ar.TextRenderer=F6;ar.Lexer=Ks;ar.lexer=Ks.lex;ar.Tokenizer=yb;ar.Hooks=Jh;ar.parse=ar;ar.options;ar.setOptions;ar.use;ar.walkTokens;ar.parseInline;bi.parse;Ks.lex;const x9e=Object.freeze(JSON.parse(`{"displayName":"Shell","name":"shellscript","patterns":[{"include":"#initial_context"}],"repository":{"alias_statement":{"begin":"[\\\\t ]*+(alias)[\\\\t ]*+((?:((?<!\\\\w)-\\\\w+)\\\\b[\\\\t ]*+)*)[\\\\t ]*+((?<!\\\\w)[-0-9A-Z_a-z]+(?!\\\\w))(?:(\\\\[)((?:(?:\\\\$?(?<!\\\\w)[-0-9A-Z_a-z]+(?!\\\\w)|@)|\\\\*)|(-?\\\\d+))(]))?(?:(?:(=)|(\\\\+=))|(-=))","beginCaptures":{"1":{"name":"storage.type.alias.shell"},"2":{"patterns":[{"match":"(?<!\\\\w)-\\\\w+\\\\b","name":"string.unquoted.argument.shell constant.other.option.shell"}]},"3":{"name":"string.unquoted.argument.shell constant.other.option.shell"},"4":{"name":"variable.other.assignment.shell"},"5":{"name":"punctuation.definition.array.access.shell"},"6":{"name":"variable.other.assignment.shell"},"7":{"name":"constant.numeric.shell constant.numeric.integer.shell"},"8":{"name":"punctuation.definition.array.access.shell"},"9":{"name":"keyword.operator.assignment.shell"},"10":{"name":"keyword.operator.assignment.compound.shell"},"11":{"name":"keyword.operator.assignment.compound.shell"}},"end":"(?=[\\\\t ]|$)|(?:(?:(?:(;)|(&&))|(\\\\|\\\\|))|(&))","endCaptures":{"1":{"name":"punctuation.terminator.statement.semicolon.shell"},"2":{"name":"punctuation.separator.statement.and.shell"},"3":{"name":"punctuation.separator.statement.or.shell"},"4":{"name":"punctuation.separator.statement.background.shell"}},"name":"meta.expression.assignment.alias.shell","patterns":[{"include":"#normal_context"}]},"argument":{"begin":"[\\\\t ]++(?![\\\\n#\\\\&(\\\\[|]|$|;)","beginCaptures":{},"end":"(?=[\\\\t \\\\&;|]|$|[\\\\n)\`])","endCaptures":{},"name":"meta.argument.shell","patterns":[{"include":"#argument_context"},{"include":"#line_continuation"}]},"argument_context":{"patterns":[{"captures":{"1":{"name":"string.unquoted.argument.shell","patterns":[{"match":"\\\\*","name":"variable.language.special.wildcard.shell"},{"include":"#variable"},{"include":"#numeric_literal"},{"captures":{"1":{"name":"constant.language.$1.shell"}},"match":"(?<!\\\\w)\\\\b(true|false)\\\\b(?!\\\\w)"}]}},"match":"[\\\\t ]*+([^\\\\t\\\\n \\"$\\\\&-);<>\\\\\\\\\`|]+(?!>))"},{"include":"#normal_context"}]},"arithmetic_double":{"patterns":[{"begin":"\\\\(\\\\(","beginCaptures":{"0":{"name":"punctuation.section.arithmetic.double.shell"}},"end":"\\\\)\\\\s*\\\\)","endCaptures":{"0":{"name":"punctuation.section.arithmetic.double.shell"}},"name":"meta.arithmetic.shell","patterns":[{"include":"#math"},{"include":"#string"}]}]},"arithmetic_no_dollar":{"patterns":[{"begin":"\\\\(","beginCaptures":{"0":{"name":"punctuation.section.arithmetic.single.shell"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.section.arithmetic.single.shell"}},"name":"meta.arithmetic.shell","patterns":[{"include":"#math"},{"include":"#string"}]}]},"array_access_inline":{"captures":{"1":{"name":"punctuation.section.array.shell"},"2":{"patterns":[{"include":"#special_expansion"},{"include":"#string"},{"include":"#variable"}]},"3":{"name":"punctuation.section.array.shell"}},"match":"(\\\\[)([^]\\\\[]+)(])"},"array_value":{"begin":"[\\\\t ]*+((?<!\\\\w)[-0-9A-Z_a-z]+(?!\\\\w))(?:(\\\\[)((?:(?:\\\\$?(?<!\\\\w)[-0-9A-Z_a-z]+(?!\\\\w)|@)|\\\\*)|(-?\\\\d+))(]))?(?:(?:(=)|(\\\\+=))|(-=))[\\\\t ]*+(\\\\()","beginCaptures":{"1":{"name":"variable.other.assignment.shell"},"2":{"name":"punctuation.definition.array.access.shell"},"3":{"name":"variable.other.assignment.shell"},"4":{"name":"constant.numeric.shell constant.numeric.integer.shell"},"5":{"name":"punctuation.definition.array.access.shell"},"6":{"name":"keyword.operator.assignment.shell"},"7":{"name":"keyword.operator.assignment.compound.shell"},"8":{"name":"keyword.operator.assignment.compound.shell"},"9":{"name":"punctuation.definition.array.shell"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.array.shell"}},"patterns":[{"include":"#comment"},{"captures":{"1":{"name":"variable.other.assignment.array.shell entity.other.attribute-name.shell"},"2":{"name":"keyword.operator.assignment.shell punctuation.definition.assignment.shell"}},"match":"((?<!\\\\w)[-0-9A-Z_a-z]+(?!\\\\w))(=)"},{"captures":{"1":{"name":"punctuation.definition.bracket.named-array.shell"},"2":{"name":"string.unquoted.shell entity.other.attribute-name.bracket.shell"},"3":{"name":"punctuation.definition.bracket.named-array.shell"},"4":{"name":"punctuation.definition.assignment.shell"}},"match":"(\\\\[)(.+?)(])(=)"},{"include":"#normal_context"},{"include":"#simple_unquoted"}]},"assignment_statement":{"patterns":[{"include":"#array_value"},{"include":"#modified_assignment_statement"},{"include":"#normal_assignment_statement"}]},"basic_command_name":{"captures":{"1":{"name":"storage.modifier.$1.shell"},"2":{"name":"entity.name.function.call.shell entity.name.command.shell","patterns":[{"match":"(?<!\\\\w)(?:continue|return|break)(?!\\\\w)","name":"keyword.control.$0.shell"},{"match":"(?<!\\\\w)(?:unfunction|continue|autoload|unsetopt|bindkey|builtin|getopts|command|declare|unalias|history|unlimit|typeset|suspend|source|printf|unhash|disown|ulimit|return|which|alias|break|false|print|shift|times|umask|unset|read|type|exec|eval|wait|echo|dirs|jobs|kill|hash|stat|exit|test|trap|true|let|set|pwd|cd|fg|bg|fc|[.:])(?!/)(?!\\\\w)(?!-)","name":"support.function.builtin.shell"},{"include":"#variable"}]}},"match":"(?![\\\\n!#\\\\&()<>\\\\[{|]|$|[\\\\t ;])(?!nocorrect |nocorrect\\\\t|nocorrect$|readonly |readonly\\\\t|readonly$|function |function\\\\t|function$|foreach |foreach\\\\t|foreach$|coproc |coproc\\\\t|coproc$|logout |logout\\\\t|logout$|export |export\\\\t|export$|select |select\\\\t|select$|repeat |repeat\\\\t|repeat$|pushd |pushd\\\\t|pushd$|until |until\\\\t|until$|while |while\\\\t|while$|local |local\\\\t|local$|case |case\\\\t|case$|done |done\\\\t|done$|elif |elif\\\\t|elif$|else |else\\\\t|else$|esac |esac\\\\t|esac$|popd |popd\\\\t|popd$|then |then\\\\t|then$|time |time\\\\t|time$|for |for\\\\t|for$|end |end\\\\t|end$|fi |fi\\\\t|fi$|do |do\\\\t|do$|in |in\\\\t|in$|if |if\\\\t|if$)(?:((?<=^|[\\\\t \\\\&;])(?:readonly|declare|typeset|export|local)(?=[\\\\t \\\\&;]|$))|((?![\\"']|\\\\\\\\\\\\n?$)[^\\\\t\\\\n\\\\r !\\"'<>]+?))(?:(?=[\\\\t ])|(?=[\\\\n\\\\&);\`{|}]|[\\\\t ]*#|])(?<!\\\\\\\\))","name":"meta.statement.command.name.basic.shell"},"block_comment":{"begin":"\\\\s*+(/\\\\*)","beginCaptures":{"1":{"name":"punctuation.definition.comment.begin.shell"}},"end":"\\\\*/","endCaptures":{"0":{"name":"punctuation.definition.comment.end.shell"}},"name":"comment.block.shell"},"boolean":{"match":"\\\\b(?:true|false)\\\\b","name":"constant.language.$0.shell"},"case_statement":{"begin":"\\\\b(case)\\\\b[\\\\t ]*+(.+?)[\\\\t ]*+\\\\b(in)\\\\b","beginCaptures":{"1":{"name":"keyword.control.case.shell"},"2":{"patterns":[{"include":"#initial_context"}]},"3":{"name":"keyword.control.in.shell"}},"end":"\\\\besac\\\\b","endCaptures":{"0":{"name":"keyword.control.esac.shell"}},"name":"meta.case.shell","patterns":[{"include":"#comment"},{"captures":{"1":{"name":"keyword.operator.pattern.case.default.shell"}},"match":"[\\\\t ]*+(\\\\* *\\\\))"},{"begin":"(?<!\\\\))(?![\\\\t ]*+(?:esac\\\\b|$))","beginCaptures":{},"end":"(?=\\\\besac\\\\b)|(\\\\))","endCaptures":{"1":{"name":"keyword.operator.pattern.case.shell"}},"name":"meta.case.entry.pattern.shell","patterns":[{"include":"#case_statement_context"}]},{"begin":"(?<=\\\\))","beginCaptures":{},"end":"(;;)|(?=\\\\besac\\\\b)","endCaptures":{"1":{"name":"punctuation.terminator.statement.case.shell"}},"name":"meta.case.entry.body.shell","patterns":[{"include":"#typical_statements"},{"include":"#initial_context"}]}]},"case_statement_context":{"patterns":[{"match":"\\\\*","name":"variable.language.special.quantifier.star.shell keyword.operator.quantifier.star.shell punctuation.definition.arbitrary-repetition.shell punctuation.definition.regex.arbitrary-repetition.shell"},{"match":"\\\\+","name":"variable.language.special.quantifier.plus.shell keyword.operator.quantifier.plus.shell punctuation.definition.arbitrary-repetition.shell punctuation.definition.regex.arbitrary-repetition.shell"},{"match":"\\\\?","name":"variable.language.special.quantifier.question.shell keyword.operator.quantifier.question.shell punctuation.definition.arbitrary-repetition.shell punctuation.definition.regex.arbitrary-repetition.shell"},{"match":"@","name":"variable.language.special.at.shell keyword.operator.at.shell punctuation.definition.regex.at.shell"},{"match":"\\\\|","name":"keyword.operator.orvariable.language.special.or.shell keyword.operator.alternation.ruby.shell punctuation.definition.regex.alternation.shell punctuation.separator.regex.alternation.shell"},{"match":"\\\\\\\\.","name":"constant.character.escape.shell"},{"match":"(?<=\\\\tin| in|[\\\\t ]|;;)\\\\(","name":"keyword.operator.pattern.case.shell"},{"begin":"(?<=\\\\S)(\\\\()","beginCaptures":{"1":{"name":"punctuation.definition.group.shell punctuation.definition.regex.group.shell"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.group.shell punctuation.definition.regex.group.shell"}},"name":"meta.parenthese.shell","patterns":[{"include":"#case_statement_context"}]},{"begin":"\\\\[","beginCaptures":{"0":{"name":"punctuation.definition.character-class.shell"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.character-class.shell"}},"name":"string.regexp.character-class.shell","patterns":[{"match":"\\\\\\\\.","name":"constant.character.escape.shell"}]},{"include":"#string"},{"match":"[^\\\\t\\\\n )*?@\\\\[|]","name":"string.unquoted.pattern.shell string.regexp.unquoted.shell"}]},"command_name_range":{"begin":"\\\\G","beginCaptures":{},"end":"(?=[\\\\t \\\\&;|]|$|[\\\\n)\`])|(?=<)","endCaptures":{},"name":"meta.statement.command.name.shell","patterns":[{"match":"(?<!\\\\w)(?:continue|return|break)(?!\\\\w)","name":"entity.name.function.call.shell entity.name.command.shell keyword.control.$0.shell"},{"match":"(?<!\\\\w)(?:unfunction|continue|autoload|unsetopt|bindkey|builtin|getopts|command|declare|unalias|history|unlimit|typeset|suspend|source|printf|unhash|disown|ulimit|return|which|alias|break|false|print|shift|times|umask|unset|read|type|exec|eval|wait|echo|dirs|jobs|kill|hash|stat|exit|test|trap|true|let|set|pwd|cd|fg|bg|fc|[.:])(?!/)(?!\\\\w)(?!-)","name":"entity.name.function.call.shell entity.name.command.shell support.function.builtin.shell"},{"include":"#variable"},{"captures":{"1":{"name":"entity.name.function.call.shell entity.name.command.shell"}},"match":"(?<!\\\\w)(?<=\\\\G|[\\"')}])([^\\\\t\\\\n\\\\r \\"\\\\&');->\`{|]+)"},{"begin":"(?:\\\\G|(?<![\\\\t\\\\n #\\\\&;{|]))(\\\\$?)((\\")|('))","beginCaptures":{"1":{"name":"meta.statement.command.name.quoted.shell punctuation.definition.string.shell entity.name.function.call.shell entity.name.command.shell"},"2":{},"3":{"name":"meta.statement.command.name.quoted.shell string.quoted.double.shell punctuation.definition.string.begin.shell entity.name.function.call.shell entity.name.command.shell"},"4":{"name":"meta.statement.command.name.quoted.shell string.quoted.single.shell punctuation.definition.string.begin.shell entity.name.function.call.shell entity.name.command.shell"}},"end":"(?<!\\\\G)(?<=\\\\2)","endCaptures":{},"patterns":[{"include":"#continuation_of_single_quoted_command_name"},{"include":"#continuation_of_double_quoted_command_name"}]},{"include":"#line_continuation"},{"include":"#simple_unquoted"}]},"command_statement":{"begin":"[\\\\t ]*+(?![\\\\n!#\\\\&()<>\\\\[{|]|$|[\\\\t ;])(?!nocorrect |nocorrect\\\\t|nocorrect$|readonly |readonly\\\\t|readonly$|function |function\\\\t|function$|foreach |foreach\\\\t|foreach$|coproc |coproc\\\\t|coproc$|logout |logout\\\\t|logout$|export |export\\\\t|export$|select |select\\\\t|select$|repeat |repeat\\\\t|repeat$|pushd |pushd\\\\t|pushd$|until |until\\\\t|until$|while |while\\\\t|while$|local |local\\\\t|local$|case |case\\\\t|case$|done |done\\\\t|done$|elif |elif\\\\t|elif$|else |else\\\\t|else$|esac |esac\\\\t|esac$|popd |popd\\\\t|popd$|then |then\\\\t|then$|time |time\\\\t|time$|for |for\\\\t|for$|end |end\\\\t|end$|fi |fi\\\\t|fi$|do |do\\\\t|do$|in |in\\\\t|in$|if |if\\\\t|if$)(?!\\\\\\\\\\\\n?$)","beginCaptures":{},"end":"(?=[\\\\n\\\\&);\`{|}]|[\\\\t ]*#|])(?<!\\\\\\\\)","endCaptures":{},"name":"meta.statement.command.shell","patterns":[{"include":"#command_name_range"},{"include":"#line_continuation"},{"include":"#option"},{"include":"#argument"},{"include":"#string"},{"include":"#heredoc"}]},"comment":{"captures":{"1":{"name":"comment.line.number-sign.shell meta.shebang.shell"},"2":{"name":"punctuation.definition.comment.shebang.shell"},"3":{"name":"comment.line.number-sign.shell"},"4":{"name":"punctuation.definition.comment.shell"}},"match":"(?:^|[\\\\t ]++)(?:((#!).*)|((#).*))"},"comments":{"patterns":[{"include":"#block_comment"},{"include":"#line_comment"}]},"compound-command":{"patterns":[{"begin":"\\\\[","beginCaptures":{"0":{"name":"punctuation.definition.logical-expression.shell"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.logical-expression.shell"}},"name":"meta.scope.logical-expression.shell","patterns":[{"include":"#logical-expression"},{"include":"#initial_context"}]},{"begin":"(?<=\\\\s|^)\\\\{(?=\\\\s|$)","beginCaptures":{"0":{"name":"punctuation.definition.group.shell"}},"end":"(?<=^|;)\\\\s*(})","endCaptures":{"1":{"name":"punctuation.definition.group.shell"}},"name":"meta.scope.group.shell","patterns":[{"include":"#initial_context"}]}]},"continuation_of_double_quoted_command_name":{"begin":"\\\\G(?<=\\")","beginCaptures":{},"contentName":"meta.statement.command.name.continuation string.quoted.double entity.name.function.call entity.name.command","end":"\\"","endCaptures":{"0":{"name":"string.quoted.double.shell punctuation.definition.string.end.shell entity.name.function.call.shell entity.name.command.shell"}},"patterns":[{"match":"\\\\\\\\[\\\\n\\"$\\\\\\\\\`]","name":"constant.character.escape.shell"},{"include":"#variable"},{"include":"#interpolation"}]},"continuation_of_single_quoted_command_name":{"begin":"\\\\G(?<=')","beginCaptures":{},"contentName":"meta.statement.command.name.continuation string.quoted.single entity.name.function.call entity.name.command","end":"'","endCaptures":{"0":{"name":"string.quoted.single.shell punctuation.definition.string.end.shell entity.name.function.call.shell entity.name.command.shell"}}},"custom_command_names":{"patterns":[]},"custom_commands":{"patterns":[]},"double_quote_context":{"patterns":[{"match":"\\\\\\\\[\\\\n\\"$\\\\\\\\\`]","name":"constant.character.escape.shell"},{"include":"#variable"},{"include":"#interpolation"}]},"double_quote_escape_char":{"match":"\\\\\\\\[\\\\n\\"$\\\\\\\\\`]","name":"constant.character.escape.shell"},"floating_keyword":{"patterns":[{"match":"(?<=^|[\\\\t \\\\&;])(?:then|elif|else|done|end|do|if|fi)(?=[\\\\t \\\\&;]|$)","name":"keyword.control.$0.shell"}]},"for_statement":{"patterns":[{"begin":"\\\\b(for)\\\\b[\\\\t ]*+((?<!\\\\w)[-0-9A-Z_a-z]+(?!\\\\w))[\\\\t ]*+\\\\b(in)\\\\b","beginCaptures":{"1":{"name":"keyword.control.for.shell"},"2":{"name":"variable.other.for.shell"},"3":{"name":"keyword.control.in.shell"}},"end":"(?=[\\\\n\\\\&);\`{|}]|[\\\\t ]*#|])(?<!\\\\\\\\)","endCaptures":{},"name":"meta.for.in.shell","patterns":[{"include":"#string"},{"include":"#simple_unquoted"},{"include":"#normal_context"}]},{"begin":"\\\\b(for)\\\\b","beginCaptures":{"1":{"name":"keyword.control.for.shell"}},"end":"(?=[\\\\n\\\\&);\`{|}]|[\\\\t ]*#|])(?<!\\\\\\\\)","endCaptures":{},"name":"meta.for.shell","patterns":[{"include":"#arithmetic_double"},{"include":"#normal_context"}]}]},"function_definition":{"applyEndPatternLast":1,"begin":"[\\\\t ]*+(?:\\\\b(function)\\\\b[\\\\t ]*+([^\\\\t\\\\n\\\\r \\"'()=]+)(?:(\\\\()[\\\\t ]*+(\\\\)))?|([^\\\\t\\\\n\\\\r \\"'()=]+)[\\\\t ]*+(\\\\()[\\\\t ]*+(\\\\)))","beginCaptures":{"1":{"name":"storage.type.function.shell"},"2":{"name":"entity.name.function.shell"},"3":{"name":"punctuation.definition.arguments.shell"},"4":{"name":"punctuation.definition.arguments.shell"},"5":{"name":"entity.name.function.shell"},"6":{"name":"punctuation.definition.arguments.shell"},"7":{"name":"punctuation.definition.arguments.shell"}},"end":"(?<=[)}])","endCaptures":{},"name":"meta.function.shell","patterns":[{"match":"\\\\G[\\\\t\\\\n ]"},{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.group.shell punctuation.section.function.definition.shell"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.group.shell punctuation.section.function.definition.shell"}},"name":"meta.function.body.shell","patterns":[{"include":"#initial_context"}]},{"begin":"\\\\(","beginCaptures":{"0":{"name":"punctuation.definition.group.shell punctuation.section.function.definition.shell"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.group.shell punctuation.section.function.definition.shell"}},"name":"meta.function.body.shell","patterns":[{"include":"#initial_context"}]},{"include":"#initial_context"}]},"heredoc":{"patterns":[{"begin":"((?<!<)<<-)[\\\\t ]*+([\\"'])[\\\\t ]*+([^\\"']+?)(?=[\\"\\\\&';<\\\\s])(\\\\2)(.*)","beginCaptures":{"1":{"name":"keyword.operator.heredoc.shell"},"2":{"name":"punctuation.definition.string.heredoc.quote.shell"},"3":{"name":"punctuation.definition.string.heredoc.delimiter.shell"},"4":{"name":"punctuation.definition.string.heredoc.quote.shell"},"5":{"patterns":[{"include":"#redirect_fix"},{"include":"#typical_statements"}]}},"contentName":"string.quoted.heredoc.indent.$3","end":"^\\\\t*\\\\3(?=[\\\\&;\\\\s]|$)","endCaptures":{"0":{"name":"punctuation.definition.string.heredoc.$0.shell"}},"patterns":[]},{"begin":"((?<!<)<<(?!<))[\\\\t ]*+([\\"'])[\\\\t ]*+([^\\"']+?)(?=[\\"\\\\&';<\\\\s])(\\\\2)(.*)","beginCaptures":{"1":{"name":"keyword.operator.heredoc.shell"},"2":{"name":"punctuation.definition.string.heredoc.quote.shell"},"3":{"name":"punctuation.definition.string.heredoc.delimiter.shell"},"4":{"name":"punctuation.definition.string.heredoc.quote.shell"},"5":{"patterns":[{"include":"#redirect_fix"},{"include":"#typical_statements"}]}},"contentName":"string.quoted.heredoc.no-indent.$3","end":"^\\\\3(?=[\\\\&;\\\\s]|$)","endCaptures":{"0":{"name":"punctuation.definition.string.heredoc.delimiter.shell"}},"patterns":[]},{"begin":"((?<!<)<<-)[\\\\t ]*+([^\\\\t \\"']+)(?=[\\"\\\\&';<\\\\s])(.*)","beginCaptures":{"1":{"name":"keyword.operator.heredoc.shell"},"2":{"name":"punctuation.definition.string.heredoc.delimiter.shell"},"3":{"patterns":[{"include":"#redirect_fix"},{"include":"#typical_statements"}]}},"contentName":"string.unquoted.heredoc.indent.$2","end":"^\\\\t*\\\\2(?=[\\\\&;\\\\s]|$)","endCaptures":{"0":{"name":"punctuation.definition.string.heredoc.delimiter.shell"}},"patterns":[{"include":"#double_quote_escape_char"},{"include":"#variable"},{"include":"#interpolation"}]},{"begin":"((?<!<)<<(?!<))[\\\\t ]*+([^\\\\t \\"']+)(?=[\\"\\\\&';<\\\\s])(.*)","beginCaptures":{"1":{"name":"keyword.operator.heredoc.shell"},"2":{"name":"punctuation.definition.string.heredoc.delimiter.shell"},"3":{"patterns":[{"include":"#redirect_fix"},{"include":"#typical_statements"}]}},"contentName":"string.unquoted.heredoc.no-indent.$2","end":"^\\\\2(?=[\\\\&;\\\\s]|$)","endCaptures":{"0":{"name":"punctuation.definition.string.heredoc.delimiter.shell"}},"patterns":[{"include":"#double_quote_escape_char"},{"include":"#variable"},{"include":"#interpolation"}]}]},"herestring":{"patterns":[{"begin":"(<<<)\\\\s*(('))","beginCaptures":{"1":{"name":"keyword.operator.herestring.shell"},"2":{"name":"string.quoted.single.shell"},"3":{"name":"punctuation.definition.string.begin.shell"}},"contentName":"string.quoted.single.shell","end":"(')","endCaptures":{"0":{"name":"string.quoted.single.shell"},"1":{"name":"punctuation.definition.string.end.shell"}},"name":"meta.herestring.shell"},{"begin":"(<<<)\\\\s*((\\"))","beginCaptures":{"1":{"name":"keyword.operator.herestring.shell"},"2":{"name":"string.quoted.double.shell"},"3":{"name":"punctuation.definition.string.begin.shell"}},"contentName":"string.quoted.double.shell","end":"(\\")","endCaptures":{"0":{"name":"string.quoted.double.shell"},"1":{"name":"punctuation.definition.string.end.shell"}},"name":"meta.herestring.shell","patterns":[{"include":"#double_quote_context"}]},{"captures":{"1":{"name":"keyword.operator.herestring.shell"},"2":{"name":"string.unquoted.herestring.shell","patterns":[{"include":"#initial_context"}]}},"match":"(<<<)\\\\s*(([^)\\\\\\\\\\\\s]|\\\\\\\\.)+)","name":"meta.herestring.shell"}]},"initial_context":{"patterns":[{"include":"#comment"},{"include":"#pipeline"},{"include":"#normal_statement_seperator"},{"include":"#logical_expression_double"},{"include":"#logical_expression_single"},{"include":"#assignment_statement"},{"include":"#case_statement"},{"include":"#for_statement"},{"include":"#loop"},{"include":"#function_definition"},{"include":"#line_continuation"},{"include":"#arithmetic_double"},{"include":"#misc_ranges"},{"include":"#variable"},{"include":"#interpolation"},{"include":"#heredoc"},{"include":"#herestring"},{"include":"#redirection"},{"include":"#pathname"},{"include":"#floating_keyword"},{"include":"#alias_statement"},{"include":"#normal_statement"},{"include":"#string"},{"include":"#support"}]},"inline_comment":{"captures":{"1":{"name":"comment.block.shell punctuation.definition.comment.begin.shell"},"2":{"name":"comment.block.shell"},"3":{"patterns":[{"match":"\\\\*/","name":"comment.block.shell punctuation.definition.comment.end.shell"},{"match":"\\\\*","name":"comment.block.shell"}]}},"match":"(/\\\\*)((?:[^*]|\\\\*++[^/])*+(\\\\*++/))"},"interpolation":{"patterns":[{"include":"#arithmetic_dollar"},{"include":"#subshell_dollar"},{"begin":"\`","beginCaptures":{"0":{"name":"punctuation.definition.evaluation.backticks.shell"}},"end":"\`","endCaptures":{"0":{"name":"punctuation.definition.evaluation.backticks.shell"}},"name":"string.interpolated.backtick.shell","patterns":[{"match":"\\\\\\\\[$\\\\\\\\\`]","name":"constant.character.escape.shell"},{"begin":"(?<=\\\\W)(?=#)(?!#\\\\{)","beginCaptures":{"1":{"name":"punctuation.whitespace.comment.leading.shell"}},"end":"(?!\\\\G)","patterns":[{"begin":"#","beginCaptures":{"0":{"name":"punctuation.definition.comment.shell"}},"end":"(?=\`)","name":"comment.line.number-sign.shell"}]},{"include":"#initial_context"}]}]},"keyword":{"patterns":[{"match":"(?<=^|[\\\\&;\\\\s])(then|else|elif|fi|for|in|do|done|select|continue|esac|while|until|return)(?=[\\\\&;\\\\s]|$)","name":"keyword.control.shell"},{"match":"(?<=^|[\\\\&;\\\\s])(?:export|declare|typeset|local|readonly)(?=[\\\\&;\\\\s]|$)","name":"storage.modifier.shell"}]},"line_comment":{"begin":"\\\\s*+(//)","beginCaptures":{"1":{"name":"punctuation.definition.comment.shell"}},"end":"(?<=\\\\n)(?<!\\\\\\\\\\\\n)","endCaptures":{},"name":"comment.line.double-slash.shell","patterns":[{"include":"#line_continuation_character"}]},"line_continuation":{"match":"\\\\\\\\(?=\\\\n)","name":"constant.character.escape.line-continuation.shell"},"logical-expression":{"patterns":[{"include":"#arithmetic_no_dollar"},{"match":"=[=~]?|!=?|[<>]|&&|\\\\|\\\\|","name":"keyword.operator.logical.shell"},{"match":"(?<!\\\\S)-(nt|ot|ef|eq|ne|l[et]|g[et]|[GLNOSa-hknopr-uwxz])\\\\b","name":"keyword.operator.logical.shell"}]},"logical_expression_context":{"patterns":[{"include":"#regex_comparison"},{"include":"#arithmetic_no_dollar"},{"include":"#logical-expression"},{"include":"#logical_expression_single"},{"include":"#logical_expression_double"},{"include":"#comment"},{"include":"#boolean"},{"include":"#redirect_number"},{"include":"#numeric_literal"},{"include":"#pipeline"},{"include":"#normal_statement_seperator"},{"include":"#string"},{"include":"#variable"},{"include":"#interpolation"},{"include":"#heredoc"},{"include":"#herestring"},{"include":"#pathname"},{"include":"#floating_keyword"},{"include":"#support"}]},"logical_expression_double":{"begin":"\\\\[\\\\[","beginCaptures":{"0":{"name":"punctuation.definition.logical-expression.shell"}},"end":"]]","endCaptures":{"0":{"name":"punctuation.definition.logical-expression.shell"}},"name":"meta.scope.logical-expression.shell","patterns":[{"include":"#logical_expression_context"}]},"logical_expression_single":{"begin":"\\\\[","beginCaptures":{"0":{"name":"punctuation.definition.logical-expression.shell"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.logical-expression.shell"}},"name":"meta.scope.logical-expression.shell","patterns":[{"include":"#logical_expression_context"}]},"loop":{"patterns":[{"begin":"(?<=^|[\\\\&;\\\\s])(for)\\\\s+(.+?)\\\\s+(in)(?=[\\\\&;\\\\s]|$)","beginCaptures":{"1":{"name":"keyword.control.shell"},"2":{"name":"variable.other.loop.shell","patterns":[{"include":"#string"}]},"3":{"name":"keyword.control.shell"}},"end":"(?<=^|[\\\\&;\\\\s])done(?=[\\\\&;\\\\s]|$|\\\\))","endCaptures":{"0":{"name":"keyword.control.shell"}},"name":"meta.scope.for-in-loop.shell","patterns":[{"include":"#initial_context"}]},{"begin":"(?<=^|[\\\\&;\\\\s])(while|until)(?=[\\\\&;\\\\s]|$)","beginCaptures":{"1":{"name":"keyword.control.shell"}},"end":"(?<=^|[\\\\&;\\\\s])done(?=[\\\\&;\\\\s]|$|\\\\))","endCaptures":{"0":{"name":"keyword.control.shell"}},"name":"meta.scope.while-loop.shell","patterns":[{"include":"#initial_context"}]},{"begin":"(?<=^|[\\\\&;\\\\s])(select)\\\\s+((?:[^\\\\\\\\\\\\s]|\\\\\\\\.)+)(?=[\\\\&;\\\\s]|$)","beginCaptures":{"1":{"name":"keyword.control.shell"},"2":{"name":"variable.other.loop.shell"}},"end":"(?<=^|[\\\\&;\\\\s])(done)(?=[\\\\&;\\\\s]|$|\\\\))","endCaptures":{"1":{"name":"keyword.control.shell"}},"name":"meta.scope.select-block.shell","patterns":[{"include":"#initial_context"}]},{"begin":"(?<=^|[\\\\&;\\\\s])if(?=[\\\\&;\\\\s]|$)","beginCaptures":{"0":{"name":"keyword.control.if.shell"}},"end":"(?<=^|[\\\\&;\\\\s])fi(?=[\\\\&;\\\\s]|$)","endCaptures":{"0":{"name":"keyword.control.fi.shell"}},"name":"meta.scope.if-block.shell","patterns":[{"include":"#initial_context"}]}]},"math":{"patterns":[{"include":"#variable"},{"match":"\\\\+{1,2}|-{1,2}|[!~]|\\\\*{1,2}|[%/]|<[<=]?|>[=>]?|==|!=|^|\\\\|{1,2}|&{1,2}|[,:=?]|[-%\\\\&*+/^|]=|<<=|>>=","name":"keyword.operator.arithmetic.shell"},{"match":"0[Xx]\\\\h+","name":"constant.numeric.hex.shell"},{"match":";","name":"punctuation.separator.semicolon.range"},{"match":"0\\\\d+","name":"constant.numeric.octal.shell"},{"match":"\\\\d{1,2}#[0-9@-Z_a-z]+","name":"constant.numeric.other.shell"},{"match":"\\\\d+","name":"constant.numeric.integer.shell"},{"match":"(?<!\\\\w)[0-9A-Z_a-z]+(?!\\\\w)","name":"variable.other.normal.shell"}]},"math_operators":{"patterns":[{"match":"\\\\+{1,2}|-{1,2}|[!~]|\\\\*{1,2}|[%/]|<[<=]?|>[=>]?|==|!=|^|\\\\|{1,2}|&{1,2}|[,:=?]|[-%\\\\&*+/^|]=|<<=|>>=","name":"keyword.operator.arithmetic.shell"},{"match":"0[Xx]\\\\h+","name":"constant.numeric.hex.shell"},{"match":"0\\\\d+","name":"constant.numeric.octal.shell"},{"match":"\\\\d{1,2}#[0-9@-Z_a-z]+","name":"constant.numeric.other.shell"},{"match":"\\\\d+","name":"constant.numeric.integer.shell"}]},"misc_ranges":{"patterns":[{"include":"#logical_expression_single"},{"include":"#logical_expression_double"},{"include":"#subshell_dollar"},{"begin":"(?<![^\\\\t ])(\\\\{)(?![$\\\\w])","beginCaptures":{"1":{"name":"punctuation.definition.group.shell"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.group.shell"}},"name":"meta.scope.group.shell","patterns":[{"include":"#initial_context"}]}]},"modified_assignment_statement":{"begin":"(?<=^|[\\\\t \\\\&;])(?:readonly|declare|typeset|export|local)(?=[\\\\t \\\\&;]|$)","beginCaptures":{"0":{"name":"storage.modifier.$0.shell"}},"end":"(?=[\\\\n\\\\&);\`{|}]|[\\\\t ]*#|])(?<!\\\\\\\\)","endCaptures":{},"name":"meta.statement.shell meta.expression.assignment.modified.shell","patterns":[{"match":"(?<!\\\\w)-\\\\w+\\\\b","name":"string.unquoted.argument.shell constant.other.option.shell"},{"include":"#array_value"},{"captures":{"1":{"name":"variable.other.assignment.shell"},"2":{"name":"punctuation.definition.array.access.shell"},"3":{"name":"variable.other.assignment.shell"},"4":{"name":"constant.numeric.shell constant.numeric.integer.shell"},"5":{"name":"punctuation.definition.array.access.shell"},"6":{"name":"keyword.operator.assignment.shell"},"7":{"name":"keyword.operator.assignment.compound.shell"},"8":{"name":"keyword.operator.assignment.compound.shell"},"9":{"name":"constant.numeric.shell constant.numeric.hex.shell"},"10":{"name":"constant.numeric.shell constant.numeric.octal.shell"},"11":{"name":"constant.numeric.shell constant.numeric.other.shell"},"12":{"name":"constant.numeric.shell constant.numeric.decimal.shell"},"13":{"name":"constant.numeric.shell constant.numeric.version.shell"},"14":{"name":"constant.numeric.shell constant.numeric.integer.shell"}},"match":"((?<!\\\\w)[-0-9A-Z_a-z]+(?!\\\\w))(?:(\\\\[)((?:(?:\\\\$?(?<!\\\\w)[-0-9A-Z_a-z]+(?!\\\\w)|@)|\\\\*)|(-?\\\\d+))(]))?(?:(?:(=)|(\\\\+=))|(-=))?(?:(?<=[\\\\t =]|^|[(\\\\[{])(?:(?:(?:(?:(?:(0[Xx]\\\\h+)|(0\\\\d+))|(\\\\d{1,2}#[0-9@-Z_a-z]+))|(-?\\\\d+\\\\.\\\\d+))|(-?\\\\d+(?:\\\\.\\\\d+)+))|(-?\\\\d+))(?=[\\\\t ]|$|[);}]))?"},{"include":"#normal_context"}]},"modifiers":{"match":"(?<=^|[\\\\t \\\\&;])(?:readonly|declare|typeset|export|local)(?=[\\\\t \\\\&;]|$)","name":"storage.modifier.$0.shell"},"normal_assignment_statement":{"begin":"[\\\\t ]*+((?<!\\\\w)[-0-9A-Z_a-z]+(?!\\\\w))(?:(\\\\[)((?:(?:\\\\$?(?<!\\\\w)[-0-9A-Z_a-z]+(?!\\\\w)|@)|\\\\*)|(-?\\\\d+))(]))?(?:(?:(=)|(\\\\+=))|(-=))","beginCaptures":{"1":{"name":"variable.other.assignment.shell"},"2":{"name":"punctuation.definition.array.access.shell"},"3":{"name":"variable.other.assignment.shell"},"4":{"name":"constant.numeric.shell constant.numeric.integer.shell"},"5":{"name":"punctuation.definition.array.access.shell"},"6":{"name":"keyword.operator.assignment.shell"},"7":{"name":"keyword.operator.assignment.compound.shell"},"8":{"name":"keyword.operator.assignment.compound.shell"}},"end":"(?=[\\\\n\\\\&);\`{|}]|[\\\\t ]*#|])(?<!\\\\\\\\)","endCaptures":{},"name":"meta.expression.assignment.shell","patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#normal_assignment_statement"},{"begin":"(?<=[\\\\t ])(?![\\\\t ]|\\\\w+=)","beginCaptures":{},"end":"(?=[\\\\n\\\\&);\`{|}]|[\\\\t ]*#|])(?<!\\\\\\\\)","endCaptures":{},"name":"meta.statement.command.env.shell","patterns":[{"include":"#command_name_range"},{"include":"#line_continuation"},{"include":"#option"},{"include":"#argument"},{"include":"#string"}]},{"include":"#simple_unquoted"},{"include":"#normal_context"}]},"normal_context":{"patterns":[{"include":"#comment"},{"include":"#pipeline"},{"include":"#normal_statement_seperator"},{"include":"#misc_ranges"},{"include":"#boolean"},{"include":"#redirect_number"},{"include":"#numeric_literal"},{"include":"#string"},{"include":"#variable"},{"include":"#interpolation"},{"include":"#heredoc"},{"include":"#herestring"},{"include":"#redirection"},{"include":"#pathname"},{"include":"#floating_keyword"},{"include":"#support"},{"include":"#parenthese"}]},"normal_statement":{"begin":"(?!^[\\\\t ]*+$)(?:(?<=(?:^until| until|\\\\tuntil|^while| while|\\\\twhile|^elif| elif|\\\\telif|^else| else|\\\\telse|^then| then|\\\\tthen|^do| do|\\\\tdo|^if| if|\\\\tif) )|(?<=^|[!\\\\&(;\`{|]))[\\\\t ]*+(?!nocorrect\\\\W|nocorrect\\\\$|function\\\\W|function\\\\$|foreach\\\\W|foreach\\\\$|repeat\\\\W|repeat\\\\$|logout\\\\W|logout\\\\$|coproc\\\\W|coproc\\\\$|select\\\\W|select\\\\$|while\\\\W|while\\\\$|pushd\\\\W|pushd\\\\$|until\\\\W|until\\\\$|case\\\\W|case\\\\$|done\\\\W|done\\\\$|elif\\\\W|elif\\\\$|else\\\\W|else\\\\$|esac\\\\W|esac\\\\$|popd\\\\W|popd\\\\$|then\\\\W|then\\\\$|time\\\\W|time\\\\$|for\\\\W|for\\\\$|end\\\\W|end\\\\$|fi\\\\W|fi\\\\$|do\\\\W|do\\\\$|in\\\\W|in\\\\$|if\\\\W|if\\\\$)","beginCaptures":{},"end":"(?=[\\\\n\\\\&);\`{|}]|[\\\\t ]*#|])(?<!\\\\\\\\)","endCaptures":{},"name":"meta.statement.shell","patterns":[{"include":"#typical_statements"}]},"normal_statement_seperator":{"captures":{"1":{"name":"punctuation.terminator.statement.semicolon.shell"},"2":{"name":"punctuation.separator.statement.and.shell"},"3":{"name":"punctuation.separator.statement.or.shell"},"4":{"name":"punctuation.separator.statement.background.shell"}},"match":"(?:(?:(;)|(&&))|(\\\\|\\\\|))|(&)"},"numeric_literal":{"captures":{"1":{"name":"constant.numeric.shell constant.numeric.hex.shell"},"2":{"name":"constant.numeric.shell constant.numeric.octal.shell"},"3":{"name":"constant.numeric.shell constant.numeric.other.shell"},"4":{"name":"constant.numeric.shell constant.numeric.decimal.shell"},"5":{"name":"constant.numeric.shell constant.numeric.version.shell"},"6":{"name":"constant.numeric.shell constant.numeric.integer.shell"}},"match":"(?<=[\\\\t =]|^|[(\\\\[{])(?:(?:(?:(?:(?:(0[Xx]\\\\h+)|(0\\\\d+))|(\\\\d{1,2}#[0-9@-Z_a-z]+))|(-?\\\\d+\\\\.\\\\d+))|(-?\\\\d+(?:\\\\.\\\\d+)+))|(-?\\\\d+))(?=[\\\\t ]|$|[);}])"},"option":{"begin":"[\\\\t ]++(-)((?![\\\\n!#\\\\&()<>\\\\[{|]|$|[\\\\t ;]))","beginCaptures":{"1":{"name":"string.unquoted.argument.shell constant.other.option.dash.shell"},"2":{"name":"string.unquoted.argument.shell constant.other.option.shell"}},"contentName":"string.unquoted.argument constant.other.option","end":"(?=[\\\\t ])|(?=[\\\\n\\\\&);\`{|}]|[\\\\t ]*#|])(?<!\\\\\\\\)","endCaptures":{},"patterns":[{"include":"#option_context"}]},"option_context":{"patterns":[{"include":"#misc_ranges"},{"include":"#string"},{"include":"#variable"},{"include":"#interpolation"},{"include":"#heredoc"},{"include":"#herestring"},{"include":"#redirection"},{"include":"#pathname"},{"include":"#floating_keyword"},{"include":"#support"}]},"parenthese":{"patterns":[{"begin":"\\\\(","beginCaptures":{"0":{"name":"punctuation.section.parenthese.shell"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.section.parenthese.shell"}},"name":"meta.parenthese.group.shell","patterns":[{"include":"#initial_context"}]}]},"pathname":{"patterns":[{"match":"(?<=[:=\\\\s]|^)~","name":"keyword.operator.tilde.shell"},{"match":"[*?]","name":"keyword.operator.glob.shell"},{"begin":"([!*+?@])(\\\\()","beginCaptures":{"1":{"name":"keyword.operator.extglob.shell"},"2":{"name":"punctuation.definition.extglob.shell"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.extglob.shell"}},"name":"meta.structure.extglob.shell","patterns":[{"include":"#initial_context"}]}]},"pipeline":{"patterns":[{"match":"(?<=^|[\\\\&;\\\\s])(time)(?=[\\\\&;\\\\s]|$)","name":"keyword.other.shell"},{"match":"[!|]","name":"keyword.operator.pipe.shell"}]},"redirect_fix":{"captures":{"1":{"name":"keyword.operator.redirect.shell"},"2":{"name":"string.unquoted.argument.shell"}},"match":"(>>?)[\\\\t ]*+([^\\\\t\\\\n \\"$\\\\&-);<>\\\\\\\\\`|]+)"},"redirect_number":{"captures":{"1":{"name":"keyword.operator.redirect.stdout.shell"},"2":{"name":"keyword.operator.redirect.stderr.shell"},"3":{"name":"keyword.operator.redirect.$3.shell"}},"match":"(?<=[\\\\t ])(?:(1)|(2)|(\\\\d+))(?=>)"},"redirection":{"patterns":[{"begin":"[<>]\\\\(","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.shell"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.string.end.shell"}},"name":"string.interpolated.process-substitution.shell","patterns":[{"include":"#initial_context"}]},{"match":"(?<![<>])(&>|\\\\d*>&\\\\d*|\\\\d*(>>|[<>])|\\\\d*<&|\\\\d*<>)(?![<>])","name":"keyword.operator.redirect.shell"}]},"regex_comparison":{"match":"=~","name":"keyword.operator.logical.regex.shell"},"regexp":{"patterns":[{"match":".+"}]},"simple_options":{"captures":{"0":{"patterns":[{"captures":{"1":{"name":"string.unquoted.argument.shell constant.other.option.dash.shell"},"2":{"name":"string.unquoted.argument.shell constant.other.option.shell"}},"match":"[\\\\t ]++(-)(\\\\w+)"}]}},"match":"(?:[\\\\t ]++-\\\\w+)*"},"simple_unquoted":{"match":"[^\\\\t\\\\n \\"$\\\\&-);<>\\\\\\\\\`|]","name":"string.unquoted.shell"},"special_expansion":{"match":"!|:[-=?]?|[*@]|##?|%%|[%/]","name":"keyword.operator.expansion.shell"},"start_of_command":{"match":"[\\\\t ]*+(?![\\\\n!#\\\\&()<>\\\\[{|]|$|[\\\\t ;])(?!nocorrect |nocorrect\\\\t|nocorrect$|readonly |readonly\\\\t|readonly$|function |function\\\\t|function$|foreach |foreach\\\\t|foreach$|coproc |coproc\\\\t|coproc$|logout |logout\\\\t|logout$|export |export\\\\t|export$|select |select\\\\t|select$|repeat |repeat\\\\t|repeat$|pushd |pushd\\\\t|pushd$|until |until\\\\t|until$|while |while\\\\t|while$|local |local\\\\t|local$|case |case\\\\t|case$|done |done\\\\t|done$|elif |elif\\\\t|elif$|else |else\\\\t|else$|esac |esac\\\\t|esac$|popd |popd\\\\t|popd$|then |then\\\\t|then$|time |time\\\\t|time$|for |for\\\\t|for$|end |end\\\\t|end$|fi |fi\\\\t|fi$|do |do\\\\t|do$|in |in\\\\t|in$|if |if\\\\t|if$)(?!\\\\\\\\\\\\n?$)"},"string":{"patterns":[{"match":"\\\\\\\\.","name":"constant.character.escape.shell"},{"begin":"'","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.shell"}},"end":"'","endCaptures":{"0":{"name":"punctuation.definition.string.end.shell"}},"name":"string.quoted.single.shell"},{"begin":"\\\\$?\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.shell"}},"end":"\\"","endCaptures":{"0":{"name":"punctuation.definition.string.end.shell"}},"name":"string.quoted.double.shell","patterns":[{"match":"\\\\\\\\[\\\\n\\"$\\\\\\\\\`]","name":"constant.character.escape.shell"},{"include":"#variable"},{"include":"#interpolation"}]},{"begin":"\\\\$'","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.shell"}},"end":"'","endCaptures":{"0":{"name":"punctuation.definition.string.end.shell"}},"name":"string.quoted.single.dollar.shell","patterns":[{"match":"\\\\\\\\['\\\\\\\\abefnrtv]","name":"constant.character.escape.ansi-c.shell"},{"match":"\\\\\\\\[0-9]{3}\\"","name":"constant.character.escape.octal.shell"},{"match":"\\\\\\\\x\\\\h{2}\\"","name":"constant.character.escape.hex.shell"},{"match":"\\\\\\\\c.\\"","name":"constant.character.escape.control-char.shell"}]}]},"subshell_dollar":{"patterns":[{"begin":"\\\\$\\\\(","beginCaptures":{"0":{"name":"punctuation.definition.subshell.single.shell"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.subshell.single.shell"}},"name":"meta.scope.subshell","patterns":[{"include":"#parenthese"},{"include":"#initial_context"}]}]},"support":{"patterns":[{"match":"(?<=^|[\\\\&;\\\\s])[.:](?=[\\\\&;\\\\s]|$)","name":"support.function.builtin.shell"}]},"typical_statements":{"patterns":[{"include":"#assignment_statement"},{"include":"#case_statement"},{"include":"#for_statement"},{"include":"#while_statement"},{"include":"#function_definition"},{"include":"#command_statement"},{"include":"#line_continuation"},{"include":"#arithmetic_double"},{"include":"#normal_context"}]},"variable":{"patterns":[{"captures":{"1":{"name":"punctuation.definition.variable.shell variable.parameter.positional.all.shell"},"2":{"name":"variable.parameter.positional.all.shell"}},"match":"(\\\\$)(@(?!\\\\w))"},{"captures":{"1":{"name":"punctuation.definition.variable.shell variable.parameter.positional.shell"},"2":{"name":"variable.parameter.positional.shell"}},"match":"(\\\\$)([0-9](?!\\\\w))"},{"captures":{"1":{"name":"punctuation.definition.variable.shell variable.language.special.shell"},"2":{"name":"variable.language.special.shell"}},"match":"(\\\\$)([-!#$*0?_](?!\\\\w))"},{"begin":"(\\\\$)(\\\\{)[\\\\t ]*+(?=\\\\d)","beginCaptures":{"1":{"name":"punctuation.definition.variable.shell variable.parameter.positional.shell"},"2":{"name":"punctuation.section.bracket.curly.variable.begin.shell punctuation.definition.variable.shell variable.parameter.positional.shell"}},"contentName":"meta.parameter-expansion","end":"}","endCaptures":{"0":{"name":"punctuation.section.bracket.curly.variable.end.shell punctuation.definition.variable.shell variable.parameter.positional.shell"}},"patterns":[{"include":"#special_expansion"},{"include":"#array_access_inline"},{"match":"[0-9]+","name":"variable.parameter.positional.shell"},{"match":"(?<!\\\\w)[-0-9A-Z_a-z]+(?!\\\\w)","name":"variable.other.normal.shell"},{"include":"#variable"},{"include":"#string"}]},{"begin":"(\\\\$)(\\\\{)","beginCaptures":{"1":{"name":"punctuation.definition.variable.shell"},"2":{"name":"punctuation.section.bracket.curly.variable.begin.shell punctuation.definition.variable.shell"}},"contentName":"meta.parameter-expansion","end":"}","endCaptures":{"0":{"name":"punctuation.section.bracket.curly.variable.end.shell punctuation.definition.variable.shell"}},"patterns":[{"include":"#special_expansion"},{"include":"#array_access_inline"},{"match":"(?<!\\\\w)[-0-9A-Z_a-z]+(?!\\\\w)","name":"variable.other.normal.shell"},{"include":"#variable"},{"include":"#string"}]},{"captures":{"1":{"name":"punctuation.definition.variable.shell variable.other.normal.shell"},"2":{"name":"variable.other.normal.shell"}},"match":"(\\\\$)(\\\\w+(?!\\\\w))"}]},"while_statement":{"patterns":[{"begin":"\\\\b(while)\\\\b","beginCaptures":{"1":{"name":"keyword.control.while.shell"}},"end":"(?=[\\\\n\\\\&);\`{|}]|[\\\\t ]*#|])(?<!\\\\\\\\)","endCaptures":{},"name":"meta.while.shell","patterns":[{"include":"#line_continuation"},{"include":"#math_operators"},{"include":"#option"},{"include":"#simple_unquoted"},{"include":"#normal_context"},{"include":"#string"}]}]}},"scopeName":"source.shell","aliases":["bash","sh","shell","zsh"]}`)),ep=[x9e],SQe=Object.freeze(Object.defineProperty({__proto__:null,default:ep},Symbol.toStringTag,{value:"Module"})),y9e=Object.freeze(JSON.parse(`{"displayName":"CSS","name":"css","patterns":[{"include":"#comment-block"},{"include":"#escapes"},{"include":"#combinators"},{"include":"#selector"},{"include":"#at-rules"},{"include":"#rule-list"}],"repository":{"at-rules":{"patterns":[{"begin":"\\\\A\\\\uFEFF?(?i:(?=\\\\s*@charset\\\\b))","end":";|(?=$)","endCaptures":{"0":{"name":"punctuation.terminator.rule.css"}},"name":"meta.at-rule.charset.css","patterns":[{"captures":{"1":{"name":"invalid.illegal.not-lowercase.charset.css"},"2":{"name":"invalid.illegal.leading-whitespace.charset.css"},"3":{"name":"invalid.illegal.no-whitespace.charset.css"},"4":{"name":"invalid.illegal.whitespace.charset.css"},"5":{"name":"invalid.illegal.not-double-quoted.charset.css"},"6":{"name":"invalid.illegal.unclosed-string.charset.css"},"7":{"name":"invalid.illegal.unexpected-characters.charset.css"}},"match":"\\\\G((?!@charset)@\\\\w+)|\\\\G(\\\\s+)|(@charset\\\\S[^;]*)|(?<=@charset)( {2,}|\\\\t+)|(?<=@charset )([^\\";]+)|(\\"[^\\"]+)$|(?<=\\")([^;]+)"},{"captures":{"1":{"name":"keyword.control.at-rule.charset.css"},"2":{"name":"punctuation.definition.keyword.css"}},"match":"((@)charset)(?=\\\\s)"},{"begin":"\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.css"}},"end":"\\"|$","endCaptures":{"0":{"name":"punctuation.definition.string.end.css"}},"name":"string.quoted.double.css","patterns":[{"begin":"(?:\\\\G|^)(?=[^\\"]+$)","end":"$","name":"invalid.illegal.unclosed.string.css"}]}]},{"begin":"(?i)((@)import)(?:\\\\s+|$|(?=[\\"']|/\\\\*))","beginCaptures":{"1":{"name":"keyword.control.at-rule.import.css"},"2":{"name":"punctuation.definition.keyword.css"}},"end":";","endCaptures":{"0":{"name":"punctuation.terminator.rule.css"}},"name":"meta.at-rule.import.css","patterns":[{"begin":"\\\\G\\\\s*(?=/\\\\*)","end":"(?<=\\\\*/)\\\\s*","patterns":[{"include":"#comment-block"}]},{"include":"#string"},{"include":"#url"},{"include":"#media-query-list"}]},{"begin":"(?i)((@)font-face)(?=\\\\s*|\\\\{|/\\\\*|$)","beginCaptures":{"1":{"name":"keyword.control.at-rule.font-face.css"},"2":{"name":"punctuation.definition.keyword.css"}},"end":"(?!\\\\G)","name":"meta.at-rule.font-face.css","patterns":[{"include":"#comment-block"},{"include":"#escapes"},{"include":"#rule-list"}]},{"begin":"(?i)(@)page(?=[:{\\\\s]|/\\\\*|$)","captures":{"0":{"name":"keyword.control.at-rule.page.css"},"1":{"name":"punctuation.definition.keyword.css"}},"end":"(?=\\\\s*($|[:;{]))","name":"meta.at-rule.page.css","patterns":[{"include":"#rule-list"}]},{"begin":"(?i)(?=@media([(\\\\s]|/\\\\*|$))","end":"(?<=})(?!\\\\G)","patterns":[{"begin":"(?i)\\\\G(@)media","beginCaptures":{"0":{"name":"keyword.control.at-rule.media.css"},"1":{"name":"punctuation.definition.keyword.css"}},"end":"(?=\\\\s*[;{])","name":"meta.at-rule.media.header.css","patterns":[{"include":"#media-query-list"}]},{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.section.media.begin.bracket.curly.css"}},"end":"}","endCaptures":{"0":{"name":"punctuation.section.media.end.bracket.curly.css"}},"name":"meta.at-rule.media.body.css","patterns":[{"include":"$self"}]}]},{"begin":"(?i)(?=@counter-style([\\"';{\\\\s]|/\\\\*|$))","end":"(?<=})(?!\\\\G)","patterns":[{"begin":"(?i)\\\\G(@)counter-style","beginCaptures":{"0":{"name":"keyword.control.at-rule.counter-style.css"},"1":{"name":"punctuation.definition.keyword.css"}},"end":"(?=\\\\s*\\\\{)","name":"meta.at-rule.counter-style.header.css","patterns":[{"include":"#comment-block"},{"include":"#escapes"},{"captures":{"0":{"patterns":[{"include":"#escapes"}]}},"match":"[-A-Z_a-z[^\\\\x00-\\\\x7F]](?:[-0-9A-Z_a-z[^\\\\x00-\\\\x7F]]|\\\\\\\\(?:\\\\h{1,6}|.))*","name":"variable.parameter.style-name.css"}]},{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.section.property-list.begin.bracket.curly.css"}},"end":"}","endCaptures":{"0":{"name":"punctuation.section.property-list.end.bracket.curly.css"}},"name":"meta.at-rule.counter-style.body.css","patterns":[{"include":"#comment-block"},{"include":"#escapes"},{"include":"#rule-list-innards"}]}]},{"begin":"(?i)(?=@document([\\"';{\\\\s]|/\\\\*|$))","end":"(?<=})(?!\\\\G)","patterns":[{"begin":"(?i)\\\\G(@)document","beginCaptures":{"0":{"name":"keyword.control.at-rule.document.css"},"1":{"name":"punctuation.definition.keyword.css"}},"end":"(?=\\\\s*[;{])","name":"meta.at-rule.document.header.css","patterns":[{"begin":"(?i)(?<![-\\\\w])(url-prefix|domain|regexp)(\\\\()","beginCaptures":{"1":{"name":"support.function.document-rule.css"},"2":{"name":"punctuation.section.function.begin.bracket.round.css"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.section.function.end.bracket.round.css"}},"name":"meta.function.document-rule.css","patterns":[{"include":"#string"},{"include":"#comment-block"},{"include":"#escapes"},{"match":"[^\\"')\\\\s]+","name":"variable.parameter.document-rule.css"}]},{"include":"#url"},{"include":"#commas"},{"include":"#comment-block"},{"include":"#escapes"}]},{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.section.document.begin.bracket.curly.css"}},"end":"}","endCaptures":{"0":{"name":"punctuation.section.document.end.bracket.curly.css"}},"name":"meta.at-rule.document.body.css","patterns":[{"include":"$self"}]}]},{"begin":"(?i)(?=@(?:-(?:webkit|moz|o|ms)-)?keyframes([\\"';{\\\\s]|/\\\\*|$))","end":"(?<=})(?!\\\\G)","patterns":[{"begin":"(?i)\\\\G(@)(?:-(?:webkit|moz|o|ms)-)?keyframes","beginCaptures":{"0":{"name":"keyword.control.at-rule.keyframes.css"},"1":{"name":"punctuation.definition.keyword.css"}},"end":"(?=\\\\s*\\\\{)","name":"meta.at-rule.keyframes.header.css","patterns":[{"include":"#comment-block"},{"include":"#escapes"},{"captures":{"0":{"patterns":[{"include":"#escapes"}]}},"match":"[-A-Z_a-z[^\\\\x00-\\\\x7F]](?:[-0-9A-Z_a-z[^\\\\x00-\\\\x7F]]|\\\\\\\\(?:\\\\h{1,6}|.))*","name":"variable.parameter.keyframe-list.css"}]},{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.section.keyframes.begin.bracket.curly.css"}},"end":"}","endCaptures":{"0":{"name":"punctuation.section.keyframes.end.bracket.curly.css"}},"name":"meta.at-rule.keyframes.body.css","patterns":[{"include":"#comment-block"},{"include":"#escapes"},{"captures":{"1":{"name":"entity.other.keyframe-offset.css"},"2":{"name":"entity.other.keyframe-offset.percentage.css"}},"match":"(?i)(?<![-\\\\w])(from|to)(?![-\\\\w])|([-+]?(?:\\\\d+(?:\\\\.\\\\d+)?|\\\\.\\\\d+)%)"},{"include":"#rule-list"}]}]},{"begin":"(?i)(?=@supports([(\\\\s]|/\\\\*|$))","end":"(?<=})(?!\\\\G)|(?=;)","patterns":[{"begin":"(?i)\\\\G(@)supports","beginCaptures":{"0":{"name":"keyword.control.at-rule.supports.css"},"1":{"name":"punctuation.definition.keyword.css"}},"end":"(?=\\\\s*[;{])","name":"meta.at-rule.supports.header.css","patterns":[{"include":"#feature-query-operators"},{"include":"#feature-query"},{"include":"#comment-block"},{"include":"#escapes"}]},{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.section.supports.begin.bracket.curly.css"}},"end":"}","endCaptures":{"0":{"name":"punctuation.section.supports.end.bracket.curly.css"}},"name":"meta.at-rule.supports.body.css","patterns":[{"include":"$self"}]}]},{"begin":"(?i)((@)(-(ms|o)-)?viewport)(?=[\\"';{\\\\s]|/\\\\*|$)","beginCaptures":{"1":{"name":"keyword.control.at-rule.viewport.css"},"2":{"name":"punctuation.definition.keyword.css"}},"end":"(?=\\\\s*[;@{])","name":"meta.at-rule.viewport.css","patterns":[{"include":"#comment-block"},{"include":"#escapes"}]},{"begin":"(?i)((@)font-feature-values)(?=[\\"';{\\\\s]|/\\\\*|$)\\\\s*","beginCaptures":{"1":{"name":"keyword.control.at-rule.font-feature-values.css"},"2":{"name":"punctuation.definition.keyword.css"}},"contentName":"variable.parameter.font-name.css","end":"(?=\\\\s*[;@{])","name":"meta.at-rule.font-features.css","patterns":[{"include":"#comment-block"},{"include":"#escapes"}]},{"include":"#font-features"},{"begin":"(?i)((@)namespace)(?=[\\"';\\\\s]|/\\\\*|$)","beginCaptures":{"1":{"name":"keyword.control.at-rule.namespace.css"},"2":{"name":"punctuation.definition.keyword.css"}},"end":";|(?=[@{])","endCaptures":{"0":{"name":"punctuation.terminator.rule.css"}},"name":"meta.at-rule.namespace.css","patterns":[{"include":"#url"},{"captures":{"1":{"patterns":[{"include":"#comment-block"}]},"2":{"name":"entity.name.function.namespace-prefix.css","patterns":[{"include":"#escapes"}]}},"match":"(?i)(?:\\\\G|^|(?<=\\\\s))(?=(?<=\\\\s|^)[-A-Z_a-z[^\\\\x00-\\\\x7F]]|\\\\s*/\\\\*(?:[^*]|\\\\*[^/])*\\\\*/)(.*?)([-A-Z_a-z[^\\\\x00-\\\\x7F]](?:[-0-9A-Z_a-z[^\\\\x00-\\\\x7F]]|\\\\\\\\(?:\\\\h{1,6}|.))*)"},{"include":"#comment-block"},{"include":"#escapes"},{"include":"#string"}]},{"begin":"(?i)(?=@[-\\\\w]+[^;]+;s*$)","end":"(?<=;)(?!\\\\G)","patterns":[{"begin":"(?i)\\\\G(@)[-\\\\w]+","beginCaptures":{"0":{"name":"keyword.control.at-rule.css"},"1":{"name":"punctuation.definition.keyword.css"}},"end":";","endCaptures":{"0":{"name":"punctuation.terminator.rule.css"}},"name":"meta.at-rule.header.css"}]},{"begin":"(?i)(?=@[-\\\\w]+([({\\\\s]|/\\\\*|$))","end":"(?<=})(?!\\\\G)","patterns":[{"begin":"(?i)\\\\G(@)[-\\\\w]+","beginCaptures":{"0":{"name":"keyword.control.at-rule.css"},"1":{"name":"punctuation.definition.keyword.css"}},"end":"(?=\\\\s*[;{])","name":"meta.at-rule.header.css"},{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.section.begin.bracket.curly.css"}},"end":"}","endCaptures":{"0":{"name":"punctuation.section.end.bracket.curly.css"}},"name":"meta.at-rule.body.css","patterns":[{"include":"$self"}]}]}]},"color-keywords":{"patterns":[{"match":"(?i)(?<![-\\\\w])(aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow)(?![-\\\\w])","name":"support.constant.color.w3c-standard-color-name.css"},{"match":"(?i)(?<![-\\\\w])(aliceblue|antiquewhite|aquamarine|azure|beige|bisque|blanchedalmond|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|gainsboro|ghostwhite|gold|goldenrod|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|limegreen|linen|magenta|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|oldlace|olivedrab|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|rebeccapurple|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|thistle|tomato|transparent|turquoise|violet|wheat|whitesmoke|yellowgreen)(?![-\\\\w])","name":"support.constant.color.w3c-extended-color-name.css"},{"match":"(?i)(?<![-\\\\w])currentColor(?![-\\\\w])","name":"support.constant.color.current.css"},{"match":"(?i)(?<![-\\\\w])(ActiveBorder|ActiveCaption|AppWorkspace|Background|ButtonFace|ButtonHighlight|ButtonShadow|ButtonText|CaptionText|GrayText|Highlight|HighlightText|InactiveBorder|InactiveCaption|InactiveCaptionText|InfoBackground|InfoText|Menu|MenuText|Scrollbar|ThreeDDarkShadow|ThreeDFace|ThreeDHighlight|ThreeDLightShadow|ThreeDShadow|Window|WindowFrame|WindowText)(?![-\\\\w])","name":"invalid.deprecated.color.system.css"}]},"combinators":{"patterns":[{"match":"/deep/|>>>","name":"invalid.deprecated.combinator.css"},{"match":">>|[+>~]","name":"keyword.operator.combinator.css"}]},"commas":{"match":",","name":"punctuation.separator.list.comma.css"},"comment-block":{"begin":"/\\\\*","beginCaptures":{"0":{"name":"punctuation.definition.comment.begin.css"}},"end":"\\\\*/","endCaptures":{"0":{"name":"punctuation.definition.comment.end.css"}},"name":"comment.block.css"},"escapes":{"patterns":[{"match":"\\\\\\\\\\\\h{1,6}","name":"constant.character.escape.codepoint.css"},{"begin":"\\\\\\\\$\\\\s*","end":"^(?<!\\\\G)","name":"constant.character.escape.newline.css"},{"match":"\\\\\\\\.","name":"constant.character.escape.css"}]},"feature-query":{"begin":"\\\\(","beginCaptures":{"0":{"name":"punctuation.definition.condition.begin.bracket.round.css"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.condition.end.bracket.round.css"}},"name":"meta.feature-query.css","patterns":[{"include":"#feature-query-operators"},{"include":"#feature-query"}]},"feature-query-operators":{"patterns":[{"match":"(?i)(?<=[()\\\\s]|^|\\\\*/)(and|not|or)(?=[()\\\\s]|/\\\\*|$)","name":"keyword.operator.logical.feature.$1.css"},{"include":"#rule-list-innards"}]},"font-features":{"begin":"(?i)((@)(annotation|character-variant|ornaments|styleset|stylistic|swash))(?=[\\"';@{\\\\s]|/\\\\*|$)","beginCaptures":{"1":{"name":"keyword.control.at-rule.\${3:/downcase}.css"},"2":{"name":"punctuation.definition.keyword.css"}},"end":"(?<=})","name":"meta.at-rule.\${3:/downcase}.css","patterns":[{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.section.property-list.begin.bracket.curly.css"}},"end":"}","endCaptures":{"0":{"name":"punctuation.section.property-list.end.bracket.curly.css"}},"name":"meta.property-list.font-feature.css","patterns":[{"captures":{"0":{"patterns":[{"include":"#escapes"}]}},"match":"[-A-Z_a-z[^\\\\x00-\\\\x7F]](?:[-0-9A-Z_a-z[^\\\\x00-\\\\x7F]]|\\\\\\\\(?:\\\\h{1,6}|.))*","name":"variable.font-feature.css"},{"include":"#rule-list-innards"}]}]},"functional-pseudo-classes":{"patterns":[{"begin":"(?i)((:)dir)(\\\\()","beginCaptures":{"1":{"name":"entity.other.attribute-name.pseudo-class.css"},"2":{"name":"punctuation.definition.entity.css"},"3":{"name":"punctuation.section.function.begin.bracket.round.css"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.section.function.end.bracket.round.css"}},"patterns":[{"include":"#comment-block"},{"include":"#escapes"},{"match":"(?i)(?<![-\\\\w])(ltr|rtl)(?![-\\\\w])","name":"support.constant.text-direction.css"},{"include":"#property-values"}]},{"begin":"(?i)((:)lang)(\\\\()","beginCaptures":{"1":{"name":"entity.other.attribute-name.pseudo-class.css"},"2":{"name":"punctuation.definition.entity.css"},"3":{"name":"punctuation.section.function.begin.bracket.round.css"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.section.function.end.bracket.round.css"}},"patterns":[{"match":"(?<=[(,\\\\s])[A-Za-z]+(-[0-9A-Za-z]*|\\\\\\\\(?:\\\\h{1,6}|.))*(?=[),\\\\s])","name":"support.constant.language-range.css"},{"begin":"\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.css"}},"end":"\\"","endCaptures":{"0":{"name":"punctuation.definition.string.end.css"}},"name":"string.quoted.double.css","patterns":[{"include":"#escapes"},{"match":"(?<=[\\"\\\\s])[*A-Za-z]+(-[*0-9A-Za-z]*)*(?=[\\"\\\\s])","name":"support.constant.language-range.css"}]},{"begin":"'","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.css"}},"end":"'","endCaptures":{"0":{"name":"punctuation.definition.string.end.css"}},"name":"string.quoted.single.css","patterns":[{"include":"#escapes"},{"match":"(?<=['\\\\s])[*A-Za-z]+(-[*0-9A-Za-z]*)*(?=['\\\\s])","name":"support.constant.language-range.css"}]},{"include":"#commas"}]},{"begin":"(?i)((:)(?:not|has|matches|where|is))(\\\\()","beginCaptures":{"1":{"name":"entity.other.attribute-name.pseudo-class.css"},"2":{"name":"punctuation.definition.entity.css"},"3":{"name":"punctuation.section.function.begin.bracket.round.css"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.section.function.end.bracket.round.css"}},"patterns":[{"include":"#selector-innards"}]},{"begin":"(?i)((:)nth-(?:last-)?(?:child|of-type))(\\\\()","beginCaptures":{"1":{"name":"entity.other.attribute-name.pseudo-class.css"},"2":{"name":"punctuation.definition.entity.css"},"3":{"name":"punctuation.section.function.begin.bracket.round.css"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.section.function.end.bracket.round.css"}},"patterns":[{"match":"(?i)[-+]?(\\\\d+n?|n)(\\\\s*[-+]\\\\s*\\\\d+)?","name":"constant.numeric.css"},{"match":"(?i)even|odd","name":"support.constant.parity.css"}]}]},"functions":{"patterns":[{"begin":"(?i)(?<![-\\\\w])(calc)(\\\\()","beginCaptures":{"1":{"name":"support.function.calc.css"},"2":{"name":"punctuation.section.function.begin.bracket.round.css"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.section.function.end.bracket.round.css"}},"name":"meta.function.calc.css","patterns":[{"match":"[*/]|(?<=\\\\s|^)[-+](?=\\\\s|$)","name":"keyword.operator.arithmetic.css"},{"include":"#property-values"}]},{"begin":"(?i)(?<![-\\\\w])(rgba?|hsla?|hwb|lab|oklab|lch|oklch|color)(\\\\()","beginCaptures":{"1":{"name":"support.function.misc.css"},"2":{"name":"punctuation.section.function.begin.bracket.round.css"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.section.function.end.bracket.round.css"}},"name":"meta.function.color.css","patterns":[{"include":"#property-values"}]},{"begin":"(?i)(?<![-\\\\w])((?:-(?:webkit-|moz-|o-))?(?:repeating-)?(?:linear|radial|conic)-gradient)(\\\\()","beginCaptures":{"1":{"name":"support.function.gradient.css"},"2":{"name":"punctuation.section.function.begin.bracket.round.css"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.section.function.end.bracket.round.css"}},"name":"meta.function.gradient.css","patterns":[{"match":"(?i)(?<![-\\\\w])(from|to|at|in|hue)(?![-\\\\w])","name":"keyword.operator.gradient.css"},{"include":"#property-values"}]},{"begin":"(?i)(?<![-\\\\w])(-webkit-gradient)(\\\\()","beginCaptures":{"1":{"name":"invalid.deprecated.gradient.function.css"},"2":{"name":"punctuation.section.function.begin.bracket.round.css"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.section.function.end.bracket.round.css"}},"name":"meta.function.gradient.invalid.deprecated.gradient.css","patterns":[{"begin":"(?i)(?<![-\\\\w])(from|to|color-stop)(\\\\()","beginCaptures":{"1":{"name":"invalid.deprecated.function.css"},"2":{"name":"punctuation.section.function.begin.bracket.round.css"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.section.function.end.bracket.round.css"}},"patterns":[{"include":"#property-values"}]},{"include":"#property-values"}]},{"begin":"(?i)(?<![-\\\\w])(annotation|attr|blur|brightness|character-variant|clamp|contrast|counters?|cross-fade|drop-shadow|element|fit-content|format|grayscale|hue-rotate|color-mix|image-set|invert|local|max|min|minmax|opacity|ornaments|repeat|saturate|sepia|styleset|stylistic|swash|symbols|cos|sin|tan|acos|asin|atan2??|hypot|sqrt|pow|log|exp|abs|sign)(\\\\()","beginCaptures":{"1":{"name":"support.function.misc.css"},"2":{"name":"punctuation.section.function.begin.bracket.round.css"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.section.function.end.bracket.round.css"}},"name":"meta.function.misc.css","patterns":[{"match":"(?i)(?<=[\\",\\\\s]|\\\\*/|^)\\\\d+x(?=[\\"'),\\\\s]|/\\\\*|$)","name":"constant.numeric.other.density.css"},{"include":"#property-values"},{"match":"[^\\"'),\\\\s]+","name":"variable.parameter.misc.css"}]},{"begin":"(?i)(?<![-\\\\w])(circle|ellipse|inset|polygon|rect)(\\\\()","beginCaptures":{"1":{"name":"support.function.shape.css"},"2":{"name":"punctuation.section.function.begin.bracket.round.css"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.section.function.end.bracket.round.css"}},"name":"meta.function.shape.css","patterns":[{"match":"(?i)(?<=\\\\s|^|\\\\*/)(at|round)(?=\\\\s|/\\\\*|$)","name":"keyword.operator.shape.css"},{"include":"#property-values"}]},{"begin":"(?i)(?<![-\\\\w])(cubic-bezier|steps)(\\\\()","beginCaptures":{"1":{"name":"support.function.timing-function.css"},"2":{"name":"punctuation.section.function.begin.bracket.round.css"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.section.function.end.bracket.round.css"}},"name":"meta.function.timing-function.css","patterns":[{"match":"(?i)(?<![-\\\\w])(start|end)(?=\\\\s*\\\\)|$)","name":"support.constant.step-direction.css"},{"include":"#property-values"}]},{"begin":"(?i)(?<![-\\\\w])((?:translate|scale|rotate)(?:[XYZ]|3D)?|matrix(?:3D)?|skew[XY]?|perspective)(\\\\()","beginCaptures":{"1":{"name":"support.function.transform.css"},"2":{"name":"punctuation.section.function.begin.bracket.round.css"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.section.function.end.bracket.round.css"}},"patterns":[{"include":"#property-values"}]},{"include":"#url"},{"begin":"(?i)(?<![-\\\\w])(var)(\\\\()","beginCaptures":{"1":{"name":"support.function.misc.css"},"2":{"name":"punctuation.section.function.begin.bracket.round.css"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.section.function.end.bracket.round.css"}},"name":"meta.function.variable.css","patterns":[{"match":"--[-A-Z_a-z[^\\\\x00-\\\\x7F]](?:[-0-9A-Z_a-z[^\\\\x00-\\\\x7F]]|\\\\\\\\(?:\\\\h{1,6}|.))*","name":"variable.argument.css"},{"include":"#property-values"}]}]},"media-feature-keywords":{"match":"(?i)(?<=^|[:\\\\s]|\\\\*/)(?:portrait|landscape|progressive|interlace|fullscreen|standalone|minimal-ui|browser|hover)(?=[)\\\\s]|$)","name":"support.constant.property-value.css"},"media-features":{"captures":{"1":{"name":"support.type.property-name.media.css"},"2":{"name":"support.type.property-name.media.css"},"3":{"name":"support.type.vendored.property-name.media.css"}},"match":"(?i)(?<=^|[(\\\\s]|\\\\*/)(?:((?:m(?:in-|ax-))?(?:height|width|aspect-ratio|color|color-index|monochrome|resolution)|grid|scan|orientation|display-mode|hover)|((?:m(?:in-|ax-))?device-(?:height|width|aspect-ratio))|((?:[-_](?:webkit|apple|khtml|epub|moz|ms|o|xv|ah|rim|atsc|hp|tc|wap|ro)|(?:mso|prince))-[-\\\\w]+(?=\\\\s*(?:/\\\\*(?:[^*]|\\\\*[^/])*\\\\*/)?\\\\s*[):])))(?=\\\\s|$|[):<=>]|/\\\\*)"},"media-query":{"begin":"\\\\G","end":"(?=\\\\s*[;{])","patterns":[{"include":"#comment-block"},{"include":"#escapes"},{"include":"#media-types"},{"match":"(?i)(?<=\\\\s|^|,|\\\\*/)(only|not)(?=[{\\\\s]|/\\\\*|$)","name":"keyword.operator.logical.$1.media.css"},{"match":"(?i)(?<=\\\\s|^|\\\\*/|\\\\))and(?=\\\\s|/\\\\*|$)","name":"keyword.operator.logical.and.media.css"},{"match":",(?:(?:\\\\s*,)+|(?=\\\\s*[);{]))","name":"invalid.illegal.comma.css"},{"include":"#commas"},{"begin":"\\\\(","beginCaptures":{"0":{"name":"punctuation.definition.parameters.begin.bracket.round.css"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.parameters.end.bracket.round.css"}},"patterns":[{"include":"#media-features"},{"include":"#media-feature-keywords"},{"match":":","name":"punctuation.separator.key-value.css"},{"match":">=|<=|[<=>]","name":"keyword.operator.comparison.css"},{"captures":{"1":{"name":"constant.numeric.css"},"2":{"name":"keyword.operator.arithmetic.css"},"3":{"name":"constant.numeric.css"}},"match":"(\\\\d+)\\\\s*(/)\\\\s*(\\\\d+)","name":"meta.ratio.css"},{"include":"#numeric-values"},{"include":"#comment-block"}]}]},"media-query-list":{"begin":"(?=\\\\s*[^;{])","end":"(?=\\\\s*[;{])","patterns":[{"include":"#media-query"}]},"media-types":{"captures":{"1":{"name":"support.constant.media.css"},"2":{"name":"invalid.deprecated.constant.media.css"}},"match":"(?i)(?<=^|[,\\\\s]|\\\\*/)(?:(all|print|screen|speech)|(aural|braille|embossed|handheld|projection|tty|tv))(?=$|[,;{\\\\s]|/\\\\*)"},"numeric-values":{"patterns":[{"captures":{"1":{"name":"punctuation.definition.constant.css"}},"match":"(#)(?:\\\\h{3,4}|\\\\h{6}|\\\\h{8})\\\\b","name":"constant.other.color.rgb-value.hex.css"},{"captures":{"1":{"name":"keyword.other.unit.percentage.css"},"2":{"name":"keyword.other.unit.\${2:/downcase}.css"}},"match":"(?i)(?<![-\\\\w])[-+]?(?:[0-9]+(?:\\\\.[0-9]+)?|\\\\.[0-9]+)(?:(?<=[0-9])E[-+]?[0-9]+)?(?:(%)|(deg|grad|rad|turn|Hz|kHz|ch|cm|em|ex|fr|in|mm|mozmm|pc|pt|px|q|rem|rch|rex|rlh|ic|ric|rcap|vh|vw|vb|vi|svh|svw|svb|svi|dvh|dvw|dvb|dvi|lvh|lvw|lvb|lvi|vmax|vmin|cqw|cqi|cqh|cqb|cqmin|cqmax|dpi|dpcm|dppx|s|ms)\\\\b)?","name":"constant.numeric.css"}]},"property-keywords":{"patterns":[{"match":"(?i)(?<![-\\\\w])(above|absolute|active|add|additive|after-edge|alias|all|all-petite-caps|all-scroll|all-small-caps|alpha|alphabetic|alternate|alternate-reverse|always|antialiased|auto|auto-fill|auto-fit|auto-pos|available|avoid|avoid-column|avoid-page|avoid-region|backwards|balance|baseline|before-edge|below|bevel|bidi-override|blink|block|block-axis|block-start|block-end|bold|bolder|border|border-box|both|bottom|bottom-outside|break-all|break-word|bullets|butt|capitalize|caption|cell|center|central|char|circle|clip|clone|close-quote|closest-corner|closest-side|col-resize|collapse|color|color-burn|color-dodge|column|column-reverse|common-ligatures|compact|condensed|contain|content|content-box|contents|context-menu|contextual|copy|cover|crisp-edges|crispEdges|crosshair|cyclic|dark|darken|dashed|decimal|default|dense|diagonal-fractions|difference|digits|disabled|disc|discretionary-ligatures|distribute|distribute-all-lines|distribute-letter|distribute-space|dot|dotted|double|double-circle|downleft|downright|e-resize|each-line|ease|ease-in|ease-in-out|ease-out|economy|ellipse|ellipsis|embed|end|evenodd|ew-resize|exact|exclude|exclusion|expanded|extends|extra-condensed|extra-expanded|fallback|farthest-corner|farthest-side|fill|fill-available|fill-box|filled|fit-content|fixed|flat|flex|flex-end|flex-start|flip|flow-root|forwards|freeze|from-image|full-width|geometricPrecision|georgian|grab|grabbing|grayscale|grid|groove|hand|hanging|hard-light|help|hidden|hide|historical-forms|historical-ligatures|horizontal|horizontal-tb|hue|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|infinite|inherit|initial|inline|inline-axis|inline-block|inline-end|inline-flex|inline-grid|inline-list-item|inline-start|inline-table|inset|inside|inter-character|inter-ideograph|inter-word|intersect|invert|isolate|isolate-override|italic|jis04|jis78|jis83|jis90|justify|justify-all|kannada|keep-all|landscape|larger??|left|light|lighten|lighter|line|line-edge|line-through|linear|linearRGB|lining-nums|list-item|local|loose|lowercase|lr|lr-tb|ltr|luminance|luminosity|main-size|mandatory|manipulation|manual|margin-box|match-parent|match-source|mathematical|max-content|medium|menu|message-box|middle|min-content|miter|mixed|move|multiply|n-resize|narrower|ne-resize|nearest-neighbor|nesw-resize|newspaper|no-change|no-clip|no-close-quote|no-common-ligatures|no-contextual|no-discretionary-ligatures|no-drop|no-historical-ligatures|no-open-quote|no-repeat|none|nonzero|normal|not-allowed|nowrap|ns-resize|numbers|numeric|nw-resize|nwse-resize|oblique|oldstyle-nums|open|open-quote|optimizeLegibility|optimizeQuality|optimizeSpeed|optional|ordinal|outset|outside|over|overlay|overline|padding|padding-box|page|painted|pan-down|pan-left|pan-right|pan-up|pan-x|pan-y|paused|petite-caps|pixelated|plaintext|pointer|portrait|pre|pre-line|pre-wrap|preserve-3d|progress|progressive|proportional-nums|proportional-width|proximity|radial|recto|region|relative|remove|repeat|repeat-[xy]|reset-size|reverse|revert|ridge|right|rl|rl-tb|round|row|row-resize|row-reverse|row-severse|rtl|ruby|ruby-base|ruby-base-container|ruby-text|ruby-text-container|run-in|running|s-resize|saturation|scale-down|screen|scroll|scroll-position|se-resize|semi-condensed|semi-expanded|separate|sesame|show|sideways|sideways-left|sideways-lr|sideways-right|sideways-rl|simplified|slashed-zero|slice|small|small-caps|small-caption|smaller|smooth|soft-light|solid|space|space-around|space-between|space-evenly|spell-out|square|sRGB|stacked-fractions|start|static|status-bar|swap|step-end|step-start|sticky|stretch|strict|stroke|stroke-box|style|sub|subgrid|subpixel-antialiased|subtract|super|sw-resize|symbolic|table|table-caption|table-cell|table-column|table-column-group|table-footer-group|table-header-group|table-row|table-row-group|tabular-nums|tb|tb-rl|text|text-after-edge|text-before-edge|text-bottom|text-top|thick|thin|titling-caps|top|top-outside|touch|traditional|transparent|triangle|ultra-condensed|ultra-expanded|under|underline|unicase|unset|upleft|uppercase|upright|use-glyph-orientation|use-script|verso|vertical|vertical-ideographic|vertical-lr|vertical-rl|vertical-text|view-box|visible|visibleFill|visiblePainted|visibleStroke|w-resize|wait|wavy|weight|whitespace|wider|words|wrap|wrap-reverse|x|x-large|x-small|xx-large|xx-small|y|zero|zoom-in|zoom-out)(?![-\\\\w])","name":"support.constant.property-value.css"},{"match":"(?i)(?<![-\\\\w])(arabic-indic|armenian|bengali|cambodian|circle|cjk-decimal|cjk-earthly-branch|cjk-heavenly-stem|cjk-ideographic|decimal|decimal-leading-zero|devanagari|disc|disclosure-closed|disclosure-open|ethiopic-halehame-am|ethiopic-halehame-ti-e[rt]|ethiopic-numeric|georgian|gujarati|gurmukhi|hangul|hangul-consonant|hebrew|hiragana|hiragana-iroha|japanese-formal|japanese-informal|kannada|katakana|katakana-iroha|khmer|korean-hangul-formal|korean-hanja-formal|korean-hanja-informal|lao|lower-alpha|lower-armenian|lower-greek|lower-latin|lower-roman|malayalam|mongolian|myanmar|oriya|persian|simp-chinese-formal|simp-chinese-informal|square|tamil|telugu|thai|tibetan|trad-chinese-formal|trad-chinese-informal|upper-alpha|upper-armenian|upper-latin|upper-roman|urdu)(?![-\\\\w])","name":"support.constant.property-value.list-style-type.css"},{"match":"(?<![-\\\\w])(?i:-(?:ah|apple|atsc|epub|hp|khtml|moz|ms|o|rim|ro|tc|wap|webkit|xv)|(?:mso|prince))-[-A-Za-z]+","name":"support.constant.vendored.property-value.css"},{"match":"(?<![-\\\\w])(?i:arial|century|comic|courier|garamond|georgia|helvetica|impact|lucida|symbol|system-ui|system|tahoma|times|trebuchet|ui-monospace|ui-rounded|ui-sans-serif|ui-serif|utopia|verdana|webdings|sans-serif|serif|monospace)(?![-\\\\w])","name":"support.constant.font-name.css"}]},"property-names":{"patterns":[{"match":"(?i)(?<![-\\\\w])(?:accent-color|additive-symbols|align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|aspect-ratio|backdrop-filter|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-position-[xy]|background-repeat|background-size|bleed|block-size|border|border-block-end|border-block-end-color|border-block-end-style|border-block-end-width|border-block-start|border-block-start-color|border-block-start-style|border-block-start-width|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-end-end-radius|border-end-start-radius|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-inline-end|border-inline-end-color|border-inline-end-style|border-inline-end-width|border-inline-start|border-inline-start-color|border-inline-start-style|border-inline-start-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-start-end-radius|border-start-start-radius|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-decoration-break|box-shadow|box-sizing|break-after|break-before|break-inside|caption-side|caret-color|clear|clip|clip-path|clip-rule|color|color-adjust|color-interpolation-filters|color-scheme|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|contain|container|container-name|container-type|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|enable-background|fallback|fill|fill-opacity|fill-rule|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|flood-color|flood-opacity|font|font-display|font-family|font-feature-settings|font-kerning|font-language-override|font-optical-sizing|font-size|font-size-adjust|font-stretch|font-style|font-synthesis|font-variant|font-variant-alternates|font-variant-caps|font-variant-east-asian|font-variant-ligatures|font-variant-numeric|font-variant-position|font-variation-settings|font-weight|gap|glyph-orientation-horizontal|glyph-orientation-vertical|grid|grid-area|grid-auto-columns|grid-auto-flow|grid-auto-rows|grid-column|grid-column-end|grid-column-gap|grid-column-start|grid-gap|grid-row|grid-row-end|grid-row-gap|grid-row-start|grid-template|grid-template-areas|grid-template-columns|grid-template-rows|hanging-punctuation|height|hyphens|image-orientation|image-rendering|image-resolution|ime-mode|initial-letter|initial-letter-align|inline-size|inset|inset-block|inset-block-end|inset-block-start|inset-inline|inset-inline-end|inset-inline-start|isolation|justify-content|justify-items|justify-self|kerning|left|letter-spacing|lighting-color|line-break|line-clamp|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-block|margin-block-end|margin-block-start|margin-bottom|margin-inline|margin-inline-end|margin-inline-start|margin-left|margin-right|margin-top|marker-end|marker-mid|marker-start|marks|mask|mask-border|mask-border-mode|mask-border-outset|mask-border-repeat|mask-border-slice|mask-border-source|mask-border-width|mask-clip|mask-composite|mask-image|mask-mode|mask-origin|mask-position|mask-repeat|mask-size|mask-type|max-block-size|max-height|max-inline-size|max-lines|max-width|max-zoom|min-block-size|min-height|min-inline-size|min-width|min-zoom|mix-blend-mode|negative|object-fit|object-position|offset|offset-anchor|offset-distance|offset-path|offset-position|offset-rotation|opacity|order|orientation|orphans|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-anchor|overflow-block|overflow-inline|overflow-wrap|overflow-[xy]|overscroll-behavior|overscroll-behavior-block|overscroll-behavior-inline|overscroll-behavior-[xy]|pad|padding|padding-block|padding-block-end|padding-block-start|padding-bottom|padding-inline|padding-inline-end|padding-inline-start|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|paint-order|perspective|perspective-origin|place-content|place-items|place-self|pointer-events|position|prefix|quotes|range|resize|right|rotate|row-gap|ruby-align|ruby-merge|ruby-position|scale|scroll-behavior|scroll-margin|scroll-margin-block|scroll-margin-block-end|scroll-margin-block-start|scroll-margin-bottom|scroll-margin-inline|scroll-margin-inline-end|scroll-margin-inline-start|scroll-margin-left|scroll-margin-right|scroll-margin-top|scroll-padding|scroll-padding-block|scroll-padding-block-end|scroll-padding-block-start|scroll-padding-bottom|scroll-padding-inline|scroll-padding-inline-end|scroll-padding-inline-start|scroll-padding-left|scroll-padding-right|scroll-padding-top|scroll-snap-align|scroll-snap-coordinate|scroll-snap-destination|scroll-snap-stop|scroll-snap-type|scrollbar-color|scrollbar-gutter|scrollbar-width|shape-image-threshold|shape-margin|shape-outside|shape-rendering|size|speak-as|src|stop-color|stop-opacity|stroke|stroke-dasharray|stroke-dashoffset|stroke-linecap|stroke-linejoin|stroke-miterlimit|stroke-opacity|stroke-width|suffix|symbols|system|tab-size|table-layout|text-align|text-align-last|text-anchor|text-combine-upright|text-decoration|text-decoration-color|text-decoration-line|text-decoration-skip|text-decoration-skip-ink|text-decoration-style|text-decoration-thickness|text-emphasis|text-emphasis-color|text-emphasis-position|text-emphasis-style|text-indent|text-justify|text-orientation|text-overflow|text-rendering|text-shadow|text-size-adjust|text-transform|text-underline-offset|text-underline-position|top|touch-action|transform|transform-box|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|translate|unicode-bidi|unicode-range|user-select|user-zoom|vertical-align|visibility|white-space|widows|width|will-change|word-break|word-spacing|word-wrap|writing-mode|z-index|zoom|alignment-baseline|baseline-shift|clip-rule|color-interpolation|color-interpolation-filters|color-profile|color-rendering|cx|cy|dominant-baseline|enable-background|fill|fill-opacity|fill-rule|flood-color|flood-opacity|glyph-orientation-horizontal|glyph-orientation-vertical|height|kerning|lighting-color|marker-end|marker-mid|marker-start|rx??|ry|shape-rendering|stop-color|stop-opacity|stroke|stroke-dasharray|stroke-dashoffset|stroke-linecap|stroke-linejoin|stroke-miterlimit|stroke-opacity|stroke-width|text-anchor|width|[xy]|adjust|after|align|align-last|alignment|alignment-adjust|appearance|attachment|azimuth|background-break|balance|baseline|before|bidi|binding|bookmark|bookmark-label|bookmark-level|bookmark-target|border-length|bottom-color|bottom-left-radius|bottom-right-radius|bottom-style|bottom-width|box|box-align|box-direction|box-flex|box-flex-group|box-lines|box-ordinal-group|box-orient|box-pack|break|character|collapse|column|column-break-after|column-break-before|count|counter|crop|cue|cue-after|cue-before|decoration|decoration-break|delay|display-model|display-role|down|drop|drop-initial-after-adjust|drop-initial-after-align|drop-initial-before-adjust|drop-initial-before-align|drop-initial-size|drop-initial-value|duration|elevation|emphasis|family|fit|fit-position|flex-group|float-offset|gap|grid-columns|grid-rows|hanging-punctuation|header|hyphenate|hyphenate-after|hyphenate-before|hyphenate-character|hyphenate-lines|hyphenate-resource|icon|image|increment|indent|index|initial-after-adjust|initial-after-align|initial-before-adjust|initial-before-align|initial-size|initial-value|inline-box-align|iteration-count|justify|label|left-color|left-style|left-width|length|level|line|line-stacking|line-stacking-ruby|line-stacking-shift|line-stacking-strategy|lines|list|mark|mark-after|mark-before|marks|marquee|marquee-direction|marquee-play-count|marquee-speed|marquee-style|max|min|model|move-to|name|nav|nav-down|nav-index|nav-left|nav-right|nav-up|new|numeral|offset|ordinal-group|orient|origin|overflow-style|overhang|pack|page|page-policy|pause|pause-after|pause-before|phonemes|pitch|pitch-range|play-count|play-during|play-state|point|presentation|presentation-level|profile|property|punctuation|punctuation-trim|radius|rate|rendering-intent|repeat|replace|reset|resolution|resource|respond-to|rest|rest-after|rest-before|richness|right-color|right-style|right-width|role|rotation|rotation-point|rows|ruby|ruby-overhang|ruby-span|rule|rule-color|rule-style|rule-width|shadow|size|size-adjust|sizing|space|space-collapse|spacing|span|speak|speak-header|speak-numeral|speak-punctuation|speech|speech-rate|speed|stacking|stacking-ruby|stacking-shift|stacking-strategy|stress|stretch|string-set|style|style-image|style-position|style-type|target|target-name|target-new|target-position|text|text-height|text-justify|text-outline|text-replace|text-wrap|timing-function|top-color|top-left-radius|top-right-radius|top-style|top-width|trim|unicode|up|user-select|variant|voice|voice-balance|voice-duration|voice-family|voice-pitch|voice-pitch-range|voice-rate|voice-stress|voice-volume|volume|weight|white|white-space-collapse|word|wrap)(?![-\\\\w])","name":"support.type.property-name.css"},{"match":"(?<![-\\\\w])(?i:-(?:ah|apple|atsc|epub|hp|khtml|moz|ms|o|rim|ro|tc|wap|webkit|xv)|(?:mso|prince))-[-A-Za-z]+","name":"support.type.vendored.property-name.css"}]},"property-values":{"patterns":[{"include":"#commas"},{"include":"#comment-block"},{"include":"#escapes"},{"include":"#functions"},{"include":"#property-keywords"},{"include":"#unicode-range"},{"include":"#numeric-values"},{"include":"#color-keywords"},{"include":"#string"},{"match":"!\\\\s*important(?![-\\\\w])","name":"keyword.other.important.css"}]},"pseudo-classes":{"captures":{"1":{"name":"punctuation.definition.entity.css"},"2":{"name":"invalid.illegal.colon.css"}},"match":"(?i)(:)(:*)(?:active|any-link|checked|default|disabled|empty|enabled|first|(?:first|last|only)-(?:child|of-type)|focus|focus-visible|focus-within|fullscreen|host|hover|in-range|indeterminate|invalid|left|link|optional|out-of-range|read-only|read-write|required|right|root|scope|target|unresolved|valid|visited)(?![-\\\\w]|\\\\s*[;}])","name":"entity.other.attribute-name.pseudo-class.css"},"pseudo-elements":{"captures":{"1":{"name":"punctuation.definition.entity.css"},"2":{"name":"punctuation.definition.entity.css"}},"match":"(?i)(?:(::?)(?:after|before|first-letter|first-line|(?:-(?:ah|apple|atsc|epub|hp|khtml|moz|ms|o|rim|ro|tc|wap|webkit|xv)|(?:mso|prince))-[-a-z]+)|(::)(?:backdrop|content|grammar-error|marker|placeholder|selection|shadow|spelling-error))(?![-\\\\w]|\\\\s*[;}])","name":"entity.other.attribute-name.pseudo-element.css"},"rule-list":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.section.property-list.begin.bracket.curly.css"}},"end":"}","endCaptures":{"0":{"name":"punctuation.section.property-list.end.bracket.curly.css"}},"name":"meta.property-list.css","patterns":[{"include":"#rule-list-innards"}]},"rule-list-innards":{"patterns":[{"include":"#comment-block"},{"include":"#escapes"},{"include":"#font-features"},{"match":"(?<![-\\\\w])--[-A-Z_a-z[^\\\\x00-\\\\x7F]](?:[-0-9A-Z_a-z[^\\\\x00-\\\\x7F]]|\\\\\\\\(?:\\\\h{1,6}|.))*","name":"variable.css"},{"begin":"(?<![-A-Za-z])(?=[-A-Za-z])","end":"$|(?![-A-Za-z])","name":"meta.property-name.css","patterns":[{"include":"#property-names"}]},{"begin":"(:)\\\\s*","beginCaptures":{"1":{"name":"punctuation.separator.key-value.css"}},"contentName":"meta.property-value.css","end":"\\\\s*(;)|\\\\s*(?=[)}])","endCaptures":{"1":{"name":"punctuation.terminator.rule.css"}},"patterns":[{"include":"#comment-block"},{"include":"#property-values"}]},{"match":";","name":"punctuation.terminator.rule.css"}]},"selector":{"begin":"(?=\\\\|?(?:[-#*.:A-\\\\[_a-z[^\\\\x00-\\\\x7F]]|\\\\\\\\(?:\\\\h{1,6}|.)))","end":"(?=\\\\s*[)/@{])","name":"meta.selector.css","patterns":[{"include":"#selector-innards"}]},"selector-innards":{"patterns":[{"include":"#comment-block"},{"include":"#commas"},{"include":"#escapes"},{"include":"#combinators"},{"captures":{"1":{"name":"entity.other.namespace-prefix.css"},"2":{"name":"punctuation.separator.css"}},"match":"(?:^|(?<=[(,;}\\\\s]))(?![-*\\\\w]+\\\\|(?![-#*.:A-\\\\[_a-z[^\\\\x00-\\\\x7F]]))([-A-Z_a-z[^\\\\x00-\\\\x7F]](?:[-0-9A-Z_a-z[^\\\\x00-\\\\x7F]]|\\\\\\\\(?:\\\\h{1,6}|.))*|\\\\*)?(\\\\|)"},{"include":"#tag-names"},{"match":"\\\\*","name":"entity.name.tag.wildcard.css"},{"captures":{"1":{"name":"punctuation.definition.entity.css"},"2":{"patterns":[{"include":"#escapes"}]}},"match":"(?<![-@\\\\w])([#.])((?:-?[0-9]|-(?=$|[#)+,.:>\\\\[{|~\\\\s]|/\\\\*)|(?:[-0-9A-Z_a-z[^\\\\x00-\\\\x7F]]|\\\\\\\\(?:\\\\h{1,6}|.))*(?:[]!\\"%-(*;<?@^\`|}]|/(?!\\\\*))+)(?:[-0-9A-Z_a-z[^\\\\x00-\\\\x7F]]|\\\\\\\\(?:\\\\h{1,6}|.))*)","name":"invalid.illegal.bad-identifier.css"},{"captures":{"1":{"name":"punctuation.definition.entity.css"},"2":{"patterns":[{"include":"#escapes"}]}},"match":"(\\\\.)((?:[-0-9A-Z_a-z[^\\\\x00-\\\\x7F]]|\\\\\\\\(?:\\\\h{1,6}|.))+)(?=$|[#)+,.:>\\\\[{|~\\\\s]|/\\\\*)","name":"entity.other.attribute-name.class.css"},{"captures":{"1":{"name":"punctuation.definition.entity.css"},"2":{"patterns":[{"include":"#escapes"}]}},"match":"(#)(-?(?![0-9])(?:[-0-9A-Z_a-z[^\\\\x00-\\\\x7F]]|\\\\\\\\(?:\\\\h{1,6}|.))+)(?=$|[#)+,.:>\\\\[{|~\\\\s]|/\\\\*)","name":"entity.other.attribute-name.id.css"},{"begin":"\\\\[","beginCaptures":{"0":{"name":"punctuation.definition.entity.begin.bracket.square.css"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.entity.end.bracket.square.css"}},"name":"meta.attribute-selector.css","patterns":[{"include":"#comment-block"},{"include":"#string"},{"captures":{"1":{"name":"storage.modifier.ignore-case.css"}},"match":"(?<=[\\"'\\\\s]|^|\\\\*/)\\\\s*([Ii])\\\\s*(?=[]\\\\s]|/\\\\*|$)"},{"captures":{"1":{"name":"string.unquoted.attribute-value.css","patterns":[{"include":"#escapes"}]}},"match":"(?<==)\\\\s*((?!/\\\\*)(?:[^]\\"'\\\\\\\\\\\\s]|\\\\\\\\.)+)"},{"include":"#escapes"},{"match":"[$*^|~]?=","name":"keyword.operator.pattern.css"},{"match":"\\\\|","name":"punctuation.separator.css"},{"captures":{"1":{"name":"entity.other.namespace-prefix.css","patterns":[{"include":"#escapes"}]}},"match":"(-?(?!\\\\d)(?:[-\\\\w[^\\\\x00-\\\\x7F]]|\\\\\\\\(?:\\\\h{1,6}|.))+|\\\\*)(?=\\\\|(?![=\\\\s]|$|])(?:-?(?!\\\\d)|[-\\\\\\\\\\\\w[^\\\\x00-\\\\x7F]]))"},{"captures":{"1":{"name":"entity.other.attribute-name.css","patterns":[{"include":"#escapes"}]}},"match":"(-?(?!\\\\d)(?>[-\\\\w[^\\\\x00-\\\\x7F]]|\\\\\\\\(?:\\\\h{1,6}|.))+)\\\\s*(?=[]$*=^|~]|/\\\\*)"}]},{"include":"#pseudo-classes"},{"include":"#pseudo-elements"},{"include":"#functional-pseudo-classes"},{"match":"(?<![-@\\\\w])(?=[a-z]\\\\w*-)(?:(?![A-Z])[-\\\\w])+(?![-(\\\\w])","name":"entity.name.tag.custom.css"}]},"string":{"patterns":[{"begin":"\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.css"}},"end":"\\"|(?<!\\\\\\\\)(?=$|\\\\n)","endCaptures":{"0":{"name":"punctuation.definition.string.end.css"}},"name":"string.quoted.double.css","patterns":[{"begin":"(?:\\\\G|^)(?=(?:[^\\"\\\\\\\\]|\\\\\\\\.)+$)","end":"$","name":"invalid.illegal.unclosed.string.css","patterns":[{"include":"#escapes"}]},{"include":"#escapes"}]},{"begin":"'","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.css"}},"end":"'|(?<!\\\\\\\\)(?=$|\\\\n)","endCaptures":{"0":{"name":"punctuation.definition.string.end.css"}},"name":"string.quoted.single.css","patterns":[{"begin":"(?:\\\\G|^)(?=(?:[^'\\\\\\\\]|\\\\\\\\.)+$)","end":"$","name":"invalid.illegal.unclosed.string.css","patterns":[{"include":"#escapes"}]},{"include":"#escapes"}]}]},"tag-names":{"match":"(?i)(?<![-:\\\\w])(?:a|abbr|acronym|address|applet|area|article|aside|audio|b|base|basefont|bdi|bdo|bgsound|big|blink|blockquote|body|br|button|canvas|caption|center|cite|code|col|colgroup|command|content|data|datalist|dd|del|details|dfn|dialog|dir|div|dl|dt|element|em|embed|fieldset|figcaption|figure|font|footer|form|frame|frameset|h[1-6]|head|header|hgroup|hr|html|i|iframe|image|img|input|ins|isindex|kbd|keygen|label|legend|li|link|listing|main|map|mark|marquee|math|menu|menuitem|meta|meter|multicol|nav|nextid|nobr|noembed|noframes|noscript|object|ol|optgroup|option|output|p|param|picture|plaintext|pre|progress|q|rb|rp|rtc??|ruby|s|samp|script|section|select|shadow|slot|small|source|spacer|span|strike|strong|style|sub|summary|sup|table|tbody|td|template|textarea|tfoot|th|thead|time|title|tr|track|tt|ul??|var|video|wbr|xmp|altGlyph|altGlyphDef|altGlyphItem|animate|animateColor|animateMotion|animateTransform|circle|clipPath|color-profile|cursor|defs|desc|discard|ellipse|feBlend|feColorMatrix|feComponentTransfer|feComposite|feConvolveMatrix|feDiffuseLighting|feDisplacementMap|feDistantLight|feDropShadow|feFlood|feFuncA|feFuncB|feFuncG|feFuncR|feGaussianBlur|feImage|feMerge|feMergeNode|feMorphology|feOffset|fePointLight|feSpecularLighting|feSpotLight|feTile|feTurbulence|filter|font-face|font-face-format|font-face-name|font-face-src|font-face-uri|foreignObject|g|glyph|glyphRef|hatch|hatchpath|hkern|line|linearGradient|marker|mask|mesh|meshgradient|meshpatch|meshrow|metadata|missing-glyph|mpath|path|pattern|polygon|polyline|radialGradient|rect|set|solidcolor|stop|svg|switch|symbol|text|textPath|tref|tspan|use|view|vkern|annotation|annotation-xml|maction|maligngroup|malignmark|math|menclose|merror|mfenced|mfrac|mglyph|mi|mlabeledtr|mlongdiv|mmultiscripts|mn|mo|mover|mpadded|mphantom|mroot|mrow|ms|mscarries|mscarry|msgroup|msline|mspace|msqrt|msrow|mstack|mstyle|msub|msubsup|msup|mtable|mtd|mtext|mtr|munder|munderover|semantics)(?=[#)+,.:>\\\\[{|~\\\\s]|/\\\\*|$)","name":"entity.name.tag.css"},"unicode-range":{"captures":{"0":{"name":"constant.other.unicode-range.css"},"1":{"name":"punctuation.separator.dash.unicode-range.css"}},"match":"(?<![-\\\\w])[Uu]\\\\+[?\\\\h]{1,6}(?:(-)\\\\h{1,6})?(?![-\\\\w])"},"url":{"begin":"(?i)(?<![-@\\\\w])(url)(\\\\()","beginCaptures":{"1":{"name":"support.function.url.css"},"2":{"name":"punctuation.section.function.begin.bracket.round.css"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.section.function.end.bracket.round.css"}},"name":"meta.function.url.css","patterns":[{"match":"[^\\"')\\\\s]+","name":"variable.parameter.url.css"},{"include":"#string"},{"include":"#comment-block"},{"include":"#escapes"}]}},"scopeName":"source.css"}`)),B6=[y9e],jQe=Object.freeze(Object.defineProperty({__proto__:null,default:B6},Symbol.toStringTag,{value:"Module"})),w9e=Object.freeze(JSON.parse(`{"displayName":"Go","name":"go","patterns":[{"include":"#statements"}],"repository":{"after_control_variables":{"captures":{"1":{"patterns":[{"include":"#type-declarations-without-brackets"},{"match":"\\\\[","name":"punctuation.definition.begin.bracket.square.go"},{"match":"]","name":"punctuation.definition.end.bracket.square.go"},{"match":"\\\\w+","name":"variable.other.go"}]}},"match":"(?<=\\\\brange\\\\b|;|\\\\bif\\\\b|\\\\bfor\\\\b|[<>]|<=|>=|==|!=|\\\\w[-%*+/]|\\\\w[-%*+/]=|\\\\|\\\\||&&)\\\\s*((?![]\\\\[]+)[-\\\\]!%*+./:<=>\\\\[_[:alnum:]]+)\\\\s*(?=\\\\{)"},"brackets":{"patterns":[{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.begin.bracket.curly.go"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.curly.go"}},"patterns":[{"include":"$self"}]},{"begin":"\\\\(","beginCaptures":{"0":{"name":"punctuation.definition.begin.bracket.round.go"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.round.go"}},"patterns":[{"include":"$self"}]},{"begin":"\\\\[","beginCaptures":{"0":{"name":"punctuation.definition.begin.bracket.square.go"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.square.go"}},"patterns":[{"include":"$self"}]}]},"built_in_functions":{"patterns":[{"match":"\\\\b(append|cap|close|complex|copy|delete|imag|len|panic|print|println|real|recover|min|max|clear)\\\\b(?=\\\\()","name":"entity.name.function.support.builtin.go"},{"begin":"\\\\b(new)\\\\b(\\\\()","beginCaptures":{"1":{"name":"entity.name.function.support.builtin.go"},"2":{"name":"punctuation.definition.begin.bracket.round.go"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.round.go"}},"patterns":[{"include":"#functions"},{"include":"#struct_variables_types"},{"include":"#type-declarations"},{"include":"#generic_types"},{"match":"\\\\w+","name":"entity.name.type.go"},{"include":"$self"}]},{"begin":"\\\\b(make)\\\\b(\\\\()((?:(?:[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+(?:\\\\([^)]+\\\\))?)?[]*\\\\[]+{0,1}(?:(?!\\\\bmap\\\\b)[.\\\\w]+)?(\\\\[(?:\\\\S+(?:,\\\\s*\\\\S+)*)?])?,?)?","beginCaptures":{"1":{"name":"entity.name.function.support.builtin.go"},"2":{"name":"punctuation.definition.begin.bracket.round.go"},"3":{"patterns":[{"include":"#type-declarations-without-brackets"},{"include":"#parameter-variable-types"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.round.go"}},"patterns":[{"include":"$self"}]}]},"comments":{"patterns":[{"begin":"(/\\\\*)","beginCaptures":{"1":{"name":"punctuation.definition.comment.go"}},"end":"(\\\\*/)","endCaptures":{"1":{"name":"punctuation.definition.comment.go"}},"name":"comment.block.go"},{"begin":"(//)","beginCaptures":{"1":{"name":"punctuation.definition.comment.go"}},"end":"\\\\n|$","name":"comment.line.double-slash.go"}]},"const_assignment":{"patterns":[{"captures":{"1":{"patterns":[{"include":"#delimiters"},{"match":"\\\\w+","name":"variable.other.constant.go"}]},"2":{"patterns":[{"include":"#type-declarations-without-brackets"},{"include":"#generic_types"},{"match":"\\\\(","name":"punctuation.definition.begin.bracket.round.go"},{"match":"\\\\)","name":"punctuation.definition.end.bracket.round.go"},{"match":"\\\\[","name":"punctuation.definition.begin.bracket.square.go"},{"match":"]","name":"punctuation.definition.end.bracket.square.go"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"(?<=\\\\bconst\\\\b)\\\\s*\\\\b([.\\\\w]+(?:,\\\\s*[.\\\\w]+)*)\\\\s*((?:(?:[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+(?:\\\\([^)]+\\\\))?)?(?![]*\\\\[]+{0,1}\\\\b(?:struct|func|map)\\\\b)(?:[]*.\\\\[\\\\w]+(?:,\\\\s*[]*.\\\\[\\\\w]+)*)?\\\\s*=?)?"},{"begin":"(?<=\\\\bconst\\\\b)\\\\s*(\\\\()","beginCaptures":{"1":{"name":"punctuation.definition.begin.bracket.round.go"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.round.go"}},"patterns":[{"captures":{"1":{"patterns":[{"include":"#delimiters"},{"match":"\\\\w+","name":"variable.other.constant.go"}]},"2":{"patterns":[{"include":"#type-declarations-without-brackets"},{"include":"#generic_types"},{"match":"\\\\(","name":"punctuation.definition.begin.bracket.round.go"},{"match":"\\\\)","name":"punctuation.definition.end.bracket.round.go"},{"match":"\\\\[","name":"punctuation.definition.begin.bracket.square.go"},{"match":"]","name":"punctuation.definition.end.bracket.square.go"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"^\\\\s*\\\\b([.\\\\w]+(?:,\\\\s*[.\\\\w]+)*)\\\\s*((?:(?:[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+(?:\\\\([^)]+\\\\))?)?(?![]*\\\\[]+{0,1}\\\\b(?:struct|func|map)\\\\b)(?:[]*.\\\\[\\\\w]+(?:,\\\\s*[]*.\\\\[\\\\w]+)*)?\\\\s*=?)?"},{"include":"$self"}]}]},"delimiters":{"patterns":[{"match":",","name":"punctuation.other.comma.go"},{"match":"\\\\.(?!\\\\.\\\\.)","name":"punctuation.other.period.go"},{"match":":(?!=)","name":"punctuation.other.colon.go"}]},"double_parentheses_types":{"captures":{"1":{"patterns":[{"include":"#type-declarations-without-brackets"},{"match":"\\\\(","name":"punctuation.definition.begin.bracket.round.go"},{"match":"\\\\)","name":"punctuation.definition.end.bracket.round.go"},{"match":"\\\\[","name":"punctuation.definition.begin.bracket.square.go"},{"match":"]","name":"punctuation.definition.end.bracket.square.go"},{"match":"\\\\{","name":"punctuation.definition.begin.bracket.curly.go"},{"match":"}","name":"punctuation.definition.end.bracket.curly.go"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"(?<!\\\\w)(\\\\([]*\\\\[]+{0,1}[.\\\\w]+(?:\\\\[(?:[]*.\\\\[{}\\\\w]+(?:,\\\\s*[]*.\\\\[{}\\\\w]+)*)?])?\\\\))(?=\\\\()"},"function_declaration":{"begin":"^\\\\b(func)\\\\b\\\\s*(\\\\([^)]+\\\\)\\\\s*)?(?:(\\\\w+)(?=[(\\\\[]))?","beginCaptures":{"1":{"name":"keyword.function.go"},"2":{"patterns":[{"begin":"\\\\(","beginCaptures":{"0":{"name":"punctuation.definition.begin.bracket.round.go"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.round.go"}},"patterns":[{"captures":{"1":{"name":"variable.parameter.go"},"2":{"patterns":[{"include":"#type-declarations-without-brackets"},{"include":"#parameter-variable-types"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"(\\\\w+\\\\s+)?([*.\\\\w]+(?:\\\\[(?:[*.\\\\w]+(?:,\\\\s+)?)+{0,1}])?)"},{"include":"$self"}]}]},"3":{"patterns":[{"match":"\\\\d\\\\w*","name":"invalid.illegal.identifier.go"},{"match":"\\\\w+","name":"entity.name.function.go"}]}},"end":"(?<=\\\\))\\\\s*((?:[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+{0,1}(?![]*\\\\[]+{0,1}\\\\b(?:struct|interface)\\\\b)[-\\\\]*.\\\\[\\\\w]+)?\\\\s*(?=\\\\{)","endCaptures":{"1":{"patterns":[{"include":"#type-declarations-without-brackets"},{"include":"#parameter-variable-types"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"patterns":[{"begin":"\\\\(","beginCaptures":{"0":{"name":"punctuation.definition.begin.bracket.round.go"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.round.go"}},"patterns":[{"include":"#function_param_types"}]},{"begin":"([*.\\\\w]+)?(\\\\[)","beginCaptures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"entity.name.type.go"}]},"2":{"name":"punctuation.definition.begin.bracket.square.go"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.square.go"}},"patterns":[{"include":"#generic_param_types"}]},{"captures":{"1":{"patterns":[{"include":"#type-declarations-without-brackets"},{"include":"#parameter-variable-types"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"(?<=\\\\))\\\\s*((?:\\\\s*[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+{0,1}[-\\\\]*.<>\\\\[\\\\w]+\\\\s*(?:/[*/].*)?)$"},{"include":"$self"}]},"function_param_types":{"patterns":[{"include":"#struct_variables_types"},{"include":"#interface_variables_types"},{"include":"#type-declarations-without-brackets"},{"captures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"variable.parameter.go"}]}},"match":"((?:\\\\b\\\\w+,\\\\s*)+{0,1}\\\\b\\\\w+)\\\\s+(?=(?:\\\\s*[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+{0,1}[]*\\\\[]+{0,1}\\\\b(?:struct|interface)\\\\b\\\\s*\\\\{)"},{"captures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"variable.parameter.go"}]}},"match":"(?:(?<=\\\\()|^\\\\s*)((?:\\\\b\\\\w+,\\\\s*)+(?:/[*/].*)?)$"},{"captures":{"1":{"patterns":[{"include":"#delimiters"},{"match":"\\\\w+","name":"variable.parameter.go"}]},"2":{"patterns":[{"include":"#type-declarations-without-brackets"},{"include":"#parameter-variable-types"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"((?:\\\\b\\\\w+,\\\\s*)+{0,1}\\\\b\\\\w+)\\\\s+((?:\\\\s*[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+{0,1}(?:[]*.\\\\[\\\\w]+{0,1}(?:\\\\bfunc\\\\b\\\\([^)]+{0,1}\\\\)(?:\\\\s*[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+{0,1}\\\\s*)+(?:[]*.\\\\[\\\\w]+|\\\\([^)]+{0,1}\\\\))?|(?:[]*\\\\[]+{0,1}[*.\\\\w]+(?:\\\\[[^]]+])?[*.\\\\w]+{0,1})+))"},{"begin":"([*.\\\\w]+)?(\\\\[)","beginCaptures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"entity.name.type.go"}]},"2":{"name":"punctuation.definition.begin.bracket.square.go"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.square.go"}},"patterns":[{"include":"#generic_param_types"}]},{"begin":"\\\\(","beginCaptures":{"0":{"name":"punctuation.definition.begin.bracket.round.go"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.round.go"}},"patterns":[{"include":"#function_param_types"}]},{"captures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"([.\\\\w]+)"},{"include":"$self"}]},"functions":{"begin":"\\\\b(func)\\\\b(?=\\\\()","beginCaptures":{"1":{"name":"keyword.function.go"}},"end":"(?<=\\\\))(\\\\s*(?:[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+)?(\\\\s*(?:[]*\\\\[]+{0,1}[*.\\\\w]+)?(?:\\\\[(?:[*.\\\\w]+{0,1}(?:\\\\[[^]]+{0,1}])?(?:,\\\\s+)?)+]|\\\\([^)]+{0,1}\\\\))?[*.\\\\w]+{0,1}\\\\s*(?=\\\\{)|\\\\s*(?:[]*\\\\[]+{0,1}(?!\\\\bfunc\\\\b)[*.\\\\w]+(?:\\\\[(?:[*.\\\\w]+{0,1}(?:\\\\[[^]]+{0,1}])?(?:,\\\\s+)?)+])?[*.\\\\w]+{0,1}|\\\\([^)]+{0,1}\\\\)))?","endCaptures":{"1":{"patterns":[{"include":"#type-declarations"}]},"2":{"patterns":[{"include":"#type-declarations-without-brackets"},{"include":"#parameter-variable-types"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"patterns":[{"include":"#parameter-variable-types"}]},"functions_inline":{"captures":{"1":{"name":"keyword.function.go"},"2":{"patterns":[{"include":"#type-declarations-without-brackets"},{"begin":"\\\\(","beginCaptures":{"0":{"name":"punctuation.definition.begin.bracket.round.go"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.round.go"}},"patterns":[{"include":"#function_param_types"},{"include":"$self"}]},{"match":"\\\\[","name":"punctuation.definition.begin.bracket.square.go"},{"match":"]","name":"punctuation.definition.end.bracket.square.go"},{"match":"\\\\{","name":"punctuation.definition.begin.bracket.curly.go"},{"match":"}","name":"punctuation.definition.end.bracket.curly.go"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"\\\\b(func)\\\\b(\\\\([^/]*?\\\\)\\\\s+\\\\([^/]*?\\\\))\\\\s+(?=\\\\{)"},"generic_param_types":{"patterns":[{"include":"#struct_variables_types"},{"include":"#interface_variables_types"},{"include":"#type-declarations-without-brackets"},{"captures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"variable.parameter.go"}]}},"match":"((?:\\\\b\\\\w+,\\\\s*)+{0,1}\\\\b\\\\w+)\\\\s+(?=(?:\\\\s*[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+{0,1}[]*\\\\[]+{0,1}\\\\b(?:struct|interface)\\\\b\\\\s*\\\\{)"},{"captures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"variable.parameter.go"}]}},"match":"(?:(?<=\\\\()|^\\\\s*)((?:\\\\b\\\\w+,\\\\s*)+(?:/[*/].*)?)$"},{"captures":{"1":{"patterns":[{"include":"#delimiters"},{"match":"\\\\w+","name":"variable.parameter.go"}]},"2":{"patterns":[{"include":"#type-declarations-without-brackets"},{"include":"#parameter-variable-types"},{"match":"\\\\w+","name":"entity.name.type.go"}]},"3":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"((?:\\\\b\\\\w+,\\\\s*)+{0,1}\\\\b\\\\w+)\\\\s+((?:\\\\s*[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+{0,1}(?:[]*.\\\\[\\\\w]+{0,1}(?:\\\\bfunc\\\\b\\\\([^)]+{0,1}\\\\)(?:\\\\s*[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+{0,1}\\\\s*)+(?:[*.\\\\w]+|\\\\([^)]+{0,1}\\\\))?|(?:(?:[*.~\\\\w]+|\\\\[(?:[*.\\\\w]+{0,1}(?:\\\\[[^]]+{0,1}])?(?:,\\\\s+)?)+])[*.\\\\w]+{0,1})+))"},{"begin":"([*.\\\\w]+)?(\\\\[)","beginCaptures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"entity.name.type.go"}]},"2":{"name":"punctuation.definition.begin.bracket.square.go"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.square.go"}},"patterns":[{"include":"#generic_param_types"}]},{"begin":"\\\\(","beginCaptures":{"0":{"name":"punctuation.definition.begin.bracket.round.go"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.round.go"}},"patterns":[{"include":"#function_param_types"}]},{"captures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"\\\\b([.\\\\w]+)"},{"include":"$self"}]},"generic_types":{"captures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"entity.name.type.go"}]},"2":{"patterns":[{"include":"#parameter-variable-types"}]}},"match":"([*.\\\\w]+)(\\\\[[^]]+{0,1}])"},"group-functions":{"patterns":[{"include":"#function_declaration"},{"include":"#functions_inline"},{"include":"#functions"},{"include":"#built_in_functions"},{"include":"#support_functions"}]},"group-types":{"patterns":[{"include":"#other_struct_interface_expressions"},{"include":"#type_assertion_inline"},{"include":"#struct_variables_types"},{"include":"#interface_variables_types"},{"include":"#single_type"},{"include":"#multi_types"},{"include":"#struct_interface_declaration"},{"include":"#double_parentheses_types"},{"include":"#switch_types"},{"include":"#type-declarations"}]},"group-variables":{"patterns":[{"include":"#const_assignment"},{"include":"#var_assignment"},{"include":"#variable_assignment"},{"include":"#label_loop_variables"},{"include":"#slice_index_variables"},{"include":"#property_variables"},{"include":"#switch_variables"},{"include":"#other_variables"}]},"hover":{"patterns":[{"captures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"variable.other.property.go"}]},"2":{"patterns":[{"match":"\\\\binvalid\\\\b\\\\s+\\\\btype\\\\b","name":"invalid.field.go"},{"include":"#type-declarations-without-brackets"},{"include":"#parameter-variable-types"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"(?<=^\\\\bfield\\\\b)\\\\s+([*.\\\\w]+)\\\\s+([\\\\s\\\\S]+)"},{"captures":{"1":{"patterns":[{"include":"#type-declarations-without-brackets"},{"include":"#parameter-variable-types"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"(?<=^\\\\breturns\\\\b)\\\\s+([\\\\s\\\\S]+)"}]},"import":{"patterns":[{"begin":"\\\\b(import)\\\\s+","beginCaptures":{"1":{"name":"keyword.control.import.go"}},"end":"(?!\\\\G)","patterns":[{"include":"#imports"}]}]},"imports":{"patterns":[{"captures":{"1":{"patterns":[{"include":"#delimiters"},{"match":"\\\\w+","name":"variable.other.import.go"}]},"2":{"name":"string.quoted.double.go"},"3":{"name":"punctuation.definition.string.begin.go"},"4":{"name":"entity.name.import.go"},"5":{"name":"punctuation.definition.string.end.go"}},"match":"(\\\\s*[.\\\\w]+)?\\\\s*((\\")([^\\"]*)(\\"))"},{"begin":"\\\\(","beginCaptures":{"0":{"name":"punctuation.definition.imports.begin.bracket.round.go"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.imports.end.bracket.round.go"}},"patterns":[{"include":"#comments"},{"include":"#imports"}]},{"include":"$self"}]},"interface_variables_types":{"begin":"\\\\b(interface)\\\\b\\\\s*(\\\\{)","beginCaptures":{"1":{"name":"keyword.interface.go"},"2":{"name":"punctuation.definition.begin.bracket.curly.go"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.curly.go"}},"patterns":[{"include":"#interface_variables_types_field"},{"include":"$self"}]},"interface_variables_types_field":{"patterns":[{"include":"#support_functions"},{"include":"#type-declarations-without-brackets"},{"begin":"([*.\\\\w]+)?(\\\\[)","beginCaptures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"entity.name.type.go"}]},"2":{"name":"punctuation.definition.begin.bracket.square.go"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.square.go"}},"patterns":[{"include":"#generic_param_types"}]},{"begin":"\\\\(","beginCaptures":{"0":{"name":"punctuation.definition.begin.bracket.round.go"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.round.go"}},"patterns":[{"include":"#function_param_types"}]},{"captures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"([.\\\\w]+)"}]},"keywords":{"patterns":[{"match":"\\\\b(break|case|continue|default|defer|else|fallthrough|for|go|goto|if|range|return|select|switch)\\\\b","name":"keyword.control.go"},{"match":"\\\\bchan\\\\b","name":"keyword.channel.go"},{"match":"\\\\bconst\\\\b","name":"keyword.const.go"},{"match":"\\\\bvar\\\\b","name":"keyword.var.go"},{"match":"\\\\bfunc\\\\b","name":"keyword.function.go"},{"match":"\\\\binterface\\\\b","name":"keyword.interface.go"},{"match":"\\\\bmap\\\\b","name":"keyword.map.go"},{"match":"\\\\bstruct\\\\b","name":"keyword.struct.go"},{"match":"\\\\bimport\\\\b","name":"keyword.control.import.go"},{"match":"\\\\btype\\\\b","name":"keyword.type.go"}]},"label_loop_variables":{"captures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"variable.other.label.go"}]}},"match":"^(\\\\s*\\\\w+:\\\\s*|\\\\s*\\\\b(?:break|goto|continue)\\\\b\\\\s+\\\\w+(?:\\\\s*/[*/]\\\\s*.*)?)$"},"language_constants":{"captures":{"1":{"name":"constant.language.boolean.go"},"2":{"name":"constant.language.null.go"},"3":{"name":"constant.language.iota.go"}},"match":"\\\\b(?:(true|false)|(nil)|(iota))\\\\b"},"map_types":{"begin":"\\\\b(map)\\\\b(\\\\[)","beginCaptures":{"1":{"name":"keyword.map.go"},"2":{"name":"punctuation.definition.begin.bracket.square.go"}},"end":"(])((?:[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+{0,1}(?![]*\\\\[]+{0,1}\\\\b(?:func|struct|map)\\\\b)[]*\\\\[]+{0,1}[.\\\\w]+(?:\\\\[(?:[]*.\\\\[{}\\\\w]+(?:,\\\\s*[]*.\\\\[{}\\\\w]+)*)?])?)?","endCaptures":{"1":{"name":"punctuation.definition.end.bracket.square.go"},"2":{"patterns":[{"include":"#type-declarations-without-brackets"},{"match":"\\\\[","name":"punctuation.definition.begin.bracket.square.go"},{"match":"]","name":"punctuation.definition.end.bracket.square.go"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"patterns":[{"include":"#type-declarations-without-brackets"},{"include":"#parameter-variable-types"},{"include":"#functions"},{"match":"\\\\[","name":"punctuation.definition.begin.bracket.square.go"},{"match":"]","name":"punctuation.definition.end.bracket.square.go"},{"match":"\\\\{","name":"punctuation.definition.begin.bracket.curly.go"},{"match":"}","name":"punctuation.definition.end.bracket.curly.go"},{"match":"\\\\(","name":"punctuation.definition.begin.bracket.round.go"},{"match":"\\\\)","name":"punctuation.definition.end.bracket.round.go"},{"match":"\\\\w+","name":"entity.name.type.go"}]},"multi_types":{"begin":"\\\\b(type)\\\\b\\\\s*(\\\\()","beginCaptures":{"1":{"name":"keyword.type.go"},"2":{"name":"punctuation.definition.begin.bracket.round.go"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.round.go"}},"patterns":[{"include":"#struct_variables_types"},{"include":"#interface_variables_types"},{"include":"#type-declarations-without-brackets"},{"include":"#parameter-variable-types"},{"match":"\\\\w+","name":"entity.name.type.go"}]},"numeric_literals":{"captures":{"0":{"patterns":[{"begin":"(?=.)","end":"\\\\n|$","patterns":[{"captures":{"1":{"name":"constant.numeric.decimal.go","patterns":[{"match":"(?<=\\\\h)_(?=\\\\h)","name":"punctuation.separator.constant.numeric.go"}]},"2":{"name":"punctuation.separator.constant.numeric.go"},"3":{"name":"constant.numeric.decimal.point.go"},"4":{"name":"constant.numeric.decimal.go","patterns":[{"match":"(?<=\\\\h)_(?=\\\\h)","name":"punctuation.separator.constant.numeric.go"}]},"5":{"name":"punctuation.separator.constant.numeric.go"},"6":{"name":"keyword.other.unit.exponent.decimal.go"},"7":{"name":"keyword.operator.plus.exponent.decimal.go"},"8":{"name":"keyword.operator.minus.exponent.decimal.go"},"9":{"name":"constant.numeric.exponent.decimal.go","patterns":[{"match":"(?<=\\\\h)_(?=\\\\h)","name":"punctuation.separator.constant.numeric.go"}]},"10":{"name":"keyword.other.unit.imaginary.go"},"11":{"name":"constant.numeric.decimal.go","patterns":[{"match":"(?<=\\\\h)_(?=\\\\h)","name":"punctuation.separator.constant.numeric.go"}]},"12":{"name":"punctuation.separator.constant.numeric.go"},"13":{"name":"keyword.other.unit.exponent.decimal.go"},"14":{"name":"keyword.operator.plus.exponent.decimal.go"},"15":{"name":"keyword.operator.minus.exponent.decimal.go"},"16":{"name":"constant.numeric.exponent.decimal.go","patterns":[{"match":"(?<=\\\\h)_(?=\\\\h)","name":"punctuation.separator.constant.numeric.go"}]},"17":{"name":"keyword.other.unit.imaginary.go"},"18":{"name":"constant.numeric.decimal.point.go"},"19":{"name":"constant.numeric.decimal.go","patterns":[{"match":"(?<=\\\\h)_(?=\\\\h)","name":"punctuation.separator.constant.numeric.go"}]},"20":{"name":"punctuation.separator.constant.numeric.go"},"21":{"name":"keyword.other.unit.exponent.decimal.go"},"22":{"name":"keyword.operator.plus.exponent.decimal.go"},"23":{"name":"keyword.operator.minus.exponent.decimal.go"},"24":{"name":"constant.numeric.exponent.decimal.go","patterns":[{"match":"(?<=\\\\h)_(?=\\\\h)","name":"punctuation.separator.constant.numeric.go"}]},"25":{"name":"keyword.other.unit.imaginary.go"},"26":{"name":"keyword.other.unit.hexadecimal.go"},"27":{"name":"constant.numeric.hexadecimal.go","patterns":[{"match":"(?<=\\\\h)_(?=\\\\h)","name":"punctuation.separator.constant.numeric.go"}]},"28":{"name":"punctuation.separator.constant.numeric.go"},"29":{"name":"constant.numeric.hexadecimal.go"},"30":{"name":"constant.numeric.hexadecimal.go","patterns":[{"match":"(?<=\\\\h)_(?=\\\\h)","name":"punctuation.separator.constant.numeric.go"}]},"31":{"name":"punctuation.separator.constant.numeric.go"},"32":{"name":"keyword.other.unit.exponent.hexadecimal.go"},"33":{"name":"keyword.operator.plus.exponent.hexadecimal.go"},"34":{"name":"keyword.operator.minus.exponent.hexadecimal.go"},"35":{"name":"constant.numeric.exponent.hexadecimal.go","patterns":[{"match":"(?<=\\\\h)_(?=\\\\h)","name":"punctuation.separator.constant.numeric.go"}]},"36":{"name":"keyword.other.unit.imaginary.go"},"37":{"name":"keyword.other.unit.hexadecimal.go"},"38":{"name":"constant.numeric.hexadecimal.go","patterns":[{"match":"(?<=\\\\h)_(?=\\\\h)","name":"punctuation.separator.constant.numeric.go"}]},"39":{"name":"punctuation.separator.constant.numeric.go"},"40":{"name":"keyword.other.unit.exponent.hexadecimal.go"},"41":{"name":"keyword.operator.plus.exponent.hexadecimal.go"},"42":{"name":"keyword.operator.minus.exponent.hexadecimal.go"},"43":{"name":"constant.numeric.exponent.hexadecimal.go","patterns":[{"match":"(?<=\\\\h)_(?=\\\\h)","name":"punctuation.separator.constant.numeric.go"}]},"44":{"name":"keyword.other.unit.imaginary.go"},"45":{"name":"keyword.other.unit.hexadecimal.go"},"46":{"name":"constant.numeric.hexadecimal.go"},"47":{"name":"constant.numeric.hexadecimal.go","patterns":[{"match":"(?<=\\\\h)_(?=\\\\h)","name":"punctuation.separator.constant.numeric.go"}]},"48":{"name":"punctuation.separator.constant.numeric.go"},"49":{"name":"keyword.other.unit.exponent.hexadecimal.go"},"50":{"name":"keyword.operator.plus.exponent.hexadecimal.go"},"51":{"name":"keyword.operator.minus.exponent.hexadecimal.go"},"52":{"name":"constant.numeric.exponent.hexadecimal.go","patterns":[{"match":"(?<=\\\\h)_(?=\\\\h)","name":"punctuation.separator.constant.numeric.go"}]},"53":{"name":"keyword.other.unit.imaginary.go"}},"match":"\\\\G(?:(?:(?:(?:(?:(?=[.0-9])(?!0[BOXbox])([0-9](?:[0-9]|((?<=\\\\h)_(?=\\\\h)))*)((?<=[0-9])\\\\.|\\\\.(?=[0-9]))([0-9](?:[0-9]|((?<=\\\\h)_(?=\\\\h)))*)?(?:(?<!_)([Ee])(\\\\+?)(-?)([0-9](?:[0-9]|(?<=\\\\h)_(?=\\\\h))*))?(i(?!\\\\w))?(?:\\\\n|$)|(?=[.0-9])(?!0[BOXbox])([0-9](?:[0-9]|((?<=\\\\h)_(?=\\\\h)))*)(?<!_)([Ee])(\\\\+?)(-?)([0-9](?:[0-9]|(?<=\\\\h)_(?=\\\\h))*)(i(?!\\\\w))?(?:\\\\n|$))|((?<=[0-9])\\\\.|\\\\.(?=[0-9]))([0-9](?:[0-9]|((?<=\\\\h)_(?=\\\\h)))*)(?:(?<!_)([Ee])(\\\\+?)(-?)([0-9](?:[0-9]|(?<=\\\\h)_(?=\\\\h))*))?(i(?!\\\\w))?(?:\\\\n|$))|(0[Xx])_?(\\\\h(?:\\\\h|((?<=\\\\h)_(?=\\\\h)))*)((?<=\\\\h)\\\\.|\\\\.(?=\\\\h))(\\\\h(?:\\\\h|((?<=\\\\h)_(?=\\\\h)))*)?(?<!_)([Pp])(\\\\+?)(-?)([0-9](?:[0-9]|(?<=\\\\h)_(?=\\\\h))*)(i(?!\\\\w))?(?:\\\\n|$))|(0[Xx])_?(\\\\h(?:\\\\h|((?<=\\\\h)_(?=\\\\h)))*)(?<!_)([Pp])(\\\\+?)(-?)([0-9](?:[0-9]|(?<=\\\\h)_(?=\\\\h))*)(i(?!\\\\w))?(?:\\\\n|$))|(0[Xx])((?<=\\\\h)\\\\.|\\\\.(?=\\\\h))(\\\\h(?:\\\\h|((?<=\\\\h)_(?=\\\\h)))*)(?<!_)([Pp])(\\\\+?)(-?)([0-9](?:[0-9]|(?<=\\\\h)_(?=\\\\h))*)(i(?!\\\\w))?(?:\\\\n|$))"},{"captures":{"1":{"name":"constant.numeric.decimal.go","patterns":[{"match":"(?<=\\\\h)_(?=\\\\h)","name":"punctuation.separator.constant.numeric.go"}]},"2":{"name":"punctuation.separator.constant.numeric.go"},"3":{"name":"keyword.other.unit.imaginary.go"},"4":{"name":"keyword.other.unit.binary.go"},"5":{"name":"constant.numeric.binary.go","patterns":[{"match":"(?<=\\\\h)_(?=\\\\h)","name":"punctuation.separator.constant.numeric.go"}]},"6":{"name":"punctuation.separator.constant.numeric.go"},"7":{"name":"keyword.other.unit.imaginary.go"},"8":{"name":"keyword.other.unit.octal.go"},"9":{"name":"constant.numeric.octal.go","patterns":[{"match":"(?<=\\\\h)_(?=\\\\h)","name":"punctuation.separator.constant.numeric.go"}]},"10":{"name":"punctuation.separator.constant.numeric.go"},"11":{"name":"keyword.other.unit.imaginary.go"},"12":{"name":"keyword.other.unit.hexadecimal.go"},"13":{"name":"constant.numeric.hexadecimal.go","patterns":[{"match":"(?<=\\\\h)_(?=\\\\h)","name":"punctuation.separator.constant.numeric.go"}]},"14":{"name":"punctuation.separator.constant.numeric.go"},"15":{"name":"keyword.other.unit.imaginary.go"}},"match":"\\\\G(?:(?:(?:(?=[.0-9])(?!0[BOXbox])([0-9](?:[0-9]|((?<=\\\\h)_(?=\\\\h)))*)(i(?!\\\\w))?(?:\\\\n|$)|(0[Bb])_?([01](?:[01]|((?<=\\\\h)_(?=\\\\h)))*)(i(?!\\\\w))?(?:\\\\n|$))|(0[Oo]?)_?((?:[0-7]|((?<=\\\\h)_(?=\\\\h)))+)(i(?!\\\\w))?(?:\\\\n|$))|(0[Xx])_?(\\\\h(?:\\\\h|((?<=\\\\h)_(?=\\\\h)))*)(i(?!\\\\w))?(?:\\\\n|$))"},{"match":"(?:[.0-9A-Z_a-z]|(?<=[EPep])[-+])+","name":"invalid.illegal.constant.numeric.go"}]}]}},"match":"(?<!\\\\w)\\\\.?\\\\d(?:[.0-9A-Z_a-z]|(?<=[EPep])[-+])*"},"operators":{"patterns":[{"match":"(?<!\\\\w)[\\\\&*]+(?!\\\\d)(?=[]\\\\[\\\\w]|<-)","name":"keyword.operator.address.go"},{"match":"<-","name":"keyword.operator.channel.go"},{"match":"--","name":"keyword.operator.decrement.go"},{"match":"\\\\+\\\\+","name":"keyword.operator.increment.go"},{"match":"(==|!=|<=|>=|<(?!<)|>(?!>))","name":"keyword.operator.comparison.go"},{"match":"(&&|\\\\|\\\\||!)","name":"keyword.operator.logical.go"},{"match":"((?:|[-%*+/:^|]|<<|>>|&\\\\^?)=)","name":"keyword.operator.assignment.go"},{"match":"([-%*+/])","name":"keyword.operator.arithmetic.go"},{"match":"(&(?!\\\\^)|[\\\\^|]|&\\\\^|<<|>>|~)","name":"keyword.operator.arithmetic.bitwise.go"},{"match":"\\\\.\\\\.\\\\.","name":"keyword.operator.ellipsis.go"}]},"other_struct_interface_expressions":{"patterns":[{"include":"#after_control_variables"},{"captures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"entity.name.type.go"}]},"2":{"patterns":[{"include":"#type-declarations-without-brackets"},{"match":"\\\\[","name":"punctuation.definition.begin.bracket.square.go"},{"match":"]","name":"punctuation.definition.end.bracket.square.go"},{"match":"\\\\{","name":"punctuation.definition.begin.bracket.curly.go"},{"match":"}","name":"punctuation.definition.end.bracket.curly.go"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"\\\\b(?!(?:struct|interface)\\\\b)([.\\\\w]+)(?<brackets>\\\\[(?:[^]\\\\[]|\\\\g<brackets>)*])?(?=\\\\{)"}]},"other_variables":{"match":"\\\\w+","name":"variable.other.go"},"package_name":{"patterns":[{"begin":"\\\\b(package)\\\\s+","beginCaptures":{"1":{"name":"keyword.package.go"}},"end":"(?!\\\\G)","patterns":[{"match":"\\\\d\\\\w*","name":"invalid.illegal.identifier.go"},{"match":"\\\\w+","name":"entity.name.type.package.go"}]}]},"parameter-variable-types":{"patterns":[{"match":"\\\\{","name":"punctuation.definition.begin.bracket.curly.go"},{"match":"}","name":"punctuation.definition.end.bracket.curly.go"},{"begin":"([*.\\\\w]+)?(\\\\[)","beginCaptures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"entity.name.type.go"}]},"2":{"name":"punctuation.definition.begin.bracket.square.go"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.square.go"}},"patterns":[{"include":"#generic_param_types"}]},{"begin":"\\\\(","beginCaptures":{"0":{"name":"punctuation.definition.begin.bracket.round.go"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.round.go"}},"patterns":[{"include":"#function_param_types"}]}]},"property_variables":{"captures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"variable.other.property.go"}]}},"match":"\\\\b([.\\\\w]+:(?!=))"},"raw_string_literals":{"begin":"\`","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.go"}},"end":"\`","endCaptures":{"0":{"name":"punctuation.definition.string.end.go"}},"name":"string.quoted.raw.go","patterns":[{"include":"#string_placeholder"}]},"runes":{"patterns":[{"begin":"'","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.go"}},"end":"'","endCaptures":{"0":{"name":"punctuation.definition.string.end.go"}},"name":"string.quoted.rune.go","patterns":[{"match":"\\\\G(\\\\\\\\([0-7]{3}|[\\"'\\\\\\\\abfnrtv]|x\\\\h{2}|u\\\\h{4}|U\\\\h{8})|.)(?=')","name":"constant.other.rune.go"},{"match":"[^']+","name":"invalid.illegal.unknown-rune.go"}]}]},"single_type":{"patterns":[{"captures":{"1":{"name":"keyword.type.go"},"2":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"entity.name.type.go"}]},"3":{"patterns":[{"begin":"\\\\(","beginCaptures":{"0":{"name":"punctuation.definition.begin.bracket.round.go"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.round.go"}},"patterns":[{"include":"#function_param_types"},{"include":"$self"}]},{"include":"#type-declarations"},{"include":"#generic_types"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"^\\\\s*\\\\b(type)\\\\b\\\\s*([*.\\\\w]+)\\\\s+(?!(?:=\\\\s*)?[]*\\\\[]+{0,1}\\\\b(?:struct|interface)\\\\b)([\\\\s\\\\S]+)"},{"begin":"(?:^|\\\\s+)\\\\b(type)\\\\b\\\\s*([*.\\\\w]+)(?=\\\\[)","beginCaptures":{"1":{"name":"keyword.type.go"},"2":{"patterns":[{"include":"#type-declarations-without-brackets"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"end":"(?<=])(\\\\s+(?:=\\\\s*)?(?:[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+{0,1}(?![]*\\\\[]+{0,1}\\\\b(?:struct|interface|func)\\\\b)[-\\\\]*.\\\\[\\\\w]+(?:,\\\\s*[]*.\\\\[\\\\w]+)*)?","endCaptures":{"1":{"patterns":[{"include":"#type-declarations-without-brackets"},{"match":"\\\\[","name":"punctuation.definition.begin.bracket.square.go"},{"match":"]","name":"punctuation.definition.end.bracket.square.go"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"patterns":[{"include":"#struct_variables_types"},{"include":"#type-declarations-without-brackets"},{"include":"#parameter-variable-types"},{"match":"\\\\[","name":"punctuation.definition.begin.bracket.square.go"},{"match":"]","name":"punctuation.definition.end.bracket.square.go"},{"match":"\\\\{","name":"punctuation.definition.begin.bracket.curly.go"},{"match":"}","name":"punctuation.definition.end.bracket.curly.go"},{"match":"\\\\(","name":"punctuation.definition.begin.bracket.round.go"},{"match":"\\\\)","name":"punctuation.definition.end.bracket.round.go"},{"match":"\\\\w+","name":"entity.name.type.go"}]}]},"slice_index_variables":{"captures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"variable.other.go"}]}},"match":"(?<=\\\\w\\\\[)((?:\\\\b[-%\\\\&*+./<>|\\\\w]+:|:\\\\b[-%\\\\&*+./<>|\\\\w]+)(?:\\\\b[-%\\\\&*+./<>|\\\\w]+)?(?::\\\\b[-%\\\\&*+./<>|\\\\w]+)?)(?=])"},"statements":{"patterns":[{"include":"#package_name"},{"include":"#import"},{"include":"#syntax_errors"},{"include":"#group-functions"},{"include":"#group-types"},{"include":"#group-variables"},{"include":"#hover"}]},"storage_types":{"patterns":[{"match":"\\\\bbool\\\\b","name":"storage.type.boolean.go"},{"match":"\\\\bbyte\\\\b","name":"storage.type.byte.go"},{"match":"\\\\berror\\\\b","name":"storage.type.error.go"},{"match":"\\\\b(complex(64|128)|float(32|64)|u?int(8|16|32|64)?)\\\\b","name":"storage.type.numeric.go"},{"match":"\\\\brune\\\\b","name":"storage.type.rune.go"},{"match":"\\\\bstring\\\\b","name":"storage.type.string.go"},{"match":"\\\\buintptr\\\\b","name":"storage.type.uintptr.go"},{"match":"\\\\bany\\\\b","name":"entity.name.type.any.go"},{"match":"\\\\bcomparable\\\\b","name":"entity.name.type.comparable.go"}]},"string_escaped_char":{"patterns":[{"match":"\\\\\\\\([0-7]{3}|[\\"'\\\\\\\\abfnrtv]|x\\\\h{2}|u\\\\h{4}|U\\\\h{8})","name":"constant.character.escape.go"},{"match":"\\\\\\\\[^\\"'0-7Uabfnrtuvx]","name":"invalid.illegal.unknown-escape.go"}]},"string_literals":{"patterns":[{"begin":"\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.go"}},"end":"\\"","endCaptures":{"0":{"name":"punctuation.definition.string.end.go"}},"name":"string.quoted.double.go","patterns":[{"include":"#string_escaped_char"},{"include":"#string_placeholder"}]}]},"string_placeholder":{"patterns":[{"match":"%(\\\\[\\\\d+])?([- #+0]{0,2}((\\\\d+|\\\\*)?(\\\\.?(\\\\d+|\\\\*|(\\\\[\\\\d+])\\\\*?)?(\\\\[\\\\d+])?)?))?[%EFGTUXb-gopqstvwx]","name":"constant.other.placeholder.go"}]},"struct_interface_declaration":{"captures":{"1":{"name":"keyword.type.go"},"2":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"^\\\\s*\\\\b(type)\\\\b\\\\s*([.\\\\w]+)"},"struct_variable_types_fields_multi":{"patterns":[{"begin":"\\\\b(\\\\w+(?:,\\\\s*\\\\b\\\\w+)*(?:\\\\s*[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+{0,1}\\\\s*[]*\\\\[]+{0,1})\\\\b(struct)\\\\b\\\\s*(\\\\{)","beginCaptures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"variable.other.property.go"}]},"2":{"name":"keyword.struct.go"},"3":{"name":"punctuation.definition.begin.bracket.curly.go"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.curly.go"}},"patterns":[{"include":"#struct_variables_types_fields"},{"include":"$self"}]},{"begin":"\\\\b(\\\\w+(?:,\\\\s*\\\\b\\\\w+)*(?:\\\\s*[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+{0,1}\\\\s*[]*\\\\[]+{0,1})\\\\b(interface)\\\\b\\\\s*(\\\\{)","beginCaptures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"variable.other.property.go"}]},"2":{"name":"keyword.interface.go"},"3":{"name":"punctuation.definition.begin.bracket.curly.go"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.curly.go"}},"patterns":[{"include":"#interface_variables_types_field"},{"include":"$self"}]},{"begin":"\\\\b(\\\\w+(?:,\\\\s*\\\\b\\\\w+)*(?:\\\\s*[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+{0,1}\\\\s*[]*\\\\[]+{0,1})\\\\b(func)\\\\b\\\\s*(\\\\()","beginCaptures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"variable.other.property.go"}]},"2":{"name":"keyword.function.go"},"3":{"name":"punctuation.definition.begin.bracket.round.go"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.round.go"}},"patterns":[{"include":"#function_param_types"},{"include":"$self"}]},{"include":"#parameter-variable-types"}]},"struct_variables_types":{"begin":"\\\\b(struct)\\\\b\\\\s*(\\\\{)","beginCaptures":{"1":{"name":"keyword.struct.go"},"2":{"name":"punctuation.definition.begin.bracket.curly.go"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.curly.go"}},"patterns":[{"include":"#struct_variables_types_fields"},{"include":"$self"}]},"struct_variables_types_fields":{"patterns":[{"include":"#struct_variable_types_fields_multi"},{"captures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"(?<=\\\\{)\\\\s*((?:\\\\s*[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+{0,1}[]*.\\\\[\\\\w]+)\\\\s*(?=})"},{"captures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"variable.other.property.go"}]},"2":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"(?<=\\\\{)\\\\s*((?:\\\\w+,\\\\s*)+{0,1}\\\\w+\\\\s+)((?:\\\\s*[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+{0,1}[]*.\\\\[\\\\w]+)\\\\s*(?=})"},{"captures":{"1":{"patterns":[{"captures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"variable.other.property.go"}]},"2":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"((?:\\\\w+,\\\\s*)+{0,1}\\\\w+\\\\s+)?((?:\\\\s*[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+{0,1}[^/\\\\s]+;?)"}]}},"match":"(?<=\\\\{)((?:\\\\s*(?:(?:\\\\w+,\\\\s*)+{0,1}\\\\w+\\\\s+)?(?:\\\\s*[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+{0,1}[^/\\\\s]+;?)+)\\\\s*(?=})"},{"captures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"((?:\\\\s*[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+{0,1}[*.\\\\w]+\\\\s*)(?:(?=[\\"/\`])|$)"},{"captures":{"1":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"variable.other.property.go"}]},"2":{"patterns":[{"include":"#type-declarations-without-brackets"},{"include":"#parameter-variable-types"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"\\\\b(\\\\w+(?:\\\\s*,\\\\s*\\\\b\\\\w+)*)\\\\s*([^\\"/\`]+)"}]},"support_functions":{"captures":{"1":{"name":"entity.name.function.support.go"},"2":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\d\\\\w*","name":"invalid.illegal.identifier.go"},{"match":"\\\\w+","name":"entity.name.function.support.go"}]},"3":{"patterns":[{"include":"#type-declarations-without-brackets"},{"match":"\\\\[","name":"punctuation.definition.begin.bracket.square.go"},{"match":"]","name":"punctuation.definition.end.bracket.square.go"},{"match":"\\\\{","name":"punctuation.definition.begin.bracket.curly.go"},{"match":"}","name":"punctuation.definition.end.bracket.curly.go"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"(?:((?<=\\\\.)\\\\b\\\\w+)|\\\\b(\\\\w+))(?<brackets>\\\\[(?:[^]\\\\[]|\\\\g<brackets>)*])?(?=\\\\()"},"switch_types":{"begin":"(?<=\\\\bswitch\\\\b)\\\\s*(\\\\w+\\\\s*:=)?\\\\s*([-\\\\]%\\\\&(-+./<>\\\\[|\\\\w]+)(\\\\.\\\\(\\\\btype\\\\b\\\\)\\\\s*)(\\\\{)","beginCaptures":{"1":{"patterns":[{"include":"#operators"},{"match":"\\\\w+","name":"variable.other.assignment.go"}]},"2":{"patterns":[{"include":"#support_functions"},{"include":"#type-declarations"},{"match":"\\\\w+","name":"variable.other.go"}]},"3":{"patterns":[{"include":"#delimiters"},{"include":"#brackets"},{"match":"\\\\btype\\\\b","name":"keyword.type.go"}]},"4":{"name":"punctuation.definition.begin.bracket.curly.go"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.curly.go"}},"patterns":[{"captures":{"1":{"name":"keyword.control.go"},"2":{"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"entity.name.type.go"}]},"3":{"name":"punctuation.other.colon.go"},"4":{"patterns":[{"include":"#comments"}]}},"match":"^\\\\s*\\\\b(case)\\\\b\\\\s+([!*,.<=>\\\\w\\\\s]+)(:)(\\\\s*/[*/]\\\\s*.*)?$"},{"begin":"\\\\bcase\\\\b","beginCaptures":{"0":{"name":"keyword.control.go"}},"end":":","endCaptures":{"0":{"name":"punctuation.other.colon.go"}},"patterns":[{"include":"#type-declarations"},{"match":"\\\\w+","name":"entity.name.type.go"}]},{"include":"$self"}]},"switch_variables":{"patterns":[{"captures":{"1":{"name":"keyword.control.go"},"2":{"patterns":[{"include":"#type-declarations"},{"include":"#support_functions"},{"include":"#variable_assignment"},{"match":"\\\\w+","name":"variable.other.go"}]}},"match":"^\\\\s*\\\\b(case)\\\\b\\\\s+([\\\\s\\\\S]+:\\\\s*(?:/[*/].*)?)$"},{"begin":"(?<=\\\\bswitch\\\\b)\\\\s*((?:[.\\\\w]+(?:\\\\s*[-!%\\\\&+,/:<=>|]+\\\\s*[.\\\\w]+)*\\\\s*[-!%\\\\&+,/:<=>|]+)?\\\\s*[-\\\\]%\\\\&(-+./<>\\\\[|\\\\w]+{0,1}\\\\s*(?:;\\\\s*[-\\\\]%\\\\&(-+./<>\\\\[|\\\\w]+\\\\s*)?)(\\\\{)","beginCaptures":{"1":{"patterns":[{"include":"#support_functions"},{"include":"#type-declarations"},{"include":"#variable_assignment"},{"match":"\\\\w+","name":"variable.other.go"}]},"2":{"name":"punctuation.definition.begin.bracket.curly.go"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.curly.go"}},"patterns":[{"begin":"\\\\bcase\\\\b","beginCaptures":{"0":{"name":"keyword.control.go"}},"end":":","endCaptures":{"0":{"name":"punctuation.other.colon.go"}},"patterns":[{"include":"#support_functions"},{"include":"#type-declarations"},{"include":"#variable_assignment"},{"match":"\\\\w+","name":"variable.other.go"}]},{"include":"$self"}]}]},"syntax_errors":{"patterns":[{"captures":{"1":{"name":"invalid.illegal.slice.go"}},"match":"\\\\[](\\\\s+)"},{"match":"\\\\b0[0-7]*[89]\\\\d*\\\\b","name":"invalid.illegal.numeric.go"}]},"terminators":{"match":";","name":"punctuation.terminator.go"},"type-declarations":{"patterns":[{"include":"#language_constants"},{"include":"#comments"},{"include":"#map_types"},{"include":"#brackets"},{"include":"#delimiters"},{"include":"#keywords"},{"include":"#operators"},{"include":"#runes"},{"include":"#storage_types"},{"include":"#raw_string_literals"},{"include":"#string_literals"},{"include":"#numeric_literals"},{"include":"#terminators"}]},"type-declarations-without-brackets":{"patterns":[{"include":"#language_constants"},{"include":"#comments"},{"include":"#map_types"},{"include":"#delimiters"},{"include":"#keywords"},{"include":"#operators"},{"include":"#runes"},{"include":"#storage_types"},{"include":"#raw_string_literals"},{"include":"#string_literals"},{"include":"#numeric_literals"},{"include":"#terminators"}]},"type_assertion_inline":{"captures":{"1":{"name":"keyword.type.go"},"2":{"patterns":[{"include":"#type-declarations-without-brackets"},{"match":"\\\\(","name":"punctuation.definition.begin.bracket.round.go"},{"match":"\\\\)","name":"punctuation.definition.end.bracket.round.go"},{"match":"\\\\[","name":"punctuation.definition.begin.bracket.square.go"},{"match":"]","name":"punctuation.definition.end.bracket.square.go"},{"match":"\\\\{","name":"punctuation.definition.begin.bracket.curly.go"},{"match":"}","name":"punctuation.definition.end.bracket.curly.go"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"(?<=\\\\.\\\\()(?:\\\\b(type)\\\\b|((?:\\\\s*[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+{0,1}[]*\\\\[]+{0,1}[.\\\\w]+(?:\\\\[(?:[]*.\\\\[{}\\\\w]+(?:,\\\\s*[]*.\\\\[{}\\\\w]+)*)?])?))(?=\\\\))"},"var_assignment":{"patterns":[{"captures":{"1":{"patterns":[{"include":"#delimiters"},{"match":"\\\\w+","name":"variable.other.assignment.go"}]},"2":{"patterns":[{"include":"#type-declarations-without-brackets"},{"include":"#generic_types"},{"match":"\\\\(","name":"punctuation.definition.begin.bracket.round.go"},{"match":"\\\\)","name":"punctuation.definition.end.bracket.round.go"},{"match":"\\\\[","name":"punctuation.definition.begin.bracket.square.go"},{"match":"]","name":"punctuation.definition.end.bracket.square.go"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"(?<=\\\\bvar\\\\b)\\\\s*\\\\b([.\\\\w]+(?:,\\\\s*[.\\\\w]+)*)\\\\s*((?:(?:[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+(?:\\\\([^)]+\\\\))?)?(?![]*\\\\[]+{0,1}\\\\b(?:struct|func|map)\\\\b)(?:[]*.\\\\[\\\\w]+(?:,\\\\s*[]*.\\\\[\\\\w]+)*)?\\\\s*=?)?"},{"begin":"(?<=\\\\bvar\\\\b)\\\\s*(\\\\()","beginCaptures":{"1":{"name":"punctuation.definition.begin.bracket.round.go"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.end.bracket.round.go"}},"patterns":[{"captures":{"1":{"patterns":[{"include":"#delimiters"},{"match":"\\\\w+","name":"variable.other.assignment.go"}]},"2":{"patterns":[{"include":"#type-declarations-without-brackets"},{"include":"#generic_types"},{"match":"\\\\(","name":"punctuation.definition.begin.bracket.round.go"},{"match":"\\\\)","name":"punctuation.definition.end.bracket.round.go"},{"match":"\\\\[","name":"punctuation.definition.begin.bracket.square.go"},{"match":"]","name":"punctuation.definition.end.bracket.square.go"},{"match":"\\\\w+","name":"entity.name.type.go"}]}},"match":"^\\\\s*\\\\b([.\\\\w]+(?:,\\\\s*[.\\\\w]+)*)\\\\s*((?:(?:[]*\\\\[]+{0,1}(?:<-\\\\s*)?\\\\bchan\\\\b(?:\\\\s*<-)?\\\\s*)+(?:\\\\([^)]+\\\\))?)?(?![]*\\\\[]+{0,1}\\\\b(?:struct|func|map)\\\\b)(?:[]*.\\\\[\\\\w]+(?:,\\\\s*[]*.\\\\[\\\\w]+)*)?\\\\s*=?)?"},{"include":"$self"}]}]},"variable_assignment":{"patterns":[{"captures":{"0":{"patterns":[{"include":"#delimiters"},{"match":"\\\\d\\\\w*","name":"invalid.illegal.identifier.go"},{"match":"\\\\w+","name":"variable.other.assignment.go"}]}},"match":"\\\\b\\\\w+(?:,\\\\s*\\\\w+)*(?=\\\\s*:=)"},{"captures":{"0":{"patterns":[{"include":"#delimiters"},{"include":"#operators"},{"match":"\\\\d\\\\w*","name":"invalid.illegal.identifier.go"},{"match":"\\\\w+","name":"variable.other.assignment.go"}]}},"match":"\\\\b[*.\\\\w]+(?:,\\\\s*[*.\\\\w]+)*(?=\\\\s*=(?!=))"}]}},"scopeName":"source.go"}`)),Jk=[w9e],TQe=Object.freeze(Object.defineProperty({__proto__:null,default:Jk},Symbol.toStringTag,{value:"Module"})),v9e=Object.freeze(JSON.parse(`{"displayName":"JavaScript","name":"javascript","patterns":[{"include":"#directives"},{"include":"#statements"},{"include":"#shebang"}],"repository":{"access-modifier":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(abstract|declare|override|public|protected|private|readonly|static)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"storage.modifier.js"},"after-operator-block-as-object-literal":{"begin":"(?<!\\\\+\\\\+|--)(?<=[!(+,:=>?\\\\[]|^await|[^$._[:alnum:]]await|^return|[^$._[:alnum:]]return|^yield|[^$._[:alnum:]]yield|^throw|[^$._[:alnum:]]throw|^in|[^$._[:alnum:]]in|^of|[^$._[:alnum:]]of|^typeof|[^$._[:alnum:]]typeof|&&|\\\\|\\\\||\\\\*)\\\\s*(\\\\{)","beginCaptures":{"1":{"name":"punctuation.definition.block.js"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.js"}},"name":"meta.objectliteral.js","patterns":[{"include":"#object-member"}]},"array-binding-pattern":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\[)","beginCaptures":{"1":{"name":"keyword.operator.rest.js"},"2":{"name":"punctuation.definition.binding-pattern.array.js"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.array.js"}},"patterns":[{"include":"#binding-element"},{"include":"#punctuation-comma"}]},"array-binding-pattern-const":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\[)","beginCaptures":{"1":{"name":"keyword.operator.rest.js"},"2":{"name":"punctuation.definition.binding-pattern.array.js"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.array.js"}},"patterns":[{"include":"#binding-element-const"},{"include":"#punctuation-comma"}]},"array-literal":{"begin":"\\\\s*(\\\\[)","beginCaptures":{"1":{"name":"meta.brace.square.js"}},"end":"]","endCaptures":{"0":{"name":"meta.brace.square.js"}},"name":"meta.array.literal.js","patterns":[{"include":"#expression"},{"include":"#punctuation-comma"}]},"arrow-function":{"patterns":[{"captures":{"1":{"name":"storage.modifier.async.js"},"2":{"name":"variable.parameter.js"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))\\\\b(async)\\\\s+)?([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?==>)","name":"meta.arrow.js"},{"begin":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))\\\\b(async))?((?<![]!)}])\\\\s*(?=((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))","beginCaptures":{"1":{"name":"storage.modifier.async.js"}},"end":"(?==>|\\\\{|^(\\\\s*(export|function|class|interface|let|var|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|const|import|enum|namespace|module|type|abstract|declare)\\\\s+))","name":"meta.arrow.js","patterns":[{"include":"#comment"},{"include":"#type-parameters"},{"include":"#function-parameters"},{"include":"#arrow-return-type"},{"include":"#possibly-arrow-return-type"}]},{"begin":"=>","beginCaptures":{"0":{"name":"storage.type.function.arrow.js"}},"end":"((?<=[}\\\\S])(?<!=>)|((?!\\\\{)(?=\\\\S)))(?!/[*/])","name":"meta.arrow.js","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#decl-block"},{"include":"#expression"}]}]},"arrow-return-type":{"begin":"(?<=\\\\))\\\\s*(:)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.js"}},"end":"(?==>|\\\\{|^(\\\\s*(export|function|class|interface|let|var|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|const|import|enum|namespace|module|type|abstract|declare)\\\\s+))","name":"meta.return.type.arrow.js","patterns":[{"include":"#arrow-return-type-body"}]},"arrow-return-type-body":{"patterns":[{"begin":"(?<=:)(?=\\\\s*\\\\{)","end":"(?<=})","patterns":[{"include":"#type-object"}]},{"include":"#type-predicate-operator"},{"include":"#type"}]},"async-modifier":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(async)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"storage.modifier.async.js"},"binding-element":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#numeric-literal"},{"include":"#regex"},{"include":"#object-binding-pattern"},{"include":"#array-binding-pattern"},{"include":"#destructuring-variable-rest"},{"include":"#variable-initializer"}]},"binding-element-const":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#numeric-literal"},{"include":"#regex"},{"include":"#object-binding-pattern-const"},{"include":"#array-binding-pattern-const"},{"include":"#destructuring-variable-rest-const"},{"include":"#variable-initializer"}]},"boolean-literal":{"patterns":[{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))true(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.boolean.true.js"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))false(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.boolean.false.js"}]},"brackets":{"patterns":[{"begin":"\\\\{","end":"}|(?=\\\\*/)","patterns":[{"include":"#brackets"}]},{"begin":"\\\\[","end":"]|(?=\\\\*/)","patterns":[{"include":"#brackets"}]}]},"cast":{"patterns":[{"include":"#jsx"}]},"class-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(?:(abstract)\\\\s+)?\\\\b(class)\\\\b(?=\\\\s+|/[*/])","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"storage.modifier.js"},"4":{"name":"storage.type.class.js"}},"end":"(?<=})","name":"meta.class.js","patterns":[{"include":"#class-declaration-or-expression-patterns"}]},"class-declaration-or-expression-patterns":{"patterns":[{"include":"#comment"},{"include":"#class-or-interface-heritage"},{"captures":{"0":{"name":"entity.name.type.class.js"}},"match":"[$_[:alpha:]][$_[:alnum:]]*"},{"include":"#type-parameters"},{"include":"#class-or-interface-body"}]},"class-expression":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(abstract)\\\\s+)?(class)\\\\b(?=\\\\s+|[<{]|/[*/])","beginCaptures":{"1":{"name":"storage.modifier.js"},"2":{"name":"storage.type.class.js"}},"end":"(?<=})","name":"meta.class.js","patterns":[{"include":"#class-declaration-or-expression-patterns"}]},"class-or-interface-body":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.js"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.js"}},"patterns":[{"include":"#comment"},{"include":"#decorator"},{"begin":"(?<=:)\\\\s*","end":"(?=[-\\\\])+,:;}\\\\s]|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","patterns":[{"include":"#expression"}]},{"include":"#method-declaration"},{"include":"#indexer-declaration"},{"include":"#field-declaration"},{"include":"#string"},{"include":"#type-annotation"},{"include":"#variable-initializer"},{"include":"#access-modifier"},{"include":"#property-accessor"},{"include":"#async-modifier"},{"include":"#after-operator-block-as-object-literal"},{"include":"#decl-block"},{"include":"#expression"},{"include":"#punctuation-comma"},{"include":"#punctuation-semicolon"}]},"class-or-interface-heritage":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))\\\\b(extends|implements)\\\\b(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"storage.modifier.js"}},"end":"(?=\\\\{)","patterns":[{"include":"#comment"},{"include":"#class-or-interface-heritage"},{"include":"#type-parameters"},{"include":"#expressionWithoutIdentifiers"},{"captures":{"1":{"name":"entity.name.type.module.js"},"2":{"name":"punctuation.accessor.js"},"3":{"name":"punctuation.accessor.optional.js"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))(?=\\\\s*[$_[:alpha:]][$_[:alnum:]]*(\\\\s*\\\\??\\\\.\\\\s*[$_[:alpha:]][$_[:alnum:]]*)*\\\\s*)"},{"captures":{"1":{"name":"entity.other.inherited-class.js"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)"},{"include":"#expressionPunctuations"}]},"comment":{"patterns":[{"begin":"/\\\\*\\\\*(?!/)","beginCaptures":{"0":{"name":"punctuation.definition.comment.js"}},"end":"\\\\*/","endCaptures":{"0":{"name":"punctuation.definition.comment.js"}},"name":"comment.block.documentation.js","patterns":[{"include":"#docblock"}]},{"begin":"(/\\\\*)(?:\\\\s*((@)internal)(?=\\\\s|(\\\\*/)))?","beginCaptures":{"1":{"name":"punctuation.definition.comment.js"},"2":{"name":"storage.type.internaldeclaration.js"},"3":{"name":"punctuation.decorator.internaldeclaration.js"}},"end":"\\\\*/","endCaptures":{"0":{"name":"punctuation.definition.comment.js"}},"name":"comment.block.js"},{"begin":"(^[\\\\t ]+)?((//)(?:\\\\s*((@)internal)(?=\\\\s|$))?)","beginCaptures":{"1":{"name":"punctuation.whitespace.comment.leading.js"},"2":{"name":"comment.line.double-slash.js"},"3":{"name":"punctuation.definition.comment.js"},"4":{"name":"storage.type.internaldeclaration.js"},"5":{"name":"punctuation.decorator.internaldeclaration.js"}},"contentName":"comment.line.double-slash.js","end":"(?=$)"}]},"control-statement":{"patterns":[{"include":"#switch-statement"},{"include":"#for-loop"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(catch|finally|throw|try)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.trycatch.js"},{"captures":{"1":{"name":"keyword.control.loop.js"},"2":{"name":"entity.name.label.js"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(break|continue|goto)\\\\s+([$_[:alpha:]][$_[:alnum:]]*)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(break|continue|do|goto|while)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.loop.js"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(return)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"0":{"name":"keyword.control.flow.js"}},"end":"(?=[;}]|$|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","patterns":[{"include":"#expression"}]},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(case|default|switch)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.switch.js"},{"include":"#if-statement"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(else|if)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.conditional.js"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(with)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.with.js"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(package)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.js"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(debugger)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.other.debugger.js"}]},"decl-block":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.js"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.js"}},"name":"meta.block.js","patterns":[{"include":"#statements"}]},"declaration":{"patterns":[{"include":"#decorator"},{"include":"#var-expr"},{"include":"#function-declaration"},{"include":"#class-declaration"},{"include":"#interface-declaration"},{"include":"#enum-declaration"},{"include":"#namespace-declaration"},{"include":"#type-alias-declaration"},{"include":"#import-equals-declaration"},{"include":"#import-declaration"},{"include":"#export-declaration"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(declare|export)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"storage.modifier.js"}]},"decorator":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))@","beginCaptures":{"0":{"name":"punctuation.decorator.js"}},"end":"(?=\\\\s)","name":"meta.decorator.js","patterns":[{"include":"#expression"}]},"destructuring-const":{"patterns":[{"begin":"(?<![:=]|^of|[^$._[:alnum:]]of|^in|[^$._[:alnum:]]in)\\\\s*(?=\\\\{)","end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))","name":"meta.object-binding-pattern-variable.js","patterns":[{"include":"#object-binding-pattern-const"},{"include":"#type-annotation"},{"include":"#comment"}]},{"begin":"(?<![:=]|^of|[^$._[:alnum:]]of|^in|[^$._[:alnum:]]in)\\\\s*(?=\\\\[)","end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))","name":"meta.array-binding-pattern-variable.js","patterns":[{"include":"#array-binding-pattern-const"},{"include":"#type-annotation"},{"include":"#comment"}]}]},"destructuring-parameter":{"patterns":[{"begin":"(?<![:=])\\\\s*(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\{)","beginCaptures":{"1":{"name":"keyword.operator.rest.js"},"2":{"name":"punctuation.definition.binding-pattern.object.js"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.object.js"}},"name":"meta.parameter.object-binding-pattern.js","patterns":[{"include":"#parameter-object-binding-element"}]},{"begin":"(?<![:=])\\\\s*(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\[)","beginCaptures":{"1":{"name":"keyword.operator.rest.js"},"2":{"name":"punctuation.definition.binding-pattern.array.js"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.array.js"}},"name":"meta.paramter.array-binding-pattern.js","patterns":[{"include":"#parameter-binding-element"},{"include":"#punctuation-comma"}]}]},"destructuring-parameter-rest":{"captures":{"1":{"name":"keyword.operator.rest.js"},"2":{"name":"variable.parameter.js"}},"match":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?([$_[:alpha:]][$_[:alnum:]]*)"},"destructuring-variable":{"patterns":[{"begin":"(?<![:=]|^of|[^$._[:alnum:]]of|^in|[^$._[:alnum:]]in)\\\\s*(?=\\\\{)","end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))","name":"meta.object-binding-pattern-variable.js","patterns":[{"include":"#object-binding-pattern"},{"include":"#type-annotation"},{"include":"#comment"}]},{"begin":"(?<![:=]|^of|[^$._[:alnum:]]of|^in|[^$._[:alnum:]]in)\\\\s*(?=\\\\[)","end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))","name":"meta.array-binding-pattern-variable.js","patterns":[{"include":"#array-binding-pattern"},{"include":"#type-annotation"},{"include":"#comment"}]}]},"destructuring-variable-rest":{"captures":{"1":{"name":"keyword.operator.rest.js"},"2":{"name":"meta.definition.variable.js variable.other.readwrite.js"}},"match":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?([$_[:alpha:]][$_[:alnum:]]*)"},"destructuring-variable-rest-const":{"captures":{"1":{"name":"keyword.operator.rest.js"},"2":{"name":"meta.definition.variable.js variable.other.constant.js"}},"match":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?([$_[:alpha:]][$_[:alnum:]]*)"},"directives":{"begin":"^(///)\\\\s*(?=<(reference|amd-dependency|amd-module)(\\\\s+(path|types|no-default-lib|lib|name|resolution-mode)\\\\s*=\\\\s*(('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)))+\\\\s*/>\\\\s*$)","beginCaptures":{"1":{"name":"punctuation.definition.comment.js"}},"end":"(?=$)","name":"comment.line.triple-slash.directive.js","patterns":[{"begin":"(<)(reference|amd-dependency|amd-module)","beginCaptures":{"1":{"name":"punctuation.definition.tag.directive.js"},"2":{"name":"entity.name.tag.directive.js"}},"end":"/>","endCaptures":{"0":{"name":"punctuation.definition.tag.directive.js"}},"name":"meta.tag.js","patterns":[{"match":"path|types|no-default-lib|lib|name|resolution-mode","name":"entity.other.attribute-name.directive.js"},{"match":"=","name":"keyword.operator.assignment.js"},{"include":"#string"}]}]},"docblock":{"patterns":[{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"constant.language.access-type.jsdoc"}},"match":"((@)a(?:ccess|pi))\\\\s+(p(?:rivate|rotected|ublic))\\\\b"},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"entity.name.type.instance.jsdoc"},"4":{"name":"punctuation.definition.bracket.angle.begin.jsdoc"},"5":{"name":"constant.other.email.link.underline.jsdoc"},"6":{"name":"punctuation.definition.bracket.angle.end.jsdoc"}},"match":"((@)author)\\\\s+([^*/<>@\\\\s](?:[^*/<>@]|\\\\*[^/])*)(?:\\\\s*(<)([^>\\\\s]+)(>))?"},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"entity.name.type.instance.jsdoc"},"4":{"name":"keyword.operator.control.jsdoc"},"5":{"name":"entity.name.type.instance.jsdoc"}},"match":"((@)borrows)\\\\s+((?:[^*/@\\\\s]|\\\\*[^/])+)\\\\s+(as)\\\\s+((?:[^*/@\\\\s]|\\\\*[^/])+)"},{"begin":"((@)example)\\\\s+","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=@|\\\\*/)","name":"meta.example.jsdoc","patterns":[{"match":"^\\\\s\\\\*\\\\s+"},{"begin":"\\\\G(<)caption(>)","beginCaptures":{"0":{"name":"entity.name.tag.inline.jsdoc"},"1":{"name":"punctuation.definition.bracket.angle.begin.jsdoc"},"2":{"name":"punctuation.definition.bracket.angle.end.jsdoc"}},"contentName":"constant.other.description.jsdoc","end":"(</)caption(>)|(?=\\\\*/)","endCaptures":{"0":{"name":"entity.name.tag.inline.jsdoc"},"1":{"name":"punctuation.definition.bracket.angle.begin.jsdoc"},"2":{"name":"punctuation.definition.bracket.angle.end.jsdoc"}}},{"captures":{"0":{"name":"source.embedded.js"}},"match":"[^*@\\\\s](?:[^*]|\\\\*[^/])*"}]},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"constant.language.symbol-type.jsdoc"}},"match":"((@)kind)\\\\s+(class|constant|event|external|file|function|member|mixin|module|namespace|typedef)\\\\b"},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.link.underline.jsdoc"},"4":{"name":"entity.name.type.instance.jsdoc"}},"match":"((@)see)\\\\s+(?:((?=https?://)(?:[^*\\\\s]|\\\\*[^/])+)|((?!https?://|(?:\\\\[[^]\\\\[]*])?\\\\{@(?:link|linkcode|linkplain|tutorial)\\\\b)(?:[^*/@\\\\s]|\\\\*[^/])+))"},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.jsdoc"}},"match":"((@)template)\\\\s+([$A-Z_a-z][]$.\\\\[\\\\w]*(?:\\\\s*,\\\\s*[$A-Z_a-z][]$.\\\\[\\\\w]*)*)"},{"begin":"((@)template)\\\\s+(?=\\\\{)","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=\\\\s|\\\\*/|[^]$A-\\\\[_a-{}])","patterns":[{"include":"#jsdoctype"},{"match":"([$A-Z_a-z][]$.\\\\[\\\\w]*)","name":"variable.other.jsdoc"}]},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.jsdoc"}},"match":"((@)(?:arg|argument|const|constant|member|namespace|param|var))\\\\s+([$A-Z_a-z][]$.\\\\[\\\\w]*)"},{"begin":"((@)typedef)\\\\s+(?=\\\\{)","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=\\\\s|\\\\*/|[^]$A-\\\\[_a-{}])","patterns":[{"include":"#jsdoctype"},{"match":"(?:[^*/@\\\\s]|\\\\*[^/])+","name":"entity.name.type.instance.jsdoc"}]},{"begin":"((@)(?:arg|argument|const|constant|member|namespace|param|prop|property|var))\\\\s+(?=\\\\{)","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=\\\\s|\\\\*/|[^]$A-\\\\[_a-{}])","patterns":[{"include":"#jsdoctype"},{"match":"([$A-Z_a-z][]$.\\\\[\\\\w]*)","name":"variable.other.jsdoc"},{"captures":{"1":{"name":"punctuation.definition.optional-value.begin.bracket.square.jsdoc"},"2":{"name":"keyword.operator.assignment.jsdoc"},"3":{"name":"source.embedded.js"},"4":{"name":"punctuation.definition.optional-value.end.bracket.square.jsdoc"},"5":{"name":"invalid.illegal.syntax.jsdoc"}},"match":"(\\\\[)\\\\s*[$\\\\w]+(?:(?:\\\\[])?\\\\.[$\\\\w]+)*(?:\\\\s*(=)\\\\s*((?>\\"(?:\\\\*(?!/)|\\\\\\\\(?!\\")|[^*\\\\\\\\])*?\\"|'(?:\\\\*(?!/)|\\\\\\\\(?!')|[^*\\\\\\\\])*?'|\\\\[(?:\\\\*(?!/)|[^*])*?]|(?:\\\\*(?!/)|\\\\s(?!\\\\s*])|\\\\[.*?(?:]|(?=\\\\*/))|[^]*\\\\[\\\\s])*)*))?\\\\s*(?:(])((?:[^*\\\\s]|\\\\*[^/\\\\s])+)?|(?=\\\\*/))","name":"variable.other.jsdoc"}]},{"begin":"((@)(?:define|enum|exception|export|extends|lends|implements|modifies|namespace|private|protected|returns?|satisfies|suppress|this|throws|type|yields?))\\\\s+(?=\\\\{)","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=\\\\s|\\\\*/|[^]$A-\\\\[_a-{}])","patterns":[{"include":"#jsdoctype"}]},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"entity.name.type.instance.jsdoc"}},"match":"((@)(?:alias|augments|callback|constructs|emits|event|fires|exports?|extends|external|function|func|host|lends|listens|interface|memberof!?|method|module|mixes|mixin|name|requires|see|this|typedef|uses))\\\\s+((?:[^*@{}\\\\s]|\\\\*[^/])+)"},{"begin":"((@)(?:default(?:value)?|license|version))\\\\s+(([\\"']))","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.jsdoc"},"4":{"name":"punctuation.definition.string.begin.jsdoc"}},"contentName":"variable.other.jsdoc","end":"(\\\\3)|(?=$|\\\\*/)","endCaptures":{"0":{"name":"variable.other.jsdoc"},"1":{"name":"punctuation.definition.string.end.jsdoc"}}},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.jsdoc"}},"match":"((@)(?:default(?:value)?|license|tutorial|variation|version))\\\\s+([^*\\\\s]+)"},{"captures":{"1":{"name":"punctuation.definition.block.tag.jsdoc"}},"match":"(@)(?:abstract|access|alias|api|arg|argument|async|attribute|augments|author|beta|borrows|bubbles|callback|chainable|class|classdesc|code|config|const|constant|constructor|constructs|copyright|default|defaultvalue|define|deprecated|desc|description|dict|emits|enum|event|example|exception|exports?|extends|extension(?:_?for)?|external|externs|file|fileoverview|final|fires|for|func|function|generator|global|hideconstructor|host|ignore|implements|implicitCast|inherit[Dd]oc|inner|instance|interface|internal|kind|lends|license|listens|main|member|memberof!?|method|mixes|mixins?|modifies|module|name|namespace|noalias|nocollapse|nocompile|nosideeffects|override|overview|package|param|polymer(?:Behavior)?|preserve|private|prop|property|protected|public|read[Oo]nly|record|require[ds]|returns?|see|since|static|struct|submodule|summary|suppress|template|this|throws|todo|tutorial|type|typedef|unrestricted|uses|var|variation|version|virtual|writeOnce|yields?)\\\\b","name":"storage.type.class.jsdoc"},{"include":"#inline-tags"},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"match":"((@)[$_[:alpha:]][$_[:alnum:]]*)(?=\\\\s+)"}]},"enum-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?(?:\\\\b(const)\\\\s+)?\\\\b(enum)\\\\s+([$_[:alpha:]][$_[:alnum:]]*)","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"storage.modifier.js"},"4":{"name":"storage.type.enum.js"},"5":{"name":"entity.name.type.enum.js"}},"end":"(?<=})","name":"meta.enum.declaration.js","patterns":[{"include":"#comment"},{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.js"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.js"}},"patterns":[{"include":"#comment"},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)","beginCaptures":{"0":{"name":"variable.other.enummember.js"}},"end":"(?=[,}]|$)","patterns":[{"include":"#comment"},{"include":"#variable-initializer"}]},{"begin":"(?=(('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+])))","end":"(?=[,}]|$)","patterns":[{"include":"#string"},{"include":"#array-literal"},{"include":"#comment"},{"include":"#variable-initializer"}]},{"include":"#punctuation-comma"}]}]},"export-declaration":{"patterns":[{"captures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"keyword.control.as.js"},"3":{"name":"storage.type.namespace.js"},"4":{"name":"entity.name.type.module.js"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(export)\\\\s+(as)\\\\s+(namespace)\\\\s+([$_[:alpha:]][$_[:alnum:]]*)"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(export)(?:\\\\s+(type))?(?:\\\\s*(=)|\\\\s+(default)(?=\\\\s+))","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"keyword.control.type.js"},"3":{"name":"keyword.operator.assignment.js"},"4":{"name":"keyword.control.default.js"}},"end":"(?=$|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","name":"meta.export.default.js","patterns":[{"include":"#interface-declaration"},{"include":"#expression"}]},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(export)(?:\\\\s+(type))?\\\\b(?!(\\\\$)|(\\\\s*:))((?=\\\\s*[*{])|((?=\\\\s*[$_[:alpha:]][$_[:alnum:]]*([,\\\\s]))(?!\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)))","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"keyword.control.type.js"}},"end":"(?=$|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","name":"meta.export.js","patterns":[{"include":"#import-export-declaration"}]}]},"expression":{"patterns":[{"include":"#expressionWithoutIdentifiers"},{"include":"#identifiers"},{"include":"#expressionPunctuations"}]},"expression-inside-possibly-arrow-parens":{"patterns":[{"include":"#expressionWithoutIdentifiers"},{"include":"#comment"},{"include":"#string"},{"include":"#decorator"},{"include":"#destructuring-parameter"},{"captures":{"1":{"name":"storage.modifier.js"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|protected|private|readonly)\\\\s+(?=(override|public|protected|private|readonly)\\\\s+)"},{"captures":{"1":{"name":"storage.modifier.js"},"2":{"name":"keyword.operator.rest.js"},"3":{"name":"entity.name.function.js variable.language.this.js"},"4":{"name":"entity.name.function.js"},"5":{"name":"keyword.operator.optional.js"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*(\\\\??)(?=\\\\s*(=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))|(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))))|(:\\\\s*(=>|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(<[^<>]*>)|[^(),<=>])+=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>))))))"},{"captures":{"1":{"name":"storage.modifier.js"},"2":{"name":"keyword.operator.rest.js"},"3":{"name":"variable.parameter.js variable.language.this.js"},"4":{"name":"variable.parameter.js"},"5":{"name":"keyword.operator.optional.js"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*(\\\\??)(?=\\\\s*[,:]|$)"},{"include":"#type-annotation"},{"include":"#variable-initializer"},{"match":",","name":"punctuation.separator.parameter.js"},{"include":"#identifiers"},{"include":"#expressionPunctuations"}]},"expression-operators":{"patterns":[{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(await)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.flow.js"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(yield)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?=\\\\s*/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*\\\\*)","beginCaptures":{"1":{"name":"keyword.control.flow.js"}},"end":"\\\\*","endCaptures":{"0":{"name":"keyword.generator.asterisk.js"}},"patterns":[{"include":"#comment"}]},{"captures":{"1":{"name":"keyword.control.flow.js"},"2":{"name":"keyword.generator.asterisk.js"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(yield)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?:\\\\s*(\\\\*))?"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))delete(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.expression.delete.js"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))in(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?!\\\\()","name":"keyword.operator.expression.in.js"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))of(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?!\\\\()","name":"keyword.operator.expression.of.js"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))instanceof(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.expression.instanceof.js"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))new(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.new.js"},{"include":"#typeof-operator"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))void(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.expression.void.js"},{"captures":{"1":{"name":"keyword.control.as.js"},"2":{"name":"storage.modifier.js"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as)\\\\s+(const)(?=\\\\s*($|[]),:;}]))"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(as)|(satisfies))\\\\s+","beginCaptures":{"1":{"name":"keyword.control.as.js"},"2":{"name":"keyword.control.satisfies.js"}},"end":"(?=^|[-\\\\])+,:;>?}]|\\\\|\\\\||&&|!==|$|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as|satisfies)\\\\s+)|(\\\\s+<))","patterns":[{"include":"#type"}]},{"match":"\\\\.\\\\.\\\\.","name":"keyword.operator.spread.js"},{"match":"(?:\\\\*|(?<!\\\\()/|[-%+])=","name":"keyword.operator.assignment.compound.js"},{"match":"(?:[\\\\&^]|<<|>>>??|\\\\|)=","name":"keyword.operator.assignment.compound.bitwise.js"},{"match":"<<|>>>?","name":"keyword.operator.bitwise.shift.js"},{"match":"[!=]==?","name":"keyword.operator.comparison.js"},{"match":"<=|>=|<>|[<>]","name":"keyword.operator.relational.js"},{"captures":{"1":{"name":"keyword.operator.logical.js"},"2":{"name":"keyword.operator.assignment.compound.js"},"3":{"name":"keyword.operator.arithmetic.js"}},"match":"(?<=[$_[:alnum:]])(!)\\\\s*(?:(/=)|(/)(?![*/]))"},{"match":"!|&&|\\\\|\\\\||\\\\?\\\\?","name":"keyword.operator.logical.js"},{"match":"[\\\\&^|~]","name":"keyword.operator.bitwise.js"},{"match":"=","name":"keyword.operator.assignment.js"},{"match":"--","name":"keyword.operator.decrement.js"},{"match":"\\\\+\\\\+","name":"keyword.operator.increment.js"},{"match":"[-%*+/]","name":"keyword.operator.arithmetic.js"},{"begin":"(?<=[]$)_[:alnum:]])\\\\s*(?=(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)+(?:(/=)|(/)(?![*/])))","end":"(/=)|(/)(?!\\\\*([^*]|(\\\\*[^/]))*\\\\*/)","endCaptures":{"1":{"name":"keyword.operator.assignment.compound.js"},"2":{"name":"keyword.operator.arithmetic.js"}},"patterns":[{"include":"#comment"}]},{"captures":{"1":{"name":"keyword.operator.assignment.compound.js"},"2":{"name":"keyword.operator.arithmetic.js"}},"match":"(?<=[]$)_[:alnum:]])\\\\s*(?:(/=)|(/)(?![*/]))"}]},"expressionPunctuations":{"patterns":[{"include":"#punctuation-comma"},{"include":"#punctuation-accessor"}]},"expressionWithoutIdentifiers":{"patterns":[{"include":"#jsx"},{"include":"#string"},{"include":"#regex"},{"include":"#comment"},{"include":"#function-expression"},{"include":"#class-expression"},{"include":"#arrow-function"},{"include":"#paren-expression-possibly-arrow"},{"include":"#cast"},{"include":"#ternary-expression"},{"include":"#new-expr"},{"include":"#instanceof-expr"},{"include":"#object-literal"},{"include":"#expression-operators"},{"include":"#function-call"},{"include":"#literal"},{"include":"#support-objects"},{"include":"#paren-expression"}]},"field-declaration":{"begin":"(?<!\\\\()(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(readonly)\\\\s+)?(?=\\\\s*(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|(#?[$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(?:(?:(\\\\?)|(!))\\\\s*)?([,:;=}]|$))","beginCaptures":{"1":{"name":"storage.modifier.js"}},"end":"(?=[,;}]|$|^((?!\\\\s*(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|(#?[$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(?:(?:(\\\\?)|(!))\\\\s*)?([,:;=]|$))))|(?<=})","name":"meta.field.declaration.js","patterns":[{"include":"#variable-initializer"},{"include":"#type-annotation"},{"include":"#string"},{"include":"#array-literal"},{"include":"#numeric-literal"},{"include":"#comment"},{"captures":{"1":{"name":"meta.definition.property.js entity.name.function.js"},"2":{"name":"keyword.operator.optional.js"},"3":{"name":"keyword.operator.definiteassignment.js"}},"match":"(#?[$_[:alpha:]][$_[:alnum:]]*)(?:(\\\\?)|(!))?(?=\\\\s*\\\\s*(=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))|(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))))|(:\\\\s*(=>|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(<[^<>]*>)|[^(),<=>])+=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>))))))"},{"match":"#?[$_[:alpha:]][$_[:alnum:]]*","name":"meta.definition.property.js variable.object.property.js"},{"match":"\\\\?","name":"keyword.operator.optional.js"},{"match":"!","name":"keyword.operator.definiteassignment.js"}]},"for-loop":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))for(?=((\\\\s+|(\\\\s*/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*))await)?\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)?(\\\\())","beginCaptures":{"0":{"name":"keyword.control.loop.js"}},"end":"(?<=\\\\))","patterns":[{"include":"#comment"},{"match":"await","name":"keyword.control.loop.js"},{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.js"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js"}},"patterns":[{"include":"#var-expr"},{"include":"#expression"},{"include":"#punctuation-semicolon"}]}]},"function-body":{"patterns":[{"include":"#comment"},{"include":"#type-parameters"},{"include":"#function-parameters"},{"include":"#return-type"},{"include":"#type-function-return-type"},{"include":"#decl-block"},{"match":"\\\\*","name":"keyword.generator.asterisk.js"}]},"function-call":{"patterns":[{"begin":"(?=(((([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))|(?<=\\\\)))\\\\s*(?:(\\\\?\\\\.\\\\s*)|(!))?((<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)?\\\\())","end":"(?<=\\\\))(?!(((([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))|(?<=\\\\)))\\\\s*(?:(\\\\?\\\\.\\\\s*)|(!))?((<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)?\\\\())","patterns":[{"begin":"(?=(([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))","end":"(?=\\\\s*(?:(\\\\?\\\\.\\\\s*)|(!))?((<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)?\\\\())","name":"meta.function-call.js","patterns":[{"include":"#function-call-target"}]},{"include":"#comment"},{"include":"#function-call-optionals"},{"include":"#type-arguments"},{"include":"#paren-expression"}]},{"begin":"(?=(((([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))|(?<=\\\\)))(<\\\\s*[(\\\\[{]\\\\s*)$)","end":"(?<=>)(?!(((([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))|(?<=\\\\)))(<\\\\s*[(\\\\[{]\\\\s*)$)","patterns":[{"begin":"(?=(([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))","end":"(?=(<\\\\s*[(\\\\[{]\\\\s*)$)","name":"meta.function-call.js","patterns":[{"include":"#function-call-target"}]},{"include":"#comment"},{"include":"#function-call-optionals"},{"include":"#type-arguments"}]}]},"function-call-optionals":{"patterns":[{"match":"\\\\?\\\\.","name":"meta.function-call.js punctuation.accessor.optional.js"},{"match":"!","name":"meta.function-call.js keyword.operator.definiteassignment.js"}]},"function-call-target":{"patterns":[{"include":"#support-function-call-identifiers"},{"match":"(#?[$_[:alpha:]][$_[:alnum:]]*)","name":"entity.name.function.js"}]},"function-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?(?:(async)\\\\s+)?(function)\\\\b(?:\\\\s*(\\\\*))?(?:(?:\\\\s+|(?<=\\\\*))([$_[:alpha:]][$_[:alnum:]]*))?\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"storage.modifier.async.js"},"4":{"name":"storage.type.function.js"},"5":{"name":"keyword.generator.asterisk.js"},"6":{"name":"meta.definition.function.js entity.name.function.js"}},"end":"(?=;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)|(?<=})","name":"meta.function.js","patterns":[{"include":"#function-name"},{"include":"#function-body"}]},"function-expression":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(async)\\\\s+)?(function)\\\\b(?:\\\\s*(\\\\*))?(?:(?:\\\\s+|(?<=\\\\*))([$_[:alpha:]][$_[:alnum:]]*))?\\\\s*","beginCaptures":{"1":{"name":"storage.modifier.async.js"},"2":{"name":"storage.type.function.js"},"3":{"name":"keyword.generator.asterisk.js"},"4":{"name":"meta.definition.function.js entity.name.function.js"}},"end":"(?=;)|(?<=})","name":"meta.function.expression.js","patterns":[{"include":"#function-name"},{"include":"#single-line-comment-consuming-line-ending"},{"include":"#function-body"}]},"function-name":{"match":"[$_[:alpha:]][$_[:alnum:]]*","name":"meta.definition.function.js entity.name.function.js"},"function-parameters":{"begin":"\\\\(","beginCaptures":{"0":{"name":"punctuation.definition.parameters.begin.js"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.parameters.end.js"}},"name":"meta.parameters.js","patterns":[{"include":"#function-parameters-body"}]},"function-parameters-body":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#decorator"},{"include":"#destructuring-parameter"},{"include":"#parameter-name"},{"include":"#parameter-type-annotation"},{"include":"#variable-initializer"},{"match":",","name":"punctuation.separator.parameter.js"}]},"identifiers":{"patterns":[{"include":"#object-identifiers"},{"captures":{"1":{"name":"punctuation.accessor.js"},"2":{"name":"punctuation.accessor.optional.js"},"3":{"name":"entity.name.function.js"}},"match":"(?:(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*)?([$_[:alpha:]][$_[:alnum:]]*)(?=\\\\s*=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))"},{"captures":{"1":{"name":"punctuation.accessor.js"},"2":{"name":"punctuation.accessor.optional.js"},"3":{"name":"variable.other.constant.property.js"}},"match":"(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(#?\\\\p{upper}[$_\\\\d[:upper:]]*)(?![$_[:alnum:]])"},{"captures":{"1":{"name":"punctuation.accessor.js"},"2":{"name":"punctuation.accessor.optional.js"},"3":{"name":"variable.other.property.js"}},"match":"(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*)"},{"match":"(\\\\p{upper}[$_\\\\d[:upper:]]*)(?![$_[:alnum:]])","name":"variable.other.constant.js"},{"match":"[$_[:alpha:]][$_[:alnum:]]*","name":"variable.other.readwrite.js"}]},"if-statement":{"patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?=\\\\bif\\\\s*(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))\\\\s*(?!\\\\{))","end":"(?=;|$|})","patterns":[{"include":"#comment"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(if)\\\\s*(\\\\()","beginCaptures":{"1":{"name":"keyword.control.conditional.js"},"2":{"name":"meta.brace.round.js"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js"}},"patterns":[{"include":"#expression"}]},{"begin":"(?<=\\\\))\\\\s*/(?![*/])(?=(?:[^/\\\\[\\\\\\\\]|\\\\\\\\.|\\\\[([^]\\\\\\\\]|\\\\\\\\.)*])+/([dgimsuvy]+|(?![*/])|(?=/\\\\*))(?!\\\\s*[$0-9A-Z_a-z]))","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.js"}},"end":"(/)([dgimsuvy]*)","endCaptures":{"1":{"name":"punctuation.definition.string.end.js"},"2":{"name":"keyword.other.js"}},"name":"string.regexp.js","patterns":[{"include":"#regexp"}]},{"include":"#statements"}]}]},"import-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(import)(?:\\\\s+(type)(?!\\\\s+from))?(?!\\\\s*[(:])(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"keyword.control.import.js"},"4":{"name":"keyword.control.type.js"}},"end":"(?<!(?:^|[^$._[:alnum:]])import)(?=;|$|^)","name":"meta.import.js","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#comment"},{"include":"#string"},{"begin":"(?<=(?:^|[^$._[:alnum:]])import)(?!\\\\s*[\\"'])","end":"\\\\bfrom\\\\b","endCaptures":{"0":{"name":"keyword.control.from.js"}},"patterns":[{"include":"#import-export-declaration"}]},{"include":"#import-export-declaration"}]},"import-equals-declaration":{"patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(import)(?:\\\\s+(type))?\\\\s+([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(=)\\\\s*(require)\\\\s*(\\\\()","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"keyword.control.import.js"},"4":{"name":"keyword.control.type.js"},"5":{"name":"variable.other.readwrite.alias.js"},"6":{"name":"keyword.operator.assignment.js"},"7":{"name":"keyword.control.require.js"},"8":{"name":"meta.brace.round.js"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js"}},"name":"meta.import-equals.external.js","patterns":[{"include":"#comment"},{"include":"#string"}]},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(import)(?:\\\\s+(type))?\\\\s+([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(=)\\\\s*(?!require\\\\b)","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"keyword.control.import.js"},"4":{"name":"keyword.control.type.js"},"5":{"name":"variable.other.readwrite.alias.js"},"6":{"name":"keyword.operator.assignment.js"}},"end":"(?=;|$|^)","name":"meta.import-equals.internal.js","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#comment"},{"captures":{"1":{"name":"entity.name.type.module.js"},"2":{"name":"punctuation.accessor.js"},"3":{"name":"punctuation.accessor.optional.js"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))"},{"match":"([$_[:alpha:]][$_[:alnum:]]*)","name":"variable.other.readwrite.js"}]}]},"import-export-assert-clause":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(with)|(assert))\\\\s*(\\\\{)","beginCaptures":{"1":{"name":"keyword.control.with.js"},"2":{"name":"keyword.control.assert.js"},"3":{"name":"punctuation.definition.block.js"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.js"}},"patterns":[{"include":"#comment"},{"include":"#string"},{"match":"[$_[:alpha:]][$_[:alnum:]]*\\\\s*(?=(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*:)","name":"meta.object-literal.key.js"},{"match":":","name":"punctuation.separator.key-value.js"}]},"import-export-block":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.js"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.js"}},"name":"meta.block.js","patterns":[{"include":"#import-export-clause"}]},"import-export-clause":{"patterns":[{"include":"#comment"},{"captures":{"1":{"name":"keyword.control.type.js"},"2":{"name":"keyword.control.default.js"},"3":{"name":"constant.language.import-export-all.js"},"4":{"name":"variable.other.readwrite.js"},"5":{"name":"string.quoted.alias.js"},"12":{"name":"keyword.control.as.js"},"13":{"name":"keyword.control.default.js"},"14":{"name":"variable.other.readwrite.alias.js"},"15":{"name":"string.quoted.alias.js"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(type)\\\\s+)?(?:\\\\b(default)|(\\\\*)|\\\\b([$_[:alpha:]][$_[:alnum:]]*)|(('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)))\\\\s+(as)\\\\s+(?:(default(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|([$_[:alpha:]][$_[:alnum:]]*)|(('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)))"},{"include":"#punctuation-comma"},{"match":"\\\\*","name":"constant.language.import-export-all.js"},{"match":"\\\\b(default)\\\\b","name":"keyword.control.default.js"},{"captures":{"1":{"name":"keyword.control.type.js"},"2":{"name":"variable.other.readwrite.alias.js"},"3":{"name":"string.quoted.alias.js"}},"match":"(?:\\\\b(type)\\\\s+)?(?:([$_[:alpha:]][$_[:alnum:]]*)|(('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)))"}]},"import-export-declaration":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#import-export-block"},{"match":"\\\\bfrom\\\\b","name":"keyword.control.from.js"},{"include":"#import-export-assert-clause"},{"include":"#import-export-clause"}]},"indexer-declaration":{"begin":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(readonly)\\\\s*)?\\\\s*(\\\\[)\\\\s*([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?=:)","beginCaptures":{"1":{"name":"storage.modifier.js"},"2":{"name":"meta.brace.square.js"},"3":{"name":"variable.parameter.js"}},"end":"(])\\\\s*(\\\\?\\\\s*)?|$","endCaptures":{"1":{"name":"meta.brace.square.js"},"2":{"name":"keyword.operator.optional.js"}},"name":"meta.indexer.declaration.js","patterns":[{"include":"#type-annotation"}]},"indexer-mapped-type-declaration":{"begin":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))([-+])?(readonly)\\\\s*)?\\\\s*(\\\\[)\\\\s*([$_[:alpha:]][$_[:alnum:]]*)\\\\s+(in)\\\\s+","beginCaptures":{"1":{"name":"keyword.operator.type.modifier.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"meta.brace.square.js"},"4":{"name":"entity.name.type.js"},"5":{"name":"keyword.operator.expression.in.js"}},"end":"(])([-+])?\\\\s*(\\\\?\\\\s*)?|$","endCaptures":{"1":{"name":"meta.brace.square.js"},"2":{"name":"keyword.operator.type.modifier.js"},"3":{"name":"keyword.operator.optional.js"}},"name":"meta.indexer.mappedtype.declaration.js","patterns":[{"captures":{"1":{"name":"keyword.control.as.js"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as)\\\\s+"},{"include":"#type"}]},"inline-tags":{"patterns":[{"captures":{"1":{"name":"punctuation.definition.bracket.square.begin.jsdoc"},"2":{"name":"punctuation.definition.bracket.square.end.jsdoc"}},"match":"(\\\\[)[^]]+(])(?=\\\\{@(?:link|linkcode|linkplain|tutorial))","name":"constant.other.description.jsdoc"},{"begin":"(\\\\{)((@)(?:link(?:code|plain)?|tutorial))\\\\s*","beginCaptures":{"1":{"name":"punctuation.definition.bracket.curly.begin.jsdoc"},"2":{"name":"storage.type.class.jsdoc"},"3":{"name":"punctuation.definition.inline.tag.jsdoc"}},"end":"}|(?=\\\\*/)","endCaptures":{"0":{"name":"punctuation.definition.bracket.curly.end.jsdoc"}},"name":"entity.name.type.instance.jsdoc","patterns":[{"captures":{"1":{"name":"variable.other.link.underline.jsdoc"},"2":{"name":"punctuation.separator.pipe.jsdoc"}},"match":"\\\\G((?=https?://)(?:[^*|}\\\\s]|\\\\*/)+)(\\\\|)?"},{"captures":{"1":{"name":"variable.other.description.jsdoc"},"2":{"name":"punctuation.separator.pipe.jsdoc"}},"match":"\\\\G((?:[^*@{|}\\\\s]|\\\\*[^/])+)(\\\\|)?"}]}]},"instanceof-expr":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(instanceof)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.operator.expression.instanceof.js"}},"end":"(?<=\\\\))|(?=[-\\\\])+,:;>?}]|\\\\|\\\\||&&|!==|$|([!=]==?)|(([\\\\&^|~]\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s+instanceof(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))function((\\\\s+[$_[:alpha:]][$_[:alnum:]]*)|(\\\\s*\\\\())))","patterns":[{"include":"#type"}]},"interface-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(?:(abstract)\\\\s+)?\\\\b(interface)\\\\b(?=\\\\s+|/[*/])","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"storage.modifier.js"},"4":{"name":"storage.type.interface.js"}},"end":"(?<=})","name":"meta.interface.js","patterns":[{"include":"#comment"},{"include":"#class-or-interface-heritage"},{"captures":{"0":{"name":"entity.name.type.interface.js"}},"match":"[$_[:alpha:]][$_[:alnum:]]*"},{"include":"#type-parameters"},{"include":"#class-or-interface-body"}]},"jsdoctype":{"patterns":[{"begin":"\\\\G(\\\\{)","beginCaptures":{"0":{"name":"entity.name.type.instance.jsdoc"},"1":{"name":"punctuation.definition.bracket.curly.begin.jsdoc"}},"contentName":"entity.name.type.instance.jsdoc","end":"((}))\\\\s*|(?=\\\\*/)","endCaptures":{"1":{"name":"entity.name.type.instance.jsdoc"},"2":{"name":"punctuation.definition.bracket.curly.end.jsdoc"}},"patterns":[{"include":"#brackets"}]}]},"jsx":{"patterns":[{"include":"#jsx-tag-without-attributes-in-expression"},{"include":"#jsx-tag-in-expression"}]},"jsx-children":{"patterns":[{"include":"#jsx-tag-without-attributes"},{"include":"#jsx-tag"},{"include":"#jsx-evaluated-code"},{"include":"#jsx-entities"}]},"jsx-entities":{"patterns":[{"captures":{"1":{"name":"punctuation.definition.entity.js"},"3":{"name":"punctuation.definition.entity.js"}},"match":"(&)([0-9A-Za-z]+|#[0-9]+|#x\\\\h+)(;)","name":"constant.character.entity.js"}]},"jsx-evaluated-code":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.section.embedded.begin.js"}},"contentName":"meta.embedded.expression.js","end":"}","endCaptures":{"0":{"name":"punctuation.section.embedded.end.js"}},"patterns":[{"include":"#expression"}]},"jsx-string-double-quoted":{"begin":"\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.js"}},"end":"\\"","endCaptures":{"0":{"name":"punctuation.definition.string.end.js"}},"name":"string.quoted.double.js","patterns":[{"include":"#jsx-entities"}]},"jsx-string-single-quoted":{"begin":"'","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.js"}},"end":"'","endCaptures":{"0":{"name":"punctuation.definition.string.end.js"}},"name":"string.quoted.single.js","patterns":[{"include":"#jsx-entities"}]},"jsx-tag":{"begin":"(?=(<)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))(?=((<\\\\s*)|(\\\\s+))(?!\\\\?)|/?>))","end":"(/>)|(</)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))?\\\\s*(>)","endCaptures":{"1":{"name":"punctuation.definition.tag.end.js"},"2":{"name":"punctuation.definition.tag.begin.js"},"3":{"name":"entity.name.tag.namespace.js"},"4":{"name":"punctuation.separator.namespace.js"},"5":{"name":"entity.name.tag.js"},"6":{"name":"support.class.component.js"},"7":{"name":"punctuation.definition.tag.end.js"}},"name":"meta.tag.js","patterns":[{"begin":"(<)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))(?=((<\\\\s*)|(\\\\s+))(?!\\\\?)|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.js"},"2":{"name":"entity.name.tag.namespace.js"},"3":{"name":"punctuation.separator.namespace.js"},"4":{"name":"entity.name.tag.js"},"5":{"name":"support.class.component.js"}},"end":"(?=/?>)","patterns":[{"include":"#comment"},{"include":"#type-arguments"},{"include":"#jsx-tag-attributes"}]},{"begin":"(>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.end.js"}},"contentName":"meta.jsx.children.js","end":"(?=</)","patterns":[{"include":"#jsx-children"}]}]},"jsx-tag-attribute-assignment":{"match":"=(?=\\\\s*(?:[\\"'{]|/\\\\*|//|\\\\n))","name":"keyword.operator.assignment.js"},"jsx-tag-attribute-name":{"captures":{"1":{"name":"entity.other.attribute-name.namespace.js"},"2":{"name":"punctuation.separator.namespace.js"},"3":{"name":"entity.other.attribute-name.js"}},"match":"\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(:))?([$_[:alpha:]][-$_[:alnum:]]*)(?=[=\\\\s]|/?>|/\\\\*|//)"},"jsx-tag-attributes":{"begin":"\\\\s+","end":"(?=/?>)","name":"meta.tag.attributes.js","patterns":[{"include":"#comment"},{"include":"#jsx-tag-attribute-name"},{"include":"#jsx-tag-attribute-assignment"},{"include":"#jsx-string-double-quoted"},{"include":"#jsx-string-single-quoted"},{"include":"#jsx-evaluated-code"},{"include":"#jsx-tag-attributes-illegal"}]},"jsx-tag-attributes-illegal":{"match":"\\\\S+","name":"invalid.illegal.attribute.js"},"jsx-tag-in-expression":{"begin":"(?<!\\\\+\\\\+|--)(?<=[(*,:=>?\\\\[{]|&&|\\\\|\\\\||\\\\?|\\\\*/|^await|[^$._[:alnum:]]await|^return|[^$._[:alnum:]]return|^default|[^$._[:alnum:]]default|^yield|[^$._[:alnum:]]yield|^)\\\\s*(?!<\\\\s*[$_[:alpha:]][$_[:alnum:]]*((\\\\s+extends\\\\s+[^=>])|,))(?=(<)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))(?=((<\\\\s*)|(\\\\s+))(?!\\\\?)|/?>))","end":"(?!(<)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))(?=((<\\\\s*)|(\\\\s+))(?!\\\\?)|/?>))","patterns":[{"include":"#jsx-tag"}]},"jsx-tag-without-attributes":{"begin":"(<)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))?\\\\s*(>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.js"},"2":{"name":"entity.name.tag.namespace.js"},"3":{"name":"punctuation.separator.namespace.js"},"4":{"name":"entity.name.tag.js"},"5":{"name":"support.class.component.js"},"6":{"name":"punctuation.definition.tag.end.js"}},"contentName":"meta.jsx.children.js","end":"(</)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))?\\\\s*(>)","endCaptures":{"1":{"name":"punctuation.definition.tag.begin.js"},"2":{"name":"entity.name.tag.namespace.js"},"3":{"name":"punctuation.separator.namespace.js"},"4":{"name":"entity.name.tag.js"},"5":{"name":"support.class.component.js"},"6":{"name":"punctuation.definition.tag.end.js"}},"name":"meta.tag.without-attributes.js","patterns":[{"include":"#jsx-children"}]},"jsx-tag-without-attributes-in-expression":{"begin":"(?<!\\\\+\\\\+|--)(?<=[(*,:=>?\\\\[{]|&&|\\\\|\\\\||\\\\?|\\\\*/|^await|[^$._[:alnum:]]await|^return|[^$._[:alnum:]]return|^default|[^$._[:alnum:]]default|^yield|[^$._[:alnum:]]yield|^)\\\\s*(?=(<)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))?\\\\s*(>))","end":"(?!(<)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))?\\\\s*(>))","patterns":[{"include":"#jsx-tag-without-attributes"}]},"label":{"patterns":[{"begin":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(:)(?=\\\\s*\\\\{)","beginCaptures":{"1":{"name":"entity.name.label.js"},"2":{"name":"punctuation.separator.label.js"}},"end":"(?<=})","patterns":[{"include":"#decl-block"}]},{"captures":{"1":{"name":"entity.name.label.js"},"2":{"name":"punctuation.separator.label.js"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(:)"}]},"literal":{"patterns":[{"include":"#numeric-literal"},{"include":"#boolean-literal"},{"include":"#null-literal"},{"include":"#undefined-literal"},{"include":"#numericConstant-literal"},{"include":"#array-literal"},{"include":"#this-literal"},{"include":"#super-literal"}]},"method-declaration":{"patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(override)\\\\s+)?(?:\\\\b(p(?:ublic|rivate|rotected))\\\\s+)?(?:\\\\b(abstract)\\\\s+)?(?:\\\\b(async)\\\\s+)?\\\\s*\\\\b(constructor)\\\\b(?!:)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"storage.modifier.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"storage.modifier.js"},"4":{"name":"storage.modifier.async.js"},"5":{"name":"storage.type.js"}},"end":"(?=[,;}]|$)|(?<=})","name":"meta.method.declaration.js","patterns":[{"include":"#method-declaration-name"},{"include":"#function-body"}]},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(override)\\\\s+)?(?:\\\\b(p(?:ublic|rivate|rotected))\\\\s+)?(?:\\\\b(abstract)\\\\s+)?(?:\\\\b(async)\\\\s+)?(?:\\\\s*\\\\b(new)\\\\b(?!:)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))|(?:(\\\\*)\\\\s*)?)(?=\\\\s*((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\()","beginCaptures":{"1":{"name":"storage.modifier.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"storage.modifier.js"},"4":{"name":"storage.modifier.async.js"},"5":{"name":"keyword.operator.new.js"},"6":{"name":"keyword.generator.asterisk.js"}},"end":"(?=[,;}]|$)|(?<=})","name":"meta.method.declaration.js","patterns":[{"include":"#method-declaration-name"},{"include":"#function-body"}]},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(override)\\\\s+)?(?:\\\\b(p(?:ublic|rivate|rotected))\\\\s+)?(?:\\\\b(abstract)\\\\s+)?(?:\\\\b(async)\\\\s+)?(?:\\\\b([gs]et)\\\\s+)?(?:(\\\\*)\\\\s*)?(?=\\\\s*((\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(\\\\??))\\\\s*((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\()","beginCaptures":{"1":{"name":"storage.modifier.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"storage.modifier.js"},"4":{"name":"storage.modifier.async.js"},"5":{"name":"storage.type.property.js"},"6":{"name":"keyword.generator.asterisk.js"}},"end":"(?=[,;}]|$)|(?<=})","name":"meta.method.declaration.js","patterns":[{"include":"#method-declaration-name"},{"include":"#function-body"}]}]},"method-declaration-name":{"begin":"(?=(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(\\\\??)\\\\s*[(<])","end":"(?=[(<])","patterns":[{"include":"#string"},{"include":"#array-literal"},{"include":"#numeric-literal"},{"match":"[$_[:alpha:]][$_[:alnum:]]*","name":"meta.definition.method.js entity.name.function.js"},{"match":"\\\\?","name":"keyword.operator.optional.js"}]},"namespace-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(namespace|module)\\\\s+(?=[\\"$'_\`[:alpha:]])","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"storage.type.namespace.js"}},"end":"(?<=})|(?=;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","name":"meta.namespace.declaration.js","patterns":[{"include":"#comment"},{"include":"#string"},{"match":"([$_[:alpha:]][$_[:alnum:]]*)","name":"entity.name.type.module.js"},{"include":"#punctuation-accessor"},{"include":"#decl-block"}]},"new-expr":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(new)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.operator.new.js"}},"end":"(?<=\\\\))|(?=[-\\\\])+,:;>?}]|\\\\|\\\\||&&|!==|$|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))new(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))function((\\\\s+[$_[:alpha:]][$_[:alnum:]]*)|(\\\\s*\\\\())))","name":"new.expr.js","patterns":[{"include":"#expression"}]},"null-literal":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))null(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.null.js"},"numeric-literal":{"patterns":[{"captures":{"1":{"name":"storage.type.numeric.bigint.js"}},"match":"\\\\b(?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$)","name":"constant.numeric.hex.js"},{"captures":{"1":{"name":"storage.type.numeric.bigint.js"}},"match":"\\\\b(?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$)","name":"constant.numeric.binary.js"},{"captures":{"1":{"name":"storage.type.numeric.bigint.js"}},"match":"\\\\b(?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$)","name":"constant.numeric.octal.js"},{"captures":{"0":{"name":"constant.numeric.decimal.js"},"1":{"name":"meta.delimiter.decimal.period.js"},"2":{"name":"storage.type.numeric.bigint.js"},"3":{"name":"meta.delimiter.decimal.period.js"},"4":{"name":"storage.type.numeric.bigint.js"},"5":{"name":"meta.delimiter.decimal.period.js"},"6":{"name":"storage.type.numeric.bigint.js"},"7":{"name":"storage.type.numeric.bigint.js"},"8":{"name":"meta.delimiter.decimal.period.js"},"9":{"name":"storage.type.numeric.bigint.js"},"10":{"name":"meta.delimiter.decimal.period.js"},"11":{"name":"storage.type.numeric.bigint.js"},"12":{"name":"meta.delimiter.decimal.period.js"},"13":{"name":"storage.type.numeric.bigint.js"},"14":{"name":"storage.type.numeric.bigint.js"}},"match":"(?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$)"}]},"numericConstant-literal":{"patterns":[{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))NaN(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.nan.js"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Infinity(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.infinity.js"}]},"object-binding-element":{"patterns":[{"include":"#comment"},{"begin":"(?=(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(:))","end":"(?=[,}])","patterns":[{"include":"#object-binding-element-propertyName"},{"include":"#binding-element"}]},{"include":"#object-binding-pattern"},{"include":"#destructuring-variable-rest"},{"include":"#variable-initializer"},{"include":"#punctuation-comma"}]},"object-binding-element-const":{"patterns":[{"include":"#comment"},{"begin":"(?=(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(:))","end":"(?=[,}])","patterns":[{"include":"#object-binding-element-propertyName"},{"include":"#binding-element-const"}]},{"include":"#object-binding-pattern-const"},{"include":"#destructuring-variable-rest-const"},{"include":"#variable-initializer"},{"include":"#punctuation-comma"}]},"object-binding-element-propertyName":{"begin":"(?=(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(:))","end":"(:)","endCaptures":{"0":{"name":"punctuation.destructuring.js"}},"patterns":[{"include":"#string"},{"include":"#array-literal"},{"include":"#numeric-literal"},{"match":"([$_[:alpha:]][$_[:alnum:]]*)","name":"variable.object.property.js"}]},"object-binding-pattern":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\{)","beginCaptures":{"1":{"name":"keyword.operator.rest.js"},"2":{"name":"punctuation.definition.binding-pattern.object.js"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.object.js"}},"patterns":[{"include":"#object-binding-element"}]},"object-binding-pattern-const":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\{)","beginCaptures":{"1":{"name":"keyword.operator.rest.js"},"2":{"name":"punctuation.definition.binding-pattern.object.js"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.object.js"}},"patterns":[{"include":"#object-binding-element-const"}]},"object-identifiers":{"patterns":[{"match":"([$_[:alpha:]][$_[:alnum:]]*)(?=\\\\s*\\\\??\\\\.\\\\s*prototype\\\\b(?!\\\\$))","name":"support.class.js"},{"captures":{"1":{"name":"punctuation.accessor.js"},"2":{"name":"punctuation.accessor.optional.js"},"3":{"name":"variable.other.constant.object.property.js"},"4":{"name":"variable.other.object.property.js"}},"match":"(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(?:(#?\\\\p{upper}[$_\\\\d[:upper:]]*)|(#?[$_[:alpha:]][$_[:alnum:]]*))(?=\\\\s*\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*)"},{"captures":{"1":{"name":"variable.other.constant.object.js"},"2":{"name":"variable.other.object.js"}},"match":"(?:(\\\\p{upper}[$_\\\\d[:upper:]]*)|([$_[:alpha:]][$_[:alnum:]]*))(?=\\\\s*\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*)"}]},"object-literal":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.js"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.js"}},"name":"meta.objectliteral.js","patterns":[{"include":"#object-member"}]},"object-literal-method-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(async)\\\\s+)?(?:\\\\b([gs]et)\\\\s+)?(?:(\\\\*)\\\\s*)?(?=\\\\s*((\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(\\\\??))\\\\s*((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\()","beginCaptures":{"1":{"name":"storage.modifier.async.js"},"2":{"name":"storage.type.property.js"},"3":{"name":"keyword.generator.asterisk.js"}},"end":"(?=[,;}])|(?<=})","name":"meta.method.declaration.js","patterns":[{"include":"#method-declaration-name"},{"include":"#function-body"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(async)\\\\s+)?(?:\\\\b([gs]et)\\\\s+)?(?:(\\\\*)\\\\s*)?(?=\\\\s*((\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(\\\\??))\\\\s*((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\()","beginCaptures":{"1":{"name":"storage.modifier.async.js"},"2":{"name":"storage.type.property.js"},"3":{"name":"keyword.generator.asterisk.js"}},"end":"(?=[(<])","patterns":[{"include":"#method-declaration-name"}]}]},"object-member":{"patterns":[{"include":"#comment"},{"include":"#object-literal-method-declaration"},{"begin":"(?=\\\\[)","end":"(?=:)|((?<=])(?=\\\\s*[(<]))","name":"meta.object.member.js meta.object-literal.key.js","patterns":[{"include":"#comment"},{"include":"#array-literal"}]},{"begin":"(?=[\\"'\`])","end":"(?=:)|((?<=[\\"'\`])(?=((\\\\s*[(,<}])|(\\\\s+(as|satisifies)\\\\s+))))","name":"meta.object.member.js meta.object-literal.key.js","patterns":[{"include":"#comment"},{"include":"#string"}]},{"begin":"(?=\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$)))","end":"(?=:)|(?=\\\\s*([(,<}])|(\\\\s+as|satisifies\\\\s+))","name":"meta.object.member.js meta.object-literal.key.js","patterns":[{"include":"#comment"},{"include":"#numeric-literal"}]},{"begin":"(?<=[]\\"'\`])(?=\\\\s*[(<])","end":"(?=[,;}])|(?<=})","name":"meta.method.declaration.js","patterns":[{"include":"#function-body"}]},{"captures":{"0":{"name":"meta.object-literal.key.js"},"1":{"name":"constant.numeric.decimal.js"}},"match":"(?![$_[:alpha:]])(\\\\d+)\\\\s*(?=(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*:)","name":"meta.object.member.js"},{"captures":{"0":{"name":"meta.object-literal.key.js"},"1":{"name":"entity.name.function.js"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?=(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*:(\\\\s*/\\\\*([^*]|(\\\\*[^/]))*\\\\*/)*\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))","name":"meta.object.member.js"},{"captures":{"0":{"name":"meta.object-literal.key.js"}},"match":"[$_[:alpha:]][$_[:alnum:]]*\\\\s*(?=(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*:)","name":"meta.object.member.js"},{"begin":"\\\\.\\\\.\\\\.","beginCaptures":{"0":{"name":"keyword.operator.spread.js"}},"end":"(?=[,}])","name":"meta.object.member.js","patterns":[{"include":"#expression"}]},{"captures":{"1":{"name":"variable.other.readwrite.js"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?=[,}]|$|//|/\\\\*)","name":"meta.object.member.js"},{"captures":{"1":{"name":"keyword.control.as.js"},"2":{"name":"storage.modifier.js"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as)\\\\s+(const)(?=\\\\s*([,}]|$))","name":"meta.object.member.js"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(as)|(satisfies))\\\\s+","beginCaptures":{"1":{"name":"keyword.control.as.js"},"2":{"name":"keyword.control.satisfies.js"}},"end":"(?=[-\\\\])+,:;>?}]|\\\\|\\\\||&&|!==|$|^|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as|satisifies)\\\\s+))","name":"meta.object.member.js","patterns":[{"include":"#type"}]},{"begin":"(?=[$_[:alpha:]][$_[:alnum:]]*\\\\s*=)","end":"(?=[,}]|$|//|/\\\\*)","name":"meta.object.member.js","patterns":[{"include":"#expression"}]},{"begin":":","beginCaptures":{"0":{"name":"meta.object-literal.key.js punctuation.separator.key-value.js"}},"end":"(?=[,}])","name":"meta.object.member.js","patterns":[{"begin":"(?<=:)\\\\s*(async)?(?=\\\\s*(<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))","beginCaptures":{"1":{"name":"storage.modifier.async.js"}},"end":"(?<=\\\\))","patterns":[{"include":"#type-parameters"},{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.js"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js"}},"patterns":[{"include":"#expression-inside-possibly-arrow-parens"}]}]},{"begin":"(?<=:)\\\\s*(async)?\\\\s*(\\\\()(?=\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))","beginCaptures":{"1":{"name":"storage.modifier.async.js"},"2":{"name":"meta.brace.round.js"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js"}},"patterns":[{"include":"#expression-inside-possibly-arrow-parens"}]},{"begin":"(?<=:)\\\\s*(async)?\\\\s*(?=<\\\\s*$)","beginCaptures":{"1":{"name":"storage.modifier.async.js"}},"end":"(?<=>)","patterns":[{"include":"#type-parameters"}]},{"begin":"(?<=>)\\\\s*(\\\\()(?=\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))","beginCaptures":{"1":{"name":"meta.brace.round.js"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js"}},"patterns":[{"include":"#expression-inside-possibly-arrow-parens"}]},{"include":"#possibly-arrow-return-type"},{"include":"#expression"}]},{"include":"#punctuation-comma"},{"include":"#decl-block"}]},"parameter-array-binding-pattern":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\[)","beginCaptures":{"1":{"name":"keyword.operator.rest.js"},"2":{"name":"punctuation.definition.binding-pattern.array.js"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.array.js"}},"patterns":[{"include":"#parameter-binding-element"},{"include":"#punctuation-comma"}]},"parameter-binding-element":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#numeric-literal"},{"include":"#regex"},{"include":"#parameter-object-binding-pattern"},{"include":"#parameter-array-binding-pattern"},{"include":"#destructuring-parameter-rest"},{"include":"#variable-initializer"}]},"parameter-name":{"patterns":[{"captures":{"1":{"name":"storage.modifier.js"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|protected|private|readonly)\\\\s+(?=(override|public|protected|private|readonly)\\\\s+)"},{"captures":{"1":{"name":"storage.modifier.js"},"2":{"name":"keyword.operator.rest.js"},"3":{"name":"entity.name.function.js variable.language.this.js"},"4":{"name":"entity.name.function.js"},"5":{"name":"keyword.operator.optional.js"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*(\\\\??)(?=\\\\s*(=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))|(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))))|(:\\\\s*(=>|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(<[^<>]*>)|[^(),<=>])+=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>))))))"},{"captures":{"1":{"name":"storage.modifier.js"},"2":{"name":"keyword.operator.rest.js"},"3":{"name":"variable.parameter.js variable.language.this.js"},"4":{"name":"variable.parameter.js"},"5":{"name":"keyword.operator.optional.js"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*(\\\\??)"}]},"parameter-object-binding-element":{"patterns":[{"include":"#comment"},{"begin":"(?=(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(:))","end":"(?=[,}])","patterns":[{"include":"#object-binding-element-propertyName"},{"include":"#parameter-binding-element"},{"include":"#paren-expression"}]},{"include":"#parameter-object-binding-pattern"},{"include":"#destructuring-parameter-rest"},{"include":"#variable-initializer"},{"include":"#punctuation-comma"}]},"parameter-object-binding-pattern":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\{)","beginCaptures":{"1":{"name":"keyword.operator.rest.js"},"2":{"name":"punctuation.definition.binding-pattern.object.js"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.object.js"}},"patterns":[{"include":"#parameter-object-binding-element"}]},"parameter-type-annotation":{"patterns":[{"begin":"(:)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.js"}},"end":"(?=[),])|(?==[^>])","name":"meta.type.annotation.js","patterns":[{"include":"#type"}]}]},"paren-expression":{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.js"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js"}},"patterns":[{"include":"#expression"}]},"paren-expression-possibly-arrow":{"patterns":[{"begin":"(?<=[(,=])\\\\s*(async)?(?=\\\\s*((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))","beginCaptures":{"1":{"name":"storage.modifier.async.js"}},"end":"(?<=\\\\))","patterns":[{"include":"#paren-expression-possibly-arrow-with-typeparameters"}]},{"begin":"(?<=[(,=]|=>|^return|[^$._[:alnum:]]return)\\\\s*(async)?(?=\\\\s*((((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\()|(<)|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)))\\\\s*$)","beginCaptures":{"1":{"name":"storage.modifier.async.js"}},"end":"(?<=\\\\))","patterns":[{"include":"#paren-expression-possibly-arrow-with-typeparameters"}]},{"include":"#possibly-arrow-return-type"}]},"paren-expression-possibly-arrow-with-typeparameters":{"patterns":[{"include":"#type-parameters"},{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.js"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js"}},"patterns":[{"include":"#expression-inside-possibly-arrow-parens"}]}]},"possibly-arrow-return-type":{"begin":"(?<=\\\\)|^)\\\\s*(:)(?=\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*=>)","beginCaptures":{"1":{"name":"meta.arrow.js meta.return.type.arrow.js keyword.operator.type.annotation.js"}},"contentName":"meta.arrow.js meta.return.type.arrow.js","end":"(?==>|\\\\{|^(\\\\s*(export|function|class|interface|let|var|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|const|import|enum|namespace|module|type|abstract|declare)\\\\s+))","patterns":[{"include":"#arrow-return-type-body"}]},"property-accessor":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(accessor|get|set)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"storage.type.property.js"},"punctuation-accessor":{"captures":{"1":{"name":"punctuation.accessor.js"},"2":{"name":"punctuation.accessor.optional.js"}},"match":"(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d))"},"punctuation-comma":{"match":",","name":"punctuation.separator.comma.js"},"punctuation-semicolon":{"match":";","name":"punctuation.terminator.statement.js"},"qstring-double":{"begin":"\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.js"}},"end":"(\\")|([^\\\\n\\\\\\\\])$","endCaptures":{"1":{"name":"punctuation.definition.string.end.js"},"2":{"name":"invalid.illegal.newline.js"}},"name":"string.quoted.double.js","patterns":[{"include":"#string-character-escape"}]},"qstring-single":{"begin":"'","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.js"}},"end":"(')|([^\\\\n\\\\\\\\])$","endCaptures":{"1":{"name":"punctuation.definition.string.end.js"},"2":{"name":"invalid.illegal.newline.js"}},"name":"string.quoted.single.js","patterns":[{"include":"#string-character-escape"}]},"regex":{"patterns":[{"begin":"(?<!\\\\+\\\\+|--|})(?<=[!(+,:=?\\\\[]|^return|[^$._[:alnum:]]return|^case|[^$._[:alnum:]]case|=>|&&|\\\\|\\\\||\\\\*/)\\\\s*(/)(?![*/])(?=(?:[^()/\\\\[\\\\\\\\]|\\\\\\\\.|\\\\[([^]\\\\\\\\]|\\\\\\\\.)+]|\\\\(([^)\\\\\\\\]|\\\\\\\\.)+\\\\))+/([dgimsuvy]+|(?![*/])|(?=/\\\\*))(?!\\\\s*[$0-9A-Z_a-z]))","beginCaptures":{"1":{"name":"punctuation.definition.string.begin.js"}},"end":"(/)([dgimsuvy]*)","endCaptures":{"1":{"name":"punctuation.definition.string.end.js"},"2":{"name":"keyword.other.js"}},"name":"string.regexp.js","patterns":[{"include":"#regexp"}]},{"begin":"((?<![]$)_[:alnum:]]|\\\\+\\\\+|--|}|\\\\*/)|((?<=^return|[^$._[:alnum:]]return|^case|[^$._[:alnum:]]case))\\\\s*)/(?![*/])(?=(?:[^/\\\\[\\\\\\\\]|\\\\\\\\.|\\\\[([^]\\\\\\\\]|\\\\\\\\.)*])+/([dgimsuvy]+|(?![*/])|(?=/\\\\*))(?!\\\\s*[$0-9A-Z_a-z]))","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.js"}},"end":"(/)([dgimsuvy]*)","endCaptures":{"1":{"name":"punctuation.definition.string.end.js"},"2":{"name":"keyword.other.js"}},"name":"string.regexp.js","patterns":[{"include":"#regexp"}]}]},"regex-character-class":{"patterns":[{"match":"\\\\\\\\[DSWdfnrstvw]|\\\\.","name":"constant.other.character-class.regexp"},{"match":"\\\\\\\\([0-7]{3}|x\\\\h{2}|u\\\\h{4})","name":"constant.character.numeric.regexp"},{"match":"\\\\\\\\c[A-Z]","name":"constant.character.control.regexp"},{"match":"\\\\\\\\.","name":"constant.character.escape.backslash.regexp"}]},"regexp":{"patterns":[{"match":"\\\\\\\\[Bb]|[$^]","name":"keyword.control.anchor.regexp"},{"captures":{"0":{"name":"keyword.other.back-reference.regexp"},"1":{"name":"variable.other.regexp"}},"match":"\\\\\\\\(?:[1-9]\\\\d*|k<([$A-Z_a-z][$\\\\w]*)>)"},{"match":"[*+?]|\\\\{(\\\\d+,\\\\d+|\\\\d+,|,\\\\d+|\\\\d+)}\\\\??","name":"keyword.operator.quantifier.regexp"},{"match":"\\\\|","name":"keyword.operator.or.regexp"},{"begin":"(\\\\()((\\\\?=)|(\\\\?!)|(\\\\?<=)|(\\\\?<!))","beginCaptures":{"1":{"name":"punctuation.definition.group.regexp"},"2":{"name":"punctuation.definition.group.assertion.regexp"},"3":{"name":"meta.assertion.look-ahead.regexp"},"4":{"name":"meta.assertion.negative-look-ahead.regexp"},"5":{"name":"meta.assertion.look-behind.regexp"},"6":{"name":"meta.assertion.negative-look-behind.regexp"}},"end":"(\\\\))","endCaptures":{"1":{"name":"punctuation.definition.group.regexp"}},"name":"meta.group.assertion.regexp","patterns":[{"include":"#regexp"}]},{"begin":"\\\\((?:(\\\\?:)|\\\\?<([$A-Z_a-z][$\\\\w]*)>)?","beginCaptures":{"0":{"name":"punctuation.definition.group.regexp"},"1":{"name":"punctuation.definition.group.no-capture.regexp"},"2":{"name":"variable.other.regexp"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.group.regexp"}},"name":"meta.group.regexp","patterns":[{"include":"#regexp"}]},{"begin":"(\\\\[)(\\\\^)?","beginCaptures":{"1":{"name":"punctuation.definition.character-class.regexp"},"2":{"name":"keyword.operator.negation.regexp"}},"end":"(])","endCaptures":{"1":{"name":"punctuation.definition.character-class.regexp"}},"name":"constant.other.character-class.set.regexp","patterns":[{"captures":{"1":{"name":"constant.character.numeric.regexp"},"2":{"name":"constant.character.control.regexp"},"3":{"name":"constant.character.escape.backslash.regexp"},"4":{"name":"constant.character.numeric.regexp"},"5":{"name":"constant.character.control.regexp"},"6":{"name":"constant.character.escape.backslash.regexp"}},"match":"(?:.|(\\\\\\\\(?:[0-7]{3}|x\\\\h{2}|u\\\\h{4}))|(\\\\\\\\c[A-Z])|(\\\\\\\\.))-(?:[^]\\\\\\\\]|(\\\\\\\\(?:[0-7]{3}|x\\\\h{2}|u\\\\h{4}))|(\\\\\\\\c[A-Z])|(\\\\\\\\.))","name":"constant.other.character-class.range.regexp"},{"include":"#regex-character-class"}]},{"include":"#regex-character-class"}]},"return-type":{"patterns":[{"begin":"(?<=\\\\))\\\\s*(:)(?=\\\\s*\\\\S)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.js"}},"end":"(?<![\\\\&:|])(?=$|^|[,;{}]|//)","name":"meta.return.type.js","patterns":[{"include":"#return-type-core"}]},{"begin":"(?<=\\\\))\\\\s*(:)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.js"}},"end":"(?<![\\\\&:|])((?=[,;{}]|//|^\\\\s*$)|((?<=\\\\S)(?=\\\\s*$)))","name":"meta.return.type.js","patterns":[{"include":"#return-type-core"}]}]},"return-type-core":{"patterns":[{"include":"#comment"},{"begin":"(?<=[\\\\&:|])(?=\\\\s*\\\\{)","end":"(?<=})","patterns":[{"include":"#type-object"}]},{"include":"#type-predicate-operator"},{"include":"#type"}]},"shebang":{"captures":{"1":{"name":"punctuation.definition.comment.js"}},"match":"\\\\A(#!).*(?=$)","name":"comment.line.shebang.js"},"single-line-comment-consuming-line-ending":{"begin":"(^[\\\\t ]+)?((//)(?:\\\\s*((@)internal)(?=\\\\s|$))?)","beginCaptures":{"1":{"name":"punctuation.whitespace.comment.leading.js"},"2":{"name":"comment.line.double-slash.js"},"3":{"name":"punctuation.definition.comment.js"},"4":{"name":"storage.type.internaldeclaration.js"},"5":{"name":"punctuation.decorator.internaldeclaration.js"}},"contentName":"comment.line.double-slash.js","end":"(?=^)"},"statements":{"patterns":[{"include":"#declaration"},{"include":"#control-statement"},{"include":"#after-operator-block-as-object-literal"},{"include":"#decl-block"},{"include":"#label"},{"include":"#expression"},{"include":"#punctuation-semicolon"},{"include":"#string"},{"include":"#comment"}]},"string":{"patterns":[{"include":"#qstring-single"},{"include":"#qstring-double"},{"include":"#template"}]},"string-character-escape":{"match":"\\\\\\\\(x\\\\h{2}|u\\\\h{4}|u\\\\{\\\\h+}|[012][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.|$)","name":"constant.character.escape.js"},"super-literal":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))super\\\\b(?!\\\\$)","name":"variable.language.super.js"},"support-function-call-identifiers":{"patterns":[{"include":"#literal"},{"include":"#support-objects"},{"include":"#object-identifiers"},{"include":"#punctuation-accessor"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))import(?=\\\\s*\\\\(\\\\s*[\\"'\`])","name":"keyword.operator.expression.import.js"}]},"support-objects":{"patterns":[{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(arguments)\\\\b(?!\\\\$)","name":"variable.language.arguments.js"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(Promise)\\\\b(?!\\\\$)","name":"support.class.promise.js"},{"captures":{"1":{"name":"keyword.control.import.js"},"2":{"name":"punctuation.accessor.js"},"3":{"name":"punctuation.accessor.optional.js"},"4":{"name":"support.variable.property.importmeta.js"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(import)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(meta)\\\\b(?!\\\\$)"},{"captures":{"1":{"name":"keyword.operator.new.js"},"2":{"name":"punctuation.accessor.js"},"3":{"name":"punctuation.accessor.optional.js"},"4":{"name":"support.variable.property.target.js"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(new)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(target)\\\\b(?!\\\\$)"},{"captures":{"1":{"name":"punctuation.accessor.js"},"2":{"name":"punctuation.accessor.optional.js"},"3":{"name":"support.variable.property.js"},"4":{"name":"support.constant.js"}},"match":"(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(?:(constructor|length|prototype|__proto__)\\\\b(?!\\\\$|\\\\s*(<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\()|(EPSILON|MAX_SAFE_INTEGER|MAX_VALUE|MIN_SAFE_INTEGER|MIN_VALUE|NEGATIVE_INFINITY|POSITIVE_INFINITY)\\\\b(?!\\\\$))"},{"captures":{"1":{"name":"support.type.object.module.js"},"2":{"name":"support.type.object.module.js"},"3":{"name":"punctuation.accessor.js"},"4":{"name":"punctuation.accessor.optional.js"},"5":{"name":"support.type.object.module.js"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(exports)|(module)(?:(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))(exports|id|filename|loaded|parent|children))?)\\\\b(?!\\\\$)"}]},"switch-statement":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?=\\\\bswitch\\\\s*\\\\()","end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.js"}},"name":"switch-statement.expr.js","patterns":[{"include":"#comment"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(switch)\\\\s*(\\\\()","beginCaptures":{"1":{"name":"keyword.control.switch.js"},"2":{"name":"meta.brace.round.js"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js"}},"name":"switch-expression.expr.js","patterns":[{"include":"#expression"}]},{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.js"}},"end":"(?=})","name":"switch-block.expr.js","patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(case|default(?=:))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.control.switch.js"}},"end":"(?=:)","name":"case-clause.expr.js","patterns":[{"include":"#expression"}]},{"begin":"(:)\\\\s*(\\\\{)","beginCaptures":{"1":{"name":"case-clause.expr.js punctuation.definition.section.case-statement.js"},"2":{"name":"meta.block.js punctuation.definition.block.js"}},"contentName":"meta.block.js","end":"}","endCaptures":{"0":{"name":"meta.block.js punctuation.definition.block.js"}},"patterns":[{"include":"#statements"}]},{"captures":{"0":{"name":"case-clause.expr.js punctuation.definition.section.case-statement.js"}},"match":"(:)"},{"include":"#statements"}]}]},"template":{"patterns":[{"include":"#template-call"},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)?(\`)","beginCaptures":{"1":{"name":"entity.name.function.tagged-template.js"},"2":{"name":"string.template.js punctuation.definition.string.template.begin.js"}},"contentName":"string.template.js","end":"\`","endCaptures":{"0":{"name":"string.template.js punctuation.definition.string.template.end.js"}},"patterns":[{"include":"#template-substitution-element"},{"include":"#string-character-escape"}]}]},"template-call":{"patterns":[{"begin":"(?=(([$_[:alpha:]][$_[:alnum:]]*\\\\s*\\\\??\\\\.\\\\s*)*|(\\\\??\\\\.\\\\s*)?)([$_[:alpha:]][$_[:alnum:]]*)(<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)?\`)","end":"(?=\`)","patterns":[{"begin":"(?=(([$_[:alpha:]][$_[:alnum:]]*\\\\s*\\\\??\\\\.\\\\s*)*|(\\\\??\\\\.\\\\s*)?)([$_[:alpha:]][$_[:alnum:]]*))","end":"(?=(<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)?\`)","patterns":[{"include":"#support-function-call-identifiers"},{"match":"([$_[:alpha:]][$_[:alnum:]]*)","name":"entity.name.function.tagged-template.js"}]},{"include":"#type-arguments"}]},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)?\\\\s*(?=(<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)\`)","beginCaptures":{"1":{"name":"entity.name.function.tagged-template.js"}},"end":"(?=\`)","patterns":[{"include":"#type-arguments"}]}]},"template-substitution-element":{"begin":"\\\\$\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.template-expression.begin.js"}},"contentName":"meta.embedded.line.js","end":"}","endCaptures":{"0":{"name":"punctuation.definition.template-expression.end.js"}},"name":"meta.template.expression.js","patterns":[{"include":"#expression"}]},"template-type":{"patterns":[{"include":"#template-call"},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)?(\`)","beginCaptures":{"1":{"name":"entity.name.function.tagged-template.js"},"2":{"name":"string.template.js punctuation.definition.string.template.begin.js"}},"contentName":"string.template.js","end":"\`","endCaptures":{"0":{"name":"string.template.js punctuation.definition.string.template.end.js"}},"patterns":[{"include":"#template-type-substitution-element"},{"include":"#string-character-escape"}]}]},"template-type-substitution-element":{"begin":"\\\\$\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.template-expression.begin.js"}},"contentName":"meta.embedded.line.js","end":"}","endCaptures":{"0":{"name":"punctuation.definition.template-expression.end.js"}},"name":"meta.template.expression.js","patterns":[{"include":"#type"}]},"ternary-expression":{"begin":"(?!\\\\?\\\\.\\\\s*\\\\D)(\\\\?)(?!\\\\?)","beginCaptures":{"1":{"name":"keyword.operator.ternary.js"}},"end":"\\\\s*(:)","endCaptures":{"1":{"name":"keyword.operator.ternary.js"}},"patterns":[{"include":"#expression"}]},"this-literal":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))this\\\\b(?!\\\\$)","name":"variable.language.this.js"},"type":{"patterns":[{"include":"#comment"},{"include":"#type-string"},{"include":"#numeric-literal"},{"include":"#type-primitive"},{"include":"#type-builtin-literals"},{"include":"#type-parameters"},{"include":"#type-tuple"},{"include":"#type-object"},{"include":"#type-operators"},{"include":"#type-conditional"},{"include":"#type-fn-type-parameters"},{"include":"#type-paren-or-function-parameters"},{"include":"#type-function-return-type"},{"captures":{"1":{"name":"storage.modifier.js"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(readonly)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*"},{"include":"#type-name"}]},"type-alias-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(type)\\\\b\\\\s+([$_[:alpha:]][$_[:alnum:]]*)\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"storage.type.type.js"},"4":{"name":"entity.name.type.alias.js"}},"end":"(?=[;}]|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","name":"meta.type.declaration.js","patterns":[{"include":"#comment"},{"include":"#type-parameters"},{"begin":"(=)\\\\s*(intrinsic)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.operator.assignment.js"},"2":{"name":"keyword.control.intrinsic.js"}},"end":"(?=[;}]|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","patterns":[{"include":"#type"}]},{"begin":"(=)\\\\s*","beginCaptures":{"1":{"name":"keyword.operator.assignment.js"}},"end":"(?=[;}]|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","patterns":[{"include":"#type"}]}]},"type-annotation":{"patterns":[{"begin":"(:)(?=\\\\s*\\\\S)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.js"}},"end":"(?<![\\\\&:|])(?!\\\\s*[\\\\&|]\\\\s+)((?=^|[]),;}]|//)|(?==[^>])|((?<=[]$)>_}[:alpha:]])\\\\s*(?=\\\\{)))","name":"meta.type.annotation.js","patterns":[{"include":"#type"}]},{"begin":"(:)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.js"}},"end":"(?<![\\\\&:|])((?=[]),;}]|//)|(?==[^>])|(?=^\\\\s*$)|((?<=[]$)>_}[:alpha:]])\\\\s*(?=\\\\{)))","name":"meta.type.annotation.js","patterns":[{"include":"#type"}]}]},"type-arguments":{"begin":"<","beginCaptures":{"0":{"name":"punctuation.definition.typeparameters.begin.js"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.typeparameters.end.js"}},"name":"meta.type.parameters.js","patterns":[{"include":"#type-arguments-body"}]},"type-arguments-body":{"patterns":[{"captures":{"0":{"name":"keyword.operator.type.js"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(_)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"include":"#type"},{"include":"#punctuation-comma"}]},"type-builtin-literals":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(this|true|false|undefined|null|object)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"support.type.builtin.js"},"type-conditional":{"patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(extends)\\\\s+","beginCaptures":{"1":{"name":"storage.modifier.js"}},"end":"(?<=:)","patterns":[{"begin":"\\\\?","beginCaptures":{"0":{"name":"keyword.operator.ternary.js"}},"end":":","endCaptures":{"0":{"name":"keyword.operator.ternary.js"}},"patterns":[{"include":"#type"}]},{"include":"#type"}]}]},"type-fn-type-parameters":{"patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(abstract)\\\\s+)?(new)\\\\b(?=\\\\s*<)","beginCaptures":{"1":{"name":"meta.type.constructor.js storage.modifier.js"},"2":{"name":"meta.type.constructor.js keyword.control.new.js"}},"end":"(?<=>)","patterns":[{"include":"#comment"},{"include":"#type-parameters"}]},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(abstract)\\\\s+)?(new)\\\\b\\\\s*(?=\\\\()","beginCaptures":{"1":{"name":"storage.modifier.js"},"2":{"name":"keyword.control.new.js"}},"end":"(?<=\\\\))","name":"meta.type.constructor.js","patterns":[{"include":"#function-parameters"}]},{"begin":"((?=\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>))))))","end":"(?<=\\\\))","name":"meta.type.function.js","patterns":[{"include":"#function-parameters"}]}]},"type-function-return-type":{"patterns":[{"begin":"(=>)(?=\\\\s*\\\\S)","beginCaptures":{"1":{"name":"storage.type.function.arrow.js"}},"end":"(?<!=>)(?<![\\\\&|])(?=[]),:;=>?{}]|//|$)","name":"meta.type.function.return.js","patterns":[{"include":"#type-function-return-type-core"}]},{"begin":"=>","beginCaptures":{"0":{"name":"storage.type.function.arrow.js"}},"end":"(?<!=>)(?<![\\\\&|])((?=[]),:;=>?{}]|//|^\\\\s*$)|((?<=\\\\S)(?=\\\\s*$)))","name":"meta.type.function.return.js","patterns":[{"include":"#type-function-return-type-core"}]}]},"type-function-return-type-core":{"patterns":[{"include":"#comment"},{"begin":"(?<==>)(?=\\\\s*\\\\{)","end":"(?<=})","patterns":[{"include":"#type-object"}]},{"include":"#type-predicate-operator"},{"include":"#type"}]},"type-infer":{"patterns":[{"captures":{"1":{"name":"keyword.operator.expression.infer.js"},"2":{"name":"entity.name.type.js"},"3":{"name":"keyword.operator.expression.extends.js"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(infer)\\\\s+([$_[:alpha:]][$_[:alnum:]]*)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?:\\\\s+(extends)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))?","name":"meta.type.infer.js"}]},"type-name":{"patterns":[{"begin":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(<)","captures":{"1":{"name":"entity.name.type.module.js"},"2":{"name":"punctuation.accessor.js"},"3":{"name":"punctuation.accessor.optional.js"},"4":{"name":"meta.type.parameters.js punctuation.definition.typeparameters.begin.js"}},"contentName":"meta.type.parameters.js","end":"(>)","endCaptures":{"1":{"name":"meta.type.parameters.js punctuation.definition.typeparameters.end.js"}},"patterns":[{"include":"#type-arguments-body"}]},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(<)","beginCaptures":{"1":{"name":"entity.name.type.js"},"2":{"name":"meta.type.parameters.js punctuation.definition.typeparameters.begin.js"}},"contentName":"meta.type.parameters.js","end":"(>)","endCaptures":{"1":{"name":"meta.type.parameters.js punctuation.definition.typeparameters.end.js"}},"patterns":[{"include":"#type-arguments-body"}]},{"captures":{"1":{"name":"entity.name.type.module.js"},"2":{"name":"punctuation.accessor.js"},"3":{"name":"punctuation.accessor.optional.js"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))"},{"match":"[$_[:alpha:]][$_[:alnum:]]*","name":"entity.name.type.js"}]},"type-object":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.js"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.js"}},"name":"meta.object.type.js","patterns":[{"include":"#comment"},{"include":"#method-declaration"},{"include":"#indexer-declaration"},{"include":"#indexer-mapped-type-declaration"},{"include":"#field-declaration"},{"include":"#type-annotation"},{"begin":"\\\\.\\\\.\\\\.","beginCaptures":{"0":{"name":"keyword.operator.spread.js"}},"end":"(?=[,;}]|$)|(?<=})","patterns":[{"include":"#type"}]},{"include":"#punctuation-comma"},{"include":"#punctuation-semicolon"},{"include":"#type"}]},"type-operators":{"patterns":[{"include":"#typeof-operator"},{"include":"#type-infer"},{"begin":"([\\\\&|])(?=\\\\s*\\\\{)","beginCaptures":{"0":{"name":"keyword.operator.type.js"}},"end":"(?<=})","patterns":[{"include":"#type-object"}]},{"begin":"[\\\\&|]","beginCaptures":{"0":{"name":"keyword.operator.type.js"}},"end":"(?=\\\\S)"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))keyof(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.expression.keyof.js"},{"match":"([:?])","name":"keyword.operator.ternary.js"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))import(?=\\\\s*\\\\()","name":"keyword.operator.expression.import.js"}]},"type-parameters":{"begin":"(<)","beginCaptures":{"1":{"name":"punctuation.definition.typeparameters.begin.js"}},"end":"(>)","endCaptures":{"1":{"name":"punctuation.definition.typeparameters.end.js"}},"name":"meta.type.parameters.js","patterns":[{"include":"#comment"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(extends|in|out|const)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"storage.modifier.js"},{"include":"#type"},{"include":"#punctuation-comma"},{"match":"(=)(?!>)","name":"keyword.operator.assignment.js"}]},"type-paren-or-function-parameters":{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.js"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js"}},"name":"meta.type.paren.cover.js","patterns":[{"captures":{"1":{"name":"storage.modifier.js"},"2":{"name":"keyword.operator.rest.js"},"3":{"name":"entity.name.function.js variable.language.this.js"},"4":{"name":"entity.name.function.js"},"5":{"name":"keyword.operator.optional.js"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))\\\\s*(\\\\??)(?=\\\\s*(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))))"},{"captures":{"1":{"name":"storage.modifier.js"},"2":{"name":"keyword.operator.rest.js"},"3":{"name":"variable.parameter.js variable.language.this.js"},"4":{"name":"variable.parameter.js"},"5":{"name":"keyword.operator.optional.js"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))\\\\s*(\\\\??)(?=:)"},{"include":"#type-annotation"},{"match":",","name":"punctuation.separator.parameter.js"},{"include":"#type"}]},"type-predicate-operator":{"patterns":[{"captures":{"1":{"name":"keyword.operator.type.asserts.js"},"2":{"name":"variable.parameter.js variable.language.this.js"},"3":{"name":"variable.parameter.js"},"4":{"name":"keyword.operator.expression.is.js"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(asserts)\\\\s+)?(?!asserts)(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))\\\\s(is)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"captures":{"1":{"name":"keyword.operator.type.asserts.js"},"2":{"name":"variable.parameter.js variable.language.this.js"},"3":{"name":"variable.parameter.js"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(asserts)\\\\s+(?!is)(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))asserts(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.type.asserts.js"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))is(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.expression.is.js"}]},"type-primitive":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(string|number|bigint|boolean|symbol|any|void|never|unknown)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"support.type.primitive.js"},"type-string":{"patterns":[{"include":"#qstring-single"},{"include":"#qstring-double"},{"include":"#template-type"}]},"type-tuple":{"begin":"\\\\[","beginCaptures":{"0":{"name":"meta.brace.square.js"}},"end":"]","endCaptures":{"0":{"name":"meta.brace.square.js"}},"name":"meta.type.tuple.js","patterns":[{"match":"\\\\.\\\\.\\\\.","name":"keyword.operator.rest.js"},{"captures":{"1":{"name":"entity.name.label.js"},"2":{"name":"keyword.operator.optional.js"},"3":{"name":"punctuation.separator.label.js"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(\\\\?)?\\\\s*(:)"},{"include":"#type"},{"include":"#punctuation-comma"}]},"typeof-operator":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))typeof(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"0":{"name":"keyword.operator.expression.typeof.js"}},"end":"(?=[]\\\\&),:;=>?{|}]|(extends\\\\s+)|$|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","patterns":[{"include":"#type-arguments"},{"include":"#expression"}]},"undefined-literal":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))undefined(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.undefined.js"},"var-expr":{"patterns":[{"begin":"(?=(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(var|let)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))","end":"(?!(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(var|let)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))((?=^|[;}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)|((?<!^let|[^$._[:alnum:]]let|^var|[^$._[:alnum:]]var)(?=\\\\s*$)))","name":"meta.var.expr.js","patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(var|let)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"storage.type.js"}},"end":"(?=\\\\S)"},{"include":"#destructuring-variable"},{"include":"#var-single-variable"},{"include":"#variable-initializer"},{"include":"#comment"},{"begin":"(,)\\\\s*(?=$|//)","beginCaptures":{"1":{"name":"punctuation.separator.comma.js"}},"end":"(?<!,)(((?=[;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|^\\\\s*$))|((?<=\\\\S)(?=\\\\s*$)))","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#comment"},{"include":"#destructuring-variable"},{"include":"#var-single-variable"},{"include":"#punctuation-comma"}]},{"include":"#punctuation-comma"}]},{"begin":"(?=(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(const(?!\\\\s+enum\\\\b))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"storage.type.js"}},"end":"(?!(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(const(?!\\\\s+enum\\\\b))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))((?=^|[;}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)|((?<!(?:^|[^$._[:alnum:]])const)(?=\\\\s*$)))","name":"meta.var.expr.js","patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(const(?!\\\\s+enum\\\\b))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"storage.type.js"}},"end":"(?=\\\\S)"},{"include":"#destructuring-const"},{"include":"#var-single-const"},{"include":"#variable-initializer"},{"include":"#comment"},{"begin":"(,)\\\\s*(?=$|//)","beginCaptures":{"1":{"name":"punctuation.separator.comma.js"}},"end":"(?<!,)(((?=[;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|^\\\\s*$))|((?<=\\\\S)(?=\\\\s*$)))","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#comment"},{"include":"#destructuring-const"},{"include":"#var-single-const"},{"include":"#punctuation-comma"}]},{"include":"#punctuation-comma"}]},{"begin":"(?=(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b\\\\b(using(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])|await\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b)\\\\b(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"storage.type.js"}},"end":"(?!(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b\\\\b(using(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])|await\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b)\\\\b(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))((?=[;}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)|((?<!(?:^|[^$._[:alnum:]]|^await\\\\s+|[^$._[:alnum:]]await\\\\s+)using)(?=\\\\s*$)))","name":"meta.var.expr.js","patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b\\\\b(using(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])|await\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b)\\\\b(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.js"},"2":{"name":"storage.modifier.js"},"3":{"name":"storage.type.js"}},"end":"(?=\\\\S)"},{"include":"#var-single-const"},{"include":"#variable-initializer"},{"include":"#comment"},{"begin":"(,)\\\\s*((?!\\\\S)|(?=//))","beginCaptures":{"1":{"name":"punctuation.separator.comma.js"}},"end":"(?<!,)(((?=[;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|^\\\\s*$))|((?<=\\\\S)(?=\\\\s*$)))","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#comment"},{"include":"#var-single-const"},{"include":"#punctuation-comma"}]},{"include":"#punctuation-comma"}]}]},"var-single-const":{"patterns":[{"begin":"([$_[:alpha:]][$_[:alnum:]]*)(?=\\\\s*(=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))|(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))))|(:\\\\s*(=>|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(<[^<>]*>)|[^(),<=>])+=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>))))))","beginCaptures":{"1":{"name":"meta.definition.variable.js variable.other.constant.js entity.name.function.js"}},"end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|(;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b))","name":"meta.var-single-variable.expr.js","patterns":[{"include":"#var-single-variable-type-annotation"}]},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)","beginCaptures":{"1":{"name":"meta.definition.variable.js variable.other.constant.js"}},"end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|(;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b))","name":"meta.var-single-variable.expr.js","patterns":[{"include":"#var-single-variable-type-annotation"}]}]},"var-single-variable":{"patterns":[{"begin":"([$_[:alpha:]][$_[:alnum:]]*)(!)?(?=\\\\s*(=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))|(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))))|(:\\\\s*(=>|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(<[^<>]*>)|[^(),<=>])+=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>))))))","beginCaptures":{"1":{"name":"meta.definition.variable.js entity.name.function.js"},"2":{"name":"keyword.operator.definiteassignment.js"}},"end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|(;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b))","name":"meta.var-single-variable.expr.js","patterns":[{"include":"#var-single-variable-type-annotation"}]},{"begin":"(\\\\p{upper}[$_\\\\d[:upper:]]*)(?![$_[:alnum:]])(!)?","beginCaptures":{"1":{"name":"meta.definition.variable.js variable.other.constant.js"},"2":{"name":"keyword.operator.definiteassignment.js"}},"end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|(;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b))","name":"meta.var-single-variable.expr.js","patterns":[{"include":"#var-single-variable-type-annotation"}]},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)(!)?","beginCaptures":{"1":{"name":"meta.definition.variable.js variable.other.readwrite.js"},"2":{"name":"keyword.operator.definiteassignment.js"}},"end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|(;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b))","name":"meta.var-single-variable.expr.js","patterns":[{"include":"#var-single-variable-type-annotation"}]}]},"var-single-variable-type-annotation":{"patterns":[{"include":"#type-annotation"},{"include":"#string"},{"include":"#comment"}]},"variable-initializer":{"patterns":[{"begin":"(?<![!=])(=)(?!=)(?=\\\\s*\\\\S)(?!\\\\s*.*=>\\\\s*$)","beginCaptures":{"1":{"name":"keyword.operator.assignment.js"}},"end":"(?=$|^|[]),;}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))","patterns":[{"include":"#expression"}]},{"begin":"(?<![!=])(=)(?!=)","beginCaptures":{"1":{"name":"keyword.operator.assignment.js"}},"end":"(?=[]),;}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))|(?=^\\\\s*$)|(?<![-\\\\&*+/|])(?<=\\\\S)(?<!=)(?=\\\\s*$)","patterns":[{"include":"#expression"}]}]}},"scopeName":"source.js","aliases":["js","cjs","mjs"]}`)),z6=[v9e],EQe=Object.freeze(Object.defineProperty({__proto__:null,default:z6},Symbol.toStringTag,{value:"Module"})),k9e=Object.freeze(JSON.parse(`{"displayName":"HTML","injections":{"R:text.html - (comment.block, text.html meta.embedded, meta.tag.*.*.html, meta.tag.*.*.*.html, meta.tag.*.*.*.*.html)":{"patterns":[{"match":"<","name":"invalid.illegal.bad-angle-bracket.html"}]}},"name":"html","patterns":[{"include":"#xml-processing"},{"include":"#comment"},{"include":"#doctype"},{"include":"#cdata"},{"include":"#tags-valid"},{"include":"#tags-invalid"},{"include":"#entities"}],"repository":{"attribute":{"patterns":[{"begin":"(s(hape|cope|t(ep|art)|ize(s)?|p(ellcheck|an)|elected|lot|andbox|rc(set|doc|lang)?)|h(ttp-equiv|i(dden|gh)|e(ight|aders)|ref(lang)?)|n(o(nce|validate|module)|ame)|c(h(ecked|arset)|ite|o(nt(ent(editable)?|rols)|ords|l(s(pan)?|or))|lass|rossorigin)|t(ype(mustmatch)?|itle|a(rget|bindex)|ranslate)|i(s(map)?|n(tegrity|putmode)|tem(scope|type|id|prop|ref)|d)|op(timum|en)|d(i(sabled|r(name)?)|ownload|e(coding|f(er|ault))|at(etime|a)|raggable)|usemap|p(ing|oster|la(ysinline|ceholder)|attern|reload)|enctype|value|kind|for(m(novalidate|target|enctype|action|method)?)?|w(idth|rap)|l(ist|o(op|w)|a(ng|bel))|a(s(ync)?|c(ce(sskey|pt(-charset)?)|tion)|uto(c(omplete|apitalize)|play|focus)|l(t|low(usermedia|paymentrequest|fullscreen))|bbr)|r(ows(pan)?|e(versed|quired|ferrerpolicy|l|adonly))|m(in(length)?|u(ted|ltiple)|e(thod|dia)|a(nifest|x(length)?)))(?![-:\\\\w])","beginCaptures":{"0":{"name":"entity.other.attribute-name.html"}},"end":"(?=\\\\s*+[^=\\\\s])","name":"meta.attribute.$1.html","patterns":[{"include":"#attribute-interior"}]},{"begin":"style(?![-:\\\\w])","beginCaptures":{"0":{"name":"entity.other.attribute-name.html"}},"end":"(?=\\\\s*+[^=\\\\s])","name":"meta.attribute.style.html","patterns":[{"begin":"=","beginCaptures":{"0":{"name":"punctuation.separator.key-value.html"}},"end":"(?<=[^=\\\\s])(?!\\\\s*=)|(?=/?>)","patterns":[{"begin":"(?=[^/<=>\`\\\\s]|/(?!>))","end":"(?!\\\\G)","name":"meta.embedded.line.css","patterns":[{"captures":{"0":{"name":"source.css"}},"match":"([^\\"'/<=>\`\\\\s]|/(?!>))+","name":"string.unquoted.html"},{"begin":"\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.html"}},"contentName":"source.css","end":"(\\")","endCaptures":{"0":{"name":"punctuation.definition.string.end.html"},"1":{"name":"source.css"}},"name":"string.quoted.double.html","patterns":[{"include":"#entities"}]},{"begin":"'","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.html"}},"contentName":"source.css","end":"(')","endCaptures":{"0":{"name":"punctuation.definition.string.end.html"},"1":{"name":"source.css"}},"name":"string.quoted.single.html","patterns":[{"include":"#entities"}]}]},{"match":"=","name":"invalid.illegal.unexpected-equals-sign.html"}]}]},{"begin":"on(s(croll|t(orage|alled)|u(spend|bmit)|e(curitypolicyviolation|ek(ing|ed)|lect))|hashchange|c(hange|o(ntextmenu|py)|u(t|echange)|l(ick|ose)|an(cel|play(through)?))|t(imeupdate|oggle)|in(put|valid)|o((?:n|ff)line)|d(urationchange|r(op|ag(start|over|e(n(ter|d)|xit)|leave)?)|blclick)|un(handledrejection|load)|p(opstate|lay(ing)?|a(ste|use|ge(show|hide))|rogress)|e(nded|rror|mptied)|volumechange|key(down|up|press)|focus|w(heel|aiting)|l(oad(start|e(nd|d((?:|meta)data)))?|anguagechange)|a(uxclick|fterprint|bort)|r(e(s(ize|et)|jectionhandled)|atechange)|m(ouse(o(ut|ver)|down|up|enter|leave|move)|essage(error)?)|b(efore(unload|print)|lur))(?![-:\\\\w])","beginCaptures":{"0":{"name":"entity.other.attribute-name.html"}},"end":"(?=\\\\s*+[^=\\\\s])","name":"meta.attribute.event-handler.$1.html","patterns":[{"begin":"=","beginCaptures":{"0":{"name":"punctuation.separator.key-value.html"}},"end":"(?<=[^=\\\\s])(?!\\\\s*=)|(?=/?>)","patterns":[{"begin":"(?=[^/<=>\`\\\\s]|/(?!>))","end":"(?!\\\\G)","name":"meta.embedded.line.js","patterns":[{"captures":{"0":{"name":"source.js"},"1":{"patterns":[{"include":"source.js"}]}},"match":"(([^\\"'/<=>\`\\\\s]|/(?!>))+)","name":"string.unquoted.html"},{"begin":"\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.html"}},"contentName":"source.js","end":"(\\")","endCaptures":{"0":{"name":"punctuation.definition.string.end.html"},"1":{"name":"source.js"}},"name":"string.quoted.double.html","patterns":[{"captures":{"0":{"patterns":[{"include":"source.js"}]}},"match":"([^\\\\n\\"/]|/(?![*/]))+"},{"begin":"//","beginCaptures":{"0":{"name":"punctuation.definition.comment.js"}},"end":"(?=\\")|\\\\n","name":"comment.line.double-slash.js"},{"begin":"/\\\\*","beginCaptures":{"0":{"name":"punctuation.definition.comment.begin.js"}},"end":"(?=\\")|\\\\*/","endCaptures":{"0":{"name":"punctuation.definition.comment.end.js"}},"name":"comment.block.js"}]},{"begin":"'","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.html"}},"contentName":"source.js","end":"(')","endCaptures":{"0":{"name":"punctuation.definition.string.end.html"},"1":{"name":"source.js"}},"name":"string.quoted.single.html","patterns":[{"captures":{"0":{"patterns":[{"include":"source.js"}]}},"match":"([^\\\\n'/]|/(?![*/]))+"},{"begin":"//","beginCaptures":{"0":{"name":"punctuation.definition.comment.js"}},"end":"(?=')|\\\\n","name":"comment.line.double-slash.js"},{"begin":"/\\\\*","beginCaptures":{"0":{"name":"punctuation.definition.comment.begin.js"}},"end":"(?=')|\\\\*/","endCaptures":{"0":{"name":"punctuation.definition.comment.end.js"}},"name":"comment.block.js"}]}]},{"match":"=","name":"invalid.illegal.unexpected-equals-sign.html"}]}]},{"begin":"(data-[-a-z]+)(?![-:\\\\w])","beginCaptures":{"0":{"name":"entity.other.attribute-name.html"}},"end":"(?=\\\\s*+[^=\\\\s])","name":"meta.attribute.data-x.$1.html","patterns":[{"include":"#attribute-interior"}]},{"begin":"(align|bgcolor|border)(?![-:\\\\w])","beginCaptures":{"0":{"name":"invalid.deprecated.entity.other.attribute-name.html"}},"end":"(?=\\\\s*+[^=\\\\s])","name":"meta.attribute.$1.html","patterns":[{"include":"#attribute-interior"}]},{"begin":"([^\\\\x00- \\"'/<=>\\\\x7F-\\\\x{9F}-\\\\x{4FFFE}\\\\x{4FFFF}\\\\x{5FFFE}\\\\x{5FFFF}\\\\x{6FFFE}\\\\x{6FFFF}\\\\x{7FFFE}\\\\x{7FFFF}\\\\x{8FFFE}\\\\x{8FFFF}\\\\x{9FFFE}\\\\x{9FFFF}\\\\x{AFFFE}\\\\x{AFFFF}\\\\x{BFFFE}\\\\x{BFFFF}\\\\x{CFFFE}\\\\x{CFFFF}\\\\x{DFFFE}\\\\x{DFFFF}\\\\x{EFFFE}\\\\x{EFFFF}\\\\x{FFFFE}\\\\x{FFFFF}\\\\x{10FFFE}\\\\x{10FFFF}]+)","beginCaptures":{"0":{"name":"entity.other.attribute-name.html"}},"end":"(?=\\\\s*+[^=\\\\s])","name":"meta.attribute.unrecognized.$1.html","patterns":[{"include":"#attribute-interior"}]},{"match":"[^>\\\\s]+","name":"invalid.illegal.character-not-allowed-here.html"}]},"attribute-interior":{"patterns":[{"begin":"=","beginCaptures":{"0":{"name":"punctuation.separator.key-value.html"}},"end":"(?<=[^=\\\\s])(?!\\\\s*=)|(?=/?>)","patterns":[{"match":"([^\\"'/<=>\`\\\\s]|/(?!>))+","name":"string.unquoted.html"},{"begin":"\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.html"}},"end":"\\"","endCaptures":{"0":{"name":"punctuation.definition.string.end.html"}},"name":"string.quoted.double.html","patterns":[{"include":"#entities"}]},{"begin":"'","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.html"}},"end":"'","endCaptures":{"0":{"name":"punctuation.definition.string.end.html"}},"name":"string.quoted.single.html","patterns":[{"include":"#entities"}]},{"match":"=","name":"invalid.illegal.unexpected-equals-sign.html"}]}]},"cdata":{"begin":"<!\\\\[CDATA\\\\[","beginCaptures":{"0":{"name":"punctuation.definition.tag.begin.html"}},"contentName":"string.other.inline-data.html","end":"]]>","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.metadata.cdata.html"},"comment":{"begin":"<!--","captures":{"0":{"name":"punctuation.definition.comment.html"}},"end":"-->","name":"comment.block.html","patterns":[{"match":"\\\\G-?>","name":"invalid.illegal.characters-not-allowed-here.html"},{"match":"<!-(?:-(?!>)|(?=-->))","name":"invalid.illegal.characters-not-allowed-here.html"},{"match":"--!>","name":"invalid.illegal.characters-not-allowed-here.html"}]},"core-minus-invalid":{"patterns":[{"include":"#xml-processing"},{"include":"#comment"},{"include":"#doctype"},{"include":"#cdata"},{"include":"#tags-valid"},{"include":"#entities"}]},"doctype":{"begin":"<!(?=(?i:DOCTYPE\\\\s))","beginCaptures":{"0":{"name":"punctuation.definition.tag.begin.html"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.metadata.doctype.html","patterns":[{"match":"\\\\G(?i:DOCTYPE)","name":"entity.name.tag.html"},{"begin":"\\"","end":"\\"","name":"string.quoted.double.html"},{"match":"[^>\\\\s]+","name":"entity.other.attribute-name.html"}]},"entities":{"patterns":[{"captures":{"1":{"name":"punctuation.definition.entity.html"},"912":{"name":"punctuation.definition.entity.html"}},"match":"(&)(?=[A-Za-z])((a(s(ymp(eq)?|cr|t)|n(d(slope|[dv]|and)?|g(s(t|ph)|zarr|e|le|rt(vb(d)?)?|msd(a([a-h]))?)?)|c(y|irc|d|ute|E)?|tilde|o(pf|gon)|uml|p(id|os|prox(eq)?|[Ee]|acir)?|elig|f(r)?|w((?:con|)int)|l(pha|e(ph|fsym))|acute|ring|grave|m(p|a(cr|lg))|breve)|A(s(sign|cr)|nd|MP|c(y|irc)|tilde|o(pf|gon)|uml|pplyFunction|fr|Elig|lpha|acute|ring|grave|macr|breve))|(B(scr|cy|opf|umpeq|e(cause|ta|rnoullis)|fr|a(ckslash|r(v|wed))|reve)|b(s(cr|im(e)?|ol(hsub|b)?|emi)|n(ot|e(quiv)?)|c(y|ong)|ig(s(tar|qcup)|c(irc|up|ap)|triangle(down|up)|o(times|dot|plus)|uplus|vee|wedge)|o(t(tom)?|pf|wtie|x(h([DUdu])?|times|H([DUdu])?|d([LRlr])|u([LRlr])|plus|D([LRlr])|v([HLRhlr])?|U([LRlr])|V([HLRhlr])?|minus|box))|Not|dquo|u(ll(et)?|mp(e(q)?|E)?)|prime|e(caus(e)?|t(h|ween|a)|psi|rnou|mptyv)|karow|fr|l(ock|k(1([24])|34)|a(nk|ck(square|triangle(down|left|right)?|lozenge)))|a(ck(sim(eq)?|cong|prime|epsilon)|r(vee|wed(ge)?))|r(eve|vbar)|brk(tbrk)?))|(c(s(cr|u(p(e)?|b(e)?))|h(cy|i|eck(mark)?)|ylcty|c(irc|ups(sm)?|edil|a(ps|ron))|tdot|ir(scir|c(eq|le(d(R|circ|S|dash|ast)|arrow(left|right)))?|e|fnint|E|mid)?|o(n(int|g(dot)?)|p(y(sr)?|f|rod)|lon(e(q)?)?|m(p(fn|le(xes|ment))?|ma(t)?))|dot|u(darr([lr])|p(s|c([au]p)|or|dot|brcap)?|e(sc|pr)|vee|wed|larr(p)?|r(vearrow(left|right)|ly(eq(succ|prec)|vee|wedge)|arr(m)?|ren))|e(nt(erdot)?|dil|mptyv)|fr|w((?:con|)int)|lubs(uit)?|a(cute|p(s|c([au]p)|dot|and|brcup)?|r(on|et))|r(oss|arr))|C(scr|hi|c(irc|onint|edil|aron)|ircle(Minus|Times|Dot|Plus)|Hcy|o(n(tourIntegral|int|gruent)|unterClockwiseContourIntegral|p(f|roduct)|lon(e)?)|dot|up(Cap)?|OPY|e(nterDot|dilla)|fr|lo(seCurly((?:Double|)Quote)|ckwiseContourIntegral)|a(yleys|cute|p(italDifferentialD)?)|ross))|(d(s(c([ry])|trok|ol)|har([lr])|c(y|aron)|t(dot|ri(f)?)|i(sin|e|v(ide(ontimes)?|onx)?|am(s|ond(suit)?)?|gamma)|Har|z(cy|igrarr)|o(t(square|plus|eq(dot)?|minus)?|ublebarwedge|pf|wn(harpoon(left|right)|downarrows|arrow)|llar)|d(otseq|a(rr|gger))?|u(har|arr)|jcy|e(lta|g|mptyv)|f(isht|r)|wangle|lc(orn|rop)|a(sh(v)?|leth|rr|gger)|r(c(orn|rop)|bkarow)|b(karow|lac)|Arr)|D(s(cr|trok)|c(y|aron)|Scy|i(fferentialD|a(critical(Grave|Tilde|Do(t|ubleAcute)|Acute)|mond))|o(t(Dot|Equal)?|uble(Right(Tee|Arrow)|ContourIntegral|Do(t|wnArrow)|Up((?:Down|)Arrow)|VerticalBar|L(ong(RightArrow|Left((?:Right|)Arrow))|eft(RightArrow|Tee|Arrow)))|pf|wn(Right(TeeVector|Vector(Bar)?)|Breve|Tee(Arrow)?|arrow|Left(RightVector|TeeVector|Vector(Bar)?)|Arrow(Bar|UpArrow)?))|Zcy|el(ta)?|D(otrahd)?|Jcy|fr|a(shv|rr|gger)))|(e(s(cr|im|dot)|n(sp|g)|c(y|ir(c)?|olon|aron)|t([ah])|o(pf|gon)|dot|u(ro|ml)|p(si(v|lon)?|lus|ar(sl)?)|e|D(D??ot)|q(s(im|lant(less|gtr))|c(irc|olon)|u(iv(DD)?|est|als)|vparsl)|f(Dot|r)|l(s(dot)?|inters|l)?|a(ster|cute)|r(Dot|arr)|g(s(dot)?|rave)?|x(cl|ist|p(onentiale|ectation))|m(sp(1([34]))?|pty(set|v)?|acr))|E(s(cr|im)|c(y|irc|aron)|ta|o(pf|gon)|NG|dot|uml|TH|psilon|qu(ilibrium|al(Tilde)?)|fr|lement|acute|grave|x(ists|ponentialE)|m(pty((?:|Very)SmallSquare)|acr)))|(f(scr|nof|cy|ilig|o(pf|r(k(v)?|all))|jlig|partint|emale|f(ilig|l(l??ig)|r)|l(tns|lig|at)|allingdotseq|r(own|a(sl|c(1([2-68])|78|2([35])|3([458])|45|5([68])))))|F(scr|cy|illed((?:|Very)SmallSquare)|o(uriertrf|pf|rAll)|fr))|(G(scr|c(y|irc|edil)|t|opf|dot|T|Jcy|fr|amma(d)?|reater(Greater|SlantEqual|Tilde|Equal(Less)?|FullEqual|Less)|g|breve)|g(s(cr|im([el])?)|n(sim|e(q(q)?)?|E|ap(prox)?)|c(y|irc)|t(c(c|ir)|dot|quest|lPar|r(sim|dot|eq(q?less)|less|a(pprox|rr)))?|imel|opf|dot|jcy|e(s(cc|dot(o(l)?)?|l(es)?)?|q(slant|q)?|l)?|v(nE|ertneqq)|fr|E(l)?|l([Eaj])?|a(cute|p|mma(d)?)|rave|g(g)?|breve))|(h(s(cr|trok|lash)|y(phen|bull)|circ|o(ok((?:lef|righ)tarrow)|pf|arr|rbar|mtht)|e(llip|arts(uit)?|rcon)|ks([ew]arow)|fr|a(irsp|lf|r(dcy|r(cir|w)?)|milt)|bar|Arr)|H(s(cr|trok)|circ|ilbertSpace|o(pf|rizontalLine)|ump(DownHump|Equal)|fr|a(cek|t)|ARDcy))|(i(s(cr|in(s(v)?|dot|[Ev])?)|n(care|t(cal|prod|e(rcal|gers)|larhk)?|odot|fin(tie)?)?|c(y|irc)?|t(ilde)?|i(nfin|i(i??nt)|ota)?|o(cy|ta|pf|gon)|u(kcy|ml)|jlig|prod|e(cy|xcl)|quest|f([fr])|acute|grave|m(of|ped|a(cr|th|g(part|e|line))))|I(scr|n(t(e(rsection|gral))?|visible(Comma|Times))|c(y|irc)|tilde|o(ta|pf|gon)|dot|u(kcy|ml)|Ocy|Jlig|fr|Ecy|acute|grave|m(plies|a(cr|ginaryI))?))|(j(s(cr|ercy)|c(y|irc)|opf|ukcy|fr|math)|J(s(cr|ercy)|c(y|irc)|opf|ukcy|fr))|(k(scr|hcy|c(y|edil)|opf|jcy|fr|appa(v)?|green)|K(scr|c(y|edil)|Hcy|opf|Jcy|fr|appa))|(l(s(h|cr|trok|im([eg])?|q(uo(r)?|b)|aquo)|h(ar(d|u(l)?)|blk)|n(sim|e(q(q)?)?|E|ap(prox)?)|c(y|ub|e(d??il)|aron)|Barr|t(hree|c(c|ir)|imes|dot|quest|larr|r(i([ef])?|Par))?|Har|o(ng(left((?:|right)arrow)|rightarrow|mapsto)|times|z(enge|f)?|oparrow(left|right)|p(f|lus|ar)|w(ast|bar)|a(ng|rr)|brk)|d(sh|ca|quo(r)?|r((?:d|us)har))|ur((?:ds|u)har)|jcy|par(lt)?|e(s(s(sim|dot|eq(q?gtr)|approx|gtr)|cc|dot(o(r)?)?|g(es)?)?|q(slant|q)?|ft(harpoon(down|up)|threetimes|leftarrows|arrow(tail)?|right(squigarrow|harpoons|arrow(s)?))|g)?|v(nE|ertneqq)|f(isht|loor|r)|E(g)?|l(hard|corner|tri|arr)?|a(ng(d|le)?|cute|t(e(s)?|ail)?|p|emptyv|quo|rr(sim|hk|tl|pl|fs|lp|b(fs)?)?|gran|mbda)|r(har(d)?|corner|tri|arr|m)|g(E)?|m(idot|oust(ache)?)|b(arr|r(k(sl([du])|e)|ac([ek]))|brk)|A(tail|arr|rr))|L(s(h|cr|trok)|c(y|edil|aron)|t|o(ng(RightArrow|left((?:|right)arrow)|rightarrow|Left((?:Right|)Arrow))|pf|wer((?:Righ|Lef)tArrow))|T|e(ss(Greater|SlantEqual|Tilde|EqualGreater|FullEqual|Less)|ft(Right(Vector|Arrow)|Ceiling|T(ee(Vector|Arrow)?|riangle(Bar|Equal)?)|Do(ubleBracket|wn(TeeVector|Vector(Bar)?))|Up(TeeVector|DownVector|Vector(Bar)?)|Vector(Bar)?|arrow|rightarrow|Floor|A(ngleBracket|rrow(RightArrow|Bar)?)))|Jcy|fr|l(eftarrow)?|a(ng|cute|placetrf|rr|mbda)|midot))|(M(scr|cy|inusPlus|opf|u|e(diumSpace|llintrf)|fr|ap)|m(s(cr|tpos)|ho|nplus|c(y|omma)|i(nus(d(u)?|b)?|cro|d(cir|dot|ast)?)|o(dels|pf)|dash|u((?:lti|)map)?|p|easuredangle|DDot|fr|l(cp|dr)|a(cr|p(sto(down|up|left)?)?|l(t(ese)?|e)|rker)))|(n(s(hort(parallel|mid)|c(cue|[er])?|im(e(q)?)?|u(cc(eq)?|p(set(eq(q)?)?|[Ee])?|b(set(eq(q)?)?|[Ee])?)|par|qsu([bp]e)|mid)|Rightarrow|h(par|arr|Arr)|G(t(v)?|g)|c(y|ong(dot)?|up|edil|a(p|ron))|t(ilde|lg|riangle(left(eq)?|right(eq)?)|gl)|i(s(d)?|v)?|o(t(ni(v([abc]))?|in(dot|v([abc])|E)?)?|pf)|dash|u(m(sp|ero)?)?|jcy|p(olint|ar(sl|t|allel)?|r(cue|e(c(eq)?)?)?)|e(s(im|ear)|dot|quiv|ar(hk|r(ow)?)|xist(s)?|Arr)?|v(sim|infin|Harr|dash|Dash|l(t(rie)?|e|Arr)|ap|r(trie|Arr)|g([et]))|fr|w(near|ar(hk|r(ow)?)|Arr)|V([Dd]ash)|l(sim|t(ri(e)?)?|dr|e(s(s)?|q(slant|q)?|ft((?:|right)arrow))?|E|arr|Arr)|a(ng|cute|tur(al(s)?)?|p(id|os|prox|E)?|bla)|r(tri(e)?|ightarrow|arr([cw])?|Arr)|g(sim|t(r)?|e(s|q(slant|q)?)?|E)|mid|L(t(v)?|eft((?:|right)arrow)|l)|b(sp|ump(e)?))|N(scr|c(y|edil|aron)|tilde|o(nBreakingSpace|Break|t(R(ightTriangle(Bar|Equal)?|everseElement)|Greater(Greater|SlantEqual|Tilde|Equal|FullEqual|Less)?|S(u(cceeds(SlantEqual|Tilde|Equal)?|perset(Equal)?|bset(Equal)?)|quareSu(perset(Equal)?|bset(Equal)?))|Hump(DownHump|Equal)|Nested(GreaterGreater|LessLess)|C(ongruent|upCap)|Tilde(Tilde|Equal|FullEqual)?|DoubleVerticalBar|Precedes((?:Slant|)Equal)?|E(qual(Tilde)?|lement|xists)|VerticalBar|Le(ss(Greater|SlantEqual|Tilde|Equal|Less)?|ftTriangle(Bar|Equal)?))?|pf)|u|e(sted(GreaterGreater|LessLess)|wLine|gative(MediumSpace|Thi((?:n|ck)Space)|VeryThinSpace))|Jcy|fr|acute))|(o(s(cr|ol|lash)|h(m|bar)|c(y|ir(c)?)|ti(lde|mes(as)?)|S|int|opf|d(sold|iv|ot|ash|blac)|uml|p(erp|lus|ar)|elig|vbar|f(cir|r)|l(c(ir|ross)|t|ine|arr)|a(st|cute)|r(slope|igof|or|d(er(of)?|[fm])?|v|arr)?|g(t|on|rave)|m(i(nus|cron|d)|ega|acr))|O(s(cr|lash)|c(y|irc)|ti(lde|mes)|opf|dblac|uml|penCurly((?:Double|)Quote)|ver(B(ar|rac(e|ket))|Parenthesis)|fr|Elig|acute|r|grave|m(icron|ega|acr)))|(p(s(cr|i)|h(i(v)?|one|mmat)|cy|i(tchfork|v)?|o(intint|und|pf)|uncsp|er(cnt|tenk|iod|p|mil)|fr|l(us(sim|cir|two|d([ou])|e|acir|mn|b)?|an(ck(h)?|kv))|ar(s(im|l)|t|a(llel)?)?|r(sim|n(sim|E|ap)|cue|ime(s)?|o(d|p(to)?|f(surf|line|alar))|urel|e(c(sim|n(sim|eqq|approx)|curlyeq|eq|approx)?)?|E|ap)?|m)|P(s(cr|i)|hi|cy|i|o(incareplane|pf)|fr|lusMinus|artialD|r(ime|o(duct|portion(al)?)|ecedes(SlantEqual|Tilde|Equal)?)?))|(q(scr|int|opf|u(ot|est(eq)?|at(int|ernions))|prime|fr)|Q(scr|opf|UOT|fr))|(R(s(h|cr)|ho|c(y|edil|aron)|Barr|ight(Ceiling|T(ee(Vector|Arrow)?|riangle(Bar|Equal)?)|Do(ubleBracket|wn(TeeVector|Vector(Bar)?))|Up(TeeVector|DownVector|Vector(Bar)?)|Vector(Bar)?|arrow|Floor|A(ngleBracket|rrow(Bar|LeftArrow)?))|o(undImplies|pf)|uleDelayed|e(verse(UpEquilibrium|E(quilibrium|lement)))?|fr|EG|a(ng|cute|rr(tl)?)|rightarrow)|r(s(h|cr|q(uo(r)?|b)|aquo)|h(o(v)?|ar(d|u(l)?))|nmid|c(y|ub|e(d??il)|aron)|Barr|t(hree|imes|ri([ef]|ltri)?)|i(singdotseq|ng|ght(squigarrow|harpoon(down|up)|threetimes|left(harpoons|arrows)|arrow(tail)?|rightarrows))|Har|o(times|p(f|lus|ar)|a(ng|rr)|brk)|d(sh|ca|quo(r)?|ldhar)|uluhar|p(polint|ar(gt)?)|e(ct|al(s|ine|part)?|g)|f(isht|loor|r)|l(har|arr|m)|a(ng([de]|le)?|c(ute|e)|t(io(nals)?|ail)|dic|emptyv|quo|rr(sim|hk|c|tl|pl|fs|w|lp|ap|b(fs)?)?)|rarr|x|moust(ache)?|b(arr|r(k(sl([du])|e)|ac([ek]))|brk)|A(tail|arr|rr)))|(s(s(cr|tarf|etmn|mile)|h(y|c(hcy|y)|ort(parallel|mid)|arp)|c(sim|y|n(sim|E|ap)|cue|irc|polint|e(dil)?|E|a(p|ron))?|t(ar(f)?|r(ns|aight(phi|epsilon)))|i(gma([fv])?|m(ne|dot|plus|e(q)?|l(E)?|rarr|g(E)?)?)|zlig|o(pf|ftcy|l(b(ar)?)?)|dot([be])?|u(ng|cc(sim|n(sim|eqq|approx)|curlyeq|eq|approx)?|p(s(im|u([bp])|et(neq(q)?|eq(q)?)?)|hs(ol|ub)|1|n([Ee])|2|d(sub|ot)|3|plus|e(dot)?|E|larr|mult)?|m|b(s(im|u([bp])|et(neq(q)?|eq(q)?)?)|n([Ee])|dot|plus|e(dot)?|E|rarr|mult)?)|pa(des(uit)?|r)|e(swar|ct|tm(n|inus)|ar(hk|r(ow)?)|xt|mi|Arr)|q(su(p(set(eq)?|e)?|b(set(eq)?|e)?)|c(up(s)?|ap(s)?)|u(f|ar([ef]))?)|fr(own)?|w(nwar|ar(hk|r(ow)?)|Arr)|larr|acute|rarr|m(t(e(s)?)?|i(d|le)|eparsl|a(shp|llsetminus))|bquo)|S(scr|hort((?:Right|Down|Up|Left)Arrow)|c(y|irc|edil|aron)?|tar|igma|H(cy|CHcy)|opf|u(c(hThat|ceeds(SlantEqual|Tilde|Equal)?)|p(set|erset(Equal)?)?|m|b(set(Equal)?)?)|OFTcy|q(uare(Su(perset(Equal)?|bset(Equal)?)|Intersection|Union)?|rt)|fr|acute|mallCircle))|(t(s(hcy|c([ry])|trok)|h(i(nsp|ck(sim|approx))|orn|e(ta(sym|v)?|re(4|fore))|k(sim|ap))|c(y|edil|aron)|i(nt|lde|mes(d|b(ar)?)?)|o(sa|p(cir|f(ork)?|bot)?|ea)|dot|prime|elrec|fr|w(ixt|ohead((?:lef|righ)tarrow))|a(u|rget)|r(i(sb|time|dot|plus|e|angle(down|q|left(eq)?|right(eq)?)?|minus)|pezium|ade)|brk)|T(s(cr|trok)|RADE|h(i((?:n|ck)Space)|e(ta|refore))|c(y|edil|aron)|S(H??cy)|ilde(Tilde|Equal|FullEqual)?|HORN|opf|fr|a([bu])|ripleDot))|(u(scr|h(ar([lr])|blk)|c(y|irc)|t(ilde|dot|ri(f)?)|Har|o(pf|gon)|d(har|arr|blac)|u(arr|ml)|p(si(h|lon)?|harpoon(left|right)|downarrow|uparrows|lus|arrow)|f(isht|r)|wangle|l(c(orn(er)?|rop)|tri)|a(cute|rr)|r(c(orn(er)?|rop)|tri|ing)|grave|m(l|acr)|br(cy|eve)|Arr)|U(scr|n(ion(Plus)?|der(B(ar|rac(e|ket))|Parenthesis))|c(y|irc)|tilde|o(pf|gon)|dblac|uml|p(si(lon)?|downarrow|Tee(Arrow)?|per((?:Righ|Lef)tArrow)|DownArrow|Equilibrium|arrow|Arrow(Bar|DownArrow)?)|fr|a(cute|rr(ocir)?)|ring|grave|macr|br(cy|eve)))|(v(s(cr|u(pn([Ee])|bn([Ee])))|nsu([bp])|cy|Bar(v)?|zigzag|opf|dash|prop|e(e(eq|bar)?|llip|r(t|bar))|Dash|fr|ltri|a(ngrt|r(s(igma|u(psetneq(q)?|bsetneq(q)?))|nothing|t(heta|riangle(left|right))|p(hi|i|ropto)|epsilon|kappa|r(ho)?))|rtri|Arr)|V(scr|cy|opf|dash(l)?|e(e|r(yThinSpace|t(ical(Bar|Separator|Tilde|Line))?|bar))|Dash|vdash|fr|bar))|(w(scr|circ|opf|p|e(ierp|d(ge(q)?|bar))|fr|r(eath)?)|W(scr|circ|opf|edge|fr))|(X(scr|i|opf|fr)|x(s(cr|qcup)|h([Aa]rr)|nis|c(irc|up|ap)|i|o(time|dot|p(f|lus))|dtri|u(tri|plus)|vee|fr|wedge|l([Aa]rr)|r([Aa]rr)|map))|(y(scr|c(y|irc)|icy|opf|u(cy|ml)|en|fr|ac(y|ute))|Y(scr|c(y|irc)|opf|uml|Icy|Ucy|fr|acute|Acy))|(z(scr|hcy|c(y|aron)|igrarr|opf|dot|e(ta|etrf)|fr|w(n?j)|acute)|Z(scr|c(y|aron)|Hcy|opf|dot|e(ta|roWidthSpace)|fr|acute)))(;)","name":"constant.character.entity.named.$2.html"},{"captures":{"1":{"name":"punctuation.definition.entity.html"},"3":{"name":"punctuation.definition.entity.html"}},"match":"(&)#[0-9]+(;)","name":"constant.character.entity.numeric.decimal.html"},{"captures":{"1":{"name":"punctuation.definition.entity.html"},"3":{"name":"punctuation.definition.entity.html"}},"match":"(&)#[Xx]\\\\h+(;)","name":"constant.character.entity.numeric.hexadecimal.html"},{"match":"&(?=[0-9A-Za-z]+;)","name":"invalid.illegal.ambiguous-ampersand.html"}]},"math":{"patterns":[{"begin":"(?i)(<)(math)(?=\\\\s|/?>)(?:(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(>))?","beginCaptures":{"0":{"name":"meta.tag.structure.$2.start.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"patterns":[{"include":"#attribute"}]},"5":{"name":"punctuation.definition.tag.end.html"}},"end":"(?i)(</)(\\\\2)\\\\s*(>)","endCaptures":{"0":{"name":"meta.tag.structure.$2.end.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.element.structure.$2.html","patterns":[{"begin":"(?<!>)\\\\G","end":">","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.structure.start.html","patterns":[{"include":"#attribute"}]},{"include":"#tags"}]}],"repository":{"attribute":{"patterns":[{"begin":"(s(hift|ymmetric|cript(sizemultiplier|level|minsize)|t(ackalign|retchy)|ide|u([bp]scriptshift)|e(parator(s)?|lection)|rc)|h(eight|ref)|n(otation|umalign)|c(haralign|olumn(spa(n|cing)|width|lines|align)|lose|rossout)|i(n(dent(shift(first|last)?|target|align(first|last)?)|fixlinebreakstyle)|d)|o(pen|verflow)|d(i(splay(style)?|r)|e(nomalign|cimalpoint|pth))|position|e(dge|qual(columns|rows))|voffset|f(orm|ence|rame(spacing)?)|width|l(space|ine(thickness|leading|break(style|multchar)?)|o(ngdivstyle|cation)|ength|quote|argeop)|a(c(cent(under)?|tiontype)|l(t(text|img(-(height|valign|width))?)|ign(mentscope)?))|r(space|ow(spa(n|cing)|lines|align)|quote)|groupalign|x(link:href|mlns)|m(in(size|labelspacing)|ovablelimits|a(th(size|color|variant|background)|xsize))|bevelled)(?![-:\\\\w])","beginCaptures":{"0":{"name":"entity.other.attribute-name.html"}},"end":"(?=\\\\s*+[^=\\\\s])","name":"meta.attribute.$1.html","patterns":[{"include":"#attribute-interior"}]},{"begin":"([^\\\\x00- \\"'/<=>\\\\x7F-\\\\x{9F}-\\\\x{4FFFE}\\\\x{4FFFF}\\\\x{5FFFE}\\\\x{5FFFF}\\\\x{6FFFE}\\\\x{6FFFF}\\\\x{7FFFE}\\\\x{7FFFF}\\\\x{8FFFE}\\\\x{8FFFF}\\\\x{9FFFE}\\\\x{9FFFF}\\\\x{AFFFE}\\\\x{AFFFF}\\\\x{BFFFE}\\\\x{BFFFF}\\\\x{CFFFE}\\\\x{CFFFF}\\\\x{DFFFE}\\\\x{DFFFF}\\\\x{EFFFE}\\\\x{EFFFF}\\\\x{FFFFE}\\\\x{FFFFF}\\\\x{10FFFE}\\\\x{10FFFF}]+)","beginCaptures":{"0":{"name":"entity.other.attribute-name.html"}},"end":"(?=\\\\s*+[^=\\\\s])","name":"meta.attribute.unrecognized.$1.html","patterns":[{"include":"#attribute-interior"}]},{"match":"[^>\\\\s]+","name":"invalid.illegal.character-not-allowed-here.html"}]},"tags":{"patterns":[{"include":"#comment"},{"include":"#cdata"},{"captures":{"0":{"name":"meta.tag.structure.math.$2.void.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"patterns":[{"include":"#attribute"}]},"5":{"name":"punctuation.definition.tag.end.html"}},"match":"(?i)(<)(annotation|annotation-xml|semantics|menclose|merror|mfenced|mfrac|mpadded|mphantom|mroot|mrow|msqrt|mstyle|mmultiscripts|mover|mprescripts|msub|msubsup|msup|munder|munderover|none|mlabeledtr|mtable|mtd|mtr|mlongdiv|mscarries|mscarry|msgroup|msline|msrow|mstack|maction)(?=\\\\s|/?>)(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(/>)","name":"meta.element.structure.math.$2.html"},{"begin":"(?i)(<)(annotation|annotation-xml|semantics|menclose|merror|mfenced|mfrac|mpadded|mphantom|mroot|mrow|msqrt|mstyle|mmultiscripts|mover|mprescripts|msub|msubsup|msup|munder|munderover|none|mlabeledtr|mtable|mtd|mtr|mlongdiv|mscarries|mscarry|msgroup|msline|msrow|mstack|maction)(?=\\\\s|/?>)(?:(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(>))?","beginCaptures":{"0":{"name":"meta.tag.structure.math.$2.start.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"patterns":[{"include":"#attribute"}]},"5":{"name":"punctuation.definition.tag.end.html"}},"end":"(?i)(</)(\\\\2)\\\\s*(>)|(/>)|(?=</\\\\w+)","endCaptures":{"0":{"name":"meta.tag.structure.math.$2.end.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"punctuation.definition.tag.end.html"},"4":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.element.structure.math.$2.html","patterns":[{"begin":"(?<!>)\\\\G","end":"(?=/>)|>","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.structure.start.html","patterns":[{"include":"#attribute"}]},{"include":"#tags"}]},{"captures":{"0":{"name":"meta.tag.inline.math.$2.void.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"patterns":[{"include":"#attribute"}]},"5":{"name":"punctuation.definition.tag.end.html"}},"match":"(?i)(<)(m(?:[inos]|space|text|aligngroup|alignmark))(?=\\\\s|/?>)(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(/>)","name":"meta.element.inline.math.$2.html"},{"begin":"(?i)(<)(m(?:[inos]|space|text|aligngroup|alignmark))(?=\\\\s|/?>)(?:(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(>))?","beginCaptures":{"0":{"name":"meta.tag.inline.math.$2.start.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"patterns":[{"include":"#attribute"}]},"5":{"name":"punctuation.definition.tag.end.html"}},"end":"(?i)(</)(\\\\2)\\\\s*(>)|(/>)|(?=</\\\\w+)","endCaptures":{"0":{"name":"meta.tag.inline.math.$2.end.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"punctuation.definition.tag.end.html"},"4":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.element.inline.math.$2.html","patterns":[{"begin":"(?<!>)\\\\G","end":"(?=/>)|>","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.inline.start.html","patterns":[{"include":"#attribute"}]},{"include":"#tags"}]},{"captures":{"0":{"name":"meta.tag.object.math.$2.void.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"patterns":[{"include":"#attribute"}]},"5":{"name":"punctuation.definition.tag.end.html"}},"match":"(?i)(<)(mglyph)(?=\\\\s|/?>)(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(/>)","name":"meta.element.object.math.$2.html"},{"begin":"(?i)(<)(mglyph)(?=\\\\s|/?>)(?:(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(>))?","beginCaptures":{"0":{"name":"meta.tag.object.math.$2.start.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"patterns":[{"include":"#attribute"}]},"5":{"name":"punctuation.definition.tag.end.html"}},"end":"(?i)(</)(\\\\2)\\\\s*(>)|(/>)|(?=</\\\\w+)","endCaptures":{"0":{"name":"meta.tag.object.math.$2.end.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"punctuation.definition.tag.end.html"},"4":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.element.object.math.$2.html","patterns":[{"begin":"(?<!>)\\\\G","end":"(?=/>)|>","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.object.start.html","patterns":[{"include":"#attribute"}]},{"include":"#tags"}]},{"captures":{"0":{"name":"meta.tag.other.invalid.void.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"invalid.illegal.unrecognized-tag.html"},"4":{"patterns":[{"include":"#attribute"}]},"6":{"name":"punctuation.definition.tag.end.html"}},"match":"(?i)(<)(([:\\\\w]+))(?=\\\\s|/?>)(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(/>)","name":"meta.element.other.invalid.html"},{"begin":"(?i)(<)((\\\\w[^>\\\\s]*))(?=\\\\s|/?>)(?:(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(>))?","beginCaptures":{"0":{"name":"meta.tag.other.invalid.start.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"invalid.illegal.unrecognized-tag.html"},"4":{"patterns":[{"include":"#attribute"}]},"6":{"name":"punctuation.definition.tag.end.html"}},"end":"(?i)(</)((\\\\2))\\\\s*(>)|(/>)|(?=</\\\\w+)","endCaptures":{"0":{"name":"meta.tag.other.invalid.end.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"invalid.illegal.unrecognized-tag.html"},"4":{"name":"punctuation.definition.tag.end.html"},"5":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.element.other.invalid.html","patterns":[{"begin":"(?<!>)\\\\G","end":"(?=/>)|>","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.other.invalid.start.html","patterns":[{"include":"#attribute"}]},{"include":"#tags"}]},{"include":"#tags-invalid"}]}}},"svg":{"patterns":[{"begin":"(?i)(<)(svg)(?=\\\\s|/?>)(?:(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(>))?","beginCaptures":{"0":{"name":"meta.tag.structure.$2.start.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"patterns":[{"include":"#attribute"}]},"5":{"name":"punctuation.definition.tag.end.html"}},"end":"(?i)(</)(\\\\2)\\\\s*(>)","endCaptures":{"0":{"name":"meta.tag.structure.$2.end.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.element.structure.$2.html","patterns":[{"begin":"(?<!>)\\\\G","end":">","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.structure.start.html","patterns":[{"include":"#attribute"}]},{"include":"#tags"}]}],"repository":{"attribute":{"patterns":[{"begin":"(s(hape-rendering|ystemLanguage|cale|t(yle|itchTiles|op-(color|opacity)|dDeviation|em([hv])|artOffset|r(i(ng|kethrough-(thickness|position))|oke(-(opacity|dash(offset|array)|width|line(cap|join)|miterlimit))?))|urfaceScale|p(e(cular(Constant|Exponent)|ed)|acing|readMethod)|eed|lope)|h(oriz-(origin-x|adv-x)|eight|anging|ref(lang)?)|y([12]|ChannelSelector)?|n(umOctaves|ame)|c(y|o(ntentS((?:cript|tyle)Type)|lor(-(interpolation(-filters)?|profile|rendering))?)|ursor|l(ip(-(path|rule)|PathUnits)?|ass)|a(p-height|lcMode)|x)|t(ype|o|ext(-(decoration|anchor|rendering)|Length)|a(rget([XY])?|b(index|leValues))|ransform)|i(n(tercept|2)?|d(eographic)?|mage-rendering)|z(oomAndPan)?|o(p(erator|acity)|ver(flow|line-(thickness|position))|ffset|r(i(ent(ation)?|gin)|der))|d(y|i(splay|visor|ffuseConstant|rection)|ominant-baseline|ur|e(scent|celerate)|x)?|u(1|n(i(code(-(range|bidi))?|ts-per-em)|derline-(thickness|position))|2)|p(ing|oint(s(At([XYZ]))?|er-events)|a(nose-1|t(h(Length)?|tern(ContentUnits|Transform|Units))|int-order)|r(imitiveUnits|eserveA(spectRatio|lpha)))|e(n(d|able-background)|dgeMode|levation|x(ternalResourcesRequired|ponent))|v(i(sibility|ew(Box|Target))|-(hanging|ideographic|alphabetic|mathematical)|e(ctor-effect|r(sion|t-(origin-([xy])|adv-y)))|alues)|k([123]|e(y(Splines|Times|Points)|rn(ing|el(Matrix|UnitLength)))|4)?|f(y|il(ter(Res|Units)?|l(-(opacity|rule))?)|o(nt-(s(t(yle|retch)|ize(-adjust)?)|variant|family|weight)|rmat)|lood-(color|opacity)|r(om)?|x)|w(idth(s)?|ord-spacing|riting-mode)|l(i(ghting-color|mitingConeAngle)|ocal|e(ngthAdjust|tter-spacing)|ang)|a(scent|cc(umulate|ent-height)|ttribute(Name|Type)|zimuth|dditive|utoReverse|l(ignment-baseline|phabetic|lowReorder)|rabic-form|mplitude)|r(y|otate|e(s(tart|ult)|ndering-intent|peat(Count|Dur)|quired(Extensions|Features)|f([XY]|errerPolicy)|l)|adius|x)?|g([12]|lyph(Ref|-(name|orientation-(horizontal|vertical)))|radient(Transform|Units))|x([12]|ChannelSelector|-height|link:(show|href|t(ype|itle)|a(ctuate|rcrole)|role)|ml:(space|lang|base))?|m(in|ode|e(thod|dia)|a(sk((?:Content|)Units)?|thematical|rker(Height|-(start|end|mid)|Units|Width)|x))|b(y|ias|egin|ase(Profile|line-shift|Frequency)|box))(?![-:\\\\w])","beginCaptures":{"0":{"name":"entity.other.attribute-name.html"}},"end":"(?=\\\\s*+[^=\\\\s])","name":"meta.attribute.$1.html","patterns":[{"include":"#attribute-interior"}]},{"begin":"([^\\\\x00- \\"'/<=>\\\\x7F-\\\\x{9F}-\\\\x{4FFFE}\\\\x{4FFFF}\\\\x{5FFFE}\\\\x{5FFFF}\\\\x{6FFFE}\\\\x{6FFFF}\\\\x{7FFFE}\\\\x{7FFFF}\\\\x{8FFFE}\\\\x{8FFFF}\\\\x{9FFFE}\\\\x{9FFFF}\\\\x{AFFFE}\\\\x{AFFFF}\\\\x{BFFFE}\\\\x{BFFFF}\\\\x{CFFFE}\\\\x{CFFFF}\\\\x{DFFFE}\\\\x{DFFFF}\\\\x{EFFFE}\\\\x{EFFFF}\\\\x{FFFFE}\\\\x{FFFFF}\\\\x{10FFFE}\\\\x{10FFFF}]+)","beginCaptures":{"0":{"name":"entity.other.attribute-name.html"}},"end":"(?=\\\\s*+[^=\\\\s])","name":"meta.attribute.unrecognized.$1.html","patterns":[{"include":"#attribute-interior"}]},{"match":"[^>\\\\s]+","name":"invalid.illegal.character-not-allowed-here.html"}]},"tags":{"patterns":[{"include":"#comment"},{"include":"#cdata"},{"captures":{"0":{"name":"meta.tag.metadata.svg.$2.void.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"patterns":[{"include":"#attribute"}]},"5":{"name":"punctuation.definition.tag.end.html"}},"match":"(?i)(<)(color-profile|desc|metadata|script|style|title)(?=\\\\s|/?>)(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(/>)","name":"meta.element.metadata.svg.$2.html"},{"begin":"(?i)(<)(color-profile|desc|metadata|script|style|title)(?=\\\\s|/?>)(?:(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(>))?","beginCaptures":{"0":{"name":"meta.tag.metadata.svg.$2.start.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"patterns":[{"include":"#attribute"}]},"5":{"name":"punctuation.definition.tag.end.html"}},"end":"(?i)(</)(\\\\2)\\\\s*(>)|(/>)|(?=</\\\\w+)","endCaptures":{"0":{"name":"meta.tag.metadata.svg.$2.end.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"punctuation.definition.tag.end.html"},"4":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.element.metadata.svg.$2.html","patterns":[{"begin":"(?<!>)\\\\G","end":"(?=/>)|>","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.metadata.start.html","patterns":[{"include":"#attribute"}]},{"include":"#tags"}]},{"captures":{"0":{"name":"meta.tag.structure.svg.$2.void.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"patterns":[{"include":"#attribute"}]},"5":{"name":"punctuation.definition.tag.end.html"}},"match":"(?i)(<)(animateMotion|clipPath|defs|feComponentTransfer|feDiffuseLighting|feMerge|feSpecularLighting|filter|g|hatch|linearGradient|marker|mask|mesh|meshgradient|meshpatch|meshrow|pattern|radialGradient|switch|text|textPath)(?=\\\\s|/?>)(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(/>)","name":"meta.element.structure.svg.$2.html"},{"begin":"(?i)(<)(animateMotion|clipPath|defs|feComponentTransfer|feDiffuseLighting|feMerge|feSpecularLighting|filter|g|hatch|linearGradient|marker|mask|mesh|meshgradient|meshpatch|meshrow|pattern|radialGradient|switch|text|textPath)(?=\\\\s|/?>)(?:(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(>))?","beginCaptures":{"0":{"name":"meta.tag.structure.svg.$2.start.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"patterns":[{"include":"#attribute"}]},"5":{"name":"punctuation.definition.tag.end.html"}},"end":"(?i)(</)(\\\\2)\\\\s*(>)|(/>)|(?=</\\\\w+)","endCaptures":{"0":{"name":"meta.tag.structure.svg.$2.end.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"punctuation.definition.tag.end.html"},"4":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.element.structure.svg.$2.html","patterns":[{"begin":"(?<!>)\\\\G","end":"(?=/>)|>","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.structure.start.html","patterns":[{"include":"#attribute"}]},{"include":"#tags"}]},{"captures":{"0":{"name":"meta.tag.inline.svg.$2.void.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"patterns":[{"include":"#attribute"}]},"5":{"name":"punctuation.definition.tag.end.html"}},"match":"(?i)(<)(a|animate|discard|feBlend|feColorMatrix|feComposite|feConvolveMatrix|feDisplacementMap|feDistantLight|feDropShadow|feFlood|feFuncA|feFuncB|feFuncG|feFuncR|feGaussianBlur|feMergeNode|feMorphology|feOffset|fePointLight|feSpotLight|feTile|feTurbulence|hatchPath|mpath|set|solidcolor|stop|tspan)(?=\\\\s|/?>)(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(/>)","name":"meta.element.inline.svg.$2.html"},{"begin":"(?i)(<)(a|animate|discard|feBlend|feColorMatrix|feComposite|feConvolveMatrix|feDisplacementMap|feDistantLight|feDropShadow|feFlood|feFuncA|feFuncB|feFuncG|feFuncR|feGaussianBlur|feMergeNode|feMorphology|feOffset|fePointLight|feSpotLight|feTile|feTurbulence|hatchPath|mpath|set|solidcolor|stop|tspan)(?=\\\\s|/?>)(?:(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(>))?","beginCaptures":{"0":{"name":"meta.tag.inline.svg.$2.start.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"patterns":[{"include":"#attribute"}]},"5":{"name":"punctuation.definition.tag.end.html"}},"end":"(?i)(</)(\\\\2)\\\\s*(>)|(/>)|(?=</\\\\w+)","endCaptures":{"0":{"name":"meta.tag.inline.svg.$2.end.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"punctuation.definition.tag.end.html"},"4":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.element.inline.svg.$2.html","patterns":[{"begin":"(?<!>)\\\\G","end":"(?=/>)|>","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.inline.start.html","patterns":[{"include":"#attribute"}]},{"include":"#tags"}]},{"captures":{"0":{"name":"meta.tag.object.svg.$2.void.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"patterns":[{"include":"#attribute"}]},"5":{"name":"punctuation.definition.tag.end.html"}},"match":"(?i)(<)(circle|ellipse|feImage|foreignObject|image|line|path|polygon|polyline|rect|symbol|use|view)(?=\\\\s|/?>)(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(/>)","name":"meta.element.object.svg.$2.html"},{"begin":"(?i)(<)(a|circle|ellipse|feImage|foreignObject|image|line|path|polygon|polyline|rect|symbol|use|view)(?=\\\\s|/?>)(?:(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(>))?","beginCaptures":{"0":{"name":"meta.tag.object.svg.$2.start.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"patterns":[{"include":"#attribute"}]},"5":{"name":"punctuation.definition.tag.end.html"}},"end":"(?i)(</)(\\\\2)\\\\s*(>)|(/>)|(?=</\\\\w+)","endCaptures":{"0":{"name":"meta.tag.object.svg.$2.end.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"punctuation.definition.tag.end.html"},"4":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.element.object.svg.$2.html","patterns":[{"begin":"(?<!>)\\\\G","end":"(?=/>)|>","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.object.start.html","patterns":[{"include":"#attribute"}]},{"include":"#tags"}]},{"captures":{"0":{"name":"meta.tag.other.svg.$2.void.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"invalid.deprecated.html"},"4":{"patterns":[{"include":"#attribute"}]},"6":{"name":"punctuation.definition.tag.end.html"}},"match":"(?i)(<)((altGlyph|altGlyphDef|altGlyphItem|animateColor|animateTransform|cursor|font|font-face|font-face-format|font-face-name|font-face-src|font-face-uri|glyph|glyphRef|hkern|missing-glyph|tref|vkern))(?=\\\\s|/?>)(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(/>)","name":"meta.element.other.svg.$2.html"},{"begin":"(?i)(<)((altGlyph|altGlyphDef|altGlyphItem|animateColor|animateTransform|cursor|font|font-face|font-face-format|font-face-name|font-face-src|font-face-uri|glyph|glyphRef|hkern|missing-glyph|tref|vkern))(?=\\\\s|/?>)(?:(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(>))?","beginCaptures":{"0":{"name":"meta.tag.other.svg.$2.start.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"invalid.deprecated.html"},"4":{"patterns":[{"include":"#attribute"}]},"6":{"name":"punctuation.definition.tag.end.html"}},"end":"(?i)(</)((\\\\2))\\\\s*(>)|(/>)|(?=</\\\\w+)","endCaptures":{"0":{"name":"meta.tag.other.svg.$2.end.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"invalid.deprecated.html"},"4":{"name":"punctuation.definition.tag.end.html"},"5":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.element.other.svg.$2.html","patterns":[{"begin":"(?<!>)\\\\G","end":"(?=/>)|>","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.other.start.html","patterns":[{"include":"#attribute"}]},{"include":"#tags"}]},{"captures":{"0":{"name":"meta.tag.other.invalid.void.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"invalid.illegal.unrecognized-tag.html"},"4":{"patterns":[{"include":"#attribute"}]},"6":{"name":"punctuation.definition.tag.end.html"}},"match":"(?i)(<)(([:\\\\w]+))(?=\\\\s|/?>)(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(/>)","name":"meta.element.other.invalid.html"},{"begin":"(?i)(<)((\\\\w[^>\\\\s]*))(?=\\\\s|/?>)(?:(([^\\"'>]|\\"[^\\"]*\\"|'[^']*')*)(>))?","beginCaptures":{"0":{"name":"meta.tag.other.invalid.start.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"invalid.illegal.unrecognized-tag.html"},"4":{"patterns":[{"include":"#attribute"}]},"6":{"name":"punctuation.definition.tag.end.html"}},"end":"(?i)(</)((\\\\2))\\\\s*(>)|(/>)|(?=</\\\\w+)","endCaptures":{"0":{"name":"meta.tag.other.invalid.end.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"invalid.illegal.unrecognized-tag.html"},"4":{"name":"punctuation.definition.tag.end.html"},"5":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.element.other.invalid.html","patterns":[{"begin":"(?<!>)\\\\G","end":"(?=/>)|>","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.other.invalid.start.html","patterns":[{"include":"#attribute"}]},{"include":"#tags"}]},{"include":"#tags-invalid"}]}}},"tags-invalid":{"patterns":[{"begin":"(</?)((\\\\w[^>\\\\s]*))(?<!/)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"invalid.illegal.unrecognized-tag.html"}},"end":"((?: ?/)?>)","endCaptures":{"1":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.other.$2.html","patterns":[{"include":"#attribute"}]}]},"tags-valid":{"patterns":[{"begin":"(^[\\\\t ]+)?(?=<(?i:style)\\\\b(?!-))","beginCaptures":{"1":{"name":"punctuation.whitespace.embedded.leading.html"}},"end":"(?!\\\\G)([\\\\t ]*$\\\\n?)?","endCaptures":{"1":{"name":"punctuation.whitespace.embedded.trailing.html"}},"patterns":[{"begin":"(?i)(<)(style)(?=\\\\s|/?>)","beginCaptures":{"0":{"name":"meta.tag.metadata.style.start.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"}},"end":"(?i)((<)/)(style)\\\\s*(>)","endCaptures":{"0":{"name":"meta.tag.metadata.style.end.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"source.css-ignored-vscode"},"3":{"name":"entity.name.tag.html"},"4":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.embedded.block.html","patterns":[{"begin":"\\\\G","captures":{"1":{"name":"punctuation.definition.tag.end.html"}},"end":"(>)","name":"meta.tag.metadata.style.start.html","patterns":[{"include":"#attribute"}]},{"begin":"(?!\\\\G)","end":"(?=</(?i:style))","name":"source.css","patterns":[{"include":"source.css"}]}]}]},{"begin":"(^[\\\\t ]+)?(?=<(?i:script)\\\\b(?!-))","beginCaptures":{"1":{"name":"punctuation.whitespace.embedded.leading.html"}},"end":"(?!\\\\G)([\\\\t ]*$\\\\n?)?","endCaptures":{"1":{"name":"punctuation.whitespace.embedded.trailing.html"}},"patterns":[{"begin":"(<)((?i:script))\\\\b","beginCaptures":{"0":{"name":"meta.tag.metadata.script.start.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"}},"end":"(/)((?i:script))(>)","endCaptures":{"0":{"name":"meta.tag.metadata.script.end.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.embedded.block.html","patterns":[{"begin":"\\\\G","end":"(?=/)","patterns":[{"begin":"(>)","beginCaptures":{"0":{"name":"meta.tag.metadata.script.start.html"},"1":{"name":"punctuation.definition.tag.end.html"}},"end":"((<))(?=/(?i:script))","endCaptures":{"0":{"name":"meta.tag.metadata.script.end.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"source.js-ignored-vscode"}},"patterns":[{"begin":"\\\\G","end":"(?=</(?i:script))","name":"source.js","patterns":[{"begin":"(^[\\\\t ]+)?(?=//)","beginCaptures":{"1":{"name":"punctuation.whitespace.comment.leading.js"}},"end":"(?!\\\\G)","patterns":[{"begin":"//","beginCaptures":{"0":{"name":"punctuation.definition.comment.js"}},"end":"(?=<\/script)|\\\\n","name":"comment.line.double-slash.js"}]},{"begin":"/\\\\*","captures":{"0":{"name":"punctuation.definition.comment.js"}},"end":"\\\\*/|(?=<\/script)","name":"comment.block.js"},{"include":"source.js"}]}]},{"begin":"\\\\G","end":"(?i:(?=>|type(?=[=\\\\s])(?!\\\\s*=\\\\s*(''|\\"\\"|([\\"']?)(text/(javascript(1\\\\.[0-5])?|x-javascript|jscript|livescript|(x-)?ecmascript|babel)|application/((?:(x-)?jav|(x-)?ecm)ascript)|module)[\\"'>\\\\s]))))","name":"meta.tag.metadata.script.start.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i:(?=type\\\\s*=\\\\s*([\\"']?)text/(x-handlebars|(x-(handlebars-)?|ng-)?template|html)[\\"'>\\\\s]))","end":"((<))(?=/(?i:script))","endCaptures":{"0":{"name":"meta.tag.metadata.script.end.html"},"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"text.html.basic"}},"patterns":[{"begin":"\\\\G","end":"(>)","endCaptures":{"1":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.metadata.script.start.html","patterns":[{"include":"#attribute"}]},{"begin":"(?!\\\\G)","end":"(?=</(?i:script))","name":"text.html.basic","patterns":[{"include":"text.html.basic"}]}]},{"begin":"(?=(?i:type))","end":"(<)(?=/(?i:script))","endCaptures":{"0":{"name":"meta.tag.metadata.script.end.html"},"1":{"name":"punctuation.definition.tag.begin.html"}},"patterns":[{"begin":"\\\\G","end":"(>)","endCaptures":{"1":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.metadata.script.start.html","patterns":[{"include":"#attribute"}]},{"begin":"(?!\\\\G)","end":"(?=</(?i:script))","name":"source.unknown"}]}]}]}]},{"begin":"(?i)(<)(base|link|meta)(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"}},"end":"/?>","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.metadata.$2.void.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i)(<)(noscript|title)(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.metadata.$2.start.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i)(</)(noscript|title)(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.metadata.$2.end.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i)(<)(col|hr|input)(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"}},"end":"/?>","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.structure.$2.void.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i)(<)(address|article|aside|blockquote|body|button|caption|colgroup|datalist|dd|details|dialog|div|dl|dt|fieldset|figcaption|figure|footer|form|head|header|hgroup|html|h[1-6]|label|legend|li|main|map|menu|meter|nav|ol|optgroup|option|output|p|pre|progress|section|select|slot|summary|table|tbody|td|template|textarea|tfoot|th|thead|tr|ul)(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.structure.$2.start.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i)(</)(address|article|aside|blockquote|body|button|caption|colgroup|datalist|dd|details|dialog|div|dl|dt|fieldset|figcaption|figure|footer|form|head|header|hgroup|html|h[1-6]|label|legend|li|main|map|menu|meter|nav|ol|optgroup|option|output|p|pre|progress|section|select|slot|summary|table|tbody|td|template|textarea|tfoot|th|thead|tr|ul)(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.structure.$2.end.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i)(<)(area|br|wbr)(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"}},"end":"/?>","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.inline.$2.void.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i)(<)(a|abbr|b|bdi|bdo|cite|code|data|del|dfn|em|i|ins|kbd|mark|q|rp|rt|ruby|s|samp|small|span|strong|sub|sup|time|u|var)(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.inline.$2.start.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i)(</)(a|abbr|b|bdi|bdo|cite|code|data|del|dfn|em|i|ins|kbd|mark|q|rp|rt|ruby|s|samp|small|span|strong|sub|sup|time|u|var)(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.inline.$2.end.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i)(<)(embed|img|param|source|track)(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"}},"end":"/?>","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.object.$2.void.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i)(<)(audio|canvas|iframe|object|picture|video)(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.object.$2.start.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i)(</)(audio|canvas|iframe|object|picture|video)(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.object.$2.end.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i)(<)((basefont|isindex))(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"invalid.deprecated.html"}},"end":"/?>","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.metadata.$2.void.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i)(<)((center|frameset|noembed|noframes))(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"invalid.deprecated.html"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.structure.$2.start.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i)(</)((center|frameset|noembed|noframes))(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"invalid.deprecated.html"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.structure.$2.end.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i)(<)((acronym|big|blink|font|strike|tt|xmp))(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"invalid.deprecated.html"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.inline.$2.start.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i)(</)((acronym|big|blink|font|strike|tt|xmp))(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"invalid.deprecated.html"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.inline.$2.end.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i)(<)((frame))(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"invalid.deprecated.html"}},"end":"/?>","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.object.$2.void.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i)(<)((applet))(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"invalid.deprecated.html"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.object.$2.start.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i)(</)((applet))(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"invalid.deprecated.html"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.object.$2.end.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i)(<)((dir|keygen|listing|menuitem|plaintext|spacer))(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"invalid.illegal.no-longer-supported.html"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.other.$2.start.html","patterns":[{"include":"#attribute"}]},{"begin":"(?i)(</)((dir|keygen|listing|menuitem|plaintext|spacer))(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"},"3":{"name":"invalid.illegal.no-longer-supported.html"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.other.$2.end.html","patterns":[{"include":"#attribute"}]},{"include":"#math"},{"include":"#svg"},{"begin":"(<)([A-Za-z][.0-9A-Z_a-z----------\\\\x{EFFFF}]*-[-.0-9A-Z_a-z----------\\\\x{EFFFF}]*)(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"}},"end":"/?>","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.custom.start.html","patterns":[{"include":"#attribute"}]},{"begin":"(</)([A-Za-z][.0-9A-Z_a-z----------\\\\x{EFFFF}]*-[-.0-9A-Z_a-z----------\\\\x{EFFFF}]*)(?=\\\\s|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.html"},"2":{"name":"entity.name.tag.html"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.tag.end.html"}},"name":"meta.tag.custom.end.html","patterns":[{"include":"#attribute"}]}]},"xml-processing":{"begin":"(<\\\\?)(xml)","captures":{"1":{"name":"punctuation.definition.tag.html"},"2":{"name":"entity.name.tag.html"}},"end":"(\\\\?>)","name":"meta.tag.metadata.processing.xml.html","patterns":[{"include":"#attribute"}]}},"scopeName":"text.html.basic","embeddedLangs":["javascript","css"]}`)),jz=[...z6,...B6,k9e],NQe=Object.freeze(Object.defineProperty({__proto__:null,default:jz},Symbol.toStringTag,{value:"Module"})),_9e=Object.freeze(JSON.parse('{"displayName":"JSON","name":"json","patterns":[{"include":"#value"}],"repository":{"array":{"begin":"\\\\[","beginCaptures":{"0":{"name":"punctuation.definition.array.begin.json"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.array.end.json"}},"name":"meta.structure.array.json","patterns":[{"include":"#value"},{"match":",","name":"punctuation.separator.array.json"},{"match":"[^]\\\\s]","name":"invalid.illegal.expected-array-separator.json"}]},"comments":{"patterns":[{"begin":"/\\\\*\\\\*(?!/)","captures":{"0":{"name":"punctuation.definition.comment.json"}},"end":"\\\\*/","name":"comment.block.documentation.json"},{"begin":"/\\\\*","captures":{"0":{"name":"punctuation.definition.comment.json"}},"end":"\\\\*/","name":"comment.block.json"},{"captures":{"1":{"name":"punctuation.definition.comment.json"}},"match":"(//).*$\\\\n?","name":"comment.line.double-slash.js"}]},"constant":{"match":"\\\\b(?:true|false|null)\\\\b","name":"constant.language.json"},"number":{"match":"-?(?:0|[1-9]\\\\d*)(?:(?:\\\\.\\\\d+)?(?:[Ee][-+]?\\\\d+)?)?","name":"constant.numeric.json"},"object":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.dictionary.begin.json"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.dictionary.end.json"}},"name":"meta.structure.dictionary.json","patterns":[{"include":"#objectkey"},{"include":"#comments"},{"begin":":","beginCaptures":{"0":{"name":"punctuation.separator.dictionary.key-value.json"}},"end":"(,)|(?=})","endCaptures":{"1":{"name":"punctuation.separator.dictionary.pair.json"}},"name":"meta.structure.dictionary.value.json","patterns":[{"include":"#value"},{"match":"[^,\\\\s]","name":"invalid.illegal.expected-dictionary-separator.json"}]},{"match":"[^}\\\\s]","name":"invalid.illegal.expected-dictionary-separator.json"}]},"objectkey":{"begin":"\\"","beginCaptures":{"0":{"name":"punctuation.support.type.property-name.begin.json"}},"end":"\\"","endCaptures":{"0":{"name":"punctuation.support.type.property-name.end.json"}},"name":"string.json support.type.property-name.json","patterns":[{"include":"#stringcontent"}]},"string":{"begin":"\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.json"}},"end":"\\"","endCaptures":{"0":{"name":"punctuation.definition.string.end.json"}},"name":"string.quoted.double.json","patterns":[{"include":"#stringcontent"}]},"stringcontent":{"patterns":[{"match":"\\\\\\\\(?:[\\"/\\\\\\\\bfnrt]|u\\\\h{4})","name":"constant.character.escape.json"},{"match":"\\\\\\\\.","name":"invalid.illegal.unrecognized-string-escape.json"}]},"value":{"patterns":[{"include":"#constant"},{"include":"#number"},{"include":"#string"},{"include":"#array"},{"include":"#object"},{"include":"#comments"}]}},"scopeName":"source.json"}')),Tz=[_9e],$Qe=Object.freeze(Object.defineProperty({__proto__:null,default:Tz},Symbol.toStringTag,{value:"Module"})),C9e=Object.freeze(JSON.parse(`{"displayName":"JSX","name":"jsx","patterns":[{"include":"#directives"},{"include":"#statements"},{"include":"#shebang"}],"repository":{"access-modifier":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(abstract|declare|override|public|protected|private|readonly|static)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"storage.modifier.js.jsx"},"after-operator-block-as-object-literal":{"begin":"(?<!\\\\+\\\\+|--)(?<=[!(+,:=>?\\\\[]|^await|[^$._[:alnum:]]await|^return|[^$._[:alnum:]]return|^yield|[^$._[:alnum:]]yield|^throw|[^$._[:alnum:]]throw|^in|[^$._[:alnum:]]in|^of|[^$._[:alnum:]]of|^typeof|[^$._[:alnum:]]typeof|&&|\\\\|\\\\||\\\\*)\\\\s*(\\\\{)","beginCaptures":{"1":{"name":"punctuation.definition.block.js.jsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.js.jsx"}},"name":"meta.objectliteral.js.jsx","patterns":[{"include":"#object-member"}]},"array-binding-pattern":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\[)","beginCaptures":{"1":{"name":"keyword.operator.rest.js.jsx"},"2":{"name":"punctuation.definition.binding-pattern.array.js.jsx"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.array.js.jsx"}},"patterns":[{"include":"#binding-element"},{"include":"#punctuation-comma"}]},"array-binding-pattern-const":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\[)","beginCaptures":{"1":{"name":"keyword.operator.rest.js.jsx"},"2":{"name":"punctuation.definition.binding-pattern.array.js.jsx"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.array.js.jsx"}},"patterns":[{"include":"#binding-element-const"},{"include":"#punctuation-comma"}]},"array-literal":{"begin":"\\\\s*(\\\\[)","beginCaptures":{"1":{"name":"meta.brace.square.js.jsx"}},"end":"]","endCaptures":{"0":{"name":"meta.brace.square.js.jsx"}},"name":"meta.array.literal.js.jsx","patterns":[{"include":"#expression"},{"include":"#punctuation-comma"}]},"arrow-function":{"patterns":[{"captures":{"1":{"name":"storage.modifier.async.js.jsx"},"2":{"name":"variable.parameter.js.jsx"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))\\\\b(async)\\\\s+)?([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?==>)","name":"meta.arrow.js.jsx"},{"begin":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))\\\\b(async))?((?<![]!)}])\\\\s*(?=((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))","beginCaptures":{"1":{"name":"storage.modifier.async.js.jsx"}},"end":"(?==>|\\\\{|^(\\\\s*(export|function|class|interface|let|var|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|const|import|enum|namespace|module|type|abstract|declare)\\\\s+))","name":"meta.arrow.js.jsx","patterns":[{"include":"#comment"},{"include":"#type-parameters"},{"include":"#function-parameters"},{"include":"#arrow-return-type"},{"include":"#possibly-arrow-return-type"}]},{"begin":"=>","beginCaptures":{"0":{"name":"storage.type.function.arrow.js.jsx"}},"end":"((?<=[}\\\\S])(?<!=>)|((?!\\\\{)(?=\\\\S)))(?!/[*/])","name":"meta.arrow.js.jsx","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#decl-block"},{"include":"#expression"}]}]},"arrow-return-type":{"begin":"(?<=\\\\))\\\\s*(:)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.js.jsx"}},"end":"(?==>|\\\\{|^(\\\\s*(export|function|class|interface|let|var|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|const|import|enum|namespace|module|type|abstract|declare)\\\\s+))","name":"meta.return.type.arrow.js.jsx","patterns":[{"include":"#arrow-return-type-body"}]},"arrow-return-type-body":{"patterns":[{"begin":"(?<=:)(?=\\\\s*\\\\{)","end":"(?<=})","patterns":[{"include":"#type-object"}]},{"include":"#type-predicate-operator"},{"include":"#type"}]},"async-modifier":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(async)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"storage.modifier.async.js.jsx"},"binding-element":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#numeric-literal"},{"include":"#regex"},{"include":"#object-binding-pattern"},{"include":"#array-binding-pattern"},{"include":"#destructuring-variable-rest"},{"include":"#variable-initializer"}]},"binding-element-const":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#numeric-literal"},{"include":"#regex"},{"include":"#object-binding-pattern-const"},{"include":"#array-binding-pattern-const"},{"include":"#destructuring-variable-rest-const"},{"include":"#variable-initializer"}]},"boolean-literal":{"patterns":[{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))true(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.boolean.true.js.jsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))false(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.boolean.false.js.jsx"}]},"brackets":{"patterns":[{"begin":"\\\\{","end":"}|(?=\\\\*/)","patterns":[{"include":"#brackets"}]},{"begin":"\\\\[","end":"]|(?=\\\\*/)","patterns":[{"include":"#brackets"}]}]},"cast":{"patterns":[{"include":"#jsx"}]},"class-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(?:(abstract)\\\\s+)?\\\\b(class)\\\\b(?=\\\\s+|/[*/])","beginCaptures":{"1":{"name":"keyword.control.export.js.jsx"},"2":{"name":"storage.modifier.js.jsx"},"3":{"name":"storage.modifier.js.jsx"},"4":{"name":"storage.type.class.js.jsx"}},"end":"(?<=})","name":"meta.class.js.jsx","patterns":[{"include":"#class-declaration-or-expression-patterns"}]},"class-declaration-or-expression-patterns":{"patterns":[{"include":"#comment"},{"include":"#class-or-interface-heritage"},{"captures":{"0":{"name":"entity.name.type.class.js.jsx"}},"match":"[$_[:alpha:]][$_[:alnum:]]*"},{"include":"#type-parameters"},{"include":"#class-or-interface-body"}]},"class-expression":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(abstract)\\\\s+)?(class)\\\\b(?=\\\\s+|[<{]|/[*/])","beginCaptures":{"1":{"name":"storage.modifier.js.jsx"},"2":{"name":"storage.type.class.js.jsx"}},"end":"(?<=})","name":"meta.class.js.jsx","patterns":[{"include":"#class-declaration-or-expression-patterns"}]},"class-or-interface-body":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.js.jsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.js.jsx"}},"patterns":[{"include":"#comment"},{"include":"#decorator"},{"begin":"(?<=:)\\\\s*","end":"(?=[-\\\\])+,:;}\\\\s]|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","patterns":[{"include":"#expression"}]},{"include":"#method-declaration"},{"include":"#indexer-declaration"},{"include":"#field-declaration"},{"include":"#string"},{"include":"#type-annotation"},{"include":"#variable-initializer"},{"include":"#access-modifier"},{"include":"#property-accessor"},{"include":"#async-modifier"},{"include":"#after-operator-block-as-object-literal"},{"include":"#decl-block"},{"include":"#expression"},{"include":"#punctuation-comma"},{"include":"#punctuation-semicolon"}]},"class-or-interface-heritage":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))\\\\b(extends|implements)\\\\b(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"storage.modifier.js.jsx"}},"end":"(?=\\\\{)","patterns":[{"include":"#comment"},{"include":"#class-or-interface-heritage"},{"include":"#type-parameters"},{"include":"#expressionWithoutIdentifiers"},{"captures":{"1":{"name":"entity.name.type.module.js.jsx"},"2":{"name":"punctuation.accessor.js.jsx"},"3":{"name":"punctuation.accessor.optional.js.jsx"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))(?=\\\\s*[$_[:alpha:]][$_[:alnum:]]*(\\\\s*\\\\??\\\\.\\\\s*[$_[:alpha:]][$_[:alnum:]]*)*\\\\s*)"},{"captures":{"1":{"name":"entity.other.inherited-class.js.jsx"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)"},{"include":"#expressionPunctuations"}]},"comment":{"patterns":[{"begin":"/\\\\*\\\\*(?!/)","beginCaptures":{"0":{"name":"punctuation.definition.comment.js.jsx"}},"end":"\\\\*/","endCaptures":{"0":{"name":"punctuation.definition.comment.js.jsx"}},"name":"comment.block.documentation.js.jsx","patterns":[{"include":"#docblock"}]},{"begin":"(/\\\\*)(?:\\\\s*((@)internal)(?=\\\\s|(\\\\*/)))?","beginCaptures":{"1":{"name":"punctuation.definition.comment.js.jsx"},"2":{"name":"storage.type.internaldeclaration.js.jsx"},"3":{"name":"punctuation.decorator.internaldeclaration.js.jsx"}},"end":"\\\\*/","endCaptures":{"0":{"name":"punctuation.definition.comment.js.jsx"}},"name":"comment.block.js.jsx"},{"begin":"(^[\\\\t ]+)?((//)(?:\\\\s*((@)internal)(?=\\\\s|$))?)","beginCaptures":{"1":{"name":"punctuation.whitespace.comment.leading.js.jsx"},"2":{"name":"comment.line.double-slash.js.jsx"},"3":{"name":"punctuation.definition.comment.js.jsx"},"4":{"name":"storage.type.internaldeclaration.js.jsx"},"5":{"name":"punctuation.decorator.internaldeclaration.js.jsx"}},"contentName":"comment.line.double-slash.js.jsx","end":"(?=$)"}]},"control-statement":{"patterns":[{"include":"#switch-statement"},{"include":"#for-loop"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(catch|finally|throw|try)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.trycatch.js.jsx"},{"captures":{"1":{"name":"keyword.control.loop.js.jsx"},"2":{"name":"entity.name.label.js.jsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(break|continue|goto)\\\\s+([$_[:alpha:]][$_[:alnum:]]*)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(break|continue|do|goto|while)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.loop.js.jsx"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(return)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"0":{"name":"keyword.control.flow.js.jsx"}},"end":"(?=[;}]|$|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","patterns":[{"include":"#expression"}]},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(case|default|switch)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.switch.js.jsx"},{"include":"#if-statement"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(else|if)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.conditional.js.jsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(with)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.with.js.jsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(package)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.js.jsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(debugger)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.other.debugger.js.jsx"}]},"decl-block":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.js.jsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.js.jsx"}},"name":"meta.block.js.jsx","patterns":[{"include":"#statements"}]},"declaration":{"patterns":[{"include":"#decorator"},{"include":"#var-expr"},{"include":"#function-declaration"},{"include":"#class-declaration"},{"include":"#interface-declaration"},{"include":"#enum-declaration"},{"include":"#namespace-declaration"},{"include":"#type-alias-declaration"},{"include":"#import-equals-declaration"},{"include":"#import-declaration"},{"include":"#export-declaration"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(declare|export)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"storage.modifier.js.jsx"}]},"decorator":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))@","beginCaptures":{"0":{"name":"punctuation.decorator.js.jsx"}},"end":"(?=\\\\s)","name":"meta.decorator.js.jsx","patterns":[{"include":"#expression"}]},"destructuring-const":{"patterns":[{"begin":"(?<![:=]|^of|[^$._[:alnum:]]of|^in|[^$._[:alnum:]]in)\\\\s*(?=\\\\{)","end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))","name":"meta.object-binding-pattern-variable.js.jsx","patterns":[{"include":"#object-binding-pattern-const"},{"include":"#type-annotation"},{"include":"#comment"}]},{"begin":"(?<![:=]|^of|[^$._[:alnum:]]of|^in|[^$._[:alnum:]]in)\\\\s*(?=\\\\[)","end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))","name":"meta.array-binding-pattern-variable.js.jsx","patterns":[{"include":"#array-binding-pattern-const"},{"include":"#type-annotation"},{"include":"#comment"}]}]},"destructuring-parameter":{"patterns":[{"begin":"(?<![:=])\\\\s*(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\{)","beginCaptures":{"1":{"name":"keyword.operator.rest.js.jsx"},"2":{"name":"punctuation.definition.binding-pattern.object.js.jsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.object.js.jsx"}},"name":"meta.parameter.object-binding-pattern.js.jsx","patterns":[{"include":"#parameter-object-binding-element"}]},{"begin":"(?<![:=])\\\\s*(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\[)","beginCaptures":{"1":{"name":"keyword.operator.rest.js.jsx"},"2":{"name":"punctuation.definition.binding-pattern.array.js.jsx"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.array.js.jsx"}},"name":"meta.paramter.array-binding-pattern.js.jsx","patterns":[{"include":"#parameter-binding-element"},{"include":"#punctuation-comma"}]}]},"destructuring-parameter-rest":{"captures":{"1":{"name":"keyword.operator.rest.js.jsx"},"2":{"name":"variable.parameter.js.jsx"}},"match":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?([$_[:alpha:]][$_[:alnum:]]*)"},"destructuring-variable":{"patterns":[{"begin":"(?<![:=]|^of|[^$._[:alnum:]]of|^in|[^$._[:alnum:]]in)\\\\s*(?=\\\\{)","end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))","name":"meta.object-binding-pattern-variable.js.jsx","patterns":[{"include":"#object-binding-pattern"},{"include":"#type-annotation"},{"include":"#comment"}]},{"begin":"(?<![:=]|^of|[^$._[:alnum:]]of|^in|[^$._[:alnum:]]in)\\\\s*(?=\\\\[)","end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))","name":"meta.array-binding-pattern-variable.js.jsx","patterns":[{"include":"#array-binding-pattern"},{"include":"#type-annotation"},{"include":"#comment"}]}]},"destructuring-variable-rest":{"captures":{"1":{"name":"keyword.operator.rest.js.jsx"},"2":{"name":"meta.definition.variable.js.jsx variable.other.readwrite.js.jsx"}},"match":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?([$_[:alpha:]][$_[:alnum:]]*)"},"destructuring-variable-rest-const":{"captures":{"1":{"name":"keyword.operator.rest.js.jsx"},"2":{"name":"meta.definition.variable.js.jsx variable.other.constant.js.jsx"}},"match":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?([$_[:alpha:]][$_[:alnum:]]*)"},"directives":{"begin":"^(///)\\\\s*(?=<(reference|amd-dependency|amd-module)(\\\\s+(path|types|no-default-lib|lib|name|resolution-mode)\\\\s*=\\\\s*(('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)))+\\\\s*/>\\\\s*$)","beginCaptures":{"1":{"name":"punctuation.definition.comment.js.jsx"}},"end":"(?=$)","name":"comment.line.triple-slash.directive.js.jsx","patterns":[{"begin":"(<)(reference|amd-dependency|amd-module)","beginCaptures":{"1":{"name":"punctuation.definition.tag.directive.js.jsx"},"2":{"name":"entity.name.tag.directive.js.jsx"}},"end":"/>","endCaptures":{"0":{"name":"punctuation.definition.tag.directive.js.jsx"}},"name":"meta.tag.js.jsx","patterns":[{"match":"path|types|no-default-lib|lib|name|resolution-mode","name":"entity.other.attribute-name.directive.js.jsx"},{"match":"=","name":"keyword.operator.assignment.js.jsx"},{"include":"#string"}]}]},"docblock":{"patterns":[{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"constant.language.access-type.jsdoc"}},"match":"((@)a(?:ccess|pi))\\\\s+(p(?:rivate|rotected|ublic))\\\\b"},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"entity.name.type.instance.jsdoc"},"4":{"name":"punctuation.definition.bracket.angle.begin.jsdoc"},"5":{"name":"constant.other.email.link.underline.jsdoc"},"6":{"name":"punctuation.definition.bracket.angle.end.jsdoc"}},"match":"((@)author)\\\\s+([^*/<>@\\\\s](?:[^*/<>@]|\\\\*[^/])*)(?:\\\\s*(<)([^>\\\\s]+)(>))?"},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"entity.name.type.instance.jsdoc"},"4":{"name":"keyword.operator.control.jsdoc"},"5":{"name":"entity.name.type.instance.jsdoc"}},"match":"((@)borrows)\\\\s+((?:[^*/@\\\\s]|\\\\*[^/])+)\\\\s+(as)\\\\s+((?:[^*/@\\\\s]|\\\\*[^/])+)"},{"begin":"((@)example)\\\\s+","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=@|\\\\*/)","name":"meta.example.jsdoc","patterns":[{"match":"^\\\\s\\\\*\\\\s+"},{"begin":"\\\\G(<)caption(>)","beginCaptures":{"0":{"name":"entity.name.tag.inline.jsdoc"},"1":{"name":"punctuation.definition.bracket.angle.begin.jsdoc"},"2":{"name":"punctuation.definition.bracket.angle.end.jsdoc"}},"contentName":"constant.other.description.jsdoc","end":"(</)caption(>)|(?=\\\\*/)","endCaptures":{"0":{"name":"entity.name.tag.inline.jsdoc"},"1":{"name":"punctuation.definition.bracket.angle.begin.jsdoc"},"2":{"name":"punctuation.definition.bracket.angle.end.jsdoc"}}},{"captures":{"0":{"name":"source.embedded.js.jsx"}},"match":"[^*@\\\\s](?:[^*]|\\\\*[^/])*"}]},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"constant.language.symbol-type.jsdoc"}},"match":"((@)kind)\\\\s+(class|constant|event|external|file|function|member|mixin|module|namespace|typedef)\\\\b"},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.link.underline.jsdoc"},"4":{"name":"entity.name.type.instance.jsdoc"}},"match":"((@)see)\\\\s+(?:((?=https?://)(?:[^*\\\\s]|\\\\*[^/])+)|((?!https?://|(?:\\\\[[^]\\\\[]*])?\\\\{@(?:link|linkcode|linkplain|tutorial)\\\\b)(?:[^*/@\\\\s]|\\\\*[^/])+))"},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.jsdoc"}},"match":"((@)template)\\\\s+([$A-Z_a-z][]$.\\\\[\\\\w]*(?:\\\\s*,\\\\s*[$A-Z_a-z][]$.\\\\[\\\\w]*)*)"},{"begin":"((@)template)\\\\s+(?=\\\\{)","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=\\\\s|\\\\*/|[^]$A-\\\\[_a-{}])","patterns":[{"include":"#jsdoctype"},{"match":"([$A-Z_a-z][]$.\\\\[\\\\w]*)","name":"variable.other.jsdoc"}]},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.jsdoc"}},"match":"((@)(?:arg|argument|const|constant|member|namespace|param|var))\\\\s+([$A-Z_a-z][]$.\\\\[\\\\w]*)"},{"begin":"((@)typedef)\\\\s+(?=\\\\{)","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=\\\\s|\\\\*/|[^]$A-\\\\[_a-{}])","patterns":[{"include":"#jsdoctype"},{"match":"(?:[^*/@\\\\s]|\\\\*[^/])+","name":"entity.name.type.instance.jsdoc"}]},{"begin":"((@)(?:arg|argument|const|constant|member|namespace|param|prop|property|var))\\\\s+(?=\\\\{)","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=\\\\s|\\\\*/|[^]$A-\\\\[_a-{}])","patterns":[{"include":"#jsdoctype"},{"match":"([$A-Z_a-z][]$.\\\\[\\\\w]*)","name":"variable.other.jsdoc"},{"captures":{"1":{"name":"punctuation.definition.optional-value.begin.bracket.square.jsdoc"},"2":{"name":"keyword.operator.assignment.jsdoc"},"3":{"name":"source.embedded.js.jsx"},"4":{"name":"punctuation.definition.optional-value.end.bracket.square.jsdoc"},"5":{"name":"invalid.illegal.syntax.jsdoc"}},"match":"(\\\\[)\\\\s*[$\\\\w]+(?:(?:\\\\[])?\\\\.[$\\\\w]+)*(?:\\\\s*(=)\\\\s*((?>\\"(?:\\\\*(?!/)|\\\\\\\\(?!\\")|[^*\\\\\\\\])*?\\"|'(?:\\\\*(?!/)|\\\\\\\\(?!')|[^*\\\\\\\\])*?'|\\\\[(?:\\\\*(?!/)|[^*])*?]|(?:\\\\*(?!/)|\\\\s(?!\\\\s*])|\\\\[.*?(?:]|(?=\\\\*/))|[^]*\\\\[\\\\s])*)*))?\\\\s*(?:(])((?:[^*\\\\s]|\\\\*[^/\\\\s])+)?|(?=\\\\*/))","name":"variable.other.jsdoc"}]},{"begin":"((@)(?:define|enum|exception|export|extends|lends|implements|modifies|namespace|private|protected|returns?|satisfies|suppress|this|throws|type|yields?))\\\\s+(?=\\\\{)","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=\\\\s|\\\\*/|[^]$A-\\\\[_a-{}])","patterns":[{"include":"#jsdoctype"}]},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"entity.name.type.instance.jsdoc"}},"match":"((@)(?:alias|augments|callback|constructs|emits|event|fires|exports?|extends|external|function|func|host|lends|listens|interface|memberof!?|method|module|mixes|mixin|name|requires|see|this|typedef|uses))\\\\s+((?:[^*@{}\\\\s]|\\\\*[^/])+)"},{"begin":"((@)(?:default(?:value)?|license|version))\\\\s+(([\\"']))","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.jsdoc"},"4":{"name":"punctuation.definition.string.begin.jsdoc"}},"contentName":"variable.other.jsdoc","end":"(\\\\3)|(?=$|\\\\*/)","endCaptures":{"0":{"name":"variable.other.jsdoc"},"1":{"name":"punctuation.definition.string.end.jsdoc"}}},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.jsdoc"}},"match":"((@)(?:default(?:value)?|license|tutorial|variation|version))\\\\s+([^*\\\\s]+)"},{"captures":{"1":{"name":"punctuation.definition.block.tag.jsdoc"}},"match":"(@)(?:abstract|access|alias|api|arg|argument|async|attribute|augments|author|beta|borrows|bubbles|callback|chainable|class|classdesc|code|config|const|constant|constructor|constructs|copyright|default|defaultvalue|define|deprecated|desc|description|dict|emits|enum|event|example|exception|exports?|extends|extension(?:_?for)?|external|externs|file|fileoverview|final|fires|for|func|function|generator|global|hideconstructor|host|ignore|implements|implicitCast|inherit[Dd]oc|inner|instance|interface|internal|kind|lends|license|listens|main|member|memberof!?|method|mixes|mixins?|modifies|module|name|namespace|noalias|nocollapse|nocompile|nosideeffects|override|overview|package|param|polymer(?:Behavior)?|preserve|private|prop|property|protected|public|read[Oo]nly|record|require[ds]|returns?|see|since|static|struct|submodule|summary|suppress|template|this|throws|todo|tutorial|type|typedef|unrestricted|uses|var|variation|version|virtual|writeOnce|yields?)\\\\b","name":"storage.type.class.jsdoc"},{"include":"#inline-tags"},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"match":"((@)[$_[:alpha:]][$_[:alnum:]]*)(?=\\\\s+)"}]},"enum-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?(?:\\\\b(const)\\\\s+)?\\\\b(enum)\\\\s+([$_[:alpha:]][$_[:alnum:]]*)","beginCaptures":{"1":{"name":"keyword.control.export.js.jsx"},"2":{"name":"storage.modifier.js.jsx"},"3":{"name":"storage.modifier.js.jsx"},"4":{"name":"storage.type.enum.js.jsx"},"5":{"name":"entity.name.type.enum.js.jsx"}},"end":"(?<=})","name":"meta.enum.declaration.js.jsx","patterns":[{"include":"#comment"},{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.js.jsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.js.jsx"}},"patterns":[{"include":"#comment"},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)","beginCaptures":{"0":{"name":"variable.other.enummember.js.jsx"}},"end":"(?=[,}]|$)","patterns":[{"include":"#comment"},{"include":"#variable-initializer"}]},{"begin":"(?=(('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+])))","end":"(?=[,}]|$)","patterns":[{"include":"#string"},{"include":"#array-literal"},{"include":"#comment"},{"include":"#variable-initializer"}]},{"include":"#punctuation-comma"}]}]},"export-declaration":{"patterns":[{"captures":{"1":{"name":"keyword.control.export.js.jsx"},"2":{"name":"keyword.control.as.js.jsx"},"3":{"name":"storage.type.namespace.js.jsx"},"4":{"name":"entity.name.type.module.js.jsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(export)\\\\s+(as)\\\\s+(namespace)\\\\s+([$_[:alpha:]][$_[:alnum:]]*)"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(export)(?:\\\\s+(type))?(?:\\\\s*(=)|\\\\s+(default)(?=\\\\s+))","beginCaptures":{"1":{"name":"keyword.control.export.js.jsx"},"2":{"name":"keyword.control.type.js.jsx"},"3":{"name":"keyword.operator.assignment.js.jsx"},"4":{"name":"keyword.control.default.js.jsx"}},"end":"(?=$|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","name":"meta.export.default.js.jsx","patterns":[{"include":"#interface-declaration"},{"include":"#expression"}]},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(export)(?:\\\\s+(type))?\\\\b(?!(\\\\$)|(\\\\s*:))((?=\\\\s*[*{])|((?=\\\\s*[$_[:alpha:]][$_[:alnum:]]*([,\\\\s]))(?!\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)))","beginCaptures":{"1":{"name":"keyword.control.export.js.jsx"},"2":{"name":"keyword.control.type.js.jsx"}},"end":"(?=$|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","name":"meta.export.js.jsx","patterns":[{"include":"#import-export-declaration"}]}]},"expression":{"patterns":[{"include":"#expressionWithoutIdentifiers"},{"include":"#identifiers"},{"include":"#expressionPunctuations"}]},"expression-inside-possibly-arrow-parens":{"patterns":[{"include":"#expressionWithoutIdentifiers"},{"include":"#comment"},{"include":"#string"},{"include":"#decorator"},{"include":"#destructuring-parameter"},{"captures":{"1":{"name":"storage.modifier.js.jsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|protected|private|readonly)\\\\s+(?=(override|public|protected|private|readonly)\\\\s+)"},{"captures":{"1":{"name":"storage.modifier.js.jsx"},"2":{"name":"keyword.operator.rest.js.jsx"},"3":{"name":"entity.name.function.js.jsx variable.language.this.js.jsx"},"4":{"name":"entity.name.function.js.jsx"},"5":{"name":"keyword.operator.optional.js.jsx"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*(\\\\??)(?=\\\\s*(=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))|(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))))|(:\\\\s*(=>|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(<[^<>]*>)|[^(),<=>])+=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>))))))"},{"captures":{"1":{"name":"storage.modifier.js.jsx"},"2":{"name":"keyword.operator.rest.js.jsx"},"3":{"name":"variable.parameter.js.jsx variable.language.this.js.jsx"},"4":{"name":"variable.parameter.js.jsx"},"5":{"name":"keyword.operator.optional.js.jsx"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*(\\\\??)(?=\\\\s*[,:]|$)"},{"include":"#type-annotation"},{"include":"#variable-initializer"},{"match":",","name":"punctuation.separator.parameter.js.jsx"},{"include":"#identifiers"},{"include":"#expressionPunctuations"}]},"expression-operators":{"patterns":[{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(await)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.flow.js.jsx"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(yield)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?=\\\\s*/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*\\\\*)","beginCaptures":{"1":{"name":"keyword.control.flow.js.jsx"}},"end":"\\\\*","endCaptures":{"0":{"name":"keyword.generator.asterisk.js.jsx"}},"patterns":[{"include":"#comment"}]},{"captures":{"1":{"name":"keyword.control.flow.js.jsx"},"2":{"name":"keyword.generator.asterisk.js.jsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(yield)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?:\\\\s*(\\\\*))?"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))delete(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.expression.delete.js.jsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))in(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?!\\\\()","name":"keyword.operator.expression.in.js.jsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))of(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?!\\\\()","name":"keyword.operator.expression.of.js.jsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))instanceof(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.expression.instanceof.js.jsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))new(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.new.js.jsx"},{"include":"#typeof-operator"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))void(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.expression.void.js.jsx"},{"captures":{"1":{"name":"keyword.control.as.js.jsx"},"2":{"name":"storage.modifier.js.jsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as)\\\\s+(const)(?=\\\\s*($|[]),:;}]))"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(as)|(satisfies))\\\\s+","beginCaptures":{"1":{"name":"keyword.control.as.js.jsx"},"2":{"name":"keyword.control.satisfies.js.jsx"}},"end":"(?=^|[-\\\\])+,:;>?}]|\\\\|\\\\||&&|!==|$|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as|satisfies)\\\\s+)|(\\\\s+<))","patterns":[{"include":"#type"}]},{"match":"\\\\.\\\\.\\\\.","name":"keyword.operator.spread.js.jsx"},{"match":"(?:\\\\*|(?<!\\\\()/|[-%+])=","name":"keyword.operator.assignment.compound.js.jsx"},{"match":"(?:[\\\\&^]|<<|>>>??|\\\\|)=","name":"keyword.operator.assignment.compound.bitwise.js.jsx"},{"match":"<<|>>>?","name":"keyword.operator.bitwise.shift.js.jsx"},{"match":"[!=]==?","name":"keyword.operator.comparison.js.jsx"},{"match":"<=|>=|<>|[<>]","name":"keyword.operator.relational.js.jsx"},{"captures":{"1":{"name":"keyword.operator.logical.js.jsx"},"2":{"name":"keyword.operator.assignment.compound.js.jsx"},"3":{"name":"keyword.operator.arithmetic.js.jsx"}},"match":"(?<=[$_[:alnum:]])(!)\\\\s*(?:(/=)|(/)(?![*/]))"},{"match":"!|&&|\\\\|\\\\||\\\\?\\\\?","name":"keyword.operator.logical.js.jsx"},{"match":"[\\\\&^|~]","name":"keyword.operator.bitwise.js.jsx"},{"match":"=","name":"keyword.operator.assignment.js.jsx"},{"match":"--","name":"keyword.operator.decrement.js.jsx"},{"match":"\\\\+\\\\+","name":"keyword.operator.increment.js.jsx"},{"match":"[-%*+/]","name":"keyword.operator.arithmetic.js.jsx"},{"begin":"(?<=[]$)_[:alnum:]])\\\\s*(?=(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)+(?:(/=)|(/)(?![*/])))","end":"(/=)|(/)(?!\\\\*([^*]|(\\\\*[^/]))*\\\\*/)","endCaptures":{"1":{"name":"keyword.operator.assignment.compound.js.jsx"},"2":{"name":"keyword.operator.arithmetic.js.jsx"}},"patterns":[{"include":"#comment"}]},{"captures":{"1":{"name":"keyword.operator.assignment.compound.js.jsx"},"2":{"name":"keyword.operator.arithmetic.js.jsx"}},"match":"(?<=[]$)_[:alnum:]])\\\\s*(?:(/=)|(/)(?![*/]))"}]},"expressionPunctuations":{"patterns":[{"include":"#punctuation-comma"},{"include":"#punctuation-accessor"}]},"expressionWithoutIdentifiers":{"patterns":[{"include":"#jsx"},{"include":"#string"},{"include":"#regex"},{"include":"#comment"},{"include":"#function-expression"},{"include":"#class-expression"},{"include":"#arrow-function"},{"include":"#paren-expression-possibly-arrow"},{"include":"#cast"},{"include":"#ternary-expression"},{"include":"#new-expr"},{"include":"#instanceof-expr"},{"include":"#object-literal"},{"include":"#expression-operators"},{"include":"#function-call"},{"include":"#literal"},{"include":"#support-objects"},{"include":"#paren-expression"}]},"field-declaration":{"begin":"(?<!\\\\()(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(readonly)\\\\s+)?(?=\\\\s*(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|(#?[$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(?:(?:(\\\\?)|(!))\\\\s*)?([,:;=}]|$))","beginCaptures":{"1":{"name":"storage.modifier.js.jsx"}},"end":"(?=[,;}]|$|^((?!\\\\s*(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|(#?[$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(?:(?:(\\\\?)|(!))\\\\s*)?([,:;=]|$))))|(?<=})","name":"meta.field.declaration.js.jsx","patterns":[{"include":"#variable-initializer"},{"include":"#type-annotation"},{"include":"#string"},{"include":"#array-literal"},{"include":"#numeric-literal"},{"include":"#comment"},{"captures":{"1":{"name":"meta.definition.property.js.jsx entity.name.function.js.jsx"},"2":{"name":"keyword.operator.optional.js.jsx"},"3":{"name":"keyword.operator.definiteassignment.js.jsx"}},"match":"(#?[$_[:alpha:]][$_[:alnum:]]*)(?:(\\\\?)|(!))?(?=\\\\s*\\\\s*(=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))|(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))))|(:\\\\s*(=>|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(<[^<>]*>)|[^(),<=>])+=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>))))))"},{"match":"#?[$_[:alpha:]][$_[:alnum:]]*","name":"meta.definition.property.js.jsx variable.object.property.js.jsx"},{"match":"\\\\?","name":"keyword.operator.optional.js.jsx"},{"match":"!","name":"keyword.operator.definiteassignment.js.jsx"}]},"for-loop":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))for(?=((\\\\s+|(\\\\s*/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*))await)?\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)?(\\\\())","beginCaptures":{"0":{"name":"keyword.control.loop.js.jsx"}},"end":"(?<=\\\\))","patterns":[{"include":"#comment"},{"match":"await","name":"keyword.control.loop.js.jsx"},{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.js.jsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js.jsx"}},"patterns":[{"include":"#var-expr"},{"include":"#expression"},{"include":"#punctuation-semicolon"}]}]},"function-body":{"patterns":[{"include":"#comment"},{"include":"#type-parameters"},{"include":"#function-parameters"},{"include":"#return-type"},{"include":"#type-function-return-type"},{"include":"#decl-block"},{"match":"\\\\*","name":"keyword.generator.asterisk.js.jsx"}]},"function-call":{"patterns":[{"begin":"(?=(((([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))|(?<=\\\\)))\\\\s*(?:(\\\\?\\\\.\\\\s*)|(!))?((<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)?\\\\())","end":"(?<=\\\\))(?!(((([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))|(?<=\\\\)))\\\\s*(?:(\\\\?\\\\.\\\\s*)|(!))?((<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)?\\\\())","patterns":[{"begin":"(?=(([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))","end":"(?=\\\\s*(?:(\\\\?\\\\.\\\\s*)|(!))?((<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)?\\\\())","name":"meta.function-call.js.jsx","patterns":[{"include":"#function-call-target"}]},{"include":"#comment"},{"include":"#function-call-optionals"},{"include":"#type-arguments"},{"include":"#paren-expression"}]},{"begin":"(?=(((([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))|(?<=\\\\)))(<\\\\s*[(\\\\[{]\\\\s*)$)","end":"(?<=>)(?!(((([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))|(?<=\\\\)))(<\\\\s*[(\\\\[{]\\\\s*)$)","patterns":[{"begin":"(?=(([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))","end":"(?=(<\\\\s*[(\\\\[{]\\\\s*)$)","name":"meta.function-call.js.jsx","patterns":[{"include":"#function-call-target"}]},{"include":"#comment"},{"include":"#function-call-optionals"},{"include":"#type-arguments"}]}]},"function-call-optionals":{"patterns":[{"match":"\\\\?\\\\.","name":"meta.function-call.js.jsx punctuation.accessor.optional.js.jsx"},{"match":"!","name":"meta.function-call.js.jsx keyword.operator.definiteassignment.js.jsx"}]},"function-call-target":{"patterns":[{"include":"#support-function-call-identifiers"},{"match":"(#?[$_[:alpha:]][$_[:alnum:]]*)","name":"entity.name.function.js.jsx"}]},"function-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?(?:(async)\\\\s+)?(function)\\\\b(?:\\\\s*(\\\\*))?(?:(?:\\\\s+|(?<=\\\\*))([$_[:alpha:]][$_[:alnum:]]*))?\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.js.jsx"},"2":{"name":"storage.modifier.js.jsx"},"3":{"name":"storage.modifier.async.js.jsx"},"4":{"name":"storage.type.function.js.jsx"},"5":{"name":"keyword.generator.asterisk.js.jsx"},"6":{"name":"meta.definition.function.js.jsx entity.name.function.js.jsx"}},"end":"(?=;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)|(?<=})","name":"meta.function.js.jsx","patterns":[{"include":"#function-name"},{"include":"#function-body"}]},"function-expression":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(async)\\\\s+)?(function)\\\\b(?:\\\\s*(\\\\*))?(?:(?:\\\\s+|(?<=\\\\*))([$_[:alpha:]][$_[:alnum:]]*))?\\\\s*","beginCaptures":{"1":{"name":"storage.modifier.async.js.jsx"},"2":{"name":"storage.type.function.js.jsx"},"3":{"name":"keyword.generator.asterisk.js.jsx"},"4":{"name":"meta.definition.function.js.jsx entity.name.function.js.jsx"}},"end":"(?=;)|(?<=})","name":"meta.function.expression.js.jsx","patterns":[{"include":"#function-name"},{"include":"#single-line-comment-consuming-line-ending"},{"include":"#function-body"}]},"function-name":{"match":"[$_[:alpha:]][$_[:alnum:]]*","name":"meta.definition.function.js.jsx entity.name.function.js.jsx"},"function-parameters":{"begin":"\\\\(","beginCaptures":{"0":{"name":"punctuation.definition.parameters.begin.js.jsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.parameters.end.js.jsx"}},"name":"meta.parameters.js.jsx","patterns":[{"include":"#function-parameters-body"}]},"function-parameters-body":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#decorator"},{"include":"#destructuring-parameter"},{"include":"#parameter-name"},{"include":"#parameter-type-annotation"},{"include":"#variable-initializer"},{"match":",","name":"punctuation.separator.parameter.js.jsx"}]},"identifiers":{"patterns":[{"include":"#object-identifiers"},{"captures":{"1":{"name":"punctuation.accessor.js.jsx"},"2":{"name":"punctuation.accessor.optional.js.jsx"},"3":{"name":"entity.name.function.js.jsx"}},"match":"(?:(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*)?([$_[:alpha:]][$_[:alnum:]]*)(?=\\\\s*=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))"},{"captures":{"1":{"name":"punctuation.accessor.js.jsx"},"2":{"name":"punctuation.accessor.optional.js.jsx"},"3":{"name":"variable.other.constant.property.js.jsx"}},"match":"(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(#?\\\\p{upper}[$_\\\\d[:upper:]]*)(?![$_[:alnum:]])"},{"captures":{"1":{"name":"punctuation.accessor.js.jsx"},"2":{"name":"punctuation.accessor.optional.js.jsx"},"3":{"name":"variable.other.property.js.jsx"}},"match":"(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*)"},{"match":"(\\\\p{upper}[$_\\\\d[:upper:]]*)(?![$_[:alnum:]])","name":"variable.other.constant.js.jsx"},{"match":"[$_[:alpha:]][$_[:alnum:]]*","name":"variable.other.readwrite.js.jsx"}]},"if-statement":{"patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?=\\\\bif\\\\s*(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))\\\\s*(?!\\\\{))","end":"(?=;|$|})","patterns":[{"include":"#comment"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(if)\\\\s*(\\\\()","beginCaptures":{"1":{"name":"keyword.control.conditional.js.jsx"},"2":{"name":"meta.brace.round.js.jsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js.jsx"}},"patterns":[{"include":"#expression"}]},{"begin":"(?<=\\\\))\\\\s*/(?![*/])(?=(?:[^/\\\\[\\\\\\\\]|\\\\\\\\.|\\\\[([^]\\\\\\\\]|\\\\\\\\.)*])+/([dgimsuvy]+|(?![*/])|(?=/\\\\*))(?!\\\\s*[$0-9A-Z_a-z]))","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.js.jsx"}},"end":"(/)([dgimsuvy]*)","endCaptures":{"1":{"name":"punctuation.definition.string.end.js.jsx"},"2":{"name":"keyword.other.js.jsx"}},"name":"string.regexp.js.jsx","patterns":[{"include":"#regexp"}]},{"include":"#statements"}]}]},"import-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(import)(?:\\\\s+(type)(?!\\\\s+from))?(?!\\\\s*[(:])(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.control.export.js.jsx"},"2":{"name":"storage.modifier.js.jsx"},"3":{"name":"keyword.control.import.js.jsx"},"4":{"name":"keyword.control.type.js.jsx"}},"end":"(?<!(?:^|[^$._[:alnum:]])import)(?=;|$|^)","name":"meta.import.js.jsx","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#comment"},{"include":"#string"},{"begin":"(?<=(?:^|[^$._[:alnum:]])import)(?!\\\\s*[\\"'])","end":"\\\\bfrom\\\\b","endCaptures":{"0":{"name":"keyword.control.from.js.jsx"}},"patterns":[{"include":"#import-export-declaration"}]},{"include":"#import-export-declaration"}]},"import-equals-declaration":{"patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(import)(?:\\\\s+(type))?\\\\s+([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(=)\\\\s*(require)\\\\s*(\\\\()","beginCaptures":{"1":{"name":"keyword.control.export.js.jsx"},"2":{"name":"storage.modifier.js.jsx"},"3":{"name":"keyword.control.import.js.jsx"},"4":{"name":"keyword.control.type.js.jsx"},"5":{"name":"variable.other.readwrite.alias.js.jsx"},"6":{"name":"keyword.operator.assignment.js.jsx"},"7":{"name":"keyword.control.require.js.jsx"},"8":{"name":"meta.brace.round.js.jsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js.jsx"}},"name":"meta.import-equals.external.js.jsx","patterns":[{"include":"#comment"},{"include":"#string"}]},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(import)(?:\\\\s+(type))?\\\\s+([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(=)\\\\s*(?!require\\\\b)","beginCaptures":{"1":{"name":"keyword.control.export.js.jsx"},"2":{"name":"storage.modifier.js.jsx"},"3":{"name":"keyword.control.import.js.jsx"},"4":{"name":"keyword.control.type.js.jsx"},"5":{"name":"variable.other.readwrite.alias.js.jsx"},"6":{"name":"keyword.operator.assignment.js.jsx"}},"end":"(?=;|$|^)","name":"meta.import-equals.internal.js.jsx","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#comment"},{"captures":{"1":{"name":"entity.name.type.module.js.jsx"},"2":{"name":"punctuation.accessor.js.jsx"},"3":{"name":"punctuation.accessor.optional.js.jsx"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))"},{"match":"([$_[:alpha:]][$_[:alnum:]]*)","name":"variable.other.readwrite.js.jsx"}]}]},"import-export-assert-clause":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(with)|(assert))\\\\s*(\\\\{)","beginCaptures":{"1":{"name":"keyword.control.with.js.jsx"},"2":{"name":"keyword.control.assert.js.jsx"},"3":{"name":"punctuation.definition.block.js.jsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.js.jsx"}},"patterns":[{"include":"#comment"},{"include":"#string"},{"match":"[$_[:alpha:]][$_[:alnum:]]*\\\\s*(?=(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*:)","name":"meta.object-literal.key.js.jsx"},{"match":":","name":"punctuation.separator.key-value.js.jsx"}]},"import-export-block":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.js.jsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.js.jsx"}},"name":"meta.block.js.jsx","patterns":[{"include":"#import-export-clause"}]},"import-export-clause":{"patterns":[{"include":"#comment"},{"captures":{"1":{"name":"keyword.control.type.js.jsx"},"2":{"name":"keyword.control.default.js.jsx"},"3":{"name":"constant.language.import-export-all.js.jsx"},"4":{"name":"variable.other.readwrite.js.jsx"},"5":{"name":"string.quoted.alias.js.jsx"},"12":{"name":"keyword.control.as.js.jsx"},"13":{"name":"keyword.control.default.js.jsx"},"14":{"name":"variable.other.readwrite.alias.js.jsx"},"15":{"name":"string.quoted.alias.js.jsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(type)\\\\s+)?(?:\\\\b(default)|(\\\\*)|\\\\b([$_[:alpha:]][$_[:alnum:]]*)|(('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)))\\\\s+(as)\\\\s+(?:(default(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|([$_[:alpha:]][$_[:alnum:]]*)|(('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)))"},{"include":"#punctuation-comma"},{"match":"\\\\*","name":"constant.language.import-export-all.js.jsx"},{"match":"\\\\b(default)\\\\b","name":"keyword.control.default.js.jsx"},{"captures":{"1":{"name":"keyword.control.type.js.jsx"},"2":{"name":"variable.other.readwrite.alias.js.jsx"},"3":{"name":"string.quoted.alias.js.jsx"}},"match":"(?:\\\\b(type)\\\\s+)?(?:([$_[:alpha:]][$_[:alnum:]]*)|(('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)))"}]},"import-export-declaration":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#import-export-block"},{"match":"\\\\bfrom\\\\b","name":"keyword.control.from.js.jsx"},{"include":"#import-export-assert-clause"},{"include":"#import-export-clause"}]},"indexer-declaration":{"begin":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(readonly)\\\\s*)?\\\\s*(\\\\[)\\\\s*([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?=:)","beginCaptures":{"1":{"name":"storage.modifier.js.jsx"},"2":{"name":"meta.brace.square.js.jsx"},"3":{"name":"variable.parameter.js.jsx"}},"end":"(])\\\\s*(\\\\?\\\\s*)?|$","endCaptures":{"1":{"name":"meta.brace.square.js.jsx"},"2":{"name":"keyword.operator.optional.js.jsx"}},"name":"meta.indexer.declaration.js.jsx","patterns":[{"include":"#type-annotation"}]},"indexer-mapped-type-declaration":{"begin":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))([-+])?(readonly)\\\\s*)?\\\\s*(\\\\[)\\\\s*([$_[:alpha:]][$_[:alnum:]]*)\\\\s+(in)\\\\s+","beginCaptures":{"1":{"name":"keyword.operator.type.modifier.js.jsx"},"2":{"name":"storage.modifier.js.jsx"},"3":{"name":"meta.brace.square.js.jsx"},"4":{"name":"entity.name.type.js.jsx"},"5":{"name":"keyword.operator.expression.in.js.jsx"}},"end":"(])([-+])?\\\\s*(\\\\?\\\\s*)?|$","endCaptures":{"1":{"name":"meta.brace.square.js.jsx"},"2":{"name":"keyword.operator.type.modifier.js.jsx"},"3":{"name":"keyword.operator.optional.js.jsx"}},"name":"meta.indexer.mappedtype.declaration.js.jsx","patterns":[{"captures":{"1":{"name":"keyword.control.as.js.jsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as)\\\\s+"},{"include":"#type"}]},"inline-tags":{"patterns":[{"captures":{"1":{"name":"punctuation.definition.bracket.square.begin.jsdoc"},"2":{"name":"punctuation.definition.bracket.square.end.jsdoc"}},"match":"(\\\\[)[^]]+(])(?=\\\\{@(?:link|linkcode|linkplain|tutorial))","name":"constant.other.description.jsdoc"},{"begin":"(\\\\{)((@)(?:link(?:code|plain)?|tutorial))\\\\s*","beginCaptures":{"1":{"name":"punctuation.definition.bracket.curly.begin.jsdoc"},"2":{"name":"storage.type.class.jsdoc"},"3":{"name":"punctuation.definition.inline.tag.jsdoc"}},"end":"}|(?=\\\\*/)","endCaptures":{"0":{"name":"punctuation.definition.bracket.curly.end.jsdoc"}},"name":"entity.name.type.instance.jsdoc","patterns":[{"captures":{"1":{"name":"variable.other.link.underline.jsdoc"},"2":{"name":"punctuation.separator.pipe.jsdoc"}},"match":"\\\\G((?=https?://)(?:[^*|}\\\\s]|\\\\*/)+)(\\\\|)?"},{"captures":{"1":{"name":"variable.other.description.jsdoc"},"2":{"name":"punctuation.separator.pipe.jsdoc"}},"match":"\\\\G((?:[^*@{|}\\\\s]|\\\\*[^/])+)(\\\\|)?"}]}]},"instanceof-expr":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(instanceof)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.operator.expression.instanceof.js.jsx"}},"end":"(?<=\\\\))|(?=[-\\\\])+,:;>?}]|\\\\|\\\\||&&|!==|$|([!=]==?)|(([\\\\&^|~]\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s+instanceof(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))function((\\\\s+[$_[:alpha:]][$_[:alnum:]]*)|(\\\\s*\\\\())))","patterns":[{"include":"#type"}]},"interface-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(?:(abstract)\\\\s+)?\\\\b(interface)\\\\b(?=\\\\s+|/[*/])","beginCaptures":{"1":{"name":"keyword.control.export.js.jsx"},"2":{"name":"storage.modifier.js.jsx"},"3":{"name":"storage.modifier.js.jsx"},"4":{"name":"storage.type.interface.js.jsx"}},"end":"(?<=})","name":"meta.interface.js.jsx","patterns":[{"include":"#comment"},{"include":"#class-or-interface-heritage"},{"captures":{"0":{"name":"entity.name.type.interface.js.jsx"}},"match":"[$_[:alpha:]][$_[:alnum:]]*"},{"include":"#type-parameters"},{"include":"#class-or-interface-body"}]},"jsdoctype":{"patterns":[{"begin":"\\\\G(\\\\{)","beginCaptures":{"0":{"name":"entity.name.type.instance.jsdoc"},"1":{"name":"punctuation.definition.bracket.curly.begin.jsdoc"}},"contentName":"entity.name.type.instance.jsdoc","end":"((}))\\\\s*|(?=\\\\*/)","endCaptures":{"1":{"name":"entity.name.type.instance.jsdoc"},"2":{"name":"punctuation.definition.bracket.curly.end.jsdoc"}},"patterns":[{"include":"#brackets"}]}]},"jsx":{"patterns":[{"include":"#jsx-tag-without-attributes-in-expression"},{"include":"#jsx-tag-in-expression"}]},"jsx-children":{"patterns":[{"include":"#jsx-tag-without-attributes"},{"include":"#jsx-tag"},{"include":"#jsx-evaluated-code"},{"include":"#jsx-entities"}]},"jsx-entities":{"patterns":[{"captures":{"1":{"name":"punctuation.definition.entity.js.jsx"},"3":{"name":"punctuation.definition.entity.js.jsx"}},"match":"(&)([0-9A-Za-z]+|#[0-9]+|#x\\\\h+)(;)","name":"constant.character.entity.js.jsx"}]},"jsx-evaluated-code":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.section.embedded.begin.js.jsx"}},"contentName":"meta.embedded.expression.js.jsx","end":"}","endCaptures":{"0":{"name":"punctuation.section.embedded.end.js.jsx"}},"patterns":[{"include":"#expression"}]},"jsx-string-double-quoted":{"begin":"\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.js.jsx"}},"end":"\\"","endCaptures":{"0":{"name":"punctuation.definition.string.end.js.jsx"}},"name":"string.quoted.double.js.jsx","patterns":[{"include":"#jsx-entities"}]},"jsx-string-single-quoted":{"begin":"'","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.js.jsx"}},"end":"'","endCaptures":{"0":{"name":"punctuation.definition.string.end.js.jsx"}},"name":"string.quoted.single.js.jsx","patterns":[{"include":"#jsx-entities"}]},"jsx-tag":{"begin":"(?=(<)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))(?=((<\\\\s*)|(\\\\s+))(?!\\\\?)|/?>))","end":"(/>)|(</)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))?\\\\s*(>)","endCaptures":{"1":{"name":"punctuation.definition.tag.end.js.jsx"},"2":{"name":"punctuation.definition.tag.begin.js.jsx"},"3":{"name":"entity.name.tag.namespace.js.jsx"},"4":{"name":"punctuation.separator.namespace.js.jsx"},"5":{"name":"entity.name.tag.js.jsx"},"6":{"name":"support.class.component.js.jsx"},"7":{"name":"punctuation.definition.tag.end.js.jsx"}},"name":"meta.tag.js.jsx","patterns":[{"begin":"(<)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))(?=((<\\\\s*)|(\\\\s+))(?!\\\\?)|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.js.jsx"},"2":{"name":"entity.name.tag.namespace.js.jsx"},"3":{"name":"punctuation.separator.namespace.js.jsx"},"4":{"name":"entity.name.tag.js.jsx"},"5":{"name":"support.class.component.js.jsx"}},"end":"(?=/?>)","patterns":[{"include":"#comment"},{"include":"#type-arguments"},{"include":"#jsx-tag-attributes"}]},{"begin":"(>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.end.js.jsx"}},"contentName":"meta.jsx.children.js.jsx","end":"(?=</)","patterns":[{"include":"#jsx-children"}]}]},"jsx-tag-attribute-assignment":{"match":"=(?=\\\\s*(?:[\\"'{]|/\\\\*|//|\\\\n))","name":"keyword.operator.assignment.js.jsx"},"jsx-tag-attribute-name":{"captures":{"1":{"name":"entity.other.attribute-name.namespace.js.jsx"},"2":{"name":"punctuation.separator.namespace.js.jsx"},"3":{"name":"entity.other.attribute-name.js.jsx"}},"match":"\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(:))?([$_[:alpha:]][-$_[:alnum:]]*)(?=[=\\\\s]|/?>|/\\\\*|//)"},"jsx-tag-attributes":{"begin":"\\\\s+","end":"(?=/?>)","name":"meta.tag.attributes.js.jsx","patterns":[{"include":"#comment"},{"include":"#jsx-tag-attribute-name"},{"include":"#jsx-tag-attribute-assignment"},{"include":"#jsx-string-double-quoted"},{"include":"#jsx-string-single-quoted"},{"include":"#jsx-evaluated-code"},{"include":"#jsx-tag-attributes-illegal"}]},"jsx-tag-attributes-illegal":{"match":"\\\\S+","name":"invalid.illegal.attribute.js.jsx"},"jsx-tag-in-expression":{"begin":"(?<!\\\\+\\\\+|--)(?<=[(*,:=>?\\\\[{]|&&|\\\\|\\\\||\\\\?|\\\\*/|^await|[^$._[:alnum:]]await|^return|[^$._[:alnum:]]return|^default|[^$._[:alnum:]]default|^yield|[^$._[:alnum:]]yield|^)\\\\s*(?!<\\\\s*[$_[:alpha:]][$_[:alnum:]]*((\\\\s+extends\\\\s+[^=>])|,))(?=(<)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))(?=((<\\\\s*)|(\\\\s+))(?!\\\\?)|/?>))","end":"(?!(<)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))(?=((<\\\\s*)|(\\\\s+))(?!\\\\?)|/?>))","patterns":[{"include":"#jsx-tag"}]},"jsx-tag-without-attributes":{"begin":"(<)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))?\\\\s*(>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.js.jsx"},"2":{"name":"entity.name.tag.namespace.js.jsx"},"3":{"name":"punctuation.separator.namespace.js.jsx"},"4":{"name":"entity.name.tag.js.jsx"},"5":{"name":"support.class.component.js.jsx"},"6":{"name":"punctuation.definition.tag.end.js.jsx"}},"contentName":"meta.jsx.children.js.jsx","end":"(</)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))?\\\\s*(>)","endCaptures":{"1":{"name":"punctuation.definition.tag.begin.js.jsx"},"2":{"name":"entity.name.tag.namespace.js.jsx"},"3":{"name":"punctuation.separator.namespace.js.jsx"},"4":{"name":"entity.name.tag.js.jsx"},"5":{"name":"support.class.component.js.jsx"},"6":{"name":"punctuation.definition.tag.end.js.jsx"}},"name":"meta.tag.without-attributes.js.jsx","patterns":[{"include":"#jsx-children"}]},"jsx-tag-without-attributes-in-expression":{"begin":"(?<!\\\\+\\\\+|--)(?<=[(*,:=>?\\\\[{]|&&|\\\\|\\\\||\\\\?|\\\\*/|^await|[^$._[:alnum:]]await|^return|[^$._[:alnum:]]return|^default|[^$._[:alnum:]]default|^yield|[^$._[:alnum:]]yield|^)\\\\s*(?=(<)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))?\\\\s*(>))","end":"(?!(<)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))?\\\\s*(>))","patterns":[{"include":"#jsx-tag-without-attributes"}]},"label":{"patterns":[{"begin":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(:)(?=\\\\s*\\\\{)","beginCaptures":{"1":{"name":"entity.name.label.js.jsx"},"2":{"name":"punctuation.separator.label.js.jsx"}},"end":"(?<=})","patterns":[{"include":"#decl-block"}]},{"captures":{"1":{"name":"entity.name.label.js.jsx"},"2":{"name":"punctuation.separator.label.js.jsx"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(:)"}]},"literal":{"patterns":[{"include":"#numeric-literal"},{"include":"#boolean-literal"},{"include":"#null-literal"},{"include":"#undefined-literal"},{"include":"#numericConstant-literal"},{"include":"#array-literal"},{"include":"#this-literal"},{"include":"#super-literal"}]},"method-declaration":{"patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(override)\\\\s+)?(?:\\\\b(p(?:ublic|rivate|rotected))\\\\s+)?(?:\\\\b(abstract)\\\\s+)?(?:\\\\b(async)\\\\s+)?\\\\s*\\\\b(constructor)\\\\b(?!:)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"storage.modifier.js.jsx"},"2":{"name":"storage.modifier.js.jsx"},"3":{"name":"storage.modifier.js.jsx"},"4":{"name":"storage.modifier.async.js.jsx"},"5":{"name":"storage.type.js.jsx"}},"end":"(?=[,;}]|$)|(?<=})","name":"meta.method.declaration.js.jsx","patterns":[{"include":"#method-declaration-name"},{"include":"#function-body"}]},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(override)\\\\s+)?(?:\\\\b(p(?:ublic|rivate|rotected))\\\\s+)?(?:\\\\b(abstract)\\\\s+)?(?:\\\\b(async)\\\\s+)?(?:\\\\s*\\\\b(new)\\\\b(?!:)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))|(?:(\\\\*)\\\\s*)?)(?=\\\\s*((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\()","beginCaptures":{"1":{"name":"storage.modifier.js.jsx"},"2":{"name":"storage.modifier.js.jsx"},"3":{"name":"storage.modifier.js.jsx"},"4":{"name":"storage.modifier.async.js.jsx"},"5":{"name":"keyword.operator.new.js.jsx"},"6":{"name":"keyword.generator.asterisk.js.jsx"}},"end":"(?=[,;}]|$)|(?<=})","name":"meta.method.declaration.js.jsx","patterns":[{"include":"#method-declaration-name"},{"include":"#function-body"}]},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(override)\\\\s+)?(?:\\\\b(p(?:ublic|rivate|rotected))\\\\s+)?(?:\\\\b(abstract)\\\\s+)?(?:\\\\b(async)\\\\s+)?(?:\\\\b([gs]et)\\\\s+)?(?:(\\\\*)\\\\s*)?(?=\\\\s*((\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(\\\\??))\\\\s*((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\()","beginCaptures":{"1":{"name":"storage.modifier.js.jsx"},"2":{"name":"storage.modifier.js.jsx"},"3":{"name":"storage.modifier.js.jsx"},"4":{"name":"storage.modifier.async.js.jsx"},"5":{"name":"storage.type.property.js.jsx"},"6":{"name":"keyword.generator.asterisk.js.jsx"}},"end":"(?=[,;}]|$)|(?<=})","name":"meta.method.declaration.js.jsx","patterns":[{"include":"#method-declaration-name"},{"include":"#function-body"}]}]},"method-declaration-name":{"begin":"(?=(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(\\\\??)\\\\s*[(<])","end":"(?=[(<])","patterns":[{"include":"#string"},{"include":"#array-literal"},{"include":"#numeric-literal"},{"match":"[$_[:alpha:]][$_[:alnum:]]*","name":"meta.definition.method.js.jsx entity.name.function.js.jsx"},{"match":"\\\\?","name":"keyword.operator.optional.js.jsx"}]},"namespace-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(namespace|module)\\\\s+(?=[\\"$'_\`[:alpha:]])","beginCaptures":{"1":{"name":"keyword.control.export.js.jsx"},"2":{"name":"storage.modifier.js.jsx"},"3":{"name":"storage.type.namespace.js.jsx"}},"end":"(?<=})|(?=;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","name":"meta.namespace.declaration.js.jsx","patterns":[{"include":"#comment"},{"include":"#string"},{"match":"([$_[:alpha:]][$_[:alnum:]]*)","name":"entity.name.type.module.js.jsx"},{"include":"#punctuation-accessor"},{"include":"#decl-block"}]},"new-expr":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(new)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.operator.new.js.jsx"}},"end":"(?<=\\\\))|(?=[-\\\\])+,:;>?}]|\\\\|\\\\||&&|!==|$|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))new(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))function((\\\\s+[$_[:alpha:]][$_[:alnum:]]*)|(\\\\s*\\\\())))","name":"new.expr.js.jsx","patterns":[{"include":"#expression"}]},"null-literal":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))null(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.null.js.jsx"},"numeric-literal":{"patterns":[{"captures":{"1":{"name":"storage.type.numeric.bigint.js.jsx"}},"match":"\\\\b(?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$)","name":"constant.numeric.hex.js.jsx"},{"captures":{"1":{"name":"storage.type.numeric.bigint.js.jsx"}},"match":"\\\\b(?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$)","name":"constant.numeric.binary.js.jsx"},{"captures":{"1":{"name":"storage.type.numeric.bigint.js.jsx"}},"match":"\\\\b(?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$)","name":"constant.numeric.octal.js.jsx"},{"captures":{"0":{"name":"constant.numeric.decimal.js.jsx"},"1":{"name":"meta.delimiter.decimal.period.js.jsx"},"2":{"name":"storage.type.numeric.bigint.js.jsx"},"3":{"name":"meta.delimiter.decimal.period.js.jsx"},"4":{"name":"storage.type.numeric.bigint.js.jsx"},"5":{"name":"meta.delimiter.decimal.period.js.jsx"},"6":{"name":"storage.type.numeric.bigint.js.jsx"},"7":{"name":"storage.type.numeric.bigint.js.jsx"},"8":{"name":"meta.delimiter.decimal.period.js.jsx"},"9":{"name":"storage.type.numeric.bigint.js.jsx"},"10":{"name":"meta.delimiter.decimal.period.js.jsx"},"11":{"name":"storage.type.numeric.bigint.js.jsx"},"12":{"name":"meta.delimiter.decimal.period.js.jsx"},"13":{"name":"storage.type.numeric.bigint.js.jsx"},"14":{"name":"storage.type.numeric.bigint.js.jsx"}},"match":"(?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$)"}]},"numericConstant-literal":{"patterns":[{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))NaN(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.nan.js.jsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Infinity(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.infinity.js.jsx"}]},"object-binding-element":{"patterns":[{"include":"#comment"},{"begin":"(?=(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(:))","end":"(?=[,}])","patterns":[{"include":"#object-binding-element-propertyName"},{"include":"#binding-element"}]},{"include":"#object-binding-pattern"},{"include":"#destructuring-variable-rest"},{"include":"#variable-initializer"},{"include":"#punctuation-comma"}]},"object-binding-element-const":{"patterns":[{"include":"#comment"},{"begin":"(?=(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(:))","end":"(?=[,}])","patterns":[{"include":"#object-binding-element-propertyName"},{"include":"#binding-element-const"}]},{"include":"#object-binding-pattern-const"},{"include":"#destructuring-variable-rest-const"},{"include":"#variable-initializer"},{"include":"#punctuation-comma"}]},"object-binding-element-propertyName":{"begin":"(?=(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(:))","end":"(:)","endCaptures":{"0":{"name":"punctuation.destructuring.js.jsx"}},"patterns":[{"include":"#string"},{"include":"#array-literal"},{"include":"#numeric-literal"},{"match":"([$_[:alpha:]][$_[:alnum:]]*)","name":"variable.object.property.js.jsx"}]},"object-binding-pattern":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\{)","beginCaptures":{"1":{"name":"keyword.operator.rest.js.jsx"},"2":{"name":"punctuation.definition.binding-pattern.object.js.jsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.object.js.jsx"}},"patterns":[{"include":"#object-binding-element"}]},"object-binding-pattern-const":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\{)","beginCaptures":{"1":{"name":"keyword.operator.rest.js.jsx"},"2":{"name":"punctuation.definition.binding-pattern.object.js.jsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.object.js.jsx"}},"patterns":[{"include":"#object-binding-element-const"}]},"object-identifiers":{"patterns":[{"match":"([$_[:alpha:]][$_[:alnum:]]*)(?=\\\\s*\\\\??\\\\.\\\\s*prototype\\\\b(?!\\\\$))","name":"support.class.js.jsx"},{"captures":{"1":{"name":"punctuation.accessor.js.jsx"},"2":{"name":"punctuation.accessor.optional.js.jsx"},"3":{"name":"variable.other.constant.object.property.js.jsx"},"4":{"name":"variable.other.object.property.js.jsx"}},"match":"(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(?:(#?\\\\p{upper}[$_\\\\d[:upper:]]*)|(#?[$_[:alpha:]][$_[:alnum:]]*))(?=\\\\s*\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*)"},{"captures":{"1":{"name":"variable.other.constant.object.js.jsx"},"2":{"name":"variable.other.object.js.jsx"}},"match":"(?:(\\\\p{upper}[$_\\\\d[:upper:]]*)|([$_[:alpha:]][$_[:alnum:]]*))(?=\\\\s*\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*)"}]},"object-literal":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.js.jsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.js.jsx"}},"name":"meta.objectliteral.js.jsx","patterns":[{"include":"#object-member"}]},"object-literal-method-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(async)\\\\s+)?(?:\\\\b([gs]et)\\\\s+)?(?:(\\\\*)\\\\s*)?(?=\\\\s*((\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(\\\\??))\\\\s*((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\()","beginCaptures":{"1":{"name":"storage.modifier.async.js.jsx"},"2":{"name":"storage.type.property.js.jsx"},"3":{"name":"keyword.generator.asterisk.js.jsx"}},"end":"(?=[,;}])|(?<=})","name":"meta.method.declaration.js.jsx","patterns":[{"include":"#method-declaration-name"},{"include":"#function-body"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(async)\\\\s+)?(?:\\\\b([gs]et)\\\\s+)?(?:(\\\\*)\\\\s*)?(?=\\\\s*((\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(\\\\??))\\\\s*((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\()","beginCaptures":{"1":{"name":"storage.modifier.async.js.jsx"},"2":{"name":"storage.type.property.js.jsx"},"3":{"name":"keyword.generator.asterisk.js.jsx"}},"end":"(?=[(<])","patterns":[{"include":"#method-declaration-name"}]}]},"object-member":{"patterns":[{"include":"#comment"},{"include":"#object-literal-method-declaration"},{"begin":"(?=\\\\[)","end":"(?=:)|((?<=])(?=\\\\s*[(<]))","name":"meta.object.member.js.jsx meta.object-literal.key.js.jsx","patterns":[{"include":"#comment"},{"include":"#array-literal"}]},{"begin":"(?=[\\"'\`])","end":"(?=:)|((?<=[\\"'\`])(?=((\\\\s*[(,<}])|(\\\\s+(as|satisifies)\\\\s+))))","name":"meta.object.member.js.jsx meta.object-literal.key.js.jsx","patterns":[{"include":"#comment"},{"include":"#string"}]},{"begin":"(?=\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$)))","end":"(?=:)|(?=\\\\s*([(,<}])|(\\\\s+as|satisifies\\\\s+))","name":"meta.object.member.js.jsx meta.object-literal.key.js.jsx","patterns":[{"include":"#comment"},{"include":"#numeric-literal"}]},{"begin":"(?<=[]\\"'\`])(?=\\\\s*[(<])","end":"(?=[,;}])|(?<=})","name":"meta.method.declaration.js.jsx","patterns":[{"include":"#function-body"}]},{"captures":{"0":{"name":"meta.object-literal.key.js.jsx"},"1":{"name":"constant.numeric.decimal.js.jsx"}},"match":"(?![$_[:alpha:]])(\\\\d+)\\\\s*(?=(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*:)","name":"meta.object.member.js.jsx"},{"captures":{"0":{"name":"meta.object-literal.key.js.jsx"},"1":{"name":"entity.name.function.js.jsx"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?=(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*:(\\\\s*/\\\\*([^*]|(\\\\*[^/]))*\\\\*/)*\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))","name":"meta.object.member.js.jsx"},{"captures":{"0":{"name":"meta.object-literal.key.js.jsx"}},"match":"[$_[:alpha:]][$_[:alnum:]]*\\\\s*(?=(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*:)","name":"meta.object.member.js.jsx"},{"begin":"\\\\.\\\\.\\\\.","beginCaptures":{"0":{"name":"keyword.operator.spread.js.jsx"}},"end":"(?=[,}])","name":"meta.object.member.js.jsx","patterns":[{"include":"#expression"}]},{"captures":{"1":{"name":"variable.other.readwrite.js.jsx"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?=[,}]|$|//|/\\\\*)","name":"meta.object.member.js.jsx"},{"captures":{"1":{"name":"keyword.control.as.js.jsx"},"2":{"name":"storage.modifier.js.jsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as)\\\\s+(const)(?=\\\\s*([,}]|$))","name":"meta.object.member.js.jsx"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(as)|(satisfies))\\\\s+","beginCaptures":{"1":{"name":"keyword.control.as.js.jsx"},"2":{"name":"keyword.control.satisfies.js.jsx"}},"end":"(?=[-\\\\])+,:;>?}]|\\\\|\\\\||&&|!==|$|^|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as|satisifies)\\\\s+))","name":"meta.object.member.js.jsx","patterns":[{"include":"#type"}]},{"begin":"(?=[$_[:alpha:]][$_[:alnum:]]*\\\\s*=)","end":"(?=[,}]|$|//|/\\\\*)","name":"meta.object.member.js.jsx","patterns":[{"include":"#expression"}]},{"begin":":","beginCaptures":{"0":{"name":"meta.object-literal.key.js.jsx punctuation.separator.key-value.js.jsx"}},"end":"(?=[,}])","name":"meta.object.member.js.jsx","patterns":[{"begin":"(?<=:)\\\\s*(async)?(?=\\\\s*(<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))","beginCaptures":{"1":{"name":"storage.modifier.async.js.jsx"}},"end":"(?<=\\\\))","patterns":[{"include":"#type-parameters"},{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.js.jsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js.jsx"}},"patterns":[{"include":"#expression-inside-possibly-arrow-parens"}]}]},{"begin":"(?<=:)\\\\s*(async)?\\\\s*(\\\\()(?=\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))","beginCaptures":{"1":{"name":"storage.modifier.async.js.jsx"},"2":{"name":"meta.brace.round.js.jsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js.jsx"}},"patterns":[{"include":"#expression-inside-possibly-arrow-parens"}]},{"begin":"(?<=:)\\\\s*(async)?\\\\s*(?=<\\\\s*$)","beginCaptures":{"1":{"name":"storage.modifier.async.js.jsx"}},"end":"(?<=>)","patterns":[{"include":"#type-parameters"}]},{"begin":"(?<=>)\\\\s*(\\\\()(?=\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))","beginCaptures":{"1":{"name":"meta.brace.round.js.jsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js.jsx"}},"patterns":[{"include":"#expression-inside-possibly-arrow-parens"}]},{"include":"#possibly-arrow-return-type"},{"include":"#expression"}]},{"include":"#punctuation-comma"},{"include":"#decl-block"}]},"parameter-array-binding-pattern":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\[)","beginCaptures":{"1":{"name":"keyword.operator.rest.js.jsx"},"2":{"name":"punctuation.definition.binding-pattern.array.js.jsx"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.array.js.jsx"}},"patterns":[{"include":"#parameter-binding-element"},{"include":"#punctuation-comma"}]},"parameter-binding-element":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#numeric-literal"},{"include":"#regex"},{"include":"#parameter-object-binding-pattern"},{"include":"#parameter-array-binding-pattern"},{"include":"#destructuring-parameter-rest"},{"include":"#variable-initializer"}]},"parameter-name":{"patterns":[{"captures":{"1":{"name":"storage.modifier.js.jsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|protected|private|readonly)\\\\s+(?=(override|public|protected|private|readonly)\\\\s+)"},{"captures":{"1":{"name":"storage.modifier.js.jsx"},"2":{"name":"keyword.operator.rest.js.jsx"},"3":{"name":"entity.name.function.js.jsx variable.language.this.js.jsx"},"4":{"name":"entity.name.function.js.jsx"},"5":{"name":"keyword.operator.optional.js.jsx"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*(\\\\??)(?=\\\\s*(=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))|(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))))|(:\\\\s*(=>|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(<[^<>]*>)|[^(),<=>])+=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>))))))"},{"captures":{"1":{"name":"storage.modifier.js.jsx"},"2":{"name":"keyword.operator.rest.js.jsx"},"3":{"name":"variable.parameter.js.jsx variable.language.this.js.jsx"},"4":{"name":"variable.parameter.js.jsx"},"5":{"name":"keyword.operator.optional.js.jsx"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*(\\\\??)"}]},"parameter-object-binding-element":{"patterns":[{"include":"#comment"},{"begin":"(?=(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(:))","end":"(?=[,}])","patterns":[{"include":"#object-binding-element-propertyName"},{"include":"#parameter-binding-element"},{"include":"#paren-expression"}]},{"include":"#parameter-object-binding-pattern"},{"include":"#destructuring-parameter-rest"},{"include":"#variable-initializer"},{"include":"#punctuation-comma"}]},"parameter-object-binding-pattern":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\{)","beginCaptures":{"1":{"name":"keyword.operator.rest.js.jsx"},"2":{"name":"punctuation.definition.binding-pattern.object.js.jsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.object.js.jsx"}},"patterns":[{"include":"#parameter-object-binding-element"}]},"parameter-type-annotation":{"patterns":[{"begin":"(:)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.js.jsx"}},"end":"(?=[),])|(?==[^>])","name":"meta.type.annotation.js.jsx","patterns":[{"include":"#type"}]}]},"paren-expression":{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.js.jsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js.jsx"}},"patterns":[{"include":"#expression"}]},"paren-expression-possibly-arrow":{"patterns":[{"begin":"(?<=[(,=])\\\\s*(async)?(?=\\\\s*((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))","beginCaptures":{"1":{"name":"storage.modifier.async.js.jsx"}},"end":"(?<=\\\\))","patterns":[{"include":"#paren-expression-possibly-arrow-with-typeparameters"}]},{"begin":"(?<=[(,=]|=>|^return|[^$._[:alnum:]]return)\\\\s*(async)?(?=\\\\s*((((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\()|(<)|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)))\\\\s*$)","beginCaptures":{"1":{"name":"storage.modifier.async.js.jsx"}},"end":"(?<=\\\\))","patterns":[{"include":"#paren-expression-possibly-arrow-with-typeparameters"}]},{"include":"#possibly-arrow-return-type"}]},"paren-expression-possibly-arrow-with-typeparameters":{"patterns":[{"include":"#type-parameters"},{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.js.jsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js.jsx"}},"patterns":[{"include":"#expression-inside-possibly-arrow-parens"}]}]},"possibly-arrow-return-type":{"begin":"(?<=\\\\)|^)\\\\s*(:)(?=\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*=>)","beginCaptures":{"1":{"name":"meta.arrow.js.jsx meta.return.type.arrow.js.jsx keyword.operator.type.annotation.js.jsx"}},"contentName":"meta.arrow.js.jsx meta.return.type.arrow.js.jsx","end":"(?==>|\\\\{|^(\\\\s*(export|function|class|interface|let|var|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|const|import|enum|namespace|module|type|abstract|declare)\\\\s+))","patterns":[{"include":"#arrow-return-type-body"}]},"property-accessor":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(accessor|get|set)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"storage.type.property.js.jsx"},"punctuation-accessor":{"captures":{"1":{"name":"punctuation.accessor.js.jsx"},"2":{"name":"punctuation.accessor.optional.js.jsx"}},"match":"(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d))"},"punctuation-comma":{"match":",","name":"punctuation.separator.comma.js.jsx"},"punctuation-semicolon":{"match":";","name":"punctuation.terminator.statement.js.jsx"},"qstring-double":{"begin":"\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.js.jsx"}},"end":"(\\")|([^\\\\n\\\\\\\\])$","endCaptures":{"1":{"name":"punctuation.definition.string.end.js.jsx"},"2":{"name":"invalid.illegal.newline.js.jsx"}},"name":"string.quoted.double.js.jsx","patterns":[{"include":"#string-character-escape"}]},"qstring-single":{"begin":"'","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.js.jsx"}},"end":"(')|([^\\\\n\\\\\\\\])$","endCaptures":{"1":{"name":"punctuation.definition.string.end.js.jsx"},"2":{"name":"invalid.illegal.newline.js.jsx"}},"name":"string.quoted.single.js.jsx","patterns":[{"include":"#string-character-escape"}]},"regex":{"patterns":[{"begin":"(?<!\\\\+\\\\+|--|})(?<=[!(+,:=?\\\\[]|^return|[^$._[:alnum:]]return|^case|[^$._[:alnum:]]case|=>|&&|\\\\|\\\\||\\\\*/)\\\\s*(/)(?![*/])(?=(?:[^()/\\\\[\\\\\\\\]|\\\\\\\\.|\\\\[([^]\\\\\\\\]|\\\\\\\\.)+]|\\\\(([^)\\\\\\\\]|\\\\\\\\.)+\\\\))+/([dgimsuvy]+|(?![*/])|(?=/\\\\*))(?!\\\\s*[$0-9A-Z_a-z]))","beginCaptures":{"1":{"name":"punctuation.definition.string.begin.js.jsx"}},"end":"(/)([dgimsuvy]*)","endCaptures":{"1":{"name":"punctuation.definition.string.end.js.jsx"},"2":{"name":"keyword.other.js.jsx"}},"name":"string.regexp.js.jsx","patterns":[{"include":"#regexp"}]},{"begin":"((?<![]$)_[:alnum:]]|\\\\+\\\\+|--|}|\\\\*/)|((?<=^return|[^$._[:alnum:]]return|^case|[^$._[:alnum:]]case))\\\\s*)/(?![*/])(?=(?:[^/\\\\[\\\\\\\\]|\\\\\\\\.|\\\\[([^]\\\\\\\\]|\\\\\\\\.)*])+/([dgimsuvy]+|(?![*/])|(?=/\\\\*))(?!\\\\s*[$0-9A-Z_a-z]))","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.js.jsx"}},"end":"(/)([dgimsuvy]*)","endCaptures":{"1":{"name":"punctuation.definition.string.end.js.jsx"},"2":{"name":"keyword.other.js.jsx"}},"name":"string.regexp.js.jsx","patterns":[{"include":"#regexp"}]}]},"regex-character-class":{"patterns":[{"match":"\\\\\\\\[DSWdfnrstvw]|\\\\.","name":"constant.other.character-class.regexp"},{"match":"\\\\\\\\([0-7]{3}|x\\\\h{2}|u\\\\h{4})","name":"constant.character.numeric.regexp"},{"match":"\\\\\\\\c[A-Z]","name":"constant.character.control.regexp"},{"match":"\\\\\\\\.","name":"constant.character.escape.backslash.regexp"}]},"regexp":{"patterns":[{"match":"\\\\\\\\[Bb]|[$^]","name":"keyword.control.anchor.regexp"},{"captures":{"0":{"name":"keyword.other.back-reference.regexp"},"1":{"name":"variable.other.regexp"}},"match":"\\\\\\\\(?:[1-9]\\\\d*|k<([$A-Z_a-z][$\\\\w]*)>)"},{"match":"[*+?]|\\\\{(\\\\d+,\\\\d+|\\\\d+,|,\\\\d+|\\\\d+)}\\\\??","name":"keyword.operator.quantifier.regexp"},{"match":"\\\\|","name":"keyword.operator.or.regexp"},{"begin":"(\\\\()((\\\\?=)|(\\\\?!)|(\\\\?<=)|(\\\\?<!))","beginCaptures":{"1":{"name":"punctuation.definition.group.regexp"},"2":{"name":"punctuation.definition.group.assertion.regexp"},"3":{"name":"meta.assertion.look-ahead.regexp"},"4":{"name":"meta.assertion.negative-look-ahead.regexp"},"5":{"name":"meta.assertion.look-behind.regexp"},"6":{"name":"meta.assertion.negative-look-behind.regexp"}},"end":"(\\\\))","endCaptures":{"1":{"name":"punctuation.definition.group.regexp"}},"name":"meta.group.assertion.regexp","patterns":[{"include":"#regexp"}]},{"begin":"\\\\((?:(\\\\?:)|\\\\?<([$A-Z_a-z][$\\\\w]*)>)?","beginCaptures":{"0":{"name":"punctuation.definition.group.regexp"},"1":{"name":"punctuation.definition.group.no-capture.regexp"},"2":{"name":"variable.other.regexp"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.group.regexp"}},"name":"meta.group.regexp","patterns":[{"include":"#regexp"}]},{"begin":"(\\\\[)(\\\\^)?","beginCaptures":{"1":{"name":"punctuation.definition.character-class.regexp"},"2":{"name":"keyword.operator.negation.regexp"}},"end":"(])","endCaptures":{"1":{"name":"punctuation.definition.character-class.regexp"}},"name":"constant.other.character-class.set.regexp","patterns":[{"captures":{"1":{"name":"constant.character.numeric.regexp"},"2":{"name":"constant.character.control.regexp"},"3":{"name":"constant.character.escape.backslash.regexp"},"4":{"name":"constant.character.numeric.regexp"},"5":{"name":"constant.character.control.regexp"},"6":{"name":"constant.character.escape.backslash.regexp"}},"match":"(?:.|(\\\\\\\\(?:[0-7]{3}|x\\\\h{2}|u\\\\h{4}))|(\\\\\\\\c[A-Z])|(\\\\\\\\.))-(?:[^]\\\\\\\\]|(\\\\\\\\(?:[0-7]{3}|x\\\\h{2}|u\\\\h{4}))|(\\\\\\\\c[A-Z])|(\\\\\\\\.))","name":"constant.other.character-class.range.regexp"},{"include":"#regex-character-class"}]},{"include":"#regex-character-class"}]},"return-type":{"patterns":[{"begin":"(?<=\\\\))\\\\s*(:)(?=\\\\s*\\\\S)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.js.jsx"}},"end":"(?<![\\\\&:|])(?=$|^|[,;{}]|//)","name":"meta.return.type.js.jsx","patterns":[{"include":"#return-type-core"}]},{"begin":"(?<=\\\\))\\\\s*(:)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.js.jsx"}},"end":"(?<![\\\\&:|])((?=[,;{}]|//|^\\\\s*$)|((?<=\\\\S)(?=\\\\s*$)))","name":"meta.return.type.js.jsx","patterns":[{"include":"#return-type-core"}]}]},"return-type-core":{"patterns":[{"include":"#comment"},{"begin":"(?<=[\\\\&:|])(?=\\\\s*\\\\{)","end":"(?<=})","patterns":[{"include":"#type-object"}]},{"include":"#type-predicate-operator"},{"include":"#type"}]},"shebang":{"captures":{"1":{"name":"punctuation.definition.comment.js.jsx"}},"match":"\\\\A(#!).*(?=$)","name":"comment.line.shebang.js.jsx"},"single-line-comment-consuming-line-ending":{"begin":"(^[\\\\t ]+)?((//)(?:\\\\s*((@)internal)(?=\\\\s|$))?)","beginCaptures":{"1":{"name":"punctuation.whitespace.comment.leading.js.jsx"},"2":{"name":"comment.line.double-slash.js.jsx"},"3":{"name":"punctuation.definition.comment.js.jsx"},"4":{"name":"storage.type.internaldeclaration.js.jsx"},"5":{"name":"punctuation.decorator.internaldeclaration.js.jsx"}},"contentName":"comment.line.double-slash.js.jsx","end":"(?=^)"},"statements":{"patterns":[{"include":"#declaration"},{"include":"#control-statement"},{"include":"#after-operator-block-as-object-literal"},{"include":"#decl-block"},{"include":"#label"},{"include":"#expression"},{"include":"#punctuation-semicolon"},{"include":"#string"},{"include":"#comment"}]},"string":{"patterns":[{"include":"#qstring-single"},{"include":"#qstring-double"},{"include":"#template"}]},"string-character-escape":{"match":"\\\\\\\\(x\\\\h{2}|u\\\\h{4}|u\\\\{\\\\h+}|[012][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.|$)","name":"constant.character.escape.js.jsx"},"super-literal":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))super\\\\b(?!\\\\$)","name":"variable.language.super.js.jsx"},"support-function-call-identifiers":{"patterns":[{"include":"#literal"},{"include":"#support-objects"},{"include":"#object-identifiers"},{"include":"#punctuation-accessor"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))import(?=\\\\s*\\\\(\\\\s*[\\"'\`])","name":"keyword.operator.expression.import.js.jsx"}]},"support-objects":{"patterns":[{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(arguments)\\\\b(?!\\\\$)","name":"variable.language.arguments.js.jsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(Promise)\\\\b(?!\\\\$)","name":"support.class.promise.js.jsx"},{"captures":{"1":{"name":"keyword.control.import.js.jsx"},"2":{"name":"punctuation.accessor.js.jsx"},"3":{"name":"punctuation.accessor.optional.js.jsx"},"4":{"name":"support.variable.property.importmeta.js.jsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(import)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(meta)\\\\b(?!\\\\$)"},{"captures":{"1":{"name":"keyword.operator.new.js.jsx"},"2":{"name":"punctuation.accessor.js.jsx"},"3":{"name":"punctuation.accessor.optional.js.jsx"},"4":{"name":"support.variable.property.target.js.jsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(new)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(target)\\\\b(?!\\\\$)"},{"captures":{"1":{"name":"punctuation.accessor.js.jsx"},"2":{"name":"punctuation.accessor.optional.js.jsx"},"3":{"name":"support.variable.property.js.jsx"},"4":{"name":"support.constant.js.jsx"}},"match":"(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(?:(constructor|length|prototype|__proto__)\\\\b(?!\\\\$|\\\\s*(<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\()|(EPSILON|MAX_SAFE_INTEGER|MAX_VALUE|MIN_SAFE_INTEGER|MIN_VALUE|NEGATIVE_INFINITY|POSITIVE_INFINITY)\\\\b(?!\\\\$))"},{"captures":{"1":{"name":"support.type.object.module.js.jsx"},"2":{"name":"support.type.object.module.js.jsx"},"3":{"name":"punctuation.accessor.js.jsx"},"4":{"name":"punctuation.accessor.optional.js.jsx"},"5":{"name":"support.type.object.module.js.jsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(exports)|(module)(?:(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))(exports|id|filename|loaded|parent|children))?)\\\\b(?!\\\\$)"}]},"switch-statement":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?=\\\\bswitch\\\\s*\\\\()","end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.js.jsx"}},"name":"switch-statement.expr.js.jsx","patterns":[{"include":"#comment"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(switch)\\\\s*(\\\\()","beginCaptures":{"1":{"name":"keyword.control.switch.js.jsx"},"2":{"name":"meta.brace.round.js.jsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js.jsx"}},"name":"switch-expression.expr.js.jsx","patterns":[{"include":"#expression"}]},{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.js.jsx"}},"end":"(?=})","name":"switch-block.expr.js.jsx","patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(case|default(?=:))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.control.switch.js.jsx"}},"end":"(?=:)","name":"case-clause.expr.js.jsx","patterns":[{"include":"#expression"}]},{"begin":"(:)\\\\s*(\\\\{)","beginCaptures":{"1":{"name":"case-clause.expr.js.jsx punctuation.definition.section.case-statement.js.jsx"},"2":{"name":"meta.block.js.jsx punctuation.definition.block.js.jsx"}},"contentName":"meta.block.js.jsx","end":"}","endCaptures":{"0":{"name":"meta.block.js.jsx punctuation.definition.block.js.jsx"}},"patterns":[{"include":"#statements"}]},{"captures":{"0":{"name":"case-clause.expr.js.jsx punctuation.definition.section.case-statement.js.jsx"}},"match":"(:)"},{"include":"#statements"}]}]},"template":{"patterns":[{"include":"#template-call"},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)?(\`)","beginCaptures":{"1":{"name":"entity.name.function.tagged-template.js.jsx"},"2":{"name":"string.template.js.jsx punctuation.definition.string.template.begin.js.jsx"}},"contentName":"string.template.js.jsx","end":"\`","endCaptures":{"0":{"name":"string.template.js.jsx punctuation.definition.string.template.end.js.jsx"}},"patterns":[{"include":"#template-substitution-element"},{"include":"#string-character-escape"}]}]},"template-call":{"patterns":[{"begin":"(?=(([$_[:alpha:]][$_[:alnum:]]*\\\\s*\\\\??\\\\.\\\\s*)*|(\\\\??\\\\.\\\\s*)?)([$_[:alpha:]][$_[:alnum:]]*)(<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)?\`)","end":"(?=\`)","patterns":[{"begin":"(?=(([$_[:alpha:]][$_[:alnum:]]*\\\\s*\\\\??\\\\.\\\\s*)*|(\\\\??\\\\.\\\\s*)?)([$_[:alpha:]][$_[:alnum:]]*))","end":"(?=(<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)?\`)","patterns":[{"include":"#support-function-call-identifiers"},{"match":"([$_[:alpha:]][$_[:alnum:]]*)","name":"entity.name.function.tagged-template.js.jsx"}]},{"include":"#type-arguments"}]},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)?\\\\s*(?=(<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)\`)","beginCaptures":{"1":{"name":"entity.name.function.tagged-template.js.jsx"}},"end":"(?=\`)","patterns":[{"include":"#type-arguments"}]}]},"template-substitution-element":{"begin":"\\\\$\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.template-expression.begin.js.jsx"}},"contentName":"meta.embedded.line.js.jsx","end":"}","endCaptures":{"0":{"name":"punctuation.definition.template-expression.end.js.jsx"}},"name":"meta.template.expression.js.jsx","patterns":[{"include":"#expression"}]},"template-type":{"patterns":[{"include":"#template-call"},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)?(\`)","beginCaptures":{"1":{"name":"entity.name.function.tagged-template.js.jsx"},"2":{"name":"string.template.js.jsx punctuation.definition.string.template.begin.js.jsx"}},"contentName":"string.template.js.jsx","end":"\`","endCaptures":{"0":{"name":"string.template.js.jsx punctuation.definition.string.template.end.js.jsx"}},"patterns":[{"include":"#template-type-substitution-element"},{"include":"#string-character-escape"}]}]},"template-type-substitution-element":{"begin":"\\\\$\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.template-expression.begin.js.jsx"}},"contentName":"meta.embedded.line.js.jsx","end":"}","endCaptures":{"0":{"name":"punctuation.definition.template-expression.end.js.jsx"}},"name":"meta.template.expression.js.jsx","patterns":[{"include":"#type"}]},"ternary-expression":{"begin":"(?!\\\\?\\\\.\\\\s*\\\\D)(\\\\?)(?!\\\\?)","beginCaptures":{"1":{"name":"keyword.operator.ternary.js.jsx"}},"end":"\\\\s*(:)","endCaptures":{"1":{"name":"keyword.operator.ternary.js.jsx"}},"patterns":[{"include":"#expression"}]},"this-literal":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))this\\\\b(?!\\\\$)","name":"variable.language.this.js.jsx"},"type":{"patterns":[{"include":"#comment"},{"include":"#type-string"},{"include":"#numeric-literal"},{"include":"#type-primitive"},{"include":"#type-builtin-literals"},{"include":"#type-parameters"},{"include":"#type-tuple"},{"include":"#type-object"},{"include":"#type-operators"},{"include":"#type-conditional"},{"include":"#type-fn-type-parameters"},{"include":"#type-paren-or-function-parameters"},{"include":"#type-function-return-type"},{"captures":{"1":{"name":"storage.modifier.js.jsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(readonly)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*"},{"include":"#type-name"}]},"type-alias-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(type)\\\\b\\\\s+([$_[:alpha:]][$_[:alnum:]]*)\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.js.jsx"},"2":{"name":"storage.modifier.js.jsx"},"3":{"name":"storage.type.type.js.jsx"},"4":{"name":"entity.name.type.alias.js.jsx"}},"end":"(?=[;}]|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","name":"meta.type.declaration.js.jsx","patterns":[{"include":"#comment"},{"include":"#type-parameters"},{"begin":"(=)\\\\s*(intrinsic)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.operator.assignment.js.jsx"},"2":{"name":"keyword.control.intrinsic.js.jsx"}},"end":"(?=[;}]|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","patterns":[{"include":"#type"}]},{"begin":"(=)\\\\s*","beginCaptures":{"1":{"name":"keyword.operator.assignment.js.jsx"}},"end":"(?=[;}]|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","patterns":[{"include":"#type"}]}]},"type-annotation":{"patterns":[{"begin":"(:)(?=\\\\s*\\\\S)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.js.jsx"}},"end":"(?<![\\\\&:|])(?!\\\\s*[\\\\&|]\\\\s+)((?=^|[]),;}]|//)|(?==[^>])|((?<=[]$)>_}[:alpha:]])\\\\s*(?=\\\\{)))","name":"meta.type.annotation.js.jsx","patterns":[{"include":"#type"}]},{"begin":"(:)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.js.jsx"}},"end":"(?<![\\\\&:|])((?=[]),;}]|//)|(?==[^>])|(?=^\\\\s*$)|((?<=[]$)>_}[:alpha:]])\\\\s*(?=\\\\{)))","name":"meta.type.annotation.js.jsx","patterns":[{"include":"#type"}]}]},"type-arguments":{"begin":"<","beginCaptures":{"0":{"name":"punctuation.definition.typeparameters.begin.js.jsx"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.typeparameters.end.js.jsx"}},"name":"meta.type.parameters.js.jsx","patterns":[{"include":"#type-arguments-body"}]},"type-arguments-body":{"patterns":[{"captures":{"0":{"name":"keyword.operator.type.js.jsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(_)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"include":"#type"},{"include":"#punctuation-comma"}]},"type-builtin-literals":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(this|true|false|undefined|null|object)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"support.type.builtin.js.jsx"},"type-conditional":{"patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(extends)\\\\s+","beginCaptures":{"1":{"name":"storage.modifier.js.jsx"}},"end":"(?<=:)","patterns":[{"begin":"\\\\?","beginCaptures":{"0":{"name":"keyword.operator.ternary.js.jsx"}},"end":":","endCaptures":{"0":{"name":"keyword.operator.ternary.js.jsx"}},"patterns":[{"include":"#type"}]},{"include":"#type"}]}]},"type-fn-type-parameters":{"patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(abstract)\\\\s+)?(new)\\\\b(?=\\\\s*<)","beginCaptures":{"1":{"name":"meta.type.constructor.js.jsx storage.modifier.js.jsx"},"2":{"name":"meta.type.constructor.js.jsx keyword.control.new.js.jsx"}},"end":"(?<=>)","patterns":[{"include":"#comment"},{"include":"#type-parameters"}]},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(abstract)\\\\s+)?(new)\\\\b\\\\s*(?=\\\\()","beginCaptures":{"1":{"name":"storage.modifier.js.jsx"},"2":{"name":"keyword.control.new.js.jsx"}},"end":"(?<=\\\\))","name":"meta.type.constructor.js.jsx","patterns":[{"include":"#function-parameters"}]},{"begin":"((?=\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>))))))","end":"(?<=\\\\))","name":"meta.type.function.js.jsx","patterns":[{"include":"#function-parameters"}]}]},"type-function-return-type":{"patterns":[{"begin":"(=>)(?=\\\\s*\\\\S)","beginCaptures":{"1":{"name":"storage.type.function.arrow.js.jsx"}},"end":"(?<!=>)(?<![\\\\&|])(?=[]),:;=>?{}]|//|$)","name":"meta.type.function.return.js.jsx","patterns":[{"include":"#type-function-return-type-core"}]},{"begin":"=>","beginCaptures":{"0":{"name":"storage.type.function.arrow.js.jsx"}},"end":"(?<!=>)(?<![\\\\&|])((?=[]),:;=>?{}]|//|^\\\\s*$)|((?<=\\\\S)(?=\\\\s*$)))","name":"meta.type.function.return.js.jsx","patterns":[{"include":"#type-function-return-type-core"}]}]},"type-function-return-type-core":{"patterns":[{"include":"#comment"},{"begin":"(?<==>)(?=\\\\s*\\\\{)","end":"(?<=})","patterns":[{"include":"#type-object"}]},{"include":"#type-predicate-operator"},{"include":"#type"}]},"type-infer":{"patterns":[{"captures":{"1":{"name":"keyword.operator.expression.infer.js.jsx"},"2":{"name":"entity.name.type.js.jsx"},"3":{"name":"keyword.operator.expression.extends.js.jsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(infer)\\\\s+([$_[:alpha:]][$_[:alnum:]]*)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?:\\\\s+(extends)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))?","name":"meta.type.infer.js.jsx"}]},"type-name":{"patterns":[{"begin":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(<)","captures":{"1":{"name":"entity.name.type.module.js.jsx"},"2":{"name":"punctuation.accessor.js.jsx"},"3":{"name":"punctuation.accessor.optional.js.jsx"},"4":{"name":"meta.type.parameters.js.jsx punctuation.definition.typeparameters.begin.js.jsx"}},"contentName":"meta.type.parameters.js.jsx","end":"(>)","endCaptures":{"1":{"name":"meta.type.parameters.js.jsx punctuation.definition.typeparameters.end.js.jsx"}},"patterns":[{"include":"#type-arguments-body"}]},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(<)","beginCaptures":{"1":{"name":"entity.name.type.js.jsx"},"2":{"name":"meta.type.parameters.js.jsx punctuation.definition.typeparameters.begin.js.jsx"}},"contentName":"meta.type.parameters.js.jsx","end":"(>)","endCaptures":{"1":{"name":"meta.type.parameters.js.jsx punctuation.definition.typeparameters.end.js.jsx"}},"patterns":[{"include":"#type-arguments-body"}]},{"captures":{"1":{"name":"entity.name.type.module.js.jsx"},"2":{"name":"punctuation.accessor.js.jsx"},"3":{"name":"punctuation.accessor.optional.js.jsx"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))"},{"match":"[$_[:alpha:]][$_[:alnum:]]*","name":"entity.name.type.js.jsx"}]},"type-object":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.js.jsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.js.jsx"}},"name":"meta.object.type.js.jsx","patterns":[{"include":"#comment"},{"include":"#method-declaration"},{"include":"#indexer-declaration"},{"include":"#indexer-mapped-type-declaration"},{"include":"#field-declaration"},{"include":"#type-annotation"},{"begin":"\\\\.\\\\.\\\\.","beginCaptures":{"0":{"name":"keyword.operator.spread.js.jsx"}},"end":"(?=[,;}]|$)|(?<=})","patterns":[{"include":"#type"}]},{"include":"#punctuation-comma"},{"include":"#punctuation-semicolon"},{"include":"#type"}]},"type-operators":{"patterns":[{"include":"#typeof-operator"},{"include":"#type-infer"},{"begin":"([\\\\&|])(?=\\\\s*\\\\{)","beginCaptures":{"0":{"name":"keyword.operator.type.js.jsx"}},"end":"(?<=})","patterns":[{"include":"#type-object"}]},{"begin":"[\\\\&|]","beginCaptures":{"0":{"name":"keyword.operator.type.js.jsx"}},"end":"(?=\\\\S)"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))keyof(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.expression.keyof.js.jsx"},{"match":"([:?])","name":"keyword.operator.ternary.js.jsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))import(?=\\\\s*\\\\()","name":"keyword.operator.expression.import.js.jsx"}]},"type-parameters":{"begin":"(<)","beginCaptures":{"1":{"name":"punctuation.definition.typeparameters.begin.js.jsx"}},"end":"(>)","endCaptures":{"1":{"name":"punctuation.definition.typeparameters.end.js.jsx"}},"name":"meta.type.parameters.js.jsx","patterns":[{"include":"#comment"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(extends|in|out|const)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"storage.modifier.js.jsx"},{"include":"#type"},{"include":"#punctuation-comma"},{"match":"(=)(?!>)","name":"keyword.operator.assignment.js.jsx"}]},"type-paren-or-function-parameters":{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.js.jsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.js.jsx"}},"name":"meta.type.paren.cover.js.jsx","patterns":[{"captures":{"1":{"name":"storage.modifier.js.jsx"},"2":{"name":"keyword.operator.rest.js.jsx"},"3":{"name":"entity.name.function.js.jsx variable.language.this.js.jsx"},"4":{"name":"entity.name.function.js.jsx"},"5":{"name":"keyword.operator.optional.js.jsx"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))\\\\s*(\\\\??)(?=\\\\s*(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))))"},{"captures":{"1":{"name":"storage.modifier.js.jsx"},"2":{"name":"keyword.operator.rest.js.jsx"},"3":{"name":"variable.parameter.js.jsx variable.language.this.js.jsx"},"4":{"name":"variable.parameter.js.jsx"},"5":{"name":"keyword.operator.optional.js.jsx"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))\\\\s*(\\\\??)(?=:)"},{"include":"#type-annotation"},{"match":",","name":"punctuation.separator.parameter.js.jsx"},{"include":"#type"}]},"type-predicate-operator":{"patterns":[{"captures":{"1":{"name":"keyword.operator.type.asserts.js.jsx"},"2":{"name":"variable.parameter.js.jsx variable.language.this.js.jsx"},"3":{"name":"variable.parameter.js.jsx"},"4":{"name":"keyword.operator.expression.is.js.jsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(asserts)\\\\s+)?(?!asserts)(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))\\\\s(is)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"captures":{"1":{"name":"keyword.operator.type.asserts.js.jsx"},"2":{"name":"variable.parameter.js.jsx variable.language.this.js.jsx"},"3":{"name":"variable.parameter.js.jsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(asserts)\\\\s+(?!is)(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))asserts(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.type.asserts.js.jsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))is(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.expression.is.js.jsx"}]},"type-primitive":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(string|number|bigint|boolean|symbol|any|void|never|unknown)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"support.type.primitive.js.jsx"},"type-string":{"patterns":[{"include":"#qstring-single"},{"include":"#qstring-double"},{"include":"#template-type"}]},"type-tuple":{"begin":"\\\\[","beginCaptures":{"0":{"name":"meta.brace.square.js.jsx"}},"end":"]","endCaptures":{"0":{"name":"meta.brace.square.js.jsx"}},"name":"meta.type.tuple.js.jsx","patterns":[{"match":"\\\\.\\\\.\\\\.","name":"keyword.operator.rest.js.jsx"},{"captures":{"1":{"name":"entity.name.label.js.jsx"},"2":{"name":"keyword.operator.optional.js.jsx"},"3":{"name":"punctuation.separator.label.js.jsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(\\\\?)?\\\\s*(:)"},{"include":"#type"},{"include":"#punctuation-comma"}]},"typeof-operator":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))typeof(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"0":{"name":"keyword.operator.expression.typeof.js.jsx"}},"end":"(?=[]\\\\&),:;=>?{|}]|(extends\\\\s+)|$|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","patterns":[{"include":"#type-arguments"},{"include":"#expression"}]},"undefined-literal":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))undefined(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.undefined.js.jsx"},"var-expr":{"patterns":[{"begin":"(?=(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(var|let)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))","end":"(?!(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(var|let)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))((?=^|[;}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)|((?<!^let|[^$._[:alnum:]]let|^var|[^$._[:alnum:]]var)(?=\\\\s*$)))","name":"meta.var.expr.js.jsx","patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(var|let)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.js.jsx"},"2":{"name":"storage.modifier.js.jsx"},"3":{"name":"storage.type.js.jsx"}},"end":"(?=\\\\S)"},{"include":"#destructuring-variable"},{"include":"#var-single-variable"},{"include":"#variable-initializer"},{"include":"#comment"},{"begin":"(,)\\\\s*(?=$|//)","beginCaptures":{"1":{"name":"punctuation.separator.comma.js.jsx"}},"end":"(?<!,)(((?=[;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|^\\\\s*$))|((?<=\\\\S)(?=\\\\s*$)))","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#comment"},{"include":"#destructuring-variable"},{"include":"#var-single-variable"},{"include":"#punctuation-comma"}]},{"include":"#punctuation-comma"}]},{"begin":"(?=(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(const(?!\\\\s+enum\\\\b))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))","beginCaptures":{"1":{"name":"keyword.control.export.js.jsx"},"2":{"name":"storage.modifier.js.jsx"},"3":{"name":"storage.type.js.jsx"}},"end":"(?!(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(const(?!\\\\s+enum\\\\b))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))((?=^|[;}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)|((?<!(?:^|[^$._[:alnum:]])const)(?=\\\\s*$)))","name":"meta.var.expr.js.jsx","patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(const(?!\\\\s+enum\\\\b))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.js.jsx"},"2":{"name":"storage.modifier.js.jsx"},"3":{"name":"storage.type.js.jsx"}},"end":"(?=\\\\S)"},{"include":"#destructuring-const"},{"include":"#var-single-const"},{"include":"#variable-initializer"},{"include":"#comment"},{"begin":"(,)\\\\s*(?=$|//)","beginCaptures":{"1":{"name":"punctuation.separator.comma.js.jsx"}},"end":"(?<!,)(((?=[;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|^\\\\s*$))|((?<=\\\\S)(?=\\\\s*$)))","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#comment"},{"include":"#destructuring-const"},{"include":"#var-single-const"},{"include":"#punctuation-comma"}]},{"include":"#punctuation-comma"}]},{"begin":"(?=(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b\\\\b(using(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])|await\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b)\\\\b(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))","beginCaptures":{"1":{"name":"keyword.control.export.js.jsx"},"2":{"name":"storage.modifier.js.jsx"},"3":{"name":"storage.type.js.jsx"}},"end":"(?!(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b\\\\b(using(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])|await\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b)\\\\b(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))((?=[;}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)|((?<!(?:^|[^$._[:alnum:]]|^await\\\\s+|[^$._[:alnum:]]await\\\\s+)using)(?=\\\\s*$)))","name":"meta.var.expr.js.jsx","patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b\\\\b(using(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])|await\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b)\\\\b(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.js.jsx"},"2":{"name":"storage.modifier.js.jsx"},"3":{"name":"storage.type.js.jsx"}},"end":"(?=\\\\S)"},{"include":"#var-single-const"},{"include":"#variable-initializer"},{"include":"#comment"},{"begin":"(,)\\\\s*((?!\\\\S)|(?=//))","beginCaptures":{"1":{"name":"punctuation.separator.comma.js.jsx"}},"end":"(?<!,)(((?=[;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|^\\\\s*$))|((?<=\\\\S)(?=\\\\s*$)))","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#comment"},{"include":"#var-single-const"},{"include":"#punctuation-comma"}]},{"include":"#punctuation-comma"}]}]},"var-single-const":{"patterns":[{"begin":"([$_[:alpha:]][$_[:alnum:]]*)(?=\\\\s*(=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))|(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))))|(:\\\\s*(=>|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(<[^<>]*>)|[^(),<=>])+=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>))))))","beginCaptures":{"1":{"name":"meta.definition.variable.js.jsx variable.other.constant.js.jsx entity.name.function.js.jsx"}},"end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|(;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b))","name":"meta.var-single-variable.expr.js.jsx","patterns":[{"include":"#var-single-variable-type-annotation"}]},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)","beginCaptures":{"1":{"name":"meta.definition.variable.js.jsx variable.other.constant.js.jsx"}},"end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|(;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b))","name":"meta.var-single-variable.expr.js.jsx","patterns":[{"include":"#var-single-variable-type-annotation"}]}]},"var-single-variable":{"patterns":[{"begin":"([$_[:alpha:]][$_[:alnum:]]*)(!)?(?=\\\\s*(=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))|(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))))|(:\\\\s*(=>|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(<[^<>]*>)|[^(),<=>])+=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>))))))","beginCaptures":{"1":{"name":"meta.definition.variable.js.jsx entity.name.function.js.jsx"},"2":{"name":"keyword.operator.definiteassignment.js.jsx"}},"end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|(;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b))","name":"meta.var-single-variable.expr.js.jsx","patterns":[{"include":"#var-single-variable-type-annotation"}]},{"begin":"(\\\\p{upper}[$_\\\\d[:upper:]]*)(?![$_[:alnum:]])(!)?","beginCaptures":{"1":{"name":"meta.definition.variable.js.jsx variable.other.constant.js.jsx"},"2":{"name":"keyword.operator.definiteassignment.js.jsx"}},"end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|(;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b))","name":"meta.var-single-variable.expr.js.jsx","patterns":[{"include":"#var-single-variable-type-annotation"}]},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)(!)?","beginCaptures":{"1":{"name":"meta.definition.variable.js.jsx variable.other.readwrite.js.jsx"},"2":{"name":"keyword.operator.definiteassignment.js.jsx"}},"end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|(;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b))","name":"meta.var-single-variable.expr.js.jsx","patterns":[{"include":"#var-single-variable-type-annotation"}]}]},"var-single-variable-type-annotation":{"patterns":[{"include":"#type-annotation"},{"include":"#string"},{"include":"#comment"}]},"variable-initializer":{"patterns":[{"begin":"(?<![!=])(=)(?!=)(?=\\\\s*\\\\S)(?!\\\\s*.*=>\\\\s*$)","beginCaptures":{"1":{"name":"keyword.operator.assignment.js.jsx"}},"end":"(?=$|^|[]),;}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))","patterns":[{"include":"#expression"}]},{"begin":"(?<![!=])(=)(?!=)","beginCaptures":{"1":{"name":"keyword.operator.assignment.js.jsx"}},"end":"(?=[]),;}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))|(?=^\\\\s*$)|(?<![-\\\\&*+/|])(?<=\\\\S)(?<!=)(?=\\\\s*$)","patterns":[{"include":"#expression"}]}]}},"scopeName":"source.js.jsx"}`)),Ez=[C9e],AQe=Object.freeze(Object.defineProperty({__proto__:null,default:Ez},Symbol.toStringTag,{value:"Module"})),S9e=Object.freeze(JSON.parse('{"displayName":"Markdown","name":"markdown","patterns":[{"include":"#frontMatter"},{"include":"#block"}],"repository":{"ampersand":{"match":"&(?!([0-9A-Za-z]+|#[0-9]+|#x\\\\h+);)","name":"meta.other.valid-ampersand.markdown"},"block":{"patterns":[{"include":"#separator"},{"include":"#heading"},{"include":"#blockquote"},{"include":"#lists"},{"include":"#fenced_code_block"},{"include":"#raw_block"},{"include":"#link-def"},{"include":"#html"},{"include":"#table"},{"include":"#paragraph"}]},"blockquote":{"begin":"(^|\\\\G) {0,3}(>) ?","captures":{"2":{"name":"punctuation.definition.quote.begin.markdown"}},"name":"markup.quote.markdown","patterns":[{"include":"#block"}],"while":"(^|\\\\G)\\\\s*(>) ?"},"bold":{"begin":"(?<open>(\\\\*\\\\*(?=\\\\w)|(?<!\\\\w)\\\\*\\\\*|(?<!\\\\w)\\\\b__))(?=\\\\S)(?=(<[^>]*+>|(?<raw>`+)([^`]|(?!(?<!`)\\\\k<raw>(?!`))`)*+\\\\k<raw>|\\\\\\\\[-\\\\]!#(-+.>\\\\[\\\\\\\\_`{}]?+|\\\\[((?<square>[^]\\\\[\\\\\\\\]|\\\\\\\\.|\\\\[\\\\g<square>*+])*+](( ?\\\\[[^]]*+])|(\\\\([\\\\t ]*+<?(.*?)>?[\\\\t ]*+((?<title>[\\"\'])(.*?)\\\\k<title>)?\\\\))))|(?!(?<=\\\\S)\\\\k<open>).)++(?<=\\\\S)(?=__\\\\b|\\\\*\\\\*)\\\\k<open>)","captures":{"1":{"name":"punctuation.definition.bold.markdown"}},"end":"(?<=\\\\S)(\\\\1)","name":"markup.bold.markdown","patterns":[{"applyEndPatternLast":1,"begin":"(?=<[^>]*?>)","end":"(?<=>)","patterns":[{"include":"text.html.derivative"}]},{"include":"#escape"},{"include":"#ampersand"},{"include":"#bracket"},{"include":"#raw"},{"include":"#bold"},{"include":"#italic"},{"include":"#image-inline"},{"include":"#link-inline"},{"include":"#link-inet"},{"include":"#link-email"},{"include":"#image-ref"},{"include":"#link-ref-literal"},{"include":"#link-ref"},{"include":"#link-ref-shortcut"},{"include":"#strikethrough"}]},"bracket":{"match":"<(?![!$/?A-Za-z])","name":"meta.other.valid-bracket.markdown"},"escape":{"match":"\\\\\\\\[-\\\\]!#(-+.>\\\\[\\\\\\\\_`{}]","name":"constant.character.escape.markdown"},"fenced_code_block":{"patterns":[{"include":"#fenced_code_block_css"},{"include":"#fenced_code_block_basic"},{"include":"#fenced_code_block_ini"},{"include":"#fenced_code_block_java"},{"include":"#fenced_code_block_lua"},{"include":"#fenced_code_block_makefile"},{"include":"#fenced_code_block_perl"},{"include":"#fenced_code_block_r"},{"include":"#fenced_code_block_ruby"},{"include":"#fenced_code_block_php"},{"include":"#fenced_code_block_sql"},{"include":"#fenced_code_block_vs_net"},{"include":"#fenced_code_block_xml"},{"include":"#fenced_code_block_xsl"},{"include":"#fenced_code_block_yaml"},{"include":"#fenced_code_block_dosbatch"},{"include":"#fenced_code_block_clojure"},{"include":"#fenced_code_block_coffee"},{"include":"#fenced_code_block_c"},{"include":"#fenced_code_block_cpp"},{"include":"#fenced_code_block_diff"},{"include":"#fenced_code_block_dockerfile"},{"include":"#fenced_code_block_git_commit"},{"include":"#fenced_code_block_git_rebase"},{"include":"#fenced_code_block_go"},{"include":"#fenced_code_block_groovy"},{"include":"#fenced_code_block_pug"},{"include":"#fenced_code_block_ignore"},{"include":"#fenced_code_block_js"},{"include":"#fenced_code_block_js_regexp"},{"include":"#fenced_code_block_json"},{"include":"#fenced_code_block_jsonc"},{"include":"#fenced_code_block_jsonl"},{"include":"#fenced_code_block_less"},{"include":"#fenced_code_block_objc"},{"include":"#fenced_code_block_swift"},{"include":"#fenced_code_block_scss"},{"include":"#fenced_code_block_perl6"},{"include":"#fenced_code_block_powershell"},{"include":"#fenced_code_block_python"},{"include":"#fenced_code_block_julia"},{"include":"#fenced_code_block_regexp_python"},{"include":"#fenced_code_block_rust"},{"include":"#fenced_code_block_scala"},{"include":"#fenced_code_block_shell"},{"include":"#fenced_code_block_ts"},{"include":"#fenced_code_block_tsx"},{"include":"#fenced_code_block_csharp"},{"include":"#fenced_code_block_fsharp"},{"include":"#fenced_code_block_dart"},{"include":"#fenced_code_block_handlebars"},{"include":"#fenced_code_block_markdown"},{"include":"#fenced_code_block_log"},{"include":"#fenced_code_block_erlang"},{"include":"#fenced_code_block_elixir"},{"include":"#fenced_code_block_latex"},{"include":"#fenced_code_block_bibtex"},{"include":"#fenced_code_block_twig"},{"include":"#fenced_code_block_yang"},{"include":"#fenced_code_block_abap"},{"include":"#fenced_code_block_restructuredtext"},{"include":"#fenced_code_block_unknown"}]},"fenced_code_block_abap":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(abap)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.abap","patterns":[{"include":"source.abap"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_basic":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(html?|shtml|xhtml|inc|tmpl|tpl)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.html","patterns":[{"include":"text.html.basic"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_bibtex":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(bibtex)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.bibtex","patterns":[{"include":"text.bibtex"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_c":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:([ch])((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.c","patterns":[{"include":"source.c"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_clojure":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(cl(?:js??|ojure))((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.clojure","patterns":[{"include":"source.clojure"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_coffee":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(coffee|Cakefile|coffee.erb)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.coffee","patterns":[{"include":"source.coffee"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_cpp":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(c(?:pp|\\\\+\\\\+|xx))((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.cpp source.cpp","patterns":[{"include":"source.cpp"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_csharp":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(c(?:s|sharp|#))((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.csharp","patterns":[{"include":"source.cs"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_css":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(css(?:|.erb))((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.css","patterns":[{"include":"source.css"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_dart":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(dart)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.dart","patterns":[{"include":"source.dart"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_diff":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(patch|diff|rej)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.diff","patterns":[{"include":"source.diff"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_dockerfile":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:([Dd]ockerfile)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.dockerfile","patterns":[{"include":"source.dockerfile"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_dosbatch":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(bat(?:|ch))((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.dosbatch","patterns":[{"include":"source.batchfile"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_elixir":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(elixir)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.elixir","patterns":[{"include":"source.elixir"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_erlang":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(erlang)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.erlang","patterns":[{"include":"source.erlang"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_fsharp":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(f(?:s|sharp|#))((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.fsharp","patterns":[{"include":"source.fsharp"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_git_commit":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:((?:COMMIT_EDIT|MERGE_)MSG)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.git_commit","patterns":[{"include":"text.git-commit"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_git_rebase":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(git-rebase-todo)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.git_rebase","patterns":[{"include":"text.git-rebase"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_go":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(go(?:|lang))((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.go","patterns":[{"include":"source.go"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_groovy":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(g(?:roovy|vy))((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.groovy","patterns":[{"include":"source.groovy"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_handlebars":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(h(?:andlebars|bs))((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.handlebars","patterns":[{"include":"text.html.handlebars"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_ignore":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:((?:git|)ignore)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.ignore","patterns":[{"include":"source.ignore"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_ini":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(ini|conf)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.ini","patterns":[{"include":"source.ini"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_java":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(java|bsh)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.java","patterns":[{"include":"source.java"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_js":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(jsx??|javascript|es6|mjs|cjs|dataviewjs|\\\\{\\\\.js.+?})((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.javascript","patterns":[{"include":"source.js"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_js_regexp":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(regexp)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.js_regexp","patterns":[{"include":"source.js.regexp"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_json":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(json5??|sublime-settings|sublime-menu|sublime-keymap|sublime-mousemap|sublime-theme|sublime-build|sublime-project|sublime-completions)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.json","patterns":[{"include":"source.json"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_jsonc":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(jsonc)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.jsonc","patterns":[{"include":"source.json.comments"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_jsonl":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(jsonl(?:|ines))((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.jsonl","patterns":[{"include":"source.json.lines"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_julia":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(julia|\\\\{\\\\.julia.+?})((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.julia","patterns":[{"include":"source.julia"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_latex":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:((?:la|)tex)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.latex","patterns":[{"include":"text.tex.latex"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_less":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(less)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.less","patterns":[{"include":"source.css.less"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_log":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(log)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.log","patterns":[{"include":"text.log"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_lua":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(lua)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.lua","patterns":[{"include":"source.lua"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_makefile":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:((?:[Mm]|GNUm|OCamlM)akefile)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.makefile","patterns":[{"include":"source.makefile"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_markdown":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(m(?:arkdown|d))((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.markdown","patterns":[{"include":"text.html.markdown"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_objc":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(objectivec|objective-c|mm|objc|obj-c|[hm])((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.objc","patterns":[{"include":"source.objc"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_perl":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(perl|pl|pm|pod|t|PL|psgi|vcl)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.perl","patterns":[{"include":"source.perl"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_perl6":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(perl6|p6|pl6|pm6|nqp)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.perl6","patterns":[{"include":"source.perl.6"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_php":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(php3??|php4|php5|phpt|phtml|aw|ctp)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.php","patterns":[{"include":"text.html.basic"},{"include":"source.php"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_powershell":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(p(?:owershell|s1|sm1|sd1|wsh))((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.powershell","patterns":[{"include":"source.powershell"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_pug":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(jade|pug)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.pug","patterns":[{"include":"text.pug"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_python":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(python|py3??|rpy|pyw|cpy|SConstruct|Sconstruct|sconstruct|SConscript|gypi??|\\\\{\\\\.python.+?})((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.python","patterns":[{"include":"source.python"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_r":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:([RSrs]|Rprofile|\\\\{\\\\.r.+?})((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.r","patterns":[{"include":"source.r"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_regexp_python":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(re)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.regexp_python","patterns":[{"include":"source.regexp.python"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_restructuredtext":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(r(?:estructuredtext|st))((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.restructuredtext","patterns":[{"include":"source.rst"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_ruby":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(ruby|rbx??|rjs|Rakefile|rake|cgi|fcgi|gemspec|irbrc|Capfile|ru|prawn|Cheffile|Gemfile|Guardfile|Hobofile|Vagrantfile|Appraisals|Rantfile|Berksfile|Berksfile.lock|Thorfile|Puppetfile)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.ruby","patterns":[{"include":"source.ruby"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_rust":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(rust|rs|\\\\{\\\\.rust.+?})((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.rust","patterns":[{"include":"source.rust"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_scala":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(s(?:cala|bt))((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.scala","patterns":[{"include":"source.scala"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_scss":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(scss)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.scss","patterns":[{"include":"source.css.scss"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_shell":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(shell|sh|bash|zsh|bashrc|bash_profile|bash_login|profile|bash_logout|.textmate_init|\\\\{\\\\.bash.+?})((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.shellscript","patterns":[{"include":"source.shell"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_sql":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(sql|ddl|dml)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.sql","patterns":[{"include":"source.sql"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_swift":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(swift)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.swift","patterns":[{"include":"source.swift"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_ts":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(t(?:ypescript|s))((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.typescript","patterns":[{"include":"source.ts"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_tsx":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(tsx)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.typescriptreact","patterns":[{"include":"source.tsx"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_twig":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(twig)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.twig","patterns":[{"include":"source.twig"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_unknown":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?=([^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown"},"fenced_code_block_vs_net":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(vb)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.vs_net","patterns":[{"include":"source.asp.vb.net"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_xml":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(xml|xsd|tld|jsp|pt|cpt|dtml|rss|opml)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.xml","patterns":[{"include":"text.xml"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_xsl":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(xslt??)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.xsl","patterns":[{"include":"text.xml.xsl"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_yaml":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(ya?ml)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.yaml","patterns":[{"include":"source.yaml"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"fenced_code_block_yang":{"begin":"(^|\\\\G)(\\\\s*)(`{3,}|~{3,})\\\\s*(?i:(yang)((\\\\s+|[,:?{])[^`]*)?$)","beginCaptures":{"3":{"name":"punctuation.definition.markdown"},"4":{"name":"fenced_code.block.language.markdown"},"5":{"name":"fenced_code.block.language.attributes.markdown"}},"end":"(^|\\\\G)(\\\\2|\\\\s{0,3})(\\\\3)\\\\s*$","endCaptures":{"3":{"name":"punctuation.definition.markdown"}},"name":"markup.fenced_code.block.markdown","patterns":[{"begin":"(^|\\\\G)(\\\\s*)(.*)","contentName":"meta.embedded.block.yang","patterns":[{"include":"source.yang"}],"while":"(^|\\\\G)(?!\\\\s*([`~]{3,})\\\\s*$)"}]},"frontMatter":{"applyEndPatternLast":1,"begin":"\\\\A(?=(-{3,}))","end":"^(?: {0,3}\\\\1-*[\\\\t ]*|[\\\\t ]*\\\\.{3})$","endCaptures":{"0":{"name":"punctuation.definition.end.frontmatter"}},"patterns":[{"begin":"\\\\A(-{3,})(.*)$","beginCaptures":{"1":{"name":"punctuation.definition.begin.frontmatter"},"2":{"name":"comment.frontmatter"}},"contentName":"meta.embedded.block.frontmatter","patterns":[{"include":"source.yaml"}],"while":"^(?!(?: {0,3}\\\\1-*[\\\\t ]*|[\\\\t ]*\\\\.{3})$)"}]},"heading":{"captures":{"1":{"patterns":[{"captures":{"1":{"name":"punctuation.definition.heading.markdown"},"2":{"name":"entity.name.section.markdown","patterns":[{"include":"#inline"},{"include":"text.html.derivative"}]},"3":{"name":"punctuation.definition.heading.markdown"}},"match":"(#{6})\\\\s+(.*?)(?:\\\\s+(#+))?\\\\s*$","name":"heading.6.markdown"},{"captures":{"1":{"name":"punctuation.definition.heading.markdown"},"2":{"name":"entity.name.section.markdown","patterns":[{"include":"#inline"},{"include":"text.html.derivative"}]},"3":{"name":"punctuation.definition.heading.markdown"}},"match":"(#{5})\\\\s+(.*?)(?:\\\\s+(#+))?\\\\s*$","name":"heading.5.markdown"},{"captures":{"1":{"name":"punctuation.definition.heading.markdown"},"2":{"name":"entity.name.section.markdown","patterns":[{"include":"#inline"},{"include":"text.html.derivative"}]},"3":{"name":"punctuation.definition.heading.markdown"}},"match":"(#{4})\\\\s+(.*?)(?:\\\\s+(#+))?\\\\s*$","name":"heading.4.markdown"},{"captures":{"1":{"name":"punctuation.definition.heading.markdown"},"2":{"name":"entity.name.section.markdown","patterns":[{"include":"#inline"},{"include":"text.html.derivative"}]},"3":{"name":"punctuation.definition.heading.markdown"}},"match":"(#{3})\\\\s+(.*?)(?:\\\\s+(#+))?\\\\s*$","name":"heading.3.markdown"},{"captures":{"1":{"name":"punctuation.definition.heading.markdown"},"2":{"name":"entity.name.section.markdown","patterns":[{"include":"#inline"},{"include":"text.html.derivative"}]},"3":{"name":"punctuation.definition.heading.markdown"}},"match":"(#{2})\\\\s+(.*?)(?:\\\\s+(#+))?\\\\s*$","name":"heading.2.markdown"},{"captures":{"1":{"name":"punctuation.definition.heading.markdown"},"2":{"name":"entity.name.section.markdown","patterns":[{"include":"#inline"},{"include":"text.html.derivative"}]},"3":{"name":"punctuation.definition.heading.markdown"}},"match":"(#{1})\\\\s+(.*?)(?:\\\\s+(#+))?\\\\s*$","name":"heading.1.markdown"}]}},"match":"(?:^|\\\\G) {0,3}(#{1,6}\\\\s+(.*?)(\\\\s+#{1,6})?\\\\s*)$","name":"markup.heading.markdown"},"heading-setext":{"patterns":[{"match":"^(={3,})(?=[\\\\t ]*$\\\\n?)","name":"markup.heading.setext.1.markdown"},{"match":"^(-{3,})(?=[\\\\t ]*$\\\\n?)","name":"markup.heading.setext.2.markdown"}]},"html":{"patterns":[{"begin":"(^|\\\\G)\\\\s*(<!--)","captures":{"1":{"name":"punctuation.definition.comment.html"},"2":{"name":"punctuation.definition.comment.html"}},"end":"(-->)","name":"comment.block.html"},{"begin":"(?i)(^|\\\\G)\\\\s*(?=<(script|style|pre)(\\\\s|$|>)(?!.*?</(script|style|pre)>))","end":"(?i)(.*)((</)(script|style|pre)(>))","endCaptures":{"1":{"patterns":[{"include":"text.html.derivative"}]},"2":{"name":"meta.tag.structure.$4.end.html"},"3":{"name":"punctuation.definition.tag.begin.html"},"4":{"name":"entity.name.tag.html"},"5":{"name":"punctuation.definition.tag.end.html"}},"patterns":[{"begin":"(\\\\s*|$)","patterns":[{"include":"text.html.derivative"}],"while":"(?i)^(?!.*</(script|style|pre)>)"}]},{"begin":"(?i)(^|\\\\G)\\\\s*(?=</?[A-Za-z]+[^\\\\&/;gt\\\\s]*(\\\\s|$|/?>))","patterns":[{"include":"text.html.derivative"}],"while":"^(?!\\\\s*$)"},{"begin":"(^|\\\\G)\\\\s*(?=(<(?:[-0-9A-Za-z](/?>|\\\\s.*?>)|/[-0-9A-Za-z]>))\\\\s*$)","patterns":[{"include":"text.html.derivative"}],"while":"^(?!\\\\s*$)"}]},"image-inline":{"captures":{"1":{"name":"punctuation.definition.link.description.begin.markdown"},"2":{"name":"string.other.link.description.markdown"},"4":{"name":"punctuation.definition.link.description.end.markdown"},"5":{"name":"punctuation.definition.metadata.markdown"},"7":{"name":"punctuation.definition.link.markdown"},"8":{"name":"markup.underline.link.image.markdown"},"9":{"name":"punctuation.definition.link.markdown"},"10":{"name":"markup.underline.link.image.markdown"},"12":{"name":"string.other.link.description.title.markdown"},"13":{"name":"punctuation.definition.string.begin.markdown"},"14":{"name":"punctuation.definition.string.end.markdown"},"15":{"name":"string.other.link.description.title.markdown"},"16":{"name":"punctuation.definition.string.begin.markdown"},"17":{"name":"punctuation.definition.string.end.markdown"},"18":{"name":"string.other.link.description.title.markdown"},"19":{"name":"punctuation.definition.string.begin.markdown"},"20":{"name":"punctuation.definition.string.end.markdown"},"21":{"name":"punctuation.definition.metadata.markdown"}},"match":"(!\\\\[)((?<square>[^]\\\\[\\\\\\\\]|\\\\\\\\.|\\\\[\\\\g<square>*+])*+)(])(\\\\()[\\\\t ]*((<)((?:\\\\\\\\[<>]|[^\\\\n<>])*)(>)|((?<url>(?>[^()\\\\s]+)|\\\\(\\\\g<url>*\\\\))*))[\\\\t ]*(?:((\\\\().+?(\\\\)))|((\\").+?(\\"))|((\').+?(\')))?\\\\s*(\\\\))","name":"meta.image.inline.markdown"},"image-ref":{"captures":{"1":{"name":"punctuation.definition.link.description.begin.markdown"},"2":{"name":"string.other.link.description.markdown"},"4":{"name":"punctuation.definition.link.description.end.markdown"},"5":{"name":"punctuation.definition.constant.markdown"},"6":{"name":"constant.other.reference.link.markdown"},"7":{"name":"punctuation.definition.constant.markdown"}},"match":"(!\\\\[)((?<square>[^]\\\\[\\\\\\\\]|\\\\\\\\.|\\\\[\\\\g<square>*+])*+)(]) ?(\\\\[)(.*?)(])","name":"meta.image.reference.markdown"},"inline":{"patterns":[{"include":"#ampersand"},{"include":"#bracket"},{"include":"#bold"},{"include":"#italic"},{"include":"#raw"},{"include":"#strikethrough"},{"include":"#escape"},{"include":"#image-inline"},{"include":"#image-ref"},{"include":"#link-email"},{"include":"#link-inet"},{"include":"#link-inline"},{"include":"#link-ref"},{"include":"#link-ref-literal"},{"include":"#link-ref-shortcut"}]},"italic":{"begin":"(?<open>(\\\\*(?=\\\\w)|(?<!\\\\w)\\\\*|(?<!\\\\w)\\\\b_))(?=\\\\S)(?=(<[^>]*+>|(?<raw>`+)([^`]|(?!(?<!`)\\\\k<raw>(?!`))`)*+\\\\k<raw>|\\\\\\\\[-\\\\]!#(-+.>\\\\[\\\\\\\\_`{}]?+|\\\\[((?<square>[^]\\\\[\\\\\\\\]|\\\\\\\\.|\\\\[\\\\g<square>*+])*+](( ?\\\\[[^]]*+])|(\\\\([\\\\t ]*+<?(.*?)>?[\\\\t ]*+((?<title>[\\"\'])(.*?)\\\\k<title>)?\\\\))))|\\\\k<open>\\\\k<open>|(?!(?<=\\\\S)\\\\k<open>).)++(?<=\\\\S)(?=_\\\\b|\\\\*)\\\\k<open>)","captures":{"1":{"name":"punctuation.definition.italic.markdown"}},"end":"(?<=\\\\S)(\\\\1)((?!\\\\1)|(?=\\\\1\\\\1))","name":"markup.italic.markdown","patterns":[{"applyEndPatternLast":1,"begin":"(?=<[^>]*?>)","end":"(?<=>)","patterns":[{"include":"text.html.derivative"}]},{"include":"#escape"},{"include":"#ampersand"},{"include":"#bracket"},{"include":"#raw"},{"include":"#bold"},{"include":"#image-inline"},{"include":"#link-inline"},{"include":"#link-inet"},{"include":"#link-email"},{"include":"#image-ref"},{"include":"#link-ref-literal"},{"include":"#link-ref"},{"include":"#link-ref-shortcut"},{"include":"#strikethrough"}]},"link-def":{"captures":{"1":{"name":"punctuation.definition.constant.markdown"},"2":{"name":"constant.other.reference.link.markdown"},"3":{"name":"punctuation.definition.constant.markdown"},"4":{"name":"punctuation.separator.key-value.markdown"},"5":{"name":"punctuation.definition.link.markdown"},"6":{"name":"markup.underline.link.markdown"},"7":{"name":"punctuation.definition.link.markdown"},"8":{"name":"markup.underline.link.markdown"},"9":{"name":"string.other.link.description.title.markdown"},"10":{"name":"punctuation.definition.string.begin.markdown"},"11":{"name":"punctuation.definition.string.end.markdown"},"12":{"name":"string.other.link.description.title.markdown"},"13":{"name":"punctuation.definition.string.begin.markdown"},"14":{"name":"punctuation.definition.string.end.markdown"},"15":{"name":"string.other.link.description.title.markdown"},"16":{"name":"punctuation.definition.string.begin.markdown"},"17":{"name":"punctuation.definition.string.end.markdown"}},"match":"\\\\s*(\\\\[)([^]]+?)(])(:)[\\\\t ]*(?:(<)((?:\\\\\\\\[<>]|[^\\\\n<>])*)(>)|(\\\\S+?))[\\\\t ]*(?:((\\\\().+?(\\\\)))|((\\").+?(\\"))|((\').+?(\')))?\\\\s*$","name":"meta.link.reference.def.markdown"},"link-email":{"captures":{"1":{"name":"punctuation.definition.link.markdown"},"2":{"name":"markup.underline.link.markdown"},"4":{"name":"punctuation.definition.link.markdown"}},"match":"(<)((?:mailto:)?[!#-\'*+\\\\--9=?A-Z^-~]+@[-0-9A-Za-z]+(?:\\\\.[-0-9A-Za-z]+)*)(>)","name":"meta.link.email.lt-gt.markdown"},"link-inet":{"captures":{"1":{"name":"punctuation.definition.link.markdown"},"2":{"name":"markup.underline.link.markdown"},"3":{"name":"punctuation.definition.link.markdown"}},"match":"(<)((?:https?|ftp)://.*?)(>)","name":"meta.link.inet.markdown"},"link-inline":{"captures":{"1":{"name":"punctuation.definition.link.title.begin.markdown"},"2":{"name":"string.other.link.title.markdown","patterns":[{"include":"#raw"},{"include":"#bold"},{"include":"#italic"},{"include":"#strikethrough"},{"include":"#image-inline"}]},"4":{"name":"punctuation.definition.link.title.end.markdown"},"5":{"name":"punctuation.definition.metadata.markdown"},"7":{"name":"punctuation.definition.link.markdown"},"8":{"name":"markup.underline.link.markdown"},"9":{"name":"punctuation.definition.link.markdown"},"10":{"name":"markup.underline.link.markdown"},"12":{"name":"string.other.link.description.title.markdown"},"13":{"name":"punctuation.definition.string.begin.markdown"},"14":{"name":"punctuation.definition.string.end.markdown"},"15":{"name":"string.other.link.description.title.markdown"},"16":{"name":"punctuation.definition.string.begin.markdown"},"17":{"name":"punctuation.definition.string.end.markdown"},"18":{"name":"string.other.link.description.title.markdown"},"19":{"name":"punctuation.definition.string.begin.markdown"},"20":{"name":"punctuation.definition.string.end.markdown"},"21":{"name":"punctuation.definition.metadata.markdown"}},"match":"(\\\\[)((?<square>[^]\\\\[\\\\\\\\]|\\\\\\\\.|\\\\[\\\\g<square>*+])*+)(])(\\\\()[\\\\t ]*((<)((?:\\\\\\\\[<>]|[^\\\\n<>])*)(>)|((?<url>(?>[^()\\\\s]+)|\\\\(\\\\g<url>*\\\\))*))[\\\\t ]*(?:((\\\\()[^()]*(\\\\)))|((\\")[^\\"]*(\\"))|((\')[^\']*(\')))?\\\\s*(\\\\))","name":"meta.link.inline.markdown"},"link-ref":{"captures":{"1":{"name":"punctuation.definition.link.title.begin.markdown"},"2":{"name":"string.other.link.title.markdown","patterns":[{"include":"#raw"},{"include":"#bold"},{"include":"#italic"},{"include":"#strikethrough"},{"include":"#image-inline"}]},"4":{"name":"punctuation.definition.link.title.end.markdown"},"5":{"name":"punctuation.definition.constant.begin.markdown"},"6":{"name":"constant.other.reference.link.markdown"},"7":{"name":"punctuation.definition.constant.end.markdown"}},"match":"(?<![]\\\\\\\\])(\\\\[)((?<square>[^]\\\\[\\\\\\\\]|\\\\\\\\.|\\\\[\\\\g<square>*+])*+)(])(\\\\[)([^]]*+)(])","name":"meta.link.reference.markdown"},"link-ref-literal":{"captures":{"1":{"name":"punctuation.definition.link.title.begin.markdown"},"2":{"name":"string.other.link.title.markdown"},"4":{"name":"punctuation.definition.link.title.end.markdown"},"5":{"name":"punctuation.definition.constant.begin.markdown"},"6":{"name":"punctuation.definition.constant.end.markdown"}},"match":"(?<![]\\\\\\\\])(\\\\[)((?<square>[^]\\\\[\\\\\\\\]|\\\\\\\\.|\\\\[\\\\g<square>*+])*+)(]) ?(\\\\[)(])","name":"meta.link.reference.literal.markdown"},"link-ref-shortcut":{"captures":{"1":{"name":"punctuation.definition.link.title.begin.markdown"},"2":{"name":"string.other.link.title.markdown"},"3":{"name":"punctuation.definition.link.title.end.markdown"}},"match":"(?<![]\\\\\\\\])(\\\\[)((?:[^]\\\\[\\\\\\\\\\\\s]|\\\\\\\\[]\\\\[])+?)((?<!\\\\\\\\)])","name":"meta.link.reference.markdown"},"list_paragraph":{"begin":"(^|\\\\G)(?=\\\\S)(?![*->]\\\\s|[0-9]+\\\\.\\\\s)","name":"meta.paragraph.markdown","patterns":[{"include":"#inline"},{"include":"text.html.derivative"},{"include":"#heading-setext"}],"while":"(^|\\\\G)(?!\\\\s*$|#| {0,3}([-*>_] {2,}){3,}[\\\\t ]*$\\\\n?| {0,3}[*->]| {0,3}[0-9]+\\\\.)"},"lists":{"patterns":[{"begin":"(^|\\\\G)( {0,3})([-*+])([\\\\t ])","beginCaptures":{"3":{"name":"punctuation.definition.list.begin.markdown"}},"name":"markup.list.unnumbered.markdown","patterns":[{"include":"#block"},{"include":"#list_paragraph"}],"while":"((^|\\\\G)( {2,4}|\\\\t))|^([\\\\t ]*)$"},{"begin":"(^|\\\\G)( {0,3})([0-9]+[).])([\\\\t ])","beginCaptures":{"3":{"name":"punctuation.definition.list.begin.markdown"}},"name":"markup.list.numbered.markdown","patterns":[{"include":"#block"},{"include":"#list_paragraph"}],"while":"((^|\\\\G)( {2,4}|\\\\t))|^([\\\\t ]*)$"}]},"paragraph":{"begin":"(^|\\\\G) {0,3}(?=[^\\\\t\\\\n ])","name":"meta.paragraph.markdown","patterns":[{"include":"#inline"},{"include":"text.html.derivative"},{"include":"#heading-setext"}],"while":"(^|\\\\G)((?=\\\\s*[-=]{3,}\\\\s*$)| {4,}(?=[^\\\\t\\\\n ]))"},"raw":{"captures":{"1":{"name":"punctuation.definition.raw.markdown"},"3":{"name":"punctuation.definition.raw.markdown"}},"match":"(`+)((?:[^`]|(?!(?<!`)\\\\1(?!`))`)*+)(\\\\1)","name":"markup.inline.raw.string.markdown"},"raw_block":{"begin":"(^|\\\\G)( {4}|\\\\t)","name":"markup.raw.block.markdown","while":"(^|\\\\G)( {4}|\\\\t)"},"separator":{"match":"(^|\\\\G) {0,3}([-*_])( {0,2}\\\\2){2,}[\\\\t ]*$\\\\n?","name":"meta.separator.markdown"},"strikethrough":{"captures":{"1":{"name":"punctuation.definition.strikethrough.markdown"},"2":{"patterns":[{"applyEndPatternLast":1,"begin":"(?=<[^>]*?>)","end":"(?<=>)","patterns":[{"include":"text.html.derivative"}]},{"include":"#escape"},{"include":"#ampersand"},{"include":"#bracket"},{"include":"#raw"},{"include":"#bold"},{"include":"#italic"},{"include":"#image-inline"},{"include":"#link-inline"},{"include":"#link-inet"},{"include":"#link-email"},{"include":"#image-ref"},{"include":"#link-ref-literal"},{"include":"#link-ref"},{"include":"#link-ref-shortcut"}]},"3":{"name":"punctuation.definition.strikethrough.markdown"}},"match":"(?<!\\\\\\\\)(~{2,})(?!(?<=\\\\w~~)_)((?:[^~]|(?!(?<![\\\\\\\\~])\\\\1(?!~))~)*+)(\\\\1)(?!(?<=_\\\\1)\\\\w)","name":"markup.strikethrough.markdown"},"table":{"begin":"(^|\\\\G)(\\\\|)(?=[^|].+\\\\|\\\\s*$)","beginCaptures":{"2":{"name":"punctuation.definition.table.markdown"}},"name":"markup.table.markdown","patterns":[{"match":"\\\\|","name":"punctuation.definition.table.markdown"},{"captures":{"1":{"name":"punctuation.separator.table.markdown"}},"match":"(?<=\\\\|)\\\\s*(:?-+:?)\\\\s*(?=\\\\|)"},{"captures":{"1":{"patterns":[{"include":"#inline"}]}},"match":"(?<=\\\\|)\\\\s*(?=\\\\S)((\\\\\\\\\\\\||[^|])+)(?<=\\\\S)\\\\s*(?=\\\\|)"}],"while":"(^|\\\\G)(?=\\\\|)"}},"scopeName":"text.html.markdown","embeddedLangs":[],"aliases":["md"],"embeddedLangsLazy":["css","html","ini","java","lua","make","perl","r","ruby","php","sql","vb","xml","xsl","yaml","bat","clojure","coffee","c","cpp","diff","docker","git-commit","git-rebase","go","groovy","pug","javascript","json","jsonc","jsonl","less","objective-c","swift","scss","raku","powershell","python","julia","regexp","rust","scala","shellscript","typescript","tsx","csharp","fsharp","dart","handlebars","log","erlang","elixir","latex","bibtex","abap","rst","html-derivative"]}')),e4=[S9e],IQe=Object.freeze(Object.defineProperty({__proto__:null,default:e4},Symbol.toStringTag,{value:"Module"})),j9e=Object.freeze(JSON.parse(`{"displayName":"Python","name":"python","patterns":[{"include":"#statement"},{"include":"#expression"}],"repository":{"annotated-parameter":{"begin":"\\\\b([_[:alpha:]]\\\\w*)\\\\s*(:)","beginCaptures":{"1":{"name":"variable.parameter.function.language.python"},"2":{"name":"punctuation.separator.annotation.python"}},"end":"(,)|(?=\\\\))","endCaptures":{"1":{"name":"punctuation.separator.parameters.python"}},"patterns":[{"include":"#expression"},{"match":"=(?!=)","name":"keyword.operator.assignment.python"}]},"assignment-operator":{"match":"<<=|>>=|//=|\\\\*\\\\*=|\\\\+=|-=|/=|@=|\\\\*=|%=|~=|\\\\^=|&=|\\\\|=|=(?!=)","name":"keyword.operator.assignment.python"},"backticks":{"begin":"\`","end":"\`|(?<!\\\\\\\\)(\\\\n)","name":"invalid.deprecated.backtick.python","patterns":[{"include":"#expression"}]},"builtin-callables":{"patterns":[{"include":"#illegal-names"},{"include":"#illegal-object-name"},{"include":"#builtin-exceptions"},{"include":"#builtin-functions"},{"include":"#builtin-types"}]},"builtin-exceptions":{"match":"(?<!\\\\.)\\\\b((Arithmetic|Assertion|Attribute|Buffer|BlockingIO|BrokenPipe|ChildProcess|(Connection(Aborted|Refused|Reset)?)|EOF|Environment|FileExists|FileNotFound|FloatingPoint|IO|Import|Indentation|Index|Interrupted|IsADirectory|NotADirectory|Permission|ProcessLookup|Timeout|Key|Lookup|Memory|Name|NotImplemented|OS|Overflow|Reference|Runtime|Recursion|Syntax|System|Tab|Type|UnboundLocal|Unicode(Encode|Decode|Translate)?|Value|Windows|ZeroDivision|ModuleNotFound)Error|((Pending)?Deprecation|Runtime|Syntax|User|Future|Import|Unicode|Bytes|Resource)?Warning|SystemExit|Stop(Async)?Iteration|KeyboardInterrupt|GeneratorExit|(Base)?Exception)\\\\b","name":"support.type.exception.python"},"builtin-functions":{"patterns":[{"match":"(?<!\\\\.)\\\\b(__import__|abs|aiter|all|any|anext|ascii|bin|breakpoint|callable|chr|compile|copyright|credits|delattr|dir|divmod|enumerate|eval|exec|exit|filter|format|getattr|globals|hasattr|hash|help|hex|id|input|isinstance|issubclass|iter|len|license|locals|map|max|memoryview|min|next|oct|open|ord|pow|print|quit|range|reload|repr|reversed|round|setattr|sorted|sum|vars|zip)\\\\b","name":"support.function.builtin.python"},{"match":"(?<!\\\\.)\\\\b(file|reduce|intern|raw_input|unicode|cmp|basestring|execfile|long|xrange)\\\\b","name":"variable.legacy.builtin.python"}]},"builtin-possible-callables":{"patterns":[{"include":"#builtin-callables"},{"include":"#magic-names"}]},"builtin-types":{"match":"(?<!\\\\.)\\\\b(bool|bytearray|bytes|classmethod|complex|dict|float|frozenset|int|list|object|property|set|slice|staticmethod|str|tuple|type|super)\\\\b","name":"support.type.python"},"call-wrapper-inheritance":{"begin":"\\\\b(?=([_[:alpha:]]\\\\w*)\\\\s*(\\\\())","end":"(\\\\))","endCaptures":{"1":{"name":"punctuation.definition.arguments.end.python"}},"name":"meta.function-call.python","patterns":[{"include":"#inheritance-name"},{"include":"#function-arguments"}]},"class-declaration":{"patterns":[{"begin":"\\\\s*(class)\\\\s+(?=[_[:alpha:]]\\\\w*\\\\s*([(:]))","beginCaptures":{"1":{"name":"storage.type.class.python"}},"end":"(:)","endCaptures":{"1":{"name":"punctuation.section.class.begin.python"}},"name":"meta.class.python","patterns":[{"include":"#class-name"},{"include":"#class-inheritance"}]}]},"class-inheritance":{"begin":"(\\\\()","beginCaptures":{"1":{"name":"punctuation.definition.inheritance.begin.python"}},"end":"(\\\\))","endCaptures":{"1":{"name":"punctuation.definition.inheritance.end.python"}},"name":"meta.class.inheritance.python","patterns":[{"match":"(\\\\*\\\\*?)","name":"keyword.operator.unpacking.arguments.python"},{"match":",","name":"punctuation.separator.inheritance.python"},{"match":"=(?!=)","name":"keyword.operator.assignment.python"},{"match":"\\\\bmetaclass\\\\b","name":"support.type.metaclass.python"},{"include":"#illegal-names"},{"include":"#class-kwarg"},{"include":"#call-wrapper-inheritance"},{"include":"#expression-base"},{"include":"#member-access-class"},{"include":"#inheritance-identifier"}]},"class-kwarg":{"captures":{"1":{"name":"entity.other.inherited-class.python variable.parameter.class.python"},"2":{"name":"keyword.operator.assignment.python"}},"match":"\\\\b([_[:alpha:]]\\\\w*)\\\\s*(=)(?!=)"},"class-name":{"patterns":[{"include":"#illegal-object-name"},{"include":"#builtin-possible-callables"},{"match":"\\\\b([_[:alpha:]]\\\\w*)\\\\b","name":"entity.name.type.class.python"}]},"codetags":{"captures":{"1":{"name":"keyword.codetag.notation.python"}},"match":"\\\\b(NOTE|XXX|HACK|FIXME|BUG|TODO)\\\\b"},"comments":{"patterns":[{"begin":"#\\\\s*(type:)\\\\s*+(?!$|#)","beginCaptures":{"0":{"name":"meta.typehint.comment.python"},"1":{"name":"comment.typehint.directive.notation.python"}},"contentName":"meta.typehint.comment.python","end":"$|(?=#)","name":"comment.line.number-sign.python","patterns":[{"match":"\\\\Gignore(?=\\\\s*(?:$|#))","name":"comment.typehint.ignore.notation.python"},{"match":"(?<!\\\\.)\\\\b(bool|bytes|float|int|object|str|List|Dict|Iterable|Sequence|Set|FrozenSet|Callable|Union|Tuple|Any|None)\\\\b","name":"comment.typehint.type.notation.python"},{"match":"([]()*,.=\\\\[]|(->))","name":"comment.typehint.punctuation.notation.python"},{"match":"([_[:alpha:]]\\\\w*)","name":"comment.typehint.variable.notation.python"}]},{"include":"#comments-base"}]},"comments-base":{"begin":"(#)","beginCaptures":{"1":{"name":"punctuation.definition.comment.python"}},"end":"$()","name":"comment.line.number-sign.python","patterns":[{"include":"#codetags"}]},"comments-string-double-three":{"begin":"(#)","beginCaptures":{"1":{"name":"punctuation.definition.comment.python"}},"end":"($|(?=\\"\\"\\"))","name":"comment.line.number-sign.python","patterns":[{"include":"#codetags"}]},"comments-string-single-three":{"begin":"(#)","beginCaptures":{"1":{"name":"punctuation.definition.comment.python"}},"end":"($|(?='''))","name":"comment.line.number-sign.python","patterns":[{"include":"#codetags"}]},"curly-braces":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.dict.begin.python"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.dict.end.python"}},"patterns":[{"match":":","name":"punctuation.separator.dict.python"},{"include":"#expression"}]},"decorator":{"begin":"^\\\\s*((@))\\\\s*(?=[_[:alpha:]]\\\\w*)","beginCaptures":{"1":{"name":"entity.name.function.decorator.python"},"2":{"name":"punctuation.definition.decorator.python"}},"end":"(\\\\))(.*?)(?=\\\\s*(?:#|$))|(?=[\\\\n#])","endCaptures":{"1":{"name":"punctuation.definition.arguments.end.python"},"2":{"name":"invalid.illegal.decorator.python"}},"name":"meta.function.decorator.python","patterns":[{"include":"#decorator-name"},{"include":"#function-arguments"}]},"decorator-name":{"patterns":[{"include":"#builtin-callables"},{"include":"#illegal-object-name"},{"captures":{"2":{"name":"punctuation.separator.period.python"}},"match":"([_[:alpha:]]\\\\w*)|(\\\\.)","name":"entity.name.function.decorator.python"},{"include":"#line-continuation"},{"captures":{"1":{"name":"invalid.illegal.decorator.python"}},"match":"\\\\s*([^#(.\\\\\\\\_[:alpha:]\\\\s].*?)(?=#|$)","name":"invalid.illegal.decorator.python"}]},"docstring":{"patterns":[{"begin":"('''|\\"\\"\\")","beginCaptures":{"1":{"name":"punctuation.definition.string.begin.python"}},"end":"(\\\\1)","endCaptures":{"1":{"name":"punctuation.definition.string.end.python"}},"name":"string.quoted.docstring.multi.python","patterns":[{"include":"#docstring-prompt"},{"include":"#codetags"},{"include":"#docstring-guts-unicode"}]},{"begin":"([Rr])('''|\\"\\"\\")","beginCaptures":{"1":{"name":"storage.type.string.python"},"2":{"name":"punctuation.definition.string.begin.python"}},"end":"(\\\\2)","endCaptures":{"1":{"name":"punctuation.definition.string.end.python"}},"name":"string.quoted.docstring.raw.multi.python","patterns":[{"include":"#string-consume-escape"},{"include":"#docstring-prompt"},{"include":"#codetags"}]},{"begin":"([\\"'])","beginCaptures":{"1":{"name":"punctuation.definition.string.begin.python"}},"end":"(\\\\1)|(\\\\n)","endCaptures":{"1":{"name":"punctuation.definition.string.end.python"},"2":{"name":"invalid.illegal.newline.python"}},"name":"string.quoted.docstring.single.python","patterns":[{"include":"#codetags"},{"include":"#docstring-guts-unicode"}]},{"begin":"([Rr])([\\"'])","beginCaptures":{"1":{"name":"storage.type.string.python"},"2":{"name":"punctuation.definition.string.begin.python"}},"end":"(\\\\2)|(\\\\n)","endCaptures":{"1":{"name":"punctuation.definition.string.end.python"},"2":{"name":"invalid.illegal.newline.python"}},"name":"string.quoted.docstring.raw.single.python","patterns":[{"include":"#string-consume-escape"},{"include":"#codetags"}]}]},"docstring-guts-unicode":{"patterns":[{"include":"#escape-sequence-unicode"},{"include":"#escape-sequence"},{"include":"#string-line-continuation"}]},"docstring-prompt":{"captures":{"1":{"name":"keyword.control.flow.python"}},"match":"(?:^|\\\\G)\\\\s*((?:>>>|\\\\.\\\\.\\\\.)\\\\s)(?=\\\\s*\\\\S)"},"docstring-statement":{"begin":"^(?=\\\\s*[Rr]?('''|\\"\\"\\"|[\\"']))","end":"((?<=\\\\1)|^)(?!\\\\s*[Rr]?('''|\\"\\"\\"|[\\"']))","patterns":[{"include":"#docstring"}]},"double-one-regexp-character-set":{"patterns":[{"match":"\\\\[\\\\^?](?!.*?])"},{"begin":"(\\\\[)(\\\\^)?(])?","beginCaptures":{"1":{"name":"punctuation.character.set.begin.regexp constant.other.set.regexp"},"2":{"name":"keyword.operator.negation.regexp"},"3":{"name":"constant.character.set.regexp"}},"end":"(]|(?=\\"))|((?=(?<!\\\\\\\\)\\\\n))","endCaptures":{"1":{"name":"punctuation.character.set.end.regexp constant.other.set.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"name":"meta.character.set.regexp","patterns":[{"include":"#regexp-charecter-set-escapes"},{"match":"\\\\N","name":"constant.character.set.regexp"}]}]},"double-one-regexp-comments":{"begin":"\\\\(\\\\?#","beginCaptures":{"0":{"name":"punctuation.comment.begin.regexp"}},"end":"(\\\\)|(?=\\"))|((?=(?<!\\\\\\\\)\\\\n))","endCaptures":{"1":{"name":"punctuation.comment.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"name":"comment.regexp","patterns":[{"include":"#codetags"}]},"double-one-regexp-conditional":{"begin":"(\\\\()\\\\?\\\\((\\\\w+(?:\\\\s+\\\\p{alnum}+)?|\\\\d+)\\\\)","beginCaptures":{"0":{"name":"keyword.operator.conditional.regexp"},"1":{"name":"punctuation.parenthesis.conditional.begin.regexp"}},"end":"(\\\\)|(?=\\"))|((?=(?<!\\\\\\\\)\\\\n))","endCaptures":{"1":{"name":"keyword.operator.conditional.negative.regexp punctuation.parenthesis.conditional.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#double-one-regexp-expression"}]},"double-one-regexp-expression":{"patterns":[{"include":"#regexp-base-expression"},{"include":"#double-one-regexp-character-set"},{"include":"#double-one-regexp-comments"},{"include":"#regexp-flags"},{"include":"#double-one-regexp-named-group"},{"include":"#regexp-backreference"},{"include":"#double-one-regexp-lookahead"},{"include":"#double-one-regexp-lookahead-negative"},{"include":"#double-one-regexp-lookbehind"},{"include":"#double-one-regexp-lookbehind-negative"},{"include":"#double-one-regexp-conditional"},{"include":"#double-one-regexp-parentheses-non-capturing"},{"include":"#double-one-regexp-parentheses"}]},"double-one-regexp-lookahead":{"begin":"(\\\\()\\\\?=","beginCaptures":{"0":{"name":"keyword.operator.lookahead.regexp"},"1":{"name":"punctuation.parenthesis.lookahead.begin.regexp"}},"end":"(\\\\)|(?=\\"))|((?=(?<!\\\\\\\\)\\\\n))","endCaptures":{"1":{"name":"keyword.operator.lookahead.regexp punctuation.parenthesis.lookahead.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#double-one-regexp-expression"}]},"double-one-regexp-lookahead-negative":{"begin":"(\\\\()\\\\?!","beginCaptures":{"0":{"name":"keyword.operator.lookahead.negative.regexp"},"1":{"name":"punctuation.parenthesis.lookahead.begin.regexp"}},"end":"(\\\\)|(?=\\"))|((?=(?<!\\\\\\\\)\\\\n))","endCaptures":{"1":{"name":"keyword.operator.lookahead.negative.regexp punctuation.parenthesis.lookahead.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#double-one-regexp-expression"}]},"double-one-regexp-lookbehind":{"begin":"(\\\\()\\\\?<=","beginCaptures":{"0":{"name":"keyword.operator.lookbehind.regexp"},"1":{"name":"punctuation.parenthesis.lookbehind.begin.regexp"}},"end":"(\\\\)|(?=\\"))|((?=(?<!\\\\\\\\)\\\\n))","endCaptures":{"1":{"name":"keyword.operator.lookbehind.regexp punctuation.parenthesis.lookbehind.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#double-one-regexp-expression"}]},"double-one-regexp-lookbehind-negative":{"begin":"(\\\\()\\\\?<!","beginCaptures":{"0":{"name":"keyword.operator.lookbehind.negative.regexp"},"1":{"name":"punctuation.parenthesis.lookbehind.begin.regexp"}},"end":"(\\\\)|(?=\\"))|((?=(?<!\\\\\\\\)\\\\n))","endCaptures":{"1":{"name":"keyword.operator.lookbehind.negative.regexp punctuation.parenthesis.lookbehind.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#double-one-regexp-expression"}]},"double-one-regexp-named-group":{"begin":"(\\\\()(\\\\?P<\\\\w+(?:\\\\s+\\\\p{alnum}+)?>)","beginCaptures":{"1":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.named.begin.regexp"},"2":{"name":"entity.name.tag.named.group.regexp"}},"end":"(\\\\)|(?=\\"))|((?=(?<!\\\\\\\\)\\\\n))","endCaptures":{"1":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.named.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"name":"meta.named.regexp","patterns":[{"include":"#double-one-regexp-expression"}]},"double-one-regexp-parentheses":{"begin":"\\\\(","beginCaptures":{"0":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.begin.regexp"}},"end":"(\\\\)|(?=\\"))|((?=(?<!\\\\\\\\)\\\\n))","endCaptures":{"1":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#double-one-regexp-expression"}]},"double-one-regexp-parentheses-non-capturing":{"begin":"\\\\(\\\\?:","beginCaptures":{"0":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.non-capturing.begin.regexp"}},"end":"(\\\\)|(?=\\"))|((?=(?<!\\\\\\\\)\\\\n))","endCaptures":{"1":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.non-capturing.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#double-one-regexp-expression"}]},"double-three-regexp-character-set":{"patterns":[{"match":"\\\\[\\\\^?](?!.*?])"},{"begin":"(\\\\[)(\\\\^)?(])?","beginCaptures":{"1":{"name":"punctuation.character.set.begin.regexp constant.other.set.regexp"},"2":{"name":"keyword.operator.negation.regexp"},"3":{"name":"constant.character.set.regexp"}},"end":"(]|(?=\\"\\"\\"))","endCaptures":{"1":{"name":"punctuation.character.set.end.regexp constant.other.set.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"name":"meta.character.set.regexp","patterns":[{"include":"#regexp-charecter-set-escapes"},{"match":"\\\\N","name":"constant.character.set.regexp"}]}]},"double-three-regexp-comments":{"begin":"\\\\(\\\\?#","beginCaptures":{"0":{"name":"punctuation.comment.begin.regexp"}},"end":"(\\\\)|(?=\\"\\"\\"))","endCaptures":{"1":{"name":"punctuation.comment.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"name":"comment.regexp","patterns":[{"include":"#codetags"}]},"double-three-regexp-conditional":{"begin":"(\\\\()\\\\?\\\\((\\\\w+(?:\\\\s+\\\\p{alnum}+)?|\\\\d+)\\\\)","beginCaptures":{"0":{"name":"keyword.operator.conditional.regexp"},"1":{"name":"punctuation.parenthesis.conditional.begin.regexp"}},"end":"(\\\\)|(?=\\"\\"\\"))","endCaptures":{"1":{"name":"keyword.operator.conditional.negative.regexp punctuation.parenthesis.conditional.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#double-three-regexp-expression"},{"include":"#comments-string-double-three"}]},"double-three-regexp-expression":{"patterns":[{"include":"#regexp-base-expression"},{"include":"#double-three-regexp-character-set"},{"include":"#double-three-regexp-comments"},{"include":"#regexp-flags"},{"include":"#double-three-regexp-named-group"},{"include":"#regexp-backreference"},{"include":"#double-three-regexp-lookahead"},{"include":"#double-three-regexp-lookahead-negative"},{"include":"#double-three-regexp-lookbehind"},{"include":"#double-three-regexp-lookbehind-negative"},{"include":"#double-three-regexp-conditional"},{"include":"#double-three-regexp-parentheses-non-capturing"},{"include":"#double-three-regexp-parentheses"},{"include":"#comments-string-double-three"}]},"double-three-regexp-lookahead":{"begin":"(\\\\()\\\\?=","beginCaptures":{"0":{"name":"keyword.operator.lookahead.regexp"},"1":{"name":"punctuation.parenthesis.lookahead.begin.regexp"}},"end":"(\\\\)|(?=\\"\\"\\"))","endCaptures":{"1":{"name":"keyword.operator.lookahead.regexp punctuation.parenthesis.lookahead.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#double-three-regexp-expression"},{"include":"#comments-string-double-three"}]},"double-three-regexp-lookahead-negative":{"begin":"(\\\\()\\\\?!","beginCaptures":{"0":{"name":"keyword.operator.lookahead.negative.regexp"},"1":{"name":"punctuation.parenthesis.lookahead.begin.regexp"}},"end":"(\\\\)|(?=\\"\\"\\"))","endCaptures":{"1":{"name":"keyword.operator.lookahead.negative.regexp punctuation.parenthesis.lookahead.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#double-three-regexp-expression"},{"include":"#comments-string-double-three"}]},"double-three-regexp-lookbehind":{"begin":"(\\\\()\\\\?<=","beginCaptures":{"0":{"name":"keyword.operator.lookbehind.regexp"},"1":{"name":"punctuation.parenthesis.lookbehind.begin.regexp"}},"end":"(\\\\)|(?=\\"\\"\\"))","endCaptures":{"1":{"name":"keyword.operator.lookbehind.regexp punctuation.parenthesis.lookbehind.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#double-three-regexp-expression"},{"include":"#comments-string-double-three"}]},"double-three-regexp-lookbehind-negative":{"begin":"(\\\\()\\\\?<!","beginCaptures":{"0":{"name":"keyword.operator.lookbehind.negative.regexp"},"1":{"name":"punctuation.parenthesis.lookbehind.begin.regexp"}},"end":"(\\\\)|(?=\\"\\"\\"))","endCaptures":{"1":{"name":"keyword.operator.lookbehind.negative.regexp punctuation.parenthesis.lookbehind.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#double-three-regexp-expression"},{"include":"#comments-string-double-three"}]},"double-three-regexp-named-group":{"begin":"(\\\\()(\\\\?P<\\\\w+(?:\\\\s+\\\\p{alnum}+)?>)","beginCaptures":{"1":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.named.begin.regexp"},"2":{"name":"entity.name.tag.named.group.regexp"}},"end":"(\\\\)|(?=\\"\\"\\"))","endCaptures":{"1":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.named.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"name":"meta.named.regexp","patterns":[{"include":"#double-three-regexp-expression"},{"include":"#comments-string-double-three"}]},"double-three-regexp-parentheses":{"begin":"\\\\(","beginCaptures":{"0":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.begin.regexp"}},"end":"(\\\\)|(?=\\"\\"\\"))","endCaptures":{"1":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#double-three-regexp-expression"},{"include":"#comments-string-double-three"}]},"double-three-regexp-parentheses-non-capturing":{"begin":"\\\\(\\\\?:","beginCaptures":{"0":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.non-capturing.begin.regexp"}},"end":"(\\\\)|(?=\\"\\"\\"))","endCaptures":{"1":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.non-capturing.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#double-three-regexp-expression"},{"include":"#comments-string-double-three"}]},"ellipsis":{"match":"\\\\.\\\\.\\\\.","name":"constant.other.ellipsis.python"},"escape-sequence":{"match":"\\\\\\\\(x\\\\h{2}|[0-7]{1,3}|[\\"'\\\\\\\\abfnrtv])","name":"constant.character.escape.python"},"escape-sequence-unicode":{"patterns":[{"match":"\\\\\\\\(u\\\\h{4}|U\\\\h{8}|N\\\\{[\\\\w\\\\s]+?})","name":"constant.character.escape.python"}]},"expression":{"patterns":[{"include":"#expression-base"},{"include":"#member-access"},{"match":"\\\\b([_[:alpha:]]\\\\w*)\\\\b"}]},"expression-bare":{"patterns":[{"include":"#backticks"},{"include":"#illegal-anno"},{"include":"#literal"},{"include":"#regexp"},{"include":"#string"},{"include":"#lambda"},{"include":"#generator"},{"include":"#illegal-operator"},{"include":"#operator"},{"include":"#curly-braces"},{"include":"#item-access"},{"include":"#list"},{"include":"#odd-function-call"},{"include":"#round-braces"},{"include":"#function-call"},{"include":"#builtin-functions"},{"include":"#builtin-types"},{"include":"#builtin-exceptions"},{"include":"#magic-names"},{"include":"#special-names"},{"include":"#illegal-names"},{"include":"#special-variables"},{"include":"#ellipsis"},{"include":"#punctuation"},{"include":"#line-continuation"}]},"expression-base":{"patterns":[{"include":"#comments"},{"include":"#expression-bare"},{"include":"#line-continuation"}]},"f-expression":{"patterns":[{"include":"#expression-bare"},{"include":"#member-access"},{"match":"\\\\b([_[:alpha:]]\\\\w*)\\\\b"}]},"fregexp-base-expression":{"patterns":[{"include":"#fregexp-quantifier"},{"include":"#fstring-formatting-braces"},{"match":"\\\\{.*?}"},{"include":"#regexp-base-common"}]},"fregexp-quantifier":{"match":"\\\\{\\\\{(\\\\d+|\\\\d+,(\\\\d+)?|,\\\\d+)}}","name":"keyword.operator.quantifier.regexp"},"fstring-fnorm-quoted-multi-line":{"begin":"\\\\b([Ff])([BUbu])?('''|\\"\\"\\")","beginCaptures":{"1":{"name":"string.interpolated.python string.quoted.multi.python storage.type.string.python"},"2":{"name":"invalid.illegal.prefix.python"},"3":{"name":"punctuation.definition.string.begin.python string.interpolated.python string.quoted.multi.python"}},"end":"(\\\\3)","endCaptures":{"1":{"name":"punctuation.definition.string.end.python string.interpolated.python string.quoted.multi.python"},"2":{"name":"invalid.illegal.newline.python"}},"name":"meta.fstring.python","patterns":[{"include":"#fstring-guts"},{"include":"#fstring-illegal-multi-brace"},{"include":"#fstring-multi-brace"},{"include":"#fstring-multi-core"}]},"fstring-fnorm-quoted-single-line":{"begin":"\\\\b([Ff])([BUbu])?(([\\"']))","beginCaptures":{"1":{"name":"string.interpolated.python string.quoted.single.python storage.type.string.python"},"2":{"name":"invalid.illegal.prefix.python"},"3":{"name":"punctuation.definition.string.begin.python string.interpolated.python string.quoted.single.python"}},"end":"(\\\\3)|((?<!\\\\\\\\)\\\\n)","endCaptures":{"1":{"name":"punctuation.definition.string.end.python string.interpolated.python string.quoted.single.python"},"2":{"name":"invalid.illegal.newline.python"}},"name":"meta.fstring.python","patterns":[{"include":"#fstring-guts"},{"include":"#fstring-illegal-single-brace"},{"include":"#fstring-single-brace"},{"include":"#fstring-single-core"}]},"fstring-formatting":{"patterns":[{"include":"#fstring-formatting-braces"},{"include":"#fstring-formatting-singe-brace"}]},"fstring-formatting-braces":{"patterns":[{"captures":{"1":{"name":"constant.character.format.placeholder.other.python"},"2":{"name":"invalid.illegal.brace.python"},"3":{"name":"constant.character.format.placeholder.other.python"}},"match":"(\\\\{)(\\\\s*?)(})"},{"match":"(\\\\{\\\\{|}})","name":"constant.character.escape.python"}]},"fstring-formatting-singe-brace":{"match":"(}(?!}))","name":"invalid.illegal.brace.python"},"fstring-guts":{"patterns":[{"include":"#escape-sequence-unicode"},{"include":"#escape-sequence"},{"include":"#string-line-continuation"},{"include":"#fstring-formatting"}]},"fstring-illegal-multi-brace":{"patterns":[{"include":"#impossible"}]},"fstring-illegal-single-brace":{"begin":"(\\\\{)(?=[^\\\\n}]*$\\\\n?)","beginCaptures":{"1":{"name":"constant.character.format.placeholder.other.python"}},"end":"(})|(?=\\\\n)","endCaptures":{"1":{"name":"constant.character.format.placeholder.other.python"}},"patterns":[{"include":"#fstring-terminator-single"},{"include":"#f-expression"}]},"fstring-multi-brace":{"begin":"(\\\\{)","beginCaptures":{"1":{"name":"constant.character.format.placeholder.other.python"}},"end":"(})","endCaptures":{"1":{"name":"constant.character.format.placeholder.other.python"}},"patterns":[{"include":"#fstring-terminator-multi"},{"include":"#f-expression"}]},"fstring-multi-core":{"match":"(.+?)($(\\\\n?)|(?=[\\\\\\\\{}]|'''|\\"\\"\\"))|\\\\n","name":"string.interpolated.python string.quoted.multi.python"},"fstring-normf-quoted-multi-line":{"begin":"\\\\b([BUbu])([Ff])('''|\\"\\"\\")","beginCaptures":{"1":{"name":"invalid.illegal.prefix.python"},"2":{"name":"string.interpolated.python string.quoted.multi.python storage.type.string.python"},"3":{"name":"punctuation.definition.string.begin.python string.quoted.multi.python"}},"end":"(\\\\3)","endCaptures":{"1":{"name":"punctuation.definition.string.end.python string.interpolated.python string.quoted.multi.python"},"2":{"name":"invalid.illegal.newline.python"}},"name":"meta.fstring.python","patterns":[{"include":"#fstring-guts"},{"include":"#fstring-illegal-multi-brace"},{"include":"#fstring-multi-brace"},{"include":"#fstring-multi-core"}]},"fstring-normf-quoted-single-line":{"begin":"\\\\b([BUbu])([Ff])(([\\"']))","beginCaptures":{"1":{"name":"invalid.illegal.prefix.python"},"2":{"name":"string.interpolated.python string.quoted.single.python storage.type.string.python"},"3":{"name":"punctuation.definition.string.begin.python string.quoted.single.python"}},"end":"(\\\\3)|((?<!\\\\\\\\)\\\\n)","endCaptures":{"1":{"name":"punctuation.definition.string.end.python string.interpolated.python string.quoted.single.python"},"2":{"name":"invalid.illegal.newline.python"}},"name":"meta.fstring.python","patterns":[{"include":"#fstring-guts"},{"include":"#fstring-illegal-single-brace"},{"include":"#fstring-single-brace"},{"include":"#fstring-single-core"}]},"fstring-raw-guts":{"patterns":[{"include":"#string-consume-escape"},{"include":"#fstring-formatting"}]},"fstring-raw-multi-core":{"match":"(.+?)($(\\\\n?)|(?=[\\\\\\\\{}]|'''|\\"\\"\\"))|\\\\n","name":"string.interpolated.python string.quoted.raw.multi.python"},"fstring-raw-quoted-multi-line":{"begin":"\\\\b([Rr][Ff]|[Ff][Rr])('''|\\"\\"\\")","beginCaptures":{"1":{"name":"string.interpolated.python string.quoted.raw.multi.python storage.type.string.python"},"2":{"name":"punctuation.definition.string.begin.python string.quoted.raw.multi.python"}},"end":"(\\\\2)","endCaptures":{"1":{"name":"punctuation.definition.string.end.python string.interpolated.python string.quoted.raw.multi.python"},"2":{"name":"invalid.illegal.newline.python"}},"name":"meta.fstring.python","patterns":[{"include":"#fstring-raw-guts"},{"include":"#fstring-illegal-multi-brace"},{"include":"#fstring-multi-brace"},{"include":"#fstring-raw-multi-core"}]},"fstring-raw-quoted-single-line":{"begin":"\\\\b([Rr][Ff]|[Ff][Rr])(([\\"']))","beginCaptures":{"1":{"name":"string.interpolated.python string.quoted.raw.single.python storage.type.string.python"},"2":{"name":"punctuation.definition.string.begin.python string.quoted.raw.single.python"}},"end":"(\\\\2)|((?<!\\\\\\\\)\\\\n)","endCaptures":{"1":{"name":"punctuation.definition.string.end.python string.interpolated.python string.quoted.raw.single.python"},"2":{"name":"invalid.illegal.newline.python"}},"name":"meta.fstring.python","patterns":[{"include":"#fstring-raw-guts"},{"include":"#fstring-illegal-single-brace"},{"include":"#fstring-single-brace"},{"include":"#fstring-raw-single-core"}]},"fstring-raw-single-core":{"match":"(.+?)($(\\\\n?)|(?=[\\\\\\\\{}]|([\\"'])|((?<!\\\\\\\\)\\\\n)))|\\\\n","name":"string.interpolated.python string.quoted.raw.single.python"},"fstring-single-brace":{"begin":"(\\\\{)","beginCaptures":{"1":{"name":"constant.character.format.placeholder.other.python"}},"end":"(})|(?=\\\\n)","endCaptures":{"1":{"name":"constant.character.format.placeholder.other.python"}},"patterns":[{"include":"#fstring-terminator-single"},{"include":"#f-expression"}]},"fstring-single-core":{"match":"(.+?)($(\\\\n?)|(?=[\\\\\\\\{}]|([\\"'])|((?<!\\\\\\\\)\\\\n)))|\\\\n","name":"string.interpolated.python string.quoted.single.python"},"fstring-terminator-multi":{"patterns":[{"match":"(=(![ars])?)(?=})","name":"storage.type.format.python"},{"match":"(=?![ars])(?=})","name":"storage.type.format.python"},{"captures":{"1":{"name":"storage.type.format.python"},"2":{"name":"storage.type.format.python"}},"match":"(=?(?:![ars])?)(:\\\\w?[<=>^]?[- +]?#?\\\\d*,?(\\\\.\\\\d+)?[%EFGXb-gnosx]?)(?=})"},{"include":"#fstring-terminator-multi-tail"}]},"fstring-terminator-multi-tail":{"begin":"(=?(?:![ars])?)(:)(?=.*?\\\\{)","beginCaptures":{"1":{"name":"storage.type.format.python"},"2":{"name":"storage.type.format.python"}},"end":"(?=})","patterns":[{"include":"#fstring-illegal-multi-brace"},{"include":"#fstring-multi-brace"},{"match":"([%EFGXb-gnosx])(?=})","name":"storage.type.format.python"},{"match":"(\\\\.\\\\d+)","name":"storage.type.format.python"},{"match":"(,)","name":"storage.type.format.python"},{"match":"(\\\\d+)","name":"storage.type.format.python"},{"match":"(#)","name":"storage.type.format.python"},{"match":"([- +])","name":"storage.type.format.python"},{"match":"([<=>^])","name":"storage.type.format.python"},{"match":"(\\\\w)","name":"storage.type.format.python"}]},"fstring-terminator-single":{"patterns":[{"match":"(=(![ars])?)(?=})","name":"storage.type.format.python"},{"match":"(=?![ars])(?=})","name":"storage.type.format.python"},{"captures":{"1":{"name":"storage.type.format.python"},"2":{"name":"storage.type.format.python"}},"match":"(=?(?:![ars])?)(:\\\\w?[<=>^]?[- +]?#?\\\\d*,?(\\\\.\\\\d+)?[%EFGXb-gnosx]?)(?=})"},{"include":"#fstring-terminator-single-tail"}]},"fstring-terminator-single-tail":{"begin":"(=?(?:![ars])?)(:)(?=.*?\\\\{)","beginCaptures":{"1":{"name":"storage.type.format.python"},"2":{"name":"storage.type.format.python"}},"end":"(?=})|(?=\\\\n)","patterns":[{"include":"#fstring-illegal-single-brace"},{"include":"#fstring-single-brace"},{"match":"([%EFGXb-gnosx])(?=})","name":"storage.type.format.python"},{"match":"(\\\\.\\\\d+)","name":"storage.type.format.python"},{"match":"(,)","name":"storage.type.format.python"},{"match":"(\\\\d+)","name":"storage.type.format.python"},{"match":"(#)","name":"storage.type.format.python"},{"match":"([- +])","name":"storage.type.format.python"},{"match":"([<=>^])","name":"storage.type.format.python"},{"match":"(\\\\w)","name":"storage.type.format.python"}]},"function-arguments":{"begin":"(\\\\()","beginCaptures":{"1":{"name":"punctuation.definition.arguments.begin.python"}},"contentName":"meta.function-call.arguments.python","end":"(?=\\\\))(?!\\\\)\\\\s*\\\\()","patterns":[{"match":"(,)","name":"punctuation.separator.arguments.python"},{"captures":{"1":{"name":"keyword.operator.unpacking.arguments.python"}},"match":"(?:(?<=[(,])|^)\\\\s*(\\\\*{1,2})"},{"include":"#lambda-incomplete"},{"include":"#illegal-names"},{"captures":{"1":{"name":"variable.parameter.function-call.python"},"2":{"name":"keyword.operator.assignment.python"}},"match":"\\\\b([_[:alpha:]]\\\\w*)\\\\s*(=)(?!=)"},{"match":"=(?!=)","name":"keyword.operator.assignment.python"},{"include":"#expression"},{"captures":{"1":{"name":"punctuation.definition.arguments.end.python"},"2":{"name":"punctuation.definition.arguments.begin.python"}},"match":"\\\\s*(\\\\))\\\\s*(\\\\()"}]},"function-call":{"begin":"\\\\b(?=([_[:alpha:]]\\\\w*)\\\\s*(\\\\())","end":"(\\\\))","endCaptures":{"1":{"name":"punctuation.definition.arguments.end.python"}},"name":"meta.function-call.python","patterns":[{"include":"#special-variables"},{"include":"#function-name"},{"include":"#function-arguments"}]},"function-declaration":{"begin":"\\\\s*(?:\\\\b(async)\\\\s+)?\\\\b(def)\\\\s+(?=[_[:alpha:]]\\\\p{word}*\\\\s*\\\\()","beginCaptures":{"1":{"name":"storage.type.function.async.python"},"2":{"name":"storage.type.function.python"}},"end":"(:|(?=[\\\\n\\"#']))","endCaptures":{"1":{"name":"punctuation.section.function.begin.python"}},"name":"meta.function.python","patterns":[{"include":"#function-def-name"},{"include":"#parameters"},{"include":"#line-continuation"},{"include":"#return-annotation"}]},"function-def-name":{"patterns":[{"include":"#illegal-object-name"},{"include":"#builtin-possible-callables"},{"match":"\\\\b([_[:alpha:]]\\\\w*)\\\\b","name":"entity.name.function.python"}]},"function-name":{"patterns":[{"include":"#builtin-possible-callables"},{"match":"\\\\b([_[:alpha:]]\\\\w*)\\\\b","name":"meta.function-call.generic.python"}]},"generator":{"begin":"\\\\bfor\\\\b","beginCaptures":{"0":{"name":"keyword.control.flow.python"}},"end":"\\\\bin\\\\b","endCaptures":{"0":{"name":"keyword.control.flow.python"}},"patterns":[{"include":"#expression"}]},"illegal-anno":{"match":"->","name":"invalid.illegal.annotation.python"},"illegal-names":{"captures":{"1":{"name":"keyword.control.flow.python"},"2":{"name":"keyword.control.import.python"}},"match":"\\\\b(?:(and|assert|async|await|break|class|continue|def|del|elif|else|except|finally|for|from|global|if|in|is|(?<=\\\\.)lambda|lambda(?=\\\\s*[.=])|nonlocal|not|or|pass|raise|return|try|while|with|yield)|(as|import))\\\\b"},"illegal-object-name":{"match":"\\\\b(True|False|None)\\\\b","name":"keyword.illegal.name.python"},"illegal-operator":{"patterns":[{"match":"&&|\\\\|\\\\||--|\\\\+\\\\+","name":"invalid.illegal.operator.python"},{"match":"[$?]","name":"invalid.illegal.operator.python"},{"match":"!\\\\b","name":"invalid.illegal.operator.python"}]},"import":{"patterns":[{"begin":"\\\\b(?<!\\\\.)(from)\\\\b(?=.+import)","beginCaptures":{"1":{"name":"keyword.control.import.python"}},"end":"$|(?=import)","patterns":[{"match":"\\\\.+","name":"punctuation.separator.period.python"},{"include":"#expression"}]},{"begin":"\\\\b(?<!\\\\.)(import)\\\\b","beginCaptures":{"1":{"name":"keyword.control.import.python"}},"end":"$","patterns":[{"match":"\\\\b(?<!\\\\.)as\\\\b","name":"keyword.control.import.python"},{"include":"#expression"}]}]},"impossible":{"match":"$.^"},"inheritance-identifier":{"captures":{"1":{"name":"entity.other.inherited-class.python"}},"match":"\\\\b([_[:alpha:]]\\\\w*)\\\\b"},"inheritance-name":{"patterns":[{"include":"#lambda-incomplete"},{"include":"#builtin-possible-callables"},{"include":"#inheritance-identifier"}]},"item-access":{"patterns":[{"begin":"\\\\b(?=[_[:alpha:]]\\\\w*\\\\s*\\\\[)","end":"(])","endCaptures":{"1":{"name":"punctuation.definition.arguments.end.python"}},"name":"meta.item-access.python","patterns":[{"include":"#item-name"},{"include":"#item-index"},{"include":"#expression"}]}]},"item-index":{"begin":"(\\\\[)","beginCaptures":{"1":{"name":"punctuation.definition.arguments.begin.python"}},"contentName":"meta.item-access.arguments.python","end":"(?=])","patterns":[{"match":":","name":"punctuation.separator.slice.python"},{"include":"#expression"}]},"item-name":{"patterns":[{"include":"#special-variables"},{"include":"#builtin-functions"},{"include":"#special-names"},{"match":"\\\\b([_[:alpha:]]\\\\w*)\\\\b","name":"meta.indexed-name.python"}]},"lambda":{"patterns":[{"captures":{"1":{"name":"keyword.control.flow.python"}},"match":"((?<=\\\\.)lambda|lambda(?=\\\\s*[.=]))"},{"captures":{"1":{"name":"storage.type.function.lambda.python"}},"match":"\\\\b(lambda)\\\\s*?(?=[\\\\n,]|$)"},{"begin":"\\\\b(lambda)\\\\b","beginCaptures":{"1":{"name":"storage.type.function.lambda.python"}},"contentName":"meta.function.lambda.parameters.python","end":"(:)|(\\\\n)","endCaptures":{"1":{"name":"punctuation.section.function.lambda.begin.python"}},"name":"meta.lambda-function.python","patterns":[{"match":"/","name":"keyword.operator.positional.parameter.python"},{"match":"(\\\\*\\\\*?)","name":"keyword.operator.unpacking.parameter.python"},{"include":"#lambda-nested-incomplete"},{"include":"#illegal-names"},{"captures":{"1":{"name":"variable.parameter.function.language.python"},"2":{"name":"punctuation.separator.parameters.python"}},"match":"([_[:alpha:]]\\\\w*)\\\\s*(?:(,)|(?=:|$))"},{"include":"#comments"},{"include":"#backticks"},{"include":"#illegal-anno"},{"include":"#lambda-parameter-with-default"},{"include":"#line-continuation"},{"include":"#illegal-operator"}]}]},"lambda-incomplete":{"match":"\\\\blambda(?=\\\\s*[),])","name":"storage.type.function.lambda.python"},"lambda-nested-incomplete":{"match":"\\\\blambda(?=\\\\s*[),:])","name":"storage.type.function.lambda.python"},"lambda-parameter-with-default":{"begin":"\\\\b([_[:alpha:]]\\\\w*)\\\\s*(=)","beginCaptures":{"1":{"name":"variable.parameter.function.language.python"},"2":{"name":"keyword.operator.python"}},"end":"(,)|(?=:|$)","endCaptures":{"1":{"name":"punctuation.separator.parameters.python"}},"patterns":[{"include":"#expression"}]},"line-continuation":{"patterns":[{"captures":{"1":{"name":"punctuation.separator.continuation.line.python"},"2":{"name":"invalid.illegal.line.continuation.python"}},"match":"(\\\\\\\\)\\\\s*(\\\\S.*$\\\\n?)"},{"begin":"(\\\\\\\\)\\\\s*$\\\\n?","beginCaptures":{"1":{"name":"punctuation.separator.continuation.line.python"}},"end":"(?=^\\\\s*$)|(?!(\\\\s*[Rr]?('''|\\"\\"\\"|[\\"']))|\\\\G()$)","patterns":[{"include":"#regexp"},{"include":"#string"}]}]},"list":{"begin":"\\\\[","beginCaptures":{"0":{"name":"punctuation.definition.list.begin.python"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.list.end.python"}},"patterns":[{"include":"#expression"}]},"literal":{"patterns":[{"match":"\\\\b(True|False|None|NotImplemented|Ellipsis)\\\\b","name":"constant.language.python"},{"include":"#number"}]},"loose-default":{"begin":"(=)","beginCaptures":{"1":{"name":"keyword.operator.python"}},"end":"(,)|(?=\\\\))","endCaptures":{"1":{"name":"punctuation.separator.parameters.python"}},"patterns":[{"include":"#expression"}]},"magic-function-names":{"captures":{"1":{"name":"support.function.magic.python"}},"match":"\\\\b(__(?:abs|add|aenter|aexit|aiter|and|anext|await|bool|call|ceil|class_getitem|cmp|coerce|complex|contains|copy|deepcopy|del|delattr|delete|delitem|delslice|dir|div|divmod|enter|eq|exit|float|floor|floordiv|format|get??|getattr|getattribute|getinitargs|getitem|getnewargs|getslice|getstate|gt|hash|hex|iadd|iand|idiv|ifloordiv||ilshift|imod|imul|index|init|instancecheck|int|invert|ior|ipow|irshift|isub|iter|itruediv|ixor|len??|long|lshift|lt|missing|mod|mul|neg??|new|next|nonzero|oct|or|pos|pow|radd|rand|rdiv|rdivmod|reduce|reduce_ex|repr|reversed|rfloordiv||rlshift|rmod|rmul|ror|round|rpow|rrshift|rshift|rsub|rtruediv|rxor|set|setattr|setitem|set_name|setslice|setstate|sizeof|str|sub|subclasscheck|truediv|trunc|unicode|xor|matmul|rmatmul|imatmul|init_subclass|set_name|fspath|bytes|prepare|length_hint)__)\\\\b"},"magic-names":{"patterns":[{"include":"#magic-function-names"},{"include":"#magic-variable-names"}]},"magic-variable-names":{"captures":{"1":{"name":"support.variable.magic.python"}},"match":"\\\\b(__(?:all|annotations|bases|builtins|class|closure|code|debug|defaults|dict|doc|file|func|globals|kwdefaults|match_args|members|metaclass|methods|module|mro|mro_entries|name|qualname|post_init|self|signature|slots|subclasses|version|weakref|wrapped|classcell|spec|path|package|future|traceback)__)\\\\b"},"member-access":{"begin":"(\\\\.)\\\\s*(?!\\\\.)","beginCaptures":{"1":{"name":"punctuation.separator.period.python"}},"end":"(?<=\\\\S)(?=\\\\W)|(^|(?<=\\\\s))(?=[^\\\\\\\\\\\\w\\\\s])|$","name":"meta.member.access.python","patterns":[{"include":"#function-call"},{"include":"#member-access-base"},{"include":"#member-access-attribute"}]},"member-access-attribute":{"match":"\\\\b([_[:alpha:]]\\\\w*)\\\\b","name":"meta.attribute.python"},"member-access-base":{"patterns":[{"include":"#magic-names"},{"include":"#illegal-names"},{"include":"#illegal-object-name"},{"include":"#special-names"},{"include":"#line-continuation"},{"include":"#item-access"}]},"member-access-class":{"begin":"(\\\\.)\\\\s*(?!\\\\.)","beginCaptures":{"1":{"name":"punctuation.separator.period.python"}},"end":"(?<=\\\\S)(?=\\\\W)|$","name":"meta.member.access.python","patterns":[{"include":"#call-wrapper-inheritance"},{"include":"#member-access-base"},{"include":"#inheritance-identifier"}]},"number":{"name":"constant.numeric.python","patterns":[{"include":"#number-float"},{"include":"#number-dec"},{"include":"#number-hex"},{"include":"#number-oct"},{"include":"#number-bin"},{"include":"#number-long"},{"match":"\\\\b[0-9]+\\\\w+","name":"invalid.illegal.name.python"}]},"number-bin":{"captures":{"1":{"name":"storage.type.number.python"}},"match":"(?<![.\\\\w])(0[Bb])(_?[01])+\\\\b","name":"constant.numeric.bin.python"},"number-dec":{"captures":{"1":{"name":"storage.type.imaginary.number.python"},"2":{"name":"invalid.illegal.dec.python"}},"match":"(?<![.\\\\w])(?:[1-9](?:_?[0-9])*|0+|[0-9](?:_?[0-9])*([Jj])|0([0-9]+)(?![.Ee]))\\\\b","name":"constant.numeric.dec.python"},"number-float":{"captures":{"1":{"name":"storage.type.imaginary.number.python"}},"match":"(?<!\\\\w)(?:(?:\\\\.[0-9](?:_?[0-9])*|[0-9](?:_?[0-9])*\\\\.[0-9](?:_?[0-9])*|[0-9](?:_?[0-9])*\\\\.)(?:[Ee][-+]?[0-9](?:_?[0-9])*)?|[0-9](?:_?[0-9])*[Ee][-+]?[0-9](?:_?[0-9])*)([Jj])?\\\\b","name":"constant.numeric.float.python"},"number-hex":{"captures":{"1":{"name":"storage.type.number.python"}},"match":"(?<![.\\\\w])(0[Xx])(_?\\\\h)+\\\\b","name":"constant.numeric.hex.python"},"number-long":{"captures":{"2":{"name":"storage.type.number.python"}},"match":"(?<![.\\\\w])([1-9][0-9]*|0)([Ll])\\\\b","name":"constant.numeric.bin.python"},"number-oct":{"captures":{"1":{"name":"storage.type.number.python"}},"match":"(?<![.\\\\w])(0[Oo])(_?[0-7])+\\\\b","name":"constant.numeric.oct.python"},"odd-function-call":{"begin":"(?<=[])])\\\\s*(?=\\\\()","end":"(\\\\))","endCaptures":{"1":{"name":"punctuation.definition.arguments.end.python"}},"patterns":[{"include":"#function-arguments"}]},"operator":{"captures":{"1":{"name":"keyword.operator.logical.python"},"2":{"name":"keyword.control.flow.python"},"3":{"name":"keyword.operator.bitwise.python"},"4":{"name":"keyword.operator.arithmetic.python"},"5":{"name":"keyword.operator.comparison.python"},"6":{"name":"keyword.operator.assignment.python"}},"match":"\\\\b(?<!\\\\.)(?:(and|or|not|in|is)|(for|if|else|await|yield(?:\\\\s+from)?))(?!\\\\s*:)\\\\b|(<<|>>|[\\\\&^|~])|(\\\\*\\\\*|[-%*+]|//|[/@])|(!=|==|>=|<=|[<>])|(:=)"},"parameter-special":{"captures":{"1":{"name":"variable.parameter.function.language.python"},"2":{"name":"variable.parameter.function.language.special.self.python"},"3":{"name":"variable.parameter.function.language.special.cls.python"},"4":{"name":"punctuation.separator.parameters.python"}},"match":"\\\\b((self)|(cls))\\\\b\\\\s*(?:(,)|(?=\\\\)))"},"parameters":{"begin":"(\\\\()","beginCaptures":{"1":{"name":"punctuation.definition.parameters.begin.python"}},"end":"(\\\\))","endCaptures":{"1":{"name":"punctuation.definition.parameters.end.python"}},"name":"meta.function.parameters.python","patterns":[{"match":"/","name":"keyword.operator.positional.parameter.python"},{"match":"(\\\\*\\\\*?)","name":"keyword.operator.unpacking.parameter.python"},{"include":"#lambda-incomplete"},{"include":"#illegal-names"},{"include":"#illegal-object-name"},{"include":"#parameter-special"},{"captures":{"1":{"name":"variable.parameter.function.language.python"},"2":{"name":"punctuation.separator.parameters.python"}},"match":"([_[:alpha:]]\\\\w*)\\\\s*(?:(,)|(?=[\\\\n#)=]))"},{"include":"#comments"},{"include":"#loose-default"},{"include":"#annotated-parameter"}]},"punctuation":{"patterns":[{"match":":","name":"punctuation.separator.colon.python"},{"match":",","name":"punctuation.separator.element.python"}]},"regexp":{"patterns":[{"include":"#regexp-single-three-line"},{"include":"#regexp-double-three-line"},{"include":"#regexp-single-one-line"},{"include":"#regexp-double-one-line"}]},"regexp-backreference":{"captures":{"1":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.backreference.named.begin.regexp"},"2":{"name":"entity.name.tag.named.backreference.regexp"},"3":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.backreference.named.end.regexp"}},"match":"(\\\\()(\\\\?P=\\\\w+(?:\\\\s+\\\\p{alnum}+)?)(\\\\))","name":"meta.backreference.named.regexp"},"regexp-backreference-number":{"captures":{"1":{"name":"entity.name.tag.backreference.regexp"}},"match":"(\\\\\\\\[1-9]\\\\d?)","name":"meta.backreference.regexp"},"regexp-base-common":{"patterns":[{"match":"\\\\.","name":"support.other.match.any.regexp"},{"match":"\\\\^","name":"support.other.match.begin.regexp"},{"match":"\\\\$","name":"support.other.match.end.regexp"},{"match":"[*+?]\\\\??","name":"keyword.operator.quantifier.regexp"},{"match":"\\\\|","name":"keyword.operator.disjunction.regexp"},{"include":"#regexp-escape-sequence"}]},"regexp-base-expression":{"patterns":[{"include":"#regexp-quantifier"},{"include":"#regexp-base-common"}]},"regexp-charecter-set-escapes":{"patterns":[{"match":"\\\\\\\\[\\\\\\\\abfnrtv]","name":"constant.character.escape.regexp"},{"include":"#regexp-escape-special"},{"match":"\\\\\\\\([0-7]{1,3})","name":"constant.character.escape.regexp"},{"include":"#regexp-escape-character"},{"include":"#regexp-escape-unicode"},{"include":"#regexp-escape-catchall"}]},"regexp-double-one-line":{"begin":"\\\\b(([Uu]r)|([Bb]r)|(r[Bb]?))(\\")","beginCaptures":{"2":{"name":"invalid.deprecated.prefix.python"},"3":{"name":"storage.type.string.python"},"4":{"name":"storage.type.string.python"},"5":{"name":"punctuation.definition.string.begin.python"}},"end":"(\\")|(?<!\\\\\\\\)(\\\\n)","endCaptures":{"1":{"name":"punctuation.definition.string.end.python"},"2":{"name":"invalid.illegal.newline.python"}},"name":"string.regexp.quoted.single.python","patterns":[{"include":"#double-one-regexp-expression"}]},"regexp-double-three-line":{"begin":"\\\\b(([Uu]r)|([Bb]r)|(r[Bb]?))(\\"\\"\\")","beginCaptures":{"2":{"name":"invalid.deprecated.prefix.python"},"3":{"name":"storage.type.string.python"},"4":{"name":"storage.type.string.python"},"5":{"name":"punctuation.definition.string.begin.python"}},"end":"(\\"\\"\\")","endCaptures":{"1":{"name":"punctuation.definition.string.end.python"},"2":{"name":"invalid.illegal.newline.python"}},"name":"string.regexp.quoted.multi.python","patterns":[{"include":"#double-three-regexp-expression"}]},"regexp-escape-catchall":{"match":"\\\\\\\\(.|\\\\n)","name":"constant.character.escape.regexp"},"regexp-escape-character":{"match":"\\\\\\\\(x\\\\h{2}|0[0-7]{1,2}|[0-7]{3})","name":"constant.character.escape.regexp"},"regexp-escape-sequence":{"patterns":[{"include":"#regexp-escape-special"},{"include":"#regexp-escape-character"},{"include":"#regexp-escape-unicode"},{"include":"#regexp-backreference-number"},{"include":"#regexp-escape-catchall"}]},"regexp-escape-special":{"match":"\\\\\\\\([ABDSWZbdsw])","name":"support.other.escape.special.regexp"},"regexp-escape-unicode":{"match":"\\\\\\\\(u\\\\h{4}|U\\\\h{8})","name":"constant.character.unicode.regexp"},"regexp-flags":{"match":"\\\\(\\\\?[Laimsux]+\\\\)","name":"storage.modifier.flag.regexp"},"regexp-quantifier":{"match":"\\\\{(\\\\d+|\\\\d+,(\\\\d+)?|,\\\\d+)}","name":"keyword.operator.quantifier.regexp"},"regexp-single-one-line":{"begin":"\\\\b(([Uu]r)|([Bb]r)|(r[Bb]?))(')","beginCaptures":{"2":{"name":"invalid.deprecated.prefix.python"},"3":{"name":"storage.type.string.python"},"4":{"name":"storage.type.string.python"},"5":{"name":"punctuation.definition.string.begin.python"}},"end":"(')|(?<!\\\\\\\\)(\\\\n)","endCaptures":{"1":{"name":"punctuation.definition.string.end.python"},"2":{"name":"invalid.illegal.newline.python"}},"name":"string.regexp.quoted.single.python","patterns":[{"include":"#single-one-regexp-expression"}]},"regexp-single-three-line":{"begin":"\\\\b(([Uu]r)|([Bb]r)|(r[Bb]?))(''')","beginCaptures":{"2":{"name":"invalid.deprecated.prefix.python"},"3":{"name":"storage.type.string.python"},"4":{"name":"storage.type.string.python"},"5":{"name":"punctuation.definition.string.begin.python"}},"end":"(''')","endCaptures":{"1":{"name":"punctuation.definition.string.end.python"},"2":{"name":"invalid.illegal.newline.python"}},"name":"string.regexp.quoted.multi.python","patterns":[{"include":"#single-three-regexp-expression"}]},"return-annotation":{"begin":"(->)","beginCaptures":{"1":{"name":"punctuation.separator.annotation.result.python"}},"end":"(?=:)","patterns":[{"include":"#expression"}]},"round-braces":{"begin":"\\\\(","beginCaptures":{"0":{"name":"punctuation.parenthesis.begin.python"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.parenthesis.end.python"}},"patterns":[{"include":"#expression"}]},"semicolon":{"patterns":[{"match":";$","name":"invalid.deprecated.semicolon.python"}]},"single-one-regexp-character-set":{"patterns":[{"match":"\\\\[\\\\^?](?!.*?])"},{"begin":"(\\\\[)(\\\\^)?(])?","beginCaptures":{"1":{"name":"punctuation.character.set.begin.regexp constant.other.set.regexp"},"2":{"name":"keyword.operator.negation.regexp"},"3":{"name":"constant.character.set.regexp"}},"end":"(]|(?='))|((?=(?<!\\\\\\\\)\\\\n))","endCaptures":{"1":{"name":"punctuation.character.set.end.regexp constant.other.set.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"name":"meta.character.set.regexp","patterns":[{"include":"#regexp-charecter-set-escapes"},{"match":"\\\\N","name":"constant.character.set.regexp"}]}]},"single-one-regexp-comments":{"begin":"\\\\(\\\\?#","beginCaptures":{"0":{"name":"punctuation.comment.begin.regexp"}},"end":"(\\\\)|(?='))|((?=(?<!\\\\\\\\)\\\\n))","endCaptures":{"1":{"name":"punctuation.comment.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"name":"comment.regexp","patterns":[{"include":"#codetags"}]},"single-one-regexp-conditional":{"begin":"(\\\\()\\\\?\\\\((\\\\w+(?:\\\\s+\\\\p{alnum}+)?|\\\\d+)\\\\)","beginCaptures":{"0":{"name":"keyword.operator.conditional.regexp"},"1":{"name":"punctuation.parenthesis.conditional.begin.regexp"}},"end":"(\\\\)|(?='))|((?=(?<!\\\\\\\\)\\\\n))","endCaptures":{"1":{"name":"keyword.operator.conditional.negative.regexp punctuation.parenthesis.conditional.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#single-one-regexp-expression"}]},"single-one-regexp-expression":{"patterns":[{"include":"#regexp-base-expression"},{"include":"#single-one-regexp-character-set"},{"include":"#single-one-regexp-comments"},{"include":"#regexp-flags"},{"include":"#single-one-regexp-named-group"},{"include":"#regexp-backreference"},{"include":"#single-one-regexp-lookahead"},{"include":"#single-one-regexp-lookahead-negative"},{"include":"#single-one-regexp-lookbehind"},{"include":"#single-one-regexp-lookbehind-negative"},{"include":"#single-one-regexp-conditional"},{"include":"#single-one-regexp-parentheses-non-capturing"},{"include":"#single-one-regexp-parentheses"}]},"single-one-regexp-lookahead":{"begin":"(\\\\()\\\\?=","beginCaptures":{"0":{"name":"keyword.operator.lookahead.regexp"},"1":{"name":"punctuation.parenthesis.lookahead.begin.regexp"}},"end":"(\\\\)|(?='))|((?=(?<!\\\\\\\\)\\\\n))","endCaptures":{"1":{"name":"keyword.operator.lookahead.regexp punctuation.parenthesis.lookahead.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#single-one-regexp-expression"}]},"single-one-regexp-lookahead-negative":{"begin":"(\\\\()\\\\?!","beginCaptures":{"0":{"name":"keyword.operator.lookahead.negative.regexp"},"1":{"name":"punctuation.parenthesis.lookahead.begin.regexp"}},"end":"(\\\\)|(?='))|((?=(?<!\\\\\\\\)\\\\n))","endCaptures":{"1":{"name":"keyword.operator.lookahead.negative.regexp punctuation.parenthesis.lookahead.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#single-one-regexp-expression"}]},"single-one-regexp-lookbehind":{"begin":"(\\\\()\\\\?<=","beginCaptures":{"0":{"name":"keyword.operator.lookbehind.regexp"},"1":{"name":"punctuation.parenthesis.lookbehind.begin.regexp"}},"end":"(\\\\)|(?='))|((?=(?<!\\\\\\\\)\\\\n))","endCaptures":{"1":{"name":"keyword.operator.lookbehind.regexp punctuation.parenthesis.lookbehind.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#single-one-regexp-expression"}]},"single-one-regexp-lookbehind-negative":{"begin":"(\\\\()\\\\?<!","beginCaptures":{"0":{"name":"keyword.operator.lookbehind.negative.regexp"},"1":{"name":"punctuation.parenthesis.lookbehind.begin.regexp"}},"end":"(\\\\)|(?='))|((?=(?<!\\\\\\\\)\\\\n))","endCaptures":{"1":{"name":"keyword.operator.lookbehind.negative.regexp punctuation.parenthesis.lookbehind.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#single-one-regexp-expression"}]},"single-one-regexp-named-group":{"begin":"(\\\\()(\\\\?P<\\\\w+(?:\\\\s+\\\\p{alnum}+)?>)","beginCaptures":{"1":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.named.begin.regexp"},"2":{"name":"entity.name.tag.named.group.regexp"}},"end":"(\\\\)|(?='))|((?=(?<!\\\\\\\\)\\\\n))","endCaptures":{"1":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.named.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"name":"meta.named.regexp","patterns":[{"include":"#single-one-regexp-expression"}]},"single-one-regexp-parentheses":{"begin":"\\\\(","beginCaptures":{"0":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.begin.regexp"}},"end":"(\\\\)|(?='))|((?=(?<!\\\\\\\\)\\\\n))","endCaptures":{"1":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#single-one-regexp-expression"}]},"single-one-regexp-parentheses-non-capturing":{"begin":"\\\\(\\\\?:","beginCaptures":{"0":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.non-capturing.begin.regexp"}},"end":"(\\\\)|(?='))|((?=(?<!\\\\\\\\)\\\\n))","endCaptures":{"1":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.non-capturing.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#single-one-regexp-expression"}]},"single-three-regexp-character-set":{"patterns":[{"match":"\\\\[\\\\^?](?!.*?])"},{"begin":"(\\\\[)(\\\\^)?(])?","beginCaptures":{"1":{"name":"punctuation.character.set.begin.regexp constant.other.set.regexp"},"2":{"name":"keyword.operator.negation.regexp"},"3":{"name":"constant.character.set.regexp"}},"end":"(]|(?='''))","endCaptures":{"1":{"name":"punctuation.character.set.end.regexp constant.other.set.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"name":"meta.character.set.regexp","patterns":[{"include":"#regexp-charecter-set-escapes"},{"match":"\\\\N","name":"constant.character.set.regexp"}]}]},"single-three-regexp-comments":{"begin":"\\\\(\\\\?#","beginCaptures":{"0":{"name":"punctuation.comment.begin.regexp"}},"end":"(\\\\)|(?='''))","endCaptures":{"1":{"name":"punctuation.comment.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"name":"comment.regexp","patterns":[{"include":"#codetags"}]},"single-three-regexp-conditional":{"begin":"(\\\\()\\\\?\\\\((\\\\w+(?:\\\\s+\\\\p{alnum}+)?|\\\\d+)\\\\)","beginCaptures":{"0":{"name":"keyword.operator.conditional.regexp"},"1":{"name":"punctuation.parenthesis.conditional.begin.regexp"}},"end":"(\\\\)|(?='''))","endCaptures":{"1":{"name":"keyword.operator.conditional.negative.regexp punctuation.parenthesis.conditional.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#single-three-regexp-expression"},{"include":"#comments-string-single-three"}]},"single-three-regexp-expression":{"patterns":[{"include":"#regexp-base-expression"},{"include":"#single-three-regexp-character-set"},{"include":"#single-three-regexp-comments"},{"include":"#regexp-flags"},{"include":"#single-three-regexp-named-group"},{"include":"#regexp-backreference"},{"include":"#single-three-regexp-lookahead"},{"include":"#single-three-regexp-lookahead-negative"},{"include":"#single-three-regexp-lookbehind"},{"include":"#single-three-regexp-lookbehind-negative"},{"include":"#single-three-regexp-conditional"},{"include":"#single-three-regexp-parentheses-non-capturing"},{"include":"#single-three-regexp-parentheses"},{"include":"#comments-string-single-three"}]},"single-three-regexp-lookahead":{"begin":"(\\\\()\\\\?=","beginCaptures":{"0":{"name":"keyword.operator.lookahead.regexp"},"1":{"name":"punctuation.parenthesis.lookahead.begin.regexp"}},"end":"(\\\\)|(?='''))","endCaptures":{"1":{"name":"keyword.operator.lookahead.regexp punctuation.parenthesis.lookahead.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#single-three-regexp-expression"},{"include":"#comments-string-single-three"}]},"single-three-regexp-lookahead-negative":{"begin":"(\\\\()\\\\?!","beginCaptures":{"0":{"name":"keyword.operator.lookahead.negative.regexp"},"1":{"name":"punctuation.parenthesis.lookahead.begin.regexp"}},"end":"(\\\\)|(?='''))","endCaptures":{"1":{"name":"keyword.operator.lookahead.negative.regexp punctuation.parenthesis.lookahead.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#single-three-regexp-expression"},{"include":"#comments-string-single-three"}]},"single-three-regexp-lookbehind":{"begin":"(\\\\()\\\\?<=","beginCaptures":{"0":{"name":"keyword.operator.lookbehind.regexp"},"1":{"name":"punctuation.parenthesis.lookbehind.begin.regexp"}},"end":"(\\\\)|(?='''))","endCaptures":{"1":{"name":"keyword.operator.lookbehind.regexp punctuation.parenthesis.lookbehind.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#single-three-regexp-expression"},{"include":"#comments-string-single-three"}]},"single-three-regexp-lookbehind-negative":{"begin":"(\\\\()\\\\?<!","beginCaptures":{"0":{"name":"keyword.operator.lookbehind.negative.regexp"},"1":{"name":"punctuation.parenthesis.lookbehind.begin.regexp"}},"end":"(\\\\)|(?='''))","endCaptures":{"1":{"name":"keyword.operator.lookbehind.negative.regexp punctuation.parenthesis.lookbehind.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#single-three-regexp-expression"},{"include":"#comments-string-single-three"}]},"single-three-regexp-named-group":{"begin":"(\\\\()(\\\\?P<\\\\w+(?:\\\\s+\\\\p{alnum}+)?>)","beginCaptures":{"1":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.named.begin.regexp"},"2":{"name":"entity.name.tag.named.group.regexp"}},"end":"(\\\\)|(?='''))","endCaptures":{"1":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.named.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"name":"meta.named.regexp","patterns":[{"include":"#single-three-regexp-expression"},{"include":"#comments-string-single-three"}]},"single-three-regexp-parentheses":{"begin":"\\\\(","beginCaptures":{"0":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.begin.regexp"}},"end":"(\\\\)|(?='''))","endCaptures":{"1":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#single-three-regexp-expression"},{"include":"#comments-string-single-three"}]},"single-three-regexp-parentheses-non-capturing":{"begin":"\\\\(\\\\?:","beginCaptures":{"0":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.non-capturing.begin.regexp"}},"end":"(\\\\)|(?='''))","endCaptures":{"1":{"name":"support.other.parenthesis.regexp punctuation.parenthesis.non-capturing.end.regexp"},"2":{"name":"invalid.illegal.newline.python"}},"patterns":[{"include":"#single-three-regexp-expression"},{"include":"#comments-string-single-three"}]},"special-names":{"match":"\\\\b(_*\\\\p{upper}[_\\\\d]*\\\\p{upper})[[:upper:]\\\\d]*(_\\\\w*)?\\\\b","name":"constant.other.caps.python"},"special-variables":{"captures":{"1":{"name":"variable.language.special.self.python"},"2":{"name":"variable.language.special.cls.python"}},"match":"\\\\b(?<!\\\\.)(?:(self)|(cls))\\\\b"},"statement":{"patterns":[{"include":"#import"},{"include":"#class-declaration"},{"include":"#function-declaration"},{"include":"#generator"},{"include":"#statement-keyword"},{"include":"#assignment-operator"},{"include":"#decorator"},{"include":"#docstring-statement"},{"include":"#semicolon"}]},"statement-keyword":{"patterns":[{"match":"\\\\b((async\\\\s+)?\\\\s*def)\\\\b","name":"storage.type.function.python"},{"match":"\\\\b(?<!\\\\.)as\\\\b(?=.*[:\\\\\\\\])","name":"keyword.control.flow.python"},{"match":"\\\\b(?<!\\\\.)as\\\\b","name":"keyword.control.import.python"},{"match":"\\\\b(?<!\\\\.)(async|continue|del|assert|break|finally|for|from|elif|else|if|except|pass|raise|return|try|while|with)\\\\b","name":"keyword.control.flow.python"},{"match":"\\\\b(?<!\\\\.)(global|nonlocal)\\\\b","name":"storage.modifier.declaration.python"},{"match":"\\\\b(?<!\\\\.)(class)\\\\b","name":"storage.type.class.python"},{"captures":{"1":{"name":"keyword.control.flow.python"}},"match":"^\\\\s*(case|match)(?=\\\\s*([-\\"#'(+:\\\\[{\\\\w\\\\d]|$))\\\\b"}]},"string":{"patterns":[{"include":"#string-quoted-multi-line"},{"include":"#string-quoted-single-line"},{"include":"#string-bin-quoted-multi-line"},{"include":"#string-bin-quoted-single-line"},{"include":"#string-raw-quoted-multi-line"},{"include":"#string-raw-quoted-single-line"},{"include":"#string-raw-bin-quoted-multi-line"},{"include":"#string-raw-bin-quoted-single-line"},{"include":"#fstring-fnorm-quoted-multi-line"},{"include":"#fstring-fnorm-quoted-single-line"},{"include":"#fstring-normf-quoted-multi-line"},{"include":"#fstring-normf-quoted-single-line"},{"include":"#fstring-raw-quoted-multi-line"},{"include":"#fstring-raw-quoted-single-line"}]},"string-bin-quoted-multi-line":{"begin":"\\\\b([Bb])('''|\\"\\"\\")","beginCaptures":{"1":{"name":"storage.type.string.python"},"2":{"name":"punctuation.definition.string.begin.python"}},"end":"(\\\\2)","endCaptures":{"1":{"name":"punctuation.definition.string.end.python"},"2":{"name":"invalid.illegal.newline.python"}},"name":"string.quoted.binary.multi.python","patterns":[{"include":"#string-entity"}]},"string-bin-quoted-single-line":{"begin":"\\\\b([Bb])(([\\"']))","beginCaptures":{"1":{"name":"storage.type.string.python"},"2":{"name":"punctuation.definition.string.begin.python"}},"end":"(\\\\2)|((?<!\\\\\\\\)\\\\n)","endCaptures":{"1":{"name":"punctuation.definition.string.end.python"},"2":{"name":"invalid.illegal.newline.python"}},"name":"string.quoted.binary.single.python","patterns":[{"include":"#string-entity"}]},"string-brace-formatting":{"patterns":[{"captures":{"1":{"name":"constant.character.format.placeholder.other.python"},"3":{"name":"storage.type.format.python"},"4":{"name":"storage.type.format.python"}},"match":"(\\\\{\\\\{|}}|\\\\{\\\\w*(\\\\.[_[:alpha:]]\\\\w*|\\\\[[^]\\"']+])*(![ars])?(:\\\\w?[<=>^]?[- +]?#?\\\\d*,?(\\\\.\\\\d+)?[%EFGXb-gnosx]?)?})","name":"meta.format.brace.python"},{"captures":{"1":{"name":"constant.character.format.placeholder.other.python"},"3":{"name":"storage.type.format.python"},"4":{"name":"storage.type.format.python"}},"match":"(\\\\{\\\\w*(\\\\.[_[:alpha:]]\\\\w*|\\\\[[^]\\"']+])*(![ars])?(:)[^\\\\n\\"'{}]*(?:\\\\{[^\\\\n\\"'}]*?}[^\\\\n\\"'{}]*)*})","name":"meta.format.brace.python"}]},"string-consume-escape":{"match":"\\\\\\\\[\\\\n\\"'\\\\\\\\]"},"string-entity":{"patterns":[{"include":"#escape-sequence"},{"include":"#string-line-continuation"},{"include":"#string-formatting"}]},"string-formatting":{"captures":{"1":{"name":"constant.character.format.placeholder.other.python"}},"match":"(%(\\\\([\\\\w\\\\s]*\\\\))?[- #+0]*(\\\\d+|\\\\*)?(\\\\.(\\\\d+|\\\\*))?([Lhl])?[%EFGXa-giorsux])","name":"meta.format.percent.python"},"string-line-continuation":{"match":"\\\\\\\\$","name":"constant.language.python"},"string-multi-bad-brace1-formatting-raw":{"begin":"(?=\\\\{%(.*?(?!'''|\\"\\"\\"))%})","end":"(?='''|\\"\\"\\")","patterns":[{"include":"#string-consume-escape"}]},"string-multi-bad-brace1-formatting-unicode":{"begin":"(?=\\\\{%(.*?(?!'''|\\"\\"\\"))%})","end":"(?='''|\\"\\"\\")","patterns":[{"include":"#escape-sequence-unicode"},{"include":"#escape-sequence"},{"include":"#string-line-continuation"}]},"string-multi-bad-brace2-formatting-raw":{"begin":"(?!\\\\{\\\\{)(?=\\\\{(\\\\w*?(?!'''|\\"\\"\\")[^!.:\\\\[}\\\\w]).*?(?!'''|\\"\\"\\")})","end":"(?='''|\\"\\"\\")","patterns":[{"include":"#string-consume-escape"},{"include":"#string-formatting"}]},"string-multi-bad-brace2-formatting-unicode":{"begin":"(?!\\\\{\\\\{)(?=\\\\{(\\\\w*?(?!'''|\\"\\"\\")[^!.:\\\\[}\\\\w]).*?(?!'''|\\"\\"\\")})","end":"(?='''|\\"\\"\\")","patterns":[{"include":"#escape-sequence-unicode"},{"include":"#string-entity"}]},"string-quoted-multi-line":{"begin":"(?:\\\\b([Rr])(?=[Uu]))?([Uu])?('''|\\"\\"\\")","beginCaptures":{"1":{"name":"invalid.illegal.prefix.python"},"2":{"name":"storage.type.string.python"},"3":{"name":"punctuation.definition.string.begin.python"}},"end":"(\\\\3)","endCaptures":{"1":{"name":"punctuation.definition.string.end.python"},"2":{"name":"invalid.illegal.newline.python"}},"name":"string.quoted.multi.python","patterns":[{"include":"#string-multi-bad-brace1-formatting-unicode"},{"include":"#string-multi-bad-brace2-formatting-unicode"},{"include":"#string-unicode-guts"}]},"string-quoted-single-line":{"begin":"(?:\\\\b([Rr])(?=[Uu]))?([Uu])?(([\\"']))","beginCaptures":{"1":{"name":"invalid.illegal.prefix.python"},"2":{"name":"storage.type.string.python"},"3":{"name":"punctuation.definition.string.begin.python"}},"end":"(\\\\3)|((?<!\\\\\\\\)\\\\n)","endCaptures":{"1":{"name":"punctuation.definition.string.end.python"},"2":{"name":"invalid.illegal.newline.python"}},"name":"string.quoted.single.python","patterns":[{"include":"#string-single-bad-brace1-formatting-unicode"},{"include":"#string-single-bad-brace2-formatting-unicode"},{"include":"#string-unicode-guts"}]},"string-raw-bin-guts":{"patterns":[{"include":"#string-consume-escape"},{"include":"#string-formatting"}]},"string-raw-bin-quoted-multi-line":{"begin":"\\\\b(R[Bb]|[Bb]R)('''|\\"\\"\\")","beginCaptures":{"1":{"name":"storage.type.string.python"},"2":{"name":"punctuation.definition.string.begin.python"}},"end":"(\\\\2)","endCaptures":{"1":{"name":"punctuation.definition.string.end.python"},"2":{"name":"invalid.illegal.newline.python"}},"name":"string.quoted.raw.binary.multi.python","patterns":[{"include":"#string-raw-bin-guts"}]},"string-raw-bin-quoted-single-line":{"begin":"\\\\b(R[Bb]|[Bb]R)(([\\"']))","beginCaptures":{"1":{"name":"storage.type.string.python"},"2":{"name":"punctuation.definition.string.begin.python"}},"end":"(\\\\2)|((?<!\\\\\\\\)\\\\n)","endCaptures":{"1":{"name":"punctuation.definition.string.end.python"},"2":{"name":"invalid.illegal.newline.python"}},"name":"string.quoted.raw.binary.single.python","patterns":[{"include":"#string-raw-bin-guts"}]},"string-raw-guts":{"patterns":[{"include":"#string-consume-escape"},{"include":"#string-formatting"},{"include":"#string-brace-formatting"}]},"string-raw-quoted-multi-line":{"begin":"\\\\b(([Uu]R)|(R))('''|\\"\\"\\")","beginCaptures":{"2":{"name":"invalid.deprecated.prefix.python"},"3":{"name":"storage.type.string.python"},"4":{"name":"punctuation.definition.string.begin.python"}},"end":"(\\\\4)","endCaptures":{"1":{"name":"punctuation.definition.string.end.python"},"2":{"name":"invalid.illegal.newline.python"}},"name":"string.quoted.raw.multi.python","patterns":[{"include":"#string-multi-bad-brace1-formatting-raw"},{"include":"#string-multi-bad-brace2-formatting-raw"},{"include":"#string-raw-guts"}]},"string-raw-quoted-single-line":{"begin":"\\\\b(([Uu]R)|(R))(([\\"']))","beginCaptures":{"2":{"name":"invalid.deprecated.prefix.python"},"3":{"name":"storage.type.string.python"},"4":{"name":"punctuation.definition.string.begin.python"}},"end":"(\\\\4)|((?<!\\\\\\\\)\\\\n)","endCaptures":{"1":{"name":"punctuation.definition.string.end.python"},"2":{"name":"invalid.illegal.newline.python"}},"name":"string.quoted.raw.single.python","patterns":[{"include":"#string-single-bad-brace1-formatting-raw"},{"include":"#string-single-bad-brace2-formatting-raw"},{"include":"#string-raw-guts"}]},"string-single-bad-brace1-formatting-raw":{"begin":"(?=\\\\{%(.*?(?!([\\"'])|((?<!\\\\\\\\)\\\\n)))%})","end":"(?=([\\"'])|((?<!\\\\\\\\)\\\\n))","patterns":[{"include":"#string-consume-escape"}]},"string-single-bad-brace1-formatting-unicode":{"begin":"(?=\\\\{%(.*?(?!([\\"'])|((?<!\\\\\\\\)\\\\n)))%})","end":"(?=([\\"'])|((?<!\\\\\\\\)\\\\n))","patterns":[{"include":"#escape-sequence-unicode"},{"include":"#escape-sequence"},{"include":"#string-line-continuation"}]},"string-single-bad-brace2-formatting-raw":{"begin":"(?!\\\\{\\\\{)(?=\\\\{(\\\\w*?(?!([\\"'])|((?<!\\\\\\\\)\\\\n))[^!.:\\\\[}\\\\w]).*?(?!([\\"'])|((?<!\\\\\\\\)\\\\n))})","end":"(?=([\\"'])|((?<!\\\\\\\\)\\\\n))","patterns":[{"include":"#string-consume-escape"},{"include":"#string-formatting"}]},"string-single-bad-brace2-formatting-unicode":{"begin":"(?!\\\\{\\\\{)(?=\\\\{(\\\\w*?(?!([\\"'])|((?<!\\\\\\\\)\\\\n))[^!.:\\\\[}\\\\w]).*?(?!([\\"'])|((?<!\\\\\\\\)\\\\n))})","end":"(?=([\\"'])|((?<!\\\\\\\\)\\\\n))","patterns":[{"include":"#escape-sequence-unicode"},{"include":"#string-entity"}]},"string-unicode-guts":{"patterns":[{"include":"#escape-sequence-unicode"},{"include":"#string-entity"},{"include":"#string-brace-formatting"}]}},"scopeName":"source.python","aliases":["py"]}`)),t4=[j9e],RQe=Object.freeze(Object.defineProperty({__proto__:null,default:t4},Symbol.toStringTag,{value:"Module"})),T9e=Object.freeze(JSON.parse('{"displayName":"SQL","name":"sql","patterns":[{"match":"((?<!@)@)\\\\b(\\\\w+)\\\\b","name":"text.variable"},{"match":"(\\\\[)[^]]*(])","name":"text.bracketed"},{"include":"#comments"},{"captures":{"1":{"name":"keyword.other.create.sql"},"2":{"name":"keyword.other.sql"},"5":{"name":"entity.name.function.sql"}},"match":"(?i:^\\\\s*(create(?:\\\\s+or\\\\s+replace)?)\\\\s+(aggregate|conversion|database|domain|function|group|(unique\\\\s+)?index|language|operator class|operator|rule|schema|sequence|table|tablespace|trigger|type|user|view)\\\\s+)([\\"\'`]?)(\\\\w+)\\\\4","name":"meta.create.sql"},{"captures":{"1":{"name":"keyword.other.create.sql"},"2":{"name":"keyword.other.sql"}},"match":"(?i:^\\\\s*(drop)\\\\s+(aggregate|conversion|database|domain|function|group|index|language|operator class|operator|rule|schema|sequence|table|tablespace|trigger|type|user|view))","name":"meta.drop.sql"},{"captures":{"1":{"name":"keyword.other.create.sql"},"2":{"name":"keyword.other.table.sql"},"3":{"name":"entity.name.function.sql"},"4":{"name":"keyword.other.cascade.sql"}},"match":"(?i:\\\\s*(drop)\\\\s+(table)\\\\s+(\\\\w+)(\\\\s+cascade)?\\\\b)","name":"meta.drop.sql"},{"captures":{"1":{"name":"keyword.other.create.sql"},"2":{"name":"keyword.other.table.sql"}},"match":"(?i:^\\\\s*(alter)\\\\s+(aggregate|conversion|database|domain|function|group|index|language|operator class|operator|proc(edure)?|rule|schema|sequence|table|tablespace|trigger|type|user|view)\\\\s+)","name":"meta.alter.sql"},{"captures":{"1":{"name":"storage.type.sql"},"2":{"name":"storage.type.sql"},"3":{"name":"constant.numeric.sql"},"4":{"name":"storage.type.sql"},"5":{"name":"constant.numeric.sql"},"6":{"name":"storage.type.sql"},"7":{"name":"constant.numeric.sql"},"8":{"name":"constant.numeric.sql"},"9":{"name":"storage.type.sql"},"10":{"name":"constant.numeric.sql"},"11":{"name":"storage.type.sql"},"12":{"name":"storage.type.sql"},"13":{"name":"storage.type.sql"},"14":{"name":"constant.numeric.sql"},"15":{"name":"storage.type.sql"}},"match":"(?i)\\\\b(bigint|bigserial|bit|boolean|box|bytea|cidr|circle|date|double\\\\sprecision|inet|int|integer|line|lseg|macaddr|money|oid|path|point|polygon|real|serial|smallint|sysdate|text)\\\\b|\\\\b(bit\\\\svarying|character\\\\s(?:varying)?|tinyint|var\\\\schar|float|interval)\\\\((\\\\d+)\\\\)|\\\\b(char|number|varchar\\\\d?)\\\\b(?:\\\\((\\\\d+)\\\\))?|\\\\b(numeric|decimal)\\\\b(?:\\\\((\\\\d+),(\\\\d+)\\\\))?|\\\\b(times?)\\\\b(?:\\\\((\\\\d+)\\\\))?(\\\\swith(?:out)?\\\\stime\\\\szone\\\\b)?|\\\\b(timestamp)(s|tz)?\\\\b(?:\\\\((\\\\d+)\\\\))?(\\\\s(with(?:|out))\\\\stime\\\\szone\\\\b)?"},{"match":"(?i:\\\\b((?:primary|foreign)\\\\s+key|references|on\\\\s+(delete|update)(\\\\s+cascade)?|nocheck|check|constraint|collate|default)\\\\b)","name":"storage.modifier.sql"},{"match":"\\\\b\\\\d+\\\\b","name":"constant.numeric.sql"},{"match":"(?i:\\\\b(select(\\\\s+(all|distinct))?|insert\\\\s+(ignore\\\\s+)?into|update|delete|from|set|where|group\\\\s+by|or|like|and|union(\\\\s+all)?|having|order\\\\s+by|limit|cross\\\\s+join|join|straight_join|(inner|(left|right|full)(\\\\s+outer)?)\\\\s+join|natural(\\\\s+(inner|(left|right|full)(\\\\s+outer)?))?\\\\s+join)\\\\b)","name":"keyword.other.DML.sql"},{"match":"(?i:\\\\b(on|off|((is\\\\s+)?not\\\\s+)?null)\\\\b)","name":"keyword.other.DDL.create.II.sql"},{"match":"(?i:\\\\bvalues\\\\b)","name":"keyword.other.DML.II.sql"},{"match":"(?i:\\\\b(begin(\\\\s+work)?|start\\\\s+transaction|commit(\\\\s+work)?|rollback(\\\\s+work)?)\\\\b)","name":"keyword.other.LUW.sql"},{"match":"(?i:\\\\b(grant(\\\\swith\\\\sgrant\\\\soption)?|revoke)\\\\b)","name":"keyword.other.authorization.sql"},{"match":"(?i:\\\\bin\\\\b)","name":"keyword.other.data-integrity.sql"},{"match":"(?i:^\\\\s*(comment\\\\s+on\\\\s+(table|column|aggregate|constraint|database|domain|function|index|operator|rule|schema|sequence|trigger|type|view))\\\\s+)","name":"keyword.other.object-comments.sql"},{"match":"(?i)\\\\bAS\\\\b","name":"keyword.other.alias.sql"},{"match":"(?i)\\\\b(DESC|ASC)\\\\b","name":"keyword.other.order.sql"},{"match":"\\\\*","name":"keyword.operator.star.sql"},{"match":"[!<>]?=|<>|[<>]","name":"keyword.operator.comparison.sql"},{"match":"[-+/]","name":"keyword.operator.math.sql"},{"match":"\\\\|\\\\|","name":"keyword.operator.concatenator.sql"},{"captures":{"1":{"name":"support.function.aggregate.sql"}},"match":"(?i)\\\\b(approx_count_distinct|approx_percentile_cont|approx_percentile_disc|avg|checksum_agg|count|count_big|group|grouping|grouping_id|max|min|sum|stdevp??|varp??)\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"support.function.analytic.sql"}},"match":"(?i)\\\\b(cume_dist|first_value|lag|last_value|lead|percent_rank|percentile_cont|percentile_disc)\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"support.function.bitmanipulation.sql"}},"match":"(?i)\\\\b((?:bit_coun|get_bi|left_shif|right_shif|set_bi)t)\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"support.function.conversion.sql"}},"match":"(?i)\\\\b(cast|convert|parse|try_cast|try_convert|try_parse)\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"support.function.collation.sql"}},"match":"(?i)\\\\b(collationproperty|tertiary_weights)\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"support.function.cryptographic.sql"}},"match":"(?i)\\\\b(asymkey_id|asymkeyproperty|certproperty|cert_id|crypt_gen_random|decryptbyasymkey|decryptbycert|decryptbykey|decryptbykeyautoasymkey|decryptbykeyautocert|decryptbypassphrase|encryptbyasymkey|encryptbycert|encryptbykey|encryptbypassphrase|hashbytes|is_objectsigned|key_guid|key_id|key_name|signbyasymkey|signbycert|symkeyproperty|verifysignedbycert|verifysignedbyasymkey)\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"support.function.cursor.sql"}},"match":"(?i)\\\\b(cursor_status)\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"support.function.datetime.sql"}},"match":"(?i)\\\\b(sysdatetime|sysdatetimeoffset|sysutcdatetime|current_time(stamp)?|getdate|getutcdate|datename|datepart|day|month|year|datefromparts|datetime2fromparts|datetimefromparts|datetimeoffsetfromparts|smalldatetimefromparts|timefromparts|datediff|dateadd|datetrunc|eomonth|switchoffset|todatetimeoffset|isdate|date_bucket)\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"support.function.datatype.sql"}},"match":"(?i)\\\\b(datalength|ident_current|ident_incr|ident_seed|identity|sql_variant_property)\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"support.function.expression.sql"}},"match":"(?i)\\\\b(coalesce|nullif)\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"support.function.globalvar.sql"}},"match":"(?<!@)@@(?i)\\\\b(cursor_rows|connections|cpu_busy|datefirst|dbts|error|fetch_status|identity|idle|io_busy|langid|language|lock_timeout|max_connections|max_precision|nestlevel|options|packet_errors|pack_received|pack_sent|procid|remserver|rowcount|servername|servicename|spid|textsize|timeticks|total_errors|total_read|total_write|trancount|version)\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"support.function.json.sql"}},"match":"(?i)\\\\b(json|isjson|json_object|json_array|json_value|json_query|json_modify|json_path_exists)\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"support.function.logical.sql"}},"match":"(?i)\\\\b(choose|iif|greatest|least)\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"support.function.mathematical.sql"}},"match":"(?i)\\\\b(abs|acos|asin|atan|atn2|ceiling|cos|cot|degrees|exp|floor|log|log10|pi|power|radians|rand|round|sign|sin|sqrt|square|tan)\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"support.function.metadata.sql"}},"match":"(?i)\\\\b(app_name|applock_mode|applock_test|assemblyproperty|col_length|col_name|columnproperty|database_principal_id|databasepropertyex|db_id|db_name|file_id|file_idex|file_name|filegroup_id|filegroup_name|filegroupproperty|fileproperty|fulltextcatalogproperty|fulltextserviceproperty|index_col|indexkey_property|indexproperty|object_definition|object_id|object_name|object_schema_name|objectproperty|objectpropertyex|original_db_name|parsename|schema_id|schema_name|scope_identity|serverproperty|stats_date|type_id|type_name|typeproperty)\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"support.function.ranking.sql"}},"match":"(?i)\\\\b(rank|dense_rank|ntile|row_number)\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"support.function.rowset.sql"}},"match":"(?i)\\\\b(generate_series|opendatasource|openjson|openrowset|openquery|openxml|predict|string_split)\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"support.function.security.sql"}},"match":"(?i)\\\\b(certencoded|certprivatekey|current_user|database_principal_id|has_perms_by_name|is_member|is_rolemember|is_srvrolemember|original_login|permissions|pwdcompare|pwdencrypt|schema_id|schema_name|session_user|suser_id|suser_sid|suser_sname|system_user|suser_name|user_id|user_name)\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"support.function.string.sql"}},"match":"(?i)\\\\b(ascii|char|charindex|concat|difference|format|left|len|lower|ltrim|nchar|nodes|patindex|quotename|replace|replicate|reverse|right|rtrim|soundex|space|str|string_agg|string_escape|string_split|stuff|substring|translate|trim|unicode|upper)\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"support.function.system.sql"}},"match":"(?i)\\\\b(binary_checksum|checksum|compress|connectionproperty|context_info|current_request_id|current_transaction_id|decompress|error_line|error_message|error_number|error_procedure|error_severity|error_state|formatmessage|get_filestream_transaction_context|getansinull|host_id|host_name|isnull|isnumeric|min_active_rowversion|newid|newsequentialid|rowcount_big|session_context|session_id|xact_state)\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"support.function.textimage.sql"}},"match":"(?i)\\\\b(patindex|textptr|textvalid)\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"support.function.vector.sql"}},"match":"(?i)\\\\b(vector_(?:distance|norm|normalize))\\\\b\\\\s*\\\\("},{"captures":{"1":{"name":"constant.other.database-name.sql"},"2":{"name":"constant.other.table-name.sql"}},"match":"(\\\\w+?)\\\\.(\\\\w+)"},{"include":"#strings"},{"include":"#regexps"},{"match":"\\\\b(?i)(abort|abort_after_wait|absent|absolute|accent_sensitivity|acceptable_cursopt|acp|action|activation|add|address|admin|aes_128|aes_192|aes_256|affinity|after|aggregate|algorithm|all_constraints|all_errormsgs|all_indexes|all_levels|all_results|allow_connections|allow_dup_row|allow_encrypted_value_modifications|allow_page_locks|allow_row_locks|allow_snapshot_isolation|alter|altercolumn|always|anonymous|ansi_defaults|ansi_null_default|ansi_null_dflt_off|ansi_null_dflt_on|ansi_nulls|ansi_padding|ansi_warnings|appdomain|append|application|apply|arithabort|arithignore|array|assembly|asymmetric|asynchronous_commit|at|atan2|atomic|attach|attach_force_rebuild_log|attach_rebuild_log|audit|auth_realm|authentication|auto|auto_cleanup|auto_close|auto_create_statistics|auto_drop|auto_shrink|auto_update_statistics|auto_update_statistics_async|automated_backup_preference|automatic|autopilot|availability|availability_mode|backup|backup_priority|base64|basic|batches|batchsize|before|between|bigint|binary|binding|bit|block|blockers|blocksize|bmk|both|break|broker|broker_instance|bucket_count|buffer|buffercount|bulk_logged|by|call|caller|card|case|catalog|catch|cert|certificate|change_retention|change_tracking|change_tracking_context|changes|char|character|character_set|check_expiration|check_policy|checkconstraints|checkindex|checkpoint|checksum|cleanup_policy|clear|clear_port|close|clustered|codepage|collection|column_encryption_key|column_master_key|columnstore|columnstore_archive|colv_80_to_100|colv_100_to_80|commit_differential_base|committed|compatibility_level|compress_all_row_groups|compression|compression_delay|concat_null_yields_null|concatenate|configuration|connect|connection|containment|continue|continue_after_error|contract|contract_name|control|conversation|conversation_group_id|conversation_handle|copy|copy_only|count_rows|counter|create(\\\\\\\\s+or\\\\\\\\s+alter)?|credential|cross|cryptographic|cryptographic_provider|cube|cursor|cursor_close_on_commit|cursor_default|data|data_compression|data_flush_interval_seconds|data_mirroring|data_purity|data_source|database|database_name|database_snapshot|datafiletype|date_correlation_optimization|date|datefirst|dateformat|date_format|datetime2??|datetimeoffset|day(s)?|db_chaining|dbid|dbidexec|dbo_only|deadlock_priority|deallocate|dec|decimal|declare|decrypt|decrypt_a|decryption|default_database|default_fulltext_language|default_language|default_logon_domain|default_schema|definition|delay|delayed_durability|delimitedtext|density_vector|dependent|des|description|desired_state|desx|differential|digest|disable|disable_broker|disable_def_cnst_chk|disabled|disk|distinct|distributed|distribution|drop|drop_existing|dts_buffers|dump|durability|dynamic|edition|elements|else|emergency|empty|enable|enable_broker|enabled|encoding|encrypted|encrypted_value|encryption|encryption_type|end|endpoint|endpoint_url|enhancedintegrity|entry|error_broker_conversations|errorfile|estimateonly|event|except|exec|executable|execute|exists|expand|expiredate|expiry_date|explicit|external|external_access|failover|failover_mode|failure_condition_level|fast|fast_forward|fastfirstrow|federated_service_account|fetch|field_terminator|fieldterminator|file|filelistonly|filegroup|filegrowth|filename|filestream|filestream_log|filestream_on|filetable|file_format|filter|first_row|fips_flagger|fire_triggers|first|firstrow|float|flush_interval_seconds|fmtonly|following|for|force|force_failover_allow_data_loss|force_service_allow_data_loss|forced|forceplan|formatfile|format_options|format_type|formsof|forward_only|free_cursors|free_exec_context|fullscan|fulltext|fulltextall|fulltextkey|function|generated|get|geography|geometry|global|go|goto|governor|guid|hadoop|hardening|hash|hashed|header_limit|headeronly|health_check_timeout|hidden|hierarchyid|histogram|histogram_steps|hits_cursors|hits_exec_context|hour(s)?|http|identity|identity_value|if|ifnull|ignore|ignore_constraints|ignore_dup_key|ignore_dup_row|ignore_triggers|image|immediate|implicit_transactions|include|include_null_values|incremental|index|inflectional|init|initiator|insensitive|insert|instead|int|integer|integrated|intersect|intermediate|interval_length_minutes|into|inuse_cursors|inuse_exec_context|io|is|isabout|iso_week|isolation|job_tracker_location|json|keep|keep_nulls|keep_replication|keepdefaults|keepfixed|keepidentity|keepnulls|kerberos|key|key_path|key_source|key_store_provider_name|keyset|kill|kilobytes_per_batch|labelonly|langid|language|last|lastrow|leading|legacy_cardinality_estimation|length|level|lifetime|lineage_80_to_100|lineage_100_to_80|listener_ip|listener_port|load|loadhistory|lob_compaction|local|local_service_name|locate|location|lock_escalation|lock_timeout|lockres|log|login|login_type|loop|manual|mark_in_use_for_removal|masked|master|match|matched|max_queue_readers|max_duration|max_outstanding_io_per_volume|maxdop|maxerrors|maxlength|maxtransfersize|max_plans_per_query|max_storage_size_mb|mediadescription|medianame|mediapassword|memogroup|memory_optimized|merge|message|message_forward_size|message_forwarding|microsecond|millisecond|minute(s)?|mirror_address|misses_cursors|misses_exec_context|mixed|modify|money|month|move|multi_user|must_change|name|namespace|nanosecond|native|native_compilation|nchar|ncharacter|nested_triggers|never|new_account|new_broker|newname|next|no|no_browsetable|no_checksum|no_compression|no_infomsgs|no_triggers|no_truncate|nocount|noexec|noexpand|noformat|noinit|nolock|nonatomic|nonclustered|nondurable|none|norecompute|norecovery|noreset|norewind|noskip|not|notification|nounload|now|nowait|ntext|ntlm|nulls|numeric|numeric_roundabort|nvarchar|object|objid|oem|offline|old_account|online|operation_mode|open|openjson|optimistic|option|orc|out|outer|output|over|override|owner|ownership|pad_index|page|page_checksum|page_verify|pagecount|paglock|param|parameter_sniffing|parameter_type_expansion|parameterization|parquet|parseonly|partial|partition|partner|password|path|pause|percentage|permission_set|persisted|period|physical_only|plan_forcing_mode|policy|pool|population|ports|preceding|precision|predicate|presume_abort|primary|primary_role|print|prior|priority |priority_level|private|proc(edure)?|procedure_name|profile|provider|quarter|query_capture_mode|query_governor_cost_limit|query_optimizer_hotfixes|query_store|queue|quoted_identifier|raiserror|range|raw|rcfile|rc2|rc4|rc4_128|rdbms|read_committed_snapshot|read|read_only|read_write|readcommitted|readcommittedlock|readonly|readpast|readuncommitted|readwrite|real|rebuild|receive|recmodel_70backcomp|recompile|reconfigure|recovery|recursive|recursive_triggers|redo_queue|reject_sample_value|reject_type|reject_value|relative|remote|remote_data_archive|remote_proc_transactions|remote_service_name|remove|removed_cursors|removed_exec_context|reorganize|repeat|repeatable|repeatableread|replace|replica|replicated|replnick_100_to_80|replnickarray_80_to_100|replnickarray_100_to_80|required|required_cursopt|resample|reset|resource|resource_manager_location|respect|restart|restore|restricted_user|resume|retaindays|retention|return|revert|rewind|rewindonly|returns|robust|role|rollup|root|round_robin|route|row|rowdump|rowguidcol|rowlock|row_terminator|rows|rows_per_batch|rowsets_only|rowterminator|rowversion|rsa_1024|rsa_2048|rsa_3072|rsa_4096|rsa_512|safe|safety|sample|save|scalar|schema|schemabinding|scoped|scroll|scroll_locks|sddl|second|secexpr|seconds|secondary|secondary_only|secondary_role|secret|security|securityaudit|selective|self|send|sent|sequence|serde_method|serializable|server|service|service_broker|service_name|service_objective|session_timeout|sessions??|seterror|setopts|sets|shard_map_manager|shard_map_name|sharded|shared_memory|shortest_path|show_statistics|showplan_all|showplan_text|showplan_xml|showplan_xml_with_recompile|shrinkdb|shutdown|sid|signature|simple|single_blob|single_clob|single_nclob|single_user|singleton|site|size|size_based_cleanup_mode|skip|smalldatetime|smallint|smallmoney|snapshot|snapshot_import|snapshotrestorephase|soap|softnuma|sort_in_tempdb|sorted_data|sorted_data_reorg|spatial|sql|sql_bigint|sql_binary|sql_bit|sql_char|sql_date|sql_decimal|sql_double|sql_float|sql_guid|sql_handle|sql_longvarbinary|sql_longvarchar|sql_numeric|sql_real|sql_smallint|sql_time|sql_timestamp|sql_tinyint|sql_tsi_day|sql_tsi_frac_second|sql_tsi_hour|sql_tsi_minute|sql_tsi_month|sql_tsi_quarter|sql_tsi_second|sql_tsi_week|sql_tsi_year|sql_type_date|sql_type_time|sql_type_timestamp|sql_varbinary|sql_varchar|sql_variant|sql_wchar|sql_wlongvarchar|ssl|ssl_port|standard|standby|start|start_date|started|stat_header|state|statement|static|statistics|statistics_incremental|statistics_norecompute|statistics_only|statman|stats|stats_stream|status|stop|stop_on_error|stopat|stopatmark|stopbeforemark|stoplist|stopped|string_delimiter|subject|supplemental_logging|supported|suspend|symmetric|synchronous_commit|synonym|sysname|system|system_time|system_versioning|table|tableresults|tablockx??|take|tape|target|target_index|target_partition|target_recovery_time|tcp|temporal_history_retention|text|textimage_on|then|thesaurus|throw|time|timeout|timestamp|tinyint|top??|torn_page_detection|track_columns_updated|trailing|tran|transaction|transfer|transform_noise_words|triple_des|triple_des_3key|truncate|trustworthy|try|tsql|two_digit_year_cutoff|type|type_desc|type_warning|tzoffset|uid|unbounded|uncommitted|unique|uniqueidentifier|unlimited|unload|unlock|unsafe|updlock|url|use|useplan|useroptions|use_type_default|using|utcdatetime|valid_xml|validation|values??|varbinary|varchar|vector|verbose|verifyonly|version|view_metadata|virtual_device|visiblity|wait_at_low_priority|waitfor|webmethod|week|weekday|weight|well_formed_xml|when|while|widechar|widechar_ansi|widenative|windows??|with|within|within group|witness|without|without_array_wrapper|workload|wsdl|xact_abort|xlock|xml|xmlschema|xquery|xsinil|year|zone)\\\\b","name":"keyword.other.sql"},{"captures":{"1":{"name":"punctuation.section.scope.begin.sql"},"2":{"name":"punctuation.section.scope.end.sql"}},"match":"(\\\\()(\\\\))","name":"meta.block.sql"}],"repository":{"comment-block":{"begin":"/\\\\*","captures":{"0":{"name":"punctuation.definition.comment.sql"}},"end":"\\\\*/","name":"comment.block","patterns":[{"include":"#comment-block"}]},"comments":{"patterns":[{"begin":"(^[\\\\t ]+)?(?=--)","beginCaptures":{"1":{"name":"punctuation.whitespace.comment.leading.sql"}},"end":"(?!\\\\G)","patterns":[{"begin":"--","beginCaptures":{"0":{"name":"punctuation.definition.comment.sql"}},"end":"\\\\n","name":"comment.line.double-dash.sql"}]},{"begin":"(^[\\\\t ]+)?(?=#)","beginCaptures":{"1":{"name":"punctuation.whitespace.comment.leading.sql"}},"end":"(?!\\\\G)","patterns":[]},{"include":"#comment-block"}]},"regexps":{"patterns":[{"begin":"/(?=\\\\S.*/)","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.sql"}},"end":"/","endCaptures":{"0":{"name":"punctuation.definition.string.end.sql"}},"name":"string.regexp.sql","patterns":[{"include":"#string_interpolation"},{"match":"\\\\\\\\/","name":"constant.character.escape.slash.sql"}]},{"begin":"%r\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.sql"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.string.end.sql"}},"name":"string.regexp.modr.sql","patterns":[{"include":"#string_interpolation"}]}]},"string_escape":{"match":"\\\\\\\\.","name":"constant.character.escape.sql"},"string_interpolation":{"captures":{"1":{"name":"punctuation.definition.string.begin.sql"},"3":{"name":"punctuation.definition.string.end.sql"}},"match":"(#\\\\{)([^}]*)(})","name":"string.interpolated.sql"},"strings":{"patterns":[{"captures":{"2":{"name":"punctuation.definition.string.begin.sql"},"3":{"name":"punctuation.definition.string.end.sql"}},"match":"(N)?(\')[^\']*(\')","name":"string.quoted.single.sql"},{"begin":"\'","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.sql"}},"end":"\'","endCaptures":{"0":{"name":"punctuation.definition.string.end.sql"}},"name":"string.quoted.single.sql","patterns":[{"include":"#string_escape"}]},{"captures":{"1":{"name":"punctuation.definition.string.begin.sql"},"2":{"name":"punctuation.definition.string.end.sql"}},"match":"(`)[^\\\\\\\\`]*(`)","name":"string.quoted.other.backtick.sql"},{"begin":"`","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.sql"}},"end":"`","endCaptures":{"0":{"name":"punctuation.definition.string.end.sql"}},"name":"string.quoted.other.backtick.sql","patterns":[{"include":"#string_escape"}]},{"captures":{"1":{"name":"punctuation.definition.string.begin.sql"},"2":{"name":"punctuation.definition.string.end.sql"}},"match":"(\\")[^\\"#]*(\\")","name":"string.quoted.double.sql"},{"begin":"\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.sql"}},"end":"\\"","endCaptures":{"0":{"name":"punctuation.definition.string.end.sql"}},"name":"string.quoted.double.sql","patterns":[{"include":"#string_interpolation"}]},{"begin":"%\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.sql"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.string.end.sql"}},"name":"string.other.quoted.brackets.sql","patterns":[{"include":"#string_interpolation"}]}]}},"scopeName":"source.sql"}')),Nz=[T9e],MQe=Object.freeze(Object.defineProperty({__proto__:null,default:Nz},Symbol.toStringTag,{value:"Module"})),E9e=Object.freeze(JSON.parse(`{"displayName":"TOML","fileTypes":["toml"],"name":"toml","patterns":[{"include":"#comments"},{"include":"#groups"},{"include":"#key_pair"},{"include":"#invalid"}],"repository":{"comments":{"begin":"(^[\\\\t ]+)?(?=#)","beginCaptures":{"1":{"name":"punctuation.whitespace.comment.leading.toml"}},"end":"(?!\\\\G)","patterns":[{"begin":"#","beginCaptures":{"0":{"name":"punctuation.definition.comment.toml"}},"end":"\\\\n","name":"comment.line.number-sign.toml"}]},"groups":{"patterns":[{"captures":{"1":{"name":"punctuation.definition.section.begin.toml"},"2":{"patterns":[{"match":"[^.\\\\s]+","name":"entity.name.section.toml"}]},"3":{"name":"punctuation.definition.section.begin.toml"}},"match":"^\\\\s*(\\\\[)([^]\\\\[]*)(])","name":"meta.group.toml"},{"captures":{"1":{"name":"punctuation.definition.section.begin.toml"},"2":{"patterns":[{"match":"[^.\\\\s]+","name":"entity.name.section.toml"}]},"3":{"name":"punctuation.definition.section.begin.toml"}},"match":"^\\\\s*(\\\\[\\\\[)([^]\\\\[]*)(]])","name":"meta.group.double.toml"}]},"invalid":{"match":"\\\\S+(\\\\s*(?=\\\\S))?","name":"invalid.illegal.not-allowed-here.toml"},"key_pair":{"patterns":[{"begin":"([-0-9A-Z_a-z]+)\\\\s*(=)\\\\s*","captures":{"1":{"name":"variable.other.key.toml"},"2":{"name":"punctuation.separator.key-value.toml"}},"end":"(?<=\\\\S)(?<!=)|$","patterns":[{"include":"#primatives"}]},{"begin":"((\\")(.*?)(\\"))\\\\s*(=)\\\\s*","captures":{"1":{"name":"variable.other.key.toml"},"2":{"name":"punctuation.definition.variable.begin.toml"},"3":{"patterns":[{"match":"\\\\\\\\([\\"\\\\\\\\bfnrt]|u\\\\h{4}|U\\\\h{8})","name":"constant.character.escape.toml"},{"match":"\\\\\\\\[^\\"\\\\\\\\bfnrt]","name":"invalid.illegal.escape.toml"},{"match":"\\"","name":"invalid.illegal.not-allowed-here.toml"}]},"4":{"name":"punctuation.definition.variable.end.toml"},"5":{"name":"punctuation.separator.key-value.toml"}},"end":"(?<=\\\\S)(?<!=)|$","patterns":[{"include":"#primatives"}]},{"begin":"((')([^']*)('))\\\\s*(=)\\\\s*","captures":{"1":{"name":"variable.other.key.toml"},"2":{"name":"punctuation.definition.variable.begin.toml"},"4":{"name":"punctuation.definition.variable.end.toml"},"5":{"name":"punctuation.separator.key-value.toml"}},"end":"(?<=\\\\S)(?<!=)|$","patterns":[{"include":"#primatives"}]},{"begin":"(((?:[-0-9A-Z_a-z]+|\\"(?:[^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'[^']*')(?:\\\\s*\\\\.\\\\s*|(?=\\\\s*=))){2,})\\\\s*(=)\\\\s*","captures":{"1":{"name":"variable.other.key.toml","patterns":[{"match":"\\\\.","name":"punctuation.separator.variable.toml"},{"captures":{"1":{"name":"punctuation.definition.variable.begin.toml"},"2":{"patterns":[{"match":"\\\\\\\\([\\"\\\\\\\\bfnrt]|u\\\\h{4}|U\\\\h{8})","name":"constant.character.escape.toml"},{"match":"\\\\\\\\[^\\"\\\\\\\\bfnrt]","name":"invalid.illegal.escape.toml"}]},"3":{"name":"punctuation.definition.variable.end.toml"}},"match":"(\\")((?:[^\\"\\\\\\\\]|\\\\\\\\.)*)(\\")"},{"captures":{"1":{"name":"punctuation.definition.variable.begin.toml"},"2":{"name":"punctuation.definition.variable.end.toml"}},"match":"(')[^']*(')"}]},"3":{"name":"punctuation.separator.key-value.toml"}},"end":"(?<=\\\\S)(?<!=)|$","patterns":[{"include":"#primatives"}]}]},"primatives":{"patterns":[{"begin":"\\\\G\\"\\"\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.toml"}},"end":"\\"{3,5}","endCaptures":{"0":{"name":"punctuation.definition.string.end.toml"}},"name":"string.quoted.triple.double.toml","patterns":[{"match":"\\\\\\\\([\\"\\\\\\\\bfnrt]|u\\\\h{4}|U\\\\h{8})","name":"constant.character.escape.toml"},{"match":"\\\\\\\\[^\\\\n\\"\\\\\\\\bfnrt]","name":"invalid.illegal.escape.toml"}]},{"begin":"\\\\G\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.toml"}},"end":"\\"","endCaptures":{"0":{"name":"punctuation.definition.string.end.toml"}},"name":"string.quoted.double.toml","patterns":[{"match":"\\\\\\\\([\\"\\\\\\\\bfnrt]|u\\\\h{4}|U\\\\h{8})","name":"constant.character.escape.toml"},{"match":"\\\\\\\\[^\\"\\\\\\\\bfnrt]","name":"invalid.illegal.escape.toml"}]},{"begin":"\\\\G'''","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.toml"}},"end":"'{3,5}","endCaptures":{"0":{"name":"punctuation.definition.string.end.toml"}},"name":"string.quoted.triple.single.toml"},{"begin":"\\\\G'","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.toml"}},"end":"'","endCaptures":{"0":{"name":"punctuation.definition.string.end.toml"}},"name":"string.quoted.single.toml"},{"match":"\\\\G[0-9]{4}-(0[1-9]|1[012])-(?!00|3[2-9])[0-3][0-9]([ Tt](?!2[5-9])[012][0-9]:[0-5][0-9]:(?!6[1-9])[0-6][0-9](\\\\.[0-9]+)?(Z|[-+](?!2[5-9])[012][0-9]:[0-5][0-9])?)?","name":"constant.other.date.toml"},{"match":"\\\\G(?!2[5-9])[012][0-9]:[0-5][0-9]:(?!6[1-9])[0-6][0-9](\\\\.[0-9]+)?","name":"constant.other.time.toml"},{"match":"\\\\G(true|false)","name":"constant.language.boolean.toml"},{"match":"\\\\G0x\\\\h(_??\\\\h)*","name":"constant.numeric.hex.toml"},{"match":"\\\\G0o[0-7]([0-7]|_[0-7])*","name":"constant.numeric.octal.toml"},{"match":"\\\\G0b[01]([01]|_[01])*","name":"constant.numeric.binary.toml"},{"match":"\\\\G[-+]?(inf|nan)","name":"constant.numeric.toml"},{"match":"\\\\G([-+]?(0|([1-9](([0-9]|_[0-9])+)?)))(?=[.Ee])(\\\\.([0-9](([0-9]|_[0-9])+)?))?([Ee]([-+]?[0-9](([0-9]|_[0-9])+)?))?","name":"constant.numeric.float.toml"},{"match":"\\\\G([-+]?(0|([1-9](([0-9]|_[0-9])+)?)))","name":"constant.numeric.integer.toml"},{"begin":"\\\\G\\\\[","beginCaptures":{"0":{"name":"punctuation.definition.array.begin.toml"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.array.end.toml"}},"name":"meta.array.toml","patterns":[{"begin":"(?=[\\"']|[-+]?[0-9]|[-+]?(inf|nan)|true|false|[\\\\[{])","end":",|(?=])","endCaptures":{"0":{"name":"punctuation.separator.array.toml"}},"patterns":[{"include":"#primatives"},{"include":"#comments"},{"include":"#invalid"}]},{"include":"#comments"},{"include":"#invalid"}]},{"begin":"\\\\G\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.inline-table.begin.toml"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.inline-table.end.toml"}},"name":"meta.inline-table.toml","patterns":[{"begin":"(?=\\\\S)","end":",|(?=})","endCaptures":{"0":{"name":"punctuation.separator.inline-table.toml"}},"patterns":[{"include":"#key_pair"}]},{"include":"#comments"}]}]}},"scopeName":"source.toml"}`)),$z=[E9e],DQe=Object.freeze(Object.defineProperty({__proto__:null,default:$z},Symbol.toStringTag,{value:"Module"})),N9e=Object.freeze(JSON.parse(`{"displayName":"TSX","name":"tsx","patterns":[{"include":"#directives"},{"include":"#statements"},{"include":"#shebang"}],"repository":{"access-modifier":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(abstract|declare|override|public|protected|private|readonly|static)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"storage.modifier.tsx"},"after-operator-block-as-object-literal":{"begin":"(?<!\\\\+\\\\+|--)(?<=[!(+,:=>?\\\\[]|^await|[^$._[:alnum:]]await|^return|[^$._[:alnum:]]return|^yield|[^$._[:alnum:]]yield|^throw|[^$._[:alnum:]]throw|^in|[^$._[:alnum:]]in|^of|[^$._[:alnum:]]of|^typeof|[^$._[:alnum:]]typeof|&&|\\\\|\\\\||\\\\*)\\\\s*(\\\\{)","beginCaptures":{"1":{"name":"punctuation.definition.block.tsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.tsx"}},"name":"meta.objectliteral.tsx","patterns":[{"include":"#object-member"}]},"array-binding-pattern":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\[)","beginCaptures":{"1":{"name":"keyword.operator.rest.tsx"},"2":{"name":"punctuation.definition.binding-pattern.array.tsx"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.array.tsx"}},"patterns":[{"include":"#binding-element"},{"include":"#punctuation-comma"}]},"array-binding-pattern-const":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\[)","beginCaptures":{"1":{"name":"keyword.operator.rest.tsx"},"2":{"name":"punctuation.definition.binding-pattern.array.tsx"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.array.tsx"}},"patterns":[{"include":"#binding-element-const"},{"include":"#punctuation-comma"}]},"array-literal":{"begin":"\\\\s*(\\\\[)","beginCaptures":{"1":{"name":"meta.brace.square.tsx"}},"end":"]","endCaptures":{"0":{"name":"meta.brace.square.tsx"}},"name":"meta.array.literal.tsx","patterns":[{"include":"#expression"},{"include":"#punctuation-comma"}]},"arrow-function":{"patterns":[{"captures":{"1":{"name":"storage.modifier.async.tsx"},"2":{"name":"variable.parameter.tsx"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))\\\\b(async)\\\\s+)?([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?==>)","name":"meta.arrow.tsx"},{"begin":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))\\\\b(async))?((?<![]!)}])\\\\s*(?=((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))","beginCaptures":{"1":{"name":"storage.modifier.async.tsx"}},"end":"(?==>|\\\\{|^(\\\\s*(export|function|class|interface|let|var|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|const|import|enum|namespace|module|type|abstract|declare)\\\\s+))","name":"meta.arrow.tsx","patterns":[{"include":"#comment"},{"include":"#type-parameters"},{"include":"#function-parameters"},{"include":"#arrow-return-type"},{"include":"#possibly-arrow-return-type"}]},{"begin":"=>","beginCaptures":{"0":{"name":"storage.type.function.arrow.tsx"}},"end":"((?<=[}\\\\S])(?<!=>)|((?!\\\\{)(?=\\\\S)))(?!/[*/])","name":"meta.arrow.tsx","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#decl-block"},{"include":"#expression"}]}]},"arrow-return-type":{"begin":"(?<=\\\\))\\\\s*(:)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.tsx"}},"end":"(?==>|\\\\{|^(\\\\s*(export|function|class|interface|let|var|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|const|import|enum|namespace|module|type|abstract|declare)\\\\s+))","name":"meta.return.type.arrow.tsx","patterns":[{"include":"#arrow-return-type-body"}]},"arrow-return-type-body":{"patterns":[{"begin":"(?<=:)(?=\\\\s*\\\\{)","end":"(?<=})","patterns":[{"include":"#type-object"}]},{"include":"#type-predicate-operator"},{"include":"#type"}]},"async-modifier":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(async)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"storage.modifier.async.tsx"},"binding-element":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#numeric-literal"},{"include":"#regex"},{"include":"#object-binding-pattern"},{"include":"#array-binding-pattern"},{"include":"#destructuring-variable-rest"},{"include":"#variable-initializer"}]},"binding-element-const":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#numeric-literal"},{"include":"#regex"},{"include":"#object-binding-pattern-const"},{"include":"#array-binding-pattern-const"},{"include":"#destructuring-variable-rest-const"},{"include":"#variable-initializer"}]},"boolean-literal":{"patterns":[{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))true(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.boolean.true.tsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))false(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.boolean.false.tsx"}]},"brackets":{"patterns":[{"begin":"\\\\{","end":"}|(?=\\\\*/)","patterns":[{"include":"#brackets"}]},{"begin":"\\\\[","end":"]|(?=\\\\*/)","patterns":[{"include":"#brackets"}]}]},"cast":{"patterns":[{"include":"#jsx"}]},"class-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(?:(abstract)\\\\s+)?\\\\b(class)\\\\b(?=\\\\s+|/[*/])","beginCaptures":{"1":{"name":"keyword.control.export.tsx"},"2":{"name":"storage.modifier.tsx"},"3":{"name":"storage.modifier.tsx"},"4":{"name":"storage.type.class.tsx"}},"end":"(?<=})","name":"meta.class.tsx","patterns":[{"include":"#class-declaration-or-expression-patterns"}]},"class-declaration-or-expression-patterns":{"patterns":[{"include":"#comment"},{"include":"#class-or-interface-heritage"},{"captures":{"0":{"name":"entity.name.type.class.tsx"}},"match":"[$_[:alpha:]][$_[:alnum:]]*"},{"include":"#type-parameters"},{"include":"#class-or-interface-body"}]},"class-expression":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(abstract)\\\\s+)?(class)\\\\b(?=\\\\s+|[<{]|/[*/])","beginCaptures":{"1":{"name":"storage.modifier.tsx"},"2":{"name":"storage.type.class.tsx"}},"end":"(?<=})","name":"meta.class.tsx","patterns":[{"include":"#class-declaration-or-expression-patterns"}]},"class-or-interface-body":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.tsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.tsx"}},"patterns":[{"include":"#comment"},{"include":"#decorator"},{"begin":"(?<=:)\\\\s*","end":"(?=[-\\\\])+,:;}\\\\s]|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","patterns":[{"include":"#expression"}]},{"include":"#method-declaration"},{"include":"#indexer-declaration"},{"include":"#field-declaration"},{"include":"#string"},{"include":"#type-annotation"},{"include":"#variable-initializer"},{"include":"#access-modifier"},{"include":"#property-accessor"},{"include":"#async-modifier"},{"include":"#after-operator-block-as-object-literal"},{"include":"#decl-block"},{"include":"#expression"},{"include":"#punctuation-comma"},{"include":"#punctuation-semicolon"}]},"class-or-interface-heritage":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))\\\\b(extends|implements)\\\\b(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"storage.modifier.tsx"}},"end":"(?=\\\\{)","patterns":[{"include":"#comment"},{"include":"#class-or-interface-heritage"},{"include":"#type-parameters"},{"include":"#expressionWithoutIdentifiers"},{"captures":{"1":{"name":"entity.name.type.module.tsx"},"2":{"name":"punctuation.accessor.tsx"},"3":{"name":"punctuation.accessor.optional.tsx"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))(?=\\\\s*[$_[:alpha:]][$_[:alnum:]]*(\\\\s*\\\\??\\\\.\\\\s*[$_[:alpha:]][$_[:alnum:]]*)*\\\\s*)"},{"captures":{"1":{"name":"entity.other.inherited-class.tsx"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)"},{"include":"#expressionPunctuations"}]},"comment":{"patterns":[{"begin":"/\\\\*\\\\*(?!/)","beginCaptures":{"0":{"name":"punctuation.definition.comment.tsx"}},"end":"\\\\*/","endCaptures":{"0":{"name":"punctuation.definition.comment.tsx"}},"name":"comment.block.documentation.tsx","patterns":[{"include":"#docblock"}]},{"begin":"(/\\\\*)(?:\\\\s*((@)internal)(?=\\\\s|(\\\\*/)))?","beginCaptures":{"1":{"name":"punctuation.definition.comment.tsx"},"2":{"name":"storage.type.internaldeclaration.tsx"},"3":{"name":"punctuation.decorator.internaldeclaration.tsx"}},"end":"\\\\*/","endCaptures":{"0":{"name":"punctuation.definition.comment.tsx"}},"name":"comment.block.tsx"},{"begin":"(^[\\\\t ]+)?((//)(?:\\\\s*((@)internal)(?=\\\\s|$))?)","beginCaptures":{"1":{"name":"punctuation.whitespace.comment.leading.tsx"},"2":{"name":"comment.line.double-slash.tsx"},"3":{"name":"punctuation.definition.comment.tsx"},"4":{"name":"storage.type.internaldeclaration.tsx"},"5":{"name":"punctuation.decorator.internaldeclaration.tsx"}},"contentName":"comment.line.double-slash.tsx","end":"(?=$)"}]},"control-statement":{"patterns":[{"include":"#switch-statement"},{"include":"#for-loop"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(catch|finally|throw|try)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.trycatch.tsx"},{"captures":{"1":{"name":"keyword.control.loop.tsx"},"2":{"name":"entity.name.label.tsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(break|continue|goto)\\\\s+([$_[:alpha:]][$_[:alnum:]]*)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(break|continue|do|goto|while)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.loop.tsx"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(return)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"0":{"name":"keyword.control.flow.tsx"}},"end":"(?=[;}]|$|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","patterns":[{"include":"#expression"}]},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(case|default|switch)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.switch.tsx"},{"include":"#if-statement"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(else|if)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.conditional.tsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(with)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.with.tsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(package)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.tsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(debugger)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.other.debugger.tsx"}]},"decl-block":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.tsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.tsx"}},"name":"meta.block.tsx","patterns":[{"include":"#statements"}]},"declaration":{"patterns":[{"include":"#decorator"},{"include":"#var-expr"},{"include":"#function-declaration"},{"include":"#class-declaration"},{"include":"#interface-declaration"},{"include":"#enum-declaration"},{"include":"#namespace-declaration"},{"include":"#type-alias-declaration"},{"include":"#import-equals-declaration"},{"include":"#import-declaration"},{"include":"#export-declaration"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(declare|export)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"storage.modifier.tsx"}]},"decorator":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))@","beginCaptures":{"0":{"name":"punctuation.decorator.tsx"}},"end":"(?=\\\\s)","name":"meta.decorator.tsx","patterns":[{"include":"#expression"}]},"destructuring-const":{"patterns":[{"begin":"(?<![:=]|^of|[^$._[:alnum:]]of|^in|[^$._[:alnum:]]in)\\\\s*(?=\\\\{)","end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))","name":"meta.object-binding-pattern-variable.tsx","patterns":[{"include":"#object-binding-pattern-const"},{"include":"#type-annotation"},{"include":"#comment"}]},{"begin":"(?<![:=]|^of|[^$._[:alnum:]]of|^in|[^$._[:alnum:]]in)\\\\s*(?=\\\\[)","end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))","name":"meta.array-binding-pattern-variable.tsx","patterns":[{"include":"#array-binding-pattern-const"},{"include":"#type-annotation"},{"include":"#comment"}]}]},"destructuring-parameter":{"patterns":[{"begin":"(?<![:=])\\\\s*(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\{)","beginCaptures":{"1":{"name":"keyword.operator.rest.tsx"},"2":{"name":"punctuation.definition.binding-pattern.object.tsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.object.tsx"}},"name":"meta.parameter.object-binding-pattern.tsx","patterns":[{"include":"#parameter-object-binding-element"}]},{"begin":"(?<![:=])\\\\s*(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\[)","beginCaptures":{"1":{"name":"keyword.operator.rest.tsx"},"2":{"name":"punctuation.definition.binding-pattern.array.tsx"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.array.tsx"}},"name":"meta.paramter.array-binding-pattern.tsx","patterns":[{"include":"#parameter-binding-element"},{"include":"#punctuation-comma"}]}]},"destructuring-parameter-rest":{"captures":{"1":{"name":"keyword.operator.rest.tsx"},"2":{"name":"variable.parameter.tsx"}},"match":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?([$_[:alpha:]][$_[:alnum:]]*)"},"destructuring-variable":{"patterns":[{"begin":"(?<![:=]|^of|[^$._[:alnum:]]of|^in|[^$._[:alnum:]]in)\\\\s*(?=\\\\{)","end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))","name":"meta.object-binding-pattern-variable.tsx","patterns":[{"include":"#object-binding-pattern"},{"include":"#type-annotation"},{"include":"#comment"}]},{"begin":"(?<![:=]|^of|[^$._[:alnum:]]of|^in|[^$._[:alnum:]]in)\\\\s*(?=\\\\[)","end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))","name":"meta.array-binding-pattern-variable.tsx","patterns":[{"include":"#array-binding-pattern"},{"include":"#type-annotation"},{"include":"#comment"}]}]},"destructuring-variable-rest":{"captures":{"1":{"name":"keyword.operator.rest.tsx"},"2":{"name":"meta.definition.variable.tsx variable.other.readwrite.tsx"}},"match":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?([$_[:alpha:]][$_[:alnum:]]*)"},"destructuring-variable-rest-const":{"captures":{"1":{"name":"keyword.operator.rest.tsx"},"2":{"name":"meta.definition.variable.tsx variable.other.constant.tsx"}},"match":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?([$_[:alpha:]][$_[:alnum:]]*)"},"directives":{"begin":"^(///)\\\\s*(?=<(reference|amd-dependency|amd-module)(\\\\s+(path|types|no-default-lib|lib|name|resolution-mode)\\\\s*=\\\\s*(('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)))+\\\\s*/>\\\\s*$)","beginCaptures":{"1":{"name":"punctuation.definition.comment.tsx"}},"end":"(?=$)","name":"comment.line.triple-slash.directive.tsx","patterns":[{"begin":"(<)(reference|amd-dependency|amd-module)","beginCaptures":{"1":{"name":"punctuation.definition.tag.directive.tsx"},"2":{"name":"entity.name.tag.directive.tsx"}},"end":"/>","endCaptures":{"0":{"name":"punctuation.definition.tag.directive.tsx"}},"name":"meta.tag.tsx","patterns":[{"match":"path|types|no-default-lib|lib|name|resolution-mode","name":"entity.other.attribute-name.directive.tsx"},{"match":"=","name":"keyword.operator.assignment.tsx"},{"include":"#string"}]}]},"docblock":{"patterns":[{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"constant.language.access-type.jsdoc"}},"match":"((@)a(?:ccess|pi))\\\\s+(p(?:rivate|rotected|ublic))\\\\b"},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"entity.name.type.instance.jsdoc"},"4":{"name":"punctuation.definition.bracket.angle.begin.jsdoc"},"5":{"name":"constant.other.email.link.underline.jsdoc"},"6":{"name":"punctuation.definition.bracket.angle.end.jsdoc"}},"match":"((@)author)\\\\s+([^*/<>@\\\\s](?:[^*/<>@]|\\\\*[^/])*)(?:\\\\s*(<)([^>\\\\s]+)(>))?"},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"entity.name.type.instance.jsdoc"},"4":{"name":"keyword.operator.control.jsdoc"},"5":{"name":"entity.name.type.instance.jsdoc"}},"match":"((@)borrows)\\\\s+((?:[^*/@\\\\s]|\\\\*[^/])+)\\\\s+(as)\\\\s+((?:[^*/@\\\\s]|\\\\*[^/])+)"},{"begin":"((@)example)\\\\s+","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=@|\\\\*/)","name":"meta.example.jsdoc","patterns":[{"match":"^\\\\s\\\\*\\\\s+"},{"begin":"\\\\G(<)caption(>)","beginCaptures":{"0":{"name":"entity.name.tag.inline.jsdoc"},"1":{"name":"punctuation.definition.bracket.angle.begin.jsdoc"},"2":{"name":"punctuation.definition.bracket.angle.end.jsdoc"}},"contentName":"constant.other.description.jsdoc","end":"(</)caption(>)|(?=\\\\*/)","endCaptures":{"0":{"name":"entity.name.tag.inline.jsdoc"},"1":{"name":"punctuation.definition.bracket.angle.begin.jsdoc"},"2":{"name":"punctuation.definition.bracket.angle.end.jsdoc"}}},{"captures":{"0":{"name":"source.embedded.tsx"}},"match":"[^*@\\\\s](?:[^*]|\\\\*[^/])*"}]},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"constant.language.symbol-type.jsdoc"}},"match":"((@)kind)\\\\s+(class|constant|event|external|file|function|member|mixin|module|namespace|typedef)\\\\b"},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.link.underline.jsdoc"},"4":{"name":"entity.name.type.instance.jsdoc"}},"match":"((@)see)\\\\s+(?:((?=https?://)(?:[^*\\\\s]|\\\\*[^/])+)|((?!https?://|(?:\\\\[[^]\\\\[]*])?\\\\{@(?:link|linkcode|linkplain|tutorial)\\\\b)(?:[^*/@\\\\s]|\\\\*[^/])+))"},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.jsdoc"}},"match":"((@)template)\\\\s+([$A-Z_a-z][]$.\\\\[\\\\w]*(?:\\\\s*,\\\\s*[$A-Z_a-z][]$.\\\\[\\\\w]*)*)"},{"begin":"((@)template)\\\\s+(?=\\\\{)","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=\\\\s|\\\\*/|[^]$A-\\\\[_a-{}])","patterns":[{"include":"#jsdoctype"},{"match":"([$A-Z_a-z][]$.\\\\[\\\\w]*)","name":"variable.other.jsdoc"}]},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.jsdoc"}},"match":"((@)(?:arg|argument|const|constant|member|namespace|param|var))\\\\s+([$A-Z_a-z][]$.\\\\[\\\\w]*)"},{"begin":"((@)typedef)\\\\s+(?=\\\\{)","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=\\\\s|\\\\*/|[^]$A-\\\\[_a-{}])","patterns":[{"include":"#jsdoctype"},{"match":"(?:[^*/@\\\\s]|\\\\*[^/])+","name":"entity.name.type.instance.jsdoc"}]},{"begin":"((@)(?:arg|argument|const|constant|member|namespace|param|prop|property|var))\\\\s+(?=\\\\{)","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=\\\\s|\\\\*/|[^]$A-\\\\[_a-{}])","patterns":[{"include":"#jsdoctype"},{"match":"([$A-Z_a-z][]$.\\\\[\\\\w]*)","name":"variable.other.jsdoc"},{"captures":{"1":{"name":"punctuation.definition.optional-value.begin.bracket.square.jsdoc"},"2":{"name":"keyword.operator.assignment.jsdoc"},"3":{"name":"source.embedded.tsx"},"4":{"name":"punctuation.definition.optional-value.end.bracket.square.jsdoc"},"5":{"name":"invalid.illegal.syntax.jsdoc"}},"match":"(\\\\[)\\\\s*[$\\\\w]+(?:(?:\\\\[])?\\\\.[$\\\\w]+)*(?:\\\\s*(=)\\\\s*((?>\\"(?:\\\\*(?!/)|\\\\\\\\(?!\\")|[^*\\\\\\\\])*?\\"|'(?:\\\\*(?!/)|\\\\\\\\(?!')|[^*\\\\\\\\])*?'|\\\\[(?:\\\\*(?!/)|[^*])*?]|(?:\\\\*(?!/)|\\\\s(?!\\\\s*])|\\\\[.*?(?:]|(?=\\\\*/))|[^]*\\\\[\\\\s])*)*))?\\\\s*(?:(])((?:[^*\\\\s]|\\\\*[^/\\\\s])+)?|(?=\\\\*/))","name":"variable.other.jsdoc"}]},{"begin":"((@)(?:define|enum|exception|export|extends|lends|implements|modifies|namespace|private|protected|returns?|satisfies|suppress|this|throws|type|yields?))\\\\s+(?=\\\\{)","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=\\\\s|\\\\*/|[^]$A-\\\\[_a-{}])","patterns":[{"include":"#jsdoctype"}]},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"entity.name.type.instance.jsdoc"}},"match":"((@)(?:alias|augments|callback|constructs|emits|event|fires|exports?|extends|external|function|func|host|lends|listens|interface|memberof!?|method|module|mixes|mixin|name|requires|see|this|typedef|uses))\\\\s+((?:[^*@{}\\\\s]|\\\\*[^/])+)"},{"begin":"((@)(?:default(?:value)?|license|version))\\\\s+(([\\"']))","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.jsdoc"},"4":{"name":"punctuation.definition.string.begin.jsdoc"}},"contentName":"variable.other.jsdoc","end":"(\\\\3)|(?=$|\\\\*/)","endCaptures":{"0":{"name":"variable.other.jsdoc"},"1":{"name":"punctuation.definition.string.end.jsdoc"}}},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.jsdoc"}},"match":"((@)(?:default(?:value)?|license|tutorial|variation|version))\\\\s+([^*\\\\s]+)"},{"captures":{"1":{"name":"punctuation.definition.block.tag.jsdoc"}},"match":"(@)(?:abstract|access|alias|api|arg|argument|async|attribute|augments|author|beta|borrows|bubbles|callback|chainable|class|classdesc|code|config|const|constant|constructor|constructs|copyright|default|defaultvalue|define|deprecated|desc|description|dict|emits|enum|event|example|exception|exports?|extends|extension(?:_?for)?|external|externs|file|fileoverview|final|fires|for|func|function|generator|global|hideconstructor|host|ignore|implements|implicitCast|inherit[Dd]oc|inner|instance|interface|internal|kind|lends|license|listens|main|member|memberof!?|method|mixes|mixins?|modifies|module|name|namespace|noalias|nocollapse|nocompile|nosideeffects|override|overview|package|param|polymer(?:Behavior)?|preserve|private|prop|property|protected|public|read[Oo]nly|record|require[ds]|returns?|see|since|static|struct|submodule|summary|suppress|template|this|throws|todo|tutorial|type|typedef|unrestricted|uses|var|variation|version|virtual|writeOnce|yields?)\\\\b","name":"storage.type.class.jsdoc"},{"include":"#inline-tags"},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"match":"((@)[$_[:alpha:]][$_[:alnum:]]*)(?=\\\\s+)"}]},"enum-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?(?:\\\\b(const)\\\\s+)?\\\\b(enum)\\\\s+([$_[:alpha:]][$_[:alnum:]]*)","beginCaptures":{"1":{"name":"keyword.control.export.tsx"},"2":{"name":"storage.modifier.tsx"},"3":{"name":"storage.modifier.tsx"},"4":{"name":"storage.type.enum.tsx"},"5":{"name":"entity.name.type.enum.tsx"}},"end":"(?<=})","name":"meta.enum.declaration.tsx","patterns":[{"include":"#comment"},{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.tsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.tsx"}},"patterns":[{"include":"#comment"},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)","beginCaptures":{"0":{"name":"variable.other.enummember.tsx"}},"end":"(?=[,}]|$)","patterns":[{"include":"#comment"},{"include":"#variable-initializer"}]},{"begin":"(?=(('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+])))","end":"(?=[,}]|$)","patterns":[{"include":"#string"},{"include":"#array-literal"},{"include":"#comment"},{"include":"#variable-initializer"}]},{"include":"#punctuation-comma"}]}]},"export-declaration":{"patterns":[{"captures":{"1":{"name":"keyword.control.export.tsx"},"2":{"name":"keyword.control.as.tsx"},"3":{"name":"storage.type.namespace.tsx"},"4":{"name":"entity.name.type.module.tsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(export)\\\\s+(as)\\\\s+(namespace)\\\\s+([$_[:alpha:]][$_[:alnum:]]*)"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(export)(?:\\\\s+(type))?(?:\\\\s*(=)|\\\\s+(default)(?=\\\\s+))","beginCaptures":{"1":{"name":"keyword.control.export.tsx"},"2":{"name":"keyword.control.type.tsx"},"3":{"name":"keyword.operator.assignment.tsx"},"4":{"name":"keyword.control.default.tsx"}},"end":"(?=$|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","name":"meta.export.default.tsx","patterns":[{"include":"#interface-declaration"},{"include":"#expression"}]},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(export)(?:\\\\s+(type))?\\\\b(?!(\\\\$)|(\\\\s*:))((?=\\\\s*[*{])|((?=\\\\s*[$_[:alpha:]][$_[:alnum:]]*([,\\\\s]))(?!\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)))","beginCaptures":{"1":{"name":"keyword.control.export.tsx"},"2":{"name":"keyword.control.type.tsx"}},"end":"(?=$|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","name":"meta.export.tsx","patterns":[{"include":"#import-export-declaration"}]}]},"expression":{"patterns":[{"include":"#expressionWithoutIdentifiers"},{"include":"#identifiers"},{"include":"#expressionPunctuations"}]},"expression-inside-possibly-arrow-parens":{"patterns":[{"include":"#expressionWithoutIdentifiers"},{"include":"#comment"},{"include":"#string"},{"include":"#decorator"},{"include":"#destructuring-parameter"},{"captures":{"1":{"name":"storage.modifier.tsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|protected|private|readonly)\\\\s+(?=(override|public|protected|private|readonly)\\\\s+)"},{"captures":{"1":{"name":"storage.modifier.tsx"},"2":{"name":"keyword.operator.rest.tsx"},"3":{"name":"entity.name.function.tsx variable.language.this.tsx"},"4":{"name":"entity.name.function.tsx"},"5":{"name":"keyword.operator.optional.tsx"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*(\\\\??)(?=\\\\s*(=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))|(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))))|(:\\\\s*(=>|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(<[^<>]*>)|[^(),<=>])+=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>))))))"},{"captures":{"1":{"name":"storage.modifier.tsx"},"2":{"name":"keyword.operator.rest.tsx"},"3":{"name":"variable.parameter.tsx variable.language.this.tsx"},"4":{"name":"variable.parameter.tsx"},"5":{"name":"keyword.operator.optional.tsx"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*(\\\\??)(?=\\\\s*[,:]|$)"},{"include":"#type-annotation"},{"include":"#variable-initializer"},{"match":",","name":"punctuation.separator.parameter.tsx"},{"include":"#identifiers"},{"include":"#expressionPunctuations"}]},"expression-operators":{"patterns":[{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(await)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.flow.tsx"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(yield)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?=\\\\s*/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*\\\\*)","beginCaptures":{"1":{"name":"keyword.control.flow.tsx"}},"end":"\\\\*","endCaptures":{"0":{"name":"keyword.generator.asterisk.tsx"}},"patterns":[{"include":"#comment"}]},{"captures":{"1":{"name":"keyword.control.flow.tsx"},"2":{"name":"keyword.generator.asterisk.tsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(yield)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?:\\\\s*(\\\\*))?"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))delete(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.expression.delete.tsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))in(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?!\\\\()","name":"keyword.operator.expression.in.tsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))of(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?!\\\\()","name":"keyword.operator.expression.of.tsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))instanceof(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.expression.instanceof.tsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))new(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.new.tsx"},{"include":"#typeof-operator"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))void(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.expression.void.tsx"},{"captures":{"1":{"name":"keyword.control.as.tsx"},"2":{"name":"storage.modifier.tsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as)\\\\s+(const)(?=\\\\s*($|[]),:;}]))"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(as)|(satisfies))\\\\s+","beginCaptures":{"1":{"name":"keyword.control.as.tsx"},"2":{"name":"keyword.control.satisfies.tsx"}},"end":"(?=^|[-\\\\])+,:;>?}]|\\\\|\\\\||&&|!==|$|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as|satisfies)\\\\s+)|(\\\\s+<))","patterns":[{"include":"#type"}]},{"match":"\\\\.\\\\.\\\\.","name":"keyword.operator.spread.tsx"},{"match":"(?:\\\\*|(?<!\\\\()/|[-%+])=","name":"keyword.operator.assignment.compound.tsx"},{"match":"(?:[\\\\&^]|<<|>>>??|\\\\|)=","name":"keyword.operator.assignment.compound.bitwise.tsx"},{"match":"<<|>>>?","name":"keyword.operator.bitwise.shift.tsx"},{"match":"[!=]==?","name":"keyword.operator.comparison.tsx"},{"match":"<=|>=|<>|[<>]","name":"keyword.operator.relational.tsx"},{"captures":{"1":{"name":"keyword.operator.logical.tsx"},"2":{"name":"keyword.operator.assignment.compound.tsx"},"3":{"name":"keyword.operator.arithmetic.tsx"}},"match":"(?<=[$_[:alnum:]])(!)\\\\s*(?:(/=)|(/)(?![*/]))"},{"match":"!|&&|\\\\|\\\\||\\\\?\\\\?","name":"keyword.operator.logical.tsx"},{"match":"[\\\\&^|~]","name":"keyword.operator.bitwise.tsx"},{"match":"=","name":"keyword.operator.assignment.tsx"},{"match":"--","name":"keyword.operator.decrement.tsx"},{"match":"\\\\+\\\\+","name":"keyword.operator.increment.tsx"},{"match":"[-%*+/]","name":"keyword.operator.arithmetic.tsx"},{"begin":"(?<=[]$)_[:alnum:]])\\\\s*(?=(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)+(?:(/=)|(/)(?![*/])))","end":"(/=)|(/)(?!\\\\*([^*]|(\\\\*[^/]))*\\\\*/)","endCaptures":{"1":{"name":"keyword.operator.assignment.compound.tsx"},"2":{"name":"keyword.operator.arithmetic.tsx"}},"patterns":[{"include":"#comment"}]},{"captures":{"1":{"name":"keyword.operator.assignment.compound.tsx"},"2":{"name":"keyword.operator.arithmetic.tsx"}},"match":"(?<=[]$)_[:alnum:]])\\\\s*(?:(/=)|(/)(?![*/]))"}]},"expressionPunctuations":{"patterns":[{"include":"#punctuation-comma"},{"include":"#punctuation-accessor"}]},"expressionWithoutIdentifiers":{"patterns":[{"include":"#jsx"},{"include":"#string"},{"include":"#regex"},{"include":"#comment"},{"include":"#function-expression"},{"include":"#class-expression"},{"include":"#arrow-function"},{"include":"#paren-expression-possibly-arrow"},{"include":"#cast"},{"include":"#ternary-expression"},{"include":"#new-expr"},{"include":"#instanceof-expr"},{"include":"#object-literal"},{"include":"#expression-operators"},{"include":"#function-call"},{"include":"#literal"},{"include":"#support-objects"},{"include":"#paren-expression"}]},"field-declaration":{"begin":"(?<!\\\\()(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(readonly)\\\\s+)?(?=\\\\s*(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|(#?[$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(?:(?:(\\\\?)|(!))\\\\s*)?([,:;=}]|$))","beginCaptures":{"1":{"name":"storage.modifier.tsx"}},"end":"(?=[,;}]|$|^((?!\\\\s*(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|(#?[$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(?:(?:(\\\\?)|(!))\\\\s*)?([,:;=]|$))))|(?<=})","name":"meta.field.declaration.tsx","patterns":[{"include":"#variable-initializer"},{"include":"#type-annotation"},{"include":"#string"},{"include":"#array-literal"},{"include":"#numeric-literal"},{"include":"#comment"},{"captures":{"1":{"name":"meta.definition.property.tsx entity.name.function.tsx"},"2":{"name":"keyword.operator.optional.tsx"},"3":{"name":"keyword.operator.definiteassignment.tsx"}},"match":"(#?[$_[:alpha:]][$_[:alnum:]]*)(?:(\\\\?)|(!))?(?=\\\\s*\\\\s*(=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))|(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))))|(:\\\\s*(=>|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(<[^<>]*>)|[^(),<=>])+=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>))))))"},{"match":"#?[$_[:alpha:]][$_[:alnum:]]*","name":"meta.definition.property.tsx variable.object.property.tsx"},{"match":"\\\\?","name":"keyword.operator.optional.tsx"},{"match":"!","name":"keyword.operator.definiteassignment.tsx"}]},"for-loop":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))for(?=((\\\\s+|(\\\\s*/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*))await)?\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)?(\\\\())","beginCaptures":{"0":{"name":"keyword.control.loop.tsx"}},"end":"(?<=\\\\))","patterns":[{"include":"#comment"},{"match":"await","name":"keyword.control.loop.tsx"},{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.tsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.tsx"}},"patterns":[{"include":"#var-expr"},{"include":"#expression"},{"include":"#punctuation-semicolon"}]}]},"function-body":{"patterns":[{"include":"#comment"},{"include":"#type-parameters"},{"include":"#function-parameters"},{"include":"#return-type"},{"include":"#type-function-return-type"},{"include":"#decl-block"},{"match":"\\\\*","name":"keyword.generator.asterisk.tsx"}]},"function-call":{"patterns":[{"begin":"(?=(((([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))|(?<=\\\\)))\\\\s*(?:(\\\\?\\\\.\\\\s*)|(!))?((<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)?\\\\())","end":"(?<=\\\\))(?!(((([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))|(?<=\\\\)))\\\\s*(?:(\\\\?\\\\.\\\\s*)|(!))?((<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)?\\\\())","patterns":[{"begin":"(?=(([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))","end":"(?=\\\\s*(?:(\\\\?\\\\.\\\\s*)|(!))?((<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)?\\\\())","name":"meta.function-call.tsx","patterns":[{"include":"#function-call-target"}]},{"include":"#comment"},{"include":"#function-call-optionals"},{"include":"#type-arguments"},{"include":"#paren-expression"}]},{"begin":"(?=(((([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))|(?<=\\\\)))(<\\\\s*[(\\\\[{]\\\\s*)$)","end":"(?<=>)(?!(((([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))|(?<=\\\\)))(<\\\\s*[(\\\\[{]\\\\s*)$)","patterns":[{"begin":"(?=(([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))","end":"(?=(<\\\\s*[(\\\\[{]\\\\s*)$)","name":"meta.function-call.tsx","patterns":[{"include":"#function-call-target"}]},{"include":"#comment"},{"include":"#function-call-optionals"},{"include":"#type-arguments"}]}]},"function-call-optionals":{"patterns":[{"match":"\\\\?\\\\.","name":"meta.function-call.tsx punctuation.accessor.optional.tsx"},{"match":"!","name":"meta.function-call.tsx keyword.operator.definiteassignment.tsx"}]},"function-call-target":{"patterns":[{"include":"#support-function-call-identifiers"},{"match":"(#?[$_[:alpha:]][$_[:alnum:]]*)","name":"entity.name.function.tsx"}]},"function-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?(?:(async)\\\\s+)?(function)\\\\b(?:\\\\s*(\\\\*))?(?:(?:\\\\s+|(?<=\\\\*))([$_[:alpha:]][$_[:alnum:]]*))?\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.tsx"},"2":{"name":"storage.modifier.tsx"},"3":{"name":"storage.modifier.async.tsx"},"4":{"name":"storage.type.function.tsx"},"5":{"name":"keyword.generator.asterisk.tsx"},"6":{"name":"meta.definition.function.tsx entity.name.function.tsx"}},"end":"(?=;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)|(?<=})","name":"meta.function.tsx","patterns":[{"include":"#function-name"},{"include":"#function-body"}]},"function-expression":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(async)\\\\s+)?(function)\\\\b(?:\\\\s*(\\\\*))?(?:(?:\\\\s+|(?<=\\\\*))([$_[:alpha:]][$_[:alnum:]]*))?\\\\s*","beginCaptures":{"1":{"name":"storage.modifier.async.tsx"},"2":{"name":"storage.type.function.tsx"},"3":{"name":"keyword.generator.asterisk.tsx"},"4":{"name":"meta.definition.function.tsx entity.name.function.tsx"}},"end":"(?=;)|(?<=})","name":"meta.function.expression.tsx","patterns":[{"include":"#function-name"},{"include":"#single-line-comment-consuming-line-ending"},{"include":"#function-body"}]},"function-name":{"match":"[$_[:alpha:]][$_[:alnum:]]*","name":"meta.definition.function.tsx entity.name.function.tsx"},"function-parameters":{"begin":"\\\\(","beginCaptures":{"0":{"name":"punctuation.definition.parameters.begin.tsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.parameters.end.tsx"}},"name":"meta.parameters.tsx","patterns":[{"include":"#function-parameters-body"}]},"function-parameters-body":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#decorator"},{"include":"#destructuring-parameter"},{"include":"#parameter-name"},{"include":"#parameter-type-annotation"},{"include":"#variable-initializer"},{"match":",","name":"punctuation.separator.parameter.tsx"}]},"identifiers":{"patterns":[{"include":"#object-identifiers"},{"captures":{"1":{"name":"punctuation.accessor.tsx"},"2":{"name":"punctuation.accessor.optional.tsx"},"3":{"name":"entity.name.function.tsx"}},"match":"(?:(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*)?([$_[:alpha:]][$_[:alnum:]]*)(?=\\\\s*=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))"},{"captures":{"1":{"name":"punctuation.accessor.tsx"},"2":{"name":"punctuation.accessor.optional.tsx"},"3":{"name":"variable.other.constant.property.tsx"}},"match":"(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(#?\\\\p{upper}[$_\\\\d[:upper:]]*)(?![$_[:alnum:]])"},{"captures":{"1":{"name":"punctuation.accessor.tsx"},"2":{"name":"punctuation.accessor.optional.tsx"},"3":{"name":"variable.other.property.tsx"}},"match":"(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*)"},{"match":"(\\\\p{upper}[$_\\\\d[:upper:]]*)(?![$_[:alnum:]])","name":"variable.other.constant.tsx"},{"match":"[$_[:alpha:]][$_[:alnum:]]*","name":"variable.other.readwrite.tsx"}]},"if-statement":{"patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?=\\\\bif\\\\s*(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))\\\\s*(?!\\\\{))","end":"(?=;|$|})","patterns":[{"include":"#comment"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(if)\\\\s*(\\\\()","beginCaptures":{"1":{"name":"keyword.control.conditional.tsx"},"2":{"name":"meta.brace.round.tsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.tsx"}},"patterns":[{"include":"#expression"}]},{"begin":"(?<=\\\\))\\\\s*/(?![*/])(?=(?:[^/\\\\[\\\\\\\\]|\\\\\\\\.|\\\\[([^]\\\\\\\\]|\\\\\\\\.)*])+/([dgimsuvy]+|(?![*/])|(?=/\\\\*))(?!\\\\s*[$0-9A-Z_a-z]))","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.tsx"}},"end":"(/)([dgimsuvy]*)","endCaptures":{"1":{"name":"punctuation.definition.string.end.tsx"},"2":{"name":"keyword.other.tsx"}},"name":"string.regexp.tsx","patterns":[{"include":"#regexp"}]},{"include":"#statements"}]}]},"import-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(import)(?:\\\\s+(type)(?!\\\\s+from))?(?!\\\\s*[(:])(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.control.export.tsx"},"2":{"name":"storage.modifier.tsx"},"3":{"name":"keyword.control.import.tsx"},"4":{"name":"keyword.control.type.tsx"}},"end":"(?<!(?:^|[^$._[:alnum:]])import)(?=;|$|^)","name":"meta.import.tsx","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#comment"},{"include":"#string"},{"begin":"(?<=(?:^|[^$._[:alnum:]])import)(?!\\\\s*[\\"'])","end":"\\\\bfrom\\\\b","endCaptures":{"0":{"name":"keyword.control.from.tsx"}},"patterns":[{"include":"#import-export-declaration"}]},{"include":"#import-export-declaration"}]},"import-equals-declaration":{"patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(import)(?:\\\\s+(type))?\\\\s+([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(=)\\\\s*(require)\\\\s*(\\\\()","beginCaptures":{"1":{"name":"keyword.control.export.tsx"},"2":{"name":"storage.modifier.tsx"},"3":{"name":"keyword.control.import.tsx"},"4":{"name":"keyword.control.type.tsx"},"5":{"name":"variable.other.readwrite.alias.tsx"},"6":{"name":"keyword.operator.assignment.tsx"},"7":{"name":"keyword.control.require.tsx"},"8":{"name":"meta.brace.round.tsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.tsx"}},"name":"meta.import-equals.external.tsx","patterns":[{"include":"#comment"},{"include":"#string"}]},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(import)(?:\\\\s+(type))?\\\\s+([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(=)\\\\s*(?!require\\\\b)","beginCaptures":{"1":{"name":"keyword.control.export.tsx"},"2":{"name":"storage.modifier.tsx"},"3":{"name":"keyword.control.import.tsx"},"4":{"name":"keyword.control.type.tsx"},"5":{"name":"variable.other.readwrite.alias.tsx"},"6":{"name":"keyword.operator.assignment.tsx"}},"end":"(?=;|$|^)","name":"meta.import-equals.internal.tsx","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#comment"},{"captures":{"1":{"name":"entity.name.type.module.tsx"},"2":{"name":"punctuation.accessor.tsx"},"3":{"name":"punctuation.accessor.optional.tsx"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))"},{"match":"([$_[:alpha:]][$_[:alnum:]]*)","name":"variable.other.readwrite.tsx"}]}]},"import-export-assert-clause":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(with)|(assert))\\\\s*(\\\\{)","beginCaptures":{"1":{"name":"keyword.control.with.tsx"},"2":{"name":"keyword.control.assert.tsx"},"3":{"name":"punctuation.definition.block.tsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.tsx"}},"patterns":[{"include":"#comment"},{"include":"#string"},{"match":"[$_[:alpha:]][$_[:alnum:]]*\\\\s*(?=(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*:)","name":"meta.object-literal.key.tsx"},{"match":":","name":"punctuation.separator.key-value.tsx"}]},"import-export-block":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.tsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.tsx"}},"name":"meta.block.tsx","patterns":[{"include":"#import-export-clause"}]},"import-export-clause":{"patterns":[{"include":"#comment"},{"captures":{"1":{"name":"keyword.control.type.tsx"},"2":{"name":"keyword.control.default.tsx"},"3":{"name":"constant.language.import-export-all.tsx"},"4":{"name":"variable.other.readwrite.tsx"},"5":{"name":"string.quoted.alias.tsx"},"12":{"name":"keyword.control.as.tsx"},"13":{"name":"keyword.control.default.tsx"},"14":{"name":"variable.other.readwrite.alias.tsx"},"15":{"name":"string.quoted.alias.tsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(type)\\\\s+)?(?:\\\\b(default)|(\\\\*)|\\\\b([$_[:alpha:]][$_[:alnum:]]*)|(('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)))\\\\s+(as)\\\\s+(?:(default(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|([$_[:alpha:]][$_[:alnum:]]*)|(('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)))"},{"include":"#punctuation-comma"},{"match":"\\\\*","name":"constant.language.import-export-all.tsx"},{"match":"\\\\b(default)\\\\b","name":"keyword.control.default.tsx"},{"captures":{"1":{"name":"keyword.control.type.tsx"},"2":{"name":"variable.other.readwrite.alias.tsx"},"3":{"name":"string.quoted.alias.tsx"}},"match":"(?:\\\\b(type)\\\\s+)?(?:([$_[:alpha:]][$_[:alnum:]]*)|(('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)))"}]},"import-export-declaration":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#import-export-block"},{"match":"\\\\bfrom\\\\b","name":"keyword.control.from.tsx"},{"include":"#import-export-assert-clause"},{"include":"#import-export-clause"}]},"indexer-declaration":{"begin":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(readonly)\\\\s*)?\\\\s*(\\\\[)\\\\s*([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?=:)","beginCaptures":{"1":{"name":"storage.modifier.tsx"},"2":{"name":"meta.brace.square.tsx"},"3":{"name":"variable.parameter.tsx"}},"end":"(])\\\\s*(\\\\?\\\\s*)?|$","endCaptures":{"1":{"name":"meta.brace.square.tsx"},"2":{"name":"keyword.operator.optional.tsx"}},"name":"meta.indexer.declaration.tsx","patterns":[{"include":"#type-annotation"}]},"indexer-mapped-type-declaration":{"begin":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))([-+])?(readonly)\\\\s*)?\\\\s*(\\\\[)\\\\s*([$_[:alpha:]][$_[:alnum:]]*)\\\\s+(in)\\\\s+","beginCaptures":{"1":{"name":"keyword.operator.type.modifier.tsx"},"2":{"name":"storage.modifier.tsx"},"3":{"name":"meta.brace.square.tsx"},"4":{"name":"entity.name.type.tsx"},"5":{"name":"keyword.operator.expression.in.tsx"}},"end":"(])([-+])?\\\\s*(\\\\?\\\\s*)?|$","endCaptures":{"1":{"name":"meta.brace.square.tsx"},"2":{"name":"keyword.operator.type.modifier.tsx"},"3":{"name":"keyword.operator.optional.tsx"}},"name":"meta.indexer.mappedtype.declaration.tsx","patterns":[{"captures":{"1":{"name":"keyword.control.as.tsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as)\\\\s+"},{"include":"#type"}]},"inline-tags":{"patterns":[{"captures":{"1":{"name":"punctuation.definition.bracket.square.begin.jsdoc"},"2":{"name":"punctuation.definition.bracket.square.end.jsdoc"}},"match":"(\\\\[)[^]]+(])(?=\\\\{@(?:link|linkcode|linkplain|tutorial))","name":"constant.other.description.jsdoc"},{"begin":"(\\\\{)((@)(?:link(?:code|plain)?|tutorial))\\\\s*","beginCaptures":{"1":{"name":"punctuation.definition.bracket.curly.begin.jsdoc"},"2":{"name":"storage.type.class.jsdoc"},"3":{"name":"punctuation.definition.inline.tag.jsdoc"}},"end":"}|(?=\\\\*/)","endCaptures":{"0":{"name":"punctuation.definition.bracket.curly.end.jsdoc"}},"name":"entity.name.type.instance.jsdoc","patterns":[{"captures":{"1":{"name":"variable.other.link.underline.jsdoc"},"2":{"name":"punctuation.separator.pipe.jsdoc"}},"match":"\\\\G((?=https?://)(?:[^*|}\\\\s]|\\\\*/)+)(\\\\|)?"},{"captures":{"1":{"name":"variable.other.description.jsdoc"},"2":{"name":"punctuation.separator.pipe.jsdoc"}},"match":"\\\\G((?:[^*@{|}\\\\s]|\\\\*[^/])+)(\\\\|)?"}]}]},"instanceof-expr":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(instanceof)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.operator.expression.instanceof.tsx"}},"end":"(?<=\\\\))|(?=[-\\\\])+,:;>?}]|\\\\|\\\\||&&|!==|$|([!=]==?)|(([\\\\&^|~]\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s+instanceof(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))function((\\\\s+[$_[:alpha:]][$_[:alnum:]]*)|(\\\\s*\\\\())))","patterns":[{"include":"#type"}]},"interface-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(?:(abstract)\\\\s+)?\\\\b(interface)\\\\b(?=\\\\s+|/[*/])","beginCaptures":{"1":{"name":"keyword.control.export.tsx"},"2":{"name":"storage.modifier.tsx"},"3":{"name":"storage.modifier.tsx"},"4":{"name":"storage.type.interface.tsx"}},"end":"(?<=})","name":"meta.interface.tsx","patterns":[{"include":"#comment"},{"include":"#class-or-interface-heritage"},{"captures":{"0":{"name":"entity.name.type.interface.tsx"}},"match":"[$_[:alpha:]][$_[:alnum:]]*"},{"include":"#type-parameters"},{"include":"#class-or-interface-body"}]},"jsdoctype":{"patterns":[{"begin":"\\\\G(\\\\{)","beginCaptures":{"0":{"name":"entity.name.type.instance.jsdoc"},"1":{"name":"punctuation.definition.bracket.curly.begin.jsdoc"}},"contentName":"entity.name.type.instance.jsdoc","end":"((}))\\\\s*|(?=\\\\*/)","endCaptures":{"1":{"name":"entity.name.type.instance.jsdoc"},"2":{"name":"punctuation.definition.bracket.curly.end.jsdoc"}},"patterns":[{"include":"#brackets"}]}]},"jsx":{"patterns":[{"include":"#jsx-tag-without-attributes-in-expression"},{"include":"#jsx-tag-in-expression"}]},"jsx-children":{"patterns":[{"include":"#jsx-tag-without-attributes"},{"include":"#jsx-tag"},{"include":"#jsx-evaluated-code"},{"include":"#jsx-entities"}]},"jsx-entities":{"patterns":[{"captures":{"1":{"name":"punctuation.definition.entity.tsx"},"3":{"name":"punctuation.definition.entity.tsx"}},"match":"(&)([0-9A-Za-z]+|#[0-9]+|#x\\\\h+)(;)","name":"constant.character.entity.tsx"}]},"jsx-evaluated-code":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.section.embedded.begin.tsx"}},"contentName":"meta.embedded.expression.tsx","end":"}","endCaptures":{"0":{"name":"punctuation.section.embedded.end.tsx"}},"patterns":[{"include":"#expression"}]},"jsx-string-double-quoted":{"begin":"\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.tsx"}},"end":"\\"","endCaptures":{"0":{"name":"punctuation.definition.string.end.tsx"}},"name":"string.quoted.double.tsx","patterns":[{"include":"#jsx-entities"}]},"jsx-string-single-quoted":{"begin":"'","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.tsx"}},"end":"'","endCaptures":{"0":{"name":"punctuation.definition.string.end.tsx"}},"name":"string.quoted.single.tsx","patterns":[{"include":"#jsx-entities"}]},"jsx-tag":{"begin":"(?=(<)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))(?=((<\\\\s*)|(\\\\s+))(?!\\\\?)|/?>))","end":"(/>)|(</)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))?\\\\s*(>)","endCaptures":{"1":{"name":"punctuation.definition.tag.end.tsx"},"2":{"name":"punctuation.definition.tag.begin.tsx"},"3":{"name":"entity.name.tag.namespace.tsx"},"4":{"name":"punctuation.separator.namespace.tsx"},"5":{"name":"entity.name.tag.tsx"},"6":{"name":"support.class.component.tsx"},"7":{"name":"punctuation.definition.tag.end.tsx"}},"name":"meta.tag.tsx","patterns":[{"begin":"(<)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))(?=((<\\\\s*)|(\\\\s+))(?!\\\\?)|/?>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.tsx"},"2":{"name":"entity.name.tag.namespace.tsx"},"3":{"name":"punctuation.separator.namespace.tsx"},"4":{"name":"entity.name.tag.tsx"},"5":{"name":"support.class.component.tsx"}},"end":"(?=/?>)","patterns":[{"include":"#comment"},{"include":"#type-arguments"},{"include":"#jsx-tag-attributes"}]},{"begin":"(>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.end.tsx"}},"contentName":"meta.jsx.children.tsx","end":"(?=</)","patterns":[{"include":"#jsx-children"}]}]},"jsx-tag-attribute-assignment":{"match":"=(?=\\\\s*(?:[\\"'{]|/\\\\*|//|\\\\n))","name":"keyword.operator.assignment.tsx"},"jsx-tag-attribute-name":{"captures":{"1":{"name":"entity.other.attribute-name.namespace.tsx"},"2":{"name":"punctuation.separator.namespace.tsx"},"3":{"name":"entity.other.attribute-name.tsx"}},"match":"\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(:))?([$_[:alpha:]][-$_[:alnum:]]*)(?=[=\\\\s]|/?>|/\\\\*|//)"},"jsx-tag-attributes":{"begin":"\\\\s+","end":"(?=/?>)","name":"meta.tag.attributes.tsx","patterns":[{"include":"#comment"},{"include":"#jsx-tag-attribute-name"},{"include":"#jsx-tag-attribute-assignment"},{"include":"#jsx-string-double-quoted"},{"include":"#jsx-string-single-quoted"},{"include":"#jsx-evaluated-code"},{"include":"#jsx-tag-attributes-illegal"}]},"jsx-tag-attributes-illegal":{"match":"\\\\S+","name":"invalid.illegal.attribute.tsx"},"jsx-tag-in-expression":{"begin":"(?<!\\\\+\\\\+|--)(?<=[(*,:=>?\\\\[{]|&&|\\\\|\\\\||\\\\?|\\\\*/|^await|[^$._[:alnum:]]await|^return|[^$._[:alnum:]]return|^default|[^$._[:alnum:]]default|^yield|[^$._[:alnum:]]yield|^)\\\\s*(?!<\\\\s*[$_[:alpha:]][$_[:alnum:]]*((\\\\s+extends\\\\s+[^=>])|,))(?=(<)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))(?=((<\\\\s*)|(\\\\s+))(?!\\\\?)|/?>))","end":"(?!(<)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))(?=((<\\\\s*)|(\\\\s+))(?!\\\\?)|/?>))","patterns":[{"include":"#jsx-tag"}]},"jsx-tag-without-attributes":{"begin":"(<)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))?\\\\s*(>)","beginCaptures":{"1":{"name":"punctuation.definition.tag.begin.tsx"},"2":{"name":"entity.name.tag.namespace.tsx"},"3":{"name":"punctuation.separator.namespace.tsx"},"4":{"name":"entity.name.tag.tsx"},"5":{"name":"support.class.component.tsx"},"6":{"name":"punctuation.definition.tag.end.tsx"}},"contentName":"meta.jsx.children.tsx","end":"(</)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))?\\\\s*(>)","endCaptures":{"1":{"name":"punctuation.definition.tag.begin.tsx"},"2":{"name":"entity.name.tag.namespace.tsx"},"3":{"name":"punctuation.separator.namespace.tsx"},"4":{"name":"entity.name.tag.tsx"},"5":{"name":"support.class.component.tsx"},"6":{"name":"punctuation.definition.tag.end.tsx"}},"name":"meta.tag.without-attributes.tsx","patterns":[{"include":"#jsx-children"}]},"jsx-tag-without-attributes-in-expression":{"begin":"(?<!\\\\+\\\\+|--)(?<=[(*,:=>?\\\\[{]|&&|\\\\|\\\\||\\\\?|\\\\*/|^await|[^$._[:alnum:]]await|^return|[^$._[:alnum:]]return|^default|[^$._[:alnum:]]default|^yield|[^$._[:alnum:]]yield|^)\\\\s*(?=(<)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))?\\\\s*(>))","end":"(?!(<)\\\\s*(?:([$_[:alpha:]][-$._[:alnum:]]*)(?<![-.])(:))?((?:[a-z][0-9a-z]*|([$_[:alpha:]][-$._[:alnum:]]*))(?<![-.]))?\\\\s*(>))","patterns":[{"include":"#jsx-tag-without-attributes"}]},"label":{"patterns":[{"begin":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(:)(?=\\\\s*\\\\{)","beginCaptures":{"1":{"name":"entity.name.label.tsx"},"2":{"name":"punctuation.separator.label.tsx"}},"end":"(?<=})","patterns":[{"include":"#decl-block"}]},{"captures":{"1":{"name":"entity.name.label.tsx"},"2":{"name":"punctuation.separator.label.tsx"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(:)"}]},"literal":{"patterns":[{"include":"#numeric-literal"},{"include":"#boolean-literal"},{"include":"#null-literal"},{"include":"#undefined-literal"},{"include":"#numericConstant-literal"},{"include":"#array-literal"},{"include":"#this-literal"},{"include":"#super-literal"}]},"method-declaration":{"patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(override)\\\\s+)?(?:\\\\b(p(?:ublic|rivate|rotected))\\\\s+)?(?:\\\\b(abstract)\\\\s+)?(?:\\\\b(async)\\\\s+)?\\\\s*\\\\b(constructor)\\\\b(?!:)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"storage.modifier.tsx"},"2":{"name":"storage.modifier.tsx"},"3":{"name":"storage.modifier.tsx"},"4":{"name":"storage.modifier.async.tsx"},"5":{"name":"storage.type.tsx"}},"end":"(?=[,;}]|$)|(?<=})","name":"meta.method.declaration.tsx","patterns":[{"include":"#method-declaration-name"},{"include":"#function-body"}]},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(override)\\\\s+)?(?:\\\\b(p(?:ublic|rivate|rotected))\\\\s+)?(?:\\\\b(abstract)\\\\s+)?(?:\\\\b(async)\\\\s+)?(?:\\\\s*\\\\b(new)\\\\b(?!:)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))|(?:(\\\\*)\\\\s*)?)(?=\\\\s*((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\()","beginCaptures":{"1":{"name":"storage.modifier.tsx"},"2":{"name":"storage.modifier.tsx"},"3":{"name":"storage.modifier.tsx"},"4":{"name":"storage.modifier.async.tsx"},"5":{"name":"keyword.operator.new.tsx"},"6":{"name":"keyword.generator.asterisk.tsx"}},"end":"(?=[,;}]|$)|(?<=})","name":"meta.method.declaration.tsx","patterns":[{"include":"#method-declaration-name"},{"include":"#function-body"}]},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(override)\\\\s+)?(?:\\\\b(p(?:ublic|rivate|rotected))\\\\s+)?(?:\\\\b(abstract)\\\\s+)?(?:\\\\b(async)\\\\s+)?(?:\\\\b([gs]et)\\\\s+)?(?:(\\\\*)\\\\s*)?(?=\\\\s*((\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(\\\\??))\\\\s*((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\()","beginCaptures":{"1":{"name":"storage.modifier.tsx"},"2":{"name":"storage.modifier.tsx"},"3":{"name":"storage.modifier.tsx"},"4":{"name":"storage.modifier.async.tsx"},"5":{"name":"storage.type.property.tsx"},"6":{"name":"keyword.generator.asterisk.tsx"}},"end":"(?=[,;}]|$)|(?<=})","name":"meta.method.declaration.tsx","patterns":[{"include":"#method-declaration-name"},{"include":"#function-body"}]}]},"method-declaration-name":{"begin":"(?=(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(\\\\??)\\\\s*[(<])","end":"(?=[(<])","patterns":[{"include":"#string"},{"include":"#array-literal"},{"include":"#numeric-literal"},{"match":"[$_[:alpha:]][$_[:alnum:]]*","name":"meta.definition.method.tsx entity.name.function.tsx"},{"match":"\\\\?","name":"keyword.operator.optional.tsx"}]},"namespace-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(namespace|module)\\\\s+(?=[\\"$'_\`[:alpha:]])","beginCaptures":{"1":{"name":"keyword.control.export.tsx"},"2":{"name":"storage.modifier.tsx"},"3":{"name":"storage.type.namespace.tsx"}},"end":"(?<=})|(?=;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","name":"meta.namespace.declaration.tsx","patterns":[{"include":"#comment"},{"include":"#string"},{"match":"([$_[:alpha:]][$_[:alnum:]]*)","name":"entity.name.type.module.tsx"},{"include":"#punctuation-accessor"},{"include":"#decl-block"}]},"new-expr":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(new)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.operator.new.tsx"}},"end":"(?<=\\\\))|(?=[-\\\\])+,:;>?}]|\\\\|\\\\||&&|!==|$|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))new(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))function((\\\\s+[$_[:alpha:]][$_[:alnum:]]*)|(\\\\s*\\\\())))","name":"new.expr.tsx","patterns":[{"include":"#expression"}]},"null-literal":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))null(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.null.tsx"},"numeric-literal":{"patterns":[{"captures":{"1":{"name":"storage.type.numeric.bigint.tsx"}},"match":"\\\\b(?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$)","name":"constant.numeric.hex.tsx"},{"captures":{"1":{"name":"storage.type.numeric.bigint.tsx"}},"match":"\\\\b(?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$)","name":"constant.numeric.binary.tsx"},{"captures":{"1":{"name":"storage.type.numeric.bigint.tsx"}},"match":"\\\\b(?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$)","name":"constant.numeric.octal.tsx"},{"captures":{"0":{"name":"constant.numeric.decimal.tsx"},"1":{"name":"meta.delimiter.decimal.period.tsx"},"2":{"name":"storage.type.numeric.bigint.tsx"},"3":{"name":"meta.delimiter.decimal.period.tsx"},"4":{"name":"storage.type.numeric.bigint.tsx"},"5":{"name":"meta.delimiter.decimal.period.tsx"},"6":{"name":"storage.type.numeric.bigint.tsx"},"7":{"name":"storage.type.numeric.bigint.tsx"},"8":{"name":"meta.delimiter.decimal.period.tsx"},"9":{"name":"storage.type.numeric.bigint.tsx"},"10":{"name":"meta.delimiter.decimal.period.tsx"},"11":{"name":"storage.type.numeric.bigint.tsx"},"12":{"name":"meta.delimiter.decimal.period.tsx"},"13":{"name":"storage.type.numeric.bigint.tsx"},"14":{"name":"storage.type.numeric.bigint.tsx"}},"match":"(?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$)"}]},"numericConstant-literal":{"patterns":[{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))NaN(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.nan.tsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Infinity(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.infinity.tsx"}]},"object-binding-element":{"patterns":[{"include":"#comment"},{"begin":"(?=(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(:))","end":"(?=[,}])","patterns":[{"include":"#object-binding-element-propertyName"},{"include":"#binding-element"}]},{"include":"#object-binding-pattern"},{"include":"#destructuring-variable-rest"},{"include":"#variable-initializer"},{"include":"#punctuation-comma"}]},"object-binding-element-const":{"patterns":[{"include":"#comment"},{"begin":"(?=(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(:))","end":"(?=[,}])","patterns":[{"include":"#object-binding-element-propertyName"},{"include":"#binding-element-const"}]},{"include":"#object-binding-pattern-const"},{"include":"#destructuring-variable-rest-const"},{"include":"#variable-initializer"},{"include":"#punctuation-comma"}]},"object-binding-element-propertyName":{"begin":"(?=(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(:))","end":"(:)","endCaptures":{"0":{"name":"punctuation.destructuring.tsx"}},"patterns":[{"include":"#string"},{"include":"#array-literal"},{"include":"#numeric-literal"},{"match":"([$_[:alpha:]][$_[:alnum:]]*)","name":"variable.object.property.tsx"}]},"object-binding-pattern":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\{)","beginCaptures":{"1":{"name":"keyword.operator.rest.tsx"},"2":{"name":"punctuation.definition.binding-pattern.object.tsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.object.tsx"}},"patterns":[{"include":"#object-binding-element"}]},"object-binding-pattern-const":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\{)","beginCaptures":{"1":{"name":"keyword.operator.rest.tsx"},"2":{"name":"punctuation.definition.binding-pattern.object.tsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.object.tsx"}},"patterns":[{"include":"#object-binding-element-const"}]},"object-identifiers":{"patterns":[{"match":"([$_[:alpha:]][$_[:alnum:]]*)(?=\\\\s*\\\\??\\\\.\\\\s*prototype\\\\b(?!\\\\$))","name":"support.class.tsx"},{"captures":{"1":{"name":"punctuation.accessor.tsx"},"2":{"name":"punctuation.accessor.optional.tsx"},"3":{"name":"variable.other.constant.object.property.tsx"},"4":{"name":"variable.other.object.property.tsx"}},"match":"(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(?:(#?\\\\p{upper}[$_\\\\d[:upper:]]*)|(#?[$_[:alpha:]][$_[:alnum:]]*))(?=\\\\s*\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*)"},{"captures":{"1":{"name":"variable.other.constant.object.tsx"},"2":{"name":"variable.other.object.tsx"}},"match":"(?:(\\\\p{upper}[$_\\\\d[:upper:]]*)|([$_[:alpha:]][$_[:alnum:]]*))(?=\\\\s*\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*)"}]},"object-literal":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.tsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.tsx"}},"name":"meta.objectliteral.tsx","patterns":[{"include":"#object-member"}]},"object-literal-method-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(async)\\\\s+)?(?:\\\\b([gs]et)\\\\s+)?(?:(\\\\*)\\\\s*)?(?=\\\\s*((\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(\\\\??))\\\\s*((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\()","beginCaptures":{"1":{"name":"storage.modifier.async.tsx"},"2":{"name":"storage.type.property.tsx"},"3":{"name":"keyword.generator.asterisk.tsx"}},"end":"(?=[,;}])|(?<=})","name":"meta.method.declaration.tsx","patterns":[{"include":"#method-declaration-name"},{"include":"#function-body"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(async)\\\\s+)?(?:\\\\b([gs]et)\\\\s+)?(?:(\\\\*)\\\\s*)?(?=\\\\s*((\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(\\\\??))\\\\s*((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\()","beginCaptures":{"1":{"name":"storage.modifier.async.tsx"},"2":{"name":"storage.type.property.tsx"},"3":{"name":"keyword.generator.asterisk.tsx"}},"end":"(?=[(<])","patterns":[{"include":"#method-declaration-name"}]}]},"object-member":{"patterns":[{"include":"#comment"},{"include":"#object-literal-method-declaration"},{"begin":"(?=\\\\[)","end":"(?=:)|((?<=])(?=\\\\s*[(<]))","name":"meta.object.member.tsx meta.object-literal.key.tsx","patterns":[{"include":"#comment"},{"include":"#array-literal"}]},{"begin":"(?=[\\"'\`])","end":"(?=:)|((?<=[\\"'\`])(?=((\\\\s*[(,<}])|(\\\\s+(as|satisifies)\\\\s+))))","name":"meta.object.member.tsx meta.object-literal.key.tsx","patterns":[{"include":"#comment"},{"include":"#string"}]},{"begin":"(?=\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$)))","end":"(?=:)|(?=\\\\s*([(,<}])|(\\\\s+as|satisifies\\\\s+))","name":"meta.object.member.tsx meta.object-literal.key.tsx","patterns":[{"include":"#comment"},{"include":"#numeric-literal"}]},{"begin":"(?<=[]\\"'\`])(?=\\\\s*[(<])","end":"(?=[,;}])|(?<=})","name":"meta.method.declaration.tsx","patterns":[{"include":"#function-body"}]},{"captures":{"0":{"name":"meta.object-literal.key.tsx"},"1":{"name":"constant.numeric.decimal.tsx"}},"match":"(?![$_[:alpha:]])(\\\\d+)\\\\s*(?=(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*:)","name":"meta.object.member.tsx"},{"captures":{"0":{"name":"meta.object-literal.key.tsx"},"1":{"name":"entity.name.function.tsx"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?=(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*:(\\\\s*/\\\\*([^*]|(\\\\*[^/]))*\\\\*/)*\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))","name":"meta.object.member.tsx"},{"captures":{"0":{"name":"meta.object-literal.key.tsx"}},"match":"[$_[:alpha:]][$_[:alnum:]]*\\\\s*(?=(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*:)","name":"meta.object.member.tsx"},{"begin":"\\\\.\\\\.\\\\.","beginCaptures":{"0":{"name":"keyword.operator.spread.tsx"}},"end":"(?=[,}])","name":"meta.object.member.tsx","patterns":[{"include":"#expression"}]},{"captures":{"1":{"name":"variable.other.readwrite.tsx"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?=[,}]|$|//|/\\\\*)","name":"meta.object.member.tsx"},{"captures":{"1":{"name":"keyword.control.as.tsx"},"2":{"name":"storage.modifier.tsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as)\\\\s+(const)(?=\\\\s*([,}]|$))","name":"meta.object.member.tsx"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(as)|(satisfies))\\\\s+","beginCaptures":{"1":{"name":"keyword.control.as.tsx"},"2":{"name":"keyword.control.satisfies.tsx"}},"end":"(?=[-\\\\])+,:;>?}]|\\\\|\\\\||&&|!==|$|^|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as|satisifies)\\\\s+))","name":"meta.object.member.tsx","patterns":[{"include":"#type"}]},{"begin":"(?=[$_[:alpha:]][$_[:alnum:]]*\\\\s*=)","end":"(?=[,}]|$|//|/\\\\*)","name":"meta.object.member.tsx","patterns":[{"include":"#expression"}]},{"begin":":","beginCaptures":{"0":{"name":"meta.object-literal.key.tsx punctuation.separator.key-value.tsx"}},"end":"(?=[,}])","name":"meta.object.member.tsx","patterns":[{"begin":"(?<=:)\\\\s*(async)?(?=\\\\s*(<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))","beginCaptures":{"1":{"name":"storage.modifier.async.tsx"}},"end":"(?<=\\\\))","patterns":[{"include":"#type-parameters"},{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.tsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.tsx"}},"patterns":[{"include":"#expression-inside-possibly-arrow-parens"}]}]},{"begin":"(?<=:)\\\\s*(async)?\\\\s*(\\\\()(?=\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))","beginCaptures":{"1":{"name":"storage.modifier.async.tsx"},"2":{"name":"meta.brace.round.tsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.tsx"}},"patterns":[{"include":"#expression-inside-possibly-arrow-parens"}]},{"begin":"(?<=:)\\\\s*(async)?\\\\s*(?=<\\\\s*$)","beginCaptures":{"1":{"name":"storage.modifier.async.tsx"}},"end":"(?<=>)","patterns":[{"include":"#type-parameters"}]},{"begin":"(?<=>)\\\\s*(\\\\()(?=\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))","beginCaptures":{"1":{"name":"meta.brace.round.tsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.tsx"}},"patterns":[{"include":"#expression-inside-possibly-arrow-parens"}]},{"include":"#possibly-arrow-return-type"},{"include":"#expression"}]},{"include":"#punctuation-comma"},{"include":"#decl-block"}]},"parameter-array-binding-pattern":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\[)","beginCaptures":{"1":{"name":"keyword.operator.rest.tsx"},"2":{"name":"punctuation.definition.binding-pattern.array.tsx"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.array.tsx"}},"patterns":[{"include":"#parameter-binding-element"},{"include":"#punctuation-comma"}]},"parameter-binding-element":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#numeric-literal"},{"include":"#regex"},{"include":"#parameter-object-binding-pattern"},{"include":"#parameter-array-binding-pattern"},{"include":"#destructuring-parameter-rest"},{"include":"#variable-initializer"}]},"parameter-name":{"patterns":[{"captures":{"1":{"name":"storage.modifier.tsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|protected|private|readonly)\\\\s+(?=(override|public|protected|private|readonly)\\\\s+)"},{"captures":{"1":{"name":"storage.modifier.tsx"},"2":{"name":"keyword.operator.rest.tsx"},"3":{"name":"entity.name.function.tsx variable.language.this.tsx"},"4":{"name":"entity.name.function.tsx"},"5":{"name":"keyword.operator.optional.tsx"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*(\\\\??)(?=\\\\s*(=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))|(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))))|(:\\\\s*(=>|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(<[^<>]*>)|[^(),<=>])+=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>))))))"},{"captures":{"1":{"name":"storage.modifier.tsx"},"2":{"name":"keyword.operator.rest.tsx"},"3":{"name":"variable.parameter.tsx variable.language.this.tsx"},"4":{"name":"variable.parameter.tsx"},"5":{"name":"keyword.operator.optional.tsx"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*(\\\\??)"}]},"parameter-object-binding-element":{"patterns":[{"include":"#comment"},{"begin":"(?=(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(:))","end":"(?=[,}])","patterns":[{"include":"#object-binding-element-propertyName"},{"include":"#parameter-binding-element"},{"include":"#paren-expression"}]},{"include":"#parameter-object-binding-pattern"},{"include":"#destructuring-parameter-rest"},{"include":"#variable-initializer"},{"include":"#punctuation-comma"}]},"parameter-object-binding-pattern":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\{)","beginCaptures":{"1":{"name":"keyword.operator.rest.tsx"},"2":{"name":"punctuation.definition.binding-pattern.object.tsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.object.tsx"}},"patterns":[{"include":"#parameter-object-binding-element"}]},"parameter-type-annotation":{"patterns":[{"begin":"(:)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.tsx"}},"end":"(?=[),])|(?==[^>])","name":"meta.type.annotation.tsx","patterns":[{"include":"#type"}]}]},"paren-expression":{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.tsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.tsx"}},"patterns":[{"include":"#expression"}]},"paren-expression-possibly-arrow":{"patterns":[{"begin":"(?<=[(,=])\\\\s*(async)?(?=\\\\s*((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))","beginCaptures":{"1":{"name":"storage.modifier.async.tsx"}},"end":"(?<=\\\\))","patterns":[{"include":"#paren-expression-possibly-arrow-with-typeparameters"}]},{"begin":"(?<=[(,=]|=>|^return|[^$._[:alnum:]]return)\\\\s*(async)?(?=\\\\s*((((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\()|(<)|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)))\\\\s*$)","beginCaptures":{"1":{"name":"storage.modifier.async.tsx"}},"end":"(?<=\\\\))","patterns":[{"include":"#paren-expression-possibly-arrow-with-typeparameters"}]},{"include":"#possibly-arrow-return-type"}]},"paren-expression-possibly-arrow-with-typeparameters":{"patterns":[{"include":"#type-parameters"},{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.tsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.tsx"}},"patterns":[{"include":"#expression-inside-possibly-arrow-parens"}]}]},"possibly-arrow-return-type":{"begin":"(?<=\\\\)|^)\\\\s*(:)(?=\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*=>)","beginCaptures":{"1":{"name":"meta.arrow.tsx meta.return.type.arrow.tsx keyword.operator.type.annotation.tsx"}},"contentName":"meta.arrow.tsx meta.return.type.arrow.tsx","end":"(?==>|\\\\{|^(\\\\s*(export|function|class|interface|let|var|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|const|import|enum|namespace|module|type|abstract|declare)\\\\s+))","patterns":[{"include":"#arrow-return-type-body"}]},"property-accessor":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(accessor|get|set)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"storage.type.property.tsx"},"punctuation-accessor":{"captures":{"1":{"name":"punctuation.accessor.tsx"},"2":{"name":"punctuation.accessor.optional.tsx"}},"match":"(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d))"},"punctuation-comma":{"match":",","name":"punctuation.separator.comma.tsx"},"punctuation-semicolon":{"match":";","name":"punctuation.terminator.statement.tsx"},"qstring-double":{"begin":"\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.tsx"}},"end":"(\\")|([^\\\\n\\\\\\\\])$","endCaptures":{"1":{"name":"punctuation.definition.string.end.tsx"},"2":{"name":"invalid.illegal.newline.tsx"}},"name":"string.quoted.double.tsx","patterns":[{"include":"#string-character-escape"}]},"qstring-single":{"begin":"'","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.tsx"}},"end":"(')|([^\\\\n\\\\\\\\])$","endCaptures":{"1":{"name":"punctuation.definition.string.end.tsx"},"2":{"name":"invalid.illegal.newline.tsx"}},"name":"string.quoted.single.tsx","patterns":[{"include":"#string-character-escape"}]},"regex":{"patterns":[{"begin":"(?<!\\\\+\\\\+|--|})(?<=[!(+,:=?\\\\[]|^return|[^$._[:alnum:]]return|^case|[^$._[:alnum:]]case|=>|&&|\\\\|\\\\||\\\\*/)\\\\s*(/)(?![*/])(?=(?:[^()/\\\\[\\\\\\\\]|\\\\\\\\.|\\\\[([^]\\\\\\\\]|\\\\\\\\.)+]|\\\\(([^)\\\\\\\\]|\\\\\\\\.)+\\\\))+/([dgimsuvy]+|(?![*/])|(?=/\\\\*))(?!\\\\s*[$0-9A-Z_a-z]))","beginCaptures":{"1":{"name":"punctuation.definition.string.begin.tsx"}},"end":"(/)([dgimsuvy]*)","endCaptures":{"1":{"name":"punctuation.definition.string.end.tsx"},"2":{"name":"keyword.other.tsx"}},"name":"string.regexp.tsx","patterns":[{"include":"#regexp"}]},{"begin":"((?<![]$)_[:alnum:]]|\\\\+\\\\+|--|}|\\\\*/)|((?<=^return|[^$._[:alnum:]]return|^case|[^$._[:alnum:]]case))\\\\s*)/(?![*/])(?=(?:[^/\\\\[\\\\\\\\]|\\\\\\\\.|\\\\[([^]\\\\\\\\]|\\\\\\\\.)*])+/([dgimsuvy]+|(?![*/])|(?=/\\\\*))(?!\\\\s*[$0-9A-Z_a-z]))","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.tsx"}},"end":"(/)([dgimsuvy]*)","endCaptures":{"1":{"name":"punctuation.definition.string.end.tsx"},"2":{"name":"keyword.other.tsx"}},"name":"string.regexp.tsx","patterns":[{"include":"#regexp"}]}]},"regex-character-class":{"patterns":[{"match":"\\\\\\\\[DSWdfnrstvw]|\\\\.","name":"constant.other.character-class.regexp"},{"match":"\\\\\\\\([0-7]{3}|x\\\\h{2}|u\\\\h{4})","name":"constant.character.numeric.regexp"},{"match":"\\\\\\\\c[A-Z]","name":"constant.character.control.regexp"},{"match":"\\\\\\\\.","name":"constant.character.escape.backslash.regexp"}]},"regexp":{"patterns":[{"match":"\\\\\\\\[Bb]|[$^]","name":"keyword.control.anchor.regexp"},{"captures":{"0":{"name":"keyword.other.back-reference.regexp"},"1":{"name":"variable.other.regexp"}},"match":"\\\\\\\\(?:[1-9]\\\\d*|k<([$A-Z_a-z][$\\\\w]*)>)"},{"match":"[*+?]|\\\\{(\\\\d+,\\\\d+|\\\\d+,|,\\\\d+|\\\\d+)}\\\\??","name":"keyword.operator.quantifier.regexp"},{"match":"\\\\|","name":"keyword.operator.or.regexp"},{"begin":"(\\\\()((\\\\?=)|(\\\\?!)|(\\\\?<=)|(\\\\?<!))","beginCaptures":{"1":{"name":"punctuation.definition.group.regexp"},"2":{"name":"punctuation.definition.group.assertion.regexp"},"3":{"name":"meta.assertion.look-ahead.regexp"},"4":{"name":"meta.assertion.negative-look-ahead.regexp"},"5":{"name":"meta.assertion.look-behind.regexp"},"6":{"name":"meta.assertion.negative-look-behind.regexp"}},"end":"(\\\\))","endCaptures":{"1":{"name":"punctuation.definition.group.regexp"}},"name":"meta.group.assertion.regexp","patterns":[{"include":"#regexp"}]},{"begin":"\\\\((?:(\\\\?:)|\\\\?<([$A-Z_a-z][$\\\\w]*)>)?","beginCaptures":{"0":{"name":"punctuation.definition.group.regexp"},"1":{"name":"punctuation.definition.group.no-capture.regexp"},"2":{"name":"variable.other.regexp"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.group.regexp"}},"name":"meta.group.regexp","patterns":[{"include":"#regexp"}]},{"begin":"(\\\\[)(\\\\^)?","beginCaptures":{"1":{"name":"punctuation.definition.character-class.regexp"},"2":{"name":"keyword.operator.negation.regexp"}},"end":"(])","endCaptures":{"1":{"name":"punctuation.definition.character-class.regexp"}},"name":"constant.other.character-class.set.regexp","patterns":[{"captures":{"1":{"name":"constant.character.numeric.regexp"},"2":{"name":"constant.character.control.regexp"},"3":{"name":"constant.character.escape.backslash.regexp"},"4":{"name":"constant.character.numeric.regexp"},"5":{"name":"constant.character.control.regexp"},"6":{"name":"constant.character.escape.backslash.regexp"}},"match":"(?:.|(\\\\\\\\(?:[0-7]{3}|x\\\\h{2}|u\\\\h{4}))|(\\\\\\\\c[A-Z])|(\\\\\\\\.))-(?:[^]\\\\\\\\]|(\\\\\\\\(?:[0-7]{3}|x\\\\h{2}|u\\\\h{4}))|(\\\\\\\\c[A-Z])|(\\\\\\\\.))","name":"constant.other.character-class.range.regexp"},{"include":"#regex-character-class"}]},{"include":"#regex-character-class"}]},"return-type":{"patterns":[{"begin":"(?<=\\\\))\\\\s*(:)(?=\\\\s*\\\\S)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.tsx"}},"end":"(?<![\\\\&:|])(?=$|^|[,;{}]|//)","name":"meta.return.type.tsx","patterns":[{"include":"#return-type-core"}]},{"begin":"(?<=\\\\))\\\\s*(:)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.tsx"}},"end":"(?<![\\\\&:|])((?=[,;{}]|//|^\\\\s*$)|((?<=\\\\S)(?=\\\\s*$)))","name":"meta.return.type.tsx","patterns":[{"include":"#return-type-core"}]}]},"return-type-core":{"patterns":[{"include":"#comment"},{"begin":"(?<=[\\\\&:|])(?=\\\\s*\\\\{)","end":"(?<=})","patterns":[{"include":"#type-object"}]},{"include":"#type-predicate-operator"},{"include":"#type"}]},"shebang":{"captures":{"1":{"name":"punctuation.definition.comment.tsx"}},"match":"\\\\A(#!).*(?=$)","name":"comment.line.shebang.tsx"},"single-line-comment-consuming-line-ending":{"begin":"(^[\\\\t ]+)?((//)(?:\\\\s*((@)internal)(?=\\\\s|$))?)","beginCaptures":{"1":{"name":"punctuation.whitespace.comment.leading.tsx"},"2":{"name":"comment.line.double-slash.tsx"},"3":{"name":"punctuation.definition.comment.tsx"},"4":{"name":"storage.type.internaldeclaration.tsx"},"5":{"name":"punctuation.decorator.internaldeclaration.tsx"}},"contentName":"comment.line.double-slash.tsx","end":"(?=^)"},"statements":{"patterns":[{"include":"#declaration"},{"include":"#control-statement"},{"include":"#after-operator-block-as-object-literal"},{"include":"#decl-block"},{"include":"#label"},{"include":"#expression"},{"include":"#punctuation-semicolon"},{"include":"#string"},{"include":"#comment"}]},"string":{"patterns":[{"include":"#qstring-single"},{"include":"#qstring-double"},{"include":"#template"}]},"string-character-escape":{"match":"\\\\\\\\(x\\\\h{2}|u\\\\h{4}|u\\\\{\\\\h+}|[012][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.|$)","name":"constant.character.escape.tsx"},"super-literal":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))super\\\\b(?!\\\\$)","name":"variable.language.super.tsx"},"support-function-call-identifiers":{"patterns":[{"include":"#literal"},{"include":"#support-objects"},{"include":"#object-identifiers"},{"include":"#punctuation-accessor"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))import(?=\\\\s*\\\\(\\\\s*[\\"'\`])","name":"keyword.operator.expression.import.tsx"}]},"support-objects":{"patterns":[{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(arguments)\\\\b(?!\\\\$)","name":"variable.language.arguments.tsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(Promise)\\\\b(?!\\\\$)","name":"support.class.promise.tsx"},{"captures":{"1":{"name":"keyword.control.import.tsx"},"2":{"name":"punctuation.accessor.tsx"},"3":{"name":"punctuation.accessor.optional.tsx"},"4":{"name":"support.variable.property.importmeta.tsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(import)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(meta)\\\\b(?!\\\\$)"},{"captures":{"1":{"name":"keyword.operator.new.tsx"},"2":{"name":"punctuation.accessor.tsx"},"3":{"name":"punctuation.accessor.optional.tsx"},"4":{"name":"support.variable.property.target.tsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(new)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(target)\\\\b(?!\\\\$)"},{"captures":{"1":{"name":"punctuation.accessor.tsx"},"2":{"name":"punctuation.accessor.optional.tsx"},"3":{"name":"support.variable.property.tsx"},"4":{"name":"support.constant.tsx"}},"match":"(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(?:(constructor|length|prototype|__proto__)\\\\b(?!\\\\$|\\\\s*(<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\()|(EPSILON|MAX_SAFE_INTEGER|MAX_VALUE|MIN_SAFE_INTEGER|MIN_VALUE|NEGATIVE_INFINITY|POSITIVE_INFINITY)\\\\b(?!\\\\$))"},{"captures":{"1":{"name":"support.type.object.module.tsx"},"2":{"name":"support.type.object.module.tsx"},"3":{"name":"punctuation.accessor.tsx"},"4":{"name":"punctuation.accessor.optional.tsx"},"5":{"name":"support.type.object.module.tsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(exports)|(module)(?:(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))(exports|id|filename|loaded|parent|children))?)\\\\b(?!\\\\$)"}]},"switch-statement":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?=\\\\bswitch\\\\s*\\\\()","end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.tsx"}},"name":"switch-statement.expr.tsx","patterns":[{"include":"#comment"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(switch)\\\\s*(\\\\()","beginCaptures":{"1":{"name":"keyword.control.switch.tsx"},"2":{"name":"meta.brace.round.tsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.tsx"}},"name":"switch-expression.expr.tsx","patterns":[{"include":"#expression"}]},{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.tsx"}},"end":"(?=})","name":"switch-block.expr.tsx","patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(case|default(?=:))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.control.switch.tsx"}},"end":"(?=:)","name":"case-clause.expr.tsx","patterns":[{"include":"#expression"}]},{"begin":"(:)\\\\s*(\\\\{)","beginCaptures":{"1":{"name":"case-clause.expr.tsx punctuation.definition.section.case-statement.tsx"},"2":{"name":"meta.block.tsx punctuation.definition.block.tsx"}},"contentName":"meta.block.tsx","end":"}","endCaptures":{"0":{"name":"meta.block.tsx punctuation.definition.block.tsx"}},"patterns":[{"include":"#statements"}]},{"captures":{"0":{"name":"case-clause.expr.tsx punctuation.definition.section.case-statement.tsx"}},"match":"(:)"},{"include":"#statements"}]}]},"template":{"patterns":[{"include":"#template-call"},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)?(\`)","beginCaptures":{"1":{"name":"entity.name.function.tagged-template.tsx"},"2":{"name":"string.template.tsx punctuation.definition.string.template.begin.tsx"}},"contentName":"string.template.tsx","end":"\`","endCaptures":{"0":{"name":"string.template.tsx punctuation.definition.string.template.end.tsx"}},"patterns":[{"include":"#template-substitution-element"},{"include":"#string-character-escape"}]}]},"template-call":{"patterns":[{"begin":"(?=(([$_[:alpha:]][$_[:alnum:]]*\\\\s*\\\\??\\\\.\\\\s*)*|(\\\\??\\\\.\\\\s*)?)([$_[:alpha:]][$_[:alnum:]]*)(<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)?\`)","end":"(?=\`)","patterns":[{"begin":"(?=(([$_[:alpha:]][$_[:alnum:]]*\\\\s*\\\\??\\\\.\\\\s*)*|(\\\\??\\\\.\\\\s*)?)([$_[:alpha:]][$_[:alnum:]]*))","end":"(?=(<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)?\`)","patterns":[{"include":"#support-function-call-identifiers"},{"match":"([$_[:alpha:]][$_[:alnum:]]*)","name":"entity.name.function.tagged-template.tsx"}]},{"include":"#type-arguments"}]},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)?\\\\s*(?=(<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)\`)","beginCaptures":{"1":{"name":"entity.name.function.tagged-template.tsx"}},"end":"(?=\`)","patterns":[{"include":"#type-arguments"}]}]},"template-substitution-element":{"begin":"\\\\$\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.template-expression.begin.tsx"}},"contentName":"meta.embedded.line.tsx","end":"}","endCaptures":{"0":{"name":"punctuation.definition.template-expression.end.tsx"}},"name":"meta.template.expression.tsx","patterns":[{"include":"#expression"}]},"template-type":{"patterns":[{"include":"#template-call"},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)?(\`)","beginCaptures":{"1":{"name":"entity.name.function.tagged-template.tsx"},"2":{"name":"string.template.tsx punctuation.definition.string.template.begin.tsx"}},"contentName":"string.template.tsx","end":"\`","endCaptures":{"0":{"name":"string.template.tsx punctuation.definition.string.template.end.tsx"}},"patterns":[{"include":"#template-type-substitution-element"},{"include":"#string-character-escape"}]}]},"template-type-substitution-element":{"begin":"\\\\$\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.template-expression.begin.tsx"}},"contentName":"meta.embedded.line.tsx","end":"}","endCaptures":{"0":{"name":"punctuation.definition.template-expression.end.tsx"}},"name":"meta.template.expression.tsx","patterns":[{"include":"#type"}]},"ternary-expression":{"begin":"(?!\\\\?\\\\.\\\\s*\\\\D)(\\\\?)(?!\\\\?)","beginCaptures":{"1":{"name":"keyword.operator.ternary.tsx"}},"end":"\\\\s*(:)","endCaptures":{"1":{"name":"keyword.operator.ternary.tsx"}},"patterns":[{"include":"#expression"}]},"this-literal":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))this\\\\b(?!\\\\$)","name":"variable.language.this.tsx"},"type":{"patterns":[{"include":"#comment"},{"include":"#type-string"},{"include":"#numeric-literal"},{"include":"#type-primitive"},{"include":"#type-builtin-literals"},{"include":"#type-parameters"},{"include":"#type-tuple"},{"include":"#type-object"},{"include":"#type-operators"},{"include":"#type-conditional"},{"include":"#type-fn-type-parameters"},{"include":"#type-paren-or-function-parameters"},{"include":"#type-function-return-type"},{"captures":{"1":{"name":"storage.modifier.tsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(readonly)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*"},{"include":"#type-name"}]},"type-alias-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(type)\\\\b\\\\s+([$_[:alpha:]][$_[:alnum:]]*)\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.tsx"},"2":{"name":"storage.modifier.tsx"},"3":{"name":"storage.type.type.tsx"},"4":{"name":"entity.name.type.alias.tsx"}},"end":"(?=[;}]|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","name":"meta.type.declaration.tsx","patterns":[{"include":"#comment"},{"include":"#type-parameters"},{"begin":"(=)\\\\s*(intrinsic)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.operator.assignment.tsx"},"2":{"name":"keyword.control.intrinsic.tsx"}},"end":"(?=[;}]|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","patterns":[{"include":"#type"}]},{"begin":"(=)\\\\s*","beginCaptures":{"1":{"name":"keyword.operator.assignment.tsx"}},"end":"(?=[;}]|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","patterns":[{"include":"#type"}]}]},"type-annotation":{"patterns":[{"begin":"(:)(?=\\\\s*\\\\S)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.tsx"}},"end":"(?<![\\\\&:|])(?!\\\\s*[\\\\&|]\\\\s+)((?=^|[]),;}]|//)|(?==[^>])|((?<=[]$)>_}[:alpha:]])\\\\s*(?=\\\\{)))","name":"meta.type.annotation.tsx","patterns":[{"include":"#type"}]},{"begin":"(:)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.tsx"}},"end":"(?<![\\\\&:|])((?=[]),;}]|//)|(?==[^>])|(?=^\\\\s*$)|((?<=[]$)>_}[:alpha:]])\\\\s*(?=\\\\{)))","name":"meta.type.annotation.tsx","patterns":[{"include":"#type"}]}]},"type-arguments":{"begin":"<","beginCaptures":{"0":{"name":"punctuation.definition.typeparameters.begin.tsx"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.typeparameters.end.tsx"}},"name":"meta.type.parameters.tsx","patterns":[{"include":"#type-arguments-body"}]},"type-arguments-body":{"patterns":[{"captures":{"0":{"name":"keyword.operator.type.tsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(_)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"include":"#type"},{"include":"#punctuation-comma"}]},"type-builtin-literals":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(this|true|false|undefined|null|object)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"support.type.builtin.tsx"},"type-conditional":{"patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(extends)\\\\s+","beginCaptures":{"1":{"name":"storage.modifier.tsx"}},"end":"(?<=:)","patterns":[{"begin":"\\\\?","beginCaptures":{"0":{"name":"keyword.operator.ternary.tsx"}},"end":":","endCaptures":{"0":{"name":"keyword.operator.ternary.tsx"}},"patterns":[{"include":"#type"}]},{"include":"#type"}]}]},"type-fn-type-parameters":{"patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(abstract)\\\\s+)?(new)\\\\b(?=\\\\s*<)","beginCaptures":{"1":{"name":"meta.type.constructor.tsx storage.modifier.tsx"},"2":{"name":"meta.type.constructor.tsx keyword.control.new.tsx"}},"end":"(?<=>)","patterns":[{"include":"#comment"},{"include":"#type-parameters"}]},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(abstract)\\\\s+)?(new)\\\\b\\\\s*(?=\\\\()","beginCaptures":{"1":{"name":"storage.modifier.tsx"},"2":{"name":"keyword.control.new.tsx"}},"end":"(?<=\\\\))","name":"meta.type.constructor.tsx","patterns":[{"include":"#function-parameters"}]},{"begin":"((?=\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>))))))","end":"(?<=\\\\))","name":"meta.type.function.tsx","patterns":[{"include":"#function-parameters"}]}]},"type-function-return-type":{"patterns":[{"begin":"(=>)(?=\\\\s*\\\\S)","beginCaptures":{"1":{"name":"storage.type.function.arrow.tsx"}},"end":"(?<!=>)(?<![\\\\&|])(?=[]),:;=>?{}]|//|$)","name":"meta.type.function.return.tsx","patterns":[{"include":"#type-function-return-type-core"}]},{"begin":"=>","beginCaptures":{"0":{"name":"storage.type.function.arrow.tsx"}},"end":"(?<!=>)(?<![\\\\&|])((?=[]),:;=>?{}]|//|^\\\\s*$)|((?<=\\\\S)(?=\\\\s*$)))","name":"meta.type.function.return.tsx","patterns":[{"include":"#type-function-return-type-core"}]}]},"type-function-return-type-core":{"patterns":[{"include":"#comment"},{"begin":"(?<==>)(?=\\\\s*\\\\{)","end":"(?<=})","patterns":[{"include":"#type-object"}]},{"include":"#type-predicate-operator"},{"include":"#type"}]},"type-infer":{"patterns":[{"captures":{"1":{"name":"keyword.operator.expression.infer.tsx"},"2":{"name":"entity.name.type.tsx"},"3":{"name":"keyword.operator.expression.extends.tsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(infer)\\\\s+([$_[:alpha:]][$_[:alnum:]]*)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?:\\\\s+(extends)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))?","name":"meta.type.infer.tsx"}]},"type-name":{"patterns":[{"begin":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(<)","captures":{"1":{"name":"entity.name.type.module.tsx"},"2":{"name":"punctuation.accessor.tsx"},"3":{"name":"punctuation.accessor.optional.tsx"},"4":{"name":"meta.type.parameters.tsx punctuation.definition.typeparameters.begin.tsx"}},"contentName":"meta.type.parameters.tsx","end":"(>)","endCaptures":{"1":{"name":"meta.type.parameters.tsx punctuation.definition.typeparameters.end.tsx"}},"patterns":[{"include":"#type-arguments-body"}]},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(<)","beginCaptures":{"1":{"name":"entity.name.type.tsx"},"2":{"name":"meta.type.parameters.tsx punctuation.definition.typeparameters.begin.tsx"}},"contentName":"meta.type.parameters.tsx","end":"(>)","endCaptures":{"1":{"name":"meta.type.parameters.tsx punctuation.definition.typeparameters.end.tsx"}},"patterns":[{"include":"#type-arguments-body"}]},{"captures":{"1":{"name":"entity.name.type.module.tsx"},"2":{"name":"punctuation.accessor.tsx"},"3":{"name":"punctuation.accessor.optional.tsx"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))"},{"match":"[$_[:alpha:]][$_[:alnum:]]*","name":"entity.name.type.tsx"}]},"type-object":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.tsx"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.tsx"}},"name":"meta.object.type.tsx","patterns":[{"include":"#comment"},{"include":"#method-declaration"},{"include":"#indexer-declaration"},{"include":"#indexer-mapped-type-declaration"},{"include":"#field-declaration"},{"include":"#type-annotation"},{"begin":"\\\\.\\\\.\\\\.","beginCaptures":{"0":{"name":"keyword.operator.spread.tsx"}},"end":"(?=[,;}]|$)|(?<=})","patterns":[{"include":"#type"}]},{"include":"#punctuation-comma"},{"include":"#punctuation-semicolon"},{"include":"#type"}]},"type-operators":{"patterns":[{"include":"#typeof-operator"},{"include":"#type-infer"},{"begin":"([\\\\&|])(?=\\\\s*\\\\{)","beginCaptures":{"0":{"name":"keyword.operator.type.tsx"}},"end":"(?<=})","patterns":[{"include":"#type-object"}]},{"begin":"[\\\\&|]","beginCaptures":{"0":{"name":"keyword.operator.type.tsx"}},"end":"(?=\\\\S)"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))keyof(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.expression.keyof.tsx"},{"match":"([:?])","name":"keyword.operator.ternary.tsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))import(?=\\\\s*\\\\()","name":"keyword.operator.expression.import.tsx"}]},"type-parameters":{"begin":"(<)","beginCaptures":{"1":{"name":"punctuation.definition.typeparameters.begin.tsx"}},"end":"(>)","endCaptures":{"1":{"name":"punctuation.definition.typeparameters.end.tsx"}},"name":"meta.type.parameters.tsx","patterns":[{"include":"#comment"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(extends|in|out|const)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"storage.modifier.tsx"},{"include":"#type"},{"include":"#punctuation-comma"},{"match":"(=)(?!>)","name":"keyword.operator.assignment.tsx"}]},"type-paren-or-function-parameters":{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.tsx"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.tsx"}},"name":"meta.type.paren.cover.tsx","patterns":[{"captures":{"1":{"name":"storage.modifier.tsx"},"2":{"name":"keyword.operator.rest.tsx"},"3":{"name":"entity.name.function.tsx variable.language.this.tsx"},"4":{"name":"entity.name.function.tsx"},"5":{"name":"keyword.operator.optional.tsx"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))\\\\s*(\\\\??)(?=\\\\s*(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))))"},{"captures":{"1":{"name":"storage.modifier.tsx"},"2":{"name":"keyword.operator.rest.tsx"},"3":{"name":"variable.parameter.tsx variable.language.this.tsx"},"4":{"name":"variable.parameter.tsx"},"5":{"name":"keyword.operator.optional.tsx"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))\\\\s*(\\\\??)(?=:)"},{"include":"#type-annotation"},{"match":",","name":"punctuation.separator.parameter.tsx"},{"include":"#type"}]},"type-predicate-operator":{"patterns":[{"captures":{"1":{"name":"keyword.operator.type.asserts.tsx"},"2":{"name":"variable.parameter.tsx variable.language.this.tsx"},"3":{"name":"variable.parameter.tsx"},"4":{"name":"keyword.operator.expression.is.tsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(asserts)\\\\s+)?(?!asserts)(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))\\\\s(is)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"captures":{"1":{"name":"keyword.operator.type.asserts.tsx"},"2":{"name":"variable.parameter.tsx variable.language.this.tsx"},"3":{"name":"variable.parameter.tsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(asserts)\\\\s+(?!is)(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))asserts(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.type.asserts.tsx"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))is(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.expression.is.tsx"}]},"type-primitive":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(string|number|bigint|boolean|symbol|any|void|never|unknown)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"support.type.primitive.tsx"},"type-string":{"patterns":[{"include":"#qstring-single"},{"include":"#qstring-double"},{"include":"#template-type"}]},"type-tuple":{"begin":"\\\\[","beginCaptures":{"0":{"name":"meta.brace.square.tsx"}},"end":"]","endCaptures":{"0":{"name":"meta.brace.square.tsx"}},"name":"meta.type.tuple.tsx","patterns":[{"match":"\\\\.\\\\.\\\\.","name":"keyword.operator.rest.tsx"},{"captures":{"1":{"name":"entity.name.label.tsx"},"2":{"name":"keyword.operator.optional.tsx"},"3":{"name":"punctuation.separator.label.tsx"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(\\\\?)?\\\\s*(:)"},{"include":"#type"},{"include":"#punctuation-comma"}]},"typeof-operator":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))typeof(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"0":{"name":"keyword.operator.expression.typeof.tsx"}},"end":"(?=[]\\\\&),:;=>?{|}]|(extends\\\\s+)|$|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","patterns":[{"include":"#type-arguments"},{"include":"#expression"}]},"undefined-literal":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))undefined(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.undefined.tsx"},"var-expr":{"patterns":[{"begin":"(?=(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(var|let)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))","end":"(?!(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(var|let)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))((?=^|[;}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)|((?<!^let|[^$._[:alnum:]]let|^var|[^$._[:alnum:]]var)(?=\\\\s*$)))","name":"meta.var.expr.tsx","patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(var|let)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.tsx"},"2":{"name":"storage.modifier.tsx"},"3":{"name":"storage.type.tsx"}},"end":"(?=\\\\S)"},{"include":"#destructuring-variable"},{"include":"#var-single-variable"},{"include":"#variable-initializer"},{"include":"#comment"},{"begin":"(,)\\\\s*(?=$|//)","beginCaptures":{"1":{"name":"punctuation.separator.comma.tsx"}},"end":"(?<!,)(((?=[;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|^\\\\s*$))|((?<=\\\\S)(?=\\\\s*$)))","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#comment"},{"include":"#destructuring-variable"},{"include":"#var-single-variable"},{"include":"#punctuation-comma"}]},{"include":"#punctuation-comma"}]},{"begin":"(?=(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(const(?!\\\\s+enum\\\\b))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))","beginCaptures":{"1":{"name":"keyword.control.export.tsx"},"2":{"name":"storage.modifier.tsx"},"3":{"name":"storage.type.tsx"}},"end":"(?!(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(const(?!\\\\s+enum\\\\b))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))((?=^|[;}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)|((?<!(?:^|[^$._[:alnum:]])const)(?=\\\\s*$)))","name":"meta.var.expr.tsx","patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(const(?!\\\\s+enum\\\\b))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.tsx"},"2":{"name":"storage.modifier.tsx"},"3":{"name":"storage.type.tsx"}},"end":"(?=\\\\S)"},{"include":"#destructuring-const"},{"include":"#var-single-const"},{"include":"#variable-initializer"},{"include":"#comment"},{"begin":"(,)\\\\s*(?=$|//)","beginCaptures":{"1":{"name":"punctuation.separator.comma.tsx"}},"end":"(?<!,)(((?=[;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|^\\\\s*$))|((?<=\\\\S)(?=\\\\s*$)))","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#comment"},{"include":"#destructuring-const"},{"include":"#var-single-const"},{"include":"#punctuation-comma"}]},{"include":"#punctuation-comma"}]},{"begin":"(?=(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b\\\\b(using(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])|await\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b)\\\\b(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))","beginCaptures":{"1":{"name":"keyword.control.export.tsx"},"2":{"name":"storage.modifier.tsx"},"3":{"name":"storage.type.tsx"}},"end":"(?!(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b\\\\b(using(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])|await\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b)\\\\b(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))((?=[;}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)|((?<!(?:^|[^$._[:alnum:]]|^await\\\\s+|[^$._[:alnum:]]await\\\\s+)using)(?=\\\\s*$)))","name":"meta.var.expr.tsx","patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b\\\\b(using(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])|await\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b)\\\\b(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.tsx"},"2":{"name":"storage.modifier.tsx"},"3":{"name":"storage.type.tsx"}},"end":"(?=\\\\S)"},{"include":"#var-single-const"},{"include":"#variable-initializer"},{"include":"#comment"},{"begin":"(,)\\\\s*((?!\\\\S)|(?=//))","beginCaptures":{"1":{"name":"punctuation.separator.comma.tsx"}},"end":"(?<!,)(((?=[;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|^\\\\s*$))|((?<=\\\\S)(?=\\\\s*$)))","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#comment"},{"include":"#var-single-const"},{"include":"#punctuation-comma"}]},{"include":"#punctuation-comma"}]}]},"var-single-const":{"patterns":[{"begin":"([$_[:alpha:]][$_[:alnum:]]*)(?=\\\\s*(=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))|(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))))|(:\\\\s*(=>|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(<[^<>]*>)|[^(),<=>])+=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>))))))","beginCaptures":{"1":{"name":"meta.definition.variable.tsx variable.other.constant.tsx entity.name.function.tsx"}},"end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|(;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b))","name":"meta.var-single-variable.expr.tsx","patterns":[{"include":"#var-single-variable-type-annotation"}]},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)","beginCaptures":{"1":{"name":"meta.definition.variable.tsx variable.other.constant.tsx"}},"end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|(;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b))","name":"meta.var-single-variable.expr.tsx","patterns":[{"include":"#var-single-variable-type-annotation"}]}]},"var-single-variable":{"patterns":[{"begin":"([$_[:alpha:]][$_[:alnum:]]*)(!)?(?=\\\\s*(=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))|(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))))|(:\\\\s*(=>|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(<[^<>]*>)|[^(),<=>])+=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|(\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|(<\\\\s*[$_[:alpha:]][$_[:alnum:]]*\\\\s+extends\\\\s*[^=>])|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"'()\`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|('([^'\\\\\\\\]|\\\\\\\\.)*')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(\`([^\\\\\\\\\`]|\\\\\\\\.)*\`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>))))))","beginCaptures":{"1":{"name":"meta.definition.variable.tsx entity.name.function.tsx"},"2":{"name":"keyword.operator.definiteassignment.tsx"}},"end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|(;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b))","name":"meta.var-single-variable.expr.tsx","patterns":[{"include":"#var-single-variable-type-annotation"}]},{"begin":"(\\\\p{upper}[$_\\\\d[:upper:]]*)(?![$_[:alnum:]])(!)?","beginCaptures":{"1":{"name":"meta.definition.variable.tsx variable.other.constant.tsx"},"2":{"name":"keyword.operator.definiteassignment.tsx"}},"end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|(;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b))","name":"meta.var-single-variable.expr.tsx","patterns":[{"include":"#var-single-variable-type-annotation"}]},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)(!)?","beginCaptures":{"1":{"name":"meta.definition.variable.tsx variable.other.readwrite.tsx"},"2":{"name":"keyword.operator.definiteassignment.tsx"}},"end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|(;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b))","name":"meta.var-single-variable.expr.tsx","patterns":[{"include":"#var-single-variable-type-annotation"}]}]},"var-single-variable-type-annotation":{"patterns":[{"include":"#type-annotation"},{"include":"#string"},{"include":"#comment"}]},"variable-initializer":{"patterns":[{"begin":"(?<![!=])(=)(?!=)(?=\\\\s*\\\\S)(?!\\\\s*.*=>\\\\s*$)","beginCaptures":{"1":{"name":"keyword.operator.assignment.tsx"}},"end":"(?=$|^|[]),;}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))","patterns":[{"include":"#expression"}]},{"begin":"(?<![!=])(=)(?!=)","beginCaptures":{"1":{"name":"keyword.operator.assignment.tsx"}},"end":"(?=[]),;}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))|(?=^\\\\s*$)|(?<![-\\\\&*+/|])(?<=\\\\S)(?<!=)(?=\\\\s*$)","patterns":[{"include":"#expression"}]}]}},"scopeName":"source.tsx"}`)),Az=[N9e],LQe=Object.freeze(Object.defineProperty({__proto__:null,default:Az},Symbol.toStringTag,{value:"Module"})),$9e=Object.freeze(JSON.parse('{"displayName":"TypeScript","name":"typescript","patterns":[{"include":"#directives"},{"include":"#statements"},{"include":"#shebang"}],"repository":{"access-modifier":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(abstract|declare|override|public|protected|private|readonly|static)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"storage.modifier.ts"},"after-operator-block-as-object-literal":{"begin":"(?<!\\\\+\\\\+|--)(?<=[!(+,:=>?\\\\[]|^await|[^$._[:alnum:]]await|^return|[^$._[:alnum:]]return|^yield|[^$._[:alnum:]]yield|^throw|[^$._[:alnum:]]throw|^in|[^$._[:alnum:]]in|^of|[^$._[:alnum:]]of|^typeof|[^$._[:alnum:]]typeof|&&|\\\\|\\\\||\\\\*)\\\\s*(\\\\{)","beginCaptures":{"1":{"name":"punctuation.definition.block.ts"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.ts"}},"name":"meta.objectliteral.ts","patterns":[{"include":"#object-member"}]},"array-binding-pattern":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\[)","beginCaptures":{"1":{"name":"keyword.operator.rest.ts"},"2":{"name":"punctuation.definition.binding-pattern.array.ts"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.array.ts"}},"patterns":[{"include":"#binding-element"},{"include":"#punctuation-comma"}]},"array-binding-pattern-const":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\[)","beginCaptures":{"1":{"name":"keyword.operator.rest.ts"},"2":{"name":"punctuation.definition.binding-pattern.array.ts"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.array.ts"}},"patterns":[{"include":"#binding-element-const"},{"include":"#punctuation-comma"}]},"array-literal":{"begin":"\\\\s*(\\\\[)","beginCaptures":{"1":{"name":"meta.brace.square.ts"}},"end":"]","endCaptures":{"0":{"name":"meta.brace.square.ts"}},"name":"meta.array.literal.ts","patterns":[{"include":"#expression"},{"include":"#punctuation-comma"}]},"arrow-function":{"patterns":[{"captures":{"1":{"name":"storage.modifier.async.ts"},"2":{"name":"variable.parameter.ts"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))\\\\b(async)\\\\s+)?([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?==>)","name":"meta.arrow.ts"},{"begin":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))\\\\b(async))?((?<![]!)}])\\\\s*(?=((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"\'()`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))","beginCaptures":{"1":{"name":"storage.modifier.async.ts"}},"end":"(?==>|\\\\{|^(\\\\s*(export|function|class|interface|let|var|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|const|import|enum|namespace|module|type|abstract|declare)\\\\s+))","name":"meta.arrow.ts","patterns":[{"include":"#comment"},{"include":"#type-parameters"},{"include":"#function-parameters"},{"include":"#arrow-return-type"},{"include":"#possibly-arrow-return-type"}]},{"begin":"=>","beginCaptures":{"0":{"name":"storage.type.function.arrow.ts"}},"end":"((?<=[}\\\\S])(?<!=>)|((?!\\\\{)(?=\\\\S)))(?!/[*/])","name":"meta.arrow.ts","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#decl-block"},{"include":"#expression"}]}]},"arrow-return-type":{"begin":"(?<=\\\\))\\\\s*(:)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.ts"}},"end":"(?==>|\\\\{|^(\\\\s*(export|function|class|interface|let|var|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|const|import|enum|namespace|module|type|abstract|declare)\\\\s+))","name":"meta.return.type.arrow.ts","patterns":[{"include":"#arrow-return-type-body"}]},"arrow-return-type-body":{"patterns":[{"begin":"(?<=:)(?=\\\\s*\\\\{)","end":"(?<=})","patterns":[{"include":"#type-object"}]},{"include":"#type-predicate-operator"},{"include":"#type"}]},"async-modifier":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(async)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"storage.modifier.async.ts"},"binding-element":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#numeric-literal"},{"include":"#regex"},{"include":"#object-binding-pattern"},{"include":"#array-binding-pattern"},{"include":"#destructuring-variable-rest"},{"include":"#variable-initializer"}]},"binding-element-const":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#numeric-literal"},{"include":"#regex"},{"include":"#object-binding-pattern-const"},{"include":"#array-binding-pattern-const"},{"include":"#destructuring-variable-rest-const"},{"include":"#variable-initializer"}]},"boolean-literal":{"patterns":[{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))true(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.boolean.true.ts"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))false(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.boolean.false.ts"}]},"brackets":{"patterns":[{"begin":"\\\\{","end":"}|(?=\\\\*/)","patterns":[{"include":"#brackets"}]},{"begin":"\\\\[","end":"]|(?=\\\\*/)","patterns":[{"include":"#brackets"}]}]},"cast":{"patterns":[{"captures":{"1":{"name":"meta.brace.angle.ts"},"2":{"name":"storage.modifier.ts"},"3":{"name":"meta.brace.angle.ts"}},"match":"\\\\s*(<)\\\\s*(const)\\\\s*(>)","name":"cast.expr.ts"},{"begin":"(?<!\\\\+\\\\+|--)(?<=^return|[^$._[:alnum:]]return|^throw|[^$._[:alnum:]]throw|^yield|[^$._[:alnum:]]yield|^await|[^$._[:alnum:]]await|^default|[^$._[:alnum:]]default|[\\\\&(*,:=>?^|]|[^$_[:alnum:]](?:\\\\+\\\\+|--)|[^+]\\\\+|[^-]-)\\\\s*(<)(?!<?=)(?!\\\\s*$)","beginCaptures":{"1":{"name":"meta.brace.angle.ts"}},"end":"(>)","endCaptures":{"1":{"name":"meta.brace.angle.ts"}},"name":"cast.expr.ts","patterns":[{"include":"#type"}]},{"begin":"(?<=^)\\\\s*(<)(?=[$_[:alpha:]][$_[:alnum:]]*\\\\s*>)","beginCaptures":{"1":{"name":"meta.brace.angle.ts"}},"end":"(>)","endCaptures":{"1":{"name":"meta.brace.angle.ts"}},"name":"cast.expr.ts","patterns":[{"include":"#type"}]}]},"class-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(?:(abstract)\\\\s+)?\\\\b(class)\\\\b(?=\\\\s+|/[*/])","beginCaptures":{"1":{"name":"keyword.control.export.ts"},"2":{"name":"storage.modifier.ts"},"3":{"name":"storage.modifier.ts"},"4":{"name":"storage.type.class.ts"}},"end":"(?<=})","name":"meta.class.ts","patterns":[{"include":"#class-declaration-or-expression-patterns"}]},"class-declaration-or-expression-patterns":{"patterns":[{"include":"#comment"},{"include":"#class-or-interface-heritage"},{"captures":{"0":{"name":"entity.name.type.class.ts"}},"match":"[$_[:alpha:]][$_[:alnum:]]*"},{"include":"#type-parameters"},{"include":"#class-or-interface-body"}]},"class-expression":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(abstract)\\\\s+)?(class)\\\\b(?=\\\\s+|[<{]|/[*/])","beginCaptures":{"1":{"name":"storage.modifier.ts"},"2":{"name":"storage.type.class.ts"}},"end":"(?<=})","name":"meta.class.ts","patterns":[{"include":"#class-declaration-or-expression-patterns"}]},"class-or-interface-body":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.ts"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.ts"}},"patterns":[{"include":"#comment"},{"include":"#decorator"},{"begin":"(?<=:)\\\\s*","end":"(?=[-\\\\])+,:;}\\\\s]|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","patterns":[{"include":"#expression"}]},{"include":"#method-declaration"},{"include":"#indexer-declaration"},{"include":"#field-declaration"},{"include":"#string"},{"include":"#type-annotation"},{"include":"#variable-initializer"},{"include":"#access-modifier"},{"include":"#property-accessor"},{"include":"#async-modifier"},{"include":"#after-operator-block-as-object-literal"},{"include":"#decl-block"},{"include":"#expression"},{"include":"#punctuation-comma"},{"include":"#punctuation-semicolon"}]},"class-or-interface-heritage":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))\\\\b(extends|implements)\\\\b(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"storage.modifier.ts"}},"end":"(?=\\\\{)","patterns":[{"include":"#comment"},{"include":"#class-or-interface-heritage"},{"include":"#type-parameters"},{"include":"#expressionWithoutIdentifiers"},{"captures":{"1":{"name":"entity.name.type.module.ts"},"2":{"name":"punctuation.accessor.ts"},"3":{"name":"punctuation.accessor.optional.ts"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))(?=\\\\s*[$_[:alpha:]][$_[:alnum:]]*(\\\\s*\\\\??\\\\.\\\\s*[$_[:alpha:]][$_[:alnum:]]*)*\\\\s*)"},{"captures":{"1":{"name":"entity.other.inherited-class.ts"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)"},{"include":"#expressionPunctuations"}]},"comment":{"patterns":[{"begin":"/\\\\*\\\\*(?!/)","beginCaptures":{"0":{"name":"punctuation.definition.comment.ts"}},"end":"\\\\*/","endCaptures":{"0":{"name":"punctuation.definition.comment.ts"}},"name":"comment.block.documentation.ts","patterns":[{"include":"#docblock"}]},{"begin":"(/\\\\*)(?:\\\\s*((@)internal)(?=\\\\s|(\\\\*/)))?","beginCaptures":{"1":{"name":"punctuation.definition.comment.ts"},"2":{"name":"storage.type.internaldeclaration.ts"},"3":{"name":"punctuation.decorator.internaldeclaration.ts"}},"end":"\\\\*/","endCaptures":{"0":{"name":"punctuation.definition.comment.ts"}},"name":"comment.block.ts"},{"begin":"(^[\\\\t ]+)?((//)(?:\\\\s*((@)internal)(?=\\\\s|$))?)","beginCaptures":{"1":{"name":"punctuation.whitespace.comment.leading.ts"},"2":{"name":"comment.line.double-slash.ts"},"3":{"name":"punctuation.definition.comment.ts"},"4":{"name":"storage.type.internaldeclaration.ts"},"5":{"name":"punctuation.decorator.internaldeclaration.ts"}},"contentName":"comment.line.double-slash.ts","end":"(?=$)"}]},"control-statement":{"patterns":[{"include":"#switch-statement"},{"include":"#for-loop"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(catch|finally|throw|try)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.trycatch.ts"},{"captures":{"1":{"name":"keyword.control.loop.ts"},"2":{"name":"entity.name.label.ts"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(break|continue|goto)\\\\s+([$_[:alpha:]][$_[:alnum:]]*)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(break|continue|do|goto|while)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.loop.ts"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(return)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"0":{"name":"keyword.control.flow.ts"}},"end":"(?=[;}]|$|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","patterns":[{"include":"#expression"}]},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(case|default|switch)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.switch.ts"},{"include":"#if-statement"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(else|if)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.conditional.ts"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(with)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.with.ts"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(package)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.ts"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(debugger)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.other.debugger.ts"}]},"decl-block":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.ts"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.ts"}},"name":"meta.block.ts","patterns":[{"include":"#statements"}]},"declaration":{"patterns":[{"include":"#decorator"},{"include":"#var-expr"},{"include":"#function-declaration"},{"include":"#class-declaration"},{"include":"#interface-declaration"},{"include":"#enum-declaration"},{"include":"#namespace-declaration"},{"include":"#type-alias-declaration"},{"include":"#import-equals-declaration"},{"include":"#import-declaration"},{"include":"#export-declaration"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(declare|export)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"storage.modifier.ts"}]},"decorator":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))@","beginCaptures":{"0":{"name":"punctuation.decorator.ts"}},"end":"(?=\\\\s)","name":"meta.decorator.ts","patterns":[{"include":"#expression"}]},"destructuring-const":{"patterns":[{"begin":"(?<![:=]|^of|[^$._[:alnum:]]of|^in|[^$._[:alnum:]]in)\\\\s*(?=\\\\{)","end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))","name":"meta.object-binding-pattern-variable.ts","patterns":[{"include":"#object-binding-pattern-const"},{"include":"#type-annotation"},{"include":"#comment"}]},{"begin":"(?<![:=]|^of|[^$._[:alnum:]]of|^in|[^$._[:alnum:]]in)\\\\s*(?=\\\\[)","end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))","name":"meta.array-binding-pattern-variable.ts","patterns":[{"include":"#array-binding-pattern-const"},{"include":"#type-annotation"},{"include":"#comment"}]}]},"destructuring-parameter":{"patterns":[{"begin":"(?<![:=])\\\\s*(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\{)","beginCaptures":{"1":{"name":"keyword.operator.rest.ts"},"2":{"name":"punctuation.definition.binding-pattern.object.ts"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.object.ts"}},"name":"meta.parameter.object-binding-pattern.ts","patterns":[{"include":"#parameter-object-binding-element"}]},{"begin":"(?<![:=])\\\\s*(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\[)","beginCaptures":{"1":{"name":"keyword.operator.rest.ts"},"2":{"name":"punctuation.definition.binding-pattern.array.ts"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.array.ts"}},"name":"meta.paramter.array-binding-pattern.ts","patterns":[{"include":"#parameter-binding-element"},{"include":"#punctuation-comma"}]}]},"destructuring-parameter-rest":{"captures":{"1":{"name":"keyword.operator.rest.ts"},"2":{"name":"variable.parameter.ts"}},"match":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?([$_[:alpha:]][$_[:alnum:]]*)"},"destructuring-variable":{"patterns":[{"begin":"(?<![:=]|^of|[^$._[:alnum:]]of|^in|[^$._[:alnum:]]in)\\\\s*(?=\\\\{)","end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))","name":"meta.object-binding-pattern-variable.ts","patterns":[{"include":"#object-binding-pattern"},{"include":"#type-annotation"},{"include":"#comment"}]},{"begin":"(?<![:=]|^of|[^$._[:alnum:]]of|^in|[^$._[:alnum:]]in)\\\\s*(?=\\\\[)","end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))","name":"meta.array-binding-pattern-variable.ts","patterns":[{"include":"#array-binding-pattern"},{"include":"#type-annotation"},{"include":"#comment"}]}]},"destructuring-variable-rest":{"captures":{"1":{"name":"keyword.operator.rest.ts"},"2":{"name":"meta.definition.variable.ts variable.other.readwrite.ts"}},"match":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?([$_[:alpha:]][$_[:alnum:]]*)"},"destructuring-variable-rest-const":{"captures":{"1":{"name":"keyword.operator.rest.ts"},"2":{"name":"meta.definition.variable.ts variable.other.constant.ts"}},"match":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?([$_[:alpha:]][$_[:alnum:]]*)"},"directives":{"begin":"^(///)\\\\s*(?=<(reference|amd-dependency|amd-module)(\\\\s+(path|types|no-default-lib|lib|name|resolution-mode)\\\\s*=\\\\s*((\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`)))+\\\\s*/>\\\\s*$)","beginCaptures":{"1":{"name":"punctuation.definition.comment.ts"}},"end":"(?=$)","name":"comment.line.triple-slash.directive.ts","patterns":[{"begin":"(<)(reference|amd-dependency|amd-module)","beginCaptures":{"1":{"name":"punctuation.definition.tag.directive.ts"},"2":{"name":"entity.name.tag.directive.ts"}},"end":"/>","endCaptures":{"0":{"name":"punctuation.definition.tag.directive.ts"}},"name":"meta.tag.ts","patterns":[{"match":"path|types|no-default-lib|lib|name|resolution-mode","name":"entity.other.attribute-name.directive.ts"},{"match":"=","name":"keyword.operator.assignment.ts"},{"include":"#string"}]}]},"docblock":{"patterns":[{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"constant.language.access-type.jsdoc"}},"match":"((@)a(?:ccess|pi))\\\\s+(p(?:rivate|rotected|ublic))\\\\b"},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"entity.name.type.instance.jsdoc"},"4":{"name":"punctuation.definition.bracket.angle.begin.jsdoc"},"5":{"name":"constant.other.email.link.underline.jsdoc"},"6":{"name":"punctuation.definition.bracket.angle.end.jsdoc"}},"match":"((@)author)\\\\s+([^*/<>@\\\\s](?:[^*/<>@]|\\\\*[^/])*)(?:\\\\s*(<)([^>\\\\s]+)(>))?"},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"entity.name.type.instance.jsdoc"},"4":{"name":"keyword.operator.control.jsdoc"},"5":{"name":"entity.name.type.instance.jsdoc"}},"match":"((@)borrows)\\\\s+((?:[^*/@\\\\s]|\\\\*[^/])+)\\\\s+(as)\\\\s+((?:[^*/@\\\\s]|\\\\*[^/])+)"},{"begin":"((@)example)\\\\s+","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=@|\\\\*/)","name":"meta.example.jsdoc","patterns":[{"match":"^\\\\s\\\\*\\\\s+"},{"begin":"\\\\G(<)caption(>)","beginCaptures":{"0":{"name":"entity.name.tag.inline.jsdoc"},"1":{"name":"punctuation.definition.bracket.angle.begin.jsdoc"},"2":{"name":"punctuation.definition.bracket.angle.end.jsdoc"}},"contentName":"constant.other.description.jsdoc","end":"(</)caption(>)|(?=\\\\*/)","endCaptures":{"0":{"name":"entity.name.tag.inline.jsdoc"},"1":{"name":"punctuation.definition.bracket.angle.begin.jsdoc"},"2":{"name":"punctuation.definition.bracket.angle.end.jsdoc"}}},{"captures":{"0":{"name":"source.embedded.ts"}},"match":"[^*@\\\\s](?:[^*]|\\\\*[^/])*"}]},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"constant.language.symbol-type.jsdoc"}},"match":"((@)kind)\\\\s+(class|constant|event|external|file|function|member|mixin|module|namespace|typedef)\\\\b"},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.link.underline.jsdoc"},"4":{"name":"entity.name.type.instance.jsdoc"}},"match":"((@)see)\\\\s+(?:((?=https?://)(?:[^*\\\\s]|\\\\*[^/])+)|((?!https?://|(?:\\\\[[^]\\\\[]*])?\\\\{@(?:link|linkcode|linkplain|tutorial)\\\\b)(?:[^*/@\\\\s]|\\\\*[^/])+))"},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.jsdoc"}},"match":"((@)template)\\\\s+([$A-Z_a-z][]$.\\\\[\\\\w]*(?:\\\\s*,\\\\s*[$A-Z_a-z][]$.\\\\[\\\\w]*)*)"},{"begin":"((@)template)\\\\s+(?=\\\\{)","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=\\\\s|\\\\*/|[^]$A-\\\\[_a-{}])","patterns":[{"include":"#jsdoctype"},{"match":"([$A-Z_a-z][]$.\\\\[\\\\w]*)","name":"variable.other.jsdoc"}]},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.jsdoc"}},"match":"((@)(?:arg|argument|const|constant|member|namespace|param|var))\\\\s+([$A-Z_a-z][]$.\\\\[\\\\w]*)"},{"begin":"((@)typedef)\\\\s+(?=\\\\{)","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=\\\\s|\\\\*/|[^]$A-\\\\[_a-{}])","patterns":[{"include":"#jsdoctype"},{"match":"(?:[^*/@\\\\s]|\\\\*[^/])+","name":"entity.name.type.instance.jsdoc"}]},{"begin":"((@)(?:arg|argument|const|constant|member|namespace|param|prop|property|var))\\\\s+(?=\\\\{)","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=\\\\s|\\\\*/|[^]$A-\\\\[_a-{}])","patterns":[{"include":"#jsdoctype"},{"match":"([$A-Z_a-z][]$.\\\\[\\\\w]*)","name":"variable.other.jsdoc"},{"captures":{"1":{"name":"punctuation.definition.optional-value.begin.bracket.square.jsdoc"},"2":{"name":"keyword.operator.assignment.jsdoc"},"3":{"name":"source.embedded.ts"},"4":{"name":"punctuation.definition.optional-value.end.bracket.square.jsdoc"},"5":{"name":"invalid.illegal.syntax.jsdoc"}},"match":"(\\\\[)\\\\s*[$\\\\w]+(?:(?:\\\\[])?\\\\.[$\\\\w]+)*(?:\\\\s*(=)\\\\s*((?>\\"(?:\\\\*(?!/)|\\\\\\\\(?!\\")|[^*\\\\\\\\])*?\\"|\'(?:\\\\*(?!/)|\\\\\\\\(?!\')|[^*\\\\\\\\])*?\'|\\\\[(?:\\\\*(?!/)|[^*])*?]|(?:\\\\*(?!/)|\\\\s(?!\\\\s*])|\\\\[.*?(?:]|(?=\\\\*/))|[^]*\\\\[\\\\s])*)*))?\\\\s*(?:(])((?:[^*\\\\s]|\\\\*[^/\\\\s])+)?|(?=\\\\*/))","name":"variable.other.jsdoc"}]},{"begin":"((@)(?:define|enum|exception|export|extends|lends|implements|modifies|namespace|private|protected|returns?|satisfies|suppress|this|throws|type|yields?))\\\\s+(?=\\\\{)","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"end":"(?=\\\\s|\\\\*/|[^]$A-\\\\[_a-{}])","patterns":[{"include":"#jsdoctype"}]},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"entity.name.type.instance.jsdoc"}},"match":"((@)(?:alias|augments|callback|constructs|emits|event|fires|exports?|extends|external|function|func|host|lends|listens|interface|memberof!?|method|module|mixes|mixin|name|requires|see|this|typedef|uses))\\\\s+((?:[^*@{}\\\\s]|\\\\*[^/])+)"},{"begin":"((@)(?:default(?:value)?|license|version))\\\\s+(([\\"\']))","beginCaptures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.jsdoc"},"4":{"name":"punctuation.definition.string.begin.jsdoc"}},"contentName":"variable.other.jsdoc","end":"(\\\\3)|(?=$|\\\\*/)","endCaptures":{"0":{"name":"variable.other.jsdoc"},"1":{"name":"punctuation.definition.string.end.jsdoc"}}},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"},"3":{"name":"variable.other.jsdoc"}},"match":"((@)(?:default(?:value)?|license|tutorial|variation|version))\\\\s+([^*\\\\s]+)"},{"captures":{"1":{"name":"punctuation.definition.block.tag.jsdoc"}},"match":"(@)(?:abstract|access|alias|api|arg|argument|async|attribute|augments|author|beta|borrows|bubbles|callback|chainable|class|classdesc|code|config|const|constant|constructor|constructs|copyright|default|defaultvalue|define|deprecated|desc|description|dict|emits|enum|event|example|exception|exports?|extends|extension(?:_?for)?|external|externs|file|fileoverview|final|fires|for|func|function|generator|global|hideconstructor|host|ignore|implements|implicitCast|inherit[Dd]oc|inner|instance|interface|internal|kind|lends|license|listens|main|member|memberof!?|method|mixes|mixins?|modifies|module|name|namespace|noalias|nocollapse|nocompile|nosideeffects|override|overview|package|param|polymer(?:Behavior)?|preserve|private|prop|property|protected|public|read[Oo]nly|record|require[ds]|returns?|see|since|static|struct|submodule|summary|suppress|template|this|throws|todo|tutorial|type|typedef|unrestricted|uses|var|variation|version|virtual|writeOnce|yields?)\\\\b","name":"storage.type.class.jsdoc"},{"include":"#inline-tags"},{"captures":{"1":{"name":"storage.type.class.jsdoc"},"2":{"name":"punctuation.definition.block.tag.jsdoc"}},"match":"((@)[$_[:alpha:]][$_[:alnum:]]*)(?=\\\\s+)"}]},"enum-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?(?:\\\\b(const)\\\\s+)?\\\\b(enum)\\\\s+([$_[:alpha:]][$_[:alnum:]]*)","beginCaptures":{"1":{"name":"keyword.control.export.ts"},"2":{"name":"storage.modifier.ts"},"3":{"name":"storage.modifier.ts"},"4":{"name":"storage.type.enum.ts"},"5":{"name":"entity.name.type.enum.ts"}},"end":"(?<=})","name":"meta.enum.declaration.ts","patterns":[{"include":"#comment"},{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.ts"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.ts"}},"patterns":[{"include":"#comment"},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)","beginCaptures":{"0":{"name":"variable.other.enummember.ts"}},"end":"(?=[,}]|$)","patterns":[{"include":"#comment"},{"include":"#variable-initializer"}]},{"begin":"(?=((\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+])))","end":"(?=[,}]|$)","patterns":[{"include":"#string"},{"include":"#array-literal"},{"include":"#comment"},{"include":"#variable-initializer"}]},{"include":"#punctuation-comma"}]}]},"export-declaration":{"patterns":[{"captures":{"1":{"name":"keyword.control.export.ts"},"2":{"name":"keyword.control.as.ts"},"3":{"name":"storage.type.namespace.ts"},"4":{"name":"entity.name.type.module.ts"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(export)\\\\s+(as)\\\\s+(namespace)\\\\s+([$_[:alpha:]][$_[:alnum:]]*)"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(export)(?:\\\\s+(type))?(?:\\\\s*(=)|\\\\s+(default)(?=\\\\s+))","beginCaptures":{"1":{"name":"keyword.control.export.ts"},"2":{"name":"keyword.control.type.ts"},"3":{"name":"keyword.operator.assignment.ts"},"4":{"name":"keyword.control.default.ts"}},"end":"(?=$|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","name":"meta.export.default.ts","patterns":[{"include":"#interface-declaration"},{"include":"#expression"}]},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(export)(?:\\\\s+(type))?\\\\b(?!(\\\\$)|(\\\\s*:))((?=\\\\s*[*{])|((?=\\\\s*[$_[:alpha:]][$_[:alnum:]]*([,\\\\s]))(?!\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)))","beginCaptures":{"1":{"name":"keyword.control.export.ts"},"2":{"name":"keyword.control.type.ts"}},"end":"(?=$|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","name":"meta.export.ts","patterns":[{"include":"#import-export-declaration"}]}]},"expression":{"patterns":[{"include":"#expressionWithoutIdentifiers"},{"include":"#identifiers"},{"include":"#expressionPunctuations"}]},"expression-inside-possibly-arrow-parens":{"patterns":[{"include":"#expressionWithoutIdentifiers"},{"include":"#comment"},{"include":"#string"},{"include":"#decorator"},{"include":"#destructuring-parameter"},{"captures":{"1":{"name":"storage.modifier.ts"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|protected|private|readonly)\\\\s+(?=(override|public|protected|private|readonly)\\\\s+)"},{"captures":{"1":{"name":"storage.modifier.ts"},"2":{"name":"keyword.operator.rest.ts"},"3":{"name":"entity.name.function.ts variable.language.this.ts"},"4":{"name":"entity.name.function.ts"},"5":{"name":"keyword.operator.optional.ts"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*(\\\\??)(?=\\\\s*(=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"\'()`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))|(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))))|(:\\\\s*(=>|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(<[^<>]*>)|[^(),<=>])+=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"\'()`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>))))))"},{"captures":{"1":{"name":"storage.modifier.ts"},"2":{"name":"keyword.operator.rest.ts"},"3":{"name":"variable.parameter.ts variable.language.this.ts"},"4":{"name":"variable.parameter.ts"},"5":{"name":"keyword.operator.optional.ts"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*(\\\\??)(?=\\\\s*[,:]|$)"},{"include":"#type-annotation"},{"include":"#variable-initializer"},{"match":",","name":"punctuation.separator.parameter.ts"},{"include":"#identifiers"},{"include":"#expressionPunctuations"}]},"expression-operators":{"patterns":[{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(await)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.control.flow.ts"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(yield)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?=\\\\s*/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*\\\\*)","beginCaptures":{"1":{"name":"keyword.control.flow.ts"}},"end":"\\\\*","endCaptures":{"0":{"name":"keyword.generator.asterisk.ts"}},"patterns":[{"include":"#comment"}]},{"captures":{"1":{"name":"keyword.control.flow.ts"},"2":{"name":"keyword.generator.asterisk.ts"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(yield)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?:\\\\s*(\\\\*))?"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))delete(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.expression.delete.ts"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))in(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?!\\\\()","name":"keyword.operator.expression.in.ts"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))of(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?!\\\\()","name":"keyword.operator.expression.of.ts"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))instanceof(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.expression.instanceof.ts"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))new(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.new.ts"},{"include":"#typeof-operator"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))void(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.expression.void.ts"},{"captures":{"1":{"name":"keyword.control.as.ts"},"2":{"name":"storage.modifier.ts"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as)\\\\s+(const)(?=\\\\s*($|[]),:;}]))"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(as)|(satisfies))\\\\s+","beginCaptures":{"1":{"name":"keyword.control.as.ts"},"2":{"name":"keyword.control.satisfies.ts"}},"end":"(?=^|[-\\\\])+,:;>?}]|\\\\|\\\\||&&|!==|$|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as|satisfies)\\\\s+)|(\\\\s+<))","patterns":[{"include":"#type"}]},{"match":"\\\\.\\\\.\\\\.","name":"keyword.operator.spread.ts"},{"match":"(?:\\\\*|(?<!\\\\()/|[-%+])=","name":"keyword.operator.assignment.compound.ts"},{"match":"(?:[\\\\&^]|<<|>>>??|\\\\|)=","name":"keyword.operator.assignment.compound.bitwise.ts"},{"match":"<<|>>>?","name":"keyword.operator.bitwise.shift.ts"},{"match":"[!=]==?","name":"keyword.operator.comparison.ts"},{"match":"<=|>=|<>|[<>]","name":"keyword.operator.relational.ts"},{"captures":{"1":{"name":"keyword.operator.logical.ts"},"2":{"name":"keyword.operator.assignment.compound.ts"},"3":{"name":"keyword.operator.arithmetic.ts"}},"match":"(?<=[$_[:alnum:]])(!)\\\\s*(?:(/=)|(/)(?![*/]))"},{"match":"!|&&|\\\\|\\\\||\\\\?\\\\?","name":"keyword.operator.logical.ts"},{"match":"[\\\\&^|~]","name":"keyword.operator.bitwise.ts"},{"match":"=","name":"keyword.operator.assignment.ts"},{"match":"--","name":"keyword.operator.decrement.ts"},{"match":"\\\\+\\\\+","name":"keyword.operator.increment.ts"},{"match":"[-%*+/]","name":"keyword.operator.arithmetic.ts"},{"begin":"(?<=[]$)_[:alnum:]])\\\\s*(?=(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)+(?:(/=)|(/)(?![*/])))","end":"(/=)|(/)(?!\\\\*([^*]|(\\\\*[^/]))*\\\\*/)","endCaptures":{"1":{"name":"keyword.operator.assignment.compound.ts"},"2":{"name":"keyword.operator.arithmetic.ts"}},"patterns":[{"include":"#comment"}]},{"captures":{"1":{"name":"keyword.operator.assignment.compound.ts"},"2":{"name":"keyword.operator.arithmetic.ts"}},"match":"(?<=[]$)_[:alnum:]])\\\\s*(?:(/=)|(/)(?![*/]))"}]},"expressionPunctuations":{"patterns":[{"include":"#punctuation-comma"},{"include":"#punctuation-accessor"}]},"expressionWithoutIdentifiers":{"patterns":[{"include":"#string"},{"include":"#regex"},{"include":"#comment"},{"include":"#function-expression"},{"include":"#class-expression"},{"include":"#arrow-function"},{"include":"#paren-expression-possibly-arrow"},{"include":"#cast"},{"include":"#ternary-expression"},{"include":"#new-expr"},{"include":"#instanceof-expr"},{"include":"#object-literal"},{"include":"#expression-operators"},{"include":"#function-call"},{"include":"#literal"},{"include":"#support-objects"},{"include":"#paren-expression"}]},"field-declaration":{"begin":"(?<!\\\\()(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(readonly)\\\\s+)?(?=\\\\s*(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|(#?[$_[:alpha:]][$_[:alnum:]]*)|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(?:(?:(\\\\?)|(!))\\\\s*)?([,:;=}]|$))","beginCaptures":{"1":{"name":"storage.modifier.ts"}},"end":"(?=[,;}]|$|^((?!\\\\s*(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|(#?[$_[:alpha:]][$_[:alnum:]]*)|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(?:(?:(\\\\?)|(!))\\\\s*)?([,:;=]|$))))|(?<=})","name":"meta.field.declaration.ts","patterns":[{"include":"#variable-initializer"},{"include":"#type-annotation"},{"include":"#string"},{"include":"#array-literal"},{"include":"#numeric-literal"},{"include":"#comment"},{"captures":{"1":{"name":"meta.definition.property.ts entity.name.function.ts"},"2":{"name":"keyword.operator.optional.ts"},"3":{"name":"keyword.operator.definiteassignment.ts"}},"match":"(#?[$_[:alpha:]][$_[:alnum:]]*)(?:(\\\\?)|(!))?(?=\\\\s*\\\\s*(=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"\'()`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))|(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))))|(:\\\\s*(=>|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(<[^<>]*>)|[^(),<=>])+=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"\'()`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>))))))"},{"match":"#?[$_[:alpha:]][$_[:alnum:]]*","name":"meta.definition.property.ts variable.object.property.ts"},{"match":"\\\\?","name":"keyword.operator.optional.ts"},{"match":"!","name":"keyword.operator.definiteassignment.ts"}]},"for-loop":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))for(?=((\\\\s+|(\\\\s*/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*))await)?\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)?(\\\\())","beginCaptures":{"0":{"name":"keyword.control.loop.ts"}},"end":"(?<=\\\\))","patterns":[{"include":"#comment"},{"match":"await","name":"keyword.control.loop.ts"},{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.ts"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.ts"}},"patterns":[{"include":"#var-expr"},{"include":"#expression"},{"include":"#punctuation-semicolon"}]}]},"function-body":{"patterns":[{"include":"#comment"},{"include":"#type-parameters"},{"include":"#function-parameters"},{"include":"#return-type"},{"include":"#type-function-return-type"},{"include":"#decl-block"},{"match":"\\\\*","name":"keyword.generator.asterisk.ts"}]},"function-call":{"patterns":[{"begin":"(?=(((([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))|(?<=\\\\)))\\\\s*(?:(\\\\?\\\\.\\\\s*)|(!))?((<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)?\\\\())","end":"(?<=\\\\))(?!(((([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))|(?<=\\\\)))\\\\s*(?:(\\\\?\\\\.\\\\s*)|(!))?((<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)?\\\\())","patterns":[{"begin":"(?=(([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))","end":"(?=\\\\s*(?:(\\\\?\\\\.\\\\s*)|(!))?((<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)?\\\\())","name":"meta.function-call.ts","patterns":[{"include":"#function-call-target"}]},{"include":"#comment"},{"include":"#function-call-optionals"},{"include":"#type-arguments"},{"include":"#paren-expression"}]},{"begin":"(?=(((([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))|(?<=\\\\)))(<\\\\s*[(\\\\[{]\\\\s*)$)","end":"(?<=>)(?!(((([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))|(?<=\\\\)))(<\\\\s*[(\\\\[{]\\\\s*)$)","patterns":[{"begin":"(?=(([$_[:alpha:]][$_[:alnum:]]*)(\\\\s*\\\\??\\\\.\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*))*)|(\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*))","end":"(?=(<\\\\s*[(\\\\[{]\\\\s*)$)","name":"meta.function-call.ts","patterns":[{"include":"#function-call-target"}]},{"include":"#comment"},{"include":"#function-call-optionals"},{"include":"#type-arguments"}]}]},"function-call-optionals":{"patterns":[{"match":"\\\\?\\\\.","name":"meta.function-call.ts punctuation.accessor.optional.ts"},{"match":"!","name":"meta.function-call.ts keyword.operator.definiteassignment.ts"}]},"function-call-target":{"patterns":[{"include":"#support-function-call-identifiers"},{"match":"(#?[$_[:alpha:]][$_[:alnum:]]*)","name":"entity.name.function.ts"}]},"function-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?(?:(async)\\\\s+)?(function)\\\\b(?:\\\\s*(\\\\*))?(?:(?:\\\\s+|(?<=\\\\*))([$_[:alpha:]][$_[:alnum:]]*))?\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.ts"},"2":{"name":"storage.modifier.ts"},"3":{"name":"storage.modifier.async.ts"},"4":{"name":"storage.type.function.ts"},"5":{"name":"keyword.generator.asterisk.ts"},"6":{"name":"meta.definition.function.ts entity.name.function.ts"}},"end":"(?=;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)|(?<=})","name":"meta.function.ts","patterns":[{"include":"#function-name"},{"include":"#function-body"}]},"function-expression":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(async)\\\\s+)?(function)\\\\b(?:\\\\s*(\\\\*))?(?:(?:\\\\s+|(?<=\\\\*))([$_[:alpha:]][$_[:alnum:]]*))?\\\\s*","beginCaptures":{"1":{"name":"storage.modifier.async.ts"},"2":{"name":"storage.type.function.ts"},"3":{"name":"keyword.generator.asterisk.ts"},"4":{"name":"meta.definition.function.ts entity.name.function.ts"}},"end":"(?=;)|(?<=})","name":"meta.function.expression.ts","patterns":[{"include":"#function-name"},{"include":"#single-line-comment-consuming-line-ending"},{"include":"#function-body"}]},"function-name":{"match":"[$_[:alpha:]][$_[:alnum:]]*","name":"meta.definition.function.ts entity.name.function.ts"},"function-parameters":{"begin":"\\\\(","beginCaptures":{"0":{"name":"punctuation.definition.parameters.begin.ts"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.parameters.end.ts"}},"name":"meta.parameters.ts","patterns":[{"include":"#function-parameters-body"}]},"function-parameters-body":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#decorator"},{"include":"#destructuring-parameter"},{"include":"#parameter-name"},{"include":"#parameter-type-annotation"},{"include":"#variable-initializer"},{"match":",","name":"punctuation.separator.parameter.ts"}]},"identifiers":{"patterns":[{"include":"#object-identifiers"},{"captures":{"1":{"name":"punctuation.accessor.ts"},"2":{"name":"punctuation.accessor.optional.ts"},"3":{"name":"entity.name.function.ts"}},"match":"(?:(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*)?([$_[:alpha:]][$_[:alnum:]]*)(?=\\\\s*=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"\'()`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))"},{"captures":{"1":{"name":"punctuation.accessor.ts"},"2":{"name":"punctuation.accessor.optional.ts"},"3":{"name":"variable.other.constant.property.ts"}},"match":"(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(#?\\\\p{upper}[$_\\\\d[:upper:]]*)(?![$_[:alnum:]])"},{"captures":{"1":{"name":"punctuation.accessor.ts"},"2":{"name":"punctuation.accessor.optional.ts"},"3":{"name":"variable.other.property.ts"}},"match":"(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(#?[$_[:alpha:]][$_[:alnum:]]*)"},{"match":"(\\\\p{upper}[$_\\\\d[:upper:]]*)(?![$_[:alnum:]])","name":"variable.other.constant.ts"},{"match":"[$_[:alpha:]][$_[:alnum:]]*","name":"variable.other.readwrite.ts"}]},"if-statement":{"patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?=\\\\bif\\\\s*(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))\\\\s*(?!\\\\{))","end":"(?=;|$|})","patterns":[{"include":"#comment"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(if)\\\\s*(\\\\()","beginCaptures":{"1":{"name":"keyword.control.conditional.ts"},"2":{"name":"meta.brace.round.ts"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.ts"}},"patterns":[{"include":"#expression"}]},{"begin":"(?<=\\\\))\\\\s*/(?![*/])(?=(?:[^/\\\\[\\\\\\\\]|\\\\\\\\.|\\\\[([^]\\\\\\\\]|\\\\\\\\.)*])+/([dgimsuvy]+|(?![*/])|(?=/\\\\*))(?!\\\\s*[$0-9A-Z_a-z]))","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.ts"}},"end":"(/)([dgimsuvy]*)","endCaptures":{"1":{"name":"punctuation.definition.string.end.ts"},"2":{"name":"keyword.other.ts"}},"name":"string.regexp.ts","patterns":[{"include":"#regexp"}]},{"include":"#statements"}]}]},"import-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(import)(?:\\\\s+(type)(?!\\\\s+from))?(?!\\\\s*[(:])(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.control.export.ts"},"2":{"name":"storage.modifier.ts"},"3":{"name":"keyword.control.import.ts"},"4":{"name":"keyword.control.type.ts"}},"end":"(?<!(?:^|[^$._[:alnum:]])import)(?=;|$|^)","name":"meta.import.ts","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#comment"},{"include":"#string"},{"begin":"(?<=(?:^|[^$._[:alnum:]])import)(?!\\\\s*[\\"\'])","end":"\\\\bfrom\\\\b","endCaptures":{"0":{"name":"keyword.control.from.ts"}},"patterns":[{"include":"#import-export-declaration"}]},{"include":"#import-export-declaration"}]},"import-equals-declaration":{"patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(import)(?:\\\\s+(type))?\\\\s+([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(=)\\\\s*(require)\\\\s*(\\\\()","beginCaptures":{"1":{"name":"keyword.control.export.ts"},"2":{"name":"storage.modifier.ts"},"3":{"name":"keyword.control.import.ts"},"4":{"name":"keyword.control.type.ts"},"5":{"name":"variable.other.readwrite.alias.ts"},"6":{"name":"keyword.operator.assignment.ts"},"7":{"name":"keyword.control.require.ts"},"8":{"name":"meta.brace.round.ts"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.ts"}},"name":"meta.import-equals.external.ts","patterns":[{"include":"#comment"},{"include":"#string"}]},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(import)(?:\\\\s+(type))?\\\\s+([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(=)\\\\s*(?!require\\\\b)","beginCaptures":{"1":{"name":"keyword.control.export.ts"},"2":{"name":"storage.modifier.ts"},"3":{"name":"keyword.control.import.ts"},"4":{"name":"keyword.control.type.ts"},"5":{"name":"variable.other.readwrite.alias.ts"},"6":{"name":"keyword.operator.assignment.ts"}},"end":"(?=;|$|^)","name":"meta.import-equals.internal.ts","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#comment"},{"captures":{"1":{"name":"entity.name.type.module.ts"},"2":{"name":"punctuation.accessor.ts"},"3":{"name":"punctuation.accessor.optional.ts"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))"},{"match":"([$_[:alpha:]][$_[:alnum:]]*)","name":"variable.other.readwrite.ts"}]}]},"import-export-assert-clause":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(with)|(assert))\\\\s*(\\\\{)","beginCaptures":{"1":{"name":"keyword.control.with.ts"},"2":{"name":"keyword.control.assert.ts"},"3":{"name":"punctuation.definition.block.ts"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.ts"}},"patterns":[{"include":"#comment"},{"include":"#string"},{"match":"[$_[:alpha:]][$_[:alnum:]]*\\\\s*(?=(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*:)","name":"meta.object-literal.key.ts"},{"match":":","name":"punctuation.separator.key-value.ts"}]},"import-export-block":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.ts"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.ts"}},"name":"meta.block.ts","patterns":[{"include":"#import-export-clause"}]},"import-export-clause":{"patterns":[{"include":"#comment"},{"captures":{"1":{"name":"keyword.control.type.ts"},"2":{"name":"keyword.control.default.ts"},"3":{"name":"constant.language.import-export-all.ts"},"4":{"name":"variable.other.readwrite.ts"},"5":{"name":"string.quoted.alias.ts"},"12":{"name":"keyword.control.as.ts"},"13":{"name":"keyword.control.default.ts"},"14":{"name":"variable.other.readwrite.alias.ts"},"15":{"name":"string.quoted.alias.ts"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(type)\\\\s+)?(?:\\\\b(default)|(\\\\*)|\\\\b([$_[:alpha:]][$_[:alnum:]]*)|((\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`)))\\\\s+(as)\\\\s+(?:(default(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|([$_[:alpha:]][$_[:alnum:]]*)|((\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`)))"},{"include":"#punctuation-comma"},{"match":"\\\\*","name":"constant.language.import-export-all.ts"},{"match":"\\\\b(default)\\\\b","name":"keyword.control.default.ts"},{"captures":{"1":{"name":"keyword.control.type.ts"},"2":{"name":"variable.other.readwrite.alias.ts"},"3":{"name":"string.quoted.alias.ts"}},"match":"(?:\\\\b(type)\\\\s+)?(?:([$_[:alpha:]][$_[:alnum:]]*)|((\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`)))"}]},"import-export-declaration":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#import-export-block"},{"match":"\\\\bfrom\\\\b","name":"keyword.control.from.ts"},{"include":"#import-export-assert-clause"},{"include":"#import-export-clause"}]},"indexer-declaration":{"begin":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(readonly)\\\\s*)?\\\\s*(\\\\[)\\\\s*([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?=:)","beginCaptures":{"1":{"name":"storage.modifier.ts"},"2":{"name":"meta.brace.square.ts"},"3":{"name":"variable.parameter.ts"}},"end":"(])\\\\s*(\\\\?\\\\s*)?|$","endCaptures":{"1":{"name":"meta.brace.square.ts"},"2":{"name":"keyword.operator.optional.ts"}},"name":"meta.indexer.declaration.ts","patterns":[{"include":"#type-annotation"}]},"indexer-mapped-type-declaration":{"begin":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))([-+])?(readonly)\\\\s*)?\\\\s*(\\\\[)\\\\s*([$_[:alpha:]][$_[:alnum:]]*)\\\\s+(in)\\\\s+","beginCaptures":{"1":{"name":"keyword.operator.type.modifier.ts"},"2":{"name":"storage.modifier.ts"},"3":{"name":"meta.brace.square.ts"},"4":{"name":"entity.name.type.ts"},"5":{"name":"keyword.operator.expression.in.ts"}},"end":"(])([-+])?\\\\s*(\\\\?\\\\s*)?|$","endCaptures":{"1":{"name":"meta.brace.square.ts"},"2":{"name":"keyword.operator.type.modifier.ts"},"3":{"name":"keyword.operator.optional.ts"}},"name":"meta.indexer.mappedtype.declaration.ts","patterns":[{"captures":{"1":{"name":"keyword.control.as.ts"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as)\\\\s+"},{"include":"#type"}]},"inline-tags":{"patterns":[{"captures":{"1":{"name":"punctuation.definition.bracket.square.begin.jsdoc"},"2":{"name":"punctuation.definition.bracket.square.end.jsdoc"}},"match":"(\\\\[)[^]]+(])(?=\\\\{@(?:link|linkcode|linkplain|tutorial))","name":"constant.other.description.jsdoc"},{"begin":"(\\\\{)((@)(?:link(?:code|plain)?|tutorial))\\\\s*","beginCaptures":{"1":{"name":"punctuation.definition.bracket.curly.begin.jsdoc"},"2":{"name":"storage.type.class.jsdoc"},"3":{"name":"punctuation.definition.inline.tag.jsdoc"}},"end":"}|(?=\\\\*/)","endCaptures":{"0":{"name":"punctuation.definition.bracket.curly.end.jsdoc"}},"name":"entity.name.type.instance.jsdoc","patterns":[{"captures":{"1":{"name":"variable.other.link.underline.jsdoc"},"2":{"name":"punctuation.separator.pipe.jsdoc"}},"match":"\\\\G((?=https?://)(?:[^*|}\\\\s]|\\\\*/)+)(\\\\|)?"},{"captures":{"1":{"name":"variable.other.description.jsdoc"},"2":{"name":"punctuation.separator.pipe.jsdoc"}},"match":"\\\\G((?:[^*@{|}\\\\s]|\\\\*[^/])+)(\\\\|)?"}]}]},"instanceof-expr":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(instanceof)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.operator.expression.instanceof.ts"}},"end":"(?<=\\\\))|(?=[-\\\\])+,:;>?}]|\\\\|\\\\||&&|!==|$|([!=]==?)|(([\\\\&^|~]\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s+instanceof(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))function((\\\\s+[$_[:alpha:]][$_[:alnum:]]*)|(\\\\s*\\\\())))","patterns":[{"include":"#type"}]},"interface-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(?:(abstract)\\\\s+)?\\\\b(interface)\\\\b(?=\\\\s+|/[*/])","beginCaptures":{"1":{"name":"keyword.control.export.ts"},"2":{"name":"storage.modifier.ts"},"3":{"name":"storage.modifier.ts"},"4":{"name":"storage.type.interface.ts"}},"end":"(?<=})","name":"meta.interface.ts","patterns":[{"include":"#comment"},{"include":"#class-or-interface-heritage"},{"captures":{"0":{"name":"entity.name.type.interface.ts"}},"match":"[$_[:alpha:]][$_[:alnum:]]*"},{"include":"#type-parameters"},{"include":"#class-or-interface-body"}]},"jsdoctype":{"patterns":[{"begin":"\\\\G(\\\\{)","beginCaptures":{"0":{"name":"entity.name.type.instance.jsdoc"},"1":{"name":"punctuation.definition.bracket.curly.begin.jsdoc"}},"contentName":"entity.name.type.instance.jsdoc","end":"((}))\\\\s*|(?=\\\\*/)","endCaptures":{"1":{"name":"entity.name.type.instance.jsdoc"},"2":{"name":"punctuation.definition.bracket.curly.end.jsdoc"}},"patterns":[{"include":"#brackets"}]}]},"label":{"patterns":[{"begin":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(:)(?=\\\\s*\\\\{)","beginCaptures":{"1":{"name":"entity.name.label.ts"},"2":{"name":"punctuation.separator.label.ts"}},"end":"(?<=})","patterns":[{"include":"#decl-block"}]},{"captures":{"1":{"name":"entity.name.label.ts"},"2":{"name":"punctuation.separator.label.ts"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(:)"}]},"literal":{"patterns":[{"include":"#numeric-literal"},{"include":"#boolean-literal"},{"include":"#null-literal"},{"include":"#undefined-literal"},{"include":"#numericConstant-literal"},{"include":"#array-literal"},{"include":"#this-literal"},{"include":"#super-literal"}]},"method-declaration":{"patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(override)\\\\s+)?(?:\\\\b(p(?:ublic|rivate|rotected))\\\\s+)?(?:\\\\b(abstract)\\\\s+)?(?:\\\\b(async)\\\\s+)?\\\\s*\\\\b(constructor)\\\\b(?!:)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"storage.modifier.ts"},"2":{"name":"storage.modifier.ts"},"3":{"name":"storage.modifier.ts"},"4":{"name":"storage.modifier.async.ts"},"5":{"name":"storage.type.ts"}},"end":"(?=[,;}]|$)|(?<=})","name":"meta.method.declaration.ts","patterns":[{"include":"#method-declaration-name"},{"include":"#function-body"}]},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(override)\\\\s+)?(?:\\\\b(p(?:ublic|rivate|rotected))\\\\s+)?(?:\\\\b(abstract)\\\\s+)?(?:\\\\b(async)\\\\s+)?(?:\\\\s*\\\\b(new)\\\\b(?!:)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))|(?:(\\\\*)\\\\s*)?)(?=\\\\s*((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\()","beginCaptures":{"1":{"name":"storage.modifier.ts"},"2":{"name":"storage.modifier.ts"},"3":{"name":"storage.modifier.ts"},"4":{"name":"storage.modifier.async.ts"},"5":{"name":"keyword.operator.new.ts"},"6":{"name":"keyword.generator.asterisk.ts"}},"end":"(?=[,;}]|$)|(?<=})","name":"meta.method.declaration.ts","patterns":[{"include":"#method-declaration-name"},{"include":"#function-body"}]},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(override)\\\\s+)?(?:\\\\b(p(?:ublic|rivate|rotected))\\\\s+)?(?:\\\\b(abstract)\\\\s+)?(?:\\\\b(async)\\\\s+)?(?:\\\\b([gs]et)\\\\s+)?(?:(\\\\*)\\\\s*)?(?=\\\\s*((\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(\\\\??))\\\\s*((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\()","beginCaptures":{"1":{"name":"storage.modifier.ts"},"2":{"name":"storage.modifier.ts"},"3":{"name":"storage.modifier.ts"},"4":{"name":"storage.modifier.async.ts"},"5":{"name":"storage.type.property.ts"},"6":{"name":"keyword.generator.asterisk.ts"}},"end":"(?=[,;}]|$)|(?<=})","name":"meta.method.declaration.ts","patterns":[{"include":"#method-declaration-name"},{"include":"#function-body"}]}]},"method-declaration-name":{"begin":"(?=(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(\\\\??)\\\\s*[(<])","end":"(?=[(<])","patterns":[{"include":"#string"},{"include":"#array-literal"},{"include":"#numeric-literal"},{"match":"[$_[:alpha:]][$_[:alnum:]]*","name":"meta.definition.method.ts entity.name.function.ts"},{"match":"\\\\?","name":"keyword.operator.optional.ts"}]},"namespace-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(namespace|module)\\\\s+(?=[\\"$\'_`[:alpha:]])","beginCaptures":{"1":{"name":"keyword.control.export.ts"},"2":{"name":"storage.modifier.ts"},"3":{"name":"storage.type.namespace.ts"}},"end":"(?<=})|(?=;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","name":"meta.namespace.declaration.ts","patterns":[{"include":"#comment"},{"include":"#string"},{"match":"([$_[:alpha:]][$_[:alnum:]]*)","name":"entity.name.type.module.ts"},{"include":"#punctuation-accessor"},{"include":"#decl-block"}]},"new-expr":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(new)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.operator.new.ts"}},"end":"(?<=\\\\))|(?=[-\\\\])+,:;>?}]|\\\\|\\\\||&&|!==|$|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))new(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))function((\\\\s+[$_[:alpha:]][$_[:alnum:]]*)|(\\\\s*\\\\())))","name":"new.expr.ts","patterns":[{"include":"#expression"}]},"null-literal":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))null(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.null.ts"},"numeric-literal":{"patterns":[{"captures":{"1":{"name":"storage.type.numeric.bigint.ts"}},"match":"\\\\b(?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$)","name":"constant.numeric.hex.ts"},{"captures":{"1":{"name":"storage.type.numeric.bigint.ts"}},"match":"\\\\b(?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$)","name":"constant.numeric.binary.ts"},{"captures":{"1":{"name":"storage.type.numeric.bigint.ts"}},"match":"\\\\b(?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$)","name":"constant.numeric.octal.ts"},{"captures":{"0":{"name":"constant.numeric.decimal.ts"},"1":{"name":"meta.delimiter.decimal.period.ts"},"2":{"name":"storage.type.numeric.bigint.ts"},"3":{"name":"meta.delimiter.decimal.period.ts"},"4":{"name":"storage.type.numeric.bigint.ts"},"5":{"name":"meta.delimiter.decimal.period.ts"},"6":{"name":"storage.type.numeric.bigint.ts"},"7":{"name":"storage.type.numeric.bigint.ts"},"8":{"name":"meta.delimiter.decimal.period.ts"},"9":{"name":"storage.type.numeric.bigint.ts"},"10":{"name":"meta.delimiter.decimal.period.ts"},"11":{"name":"storage.type.numeric.bigint.ts"},"12":{"name":"meta.delimiter.decimal.period.ts"},"13":{"name":"storage.type.numeric.bigint.ts"},"14":{"name":"storage.type.numeric.bigint.ts"}},"match":"(?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$)"}]},"numericConstant-literal":{"patterns":[{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))NaN(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.nan.ts"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Infinity(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.infinity.ts"}]},"object-binding-element":{"patterns":[{"include":"#comment"},{"begin":"(?=(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(:))","end":"(?=[,}])","patterns":[{"include":"#object-binding-element-propertyName"},{"include":"#binding-element"}]},{"include":"#object-binding-pattern"},{"include":"#destructuring-variable-rest"},{"include":"#variable-initializer"},{"include":"#punctuation-comma"}]},"object-binding-element-const":{"patterns":[{"include":"#comment"},{"begin":"(?=(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(:))","end":"(?=[,}])","patterns":[{"include":"#object-binding-element-propertyName"},{"include":"#binding-element-const"}]},{"include":"#object-binding-pattern-const"},{"include":"#destructuring-variable-rest-const"},{"include":"#variable-initializer"},{"include":"#punctuation-comma"}]},"object-binding-element-propertyName":{"begin":"(?=(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(:))","end":"(:)","endCaptures":{"0":{"name":"punctuation.destructuring.ts"}},"patterns":[{"include":"#string"},{"include":"#array-literal"},{"include":"#numeric-literal"},{"match":"([$_[:alpha:]][$_[:alnum:]]*)","name":"variable.object.property.ts"}]},"object-binding-pattern":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\{)","beginCaptures":{"1":{"name":"keyword.operator.rest.ts"},"2":{"name":"punctuation.definition.binding-pattern.object.ts"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.object.ts"}},"patterns":[{"include":"#object-binding-element"}]},"object-binding-pattern-const":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\{)","beginCaptures":{"1":{"name":"keyword.operator.rest.ts"},"2":{"name":"punctuation.definition.binding-pattern.object.ts"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.object.ts"}},"patterns":[{"include":"#object-binding-element-const"}]},"object-identifiers":{"patterns":[{"match":"([$_[:alpha:]][$_[:alnum:]]*)(?=\\\\s*\\\\??\\\\.\\\\s*prototype\\\\b(?!\\\\$))","name":"support.class.ts"},{"captures":{"1":{"name":"punctuation.accessor.ts"},"2":{"name":"punctuation.accessor.optional.ts"},"3":{"name":"variable.other.constant.object.property.ts"},"4":{"name":"variable.other.object.property.ts"}},"match":"(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(?:(#?\\\\p{upper}[$_\\\\d[:upper:]]*)|(#?[$_[:alpha:]][$_[:alnum:]]*))(?=\\\\s*\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*)"},{"captures":{"1":{"name":"variable.other.constant.object.ts"},"2":{"name":"variable.other.object.ts"}},"match":"(?:(\\\\p{upper}[$_\\\\d[:upper:]]*)|([$_[:alpha:]][$_[:alnum:]]*))(?=\\\\s*\\\\??\\\\.\\\\s*#?[$_[:alpha:]][$_[:alnum:]]*)"}]},"object-literal":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.ts"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.ts"}},"name":"meta.objectliteral.ts","patterns":[{"include":"#object-member"}]},"object-literal-method-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(async)\\\\s+)?(?:\\\\b([gs]et)\\\\s+)?(?:(\\\\*)\\\\s*)?(?=\\\\s*((\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(\\\\??))\\\\s*((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\()","beginCaptures":{"1":{"name":"storage.modifier.async.ts"},"2":{"name":"storage.type.property.ts"},"3":{"name":"keyword.generator.asterisk.ts"}},"end":"(?=[,;}])|(?<=})","name":"meta.method.declaration.ts","patterns":[{"include":"#method-declaration-name"},{"include":"#function-body"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(async)\\\\s+)?(?:\\\\b([gs]et)\\\\s+)?(?:(\\\\*)\\\\s*)?(?=\\\\s*((\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(\\\\??))\\\\s*((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\()","beginCaptures":{"1":{"name":"storage.modifier.async.ts"},"2":{"name":"storage.type.property.ts"},"3":{"name":"keyword.generator.asterisk.ts"}},"end":"(?=[(<])","patterns":[{"include":"#method-declaration-name"}]}]},"object-member":{"patterns":[{"include":"#comment"},{"include":"#object-literal-method-declaration"},{"begin":"(?=\\\\[)","end":"(?=:)|((?<=])(?=\\\\s*[(<]))","name":"meta.object.member.ts meta.object-literal.key.ts","patterns":[{"include":"#comment"},{"include":"#array-literal"}]},{"begin":"(?=[\\"\'`])","end":"(?=:)|((?<=[\\"\'`])(?=((\\\\s*[(,<}])|(\\\\s+(as|satisifies)\\\\s+))))","name":"meta.object.member.ts meta.object-literal.key.ts","patterns":[{"include":"#comment"},{"include":"#string"}]},{"begin":"(?=\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$)))","end":"(?=:)|(?=\\\\s*([(,<}])|(\\\\s+as|satisifies\\\\s+))","name":"meta.object.member.ts meta.object-literal.key.ts","patterns":[{"include":"#comment"},{"include":"#numeric-literal"}]},{"begin":"(?<=[]\\"\'`])(?=\\\\s*[(<])","end":"(?=[,;}])|(?<=})","name":"meta.method.declaration.ts","patterns":[{"include":"#function-body"}]},{"captures":{"0":{"name":"meta.object-literal.key.ts"},"1":{"name":"constant.numeric.decimal.ts"}},"match":"(?![$_[:alpha:]])(\\\\d+)\\\\s*(?=(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*:)","name":"meta.object.member.ts"},{"captures":{"0":{"name":"meta.object-literal.key.ts"},"1":{"name":"entity.name.function.ts"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?=(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*:(\\\\s*/\\\\*([^*]|(\\\\*[^/]))*\\\\*/)*\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"\'()`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))","name":"meta.object.member.ts"},{"captures":{"0":{"name":"meta.object-literal.key.ts"}},"match":"[$_[:alpha:]][$_[:alnum:]]*\\\\s*(?=(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*:)","name":"meta.object.member.ts"},{"begin":"\\\\.\\\\.\\\\.","beginCaptures":{"0":{"name":"keyword.operator.spread.ts"}},"end":"(?=[,}])","name":"meta.object.member.ts","patterns":[{"include":"#expression"}]},{"captures":{"1":{"name":"variable.other.readwrite.ts"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?=[,}]|$|//|/\\\\*)","name":"meta.object.member.ts"},{"captures":{"1":{"name":"keyword.control.as.ts"},"2":{"name":"storage.modifier.ts"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as)\\\\s+(const)(?=\\\\s*([,}]|$))","name":"meta.object.member.ts"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(as)|(satisfies))\\\\s+","beginCaptures":{"1":{"name":"keyword.control.as.ts"},"2":{"name":"keyword.control.satisfies.ts"}},"end":"(?=[-\\\\])+,:;>?}]|\\\\|\\\\||&&|!==|$|^|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(as|satisifies)\\\\s+))","name":"meta.object.member.ts","patterns":[{"include":"#type"}]},{"begin":"(?=[$_[:alpha:]][$_[:alnum:]]*\\\\s*=)","end":"(?=[,}]|$|//|/\\\\*)","name":"meta.object.member.ts","patterns":[{"include":"#expression"}]},{"begin":":","beginCaptures":{"0":{"name":"meta.object-literal.key.ts punctuation.separator.key-value.ts"}},"end":"(?=[,}])","name":"meta.object.member.ts","patterns":[{"begin":"(?<=:)\\\\s*(async)?(?=\\\\s*(<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))","beginCaptures":{"1":{"name":"storage.modifier.async.ts"}},"end":"(?<=\\\\))","patterns":[{"include":"#type-parameters"},{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.ts"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.ts"}},"patterns":[{"include":"#expression-inside-possibly-arrow-parens"}]}]},{"begin":"(?<=:)\\\\s*(async)?\\\\s*(\\\\()(?=\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))","beginCaptures":{"1":{"name":"storage.modifier.async.ts"},"2":{"name":"meta.brace.round.ts"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.ts"}},"patterns":[{"include":"#expression-inside-possibly-arrow-parens"}]},{"begin":"(?<=:)\\\\s*(async)?\\\\s*(?=<\\\\s*$)","beginCaptures":{"1":{"name":"storage.modifier.async.ts"}},"end":"(?<=>)","patterns":[{"include":"#type-parameters"}]},{"begin":"(?<=>)\\\\s*(\\\\()(?=\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))","beginCaptures":{"1":{"name":"meta.brace.round.ts"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.ts"}},"patterns":[{"include":"#expression-inside-possibly-arrow-parens"}]},{"include":"#possibly-arrow-return-type"},{"include":"#expression"}]},{"include":"#punctuation-comma"},{"include":"#decl-block"}]},"parameter-array-binding-pattern":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\[)","beginCaptures":{"1":{"name":"keyword.operator.rest.ts"},"2":{"name":"punctuation.definition.binding-pattern.array.ts"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.array.ts"}},"patterns":[{"include":"#parameter-binding-element"},{"include":"#punctuation-comma"}]},"parameter-binding-element":{"patterns":[{"include":"#comment"},{"include":"#string"},{"include":"#numeric-literal"},{"include":"#regex"},{"include":"#parameter-object-binding-pattern"},{"include":"#parameter-array-binding-pattern"},{"include":"#destructuring-parameter-rest"},{"include":"#variable-initializer"}]},"parameter-name":{"patterns":[{"captures":{"1":{"name":"storage.modifier.ts"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|protected|private|readonly)\\\\s+(?=(override|public|protected|private|readonly)\\\\s+)"},{"captures":{"1":{"name":"storage.modifier.ts"},"2":{"name":"keyword.operator.rest.ts"},"3":{"name":"entity.name.function.ts variable.language.this.ts"},"4":{"name":"entity.name.function.ts"},"5":{"name":"keyword.operator.optional.ts"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*(\\\\??)(?=\\\\s*(=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"\'()`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))|(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))))|(:\\\\s*(=>|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(<[^<>]*>)|[^(),<=>])+=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"\'()`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>))))))"},{"captures":{"1":{"name":"storage.modifier.ts"},"2":{"name":"keyword.operator.rest.ts"},"3":{"name":"variable.parameter.ts variable.language.this.ts"},"4":{"name":"variable.parameter.ts"},"5":{"name":"keyword.operator.optional.ts"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(override|public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*(\\\\??)"}]},"parameter-object-binding-element":{"patterns":[{"include":"#comment"},{"begin":"(?=(\\\\b((?<!\\\\$)0[Xx]\\\\h[_\\\\h]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Bb][01][01_]*(n)?\\\\b(?!\\\\$))|\\\\b((?<!\\\\$)0[Oo]?[0-7][0-7_]*(n)?\\\\b(?!\\\\$))|((?<!\\\\$)(?:\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\B(\\\\.)[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*[Ee][-+]?[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(\\\\.)(n)?\\\\B|\\\\B(\\\\.)[0-9][0-9_]*(n)?\\\\b|\\\\b[0-9][0-9_]*(n)?\\\\b(?!\\\\.))(?!\\\\$))|([$_[:alpha:]][$_[:alnum:]]*)|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`)|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])+]))\\\\s*(:))","end":"(?=[,}])","patterns":[{"include":"#object-binding-element-propertyName"},{"include":"#parameter-binding-element"},{"include":"#paren-expression"}]},{"include":"#parameter-object-binding-pattern"},{"include":"#destructuring-parameter-rest"},{"include":"#variable-initializer"},{"include":"#punctuation-comma"}]},"parameter-object-binding-pattern":{"begin":"(?:(\\\\.\\\\.\\\\.)\\\\s*)?(\\\\{)","beginCaptures":{"1":{"name":"keyword.operator.rest.ts"},"2":{"name":"punctuation.definition.binding-pattern.object.ts"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.binding-pattern.object.ts"}},"patterns":[{"include":"#parameter-object-binding-element"}]},"parameter-type-annotation":{"patterns":[{"begin":"(:)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.ts"}},"end":"(?=[),])|(?==[^>])","name":"meta.type.annotation.ts","patterns":[{"include":"#type"}]}]},"paren-expression":{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.ts"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.ts"}},"patterns":[{"include":"#expression"}]},"paren-expression-possibly-arrow":{"patterns":[{"begin":"(?<=[(,=])\\\\s*(async)?(?=\\\\s*((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))","beginCaptures":{"1":{"name":"storage.modifier.async.ts"}},"end":"(?<=\\\\))","patterns":[{"include":"#paren-expression-possibly-arrow-with-typeparameters"}]},{"begin":"(?<=[(,=]|=>|^return|[^$._[:alnum:]]return)\\\\s*(async)?(?=\\\\s*((((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*))?\\\\()|(<)|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)))\\\\s*$)","beginCaptures":{"1":{"name":"storage.modifier.async.ts"}},"end":"(?<=\\\\))","patterns":[{"include":"#paren-expression-possibly-arrow-with-typeparameters"}]},{"include":"#possibly-arrow-return-type"}]},"paren-expression-possibly-arrow-with-typeparameters":{"patterns":[{"include":"#type-parameters"},{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.ts"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.ts"}},"patterns":[{"include":"#expression-inside-possibly-arrow-parens"}]}]},"possibly-arrow-return-type":{"begin":"(?<=\\\\)|^)\\\\s*(:)(?=\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*=>)","beginCaptures":{"1":{"name":"meta.arrow.ts meta.return.type.arrow.ts keyword.operator.type.annotation.ts"}},"contentName":"meta.arrow.ts meta.return.type.arrow.ts","end":"(?==>|\\\\{|^(\\\\s*(export|function|class|interface|let|var|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|const|import|enum|namespace|module|type|abstract|declare)\\\\s+))","patterns":[{"include":"#arrow-return-type-body"}]},"property-accessor":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(accessor|get|set)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"storage.type.property.ts"},"punctuation-accessor":{"captures":{"1":{"name":"punctuation.accessor.ts"},"2":{"name":"punctuation.accessor.optional.ts"}},"match":"(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d))"},"punctuation-comma":{"match":",","name":"punctuation.separator.comma.ts"},"punctuation-semicolon":{"match":";","name":"punctuation.terminator.statement.ts"},"qstring-double":{"begin":"\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.ts"}},"end":"(\\")|([^\\\\n\\\\\\\\])$","endCaptures":{"1":{"name":"punctuation.definition.string.end.ts"},"2":{"name":"invalid.illegal.newline.ts"}},"name":"string.quoted.double.ts","patterns":[{"include":"#string-character-escape"}]},"qstring-single":{"begin":"\'","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.ts"}},"end":"(\')|([^\\\\n\\\\\\\\])$","endCaptures":{"1":{"name":"punctuation.definition.string.end.ts"},"2":{"name":"invalid.illegal.newline.ts"}},"name":"string.quoted.single.ts","patterns":[{"include":"#string-character-escape"}]},"regex":{"patterns":[{"begin":"(?<!\\\\+\\\\+|--|})(?<=[!(+,:=?\\\\[]|^return|[^$._[:alnum:]]return|^case|[^$._[:alnum:]]case|=>|&&|\\\\|\\\\||\\\\*/)\\\\s*(/)(?![*/])(?=(?:[^()/\\\\[\\\\\\\\]|\\\\\\\\.|\\\\[([^]\\\\\\\\]|\\\\\\\\.)+]|\\\\(([^)\\\\\\\\]|\\\\\\\\.)+\\\\))+/([dgimsuvy]+|(?![*/])|(?=/\\\\*))(?!\\\\s*[$0-9A-Z_a-z]))","beginCaptures":{"1":{"name":"punctuation.definition.string.begin.ts"}},"end":"(/)([dgimsuvy]*)","endCaptures":{"1":{"name":"punctuation.definition.string.end.ts"},"2":{"name":"keyword.other.ts"}},"name":"string.regexp.ts","patterns":[{"include":"#regexp"}]},{"begin":"((?<![]$)_[:alnum:]]|\\\\+\\\\+|--|}|\\\\*/)|((?<=^return|[^$._[:alnum:]]return|^case|[^$._[:alnum:]]case))\\\\s*)/(?![*/])(?=(?:[^/\\\\[\\\\\\\\]|\\\\\\\\.|\\\\[([^]\\\\\\\\]|\\\\\\\\.)*])+/([dgimsuvy]+|(?![*/])|(?=/\\\\*))(?!\\\\s*[$0-9A-Z_a-z]))","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.ts"}},"end":"(/)([dgimsuvy]*)","endCaptures":{"1":{"name":"punctuation.definition.string.end.ts"},"2":{"name":"keyword.other.ts"}},"name":"string.regexp.ts","patterns":[{"include":"#regexp"}]}]},"regex-character-class":{"patterns":[{"match":"\\\\\\\\[DSWdfnrstvw]|\\\\.","name":"constant.other.character-class.regexp"},{"match":"\\\\\\\\([0-7]{3}|x\\\\h{2}|u\\\\h{4})","name":"constant.character.numeric.regexp"},{"match":"\\\\\\\\c[A-Z]","name":"constant.character.control.regexp"},{"match":"\\\\\\\\.","name":"constant.character.escape.backslash.regexp"}]},"regexp":{"patterns":[{"match":"\\\\\\\\[Bb]|[$^]","name":"keyword.control.anchor.regexp"},{"captures":{"0":{"name":"keyword.other.back-reference.regexp"},"1":{"name":"variable.other.regexp"}},"match":"\\\\\\\\(?:[1-9]\\\\d*|k<([$A-Z_a-z][$\\\\w]*)>)"},{"match":"[*+?]|\\\\{(\\\\d+,\\\\d+|\\\\d+,|,\\\\d+|\\\\d+)}\\\\??","name":"keyword.operator.quantifier.regexp"},{"match":"\\\\|","name":"keyword.operator.or.regexp"},{"begin":"(\\\\()((\\\\?=)|(\\\\?!)|(\\\\?<=)|(\\\\?<!))","beginCaptures":{"1":{"name":"punctuation.definition.group.regexp"},"2":{"name":"punctuation.definition.group.assertion.regexp"},"3":{"name":"meta.assertion.look-ahead.regexp"},"4":{"name":"meta.assertion.negative-look-ahead.regexp"},"5":{"name":"meta.assertion.look-behind.regexp"},"6":{"name":"meta.assertion.negative-look-behind.regexp"}},"end":"(\\\\))","endCaptures":{"1":{"name":"punctuation.definition.group.regexp"}},"name":"meta.group.assertion.regexp","patterns":[{"include":"#regexp"}]},{"begin":"\\\\((?:(\\\\?:)|\\\\?<([$A-Z_a-z][$\\\\w]*)>)?","beginCaptures":{"0":{"name":"punctuation.definition.group.regexp"},"1":{"name":"punctuation.definition.group.no-capture.regexp"},"2":{"name":"variable.other.regexp"}},"end":"\\\\)","endCaptures":{"0":{"name":"punctuation.definition.group.regexp"}},"name":"meta.group.regexp","patterns":[{"include":"#regexp"}]},{"begin":"(\\\\[)(\\\\^)?","beginCaptures":{"1":{"name":"punctuation.definition.character-class.regexp"},"2":{"name":"keyword.operator.negation.regexp"}},"end":"(])","endCaptures":{"1":{"name":"punctuation.definition.character-class.regexp"}},"name":"constant.other.character-class.set.regexp","patterns":[{"captures":{"1":{"name":"constant.character.numeric.regexp"},"2":{"name":"constant.character.control.regexp"},"3":{"name":"constant.character.escape.backslash.regexp"},"4":{"name":"constant.character.numeric.regexp"},"5":{"name":"constant.character.control.regexp"},"6":{"name":"constant.character.escape.backslash.regexp"}},"match":"(?:.|(\\\\\\\\(?:[0-7]{3}|x\\\\h{2}|u\\\\h{4}))|(\\\\\\\\c[A-Z])|(\\\\\\\\.))-(?:[^]\\\\\\\\]|(\\\\\\\\(?:[0-7]{3}|x\\\\h{2}|u\\\\h{4}))|(\\\\\\\\c[A-Z])|(\\\\\\\\.))","name":"constant.other.character-class.range.regexp"},{"include":"#regex-character-class"}]},{"include":"#regex-character-class"}]},"return-type":{"patterns":[{"begin":"(?<=\\\\))\\\\s*(:)(?=\\\\s*\\\\S)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.ts"}},"end":"(?<![\\\\&:|])(?=$|^|[,;{}]|//)","name":"meta.return.type.ts","patterns":[{"include":"#return-type-core"}]},{"begin":"(?<=\\\\))\\\\s*(:)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.ts"}},"end":"(?<![\\\\&:|])((?=[,;{}]|//|^\\\\s*$)|((?<=\\\\S)(?=\\\\s*$)))","name":"meta.return.type.ts","patterns":[{"include":"#return-type-core"}]}]},"return-type-core":{"patterns":[{"include":"#comment"},{"begin":"(?<=[\\\\&:|])(?=\\\\s*\\\\{)","end":"(?<=})","patterns":[{"include":"#type-object"}]},{"include":"#type-predicate-operator"},{"include":"#type"}]},"shebang":{"captures":{"1":{"name":"punctuation.definition.comment.ts"}},"match":"\\\\A(#!).*(?=$)","name":"comment.line.shebang.ts"},"single-line-comment-consuming-line-ending":{"begin":"(^[\\\\t ]+)?((//)(?:\\\\s*((@)internal)(?=\\\\s|$))?)","beginCaptures":{"1":{"name":"punctuation.whitespace.comment.leading.ts"},"2":{"name":"comment.line.double-slash.ts"},"3":{"name":"punctuation.definition.comment.ts"},"4":{"name":"storage.type.internaldeclaration.ts"},"5":{"name":"punctuation.decorator.internaldeclaration.ts"}},"contentName":"comment.line.double-slash.ts","end":"(?=^)"},"statements":{"patterns":[{"include":"#declaration"},{"include":"#control-statement"},{"include":"#after-operator-block-as-object-literal"},{"include":"#decl-block"},{"include":"#label"},{"include":"#expression"},{"include":"#punctuation-semicolon"},{"include":"#string"},{"include":"#comment"}]},"string":{"patterns":[{"include":"#qstring-single"},{"include":"#qstring-double"},{"include":"#template"}]},"string-character-escape":{"match":"\\\\\\\\(x\\\\h{2}|u\\\\h{4}|u\\\\{\\\\h+}|[012][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.|$)","name":"constant.character.escape.ts"},"super-literal":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))super\\\\b(?!\\\\$)","name":"variable.language.super.ts"},"support-function-call-identifiers":{"patterns":[{"include":"#literal"},{"include":"#support-objects"},{"include":"#object-identifiers"},{"include":"#punctuation-accessor"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))import(?=\\\\s*\\\\(\\\\s*[\\"\'`])","name":"keyword.operator.expression.import.ts"}]},"support-objects":{"patterns":[{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(arguments)\\\\b(?!\\\\$)","name":"variable.language.arguments.ts"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(Promise)\\\\b(?!\\\\$)","name":"support.class.promise.ts"},{"captures":{"1":{"name":"keyword.control.import.ts"},"2":{"name":"punctuation.accessor.ts"},"3":{"name":"punctuation.accessor.optional.ts"},"4":{"name":"support.variable.property.importmeta.ts"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(import)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(meta)\\\\b(?!\\\\$)"},{"captures":{"1":{"name":"keyword.operator.new.ts"},"2":{"name":"punctuation.accessor.ts"},"3":{"name":"punctuation.accessor.optional.ts"},"4":{"name":"support.variable.property.target.ts"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(new)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(target)\\\\b(?!\\\\$)"},{"captures":{"1":{"name":"punctuation.accessor.ts"},"2":{"name":"punctuation.accessor.optional.ts"},"3":{"name":"support.variable.property.ts"},"4":{"name":"support.constant.ts"}},"match":"(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(?:(constructor|length|prototype|__proto__)\\\\b(?!\\\\$|\\\\s*(<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\()|(EPSILON|MAX_SAFE_INTEGER|MAX_VALUE|MIN_SAFE_INTEGER|MIN_VALUE|NEGATIVE_INFINITY|POSITIVE_INFINITY)\\\\b(?!\\\\$))"},{"captures":{"1":{"name":"support.type.object.module.ts"},"2":{"name":"support.type.object.module.ts"},"3":{"name":"punctuation.accessor.ts"},"4":{"name":"punctuation.accessor.optional.ts"},"5":{"name":"support.type.object.module.ts"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(exports)|(module)(?:(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))(exports|id|filename|loaded|parent|children))?)\\\\b(?!\\\\$)"}]},"switch-statement":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?=\\\\bswitch\\\\s*\\\\()","end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.ts"}},"name":"switch-statement.expr.ts","patterns":[{"include":"#comment"},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(switch)\\\\s*(\\\\()","beginCaptures":{"1":{"name":"keyword.control.switch.ts"},"2":{"name":"meta.brace.round.ts"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.ts"}},"name":"switch-expression.expr.ts","patterns":[{"include":"#expression"}]},{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.ts"}},"end":"(?=})","name":"switch-block.expr.ts","patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(case|default(?=:))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.control.switch.ts"}},"end":"(?=:)","name":"case-clause.expr.ts","patterns":[{"include":"#expression"}]},{"begin":"(:)\\\\s*(\\\\{)","beginCaptures":{"1":{"name":"case-clause.expr.ts punctuation.definition.section.case-statement.ts"},"2":{"name":"meta.block.ts punctuation.definition.block.ts"}},"contentName":"meta.block.ts","end":"}","endCaptures":{"0":{"name":"meta.block.ts punctuation.definition.block.ts"}},"patterns":[{"include":"#statements"}]},{"captures":{"0":{"name":"case-clause.expr.ts punctuation.definition.section.case-statement.ts"}},"match":"(:)"},{"include":"#statements"}]}]},"template":{"patterns":[{"include":"#template-call"},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)?(`)","beginCaptures":{"1":{"name":"entity.name.function.tagged-template.ts"},"2":{"name":"string.template.ts punctuation.definition.string.template.begin.ts"}},"contentName":"string.template.ts","end":"`","endCaptures":{"0":{"name":"string.template.ts punctuation.definition.string.template.end.ts"}},"patterns":[{"include":"#template-substitution-element"},{"include":"#string-character-escape"}]}]},"template-call":{"patterns":[{"begin":"(?=(([$_[:alpha:]][$_[:alnum:]]*\\\\s*\\\\??\\\\.\\\\s*)*|(\\\\??\\\\.\\\\s*)?)([$_[:alpha:]][$_[:alnum:]]*)(<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)?`)","end":"(?=`)","patterns":[{"begin":"(?=(([$_[:alpha:]][$_[:alnum:]]*\\\\s*\\\\??\\\\.\\\\s*)*|(\\\\??\\\\.\\\\s*)?)([$_[:alpha:]][$_[:alnum:]]*))","end":"(?=(<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)?`)","patterns":[{"include":"#support-function-call-identifiers"},{"match":"([$_[:alpha:]][$_[:alnum:]]*)","name":"entity.name.function.tagged-template.ts"}]},{"include":"#type-arguments"}]},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)?\\\\s*(?=(<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))(([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>|<\\\\s*(((keyof|infer|typeof|readonly)\\\\s+)|(([$_[:alpha:]][$_[:alnum:]]*|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))(?=\\\\s*([,.<>\\\\[]|=>|&(?!&)|\\\\|(?!\\\\|)))))([^(<>]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(?<==)>)*(?<!=)>))*(?<!=)>)*(?<!=)>\\\\s*)`)","beginCaptures":{"1":{"name":"entity.name.function.tagged-template.ts"}},"end":"(?=`)","patterns":[{"include":"#type-arguments"}]}]},"template-substitution-element":{"begin":"\\\\$\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.template-expression.begin.ts"}},"contentName":"meta.embedded.line.ts","end":"}","endCaptures":{"0":{"name":"punctuation.definition.template-expression.end.ts"}},"name":"meta.template.expression.ts","patterns":[{"include":"#expression"}]},"template-type":{"patterns":[{"include":"#template-call"},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)?(`)","beginCaptures":{"1":{"name":"entity.name.function.tagged-template.ts"},"2":{"name":"string.template.ts punctuation.definition.string.template.begin.ts"}},"contentName":"string.template.ts","end":"`","endCaptures":{"0":{"name":"string.template.ts punctuation.definition.string.template.end.ts"}},"patterns":[{"include":"#template-type-substitution-element"},{"include":"#string-character-escape"}]}]},"template-type-substitution-element":{"begin":"\\\\$\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.template-expression.begin.ts"}},"contentName":"meta.embedded.line.ts","end":"}","endCaptures":{"0":{"name":"punctuation.definition.template-expression.end.ts"}},"name":"meta.template.expression.ts","patterns":[{"include":"#type"}]},"ternary-expression":{"begin":"(?!\\\\?\\\\.\\\\s*\\\\D)(\\\\?)(?!\\\\?)","beginCaptures":{"1":{"name":"keyword.operator.ternary.ts"}},"end":"\\\\s*(:)","endCaptures":{"1":{"name":"keyword.operator.ternary.ts"}},"patterns":[{"include":"#expression"}]},"this-literal":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))this\\\\b(?!\\\\$)","name":"variable.language.this.ts"},"type":{"patterns":[{"include":"#comment"},{"include":"#type-string"},{"include":"#numeric-literal"},{"include":"#type-primitive"},{"include":"#type-builtin-literals"},{"include":"#type-parameters"},{"include":"#type-tuple"},{"include":"#type-object"},{"include":"#type-operators"},{"include":"#type-conditional"},{"include":"#type-fn-type-parameters"},{"include":"#type-paren-or-function-parameters"},{"include":"#type-function-return-type"},{"captures":{"1":{"name":"storage.modifier.ts"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(readonly)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*"},{"include":"#type-name"}]},"type-alias-declaration":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(type)\\\\b\\\\s+([$_[:alpha:]][$_[:alnum:]]*)\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.ts"},"2":{"name":"storage.modifier.ts"},"3":{"name":"storage.type.type.ts"},"4":{"name":"entity.name.type.alias.ts"}},"end":"(?=[;}]|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","name":"meta.type.declaration.ts","patterns":[{"include":"#comment"},{"include":"#type-parameters"},{"begin":"(=)\\\\s*(intrinsic)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"1":{"name":"keyword.operator.assignment.ts"},"2":{"name":"keyword.control.intrinsic.ts"}},"end":"(?=[;}]|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","patterns":[{"include":"#type"}]},{"begin":"(=)\\\\s*","beginCaptures":{"1":{"name":"keyword.operator.assignment.ts"}},"end":"(?=[;}]|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","patterns":[{"include":"#type"}]}]},"type-annotation":{"patterns":[{"begin":"(:)(?=\\\\s*\\\\S)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.ts"}},"end":"(?<![\\\\&:|])(?!\\\\s*[\\\\&|]\\\\s+)((?=^|[]),;}]|//)|(?==[^>])|((?<=[]$)>_}[:alpha:]])\\\\s*(?=\\\\{)))","name":"meta.type.annotation.ts","patterns":[{"include":"#type"}]},{"begin":"(:)","beginCaptures":{"1":{"name":"keyword.operator.type.annotation.ts"}},"end":"(?<![\\\\&:|])((?=[]),;}]|//)|(?==[^>])|(?=^\\\\s*$)|((?<=[]$)>_}[:alpha:]])\\\\s*(?=\\\\{)))","name":"meta.type.annotation.ts","patterns":[{"include":"#type"}]}]},"type-arguments":{"begin":"<","beginCaptures":{"0":{"name":"punctuation.definition.typeparameters.begin.ts"}},"end":">","endCaptures":{"0":{"name":"punctuation.definition.typeparameters.end.ts"}},"name":"meta.type.parameters.ts","patterns":[{"include":"#type-arguments-body"}]},"type-arguments-body":{"patterns":[{"captures":{"0":{"name":"keyword.operator.type.ts"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(_)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"include":"#type"},{"include":"#punctuation-comma"}]},"type-builtin-literals":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(this|true|false|undefined|null|object)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"support.type.builtin.ts"},"type-conditional":{"patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(extends)\\\\s+","beginCaptures":{"1":{"name":"storage.modifier.ts"}},"end":"(?<=:)","patterns":[{"begin":"\\\\?","beginCaptures":{"0":{"name":"keyword.operator.ternary.ts"}},"end":":","endCaptures":{"0":{"name":"keyword.operator.ternary.ts"}},"patterns":[{"include":"#type"}]},{"include":"#type"}]}]},"type-fn-type-parameters":{"patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(abstract)\\\\s+)?(new)\\\\b(?=\\\\s*<)","beginCaptures":{"1":{"name":"meta.type.constructor.ts storage.modifier.ts"},"2":{"name":"meta.type.constructor.ts keyword.control.new.ts"}},"end":"(?<=>)","patterns":[{"include":"#comment"},{"include":"#type-parameters"}]},{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(abstract)\\\\s+)?(new)\\\\b\\\\s*(?=\\\\()","beginCaptures":{"1":{"name":"storage.modifier.ts"},"2":{"name":"keyword.control.new.ts"}},"end":"(?<=\\\\))","name":"meta.type.constructor.ts","patterns":[{"include":"#function-parameters"}]},{"begin":"((?=\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>))))))","end":"(?<=\\\\))","name":"meta.type.function.ts","patterns":[{"include":"#function-parameters"}]}]},"type-function-return-type":{"patterns":[{"begin":"(=>)(?=\\\\s*\\\\S)","beginCaptures":{"1":{"name":"storage.type.function.arrow.ts"}},"end":"(?<!=>)(?<![\\\\&|])(?=[]),:;=>?{}]|//|$)","name":"meta.type.function.return.ts","patterns":[{"include":"#type-function-return-type-core"}]},{"begin":"=>","beginCaptures":{"0":{"name":"storage.type.function.arrow.ts"}},"end":"(?<!=>)(?<![\\\\&|])((?=[]),:;=>?{}]|//|^\\\\s*$)|((?<=\\\\S)(?=\\\\s*$)))","name":"meta.type.function.return.ts","patterns":[{"include":"#type-function-return-type-core"}]}]},"type-function-return-type-core":{"patterns":[{"include":"#comment"},{"begin":"(?<==>)(?=\\\\s*\\\\{)","end":"(?<=})","patterns":[{"include":"#type-object"}]},{"include":"#type-predicate-operator"},{"include":"#type"}]},"type-infer":{"patterns":[{"captures":{"1":{"name":"keyword.operator.expression.infer.ts"},"2":{"name":"entity.name.type.ts"},"3":{"name":"keyword.operator.expression.extends.ts"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(infer)\\\\s+([$_[:alpha:]][$_[:alnum:]]*)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))(?:\\\\s+(extends)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))?","name":"meta.type.infer.ts"}]},"type-name":{"patterns":[{"begin":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))\\\\s*(<)","captures":{"1":{"name":"entity.name.type.module.ts"},"2":{"name":"punctuation.accessor.ts"},"3":{"name":"punctuation.accessor.optional.ts"},"4":{"name":"meta.type.parameters.ts punctuation.definition.typeparameters.begin.ts"}},"contentName":"meta.type.parameters.ts","end":"(>)","endCaptures":{"1":{"name":"meta.type.parameters.ts punctuation.definition.typeparameters.end.ts"}},"patterns":[{"include":"#type-arguments-body"}]},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(<)","beginCaptures":{"1":{"name":"entity.name.type.ts"},"2":{"name":"meta.type.parameters.ts punctuation.definition.typeparameters.begin.ts"}},"contentName":"meta.type.parameters.ts","end":"(>)","endCaptures":{"1":{"name":"meta.type.parameters.ts punctuation.definition.typeparameters.end.ts"}},"patterns":[{"include":"#type-arguments-body"}]},{"captures":{"1":{"name":"entity.name.type.module.ts"},"2":{"name":"punctuation.accessor.ts"},"3":{"name":"punctuation.accessor.optional.ts"}},"match":"([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(?:(\\\\.)|(\\\\?\\\\.(?!\\\\s*\\\\d)))"},{"match":"[$_[:alpha:]][$_[:alnum:]]*","name":"entity.name.type.ts"}]},"type-object":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.block.ts"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.block.ts"}},"name":"meta.object.type.ts","patterns":[{"include":"#comment"},{"include":"#method-declaration"},{"include":"#indexer-declaration"},{"include":"#indexer-mapped-type-declaration"},{"include":"#field-declaration"},{"include":"#type-annotation"},{"begin":"\\\\.\\\\.\\\\.","beginCaptures":{"0":{"name":"keyword.operator.spread.ts"}},"end":"(?=[,;}]|$)|(?<=})","patterns":[{"include":"#type"}]},{"include":"#punctuation-comma"},{"include":"#punctuation-semicolon"},{"include":"#type"}]},"type-operators":{"patterns":[{"include":"#typeof-operator"},{"include":"#type-infer"},{"begin":"([\\\\&|])(?=\\\\s*\\\\{)","beginCaptures":{"0":{"name":"keyword.operator.type.ts"}},"end":"(?<=})","patterns":[{"include":"#type-object"}]},{"begin":"[\\\\&|]","beginCaptures":{"0":{"name":"keyword.operator.type.ts"}},"end":"(?=\\\\S)"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))keyof(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.expression.keyof.ts"},{"match":"([:?])","name":"keyword.operator.ternary.ts"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))import(?=\\\\s*\\\\()","name":"keyword.operator.expression.import.ts"}]},"type-parameters":{"begin":"(<)","beginCaptures":{"1":{"name":"punctuation.definition.typeparameters.begin.ts"}},"end":"(>)","endCaptures":{"1":{"name":"punctuation.definition.typeparameters.end.ts"}},"name":"meta.type.parameters.ts","patterns":[{"include":"#comment"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(extends|in|out|const)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"storage.modifier.ts"},{"include":"#type"},{"include":"#punctuation-comma"},{"match":"(=)(?!>)","name":"keyword.operator.assignment.ts"}]},"type-paren-or-function-parameters":{"begin":"\\\\(","beginCaptures":{"0":{"name":"meta.brace.round.ts"}},"end":"\\\\)","endCaptures":{"0":{"name":"meta.brace.round.ts"}},"name":"meta.type.paren.cover.ts","patterns":[{"captures":{"1":{"name":"storage.modifier.ts"},"2":{"name":"keyword.operator.rest.ts"},"3":{"name":"entity.name.function.ts variable.language.this.ts"},"4":{"name":"entity.name.function.ts"},"5":{"name":"keyword.operator.optional.ts"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))\\\\s*(\\\\??)(?=\\\\s*(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))))"},{"captures":{"1":{"name":"storage.modifier.ts"},"2":{"name":"keyword.operator.rest.ts"},"3":{"name":"variable.parameter.ts variable.language.this.ts"},"4":{"name":"variable.parameter.ts"},"5":{"name":"keyword.operator.optional.ts"}},"match":"(?:(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(public|private|protected|readonly)\\\\s+)?(?:(\\\\.\\\\.\\\\.)\\\\s*)?(?<![:=])(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))\\\\s*(\\\\??)(?=:)"},{"include":"#type-annotation"},{"match":",","name":"punctuation.separator.parameter.ts"},{"include":"#type"}]},"type-predicate-operator":{"patterns":[{"captures":{"1":{"name":"keyword.operator.type.asserts.ts"},"2":{"name":"variable.parameter.ts variable.language.this.ts"},"3":{"name":"variable.parameter.ts"},"4":{"name":"keyword.operator.expression.is.ts"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:(asserts)\\\\s+)?(?!asserts)(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))\\\\s(is)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"captures":{"1":{"name":"keyword.operator.type.asserts.ts"},"2":{"name":"variable.parameter.ts variable.language.this.ts"},"3":{"name":"variable.parameter.ts"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(asserts)\\\\s+(?!is)(?:(this)|([$_[:alpha:]][$_[:alnum:]]*))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))asserts(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.type.asserts.ts"},{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))is(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"keyword.operator.expression.is.ts"}]},"type-primitive":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(string|number|bigint|boolean|symbol|any|void|never|unknown)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"support.type.primitive.ts"},"type-string":{"patterns":[{"include":"#qstring-single"},{"include":"#qstring-double"},{"include":"#template-type"}]},"type-tuple":{"begin":"\\\\[","beginCaptures":{"0":{"name":"meta.brace.square.ts"}},"end":"]","endCaptures":{"0":{"name":"meta.brace.square.ts"}},"name":"meta.type.tuple.ts","patterns":[{"match":"\\\\.\\\\.\\\\.","name":"keyword.operator.rest.ts"},{"captures":{"1":{"name":"entity.name.label.ts"},"2":{"name":"keyword.operator.optional.ts"},"3":{"name":"punctuation.separator.label.ts"}},"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))([$_[:alpha:]][$_[:alnum:]]*)\\\\s*(\\\\?)?\\\\s*(:)"},{"include":"#type"},{"include":"#punctuation-comma"}]},"typeof-operator":{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))typeof(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","beginCaptures":{"0":{"name":"keyword.operator.expression.typeof.ts"}},"end":"(?=[]\\\\&),:;=>?{|}]|(extends\\\\s+)|$|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)","patterns":[{"include":"#type-arguments"},{"include":"#expression"}]},"undefined-literal":{"match":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))undefined(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))","name":"constant.language.undefined.ts"},"var-expr":{"patterns":[{"begin":"(?=(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(var|let)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))","end":"(?!(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(var|let)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))((?=^|[;}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)|((?<!^let|[^$._[:alnum:]]let|^var|[^$._[:alnum:]]var)(?=\\\\s*$)))","name":"meta.var.expr.ts","patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(var|let)(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.ts"},"2":{"name":"storage.modifier.ts"},"3":{"name":"storage.type.ts"}},"end":"(?=\\\\S)"},{"include":"#destructuring-variable"},{"include":"#var-single-variable"},{"include":"#variable-initializer"},{"include":"#comment"},{"begin":"(,)\\\\s*(?=$|//)","beginCaptures":{"1":{"name":"punctuation.separator.comma.ts"}},"end":"(?<!,)(((?=[;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|^\\\\s*$))|((?<=\\\\S)(?=\\\\s*$)))","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#comment"},{"include":"#destructuring-variable"},{"include":"#var-single-variable"},{"include":"#punctuation-comma"}]},{"include":"#punctuation-comma"}]},{"begin":"(?=(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(const(?!\\\\s+enum\\\\b))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))","beginCaptures":{"1":{"name":"keyword.control.export.ts"},"2":{"name":"storage.modifier.ts"},"3":{"name":"storage.type.ts"}},"end":"(?!(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(const(?!\\\\s+enum\\\\b))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))((?=^|[;}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)|((?<!(?:^|[^$._[:alnum:]])const)(?=\\\\s*$)))","name":"meta.var.expr.ts","patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b(const(?!\\\\s+enum\\\\b))(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.ts"},"2":{"name":"storage.modifier.ts"},"3":{"name":"storage.type.ts"}},"end":"(?=\\\\S)"},{"include":"#destructuring-const"},{"include":"#var-single-const"},{"include":"#variable-initializer"},{"include":"#comment"},{"begin":"(,)\\\\s*(?=$|//)","beginCaptures":{"1":{"name":"punctuation.separator.comma.ts"}},"end":"(?<!,)(((?=[;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|^\\\\s*$))|((?<=\\\\S)(?=\\\\s*$)))","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#comment"},{"include":"#destructuring-const"},{"include":"#var-single-const"},{"include":"#punctuation-comma"}]},{"include":"#punctuation-comma"}]},{"begin":"(?=(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b\\\\b(using(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])|await\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b)\\\\b(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))","beginCaptures":{"1":{"name":"keyword.control.export.ts"},"2":{"name":"storage.modifier.ts"},"3":{"name":"storage.type.ts"}},"end":"(?!(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b\\\\b(using(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])|await\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b)\\\\b(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))((?=[;}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b)|((?<!(?:^|[^$._[:alnum:]]|^await\\\\s+|[^$._[:alnum:]]await\\\\s+)using)(?=\\\\s*$)))","name":"meta.var.expr.ts","patterns":[{"begin":"(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(?:\\\\b(export)\\\\s+)?(?:\\\\b(declare)\\\\s+)?\\\\b\\\\b(using(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])|await\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b)\\\\b(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.))\\\\s*","beginCaptures":{"1":{"name":"keyword.control.export.ts"},"2":{"name":"storage.modifier.ts"},"3":{"name":"storage.type.ts"}},"end":"(?=\\\\S)"},{"include":"#var-single-const"},{"include":"#variable-initializer"},{"include":"#comment"},{"begin":"(,)\\\\s*((?!\\\\S)|(?=//))","beginCaptures":{"1":{"name":"punctuation.separator.comma.ts"}},"end":"(?<!,)(((?=[;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|^\\\\s*$))|((?<=\\\\S)(?=\\\\s*$)))","patterns":[{"include":"#single-line-comment-consuming-line-ending"},{"include":"#comment"},{"include":"#var-single-const"},{"include":"#punctuation-comma"}]},{"include":"#punctuation-comma"}]}]},"var-single-const":{"patterns":[{"begin":"([$_[:alpha:]][$_[:alnum:]]*)(?=\\\\s*(=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"\'()`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))|(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))))|(:\\\\s*(=>|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(<[^<>]*>)|[^(),<=>])+=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"\'()`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>))))))","beginCaptures":{"1":{"name":"meta.definition.variable.ts variable.other.constant.ts entity.name.function.ts"}},"end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|(;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b))","name":"meta.var-single-variable.expr.ts","patterns":[{"include":"#var-single-variable-type-annotation"}]},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)","beginCaptures":{"1":{"name":"meta.definition.variable.ts variable.other.constant.ts"}},"end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|(;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b))","name":"meta.var-single-variable.expr.ts","patterns":[{"include":"#var-single-variable-type-annotation"}]}]},"var-single-variable":{"patterns":[{"begin":"([$_[:alpha:]][$_[:alnum:]]*)(!)?(?=\\\\s*(=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"\'()`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>)))))|(:\\\\s*((<)|(\\\\(\\\\s*((\\\\))|(\\\\.\\\\.\\\\.)|([$_[:alnum:]]+\\\\s*(([,:=?])|(\\\\)\\\\s*=>)))))))|(:\\\\s*(?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))Function(?![$_[:alnum:]])(?:(?=\\\\.\\\\.\\\\.)|(?!\\\\.)))|(:\\\\s*((<\\\\s*)$|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))))))|(:\\\\s*(=>|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(<[^<>]*>)|[^(),<=>])+=\\\\s*(((async\\\\s+)?((function\\\\s*[(*<])|(function\\\\s+)|([$_[:alpha:]][$_[:alnum:]]*\\\\s*=>)))|((async\\\\s*)?(((<\\\\s*)$|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*((([\\\\[{]\\\\s*)?)$|((\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})\\\\s*((:\\\\s*\\\\{?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*)))|((\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])\\\\s*((:\\\\s*\\\\[?)$|((\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+\\\\s*)?=\\\\s*))))))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*((\\\\)\\\\s*:)|((\\\\.\\\\.\\\\.\\\\s*)?[$_[:alpha:]][$_[:alnum:]]*\\\\s*:)))|((<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<]|<\\\\s*(((const\\\\s+)?[$_[:alpha:]])|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*]))([^<=>]|=[^<])*>)*>)*>\\\\s*)?\\\\(\\\\s*(/\\\\*([^*]|(\\\\*[^/]))*\\\\*/\\\\s*)*(([$_[:alpha:]]|(\\\\{([^{}]|(\\\\{([^{}]|\\\\{[^{}]*})*}))*})|(\\\\[([^]\\\\[]|(\\\\[([^]\\\\[]|\\\\[[^]\\\\[]*])*]))*])|(\\\\.\\\\.\\\\.\\\\s*[$_[:alpha:]]))([^\\"\'()`]|(\\\\(([^()]|(\\\\(([^()]|\\\\([^()]*\\\\))*\\\\)))*\\\\))|(\'([^\'\\\\\\\\]|\\\\\\\\.)*\')|(\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\")|(`([^\\\\\\\\`]|\\\\\\\\.)*`))*)?\\\\)(\\\\s*:\\\\s*([^()<>{}]|<([^<>]|<([^<>]|<[^<>]+>)+>)+>|\\\\([^()]+\\\\)|\\\\{[^{}]+})+)?\\\\s*=>))))))","beginCaptures":{"1":{"name":"meta.definition.variable.ts entity.name.function.ts"},"2":{"name":"keyword.operator.definiteassignment.ts"}},"end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|(;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b))","name":"meta.var-single-variable.expr.ts","patterns":[{"include":"#var-single-variable-type-annotation"}]},{"begin":"(\\\\p{upper}[$_\\\\d[:upper:]]*)(?![$_[:alnum:]])(!)?","beginCaptures":{"1":{"name":"meta.definition.variable.ts variable.other.constant.ts"},"2":{"name":"keyword.operator.definiteassignment.ts"}},"end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|(;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b))","name":"meta.var-single-variable.expr.ts","patterns":[{"include":"#var-single-variable-type-annotation"}]},{"begin":"([$_[:alpha:]][$_[:alnum:]]*)(!)?","beginCaptures":{"1":{"name":"meta.definition.variable.ts variable.other.readwrite.ts"},"2":{"name":"keyword.operator.definiteassignment.ts"}},"end":"(?=$|^|[,;=}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+)|(;|^\\\\s*$|^\\\\s*(?:abstract|async|\\\\bawait\\\\s+\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b\\\\b|break|case|catch|class|const|continue|declare|do|else|enum|export|finally|function|for|goto|if|import|interface|let|module|namespace|switch|return|throw|try|type|\\\\busing(?=\\\\s+(?!in\\\\b|of\\\\b(?!\\\\s*(?:of\\\\b|=)))[$_[:alpha:]])\\\\b|var|while)\\\\b))","name":"meta.var-single-variable.expr.ts","patterns":[{"include":"#var-single-variable-type-annotation"}]}]},"var-single-variable-type-annotation":{"patterns":[{"include":"#type-annotation"},{"include":"#string"},{"include":"#comment"}]},"variable-initializer":{"patterns":[{"begin":"(?<![!=])(=)(?!=)(?=\\\\s*\\\\S)(?!\\\\s*.*=>\\\\s*$)","beginCaptures":{"1":{"name":"keyword.operator.assignment.ts"}},"end":"(?=$|^|[]),;}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))","patterns":[{"include":"#expression"}]},{"begin":"(?<![!=])(=)(?!=)","beginCaptures":{"1":{"name":"keyword.operator.assignment.ts"}},"end":"(?=[]),;}]|((?<![$_[:alnum:]])(?:(?<=\\\\.\\\\.\\\\.)|(?<!\\\\.))(of|in)\\\\s+))|(?=^\\\\s*$)|(?<![-\\\\&*+/|])(?<=\\\\S)(?<!=)(?=\\\\s*$)","patterns":[{"include":"#expression"}]}]}},"scopeName":"source.ts","aliases":["ts","cts","mts"]}')),Iz=[$9e],OQe=Object.freeze(Object.defineProperty({__proto__:null,default:Iz},Symbol.toStringTag,{value:"Module"})),A9e=Object.freeze(JSON.parse(`{"displayName":"YAML","fileTypes":["yaml","yml","rviz","reek","clang-format","yaml-tmlanguage","syntax","sublime-syntax"],"firstLineMatch":"^%YAML( ?1.\\\\d+)?","name":"yaml","patterns":[{"include":"#comment"},{"include":"#property"},{"include":"#directive"},{"match":"^---","name":"entity.other.document.begin.yaml"},{"match":"^\\\\.{3}","name":"entity.other.document.end.yaml"},{"include":"#node"}],"repository":{"block-collection":{"patterns":[{"include":"#block-sequence"},{"include":"#block-mapping"}]},"block-mapping":{"patterns":[{"include":"#block-pair"}]},"block-node":{"patterns":[{"include":"#prototype"},{"include":"#block-scalar"},{"include":"#block-collection"},{"include":"#flow-scalar-plain-out"},{"include":"#flow-node"}]},"block-pair":{"patterns":[{"begin":"\\\\?","beginCaptures":{"1":{"name":"punctuation.definition.key-value.begin.yaml"}},"end":"(?=\\\\?)|^ *(:)|(:)","endCaptures":{"1":{"name":"punctuation.separator.key-value.mapping.yaml"},"2":{"name":"invalid.illegal.expected-newline.yaml"}},"name":"meta.block-mapping.yaml","patterns":[{"include":"#block-node"}]},{"begin":"(?=(?:[^-\\\\]!\\"#%\\\\&'*,:>?@\\\\[\`{|}\\\\s]|[-:?]\\\\S)([^:\\\\s]|:\\\\S|\\\\s+(?![#\\\\s]))*\\\\s*:(\\\\s|$))","end":"(?=\\\\s*$|\\\\s+#|\\\\s*:(\\\\s|$))","patterns":[{"include":"#flow-scalar-plain-out-implicit-type"},{"begin":"[^-\\\\]!\\"#%\\\\&'*,:>?@\\\\[\`{|}\\\\s]|[-:?]\\\\S","beginCaptures":{"0":{"name":"entity.name.tag.yaml"}},"contentName":"entity.name.tag.yaml","end":"(?=\\\\s*$|\\\\s+#|\\\\s*:(\\\\s|$))","name":"string.unquoted.plain.out.yaml"}]},{"match":":(?=\\\\s|$)","name":"punctuation.separator.key-value.mapping.yaml"}]},"block-scalar":{"begin":"(?:(\\\\|)|(>))([1-9])?([-+])?(.*\\\\n?)","beginCaptures":{"1":{"name":"keyword.control.flow.block-scalar.literal.yaml"},"2":{"name":"keyword.control.flow.block-scalar.folded.yaml"},"3":{"name":"constant.numeric.indentation-indicator.yaml"},"4":{"name":"storage.modifier.chomping-indicator.yaml"},"5":{"patterns":[{"include":"#comment"},{"match":".+","name":"invalid.illegal.expected-comment-or-newline.yaml"}]}},"end":"^(?=\\\\S)|(?!\\\\G)","patterns":[{"begin":"^( +)(?! )","end":"^(?!\\\\1|\\\\s*$)","name":"string.unquoted.block.yaml"}]},"block-sequence":{"match":"(-)(?!\\\\S)","name":"punctuation.definition.block.sequence.item.yaml"},"comment":{"begin":"(?:^([\\\\t ]*)|[\\\\t ]+)(?=#\\\\p{print}*$)","beginCaptures":{"1":{"name":"punctuation.whitespace.comment.leading.yaml"}},"end":"(?!\\\\G)","patterns":[{"begin":"#","beginCaptures":{"0":{"name":"punctuation.definition.comment.yaml"}},"end":"\\\\n","name":"comment.line.number-sign.yaml"}]},"directive":{"begin":"^%","beginCaptures":{"0":{"name":"punctuation.definition.directive.begin.yaml"}},"end":"(?=$|[\\\\t ]+($|#))","name":"meta.directive.yaml","patterns":[{"captures":{"1":{"name":"keyword.other.directive.yaml.yaml"},"2":{"name":"constant.numeric.yaml-version.yaml"}},"match":"\\\\G(YAML)[\\\\t ]+(\\\\d+\\\\.\\\\d+)"},{"captures":{"1":{"name":"keyword.other.directive.tag.yaml"},"2":{"name":"storage.type.tag-handle.yaml"},"3":{"name":"support.type.tag-prefix.yaml"}},"match":"\\\\G(TAG)(?:[\\\\t ]+(!(?:[-0-9A-Za-z]*!)?)(?:[\\\\t ]+(!(?:%\\\\h{2}|[]!#$\\\\&-;=?-\\\\[_a-z~])*|(?![]!,\\\\[{}])(?:%\\\\h{2}|[]!#$\\\\&-;=?-\\\\[_a-z~])+))?)?"},{"captures":{"1":{"name":"support.other.directive.reserved.yaml"},"2":{"name":"string.unquoted.directive-name.yaml"},"3":{"name":"string.unquoted.directive-parameter.yaml"}},"match":"\\\\G(\\\\w+)(?:[\\\\t ]+(\\\\w+)(?:[\\\\t ]+(\\\\w+))?)?"},{"match":"\\\\S+","name":"invalid.illegal.unrecognized.yaml"}]},"flow-alias":{"captures":{"1":{"name":"keyword.control.flow.alias.yaml"},"2":{"name":"punctuation.definition.alias.yaml"},"3":{"name":"variable.other.alias.yaml"},"4":{"name":"invalid.illegal.character.anchor.yaml"}},"match":"((\\\\*))([^],/\\\\[{}\\\\s]+)([^],}\\\\s]\\\\S*)?"},"flow-collection":{"patterns":[{"include":"#flow-sequence"},{"include":"#flow-mapping"}]},"flow-mapping":{"begin":"\\\\{","beginCaptures":{"0":{"name":"punctuation.definition.mapping.begin.yaml"}},"end":"}","endCaptures":{"0":{"name":"punctuation.definition.mapping.end.yaml"}},"name":"meta.flow-mapping.yaml","patterns":[{"include":"#prototype"},{"match":",","name":"punctuation.separator.mapping.yaml"},{"include":"#flow-pair"}]},"flow-node":{"patterns":[{"include":"#prototype"},{"include":"#flow-alias"},{"include":"#flow-collection"},{"include":"#flow-scalar"}]},"flow-pair":{"patterns":[{"begin":"\\\\?","beginCaptures":{"0":{"name":"punctuation.definition.key-value.begin.yaml"}},"end":"(?=[],}])","name":"meta.flow-pair.explicit.yaml","patterns":[{"include":"#prototype"},{"include":"#flow-pair"},{"include":"#flow-node"},{"begin":":(?=\\\\s|$|[],\\\\[{}])","beginCaptures":{"0":{"name":"punctuation.separator.key-value.mapping.yaml"}},"end":"(?=[],}])","patterns":[{"include":"#flow-value"}]}]},{"begin":"(?=(?:[^-\\\\]!\\"#%\\\\&'*,:>?@\\\\[\`{|}\\\\s]|[-:?][^],\\\\[{}\\\\s])([^],:\\\\[{}\\\\s]|:[^],\\\\[{}\\\\s]|\\\\s+(?![#\\\\s]))*\\\\s*:(\\\\s|$))","end":"(?=\\\\s*$|\\\\s+#|\\\\s*:(\\\\s|$)|\\\\s*:[],\\\\[{}]|\\\\s*[],\\\\[{}])","name":"meta.flow-pair.key.yaml","patterns":[{"include":"#flow-scalar-plain-in-implicit-type"},{"begin":"[^-\\\\]!\\"#%\\\\&'*,:>?@\\\\[\`{|}\\\\s]|[-:?][^],\\\\[{}\\\\s]","beginCaptures":{"0":{"name":"entity.name.tag.yaml"}},"contentName":"entity.name.tag.yaml","end":"(?=\\\\s*$|\\\\s+#|\\\\s*:(\\\\s|$)|\\\\s*:[],\\\\[{}]|\\\\s*[],\\\\[{}])","name":"string.unquoted.plain.in.yaml"}]},{"include":"#flow-node"},{"begin":":(?=\\\\s|$|[],\\\\[{}])","captures":{"0":{"name":"punctuation.separator.key-value.mapping.yaml"}},"end":"(?=[],}])","name":"meta.flow-pair.yaml","patterns":[{"include":"#flow-value"}]}]},"flow-scalar":{"patterns":[{"include":"#flow-scalar-double-quoted"},{"include":"#flow-scalar-single-quoted"},{"include":"#flow-scalar-plain-in"}]},"flow-scalar-double-quoted":{"begin":"\\"","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.yaml"}},"end":"\\"","endCaptures":{"0":{"name":"punctuation.definition.string.end.yaml"}},"name":"string.quoted.double.yaml","patterns":[{"match":"\\\\\\\\([ \\"/0LN\\\\\\\\_abefnprtv]|x\\\\d\\\\d|u\\\\d{4}|U\\\\d{8})","name":"constant.character.escape.yaml"},{"match":"\\\\\\\\\\\\n","name":"constant.character.escape.double-quoted.newline.yaml"}]},"flow-scalar-plain-in":{"patterns":[{"include":"#flow-scalar-plain-in-implicit-type"},{"begin":"[^-\\\\]!\\"#%\\\\&'*,:>?@\\\\[\`{|}\\\\s]|[-:?][^],\\\\[{}\\\\s]","end":"(?=\\\\s*$|\\\\s+#|\\\\s*:(\\\\s|$)|\\\\s*:[],\\\\[{}]|\\\\s*[],\\\\[{}])","name":"string.unquoted.plain.in.yaml"}]},"flow-scalar-plain-in-implicit-type":{"patterns":[{"captures":{"1":{"name":"constant.language.null.yaml"},"2":{"name":"constant.language.boolean.yaml"},"3":{"name":"constant.numeric.integer.yaml"},"4":{"name":"constant.numeric.float.yaml"},"5":{"name":"constant.other.timestamp.yaml"},"6":{"name":"constant.language.value.yaml"},"7":{"name":"constant.language.merge.yaml"}},"match":"(?:(null|Null|NULL|~)|([Yy]|yes|Yes|YES|[Nn]|no|No|NO|true|True|TRUE|false|False|FALSE|on|On|ON|off|Off|OFF)|([-+]?0b[01_]+|[-+]?0[0-7_]+|[-+]?(?:0|[1-9][0-9_]*)|[-+]?0x[_\\\\h]+|[-+]?[1-9][0-9_]*(?::[0-5]?[0-9])+)|([-+]?(?:[0-9][0-9_]*)?\\\\.[.0-9]*(?:[Ee][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\\\.[0-9_]*|[-+]?\\\\.(?:inf|Inf|INF)|\\\\.(?:nan|NaN|NAN))|(\\\\d{4}-\\\\d{2}-\\\\d{2}|\\\\d{4}-\\\\d{1,2}-\\\\d{1,2}(?:[Tt]|[\\\\t ]+)\\\\d{1,2}:\\\\d{2}:\\\\d{2}(?:\\\\.\\\\d*)?(?:[\\\\t ]*Z|[-+]\\\\d{1,2}(?::\\\\d{1,2})?)?)|(=)|(<<))(?=\\\\s*$|\\\\s+#|\\\\s*:(\\\\s|$)|\\\\s*:[],\\\\[{}]|\\\\s*[],\\\\[{}])"}]},"flow-scalar-plain-out":{"patterns":[{"include":"#flow-scalar-plain-out-implicit-type"},{"begin":"[^-\\\\]!\\"#%\\\\&'*,:>?@\\\\[\`{|}\\\\s]|[-:?]\\\\S","end":"(?=\\\\s*$|\\\\s+#|\\\\s*:(\\\\s|$))","name":"string.unquoted.plain.out.yaml"}]},"flow-scalar-plain-out-implicit-type":{"patterns":[{"captures":{"1":{"name":"constant.language.null.yaml"},"2":{"name":"constant.language.boolean.yaml"},"3":{"name":"constant.numeric.integer.yaml"},"4":{"name":"constant.numeric.float.yaml"},"5":{"name":"constant.other.timestamp.yaml"},"6":{"name":"constant.language.value.yaml"},"7":{"name":"constant.language.merge.yaml"}},"match":"(?:(null|Null|NULL|~)|([Yy]|yes|Yes|YES|[Nn]|no|No|NO|true|True|TRUE|false|False|FALSE|on|On|ON|off|Off|OFF)|([-+]?0b[01_]+|[-+]?0[0-7_]+|[-+]?(?:0|[1-9][0-9_]*)|[-+]?0x[_\\\\h]+|[-+]?[1-9][0-9_]*(?::[0-5]?[0-9])+)|([-+]?(?:[0-9][0-9_]*)?\\\\.[.0-9]*(?:[Ee][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\\\.[0-9_]*|[-+]?\\\\.(?:inf|Inf|INF)|\\\\.(?:nan|NaN|NAN))|(\\\\d{4}-\\\\d{2}-\\\\d{2}|\\\\d{4}-\\\\d{1,2}-\\\\d{1,2}(?:[Tt]|[\\\\t ]+)\\\\d{1,2}:\\\\d{2}:\\\\d{2}(?:\\\\.\\\\d*)?(?:[\\\\t ]*Z|[-+]\\\\d{1,2}(?::\\\\d{1,2})?)?)|(=)|(<<))(?=\\\\s*$|\\\\s+#|\\\\s*:(\\\\s|$))"}]},"flow-scalar-single-quoted":{"begin":"'","beginCaptures":{"0":{"name":"punctuation.definition.string.begin.yaml"}},"end":"'(?!')","endCaptures":{"0":{"name":"punctuation.definition.string.end.yaml"}},"name":"string.quoted.single.yaml","patterns":[{"match":"''","name":"constant.character.escape.single-quoted.yaml"}]},"flow-sequence":{"begin":"\\\\[","beginCaptures":{"0":{"name":"punctuation.definition.sequence.begin.yaml"}},"end":"]","endCaptures":{"0":{"name":"punctuation.definition.sequence.end.yaml"}},"name":"meta.flow-sequence.yaml","patterns":[{"include":"#prototype"},{"match":",","name":"punctuation.separator.sequence.yaml"},{"include":"#flow-pair"},{"include":"#flow-node"}]},"flow-value":{"patterns":[{"begin":"\\\\G(?![],}])","end":"(?=[],}])","name":"meta.flow-pair.value.yaml","patterns":[{"include":"#flow-node"}]}]},"node":{"patterns":[{"include":"#block-node"}]},"property":{"begin":"(?=[!\\\\&])","end":"(?!\\\\G)","name":"meta.property.yaml","patterns":[{"captures":{"1":{"name":"keyword.control.property.anchor.yaml"},"2":{"name":"punctuation.definition.anchor.yaml"},"3":{"name":"entity.name.type.anchor.yaml"},"4":{"name":"invalid.illegal.character.anchor.yaml"}},"match":"\\\\G((&))([^],/\\\\[{}\\\\s]+)(\\\\S+)?"},{"match":"\\\\G!(?:<(?:%\\\\h{2}|[]!#$\\\\&-;=?-\\\\[_a-z~])+>|(?:[-0-9A-Za-z]*!)?(?:%\\\\h{2}|[#$\\\\&-+\\\\--;=?-Z_a-z~])+|)(?=[\\\\t ]|$)","name":"storage.type.tag-handle.yaml"},{"match":"\\\\S+","name":"invalid.illegal.tag-handle.yaml"}]},"prototype":{"patterns":[{"include":"#comment"},{"include":"#property"}]}},"scopeName":"source.yaml","aliases":["yml"]}`)),n4=[A9e],PQe=Object.freeze(Object.defineProperty({__proto__:null,default:n4},Symbol.toStringTag,{value:"Module"}));var I9e=300,R9e="300px",M9e=500;function D9e(t={}){let{immediate:e=!1,debounceDelay:n=I9e,rootMargin:r=R9e,idleTimeout:a=M9e}=t,[s,i]=b.useState(!1),o=b.useRef(null),c=b.useRef(null),u=b.useRef(null),d=b.useMemo(()=>p=>{let f=Date.now();return window.setTimeout(()=>{p({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-f))})},1)},[]),m=b.useMemo(()=>typeof window<"u"&&window.requestIdleCallback?(p,f)=>window.requestIdleCallback(p,f):d,[d]),h=b.useMemo(()=>typeof window<"u"&&window.cancelIdleCallback?p=>window.cancelIdleCallback(p):p=>{clearTimeout(p)},[]);return b.useEffect(()=>{if(e){i(!0);return}let p=o.current;if(!p)return;c.current&&(clearTimeout(c.current),c.current=null),u.current&&(h(u.current),u.current=null);let f=()=>{c.current&&(clearTimeout(c.current),c.current=null),u.current&&(h(u.current),u.current=null)},g=v=>{u.current=m(k=>{k.timeRemaining()>0||k.didTimeout?(i(!0),v.disconnect()):u.current=m(()=>{i(!0),v.disconnect()},{timeout:a/2})},{timeout:a})},x=v=>{f(),c.current=window.setTimeout(()=>{var k,C;let _=v.takeRecords();(_.length===0||(C=(k=_.at(-1))==null?void 0:k.isIntersecting)!=null&&C)&&g(v)},n)},y=(v,k)=>{v.isIntersecting?x(k):f()},w=new IntersectionObserver(v=>{for(let k of v)y(k,w)},{rootMargin:r,threshold:0});return w.observe(p),()=>{c.current&&clearTimeout(c.current),u.current&&h(u.current),w.disconnect()}},[e,n,r,a,h,m]),{shouldRender:s,containerRef:o}}var Rz=t=>l.jsx("svg",{color:"currentColor",height:16,strokeLinejoin:"round",viewBox:"0 0 16 16",width:16,...t,children:l.jsx("path",{clipRule:"evenodd",d:"M15.5607 3.99999L15.0303 4.53032L6.23744 13.3232C5.55403 14.0066 4.44599 14.0066 3.76257 13.3232L4.2929 12.7929L3.76257 13.3232L0.969676 10.5303L0.439346 9.99999L1.50001 8.93933L2.03034 9.46966L4.82323 12.2626C4.92086 12.3602 5.07915 12.3602 5.17678 12.2626L13.9697 3.46966L14.5 2.93933L15.5607 3.99999Z",fill:"currentColor",fillRule:"evenodd"})}),Mz=t=>l.jsx("svg",{color:"currentColor",height:16,strokeLinejoin:"round",viewBox:"0 0 16 16",width:16,...t,children:l.jsx("path",{clipRule:"evenodd",d:"M2.75 0.5C1.7835 0.5 1 1.2835 1 2.25V9.75C1 10.7165 1.7835 11.5 2.75 11.5H3.75H4.5V10H3.75H2.75C2.61193 10 2.5 9.88807 2.5 9.75V2.25C2.5 2.11193 2.61193 2 2.75 2H8.25C8.38807 2 8.5 2.11193 8.5 2.25V3H10V2.25C10 1.2835 9.2165 0.5 8.25 0.5H2.75ZM7.75 4.5C6.7835 4.5 6 5.2835 6 6.25V13.75C6 14.7165 6.7835 15.5 7.75 15.5H13.25C14.2165 15.5 15 14.7165 15 13.75V6.25C15 5.2835 14.2165 4.5 13.25 4.5H7.75ZM7.5 6.25C7.5 6.11193 7.61193 6 7.75 6H13.25C13.3881 6 13.5 6.11193 13.5 6.25V13.75C13.5 13.8881 13.3881 14 13.25 14H7.75C7.61193 14 7.5 13.8881 7.5 13.75V6.25Z",fill:"currentColor",fillRule:"evenodd"})}),Uy=t=>l.jsx("svg",{color:"currentColor",height:16,strokeLinejoin:"round",viewBox:"0 0 16 16",width:16,...t,children:l.jsx("path",{clipRule:"evenodd",d:"M8.75 1V1.75V8.68934L10.7197 6.71967L11.25 6.18934L12.3107 7.25L11.7803 7.78033L8.70711 10.8536C8.31658 11.2441 7.68342 11.2441 7.29289 10.8536L4.21967 7.78033L3.68934 7.25L4.75 6.18934L5.28033 6.71967L7.25 8.68934V1.75V1H8.75ZM13.5 9.25V13.5H2.5V9.25V8.5H1V9.25V14C1 14.5523 1.44771 15 2 15H14C14.5523 15 15 14.5523 15 14V9.25V8.5H13.5V9.25Z",fill:"currentColor",fillRule:"evenodd"})}),L9e=t=>l.jsxs("svg",{color:"currentColor",height:16,strokeLinejoin:"round",viewBox:"0 0 16 16",width:16,...t,children:[l.jsx("path",{d:"M8 0V4",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M8 16V12",opacity:"0.5",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M3.29773 1.52783L5.64887 4.7639",opacity:"0.9",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M12.7023 1.52783L10.3511 4.7639",opacity:"0.1",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M12.7023 14.472L10.3511 11.236",opacity:"0.4",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M3.29773 14.472L5.64887 11.236",opacity:"0.6",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M15.6085 5.52783L11.8043 6.7639",opacity:"0.2",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M0.391602 10.472L4.19583 9.23598",opacity:"0.7",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M15.6085 10.4722L11.8043 9.2361",opacity:"0.3",stroke:"currentColor",strokeWidth:"1.5"}),l.jsx("path",{d:"M0.391602 5.52783L4.19583 6.7639",opacity:"0.8",stroke:"currentColor",strokeWidth:"1.5"})]}),O9e=t=>l.jsx("svg",{color:"currentColor",height:16,strokeLinejoin:"round",viewBox:"0 0 16 16",width:16,...t,children:l.jsx("path",{clipRule:"evenodd",d:"M1 5.25V6H2.5V5.25V2.5H5.25H6V1H5.25H2C1.44772 1 1 1.44772 1 2V5.25ZM5.25 14.9994H6V13.4994H5.25H2.5V10.7494V9.99939H1V10.7494V13.9994C1 14.5517 1.44772 14.9994 2 14.9994H5.25ZM15 10V10.75V14C15 14.5523 14.5523 15 14 15H10.75H10V13.5H10.75H13.5V10.75V10H15ZM10.75 1H10V2.5H10.75H13.5V5.25V6H15V5.25V2C15 1.44772 14.5523 1 14 1H10.75Z",fill:"currentColor",fillRule:"evenodd"})}),P9e=t=>l.jsx("svg",{color:"currentColor",height:16,strokeLinejoin:"round",viewBox:"0 0 16 16",width:16,...t,children:l.jsx("path",{clipRule:"evenodd",d:"M13.5 8C13.5 4.96643 11.0257 2.5 7.96452 2.5C5.42843 2.5 3.29365 4.19393 2.63724 6.5H5.25H6V8H5.25H0.75C0.335787 8 0 7.66421 0 7.25V2.75V2H1.5V2.75V5.23347C2.57851 2.74164 5.06835 1 7.96452 1C11.8461 1 15 4.13001 15 8C15 11.87 11.8461 15 7.96452 15C5.62368 15 3.54872 13.8617 2.27046 12.1122L1.828 11.5066L3.03915 10.6217L3.48161 11.2273C4.48831 12.6051 6.12055 13.5 7.96452 13.5C11.0257 13.5 13.5 11.0336 13.5 8Z",fill:"currentColor",fillRule:"evenodd"})}),F9e=t=>l.jsx("svg",{color:"currentColor",height:16,strokeLinejoin:"round",viewBox:"0 0 16 16",width:16,...t,children:l.jsx("path",{clipRule:"evenodd",d:"M12.4697 13.5303L13 14.0607L14.0607 13L13.5303 12.4697L9.06065 7.99999L13.5303 3.53032L14.0607 2.99999L13 1.93933L12.4697 2.46966L7.99999 6.93933L3.53032 2.46966L2.99999 1.93933L1.93933 2.99999L2.46966 3.53032L6.93933 7.99999L2.46966 12.4697L1.93933 13L2.99999 14.0607L3.53032 13.5303L7.99999 9.06065L12.4697 13.5303Z",fill:"currentColor",fillRule:"evenodd"})}),B9e=t=>l.jsx("svg",{color:"currentColor",height:16,strokeLinejoin:"round",viewBox:"0 0 16 16",width:16,...t,children:l.jsx("path",{clipRule:"evenodd",d:"M1.5 6.5C1.5 3.73858 3.73858 1.5 6.5 1.5C9.26142 1.5 11.5 3.73858 11.5 6.5C11.5 9.26142 9.26142 11.5 6.5 11.5C3.73858 11.5 1.5 9.26142 1.5 6.5ZM6.5 0C2.91015 0 0 2.91015 0 6.5C0 10.0899 2.91015 13 6.5 13C8.02469 13 9.42677 12.475 10.5353 11.596L13.9697 15.0303L14.5 15.5607L15.5607 14.5L15.0303 13.9697L11.596 10.5353C12.475 9.42677 13 8.02469 13 6.5C13 2.91015 10.0899 0 6.5 0ZM4.125 5.875H4.75H5.875V4.75V4.125H7.125V4.75V5.875H8.25H8.875V7.125H8.25H7.125V8.25V8.875H5.875V8.25V7.125H4.75H4.125V5.875Z",fill:"currentColor",fillRule:"evenodd"})}),z9e=t=>l.jsx("svg",{color:"currentColor",height:16,strokeLinejoin:"round",viewBox:"0 0 16 16",width:16,...t,children:l.jsx("path",{clipRule:"evenodd",d:"M15.5607 3.99999L15.0303 4.53032L6.23744 13.3232C5.55403 14.0066 4.44599 14.0066 3.76257 13.3232L4.2929 12.7929L3.76257 13.3232L0.969676 10.5303L0.439346 9.99999L1.50001 8.93933L2.03034 9.46966L4.82323 12.2626C4.92086 12.3602 5.07915 12.3602 5.17678 12.2626L13.9697 3.46966L14.5 2.93933L15.5607 3.99999Z",fill:"currentColor",fillRule:"evenodd"})}),Tn=(...t)=>cZ(uZ(t)),sm=(t,e,n)=>{let r=typeof e=="string"?new Blob([e],{type:n}):e,a=URL.createObjectURL(r),s=document.createElement("a");s.href=a,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a)},H9e=b.createContext({code:""}),Dz=()=>b.useContext(H9e),Y8=({onCopy:t,onError:e,timeout:n=2e3,children:r,className:a,code:s,...i})=>{let[o,c]=b.useState(!1),u=b.useRef(0),{code:d}=Dz(),{isAnimating:m}=b.useContext(Di),h=s??d,p=async()=>{var g;if(typeof window>"u"||!((g=navigator?.clipboard)!=null&&g.writeText)){e?.(new Error("Clipboard API not available"));return}try{o||(await navigator.clipboard.writeText(h),c(!0),t?.(),u.current=window.setTimeout(()=>c(!1),n))}catch(x){e?.(x)}};b.useEffect(()=>()=>{window.clearTimeout(u.current)},[]);let f=o?Rz:Mz;return l.jsx("button",{className:Tn("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",a),"data-streamdown":"code-block-copy-button",disabled:m,onClick:p,title:"Copy Code",type:"button",...i,children:r??l.jsx(f,{size:14})})},X8={"1c":"1c","1c-query":"1cq",abap:"abap","actionscript-3":"as",ada:"ada",adoc:"adoc","angular-html":"html","angular-ts":"ts",apache:"conf",apex:"cls",apl:"apl",applescript:"applescript",ara:"ara",asciidoc:"adoc",asm:"asm",astro:"astro",awk:"awk",ballerina:"bal",bash:"sh",bat:"bat",batch:"bat",be:"be",beancount:"beancount",berry:"berry",bibtex:"bib",bicep:"bicep",blade:"blade.php",bsl:"bsl",c:"c","c#":"cs","c++":"cpp",cadence:"cdc",cairo:"cairo",cdc:"cdc",clarity:"clar",clj:"clj",clojure:"clj","closure-templates":"soy",cmake:"cmake",cmd:"cmd",cobol:"cob",codeowners:"CODEOWNERS",codeql:"ql",coffee:"coffee",coffeescript:"coffee","common-lisp":"lisp",console:"sh",coq:"v",cpp:"cpp",cql:"cql",crystal:"cr",cs:"cs",csharp:"cs",css:"css",csv:"csv",cue:"cue",cypher:"cql",d:"d",dart:"dart",dax:"dax",desktop:"desktop",diff:"diff",docker:"dockerfile",dockerfile:"dockerfile",dotenv:"env","dream-maker":"dm",edge:"edge",elisp:"el",elixir:"ex",elm:"elm","emacs-lisp":"el",erb:"erb",erl:"erl",erlang:"erl",f:"f","f#":"fs",f03:"f03",f08:"f08",f18:"f18",f77:"f77",f90:"f90",f95:"f95",fennel:"fnl",fish:"fish",fluent:"ftl",for:"for","fortran-fixed-form":"f","fortran-free-form":"f90",fs:"fs",fsharp:"fs",fsl:"fsl",ftl:"ftl",gdresource:"tres",gdscript:"gd",gdshader:"gdshader",genie:"gs",gherkin:"feature","git-commit":"gitcommit","git-rebase":"gitrebase",gjs:"js",gleam:"gleam","glimmer-js":"js","glimmer-ts":"ts",glsl:"glsl",gnuplot:"plt",go:"go",gql:"gql",graphql:"graphql",groovy:"groovy",gts:"gts",hack:"hack",haml:"haml",handlebars:"hbs",haskell:"hs",haxe:"hx",hbs:"hbs",hcl:"hcl",hjson:"hjson",hlsl:"hlsl",hs:"hs",html:"html","html-derivative":"html",http:"http",hxml:"hxml",hy:"hy",imba:"imba",ini:"ini",jade:"jade",java:"java",javascript:"js",jinja:"jinja",jison:"jison",jl:"jl",js:"js",json:"json",json5:"json5",jsonc:"jsonc",jsonl:"jsonl",jsonnet:"jsonnet",jssm:"jssm",jsx:"jsx",julia:"jl",kotlin:"kt",kql:"kql",kt:"kt",kts:"kts",kusto:"kql",latex:"tex",lean:"lean",lean4:"lean",less:"less",liquid:"liquid",lisp:"lisp",lit:"lit",llvm:"ll",log:"log",logo:"logo",lua:"lua",luau:"luau",make:"mak",makefile:"mak",markdown:"md",marko:"marko",matlab:"m",md:"md",mdc:"mdc",mdx:"mdx",mediawiki:"wiki",mermaid:"mmd",mips:"s",mipsasm:"s",mmd:"mmd",mojo:"mojo",move:"move",nar:"nar",narrat:"narrat",nextflow:"nf",nf:"nf",nginx:"conf",nim:"nim",nix:"nix",nu:"nu",nushell:"nu",objc:"m","objective-c":"m","objective-cpp":"mm",ocaml:"ml",pascal:"pas",perl:"pl",perl6:"p6",php:"php",plsql:"pls",po:"po",polar:"polar",postcss:"pcss",pot:"pot",potx:"potx",powerquery:"pq",powershell:"ps1",prisma:"prisma",prolog:"pl",properties:"properties",proto:"proto",protobuf:"proto",ps:"ps",ps1:"ps1",pug:"pug",puppet:"pp",purescript:"purs",py:"py",python:"py",ql:"ql",qml:"qml",qmldir:"qmldir",qss:"qss",r:"r",racket:"rkt",raku:"raku",razor:"cshtml",rb:"rb",reg:"reg",regex:"regex",regexp:"regexp",rel:"rel",riscv:"s",rs:"rs",rst:"rst",ruby:"rb",rust:"rs",sas:"sas",sass:"sass",scala:"scala",scheme:"scm",scss:"scss",sdbl:"sdbl",sh:"sh",shader:"shader",shaderlab:"shader",shell:"sh",shellscript:"sh",shellsession:"sh",smalltalk:"st",solidity:"sol",soy:"soy",sparql:"rq",spl:"spl",splunk:"spl",sql:"sql","ssh-config":"config",stata:"do",styl:"styl",stylus:"styl",svelte:"svelte",swift:"swift","system-verilog":"sv",systemd:"service",talon:"talon",talonscript:"talon",tasl:"tasl",tcl:"tcl",templ:"templ",terraform:"tf",tex:"tex",tf:"tf",tfvars:"tfvars",toml:"toml",ts:"ts","ts-tags":"ts",tsp:"tsp",tsv:"tsv",tsx:"tsx",turtle:"ttl",twig:"twig",typ:"typ",typescript:"ts",typespec:"tsp",typst:"typ",v:"v",vala:"vala",vb:"vb",verilog:"v",vhdl:"vhdl",vim:"vim",viml:"vim",vimscript:"vim",vue:"vue","vue-html":"html","vue-vine":"vine",vy:"vy",vyper:"vy",wasm:"wasm",wenyan:"wy",wgsl:"wgsl",wiki:"wiki",wikitext:"wiki",wit:"wit",wl:"wl",wolfram:"wl",xml:"xml",xsl:"xsl",yaml:"yaml",yml:"yml",zenscript:"zs",zig:"zig",zsh:"zsh",:"wy"},q9e=({onDownload:t,onError:e,language:n,children:r,className:a,code:s,...i})=>{let{code:o}=Dz(),{isAnimating:c}=b.useContext(Di),u=s??o,d=`file.${n&&n in X8?X8[n]:"txt"}`,m="text/plain",h=()=>{try{sm(d,u,m),t?.()}catch(p){e?.(p)}};return l.jsx("button",{className:Tn("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",a),"data-streamdown":"code-block-download-button",disabled:c,onClick:h,title:"Download file",type:"button",...i,children:r??l.jsx(Uy,{size:14})})},Z8=()=>l.jsxs("div",{className:"w-full divide-y divide-border overflow-hidden rounded-xl border border-border",children:[l.jsx("div",{className:"h-[46px] w-full bg-muted/80"}),l.jsx("div",{className:"flex w-full items-center justify-center p-4",children:l.jsx(L9e,{className:"size-4 animate-spin"})})]}),U9e=/\.[^/.]+$/,W9e=({node:t,className:e,src:n,alt:r,...a})=>{let s=async()=>{if(n)try{let i=await(await fetch(n)).blob(),o=new URL(n,window.location.origin).pathname.split("/").pop()||"",c=o.split(".").pop(),u=o.includes(".")&&c!==void 0&&c.length<=4,d="";if(u)d=o;else{let m=i.type,h="png";m.includes("jpeg")||m.includes("jpg")?h="jpg":m.includes("png")?h="png":m.includes("svg")?h="svg":m.includes("gif")?h="gif":m.includes("webp")&&(h="webp"),d=`${(r||o||"image").replace(U9e,"")}.${h}`}sm(d,i,i.type)}catch(i){console.error("Failed to download image:",i)}};return n?l.jsxs("div",{className:"group relative my-4 inline-block","data-streamdown":"image-wrapper",children:[l.jsx("img",{alt:r,className:Tn("max-w-full rounded-lg",e),"data-streamdown":"image",src:n,...a}),l.jsx("div",{className:"pointer-events-none absolute inset-0 hidden rounded-lg bg-black/10 group-hover:block"}),l.jsx("button",{className:Tn("absolute right-2 bottom-2 flex h-8 w-8 cursor-pointer items-center justify-center rounded-md border border-border bg-background/90 shadow-sm backdrop-blur-sm transition-all duration-200 hover:bg-background","opacity-0 group-hover:opacity-100"),onClick:s,title:"Download image",type:"button",children:l.jsx(Uy,{size:14})})]}):null},r4={devDependencies:{"@testing-library/jest-dom":"^6.9.1","@testing-library/react":"^16.3.0","@types/hast":"^3.0.4","@types/react":"^19.2.7","@types/react-dom":"^19.2.3","@vitejs/plugin-react":"^5.1.2","@vitest/coverage-v8":"^4.0.15",jsdom:"^27.3.0",mermaid:"^11.12.2",react:"^19.2.1","react-dom":"^19.2.1","react-markdown":"^10.1.0",tsup:"^8.5.1",vitest:"^4.0.15"},dependencies:{clsx:"^2.1.1",esbuild:"^0.27.2","hast-util-to-jsx-runtime":"^2.3.6","html-url-attributes":"^3.0.1",katex:"^0.16.27",marked:"^17.0.1","rehype-harden":"^1.1.7","rehype-katex":"^7.0.1","rehype-raw":"^7.0.0","rehype-sanitize":"^6.0.0","remark-cjk-friendly":"^1.2.3","remark-cjk-friendly-gfm-strikethrough":"^1.2.3","remark-gfm":"^4.0.1","remark-math":"^6.0.0","remark-parse":"^11.0.0","remark-rehype":"^11.1.2",remend:"workspace:*",shiki:"^3.19.0","tailwind-merge":"^3.4.0",unified:"^11.0.5","unist-util-visit":"^5.0.0"}},Q8,J8,e7,t7,G9e=((t7=(e7=(Q8=r4.dependencies)==null?void 0:Q8.mermaid)!=null?e7:(J8=r4.devDependencies)==null?void 0:J8.mermaid)!=null?t7:"11").replace(/^\^/,""),V9e=t=>`${t}/mermaid/${G9e}/mermaid.esm.min.mjs`,fv=new Map,K9e=new Function("url","return import(url)"),Lz=async(t,e)=>{let n={startOnLoad:!1,theme:"default",securityLevel:"strict",fontFamily:"monospace",suppressErrorRendering:!0,...t};if(e==null)throw new Error("[Streamdown] Mermaid requires a CDN URL to load. Please provide a cdnUrl prop.");let r=V9e(e);if(!fv.has(r)){let s=await K9e(r);fv.set(r,s)}let a=fv.get(r).default;return a.initialize(n),a},Y9e=(t,e)=>{var n;let r=(n=void 0)!=null?n:5;return new Promise((a,s)=>{let i="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t))),o=new Image;o.crossOrigin="anonymous",o.onload=()=>{let c=document.createElement("canvas"),u=o.width*r,d=o.height*r;c.width=u,c.height=d;let m=c.getContext("2d");if(!m){s(new Error("Failed to create 2D canvas context for PNG export"));return}m.drawImage(o,0,0,u,d),c.toBlob(h=>{if(!h){s(new Error("Failed to create PNG blob"));return}a(h)},"image/png")},o.onerror=()=>s(new Error("Failed to load SVG image")),o.src=i})},X9e=({chart:t,children:e,className:n,onDownload:r,config:a,onError:s})=>{let[i,o]=b.useState(!1),c=b.useRef(null),{isAnimating:u}=b.useContext(Di),d=async m=>{try{if(m==="mmd"){sm("diagram.mmd",t,"text/plain"),o(!1),r?.(m);return}let h=await Lz(a),p=t.split("").reduce((x,y)=>(x<<5)-x+y.charCodeAt(0)|0,0),f=`mermaid-${Math.abs(p)}-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,{svg:g}=await h.render(f,t);if(!g){s?.(new Error("SVG not found. Please wait for the diagram to render."));return}if(m==="svg"){sm("diagram.svg",g,"image/svg+xml"),o(!1),r?.(m);return}if(m==="png"){let x=await Y9e(g);sm("diagram.png",x,"image/png"),r?.(m),o(!1);return}}catch(h){s?.(h)}};return b.useEffect(()=>{let m=h=>{c.current&&!c.current.contains(h.target)&&o(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]),l.jsxs("div",{className:"relative",ref:c,children:[l.jsx("button",{className:Tn("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",n),disabled:u,onClick:()=>o(!i),title:"Download diagram",type:"button",children:e??l.jsx(Uy,{size:14})}),i?l.jsxs("div",{className:"absolute top-full right-0 z-10 mt-1 min-w-[120px] overflow-hidden rounded-md border border-border bg-background shadow-lg",children:[l.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>d("svg"),title:"Download diagram as SVG",type:"button",children:"SVG"}),l.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>d("png"),title:"Download diagram as PNG",type:"button",children:"PNG"}),l.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>d("mmd"),title:"Download diagram as MMD",type:"button",children:"MMD"})]}):null]})},Np=0,Z9e=()=>{Np+=1,Np===1&&(document.body.style.overflow="hidden")},Q9e=()=>{Np=Math.max(0,Np-1),Np===0&&(document.body.style.overflow="")},J9e=({chart:t,config:e,onFullscreen:n,onExit:r,className:a,...s})=>{let[i,o]=b.useState(!1),{isAnimating:c,controls:u}=b.useContext(Di),d=(()=>{if(typeof u=="boolean")return u;let h=u.mermaid;return h===!1?!1:h===!0||h===void 0?!0:h.panZoom!==!1})(),m=()=>{o(!i)};return b.useEffect(()=>{if(i){Z9e();let h=p=>{p.key==="Escape"&&o(!1)};return document.addEventListener("keydown",h),()=>{document.removeEventListener("keydown",h),Q9e()}}},[i]),b.useEffect(()=>{i?n?.():r&&r()},[i,n,r]),l.jsxs(l.Fragment,{children:[l.jsx("button",{className:Tn("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",a),disabled:c,onClick:m,title:"View fullscreen",type:"button",...s,children:l.jsx(O9e,{size:14})}),i?l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/95 backdrop-blur-sm",onClick:m,onKeyDown:h=>{h.key==="Escape"&&m()},role:"button",tabIndex:0,children:[l.jsx("button",{className:"absolute top-4 right-4 z-10 rounded-md p-2 text-muted-foreground transition-all hover:bg-muted hover:text-foreground",onClick:m,title:"Exit fullscreen",type:"button",children:l.jsx(F9e,{size:20})}),l.jsx("div",{className:"flex size-full items-center justify-center p-4",onClick:h=>h.stopPropagation(),onKeyDown:h=>h.stopPropagation(),role:"presentation",children:l.jsx(hH,{chart:t,className:"size-full [&_svg]:h-auto [&_svg]:w-auto",config:e,fullscreen:!0,showControls:d})})]}):null]})},Oz=t=>{var e,n;let r=[],a=[],s=t.querySelectorAll("thead th");for(let o of s)r.push(((e=o.textContent)==null?void 0:e.trim())||"");let i=t.querySelectorAll("tbody tr");for(let o of i){let c=[],u=o.querySelectorAll("td");for(let d of u)c.push(((n=d.textContent)==null?void 0:n.trim())||"");a.push(c)}return{headers:r,rows:a}},Pz=t=>{let{headers:e,rows:n}=t,r=o=>{let c=!1,u=!1;for(let d of o){if(d==='"'){c=!0,u=!0;break}(d===","||d===`
`)&&(c=!0)}return c?u?`"${o.replace(/"/g,'""')}"`:`"${o}"`:o},a=e.length>0?n.length+1:n.length,s=new Array(a),i=0;e.length>0&&(s[i]=e.map(r).join(","),i+=1);for(let o of n)s[i]=o.map(r).join(","),i+=1;return s.join(`
`)},eTe=t=>{let{headers:e,rows:n}=t,r=o=>{let c=!1;for(let d of o)if(d==="	"||d===`
`||d==="\r"){c=!0;break}if(!c)return o;let u=[];for(let d of o)d==="	"?u.push("\\t"):d===`
`?u.push("\\n"):d==="\r"?u.push("\\r"):u.push(d);return u.join("")},a=e.length>0?n.length+1:n.length,s=new Array(a),i=0;e.length>0&&(s[i]=e.map(r).join("	"),i+=1);for(let o of n)s[i]=o.map(r).join("	"),i+=1;return s.join(`
`)},gv=t=>{let e=!1;for(let r of t)if(r==="\\"||r==="|"){e=!0;break}if(!e)return t;let n=[];for(let r of t)r==="\\"?n.push("\\\\"):r==="|"?n.push("\\|"):n.push(r);return n.join("")},tTe=t=>{let{headers:e,rows:n}=t;if(e.length===0)return"";let r=new Array(n.length+2),a=0,s=e.map(o=>gv(o));r[a]=`| ${s.join(" | ")} |`,a+=1;let i=new Array(e.length);for(let o=0;o<e.length;o+=1)i[o]="---";r[a]=`| ${i.join(" | ")} |`,a+=1;for(let o of n)if(o.length<e.length){let c=new Array(e.length);for(let u=0;u<e.length;u+=1)c[u]=u<o.length?gv(o[u]):"";r[a]=`| ${c.join(" | ")} |`,a+=1}else{let c=o.map(u=>gv(u));r[a]=`| ${c.join(" | ")} |`,a+=1}return r.join(`
`)},nTe=({children:t,className:e,onCopy:n,onError:r,timeout:a=2e3})=>{let[s,i]=b.useState(!1),[o,c]=b.useState(!1),u=b.useRef(null),d=b.useRef(0),{isAnimating:m}=b.useContext(Di),h=async f=>{var g,x;if(typeof window>"u"||!((g=navigator?.clipboard)!=null&&g.write)){r?.(new Error("Clipboard API not available"));return}try{let y=(x=u.current)==null?void 0:x.closest('[data-streamdown="table-wrapper"]'),w=y?.querySelector("table");if(!w){r?.(new Error("Table not found"));return}let v=Oz(w),k=f==="csv"?Pz(v):eTe(v),C=new ClipboardItem({"text/plain":new Blob([k],{type:"text/plain"}),"text/html":new Blob([w.outerHTML],{type:"text/html"})});await navigator.clipboard.write([C]),c(!0),i(!1),n?.(f),d.current=window.setTimeout(()=>c(!1),a)}catch(y){r?.(y)}};b.useEffect(()=>{let f=g=>{u.current&&!u.current.contains(g.target)&&i(!1)};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f),window.clearTimeout(d.current)}},[]);let p=o?Rz:Mz;return l.jsxs("div",{className:"relative",ref:u,children:[l.jsx("button",{className:Tn("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",e),disabled:m,onClick:()=>i(!s),title:"Copy table",type:"button",children:t??l.jsx(p,{size:14})}),s?l.jsxs("div",{className:"absolute top-full right-0 z-10 mt-1 min-w-[120px] overflow-hidden rounded-md border border-border bg-background shadow-lg",children:[l.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>h("csv"),title:"Copy table as CSV",type:"button",children:"CSV"}),l.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>h("tsv"),title:"Copy table as TSV",type:"button",children:"TSV"})]}):null]})},rTe=({children:t,className:e,onDownload:n,onError:r})=>{let[a,s]=b.useState(!1),i=b.useRef(null),{isAnimating:o}=b.useContext(Di),c=u=>{var d;try{let m=(d=i.current)==null?void 0:d.closest('[data-streamdown="table-wrapper"]'),h=m?.querySelector("table");if(!h){r?.(new Error("Table not found"));return}let p=Oz(h),f=u==="csv"?Pz(p):tTe(p);sm(`table.${u==="csv"?"csv":"md"}`,f,u==="csv"?"text/csv":"text/markdown"),s(!1),n?.(u)}catch(m){r?.(m)}};return b.useEffect(()=>{let u=d=>{i.current&&!i.current.contains(d.target)&&s(!1)};return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[]),l.jsxs("div",{className:"relative",ref:i,children:[l.jsx("button",{className:Tn("cursor-pointer p-1 text-muted-foreground transition-all hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",e),disabled:o,onClick:()=>s(!a),title:"Download table",type:"button",children:t??l.jsx(Uy,{size:14})}),a?l.jsxs("div",{className:"absolute top-full right-0 z-10 mt-1 min-w-[120px] overflow-hidden rounded-md border border-border bg-background shadow-lg",children:[l.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>c("csv"),title:"Download table as CSV",type:"button",children:"CSV"}),l.jsx("button",{className:"w-full px-3 py-2 text-left text-sm transition-colors hover:bg-muted/40",onClick:()=>c("markdown"),title:"Download table as Markdown",type:"button",children:"Markdown"})]}):null]})},aTe=({children:t,className:e,showControls:n,...r})=>l.jsxs("div",{className:"my-4 flex flex-col space-y-2","data-streamdown":"table-wrapper",children:[n?l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[l.jsx(nTe,{}),l.jsx(rTe,{})]}):null,l.jsx("div",{className:"overflow-x-auto",children:l.jsx("table",{className:Tn("w-full border-collapse border border-border",e),"data-streamdown":"table",...r,children:t})})]}),sTe=b.lazy(()=>Vn(()=>import("./code-block-545L3TSB-BgvrU58n.js"),__vite__mapDeps([7,1,2,8,9,3,4,5,6]),import.meta.url).then(t=>({default:t.CodeBlock}))),iTe=b.lazy(()=>Vn(()=>Promise.resolve().then(()=>lQe),void 0,import.meta.url).then(t=>({default:t.Mermaid}))),oTe=/language-([^\s]+)/;function Wy(t,e){if(!(t!=null&&t.position||e!=null&&e.position))return!0;if(!(t!=null&&t.position&&e!=null&&e.position))return!1;let n=t.position.start,r=e.position.start,a=t.position.end,s=e.position.end;return n?.line===r?.line&&n?.column===r?.column&&a?.line===s?.line&&a?.column===s?.column}function Dr(t,e){return t.className===e.className&&Wy(t.node,e.node)}var a4=(t,e)=>typeof t=="boolean"?t:t[e]!==!1,cg=(t,e)=>{if(typeof t=="boolean")return t;let n=t.mermaid;return n===!1?!1:n===!0||n===void 0?!0:n[e]!==!1},H6=b.memo(({children:t,className:e,node:n,...r})=>l.jsx("ol",{className:Tn("list-inside list-decimal whitespace-normal [li_&]:pl-6",e),"data-streamdown":"ordered-list",...r,children:t}),(t,e)=>Dr(t,e));H6.displayName="MarkdownOl";var Fz=b.memo(({children:t,className:e,node:n,...r})=>l.jsx("li",{className:Tn("py-1 [&>p]:inline",e),"data-streamdown":"list-item",...r,children:t}),(t,e)=>t.className===e.className&&Wy(t.node,e.node));Fz.displayName="MarkdownLi";var Bz=b.memo(({children:t,className:e,node:n,...r})=>l.jsx("ul",{className:Tn("list-inside list-disc whitespace-normal [li_&]:pl-6",e),"data-streamdown":"unordered-list",...r,children:t}),(t,e)=>Dr(t,e));Bz.displayName="MarkdownUl";var zz=b.memo(({className:t,node:e,...n})=>l.jsx("hr",{className:Tn("my-6 border-border",t),"data-streamdown":"horizontal-rule",...n}),(t,e)=>Dr(t,e));zz.displayName="MarkdownHr";var Hz=b.memo(({children:t,className:e,node:n,...r})=>l.jsx("span",{className:Tn("font-semibold",e),"data-streamdown":"strong",...r,children:t}),(t,e)=>Dr(t,e));Hz.displayName="MarkdownStrong";var qz=b.memo(({children:t,className:e,href:n,node:r,...a})=>{let s=n==="streamdown:incomplete-link";return l.jsx("a",{className:Tn("wrap-anywhere font-medium text-primary underline",e),"data-incomplete":s,"data-streamdown":"link",href:n,rel:"noreferrer",target:"_blank",...a,children:t})},(t,e)=>Dr(t,e)&&t.href===e.href);qz.displayName="MarkdownA";var Uz=b.memo(({children:t,className:e,node:n,...r})=>l.jsx("h1",{className:Tn("mt-6 mb-2 font-semibold text-3xl",e),"data-streamdown":"heading-1",...r,children:t}),(t,e)=>Dr(t,e));Uz.displayName="MarkdownH1";var Wz=b.memo(({children:t,className:e,node:n,...r})=>l.jsx("h2",{className:Tn("mt-6 mb-2 font-semibold text-2xl",e),"data-streamdown":"heading-2",...r,children:t}),(t,e)=>Dr(t,e));Wz.displayName="MarkdownH2";var Gz=b.memo(({children:t,className:e,node:n,...r})=>l.jsx("h3",{className:Tn("mt-6 mb-2 font-semibold text-xl",e),"data-streamdown":"heading-3",...r,children:t}),(t,e)=>Dr(t,e));Gz.displayName="MarkdownH3";var Vz=b.memo(({children:t,className:e,node:n,...r})=>l.jsx("h4",{className:Tn("mt-6 mb-2 font-semibold text-lg",e),"data-streamdown":"heading-4",...r,children:t}),(t,e)=>Dr(t,e));Vz.displayName="MarkdownH4";var Kz=b.memo(({children:t,className:e,node:n,...r})=>l.jsx("h5",{className:Tn("mt-6 mb-2 font-semibold text-base",e),"data-streamdown":"heading-5",...r,children:t}),(t,e)=>Dr(t,e));Kz.displayName="MarkdownH5";var Yz=b.memo(({children:t,className:e,node:n,...r})=>l.jsx("h6",{className:Tn("mt-6 mb-2 font-semibold text-sm",e),"data-streamdown":"heading-6",...r,children:t}),(t,e)=>Dr(t,e));Yz.displayName="MarkdownH6";var Xz=b.memo(({children:t,className:e,node:n,...r})=>{let{controls:a}=b.useContext(Di),s=a4(a,"table");return l.jsx(aTe,{className:e,"data-streamdown":"table-wrapper",showControls:s,...r,children:t})},(t,e)=>Dr(t,e));Xz.displayName="MarkdownTable";var Zz=b.memo(({children:t,className:e,node:n,...r})=>l.jsx("thead",{className:Tn("bg-muted/80",e),"data-streamdown":"table-header",...r,children:t}),(t,e)=>Dr(t,e));Zz.displayName="MarkdownThead";var Qz=b.memo(({children:t,className:e,node:n,...r})=>l.jsx("tbody",{className:Tn("divide-y divide-border bg-muted/40",e),"data-streamdown":"table-body",...r,children:t}),(t,e)=>Dr(t,e));Qz.displayName="MarkdownTbody";var Jz=b.memo(({children:t,className:e,node:n,...r})=>l.jsx("tr",{className:Tn("border-border border-b",e),"data-streamdown":"table-row",...r,children:t}),(t,e)=>Dr(t,e));Jz.displayName="MarkdownTr";var eH=b.memo(({children:t,className:e,node:n,...r})=>l.jsx("th",{className:Tn("whitespace-nowrap px-4 py-2 text-left font-semibold text-sm",e),"data-streamdown":"table-header-cell",...r,children:t}),(t,e)=>Dr(t,e));eH.displayName="MarkdownTh";var tH=b.memo(({children:t,className:e,node:n,...r})=>l.jsx("td",{className:Tn("px-4 py-2 text-sm",e),"data-streamdown":"table-cell",...r,children:t}),(t,e)=>Dr(t,e));tH.displayName="MarkdownTd";var nH=b.memo(({children:t,className:e,node:n,...r})=>l.jsx("blockquote",{className:Tn("my-4 border-muted-foreground/30 border-l-4 pl-4 text-muted-foreground italic",e),"data-streamdown":"blockquote",...r,children:t}),(t,e)=>Dr(t,e));nH.displayName="MarkdownBlockquote";var rH=b.memo(({children:t,className:e,node:n,...r})=>l.jsx("sup",{className:Tn("text-sm",e),"data-streamdown":"superscript",...r,children:t}),(t,e)=>Dr(t,e));rH.displayName="MarkdownSup";var aH=b.memo(({children:t,className:e,node:n,...r})=>l.jsx("sub",{className:Tn("text-sm",e),"data-streamdown":"subscript",...r,children:t}),(t,e)=>Dr(t,e));aH.displayName="MarkdownSub";var sH=b.memo(({children:t,className:e,node:n,...r})=>{if("data-footnotes"in r){let a=i=>{var o,c;if(!b.isValidElement(i))return!1;let u=Array.isArray(i.props.children)?i.props.children:[i.props.children],d=!1,m=!1;for(let h of u)if(h){if(typeof h=="string")h.trim()!==""&&(d=!0);else if(b.isValidElement(h))if(((o=h.props)==null?void 0:o["data-footnote-backref"])!==void 0)m=!0;else{let p=Array.isArray(h.props.children)?h.props.children:[h.props.children];for(let f of p){if(typeof f=="string"&&f.trim()!==""){d=!0;break}if(b.isValidElement(f)&&((c=f.props)==null?void 0:c["data-footnote-backref"])===void 0){d=!0;break}}}}return m&&!d},s=Array.isArray(t)?t.map(i=>{if(!b.isValidElement(i))return i;if(i.type===H6){let o=(Array.isArray(i.props.children)?i.props.children:[i.props.children]).filter(c=>!a(c));return o.length===0?null:{...i,props:{...i.props,children:o}}}return i}):t;return(Array.isArray(s)?s.some(i=>i!==null):s!==null)?l.jsx("section",{className:e,...r,children:s}):null}return l.jsx("section",{className:e,...r,children:t})},(t,e)=>Dr(t,e));sH.displayName="MarkdownSection";var lTe=({node:t,className:e,children:n,...r})=>{var a,s,i;let o=((a=t?.position)==null?void 0:a.start.line)===((s=t?.position)==null?void 0:s.end.line),{mermaid:c,controls:u}=b.useContext(Di);if(o)return l.jsx("code",{className:Tn("rounded bg-muted px-1.5 py-0.5 font-mono text-sm",e),"data-streamdown":"inline-code",...r,children:n});let d=e?.match(oTe),m=(i=d?.at(1))!=null?i:"",h="";if(b.isValidElement(n)&&n.props&&typeof n.props=="object"&&"children"in n.props&&typeof n.props.children=="string"?h=n.props.children:typeof n=="string"&&(h=n),m==="mermaid"){let f=a4(u,"mermaid"),g=cg(u,"download"),x=cg(u,"copy"),y=cg(u,"fullscreen"),w=cg(u,"panZoom"),v=f&&(g||x||y);return l.jsx(b.Suspense,{fallback:l.jsx(Z8,{}),children:l.jsxs("div",{className:Tn("group relative my-4 h-auto rounded-xl border p-4",e),"data-streamdown":"mermaid-block",children:[v?l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[g?l.jsx(X9e,{chart:h,config:c?.config}):null,x?l.jsx(Y8,{code:h}):null,y?l.jsx(J9e,{chart:h,config:c?.config}):null]}):null,l.jsx(iTe,{chart:h,config:c?.config,showControls:w})]})})}let p=a4(u,"code");return l.jsx(b.Suspense,{fallback:l.jsx(Z8,{}),children:l.jsx(sTe,{className:Tn("overflow-x-auto border-border border-t",e),code:h,language:m,children:p?l.jsxs(l.Fragment,{children:[l.jsx(q9e,{code:h,language:m}),l.jsx(Y8,{})]}):null})})},iH=b.memo(lTe,(t,e)=>t.className===e.className&&Wy(t.node,e.node));iH.displayName="MarkdownCode";var oH=b.memo(W9e,(t,e)=>t.className===e.className&&Wy(t.node,e.node));oH.displayName="MarkdownImg";var lH=b.memo(({children:t,className:e,node:n,...r})=>{var a;let s=(Array.isArray(t)?t:[t]).filter(i=>i!=null&&i!=="");return s.length===1&&b.isValidElement(s[0])&&((a=s[0].props.node)==null?void 0:a.tagName)==="img"?l.jsx(l.Fragment,{children:t}):l.jsx("p",{className:e,...r,children:t})},(t,e)=>Dr(t,e));lH.displayName="MarkdownParagraph";var cTe={ol:H6,li:Fz,ul:Bz,hr:zz,strong:Hz,a:qz,h1:Uz,h2:Wz,h3:Gz,h4:Vz,h5:Kz,h6:Yz,table:Xz,thead:Zz,tbody:Qz,tr:Jz,th:eH,td:tH,blockquote:nH,code:iH,img:oH,pre:({children:t})=>t,sup:rH,sub:aH,p:lH,section:sH},n7=[],r7={allowDangerousHtml:!0},ug=new WeakMap,uTe=class{constructor(){this.cache=new Map,this.keyCache=new WeakMap,this.maxSize=100}generateCacheKey(e){let n=this.keyCache.get(e);if(n)return n;let r=e.rehypePlugins,a=e.remarkPlugins,s=e.remarkRehypeOptions;if(!(r||a||s)){let m="default";return this.keyCache.set(e,m),m}let i=m=>{if(!m||m.length===0)return"";let h="";for(let p=0;p<m.length;p+=1){let f=m[p];if(p>0&&(h+=","),Array.isArray(f)){let[g,x]=f;if(typeof g=="function"){let y=ug.get(g);y||(y=g.name,ug.set(g,y)),h+=y}else h+=String(g);h+=":",h+=JSON.stringify(x)}else if(typeof f=="function"){let g=ug.get(f);g||(g=f.name,ug.set(f,g)),h+=g}else h+=String(f)}return h},o=i(r),c=i(a),u=s?JSON.stringify(s):"",d=`${c}::${o}::${u}`;return this.keyCache.set(e,d),d}get(e){let n=this.generateCacheKey(e),r=this.cache.get(n);return r&&(this.cache.delete(n),this.cache.set(n,r)),r}set(e,n){let r=this.generateCacheKey(e);if(this.cache.size>=this.maxSize){let a=this.cache.keys().next().value;a&&this.cache.delete(a)}this.cache.set(r,n)}clear(){this.cache.clear()}},a7=new uTe,cH=t=>{let e=dTe(t),n=t.children||"";return hTe(e.runSync(e.parse(n),n),t)},dTe=t=>{let e=a7.get(t);if(e)return e;let n=mTe(t);return a7.set(t,n),n},mTe=t=>{let e=t.rehypePlugins||n7,n=t.remarkPlugins||n7,r=t.remarkRehypeOptions?{...r7,...t.remarkRehypeOptions}:r7;return Aje().use($Se).use(n).use(mje,r).use(e)},hTe=(t,e)=>P6e(t,{Fragment:l.Fragment,components:e.components,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0}),pTe=/\[\^[^\]\s]{1,200}\](?!:)/,fTe=/\[\^[^\]\s]{1,200}\]:/,gTe=/<\/(\w+)>/,bTe=/<(\w+)[\s>]/,bv=t=>{let e=0;for(;e<t.length&&(t[e]===" "||t[e]==="	"||t[e]===`
`||t[e]==="\r");)e+=1;return e+1<t.length&&t[e]==="$"&&t[e+1]==="$"},xTe=t=>{let e=t.length-1;for(;e>=0&&(t[e]===" "||t[e]==="	"||t[e]===`
`||t[e]==="\r");)e-=1;return e>=1&&t[e]==="$"&&t[e-1]==="$"},xv=t=>{let e=0;for(let n=0;n<t.length-1;n+=1)t[n]==="$"&&t[n+1]==="$"&&(e+=1,n+=1);return e},yTe=t=>{let e=pTe.test(t),n=fTe.test(t);if(e||n)return[t];let r=Ks.lex(t,{gfm:!0}),a=[],s=[];for(let i of r){let o=i.raw,c=a.length;if(s.length>0){if(a[c-1]+=o,i.type==="html"){let u=o.match(gTe);if(u){let d=u[1];s.at(-1)===d&&s.pop()}}continue}if(i.type==="html"&&i.block){let u=o.match(bTe);if(u){let d=u[1];o.includes(`</${d}>`)||s.push(d)}}if(o.trim()==="$$"&&c>0){let u=a[c-1],d=bv(u),m=xv(u);if(d&&m%2===1){a[c-1]=u+o;continue}}if(c>0&&xTe(o)){let u=a[c-1],d=bv(u),m=xv(u),h=xv(o);if(d&&m%2===1&&!bv(o)&&h===1){a[c-1]=u+o;continue}}a.push(o)}return a},wTe=new Set(["","","","","","","","","","","","","","","","","","","",""]),vTe=/^(https?:\/\/|mailto:|www\.)/i,kTe=t=>{if(t.children.length!==1)return!1;let e=t.children[0];return e.type==="text"&&e.value===t.url},_Te=t=>{let e=0;for(let n of t){if(wTe.has(n))return e;e+=n.length}return null},CTe=(t,e)=>({...e,url:t,children:[{type:"text",value:t}]}),STe=t=>({type:"text",value:t}),jTe=()=>t=>{uo(t,"link",(e,n,r)=>{if(!r||typeof n!="number"||!kTe(e)||!vTe.test(e.url))return;let a=_Te(e.url);if(a===null||a===0)return;let s=e.url.slice(0,a),i=e.url.slice(a),o=CTe(s,e),c=STe(i);return r.children.splice(n,1,o,c),n+1})},TTe={javascript:z6,typescript:Iz,jsx:Ez,tsx:Az,html:jz,css:B6,json:Tz,bash:ep,shellscript:ep,shell:ep,sh:ep,yaml:n4,yml:n4,toml:$z,python:t4,py:t4,markdown:e4,md:e4,sql:Nz,go:Jk,golang:Jk},BQe=t=>t in TTe,ETe=/[^$]\$[^$]/,NTe=/^\$[^$]/,$Te=/[^$]\$$/,ATe={raw:lB,sanitize:[mB,{}],katex:[ub,{errorColor:"var(--color-muted-foreground)"}],harden:[ixe,{allowedImagePrefixes:["*"],allowedLinkPrefixes:["*"],allowedProtocols:["*"],defaultOrigin:void 0,allowDataImages:!0}]},ITe={gfm:[S6,{}],cjkAutolinkBoundary:[jTe,{}],math:[mf,{singleDollarTextMath:!1}],cjkFriendly:[Bke,{}],cjkFriendlyGfmStrikethrough:[Hke,{}]},RTe=Object.values(ATe),MTe=Object.values(ITe),DTe={block:" ",circle:" "},uH="https://www.streamdown.ai/cdn",LTe={shikiTheme:["github-light","github-dark"],controls:!0,isAnimating:!1,mode:"streaming",mermaid:void 0,cdnUrl:uH},Di=b.createContext(LTe),dH=b.memo(({content:t,...e})=>l.jsx(cH,{...e,children:t}),(t,e)=>{if(t.content!==e.content||t.index!==e.index)return!1;if(t.components!==e.components){let n=Object.keys(t.components||{}),r=Object.keys(e.components||{});if(n.length!==r.length||n.some(a=>{var s,i;return((s=t.components)==null?void 0:s[a])!==((i=e.components)==null?void 0:i[a])}))return!1}return!(t.rehypePlugins!==e.rehypePlugins||t.remarkPlugins!==e.remarkPlugins)});dH.displayName="Block";var OTe=["github-light","github-dark"],PTe=t=>Array.isArray(t)&&t.some(e=>Array.isArray(e)?e[0]===ub:e===ub),FTe=t=>{if(!Array.isArray(t))return!1;let e=t.find(n=>Array.isArray(n)?n[0]===mf:n===mf);return e&&Array.isArray(e)&&e[1]?e[1].singleDollarTextMath===!0:!1},BTe=(t,e)=>{let n=t.includes("$$"),r=e&&(ETe.test(t)||NTe.test(t)||$Te.test(t));return n||r},zTe=/^\^/,HTe=t=>{let e=r4.dependencies["rehype-katex"].replace(zTe,"").split(".")[0],n={7:"0.16.22"}[e]||"0.16.22",r=document.createElement("link");r.rel="stylesheet",r.href=`${t}/katex/${n}/katex.min.css`,document.head.appendChild(r)},mH=b.memo(({children:t,mode:e="streaming",parseIncompleteMarkdown:n=!0,components:r,rehypePlugins:a=RTe,remarkPlugins:s=MTe,className:i,shikiTheme:o=OTe,mermaid:c,controls:u=!0,isAnimating:d=!1,BlockComponent:m=dH,parseMarkdownIntoBlocksFn:h=yTe,caret:p,cdnUrl:f=uH,remend:g,...x})=>{let y=b.useId(),[w,v]=b.useTransition(),[k,C]=b.useState([]),_=b.useMemo(()=>typeof t!="string"?"":e==="streaming"&&n?k6e(t,g):t,[t,e,n,g]),S=b.useMemo(()=>h(_),[_,h]);b.useEffect(()=>{e==="streaming"?v(()=>{C(S)}):C(S)},[S,e]);let T=e==="streaming"?k:S,N=b.useMemo(()=>T.map((A,$)=>`${y}-${$}`),[T.length,y]),j=b.useMemo(()=>({shikiTheme:o,controls:u,isAnimating:d,mode:e,mermaid:c,cdnUrl:f}),[o,u,d,e,c,f]),R=b.useMemo(()=>({...cTe,...r}),[r]);b.useEffect(()=>{if(f===null||!PTe(a))return;let A=FTe(s);BTe(typeof t=="string"?t:"",A)&&HTe(f)},[a,s,t,f]);let I=b.useMemo(()=>p&&d?{"--streamdown-caret":`"${DTe[p]}"`}:void 0,[p,d]);return e==="static"?l.jsx(Di.Provider,{value:j,children:l.jsx("div",{className:Tn("space-y-4 whitespace-normal *:first:mt-0 *:last:mb-0",i),children:l.jsx(cH,{components:R,rehypePlugins:a,remarkPlugins:s,...x,children:t})})}):l.jsx(Di.Provider,{value:j,children:l.jsx("div",{className:Tn("space-y-4 whitespace-normal *:first:mt-0 *:last:mb-0",p?"*:last:after:inline *:last:after:align-baseline *:last:after:content-(--streamdown-caret)":null,i),style:I,children:T.map((A,$)=>l.jsx(m,{components:R,content:A,index:$,rehypePlugins:a,remarkPlugins:s,shouldParseIncompleteMarkdown:n,...x},N[$]))})})},(t,e)=>t.children===e.children&&t.shikiTheme===e.shikiTheme&&t.isAnimating===e.isAnimating&&t.mode===e.mode);mH.displayName="Streamdown";var qTe=({children:t,className:e,minZoom:n=.5,maxZoom:r=3,zoomStep:a=.1,showControls:s=!0,initialZoom:i=1,fullscreen:o=!1})=>{let c=b.useRef(null),u=b.useRef(null),[d,m]=b.useState(i),[h,p]=b.useState({x:0,y:0}),[f,g]=b.useState(!1),[x,y]=b.useState({x:0,y:0}),[w,v]=b.useState({x:0,y:0}),k=b.useCallback(I=>{m(A=>Math.max(n,Math.min(r,A+I)))},[n,r]),C=b.useCallback(()=>{k(a)},[k,a]),_=b.useCallback(()=>{k(-a)},[k,a]),S=b.useCallback(()=>{m(i),p({x:0,y:0})},[i]),T=b.useCallback(I=>{I.preventDefault();let A=I.deltaY>0?-a:a;k(A)},[k,a]),N=b.useCallback(I=>{if(I.button!==0||I.isPrimary===!1)return;g(!0),y({x:I.clientX,y:I.clientY}),v(h);let A=I.currentTarget;A instanceof HTMLElement&&A.setPointerCapture(I.pointerId)},[h]),j=b.useCallback(I=>{if(!f)return;I.preventDefault();let A=I.clientX-x.x,$=I.clientY-x.y;p({x:w.x+A,y:w.y+$})},[f,x,w]),R=b.useCallback(I=>{g(!1);let A=I.currentTarget;A instanceof HTMLElement&&A.releasePointerCapture(I.pointerId)},[]);return b.useEffect(()=>{let I=c.current;if(I)return I.addEventListener("wheel",T,{passive:!1}),()=>{I.removeEventListener("wheel",T)}},[T]),b.useEffect(()=>{let I=u.current;if(I&&f)return document.body.style.userSelect="none",I.addEventListener("pointermove",j,{passive:!1}),I.addEventListener("pointerup",R),I.addEventListener("pointercancel",R),()=>{document.body.style.userSelect="",I.removeEventListener("pointermove",j),I.removeEventListener("pointerup",R),I.removeEventListener("pointercancel",R)}},[f,j,R]),l.jsxs("div",{className:Tn("relative flex flex-col",o?"h-full w-full":"min-h-28 w-full",e),ref:c,style:{cursor:f?"grabbing":"grab"},children:[s?l.jsxs("div",{className:Tn("absolute z-10 flex flex-col gap-1 rounded-md border border-border bg-background/90 p-1 shadow-sm backdrop-blur-sm",o?"bottom-4 left-4":"bottom-2 left-2"),children:[l.jsx("button",{className:"flex items-center justify-center rounded p-1.5 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",disabled:d>=r,onClick:C,title:"Zoom in",type:"button",children:l.jsx(B9e,{size:16})}),l.jsx("button",{className:"flex items-center justify-center rounded p-1.5 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50",disabled:d<=n,onClick:_,title:"Zoom out",type:"button",children:l.jsx(z9e,{size:16})}),l.jsx("button",{className:"flex items-center justify-center rounded p-1.5 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground",onClick:S,title:"Reset zoom and pan",type:"button",children:l.jsx(P9e,{size:16})})]}):null,l.jsx("div",{className:Tn("flex-1 origin-center transition-transform duration-150 ease-out",o?"flex h-full w-full items-center justify-center":"flex w-full items-center justify-center"),onPointerDown:N,ref:u,role:"application",style:{transform:`translate(${h.x}px, ${h.y}px) scale(${d})`,transformOrigin:"center center",touchAction:"none",willChange:"transform"},children:t})]})},hH=({chart:t,className:e,config:n,fullscreen:r=!1,showControls:a=!0})=>{let[s,i]=b.useState(null),[o,c]=b.useState(!1),[u,d]=b.useState(""),[m,h]=b.useState(""),[p,f]=b.useState(0),{mermaid:g,cdnUrl:x}=b.useContext(Di),y=g?.errorComponent,{shouldRender:w,containerRef:v}=D9e({immediate:r});if(b.useEffect(()=>{w&&(async()=>{try{i(null),c(!0);let C=await Lz(n,x),_=t.split("").reduce((N,j)=>(N<<5)-N+j.charCodeAt(0)|0,0),S=`mermaid-${Math.abs(_)}-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,{svg:T}=await C.render(S,t);d(T),h(T)}catch(C){if(!(m||u)){let _=C instanceof Error?C.message:"Failed to render Mermaid chart";i(_)}}finally{c(!1)}})()},[t,n,p,w,x]),!(w||u||m))return l.jsx("div",{className:Tn("my-4 min-h-[200px]",e),ref:v});if(o&&!u&&!m)return l.jsx("div",{className:Tn("my-4 flex justify-center p-4",e),ref:v,children:l.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-current border-b-2"}),l.jsx("span",{className:"text-sm",children:"Loading diagram..."})]})});if(s&&!u&&!m){let C=()=>f(_=>_+1);return y?l.jsx("div",{ref:v,children:l.jsx(y,{chart:t,error:s,retry:C})}):l.jsxs("div",{className:Tn("rounded-lg border border-red-200 bg-red-50 p-4",e),ref:v,children:[l.jsxs("p",{className:"font-mono text-red-700 text-sm",children:["Mermaid Error: ",s]}),l.jsxs("details",{className:"mt-2",children:[l.jsx("summary",{className:"cursor-pointer text-red-600 text-xs",children:"Show Code"}),l.jsx("pre",{className:"mt-2 overflow-x-auto rounded bg-red-100 p-2 text-red-800 text-xs",children:t})]})]})}let k=u||m;return l.jsx("div",{className:"size-full",ref:v,children:l.jsx(qTe,{className:Tn(r?"size-full overflow-hidden":"my-4 overflow-hidden",e),fullscreen:r,maxZoom:3,minZoom:.5,showControls:a,zoomStep:.1,children:l.jsx("div",{"aria-label":"Mermaid chart",className:Tn("flex justify-center",r?"size-full items-center":null),dangerouslySetInnerHTML:{__html:k},role:"img"})})})};function UTe(t){wB(t,[/\r?\n|\r/g,WTe])}function WTe(){return{type:"break"}}function GTe(){return function(t){UTe(t)}}function VTe({defaultOrigin:t="",allowedLinkPrefixes:e=[],allowedImagePrefixes:n=[],allowDataImages:r=!1,allowedProtocols:a=[],blockedImageClass:s="inline-block bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 px-3 py-1 rounded text-sm",blockedLinkClass:i="text-gray-500"}){const o=e.length&&!e.every(u=>u==="*"),c=n.length&&!n.every(u=>u==="*");if(!t&&(o||c))throw new Error("defaultOrigin is required when allowedLinkPrefixes or allowedImagePrefixes are provided");return u=>{const d=ZTe(t,e,n,r,a,s,i);uo(u,d)}}function s7(t,e){if(typeof t!="string")return null;try{return new URL(t)}catch{if(e)try{return new URL(t,e)}catch{return null}return null}}function KTe(t){return typeof t!="string"?!1:t.startsWith("/")}const YTe=new Set(["https:","http:","irc:","ircs:","mailto:","xmpp:","blob:"]),XTe=new Set(["javascript:","data:","file:","vbscript:"]);function i7(t,e,n,r=!1,a=!1,s=[]){if(!t)return null;if(typeof t=="string"&&t.startsWith("#")&&!a)try{if(new URL(t,"http://example.com").hash===t)return t}catch{}if(typeof t=="string"&&t.startsWith("data:"))return a&&r&&t.startsWith("data:image/")?t:null;if(typeof t=="string"&&t.startsWith("blob:")){try{if(new URL(t).protocol==="blob:"&&t.length>5){const d=t.substring(5);if(d&&d.length>0&&d!=="invalid")return t}}catch{return null}return null}const i=s7(t,n);if(!i||XTe.has(i.protocol)||!(YTe.has(i.protocol)||s.includes(i.protocol)||s.includes("*")))return null;if(i.protocol==="mailto:"||!i.protocol.match(/^https?:$/))return i.href;const c=KTe(t);return i&&e.some(u=>{const d=s7(u,n);return!d||d.origin!==i.origin?!1:i.href.startsWith(d.href)})?c?i.pathname+i.search+i.hash:i.href:e.includes("*")?i.protocol!=="https:"&&i.protocol!=="http:"?null:c?i.pathname+i.search+i.hash:i.href:null}const yv=Symbol("node-seen"),ZTe=(t,e,n,r,a,s,i)=>{const o=(c,u,d)=>{if(c.type!=="element"||c[yv])return Vo;if(c.tagName==="a"){const m=i7(c.properties.href,e,t,!1,!1,a);return m===null?(c[yv]=!0,uo(c,o),d&&typeof u=="number"&&(d.children[u]={type:"element",tagName:"span",properties:{title:"Blocked URL: "+String(c.properties.href),class:i},children:[...c.children,{type:"text",value:" [blocked]"}]}),Cm):(c.properties.href=m,c.properties.target="_blank",c.properties.rel="noopener noreferrer",Vo)}if(c.tagName==="img"){const m=i7(c.properties.src,n,t,r,!0,a);return m===null?(c[yv]=!0,uo(c,o),d&&typeof u=="number"&&(d.children[u]={type:"element",tagName:"span",properties:{class:s},children:[{type:"text",value:"[Image blocked: "+String(c.properties.alt||"No description")+"]"}]}),Cm):(c.properties.src=m,Vo)}return Vo};return o};function QTe(t){return t.replace(/\r\n/g,`
`).replace(/\r/g,`
`).replace(/[\u2028\u2029\u0085]/g,`
`).replace(/\n{3,}/g,`

`)}function o7(t){return t.replace(/([.!?])([ \t]*)(\*\*[^*\n]{2,}\*\*(?::)?[ \t]*\n\n)/g,`$1
$3`)}var l7={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},Yg={exports:{}},JTe=Yg.exports,c7;function eEe(){return c7||(c7=1,(function(t,e){(function(n,r){t.exports=r()})(JTe,(function(){var n=1e3,r=6e4,a=36e5,s="millisecond",i="second",o="minute",c="hour",u="day",d="week",m="month",h="quarter",p="year",f="date",g="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($){var E=["th","st","nd","rd"],M=$%100;return"["+$+(E[(M-20)%10]||E[M]||E[0])+"]"}},v=function($,E,M){var F=String($);return!F||F.length>=E?$:""+Array(E+1-F.length).join(M)+$},k={s:v,z:function($){var E=-$.utcOffset(),M=Math.abs(E),F=Math.floor(M/60),L=M%60;return(E<=0?"+":"-")+v(F,2,"0")+":"+v(L,2,"0")},m:function $(E,M){if(E.date()<M.date())return-$(M,E);var F=12*(M.year()-E.year())+(M.month()-E.month()),L=E.clone().add(F,m),Y=M-L<0,O=E.clone().add(F+(Y?-1:1),m);return+(-(F+(M-L)/(Y?L-O:O-L))||0)},a:function($){return $<0?Math.ceil($)||0:Math.floor($)},p:function($){return{M:m,y:p,w:d,d:u,D:f,h:c,m:o,s:i,ms:s,Q:h}[$]||String($||"").toLowerCase().replace(/s$/,"")},u:function($){return $===void 0}},C="en",_={};_[C]=w;var S="$isDayjsObject",T=function($){return $ instanceof I||!(!$||!$[S])},N=function $(E,M,F){var L;if(!E)return C;if(typeof E=="string"){var Y=E.toLowerCase();_[Y]&&(L=Y),M&&(_[Y]=M,L=Y);var O=E.split("-");if(!L&&O.length>1)return $(O[0])}else{var G=E.name;_[G]=E,L=G}return!F&&L&&(C=L),L||!F&&C},j=function($,E){if(T($))return $.clone();var M=typeof E=="object"?E:{};return M.date=$,M.args=arguments,new I(M)},R=k;R.l=N,R.i=T,R.w=function($,E){return j($,{locale:E.$L,utc:E.$u,x:E.$x,$offset:E.$offset})};var I=(function(){function $(M){this.$L=N(M.locale,null,!0),this.parse(M),this.$x=this.$x||M.x||{},this[S]=!0}var E=$.prototype;return E.parse=function(M){this.$d=(function(F){var L=F.date,Y=F.utc;if(L===null)return new Date(NaN);if(R.u(L))return new Date;if(L instanceof Date)return new Date(L);if(typeof L=="string"&&!/Z$/i.test(L)){var O=L.match(x);if(O){var G=O[2]-1||0,H=(O[7]||"0").substring(0,3);return Y?new Date(Date.UTC(O[1],G,O[3]||1,O[4]||0,O[5]||0,O[6]||0,H)):new Date(O[1],G,O[3]||1,O[4]||0,O[5]||0,O[6]||0,H)}}return new Date(L)})(M),this.init()},E.init=function(){var M=this.$d;this.$y=M.getFullYear(),this.$M=M.getMonth(),this.$D=M.getDate(),this.$W=M.getDay(),this.$H=M.getHours(),this.$m=M.getMinutes(),this.$s=M.getSeconds(),this.$ms=M.getMilliseconds()},E.$utils=function(){return R},E.isValid=function(){return this.$d.toString()!==g},E.isSame=function(M,F){var L=j(M);return this.startOf(F)<=L&&L<=this.endOf(F)},E.isAfter=function(M,F){return j(M)<this.startOf(F)},E.isBefore=function(M,F){return this.endOf(F)<j(M)},E.$g=function(M,F,L){return R.u(M)?this[F]:this.set(L,M)},E.unix=function(){return Math.floor(this.valueOf()/1e3)},E.valueOf=function(){return this.$d.getTime()},E.startOf=function(M,F){var L=this,Y=!!R.u(F)||F,O=R.p(M),G=function(W,K){var J=R.w(L.$u?Date.UTC(L.$y,K,W):new Date(L.$y,K,W),L);return Y?J:J.endOf(u)},H=function(W,K){return R.w(L.toDate()[W].apply(L.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(K)),L)},D=this.$W,U=this.$M,B=this.$D,q="set"+(this.$u?"UTC":"");switch(O){case p:return Y?G(1,0):G(31,11);case m:return Y?G(1,U):G(0,U+1);case d:var V=this.$locale().weekStart||0,Z=(D<V?D+7:D)-V;return G(Y?B-Z:B+(6-Z),U);case u:case f:return H(q+"Hours",0);case c:return H(q+"Minutes",1);case o:return H(q+"Seconds",2);case i:return H(q+"Milliseconds",3);default:return this.clone()}},E.endOf=function(M){return this.startOf(M,!1)},E.$set=function(M,F){var L,Y=R.p(M),O="set"+(this.$u?"UTC":""),G=(L={},L[u]=O+"Date",L[f]=O+"Date",L[m]=O+"Month",L[p]=O+"FullYear",L[c]=O+"Hours",L[o]=O+"Minutes",L[i]=O+"Seconds",L[s]=O+"Milliseconds",L)[Y],H=Y===u?this.$D+(F-this.$W):F;if(Y===m||Y===p){var D=this.clone().set(f,1);D.$d[G](H),D.init(),this.$d=D.set(f,Math.min(this.$D,D.daysInMonth())).$d}else G&&this.$d[G](H);return this.init(),this},E.set=function(M,F){return this.clone().$set(M,F)},E.get=function(M){return this[R.p(M)]()},E.add=function(M,F){var L,Y=this;M=Number(M);var O=R.p(F),G=function(U){var B=j(Y);return R.w(B.date(B.date()+Math.round(U*M)),Y)};if(O===m)return this.set(m,this.$M+M);if(O===p)return this.set(p,this.$y+M);if(O===u)return G(1);if(O===d)return G(7);var H=(L={},L[o]=r,L[c]=a,L[i]=n,L)[O]||1,D=this.$d.getTime()+M*H;return R.w(D,this)},E.subtract=function(M,F){return this.add(-1*M,F)},E.format=function(M){var F=this,L=this.$locale();if(!this.isValid())return L.invalidDate||g;var Y=M||"YYYY-MM-DDTHH:mm:ssZ",O=R.z(this),G=this.$H,H=this.$m,D=this.$M,U=L.weekdays,B=L.months,q=L.meridiem,V=function(K,J,ee,se){return K&&(K[J]||K(F,Y))||ee[J].slice(0,se)},Z=function(K){return R.s(G%12||12,K,"0")},W=q||function(K,J,ee){var se=K<12?"AM":"PM";return ee?se.toLowerCase():se};return Y.replace(y,(function(K,J){return J||(function(ee){switch(ee){case"YY":return String(F.$y).slice(-2);case"YYYY":return R.s(F.$y,4,"0");case"M":return D+1;case"MM":return R.s(D+1,2,"0");case"MMM":return V(L.monthsShort,D,B,3);case"MMMM":return V(B,D);case"D":return F.$D;case"DD":return R.s(F.$D,2,"0");case"d":return String(F.$W);case"dd":return V(L.weekdaysMin,F.$W,U,2);case"ddd":return V(L.weekdaysShort,F.$W,U,3);case"dddd":return U[F.$W];case"H":return String(G);case"HH":return R.s(G,2,"0");case"h":return Z(1);case"hh":return Z(2);case"a":return W(G,H,!0);case"A":return W(G,H,!1);case"m":return String(H);case"mm":return R.s(H,2,"0");case"s":return String(F.$s);case"ss":return R.s(F.$s,2,"0");case"SSS":return R.s(F.$ms,3,"0");case"Z":return O}return null})(K)||O.replace(":","")}))},E.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},E.diff=function(M,F,L){var Y,O=this,G=R.p(F),H=j(M),D=(H.utcOffset()-this.utcOffset())*r,U=this-H,B=function(){return R.m(O,H)};switch(G){case p:Y=B()/12;break;case m:Y=B();break;case h:Y=B()/3;break;case d:Y=(U-D)/6048e5;break;case u:Y=(U-D)/864e5;break;case c:Y=U/a;break;case o:Y=U/r;break;case i:Y=U/n;break;default:Y=U}return L?Y:R.a(Y)},E.daysInMonth=function(){return this.endOf(m).$D},E.$locale=function(){return _[this.$L]},E.locale=function(M,F){if(!M)return this.$L;var L=this.clone(),Y=N(M,F,!0);return Y&&(L.$L=Y),L},E.clone=function(){return R.w(this.$d,this)},E.toDate=function(){return new Date(this.valueOf())},E.toJSON=function(){return this.isValid()?this.toISOString():null},E.toISOString=function(){return this.$d.toISOString()},E.toString=function(){return this.$d.toUTCString()},$})(),A=I.prototype;return j.prototype=A,[["$ms",s],["$s",i],["$m",o],["$H",c],["$W",u],["$M",m],["$y",p],["$D",f]].forEach((function($){A[$[1]]=function(E){return this.$g(E,$[0],$[1])}})),j.extend=function($,E){return $.$i||($(E,I,j),$.$i=!0),j},j.locale=N,j.isDayjs=T,j.unix=function($){return j(1e3*$)},j.en=_[C],j.Ls=_,j.p={},j}))})(Yg)),Yg.exports}var tEe=eEe();const nEe=Ru(tEe);var pH=Object.defineProperty,X=(t,e)=>pH(t,"name",{value:e,configurable:!0}),rEe=(t,e)=>{for(var n in e)pH(t,n,{get:e[n],enumerable:!0})},Ro={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},ut={trace:X((...t)=>{},"trace"),debug:X((...t)=>{},"debug"),info:X((...t)=>{},"info"),warn:X((...t)=>{},"warn"),error:X((...t)=>{},"error"),fatal:X((...t)=>{},"fatal")},q6=X(function(t="fatal"){let e=Ro.fatal;typeof t=="string"?t.toLowerCase()in Ro&&(e=Ro[t]):typeof t=="number"&&(e=t),ut.trace=()=>{},ut.debug=()=>{},ut.info=()=>{},ut.warn=()=>{},ut.error=()=>{},ut.fatal=()=>{},e<=Ro.fatal&&(ut.fatal=console.error?console.error.bind(console,Hs("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Hs("FATAL"))),e<=Ro.error&&(ut.error=console.error?console.error.bind(console,Hs("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Hs("ERROR"))),e<=Ro.warn&&(ut.warn=console.warn?console.warn.bind(console,Hs("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Hs("WARN"))),e<=Ro.info&&(ut.info=console.info?console.info.bind(console,Hs("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Hs("INFO"))),e<=Ro.debug&&(ut.debug=console.debug?console.debug.bind(console,Hs("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Hs("DEBUG"))),e<=Ro.trace&&(ut.trace=console.debug?console.debug.bind(console,Hs("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Hs("TRACE")))},"setLogLevel"),Hs=X(t=>`%c${nEe().format("ss.SSS")} : ${t} : `,"format");const Xg={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t),hsl2rgb:({h:t,s:e,l:n},r)=>{if(!e)return n*2.55;t/=360,e/=100,n/=100;const a=n<.5?n*(1+e):n+e-n*e,s=2*n-a;switch(r){case"r":return Xg.hue2rgb(s,a,t+1/3)*255;case"g":return Xg.hue2rgb(s,a,t)*255;case"b":return Xg.hue2rgb(s,a,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:n},r)=>{t/=255,e/=255,n/=255;const a=Math.max(t,e,n),s=Math.min(t,e,n),i=(a+s)/2;if(r==="l")return i*100;if(a===s)return 0;const o=a-s,c=i>.5?o/(2-a-s):o/(a+s);if(r==="s")return c*100;switch(a){case t:return((e-n)/o+(e<n?6:0))*60;case e:return((n-t)/o+2)*60;case n:return((t-e)/o+4)*60;default:return-1}}},aEe={clamp:(t,e,n)=>e>n?Math.min(e,Math.max(n,t)):Math.min(n,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},sEe={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},vn={channel:Xg,lang:aEe,unit:sEe},Al={};for(let t=0;t<=255;t++)Al[t]=vn.unit.dec2hex(t);const Aa={ALL:0,RGB:1,HSL:2};class iEe{constructor(){this.type=Aa.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=Aa.ALL}is(e){return this.type===e}}class oEe{constructor(e,n){this.color=n,this.changed=!1,this.data=e,this.type=new iEe}set(e,n){return this.color=n,this.changed=!1,this.data=e,this.type.type=Aa.ALL,this}_ensureHSL(){const e=this.data,{h:n,s:r,l:a}=e;n===void 0&&(e.h=vn.channel.rgb2hsl(e,"h")),r===void 0&&(e.s=vn.channel.rgb2hsl(e,"s")),a===void 0&&(e.l=vn.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:n,g:r,b:a}=e;n===void 0&&(e.r=vn.channel.hsl2rgb(e,"r")),r===void 0&&(e.g=vn.channel.hsl2rgb(e,"g")),a===void 0&&(e.b=vn.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,n=e.r;return!this.type.is(Aa.HSL)&&n!==void 0?n:(this._ensureHSL(),vn.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,n=e.g;return!this.type.is(Aa.HSL)&&n!==void 0?n:(this._ensureHSL(),vn.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,n=e.b;return!this.type.is(Aa.HSL)&&n!==void 0?n:(this._ensureHSL(),vn.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,n=e.h;return!this.type.is(Aa.RGB)&&n!==void 0?n:(this._ensureRGB(),vn.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,n=e.s;return!this.type.is(Aa.RGB)&&n!==void 0?n:(this._ensureRGB(),vn.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,n=e.l;return!this.type.is(Aa.RGB)&&n!==void 0?n:(this._ensureRGB(),vn.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(Aa.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(Aa.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(Aa.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(Aa.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(Aa.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(Aa.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const Gy=new oEe({r:0,g:0,b:0,a:0},"transparent"),im={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(im.re);if(!e)return;const n=e[1],r=parseInt(n,16),a=n.length,s=a%4===0,i=a>4,o=i?1:17,c=i?8:4,u=s?0:-1,d=i?255:15;return Gy.set({r:(r>>c*(u+3)&d)*o,g:(r>>c*(u+2)&d)*o,b:(r>>c*(u+1)&d)*o,a:s?(r&d)*o/255:1},t)},stringify:t=>{const{r:e,g:n,b:r,a}=t;return a<1?`#${Al[Math.round(e)]}${Al[Math.round(n)]}${Al[Math.round(r)]}${Al[Math.round(a*255)]}`:`#${Al[Math.round(e)]}${Al[Math.round(n)]}${Al[Math.round(r)]}`}},Yc={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(Yc.hueRe);if(e){const[,n,r]=e;switch(r){case"grad":return vn.channel.clamp.h(parseFloat(n)*.9);case"rad":return vn.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return vn.channel.clamp.h(parseFloat(n)*360)}}return vn.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const n=t.match(Yc.re);if(!n)return;const[,r,a,s,i,o]=n;return Gy.set({h:Yc._hue2deg(r),s:vn.channel.clamp.s(parseFloat(a)),l:vn.channel.clamp.l(parseFloat(s)),a:i?vn.channel.clamp.a(o?parseFloat(i)/100:parseFloat(i)):1},t)},stringify:t=>{const{h:e,s:n,l:r,a}=t;return a<1?`hsla(${vn.lang.round(e)}, ${vn.lang.round(n)}%, ${vn.lang.round(r)}%, ${a})`:`hsl(${vn.lang.round(e)}, ${vn.lang.round(n)}%, ${vn.lang.round(r)}%)`}},$p={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=$p.colors[t];if(e)return im.parse(e)},stringify:t=>{const e=im.stringify(t);for(const n in $p.colors)if($p.colors[n]===e)return n}},tp={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const n=t.match(tp.re);if(!n)return;const[,r,a,s,i,o,c,u,d]=n;return Gy.set({r:vn.channel.clamp.r(a?parseFloat(r)*2.55:parseFloat(r)),g:vn.channel.clamp.g(i?parseFloat(s)*2.55:parseFloat(s)),b:vn.channel.clamp.b(c?parseFloat(o)*2.55:parseFloat(o)),a:u?vn.channel.clamp.a(d?parseFloat(u)/100:parseFloat(u)):1},t)},stringify:t=>{const{r:e,g:n,b:r,a}=t;return a<1?`rgba(${vn.lang.round(e)}, ${vn.lang.round(n)}, ${vn.lang.round(r)}, ${vn.lang.round(a)})`:`rgb(${vn.lang.round(e)}, ${vn.lang.round(n)}, ${vn.lang.round(r)})`}},mo={format:{keyword:$p,hex:im,rgb:tp,rgba:tp,hsl:Yc,hsla:Yc},parse:t=>{if(typeof t!="string")return t;const e=im.parse(t)||tp.parse(t)||Yc.parse(t)||$p.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(Aa.HSL)||t.data.r===void 0?Yc.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?tp.stringify(t):im.stringify(t)},fH=(t,e)=>{const n=mo.parse(t);for(const r in e)n[r]=vn.channel.clamp[r](e[r]);return mo.stringify(n)},Ap=(t,e,n=0,r=1)=>{if(typeof t!="number")return fH(t,{a:e});const a=Gy.set({r:vn.channel.clamp.r(t),g:vn.channel.clamp.g(e),b:vn.channel.clamp.b(n),a:vn.channel.clamp.a(r)});return mo.stringify(a)},lEe=t=>{const{r:e,g:n,b:r}=mo.parse(t),a=.2126*vn.channel.toLinear(e)+.7152*vn.channel.toLinear(n)+.0722*vn.channel.toLinear(r);return vn.lang.round(a)},cEe=t=>lEe(t)>=.5,o0=t=>!cEe(t),gH=(t,e,n)=>{const r=mo.parse(t),a=r[e],s=vn.channel.clamp[e](a+n);return a!==s&&(r[e]=s),mo.stringify(r)},Xt=(t,e)=>gH(t,"l",e),cn=(t,e)=>gH(t,"l",-e),Me=(t,e)=>{const n=mo.parse(t),r={};for(const a in e)e[a]&&(r[a]=n[a]+e[a]);return fH(t,r)},uEe=(t,e,n=50)=>{const{r,g:a,b:s,a:i}=mo.parse(t),{r:o,g:c,b:u,a:d}=mo.parse(e),m=n/100,h=m*2-1,p=i-d,g=((h*p===-1?h:(h+p)/(1+h*p))+1)/2,x=1-g,y=r*g+o*x,w=a*g+c*x,v=s*g+u*x,k=i*m+d*(1-m);return Ap(y,w,v,k)},Dt=(t,e=100)=>{const n=mo.parse(t);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,uEe(n,t,e)};const{entries:bH,setPrototypeOf:u7,isFrozen:dEe,getPrototypeOf:mEe,getOwnPropertyDescriptor:hEe}=Object;let{freeze:ns,seal:si,create:s4}=Object,{apply:i4,construct:o4}=typeof Reflect<"u"&&Reflect;ns||(ns=function(e){return e});si||(si=function(e){return e});i4||(i4=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];return e.apply(n,a)});o4||(o4=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return new e(...r)});const dg=rs(Array.prototype.forEach),pEe=rs(Array.prototype.lastIndexOf),d7=rs(Array.prototype.pop),Th=rs(Array.prototype.push),fEe=rs(Array.prototype.splice),Zg=rs(String.prototype.toLowerCase),wv=rs(String.prototype.toString),vv=rs(String.prototype.match),Eh=rs(String.prototype.replace),gEe=rs(String.prototype.indexOf),bEe=rs(String.prototype.trim),pi=rs(Object.prototype.hasOwnProperty),Ga=rs(RegExp.prototype.test),Nh=xEe(TypeError);function rs(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return i4(t,e,r)}}function xEe(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return o4(t,n)}}function Dn(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Zg;u7&&u7(t,null);let r=e.length;for(;r--;){let a=e[r];if(typeof a=="string"){const s=n(a);s!==a&&(dEe(e)||(e[r]=s),a=s)}t[a]=!0}return t}function yEe(t){for(let e=0;e<t.length;e++)pi(t,e)||(t[e]=null);return t}function Oo(t){const e=s4(null);for(const[n,r]of bH(t))pi(t,n)&&(Array.isArray(r)?e[n]=yEe(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Oo(r):e[n]=r);return e}function $h(t,e){for(;t!==null;){const r=hEe(t,e);if(r){if(r.get)return rs(r.get);if(typeof r.value=="function")return rs(r.value)}t=mEe(t)}function n(){return null}return n}const m7=ns(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),kv=ns(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),_v=ns(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),wEe=ns(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Cv=ns(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),vEe=ns(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),h7=ns(["#text"]),p7=ns(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Sv=ns(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),f7=ns(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),mg=ns(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),kEe=si(/\{\{[\w\W]*|[\w\W]*\}\}/gm),_Ee=si(/<%[\w\W]*|[\w\W]*%>/gm),CEe=si(/\$\{[\w\W]*/gm),SEe=si(/^data-[\-\w.\u00B7-\uFFFF]+$/),jEe=si(/^aria-[\-\w]+$/),xH=si(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),TEe=si(/^(?:\w+script|data):/i),EEe=si(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),yH=si(/^html$/i),NEe=si(/^[a-z][.\w]*(-[.\w]+)+$/i);var g7=Object.freeze({__proto__:null,ARIA_ATTR:jEe,ATTR_WHITESPACE:EEe,CUSTOM_ELEMENT:NEe,DATA_ATTR:SEe,DOCTYPE_NAME:yH,ERB_EXPR:_Ee,IS_ALLOWED_URI:xH,IS_SCRIPT_OR_DATA:TEe,MUSTACHE_EXPR:kEe,TMPLIT_EXPR:CEe});const Ah={element:1,text:3,progressingInstruction:7,comment:8,document:9},$Ee=function(){return typeof window>"u"?null:window},AEe=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";n&&n.hasAttribute(a)&&(r=n.getAttribute(a));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(i){return i},createScriptURL(i){return i}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},b7=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function wH(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$Ee();const e=Se=>wH(Se);if(e.version="3.3.0",e.removed=[],!t||!t.document||t.document.nodeType!==Ah.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,a=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:i,Node:o,Element:c,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:h,trustedTypes:p}=t,f=c.prototype,g=$h(f,"cloneNode"),x=$h(f,"remove"),y=$h(f,"nextSibling"),w=$h(f,"childNodes"),v=$h(f,"parentNode");if(typeof i=="function"){const Se=n.createElement("template");Se.content&&Se.content.ownerDocument&&(n=Se.content.ownerDocument)}let k,C="";const{implementation:_,createNodeIterator:S,createDocumentFragment:T,getElementsByTagName:N}=n,{importNode:j}=r;let R=b7();e.isSupported=typeof bH=="function"&&typeof v=="function"&&_&&_.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:I,ERB_EXPR:A,TMPLIT_EXPR:$,DATA_ATTR:E,ARIA_ATTR:M,IS_SCRIPT_OR_DATA:F,ATTR_WHITESPACE:L,CUSTOM_ELEMENT:Y}=g7;let{IS_ALLOWED_URI:O}=g7,G=null;const H=Dn({},[...m7,...kv,..._v,...Cv,...h7]);let D=null;const U=Dn({},[...p7,...Sv,...f7,...mg]);let B=Object.seal(s4(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,V=null;const Z=Object.seal(s4(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let W=!0,K=!0,J=!1,ee=!0,se=!1,re=!0,ue=!1,he=!1,ke=!1,je=!1,_e=!1,ge=!1,ve=!0,De=!1;const $e="user-content-";let Qe=!0,Be=!1,ie={},Te=null;const Ne=Dn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Re=null;const Le=Dn({},["audio","video","img","source","image","track"]);let Ae=null;const bt=Dn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),nt="http://www.w3.org/1998/Math/MathML",ct="http://www.w3.org/2000/svg",pt="http://www.w3.org/1999/xhtml";let be=pt,We=!1,He=null;const Je=Dn({},[nt,ct,pt],wv);let ye=Dn({},["mi","mo","mn","ms","mtext"]),Ze=Dn({},["annotation-xml"]);const qe=Dn({},["title","style","font","a","script"]);let ft=null;const Et=["application/xhtml+xml","text/html"],At="text/html";let dt=null,Mt=null;const Gt=n.createElement("form"),tn=function(le){return le instanceof RegExp||le instanceof Function},It=function(){let le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Mt&&Mt===le)){if((!le||typeof le!="object")&&(le={}),le=Oo(le),ft=Et.indexOf(le.PARSER_MEDIA_TYPE)===-1?At:le.PARSER_MEDIA_TYPE,dt=ft==="application/xhtml+xml"?wv:Zg,G=pi(le,"ALLOWED_TAGS")?Dn({},le.ALLOWED_TAGS,dt):H,D=pi(le,"ALLOWED_ATTR")?Dn({},le.ALLOWED_ATTR,dt):U,He=pi(le,"ALLOWED_NAMESPACES")?Dn({},le.ALLOWED_NAMESPACES,wv):Je,Ae=pi(le,"ADD_URI_SAFE_ATTR")?Dn(Oo(bt),le.ADD_URI_SAFE_ATTR,dt):bt,Re=pi(le,"ADD_DATA_URI_TAGS")?Dn(Oo(Le),le.ADD_DATA_URI_TAGS,dt):Le,Te=pi(le,"FORBID_CONTENTS")?Dn({},le.FORBID_CONTENTS,dt):Ne,q=pi(le,"FORBID_TAGS")?Dn({},le.FORBID_TAGS,dt):Oo({}),V=pi(le,"FORBID_ATTR")?Dn({},le.FORBID_ATTR,dt):Oo({}),ie=pi(le,"USE_PROFILES")?le.USE_PROFILES:!1,W=le.ALLOW_ARIA_ATTR!==!1,K=le.ALLOW_DATA_ATTR!==!1,J=le.ALLOW_UNKNOWN_PROTOCOLS||!1,ee=le.ALLOW_SELF_CLOSE_IN_ATTR!==!1,se=le.SAFE_FOR_TEMPLATES||!1,re=le.SAFE_FOR_XML!==!1,ue=le.WHOLE_DOCUMENT||!1,je=le.RETURN_DOM||!1,_e=le.RETURN_DOM_FRAGMENT||!1,ge=le.RETURN_TRUSTED_TYPE||!1,ke=le.FORCE_BODY||!1,ve=le.SANITIZE_DOM!==!1,De=le.SANITIZE_NAMED_PROPS||!1,Qe=le.KEEP_CONTENT!==!1,Be=le.IN_PLACE||!1,O=le.ALLOWED_URI_REGEXP||xH,be=le.NAMESPACE||pt,ye=le.MATHML_TEXT_INTEGRATION_POINTS||ye,Ze=le.HTML_INTEGRATION_POINTS||Ze,B=le.CUSTOM_ELEMENT_HANDLING||{},le.CUSTOM_ELEMENT_HANDLING&&tn(le.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(B.tagNameCheck=le.CUSTOM_ELEMENT_HANDLING.tagNameCheck),le.CUSTOM_ELEMENT_HANDLING&&tn(le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(B.attributeNameCheck=le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),le.CUSTOM_ELEMENT_HANDLING&&typeof le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(B.allowCustomizedBuiltInElements=le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),se&&(K=!1),_e&&(je=!0),ie&&(G=Dn({},h7),D=[],ie.html===!0&&(Dn(G,m7),Dn(D,p7)),ie.svg===!0&&(Dn(G,kv),Dn(D,Sv),Dn(D,mg)),ie.svgFilters===!0&&(Dn(G,_v),Dn(D,Sv),Dn(D,mg)),ie.mathMl===!0&&(Dn(G,Cv),Dn(D,f7),Dn(D,mg))),le.ADD_TAGS&&(typeof le.ADD_TAGS=="function"?Z.tagCheck=le.ADD_TAGS:(G===H&&(G=Oo(G)),Dn(G,le.ADD_TAGS,dt))),le.ADD_ATTR&&(typeof le.ADD_ATTR=="function"?Z.attributeCheck=le.ADD_ATTR:(D===U&&(D=Oo(D)),Dn(D,le.ADD_ATTR,dt))),le.ADD_URI_SAFE_ATTR&&Dn(Ae,le.ADD_URI_SAFE_ATTR,dt),le.FORBID_CONTENTS&&(Te===Ne&&(Te=Oo(Te)),Dn(Te,le.FORBID_CONTENTS,dt)),Qe&&(G["#text"]=!0),ue&&Dn(G,["html","head","body"]),G.table&&(Dn(G,["tbody"]),delete q.tbody),le.TRUSTED_TYPES_POLICY){if(typeof le.TRUSTED_TYPES_POLICY.createHTML!="function")throw Nh('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof le.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Nh('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=le.TRUSTED_TYPES_POLICY,C=k.createHTML("")}else k===void 0&&(k=AEe(p,a)),k!==null&&typeof C=="string"&&(C=k.createHTML(""));ns&&ns(le),Mt=le}},zt=Dn({},[...kv,..._v,...wEe]),Vt=Dn({},[...Cv,...vEe]),qt=function(le){let Ie=v(le);(!Ie||!Ie.tagName)&&(Ie={namespaceURI:be,tagName:"template"});const we=Zg(le.tagName),it=Zg(Ie.tagName);return He[le.namespaceURI]?le.namespaceURI===ct?Ie.namespaceURI===pt?we==="svg":Ie.namespaceURI===nt?we==="svg"&&(it==="annotation-xml"||ye[it]):!!zt[we]:le.namespaceURI===nt?Ie.namespaceURI===pt?we==="math":Ie.namespaceURI===ct?we==="math"&&Ze[it]:!!Vt[we]:le.namespaceURI===pt?Ie.namespaceURI===ct&&!Ze[it]||Ie.namespaceURI===nt&&!ye[it]?!1:!Vt[we]&&(qe[we]||!zt[we]):!!(ft==="application/xhtml+xml"&&He[le.namespaceURI]):!1},Pt=function(le){Th(e.removed,{element:le});try{v(le).removeChild(le)}catch{x(le)}},et=function(le,Ie){try{Th(e.removed,{attribute:Ie.getAttributeNode(le),from:Ie})}catch{Th(e.removed,{attribute:null,from:Ie})}if(Ie.removeAttribute(le),le==="is")if(je||_e)try{Pt(Ie)}catch{}else try{Ie.setAttribute(le,"")}catch{}},rt=function(le){let Ie=null,we=null;if(ke)le="<remove></remove>"+le;else{const yt=vv(le,/^[\r\n\t ]+/);we=yt&&yt[0]}ft==="application/xhtml+xml"&&be===pt&&(le='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+le+"</body></html>");const it=k?k.createHTML(le):le;if(be===pt)try{Ie=new h().parseFromString(it,ft)}catch{}if(!Ie||!Ie.documentElement){Ie=_.createDocument(be,"template",null);try{Ie.documentElement.innerHTML=We?C:it}catch{}}const Pe=Ie.body||Ie.documentElement;return le&&we&&Pe.insertBefore(n.createTextNode(we),Pe.childNodes[0]||null),be===pt?N.call(Ie,ue?"html":"body")[0]:ue?Ie.documentElement:Pe},jt=function(le){return S.call(le.ownerDocument||le,le,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},ze=function(le){return le instanceof m&&(typeof le.nodeName!="string"||typeof le.textContent!="string"||typeof le.removeChild!="function"||!(le.attributes instanceof d)||typeof le.removeAttribute!="function"||typeof le.setAttribute!="function"||typeof le.namespaceURI!="string"||typeof le.insertBefore!="function"||typeof le.hasChildNodes!="function")},Ve=function(le){return typeof o=="function"&&le instanceof o};function $t(Se,le,Ie){dg(Se,we=>{we.call(e,le,Ie,Mt)})}const Wt=function(le){let Ie=null;if($t(R.beforeSanitizeElements,le,null),ze(le))return Pt(le),!0;const we=dt(le.nodeName);if($t(R.uponSanitizeElement,le,{tagName:we,allowedTags:G}),re&&le.hasChildNodes()&&!Ve(le.firstElementChild)&&Ga(/<[/\w!]/g,le.innerHTML)&&Ga(/<[/\w!]/g,le.textContent)||le.nodeType===Ah.progressingInstruction||re&&le.nodeType===Ah.comment&&Ga(/<[/\w]/g,le.data))return Pt(le),!0;if(!(Z.tagCheck instanceof Function&&Z.tagCheck(we))&&(!G[we]||q[we])){if(!q[we]&&En(we)&&(B.tagNameCheck instanceof RegExp&&Ga(B.tagNameCheck,we)||B.tagNameCheck instanceof Function&&B.tagNameCheck(we)))return!1;if(Qe&&!Te[we]){const it=v(le)||le.parentNode,Pe=w(le)||le.childNodes;if(Pe&&it){const yt=Pe.length;for(let lt=yt-1;lt>=0;--lt){const Ot=g(Pe[lt],!0);Ot.__removalCount=(le.__removalCount||0)+1,it.insertBefore(Ot,y(le))}}}return Pt(le),!0}return le instanceof c&&!qt(le)||(we==="noscript"||we==="noembed"||we==="noframes")&&Ga(/<\/no(script|embed|frames)/i,le.innerHTML)?(Pt(le),!0):(se&&le.nodeType===Ah.text&&(Ie=le.textContent,dg([I,A,$],it=>{Ie=Eh(Ie,it," ")}),le.textContent!==Ie&&(Th(e.removed,{element:le.cloneNode()}),le.textContent=Ie)),$t(R.afterSanitizeElements,le,null),!1)},sn=function(le,Ie,we){if(ve&&(Ie==="id"||Ie==="name")&&(we in n||we in Gt))return!1;if(!(K&&!V[Ie]&&Ga(E,Ie))){if(!(W&&Ga(M,Ie))){if(!(Z.attributeCheck instanceof Function&&Z.attributeCheck(Ie,le))){if(!D[Ie]||V[Ie]){if(!(En(le)&&(B.tagNameCheck instanceof RegExp&&Ga(B.tagNameCheck,le)||B.tagNameCheck instanceof Function&&B.tagNameCheck(le))&&(B.attributeNameCheck instanceof RegExp&&Ga(B.attributeNameCheck,Ie)||B.attributeNameCheck instanceof Function&&B.attributeNameCheck(Ie,le))||Ie==="is"&&B.allowCustomizedBuiltInElements&&(B.tagNameCheck instanceof RegExp&&Ga(B.tagNameCheck,we)||B.tagNameCheck instanceof Function&&B.tagNameCheck(we))))return!1}else if(!Ae[Ie]){if(!Ga(O,Eh(we,L,""))){if(!((Ie==="src"||Ie==="xlink:href"||Ie==="href")&&le!=="script"&&gEe(we,"data:")===0&&Re[le])){if(!(J&&!Ga(F,Eh(we,L,"")))){if(we)return!1}}}}}}}return!0},En=function(le){return le!=="annotation-xml"&&vv(le,Y)},ot=function(le){$t(R.beforeSanitizeAttributes,le,null);const{attributes:Ie}=le;if(!Ie||ze(le))return;const we={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:D,forceKeepAttr:void 0};let it=Ie.length;for(;it--;){const Pe=Ie[it],{name:yt,namespaceURI:lt,value:Ot}=Pe,yn=dt(yt),Zn=Ot;let Cn=yt==="value"?Zn:bEe(Zn);if(we.attrName=yn,we.attrValue=Cn,we.keepAttr=!0,we.forceKeepAttr=void 0,$t(R.uponSanitizeAttribute,le,we),Cn=we.attrValue,De&&(yn==="id"||yn==="name")&&(et(yt,le),Cn=$e+Cn),re&&Ga(/((--!?|])>)|<\/(style|title|textarea)/i,Cn)){et(yt,le);continue}if(yn==="attributename"&&vv(Cn,"href")){et(yt,le);continue}if(we.forceKeepAttr)continue;if(!we.keepAttr){et(yt,le);continue}if(!ee&&Ga(/\/>/i,Cn)){et(yt,le);continue}se&&dg([I,A,$],fr=>{Cn=Eh(Cn,fr," ")});const ua=dt(le.nodeName);if(!sn(ua,yn,Cn)){et(yt,le);continue}if(k&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!lt)switch(p.getAttributeType(ua,yn)){case"TrustedHTML":{Cn=k.createHTML(Cn);break}case"TrustedScriptURL":{Cn=k.createScriptURL(Cn);break}}if(Cn!==Zn)try{lt?le.setAttributeNS(lt,yt,Cn):le.setAttribute(yt,Cn),ze(le)?Pt(le):d7(e.removed)}catch{et(yt,le)}}$t(R.afterSanitizeAttributes,le,null)},Ue=function Se(le){let Ie=null;const we=jt(le);for($t(R.beforeSanitizeShadowDOM,le,null);Ie=we.nextNode();)$t(R.uponSanitizeShadowNode,Ie,null),Wt(Ie),ot(Ie),Ie.content instanceof s&&Se(Ie.content);$t(R.afterSanitizeShadowDOM,le,null)};return e.sanitize=function(Se){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=null,we=null,it=null,Pe=null;if(We=!Se,We&&(Se="<!-->"),typeof Se!="string"&&!Ve(Se))if(typeof Se.toString=="function"){if(Se=Se.toString(),typeof Se!="string")throw Nh("dirty is not a string, aborting")}else throw Nh("toString is not a function");if(!e.isSupported)return Se;if(he||It(le),e.removed=[],typeof Se=="string"&&(Be=!1),Be){if(Se.nodeName){const Ot=dt(Se.nodeName);if(!G[Ot]||q[Ot])throw Nh("root node is forbidden and cannot be sanitized in-place")}}else if(Se instanceof o)Ie=rt("<!---->"),we=Ie.ownerDocument.importNode(Se,!0),we.nodeType===Ah.element&&we.nodeName==="BODY"||we.nodeName==="HTML"?Ie=we:Ie.appendChild(we);else{if(!je&&!se&&!ue&&Se.indexOf("<")===-1)return k&&ge?k.createHTML(Se):Se;if(Ie=rt(Se),!Ie)return je?null:ge?C:""}Ie&&ke&&Pt(Ie.firstChild);const yt=jt(Be?Se:Ie);for(;it=yt.nextNode();)Wt(it),ot(it),it.content instanceof s&&Ue(it.content);if(Be)return Se;if(je){if(_e)for(Pe=T.call(Ie.ownerDocument);Ie.firstChild;)Pe.appendChild(Ie.firstChild);else Pe=Ie;return(D.shadowroot||D.shadowrootmode)&&(Pe=j.call(r,Pe,!0)),Pe}let lt=ue?Ie.outerHTML:Ie.innerHTML;return ue&&G["!doctype"]&&Ie.ownerDocument&&Ie.ownerDocument.doctype&&Ie.ownerDocument.doctype.name&&Ga(yH,Ie.ownerDocument.doctype.name)&&(lt="<!DOCTYPE "+Ie.ownerDocument.doctype.name+`>
`+lt),se&&dg([I,A,$],Ot=>{lt=Eh(lt,Ot," ")}),k&&ge?k.createHTML(lt):lt},e.setConfig=function(){let Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};It(Se),he=!0},e.clearConfig=function(){Mt=null,he=!1},e.isValidAttribute=function(Se,le,Ie){Mt||It({});const we=dt(Se),it=dt(le);return sn(we,it,Ie)},e.addHook=function(Se,le){typeof le=="function"&&Th(R[Se],le)},e.removeHook=function(Se,le){if(le!==void 0){const Ie=pEe(R[Se],le);return Ie===-1?void 0:fEe(R[Se],Ie,1)[0]}return d7(R[Se])},e.removeHooks=function(Se){R[Se]=[]},e.removeAllHooks=function(){R=b7()},e}var Nm=wH(),vH=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Ip=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,IEe=/\s*%%.*\n/gm,kH=class extends Error{static{X(this,"UnknownDiagramError")}constructor(t){super(t),this.name="UnknownDiagramError"}},Su={},U6=X(function(t,e){t=t.replace(vH,"").replace(Ip,"").replace(IEe,`
`);for(const[n,{detector:r}]of Object.entries(Su))if(r(t,e))return n;throw new kH(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),l4=X((...t)=>{for(const{id:e,detector:n,loader:r}of t)_H(e,n,r)},"registerLazyLoadedDiagrams"),_H=X((t,e,n)=>{Su[t]&&ut.warn(`Detector with key ${t} already exists. Overwriting.`),Su[t]={detector:e,loader:n},ut.debug(`Detector with key ${t} added${n?" with loader":""}`)},"addDetector"),REe=X(t=>Su[t].loader,"getDiagramLoader"),c4=X((t,e,{depth:n=2,clobber:r=!1}={})=>{const a={depth:n,clobber:r};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(s=>c4(t,s,a)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(s=>{t.includes(s)||t.push(s)}),t):t===void 0||n<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(s=>{typeof e[s]=="object"&&(t[s]===void 0||typeof t[s]=="object")?(t[s]===void 0&&(t[s]=Array.isArray(e[s])?[]:{}),t[s]=c4(t[s],e[s],{depth:n-1,clobber:r})):(r||typeof t[s]!="object"&&typeof e[s]!="object")&&(t[s]=e[s])}),t)},"assignWithDepth"),ea=c4,Vy="#ffffff",Ky="#f2f2f2",Za=X((t,e)=>e?Me(t,{s:-40,l:10}):Me(t,{s:-40,l:-10}),"mkBorder"),MEe=class{static{X(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Me(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Me(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Za(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Za(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Za(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Za(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Dt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Dt(this.tertiaryColor),this.lineColor=this.lineColor||Dt(this.background),this.arrowheadColor=this.arrowheadColor||Dt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?cn(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||cn(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Dt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Xt(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||cn(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||cn(this.mainBkg,10)):(this.rowOdd=this.rowOdd||Xt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Xt(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Me(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Me(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Me(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Me(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Me(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Me(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Me(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Me(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Me(this.primaryColor,{h:330}),this.darkMode)for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=cn(this["cScale"+e],75);else for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=cn(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Dt(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||Xt(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||cn(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;const t=this.darkMode?-4:-1;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Me(this.mainBkg,{h:180,s:-15,l:t*(5+e*3)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Me(this.mainBkg,{h:180,s:-15,l:t*(8+e*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Me(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Me(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Me(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Me(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Me(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Me(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Me(this.primaryColor,{l:-10}),this.pie5=this.pie5||Me(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Me(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Me(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Me(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Me(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Me(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Me(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Me(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Me(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Me(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Me(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Me(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Me(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Me(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||o0(this.quadrant1Fill)?Xt(this.quadrant1Fill):cn(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?cn(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Me(this.primaryColor,{h:-30}),this.git4=this.git4||Me(this.primaryColor,{h:-60}),this.git5=this.git5||Me(this.primaryColor,{h:-90}),this.git6=this.git6||Me(this.primaryColor,{h:60}),this.git7=this.git7||Me(this.primaryColor,{h:120}),this.darkMode?(this.git0=Xt(this.git0,25),this.git1=Xt(this.git1,25),this.git2=Xt(this.git2,25),this.git3=Xt(this.git3,25),this.git4=Xt(this.git4,25),this.git5=Xt(this.git5,25),this.git6=Xt(this.git6,25),this.git7=Xt(this.git7,25)):(this.git0=cn(this.git0,25),this.git1=cn(this.git1,25),this.git2=cn(this.git2,25),this.git3=cn(this.git3,25),this.git4=cn(this.git4,25),this.git5=cn(this.git5,25),this.git6=cn(this.git6,25),this.git7=cn(this.git7,25)),this.gitInv0=this.gitInv0||Dt(this.git0),this.gitInv1=this.gitInv1||Dt(this.git1),this.gitInv2=this.gitInv2||Dt(this.git2),this.gitInv3=this.gitInv3||Dt(this.git3),this.gitInv4=this.gitInv4||Dt(this.git4),this.gitInv5=this.gitInv5||Dt(this.git5),this.gitInv6=this.gitInv6||Dt(this.git6),this.gitInv7=this.gitInv7||Dt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Vy,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ky}calculate(t){if(typeof t!="object"){this.updateColors();return}const e=Object.keys(t);e.forEach(n=>{this[n]=t[n]}),this.updateColors(),e.forEach(n=>{this[n]=t[n]})}},DEe=X(t=>{const e=new MEe;return e.calculate(t),e},"getThemeVariables"),LEe=class{static{X(this,"Theme")}constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Xt(this.primaryColor,16),this.tertiaryColor=Me(this.primaryColor,{h:-160}),this.primaryBorderColor=Dt(this.background),this.secondaryBorderColor=Za(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Za(this.tertiaryColor,this.darkMode),this.primaryTextColor=Dt(this.primaryColor),this.secondaryTextColor=Dt(this.secondaryColor),this.tertiaryTextColor=Dt(this.tertiaryColor),this.lineColor=Dt(this.background),this.textColor=Dt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Xt(Dt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=Ap(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=cn("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=cn(this.sectionBkgColor,10),this.taskBorderColor=Ap(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Ap(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Xt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||cn(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=Xt(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Xt(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Xt(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Me(this.primaryColor,{h:64}),this.fillType3=Me(this.secondaryColor,{h:64}),this.fillType4=Me(this.primaryColor,{h:-64}),this.fillType5=Me(this.secondaryColor,{h:-64}),this.fillType6=Me(this.primaryColor,{h:128}),this.fillType7=Me(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Me(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Me(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Me(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Me(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Me(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Me(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Me(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Me(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Me(this.primaryColor,{h:330});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Dt(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScalePeer"+t]=this["cScalePeer"+t]||Xt(this["cScale"+t],10);for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||Me(this.mainBkg,{h:30,s:-30,l:-(-10+t*4)}),this["surfacePeer"+t]=this["surfacePeer"+t]||Me(this.mainBkg,{h:30,s:-30,l:-(-7+t*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Me(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Me(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Me(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Me(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Me(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Me(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||o0(this.quadrant1Fill)?Xt(this.quadrant1Fill):cn(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?cn(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Xt(this.secondaryColor,20),this.git1=Xt(this.pie2||this.secondaryColor,20),this.git2=Xt(this.pie3||this.tertiaryColor,20),this.git3=Xt(this.pie4||Me(this.primaryColor,{h:-30}),20),this.git4=Xt(this.pie5||Me(this.primaryColor,{h:-60}),20),this.git5=Xt(this.pie6||Me(this.primaryColor,{h:-90}),10),this.git6=Xt(this.pie7||Me(this.primaryColor,{h:60}),10),this.git7=Xt(this.pie8||Me(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Dt(this.git0),this.gitInv1=this.gitInv1||Dt(this.git1),this.gitInv2=this.gitInv2||Dt(this.git2),this.gitInv3=this.gitInv3||Dt(this.git3),this.gitInv4=this.gitInv4||Dt(this.git4),this.gitInv5=this.gitInv5||Dt(this.git5),this.gitInv6=this.gitInv6||Dt(this.git6),this.gitInv7=this.gitInv7||Dt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Dt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Dt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Xt(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Xt(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(t){if(typeof t!="object"){this.updateColors();return}const e=Object.keys(t);e.forEach(n=>{this[n]=t[n]}),this.updateColors(),e.forEach(n=>{this[n]=t[n]})}},OEe=X(t=>{const e=new LEe;return e.calculate(t),e},"getThemeVariables"),PEe=class{static{X(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Me(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Me(this.primaryColor,{h:-160}),this.primaryBorderColor=Za(this.primaryColor,this.darkMode),this.secondaryBorderColor=Za(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Za(this.tertiaryColor,this.darkMode),this.primaryTextColor=Dt(this.primaryColor),this.secondaryTextColor=Dt(this.secondaryColor),this.tertiaryTextColor=Dt(this.tertiaryColor),this.lineColor=Dt(this.background),this.textColor=Dt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=Ap(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Me(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Me(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Me(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Me(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Me(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Me(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Me(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Me(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Me(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||cn(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||cn(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=cn(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||cn(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Me(this["cScale"+t],{h:180});for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||Me(this.mainBkg,{h:30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||Me(this.mainBkg,{h:30,l:-(7+t*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Dt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Dt(this.labelTextColor);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Xt(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Xt(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||Xt(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Me(this.primaryColor,{h:64}),this.fillType3=Me(this.secondaryColor,{h:64}),this.fillType4=Me(this.primaryColor,{h:-64}),this.fillType5=Me(this.secondaryColor,{h:-64}),this.fillType6=Me(this.primaryColor,{h:128}),this.fillType7=Me(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Me(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Me(this.primaryColor,{l:-10}),this.pie5=this.pie5||Me(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Me(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Me(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Me(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Me(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Me(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Me(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Me(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Me(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Me(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Me(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Me(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Me(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Me(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||o0(this.quadrant1Fill)?Xt(this.quadrant1Fill):cn(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Me(this.primaryColor,{h:-30}),this.git4=this.git4||Me(this.primaryColor,{h:-60}),this.git5=this.git5||Me(this.primaryColor,{h:-90}),this.git6=this.git6||Me(this.primaryColor,{h:60}),this.git7=this.git7||Me(this.primaryColor,{h:120}),this.darkMode?(this.git0=Xt(this.git0,25),this.git1=Xt(this.git1,25),this.git2=Xt(this.git2,25),this.git3=Xt(this.git3,25),this.git4=Xt(this.git4,25),this.git5=Xt(this.git5,25),this.git6=Xt(this.git6,25),this.git7=Xt(this.git7,25)):(this.git0=cn(this.git0,25),this.git1=cn(this.git1,25),this.git2=cn(this.git2,25),this.git3=cn(this.git3,25),this.git4=cn(this.git4,25),this.git5=cn(this.git5,25),this.git6=cn(this.git6,25),this.git7=cn(this.git7,25)),this.gitInv0=this.gitInv0||cn(Dt(this.git0),25),this.gitInv1=this.gitInv1||Dt(this.git1),this.gitInv2=this.gitInv2||Dt(this.git2),this.gitInv3=this.gitInv3||Dt(this.git3),this.gitInv4=this.gitInv4||Dt(this.git4),this.gitInv5=this.gitInv5||Dt(this.git5),this.gitInv6=this.gitInv6||Dt(this.git6),this.gitInv7=this.gitInv7||Dt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Dt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Dt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Vy,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ky}calculate(t){if(Object.keys(this).forEach(n=>{this[n]==="calculated"&&(this[n]=void 0)}),typeof t!="object"){this.updateColors();return}const e=Object.keys(t);e.forEach(n=>{this[n]=t[n]}),this.updateColors(),e.forEach(n=>{this[n]=t[n]})}},FEe=X(t=>{const e=new PEe;return e.calculate(t),e},"getThemeVariables"),BEe=class{static{X(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Xt("#cde498",10),this.primaryBorderColor=Za(this.primaryColor,this.darkMode),this.secondaryBorderColor=Za(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Za(this.tertiaryColor,this.darkMode),this.primaryTextColor=Dt(this.primaryColor),this.secondaryTextColor=Dt(this.secondaryColor),this.tertiaryTextColor=Dt(this.primaryColor),this.lineColor=Dt(this.background),this.textColor=Dt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=cn(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Me(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Me(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Me(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Me(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Me(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Me(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Me(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Me(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Me(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||cn(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||cn(this.tertiaryColor,40);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=cn(this["cScale"+t],10),this["cScalePeer"+t]=this["cScalePeer"+t]||cn(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Me(this["cScale"+t],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||Me(this.mainBkg,{h:30,s:-30,l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||Me(this.mainBkg,{h:30,s:-30,l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Xt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Xt(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Me(this.primaryColor,{h:64}),this.fillType3=Me(this.secondaryColor,{h:64}),this.fillType4=Me(this.primaryColor,{h:-64}),this.fillType5=Me(this.secondaryColor,{h:-64}),this.fillType6=Me(this.primaryColor,{h:128}),this.fillType7=Me(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Me(this.primaryColor,{l:-30}),this.pie5=this.pie5||Me(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Me(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Me(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Me(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Me(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Me(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Me(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Me(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Me(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Me(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Me(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Me(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Me(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Me(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||o0(this.quadrant1Fill)?Xt(this.quadrant1Fill):cn(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Me(this.primaryColor,{h:-30}),this.git4=this.git4||Me(this.primaryColor,{h:-60}),this.git5=this.git5||Me(this.primaryColor,{h:-90}),this.git6=this.git6||Me(this.primaryColor,{h:60}),this.git7=this.git7||Me(this.primaryColor,{h:120}),this.darkMode?(this.git0=Xt(this.git0,25),this.git1=Xt(this.git1,25),this.git2=Xt(this.git2,25),this.git3=Xt(this.git3,25),this.git4=Xt(this.git4,25),this.git5=Xt(this.git5,25),this.git6=Xt(this.git6,25),this.git7=Xt(this.git7,25)):(this.git0=cn(this.git0,25),this.git1=cn(this.git1,25),this.git2=cn(this.git2,25),this.git3=cn(this.git3,25),this.git4=cn(this.git4,25),this.git5=cn(this.git5,25),this.git6=cn(this.git6,25),this.git7=cn(this.git7,25)),this.gitInv0=this.gitInv0||Dt(this.git0),this.gitInv1=this.gitInv1||Dt(this.git1),this.gitInv2=this.gitInv2||Dt(this.git2),this.gitInv3=this.gitInv3||Dt(this.git3),this.gitInv4=this.gitInv4||Dt(this.git4),this.gitInv5=this.gitInv5||Dt(this.git5),this.gitInv6=this.gitInv6||Dt(this.git6),this.gitInv7=this.gitInv7||Dt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Dt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Dt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Vy,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ky}calculate(t){if(typeof t!="object"){this.updateColors();return}const e=Object.keys(t);e.forEach(n=>{this[n]=t[n]}),this.updateColors(),e.forEach(n=>{this[n]=t[n]})}},zEe=X(t=>{const e=new BEe;return e.calculate(t),e},"getThemeVariables"),HEe=class{static{X(this,"Theme")}constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Xt(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Me(this.primaryColor,{h:-160}),this.primaryBorderColor=Za(this.primaryColor,this.darkMode),this.secondaryBorderColor=Za(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Za(this.tertiaryColor,this.darkMode),this.primaryTextColor=Dt(this.primaryColor),this.secondaryTextColor=Dt(this.secondaryColor),this.tertiaryTextColor=Dt(this.tertiaryColor),this.lineColor=Dt(this.background),this.textColor=Dt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Xt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=Xt(this.contrast,55),this.border2=this.contrast,this.actorBorder=Xt(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||Dt(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||Xt(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||cn(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||Me(this.mainBkg,{l:-(5+t*5)}),this["surfacePeer"+t]=this["surfacePeer"+t]||Me(this.mainBkg,{l:-(8+t*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Xt(this.contrast,30),this.sectionBkgColor2=Xt(this.contrast,30),this.taskBorderColor=cn(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Xt(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=cn(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Me(this.primaryColor,{h:64}),this.fillType3=Me(this.secondaryColor,{h:64}),this.fillType4=Me(this.primaryColor,{h:-64}),this.fillType5=Me(this.secondaryColor,{h:-64}),this.fillType6=Me(this.primaryColor,{h:128}),this.fillType7=Me(this.secondaryColor,{h:128});for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["pie"+t]=this["cScale"+t];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Me(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Me(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Me(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Me(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Me(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Me(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||o0(this.quadrant1Fill)?Xt(this.quadrant1Fill):cn(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=cn(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Me(this.primaryColor,{h:-30}),this.git4=this.pie5||Me(this.primaryColor,{h:-60}),this.git5=this.pie6||Me(this.primaryColor,{h:-90}),this.git6=this.pie7||Me(this.primaryColor,{h:60}),this.git7=this.pie8||Me(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Dt(this.git0),this.gitInv1=this.gitInv1||Dt(this.git1),this.gitInv2=this.gitInv2||Dt(this.git2),this.gitInv3=this.gitInv3||Dt(this.git3),this.gitInv4=this.gitInv4||Dt(this.git4),this.gitInv5=this.gitInv5||Dt(this.git5),this.gitInv6=this.gitInv6||Dt(this.git6),this.gitInv7=this.gitInv7||Dt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Vy,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ky}calculate(t){if(typeof t!="object"){this.updateColors();return}const e=Object.keys(t);e.forEach(n=>{this[n]=t[n]}),this.updateColors(),e.forEach(n=>{this[n]=t[n]})}},qEe=X(t=>{const e=new HEe;return e.calculate(t),e},"getThemeVariables"),Jo={base:{getThemeVariables:DEe},dark:{getThemeVariables:OEe},default:{getThemeVariables:FEe},forest:{getThemeVariables:zEe},neutral:{getThemeVariables:qEe}},qi={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},CH={...qi,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:Jo.default.getThemeVariables(),sequence:{...qi.sequence,messageFont:X(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:X(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:X(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...qi.gantt,tickInterval:void 0,useWidth:void 0},c4:{...qi.c4,useWidth:void 0,personFont:X(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...qi.flowchart,inheritDir:!1},external_personFont:X(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:X(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:X(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:X(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:X(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:X(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:X(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:X(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:X(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:X(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:X(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:X(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:X(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:X(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:X(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:X(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:X(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:X(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:X(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:X(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:X(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...qi.pie,useWidth:984},xyChart:{...qi.xyChart,useWidth:void 0},requirement:{...qi.requirement,useWidth:void 0},packet:{...qi.packet},radar:{...qi.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},SH=X((t,e="")=>Object.keys(t).reduce((n,r)=>Array.isArray(t[r])?n:typeof t[r]=="object"&&t[r]!==null?[...n,e+r,...SH(t[r],"")]:[...n,e+r],[]),"keyify"),UEe=new Set(SH(CH,"")),jH=CH,vb=X(t=>{if(ut.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>vb(e));return}for(const e of Object.keys(t)){if(ut.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!UEe.has(e)||t[e]==null){ut.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){ut.debug("sanitizing object",e),vb(t[e]);continue}const n=["themeCSS","fontFamily","altFontFamily"];for(const r of n)e.includes(r)&&(ut.debug("sanitizing css option",e),t[e]=WEe(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const n=t.themeVariables[e];n?.match&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}ut.debug("After sanitization",t)}},"sanitizeDirective"),WEe=X(t=>{let e=0,n=0;for(const r of t){if(e<n)return"{ /* ERROR: Unbalanced CSS */ }";r==="{"?e++:r==="}"&&n++}return e!==n?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),$m=Object.freeze(jH),hs=ea({},$m),kb,ju=[],Rp=ea({},$m),Yy=X((t,e)=>{let n=ea({},t),r={};for(const a of e)NH(a),r=ea(r,a);if(n=ea(n,r),r.theme&&r.theme in Jo){const a=ea({},kb),s=ea(a.themeVariables||{},r.themeVariables);n.theme&&n.theme in Jo&&(n.themeVariables=Jo[n.theme].getThemeVariables(s))}return Rp=n,$H(Rp),Rp},"updateCurrentConfig"),GEe=X(t=>(hs=ea({},$m),hs=ea(hs,t),t.theme&&Jo[t.theme]&&(hs.themeVariables=Jo[t.theme].getThemeVariables(t.themeVariables)),Yy(hs,ju),hs),"setSiteConfig"),VEe=X(t=>{kb=ea({},t)},"saveConfigFromInitialize"),KEe=X(t=>(hs=ea(hs,t),Yy(hs,ju),hs),"updateSiteConfig"),TH=X(()=>ea({},hs),"getSiteConfig"),EH=X(t=>($H(t),ea(Rp,t),La()),"setConfig"),La=X(()=>ea({},Rp),"getConfig"),NH=X(t=>{t&&(["secure",...hs.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&(ut.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&NH(t[e])}))},"sanitize"),YEe=X(t=>{vb(t),t.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),ju.push(t),Yy(hs,ju)},"addDirective"),_b=X((t=hs)=>{ju=[],Yy(t,ju)},"reset"),XEe={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},x7={},ZEe=X(t=>{x7[t]||(ut.warn(XEe[t]),x7[t]=!0)},"issueWarning"),$H=X(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&ZEe("LAZY_LOAD_DEPRECATED")},"checkConfig"),zQe=X(()=>{let t={};kb&&(t=ea(t,kb));for(const e of ju)t=ea(t,e);return t},"getUserDefinedConfig"),l0=/<br\s*\/?>/gi,QEe=X(t=>t?RH(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),JEe=(()=>{let t=!1;return()=>{t||(AH(),t=!0)}})();function AH(){const t="data-temp-href-target";Nm.addHook("beforeSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),Nm.addHook("afterSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}X(AH,"setupDompurifyHooks");var IH=X(t=>(JEe(),Nm.sanitize(t)),"removeScript"),y7=X((t,e)=>{if(e.flowchart?.htmlLabels!==!1){const n=e.securityLevel;n==="antiscript"||n==="strict"?t=IH(t):n!=="loose"&&(t=RH(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=r8e(t))}return t},"sanitizeMore"),ii=X((t,e)=>t&&(e.dompurifyConfig?t=Nm.sanitize(y7(t,e),e.dompurifyConfig).toString():t=Nm.sanitize(y7(t,e),{FORBID_TAGS:["style"]}).toString(),t),"sanitizeText"),e8e=X((t,e)=>typeof t=="string"?ii(t,e):t.flat().map(n=>ii(n,e)),"sanitizeTextOrArray"),t8e=X(t=>l0.test(t),"hasBreaks"),n8e=X(t=>t.split(l0),"splitBreaks"),r8e=X(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),RH=X(t=>t.replace(l0,"#br#"),"breakToPlaceholder"),a8e=X(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=CSS.escape(e)),e},"getUrl"),aa=X(t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),"evaluate"),s8e=X(function(...t){const e=t.filter(n=>!isNaN(n));return Math.max(...e)},"getMax"),i8e=X(function(...t){const e=t.filter(n=>!isNaN(n));return Math.min(...e)},"getMin"),w7=X(function(t){const e=t.split(/(,)/),n=[];for(let r=0;r<e.length;r++){let a=e[r];if(a===","&&r>0&&r+1<e.length){const s=e[r-1],i=e[r+1];o8e(s,i)&&(a=s+","+i,r++,n.pop())}n.push(l8e(a))}return n.join("")},"parseGenericTypes"),u4=X((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),o8e=X((t,e)=>{const n=u4(t,"~"),r=u4(e,"~");return n===1&&r===1},"shouldCombineSets"),l8e=X(t=>{const e=u4(t,"~");let n=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),n=!0);const r=[...t];let a=r.indexOf("~"),s=r.lastIndexOf("~");for(;a!==-1&&s!==-1&&a!==s;)r[a]="<",r[s]=">",a=r.indexOf("~"),s=r.lastIndexOf("~");return n&&r.unshift("~"),r.join("")},"processSet"),v7=X(()=>window.MathMLElement!==void 0,"isMathMLSupported"),d4=/\$\$(.*)\$\$/g,Am=X(t=>(t.match(d4)?.length??0)>0,"hasKatex"),HQe=X(async(t,e)=>{const n=document.createElement("div");n.innerHTML=await W6(t,e),n.id="katex-temp",n.style.visibility="hidden",n.style.position="absolute",n.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",n);const a={width:n.clientWidth,height:n.clientHeight};return n.remove(),a},"calculateMathMLDimensions"),c8e=X(async(t,e)=>{if(!Am(t))return t;if(!(v7()||e.legacyMathML||e.forceLegacyMathML))return t.replace(d4,"MathML is unsupported in this environment.");{const{default:n}=await Vn(async()=>{const{default:a}=await Promise.resolve().then(()=>F2e);return{default:a}},void 0,import.meta.url),r=e.forceLegacyMathML||!v7()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(l0).map(a=>Am(a)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${a}</div>`:`<div>${a}</div>`).join("").replace(d4,(a,s)=>n.renderToString(s,{throwOnError:!0,displayMode:!0,output:r}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),W6=X(async(t,e)=>ii(await c8e(t,e),e),"renderKatexSanitized"),uh={getRows:QEe,sanitizeText:ii,sanitizeTextOrArray:e8e,hasBreaks:t8e,splitBreaks:n8e,lineBreakRegex:l0,removeScript:IH,getUrl:a8e,evaluate:aa,getMax:s8e,getMin:i8e},u8e=X(function(t,e){for(let n of e)t.attr(n[0],n[1])},"d3Attrs"),d8e=X(function(t,e,n){let r=new Map;return n?(r.set("width","100%"),r.set("style",`max-width: ${e}px;`)):(r.set("height",t),r.set("width",e)),r},"calculateSvgSizeAttrs"),MH=X(function(t,e,n,r){const a=d8e(e,n,r);u8e(t,a)},"configureSvgSize"),m8e=X(function(t,e,n,r){const a=e.node().getBBox(),s=a.width,i=a.height;ut.info(`SVG bounds: ${s}x${i}`,a);let o=0,c=0;ut.info(`Graph bounds: ${o}x${c}`,t),o=s+n*2,c=i+n*2,ut.info(`Calculated bounds: ${o}x${c}`),MH(e,c,o,r);const u=`${a.x-n} ${a.y-n} ${a.width+2*n} ${a.height+2*n}`;e.attr("viewBox",u)},"setupGraphViewbox"),Qg={},h8e=X((t,e,n)=>{let r="";return t in Qg&&Qg[t]?r=Qg[t](n):ut.warn(`No theme found for ${t}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }
   & p {
    margin: 0
   }

  ${r}

  ${e}
`},"getStyles"),p8e=X((t,e)=>{e!==void 0&&(Qg[t]=e)},"addStylesForDiagram"),f8e=h8e,DH={};rEe(DH,{clear:()=>g8e,getAccDescription:()=>w8e,getAccTitle:()=>x8e,getDiagramTitle:()=>k8e,setAccDescription:()=>y8e,setAccTitle:()=>b8e,setDiagramTitle:()=>v8e});var G6="",V6="",K6="",Y6=X(t=>ii(t,La()),"sanitizeText"),g8e=X(()=>{G6="",K6="",V6=""},"clear"),b8e=X(t=>{G6=Y6(t).replace(/^\s+/g,"")},"setAccTitle"),x8e=X(()=>G6,"getAccTitle"),y8e=X(t=>{K6=Y6(t).replace(/\n\s+/g,`
`)},"setAccDescription"),w8e=X(()=>K6,"getAccDescription"),v8e=X(t=>{V6=Y6(t)},"setDiagramTitle"),k8e=X(()=>V6,"getDiagramTitle"),k7=ut,_8e=q6,er=La,qQe=EH,UQe=$m,X6=X(t=>ii(t,er()),"sanitizeText"),C8e=m8e,S8e=X(()=>DH,"getCommonDb"),Cb={},Sb=X((t,e,n)=>{Cb[t]&&k7.warn(`Diagram with id ${t} already registered. Overwriting.`),Cb[t]=e,n&&_H(t,n),p8e(t,e.styles),e.injectUtils?.(k7,_8e,er,X6,C8e,S8e(),()=>{})},"registerDiagram"),m4=X(t=>{if(t in Cb)return Cb[t];throw new j8e(t)},"getDiagram"),j8e=class extends Error{static{X(this,"DiagramNotFoundError")}constructor(t){super(`Diagram ${t} not found.`)}},T8e={value:()=>{}};function LH(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Jg(n)}function Jg(t){this._=t}function E8e(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Jg.prototype=LH.prototype={constructor:Jg,on:function(t,e){var n=this._,r=E8e(t+"",n),a,s=-1,i=r.length;if(arguments.length<2){for(;++s<i;)if((a=(t=r[s]).type)&&(a=N8e(n[a],t.name)))return a;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<i;)if(a=(t=r[s]).type)n[a]=_7(n[a],t.name,e);else if(e==null)for(a in n)n[a]=_7(n[a],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Jg(t)},call:function(t,e){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,s;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,a=s.length;r<a;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,s=r.length;a<s;++a)r[a].value.apply(e,n)}};function N8e(t,e){for(var n=0,r=t.length,a;n<r;++n)if((a=t[n]).name===e)return a.value}function _7(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=T8e,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var h4="http://www.w3.org/1999/xhtml";const C7={svg:"http://www.w3.org/2000/svg",xhtml:h4,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xy(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),C7.hasOwnProperty(e)?{space:C7[e],local:t}:t}function $8e(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===h4&&e.documentElement.namespaceURI===h4?e.createElement(t):e.createElementNS(n,t)}}function A8e(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function OH(t){var e=Xy(t);return(e.local?A8e:$8e)(e)}function I8e(){}function Z6(t){return t==null?I8e:function(){return this.querySelector(t)}}function R8e(t){typeof t!="function"&&(t=Z6(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var s=e[a],i=s.length,o=r[a]=new Array(i),c,u,d=0;d<i;++d)(c=s[d])&&(u=t.call(c,c.__data__,d,s))&&("__data__"in c&&(u.__data__=c.__data__),o[d]=u);return new Os(r,this._parents)}function M8e(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function D8e(){return[]}function PH(t){return t==null?D8e:function(){return this.querySelectorAll(t)}}function L8e(t){return function(){return M8e(t.apply(this,arguments))}}function O8e(t){typeof t=="function"?t=L8e(t):t=PH(t);for(var e=this._groups,n=e.length,r=[],a=[],s=0;s<n;++s)for(var i=e[s],o=i.length,c,u=0;u<o;++u)(c=i[u])&&(r.push(t.call(c,c.__data__,u,i)),a.push(c));return new Os(r,a)}function FH(t){return function(){return this.matches(t)}}function BH(t){return function(e){return e.matches(t)}}var P8e=Array.prototype.find;function F8e(t){return function(){return P8e.call(this.children,t)}}function B8e(){return this.firstElementChild}function z8e(t){return this.select(t==null?B8e:F8e(typeof t=="function"?t:BH(t)))}var H8e=Array.prototype.filter;function q8e(){return Array.from(this.children)}function U8e(t){return function(){return H8e.call(this.children,t)}}function W8e(t){return this.selectAll(t==null?q8e:U8e(typeof t=="function"?t:BH(t)))}function G8e(t){typeof t!="function"&&(t=FH(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var s=e[a],i=s.length,o=r[a]=[],c,u=0;u<i;++u)(c=s[u])&&t.call(c,c.__data__,u,s)&&o.push(c);return new Os(r,this._parents)}function zH(t){return new Array(t.length)}function V8e(){return new Os(this._enter||this._groups.map(zH),this._parents)}function jb(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}jb.prototype={constructor:jb,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function K8e(t){return function(){return t}}function Y8e(t,e,n,r,a,s){for(var i=0,o,c=e.length,u=s.length;i<u;++i)(o=e[i])?(o.__data__=s[i],r[i]=o):n[i]=new jb(t,s[i]);for(;i<c;++i)(o=e[i])&&(a[i]=o)}function X8e(t,e,n,r,a,s,i){var o,c,u=new Map,d=e.length,m=s.length,h=new Array(d),p;for(o=0;o<d;++o)(c=e[o])&&(h[o]=p=i.call(c,c.__data__,o,e)+"",u.has(p)?a[o]=c:u.set(p,c));for(o=0;o<m;++o)p=i.call(t,s[o],o,s)+"",(c=u.get(p))?(r[o]=c,c.__data__=s[o],u.delete(p)):n[o]=new jb(t,s[o]);for(o=0;o<d;++o)(c=e[o])&&u.get(h[o])===c&&(a[o]=c)}function Z8e(t){return t.__data__}function Q8e(t,e){if(!arguments.length)return Array.from(this,Z8e);var n=e?X8e:Y8e,r=this._parents,a=this._groups;typeof t!="function"&&(t=K8e(t));for(var s=a.length,i=new Array(s),o=new Array(s),c=new Array(s),u=0;u<s;++u){var d=r[u],m=a[u],h=m.length,p=J8e(t.call(d,d&&d.__data__,u,r)),f=p.length,g=o[u]=new Array(f),x=i[u]=new Array(f),y=c[u]=new Array(h);n(d,m,g,x,y,p,e);for(var w=0,v=0,k,C;w<f;++w)if(k=g[w]){for(w>=v&&(v=w+1);!(C=x[v])&&++v<f;);k._next=C||null}}return i=new Os(i,r),i._enter=o,i._exit=c,i}function J8e(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function e7e(){return new Os(this._exit||this._groups.map(zH),this._parents)}function t7e(t,e,n){var r=this.enter(),a=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(a=e(a),a&&(a=a.selection())),n==null?s.remove():n(s),r&&a?r.merge(a).order():a}function n7e(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,a=n.length,s=r.length,i=Math.min(a,s),o=new Array(a),c=0;c<i;++c)for(var u=n[c],d=r[c],m=u.length,h=o[c]=new Array(m),p,f=0;f<m;++f)(p=u[f]||d[f])&&(h[f]=p);for(;c<a;++c)o[c]=n[c];return new Os(o,this._parents)}function r7e(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],a=r.length-1,s=r[a],i;--a>=0;)(i=r[a])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function a7e(t){t||(t=s7e);function e(m,h){return m&&h?t(m.__data__,h.__data__):!m-!h}for(var n=this._groups,r=n.length,a=new Array(r),s=0;s<r;++s){for(var i=n[s],o=i.length,c=a[s]=new Array(o),u,d=0;d<o;++d)(u=i[d])&&(c[d]=u);c.sort(e)}return new Os(a,this._parents).order()}function s7e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function i7e(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function o7e(){return Array.from(this)}function l7e(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,s=r.length;a<s;++a){var i=r[a];if(i)return i}return null}function c7e(){let t=0;for(const e of this)++t;return t}function u7e(){return!this.node()}function d7e(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a=e[n],s=0,i=a.length,o;s<i;++s)(o=a[s])&&t.call(o,o.__data__,s,a);return this}function m7e(t){return function(){this.removeAttribute(t)}}function h7e(t){return function(){this.removeAttributeNS(t.space,t.local)}}function p7e(t,e){return function(){this.setAttribute(t,e)}}function f7e(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function g7e(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function b7e(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function x7e(t,e){var n=Xy(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?h7e:m7e:typeof e=="function"?n.local?b7e:g7e:n.local?f7e:p7e)(n,e))}function HH(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function y7e(t){return function(){this.style.removeProperty(t)}}function w7e(t,e,n){return function(){this.style.setProperty(t,e,n)}}function v7e(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function k7e(t,e,n){return arguments.length>1?this.each((e==null?y7e:typeof e=="function"?v7e:w7e)(t,e,n??"")):Im(this.node(),t)}function Im(t,e){return t.style.getPropertyValue(e)||HH(t).getComputedStyle(t,null).getPropertyValue(e)}function _7e(t){return function(){delete this[t]}}function C7e(t,e){return function(){this[t]=e}}function S7e(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function j7e(t,e){return arguments.length>1?this.each((e==null?_7e:typeof e=="function"?S7e:C7e)(t,e)):this.node()[t]}function qH(t){return t.trim().split(/^|\s+/)}function Q6(t){return t.classList||new UH(t)}function UH(t){this._node=t,this._names=qH(t.getAttribute("class")||"")}UH.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function WH(t,e){for(var n=Q6(t),r=-1,a=e.length;++r<a;)n.add(e[r])}function GH(t,e){for(var n=Q6(t),r=-1,a=e.length;++r<a;)n.remove(e[r])}function T7e(t){return function(){WH(this,t)}}function E7e(t){return function(){GH(this,t)}}function N7e(t,e){return function(){(e.apply(this,arguments)?WH:GH)(this,t)}}function $7e(t,e){var n=qH(t+"");if(arguments.length<2){for(var r=Q6(this.node()),a=-1,s=n.length;++a<s;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof e=="function"?N7e:e?T7e:E7e)(n,e))}function A7e(){this.textContent=""}function I7e(t){return function(){this.textContent=t}}function R7e(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function M7e(t){return arguments.length?this.each(t==null?A7e:(typeof t=="function"?R7e:I7e)(t)):this.node().textContent}function D7e(){this.innerHTML=""}function L7e(t){return function(){this.innerHTML=t}}function O7e(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function P7e(t){return arguments.length?this.each(t==null?D7e:(typeof t=="function"?O7e:L7e)(t)):this.node().innerHTML}function F7e(){this.nextSibling&&this.parentNode.appendChild(this)}function B7e(){return this.each(F7e)}function z7e(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function H7e(){return this.each(z7e)}function q7e(t){var e=typeof t=="function"?t:OH(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function U7e(){return null}function W7e(t,e){var n=typeof t=="function"?t:OH(t),r=e==null?U7e:typeof e=="function"?e:Z6(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function G7e(){var t=this.parentNode;t&&t.removeChild(this)}function V7e(){return this.each(G7e)}function K7e(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Y7e(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function X7e(t){return this.select(t?Y7e:K7e)}function Z7e(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Q7e(t){return function(e){t.call(this,e,this.__data__)}}function J7e(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function eNe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,a=e.length,s;n<a;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function tNe(t,e,n){return function(){var r=this.__on,a,s=Q7e(e);if(r){for(var i=0,o=r.length;i<o;++i)if((a=r[i]).type===t.type&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=n),a.value=e;return}}this.addEventListener(t.type,s,n),a={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(a):this.__on=[a]}}function nNe(t,e,n){var r=J7e(t+""),a,s=r.length,i;if(arguments.length<2){var o=this.node().__on;if(o){for(var c=0,u=o.length,d;c<u;++c)for(a=0,d=o[c];a<s;++a)if((i=r[a]).type===d.type&&i.name===d.name)return d.value}return}for(o=e?tNe:eNe,a=0;a<s;++a)this.each(o(r[a],e,n));return this}function VH(t,e,n){var r=HH(t),a=r.CustomEvent;typeof a=="function"?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function rNe(t,e){return function(){return VH(this,t,e)}}function aNe(t,e){return function(){return VH(this,t,e.apply(this,arguments))}}function sNe(t,e){return this.each((typeof e=="function"?aNe:rNe)(t,e))}function*iNe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,s=r.length,i;a<s;++a)(i=r[a])&&(yield i)}var KH=[null];function Os(t,e){this._groups=t,this._parents=e}function c0(){return new Os([[document.documentElement]],KH)}function oNe(){return this}Os.prototype=c0.prototype={constructor:Os,select:R8e,selectAll:O8e,selectChild:z8e,selectChildren:W8e,filter:G8e,data:Q8e,enter:V8e,exit:e7e,join:t7e,merge:n7e,selection:oNe,order:r7e,sort:a7e,call:i7e,nodes:o7e,node:l7e,size:c7e,empty:u7e,each:d7e,attr:x7e,style:k7e,property:j7e,classed:$7e,text:M7e,html:P7e,raise:B7e,lower:H7e,append:q7e,insert:W7e,remove:V7e,clone:X7e,datum:Z7e,on:nNe,dispatch:sNe,[Symbol.iterator]:iNe};function qn(t){return typeof t=="string"?new Os([[document.querySelector(t)]],[document.documentElement]):new Os([[t]],KH)}function J6(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function YH(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function u0(){}var pf=.7,Tb=1/pf,om="\\s*([+-]?\\d+)\\s*",ff="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",io="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lNe=/^#([0-9a-f]{3,8})$/,cNe=new RegExp(`^rgb\\(${om},${om},${om}\\)$`),uNe=new RegExp(`^rgb\\(${io},${io},${io}\\)$`),dNe=new RegExp(`^rgba\\(${om},${om},${om},${ff}\\)$`),mNe=new RegExp(`^rgba\\(${io},${io},${io},${ff}\\)$`),hNe=new RegExp(`^hsl\\(${ff},${io},${io}\\)$`),pNe=new RegExp(`^hsla\\(${ff},${io},${io},${ff}\\)$`),S7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};J6(u0,gf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:j7,formatHex:j7,formatHex8:fNe,formatHsl:gNe,formatRgb:T7,toString:T7});function j7(){return this.rgb().formatHex()}function fNe(){return this.rgb().formatHex8()}function gNe(){return XH(this).formatHsl()}function T7(){return this.rgb().formatRgb()}function gf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=lNe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?E7(e):n===3?new fs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?hg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?hg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=cNe.exec(t))?new fs(e[1],e[2],e[3],1):(e=uNe.exec(t))?new fs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=dNe.exec(t))?hg(e[1],e[2],e[3],e[4]):(e=mNe.exec(t))?hg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=hNe.exec(t))?A7(e[1],e[2]/100,e[3]/100,1):(e=pNe.exec(t))?A7(e[1],e[2]/100,e[3]/100,e[4]):S7.hasOwnProperty(t)?E7(S7[t]):t==="transparent"?new fs(NaN,NaN,NaN,0):null}function E7(t){return new fs(t>>16&255,t>>8&255,t&255,1)}function hg(t,e,n,r){return r<=0&&(t=e=n=NaN),new fs(t,e,n,r)}function bNe(t){return t instanceof u0||(t=gf(t)),t?(t=t.rgb(),new fs(t.r,t.g,t.b,t.opacity)):new fs}function p4(t,e,n,r){return arguments.length===1?bNe(t):new fs(t,e,n,r??1)}function fs(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}J6(fs,p4,YH(u0,{brighter(t){return t=t==null?Tb:Math.pow(Tb,t),new fs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?pf:Math.pow(pf,t),new fs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new fs(iu(this.r),iu(this.g),iu(this.b),Eb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:N7,formatHex:N7,formatHex8:xNe,formatRgb:$7,toString:$7}));function N7(){return`#${Xc(this.r)}${Xc(this.g)}${Xc(this.b)}`}function xNe(){return`#${Xc(this.r)}${Xc(this.g)}${Xc(this.b)}${Xc((isNaN(this.opacity)?1:this.opacity)*255)}`}function $7(){const t=Eb(this.opacity);return`${t===1?"rgb(":"rgba("}${iu(this.r)}, ${iu(this.g)}, ${iu(this.b)}${t===1?")":`, ${t})`}`}function Eb(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function iu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xc(t){return t=iu(t),(t<16?"0":"")+t.toString(16)}function A7(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new wi(t,e,n,r)}function XH(t){if(t instanceof wi)return new wi(t.h,t.s,t.l,t.opacity);if(t instanceof u0||(t=gf(t)),!t)return new wi;if(t instanceof wi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),s=Math.max(e,n,r),i=NaN,o=s-a,c=(s+a)/2;return o?(e===s?i=(n-r)/o+(n<r)*6:n===s?i=(r-e)/o+2:i=(e-n)/o+4,o/=c<.5?s+a:2-s-a,i*=60):o=c>0&&c<1?0:i,new wi(i,o,c,t.opacity)}function yNe(t,e,n,r){return arguments.length===1?XH(t):new wi(t,e,n,r??1)}function wi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}J6(wi,yNe,YH(u0,{brighter(t){return t=t==null?Tb:Math.pow(Tb,t),new wi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?pf:Math.pow(pf,t),new wi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new fs(jv(t>=240?t-240:t+120,a,r),jv(t,a,r),jv(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new wi(I7(this.h),pg(this.s),pg(this.l),Eb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Eb(this.opacity);return`${t===1?"hsl(":"hsla("}${I7(this.h)}, ${pg(this.s)*100}%, ${pg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function I7(t){return t=(t||0)%360,t<0?t+360:t}function pg(t){return Math.max(0,Math.min(1,t||0))}function jv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const eS=t=>()=>t;function ZH(t,e){return function(n){return t+n*e}}function wNe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function WQe(t,e){var n=e-t;return n?ZH(t,n>180||n<-180?n-360*Math.round(n/360):n):eS(isNaN(t)?e:t)}function vNe(t){return(t=+t)==1?QH:function(e,n){return n-e?wNe(e,n,t):eS(isNaN(e)?n:e)}}function QH(t,e){var n=e-t;return n?ZH(t,n):eS(isNaN(t)?e:t)}const R7=(function t(e){var n=vNe(e);function r(a,s){var i=n((a=p4(a)).r,(s=p4(s)).r),o=n(a.g,s.g),c=n(a.b,s.b),u=QH(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=o(d),a.b=c(d),a.opacity=u(d),a+""}}return r.gamma=t,r})(1);function Ll(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var f4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tv=new RegExp(f4.source,"g");function kNe(t){return function(){return t}}function _Ne(t){return function(e){return t(e)+""}}function CNe(t,e){var n=f4.lastIndex=Tv.lastIndex=0,r,a,s,i=-1,o=[],c=[];for(t=t+"",e=e+"";(r=f4.exec(t))&&(a=Tv.exec(e));)(s=a.index)>n&&(s=e.slice(n,s),o[i]?o[i]+=s:o[++i]=s),(r=r[0])===(a=a[0])?o[i]?o[i]+=a:o[++i]=a:(o[++i]=null,c.push({i,x:Ll(r,a)})),n=Tv.lastIndex;return n<e.length&&(s=e.slice(n),o[i]?o[i]+=s:o[++i]=s),o.length<2?c[0]?_Ne(c[0].x):kNe(e):(e=c.length,function(u){for(var d=0,m;d<e;++d)o[(m=c[d]).i]=m.x(u);return o.join("")})}var M7=180/Math.PI,g4={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function JH(t,e,n,r,a,s){var i,o,c;return(i=Math.sqrt(t*t+e*e))&&(t/=i,e/=i),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,c/=o),t*r<e*n&&(t=-t,e=-e,c=-c,i=-i),{translateX:a,translateY:s,rotate:Math.atan2(e,t)*M7,skewX:Math.atan(c)*M7,scaleX:i,scaleY:o}}var fg;function SNe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?g4:JH(e.a,e.b,e.c,e.d,e.e,e.f)}function jNe(t){return t==null||(fg||(fg=document.createElementNS("http://www.w3.org/2000/svg","g")),fg.setAttribute("transform",t),!(t=fg.transform.baseVal.consolidate()))?g4:(t=t.matrix,JH(t.a,t.b,t.c,t.d,t.e,t.f))}function eq(t,e,n,r){function a(u){return u.length?u.pop()+" ":""}function s(u,d,m,h,p,f){if(u!==m||d!==h){var g=p.push("translate(",null,e,null,n);f.push({i:g-4,x:Ll(u,m)},{i:g-2,x:Ll(d,h)})}else(m||h)&&p.push("translate("+m+e+h+n)}function i(u,d,m,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:m.push(a(m)+"rotate(",null,r)-2,x:Ll(u,d)})):d&&m.push(a(m)+"rotate("+d+r)}function o(u,d,m,h){u!==d?h.push({i:m.push(a(m)+"skewX(",null,r)-2,x:Ll(u,d)}):d&&m.push(a(m)+"skewX("+d+r)}function c(u,d,m,h,p,f){if(u!==m||d!==h){var g=p.push(a(p)+"scale(",null,",",null,")");f.push({i:g-4,x:Ll(u,m)},{i:g-2,x:Ll(d,h)})}else(m!==1||h!==1)&&p.push(a(p)+"scale("+m+","+h+")")}return function(u,d){var m=[],h=[];return u=t(u),d=t(d),s(u.translateX,u.translateY,d.translateX,d.translateY,m,h),i(u.rotate,d.rotate,m,h),o(u.skewX,d.skewX,m,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,m,h),u=d=null,function(p){for(var f=-1,g=h.length,x;++f<g;)m[(x=h[f]).i]=x.x(p);return m.join("")}}}var TNe=eq(SNe,"px, ","px)","deg)"),ENe=eq(jNe,", ",")",")"),Rm=0,np=0,Ih=0,tq=1e3,Nb,rp,$b=0,Tu=0,Zy=0,bf=typeof performance=="object"&&performance.now?performance:Date,nq=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function tS(){return Tu||(nq(NNe),Tu=bf.now()+Zy)}function NNe(){Tu=0}function Ab(){this._call=this._time=this._next=null}Ab.prototype=rq.prototype={constructor:Ab,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?tS():+n)+(e==null?0:+e),!this._next&&rp!==this&&(rp?rp._next=this:Nb=this,rp=this),this._call=t,this._time=n,b4()},stop:function(){this._call&&(this._call=null,this._time=1/0,b4())}};function rq(t,e,n){var r=new Ab;return r.restart(t,e,n),r}function $Ne(){tS(),++Rm;for(var t=Nb,e;t;)(e=Tu-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Rm}function D7(){Tu=($b=bf.now())+Zy,Rm=np=0;try{$Ne()}finally{Rm=0,INe(),Tu=0}}function ANe(){var t=bf.now(),e=t-$b;e>tq&&(Zy-=e,$b=t)}function INe(){for(var t,e=Nb,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Nb=n);rp=t,b4(r)}function b4(t){if(!Rm){np&&(np=clearTimeout(np));var e=t-Tu;e>24?(t<1/0&&(np=setTimeout(D7,t-bf.now()-Zy)),Ih&&(Ih=clearInterval(Ih))):(Ih||($b=bf.now(),Ih=setInterval(ANe,tq)),Rm=1,nq(D7))}}function L7(t,e,n){var r=new Ab;return e=e==null?0:+e,r.restart(a=>{r.stop(),t(a+e)},e,n),r}var RNe=LH("start","end","cancel","interrupt"),MNe=[],aq=0,O7=1,x4=2,e1=3,P7=4,y4=5,t1=6;function Qy(t,e,n,r,a,s){var i=t.__transition;if(!i)t.__transition={};else if(n in i)return;DNe(t,n,{name:e,index:r,group:a,on:RNe,tween:MNe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:aq})}function nS(t,e){var n=Fi(t,e);if(n.state>aq)throw new Error("too late; already scheduled");return n}function ko(t,e){var n=Fi(t,e);if(n.state>e1)throw new Error("too late; already running");return n}function Fi(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function DNe(t,e,n){var r=t.__transition,a;r[e]=n,n.timer=rq(s,0,n.time);function s(u){n.state=O7,n.timer.restart(i,n.delay,n.time),n.delay<=u&&i(u-n.delay)}function i(u){var d,m,h,p;if(n.state!==O7)return c();for(d in r)if(p=r[d],p.name===n.name){if(p.state===e1)return L7(i);p.state===P7?(p.state=t1,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[d]):+d<e&&(p.state=t1,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[d])}if(L7(function(){n.state===e1&&(n.state=P7,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=x4,n.on.call("start",t,t.__data__,n.index,n.group),n.state===x4){for(n.state=e1,a=new Array(h=n.tween.length),d=0,m=-1;d<h;++d)(p=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(a[++m]=p);a.length=m+1}}function o(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=y4,1),m=-1,h=a.length;++m<h;)a[m].call(t,d);n.state===y4&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=t1,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function LNe(t,e){var n=t.__transition,r,a,s=!0,i;if(n){e=e==null?null:e+"";for(i in n){if((r=n[i]).name!==e){s=!1;continue}a=r.state>x4&&r.state<y4,r.state=t1,r.timer.stop(),r.on.call(a?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[i]}s&&delete t.__transition}}function ONe(t){return this.each(function(){LNe(this,t)})}function PNe(t,e){var n,r;return function(){var a=ko(this,t),s=a.tween;if(s!==n){r=n=s;for(var i=0,o=r.length;i<o;++i)if(r[i].name===e){r=r.slice(),r.splice(i,1);break}}a.tween=r}}function FNe(t,e,n){var r,a;if(typeof n!="function")throw new Error;return function(){var s=ko(this,t),i=s.tween;if(i!==r){a=(r=i).slice();for(var o={name:e,value:n},c=0,u=a.length;c<u;++c)if(a[c].name===e){a[c]=o;break}c===u&&a.push(o)}s.tween=a}}function BNe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Fi(this.node(),n).tween,a=0,s=r.length,i;a<s;++a)if((i=r[a]).name===t)return i.value;return null}return this.each((e==null?PNe:FNe)(n,t,e))}function rS(t,e,n){var r=t._id;return t.each(function(){var a=ko(this,r);(a.value||(a.value={}))[e]=n.apply(this,arguments)}),function(a){return Fi(a,r).value[e]}}function sq(t,e){var n;return(typeof e=="number"?Ll:e instanceof gf?R7:(n=gf(e))?(e=n,R7):CNe)(t,e)}function zNe(t){return function(){this.removeAttribute(t)}}function HNe(t){return function(){this.removeAttributeNS(t.space,t.local)}}function qNe(t,e,n){var r,a=n+"",s;return function(){var i=this.getAttribute(t);return i===a?null:i===r?s:s=e(r=i,n)}}function UNe(t,e,n){var r,a=n+"",s;return function(){var i=this.getAttributeNS(t.space,t.local);return i===a?null:i===r?s:s=e(r=i,n)}}function WNe(t,e,n){var r,a,s;return function(){var i,o=n(this),c;return o==null?void this.removeAttribute(t):(i=this.getAttribute(t),c=o+"",i===c?null:i===r&&c===a?s:(a=c,s=e(r=i,o)))}}function GNe(t,e,n){var r,a,s;return function(){var i,o=n(this),c;return o==null?void this.removeAttributeNS(t.space,t.local):(i=this.getAttributeNS(t.space,t.local),c=o+"",i===c?null:i===r&&c===a?s:(a=c,s=e(r=i,o)))}}function VNe(t,e){var n=Xy(t),r=n==="transform"?ENe:sq;return this.attrTween(t,typeof e=="function"?(n.local?GNe:WNe)(n,r,rS(this,"attr."+t,e)):e==null?(n.local?HNe:zNe)(n):(n.local?UNe:qNe)(n,r,e))}function KNe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function YNe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function XNe(t,e){var n,r;function a(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&YNe(t,s)),n}return a._value=e,a}function ZNe(t,e){var n,r;function a(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&KNe(t,s)),n}return a._value=e,a}function QNe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Xy(t);return this.tween(n,(r.local?XNe:ZNe)(r,e))}function JNe(t,e){return function(){nS(this,t).delay=+e.apply(this,arguments)}}function e$e(t,e){return e=+e,function(){nS(this,t).delay=e}}function t$e(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?JNe:e$e)(e,t)):Fi(this.node(),e).delay}function n$e(t,e){return function(){ko(this,t).duration=+e.apply(this,arguments)}}function r$e(t,e){return e=+e,function(){ko(this,t).duration=e}}function a$e(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?n$e:r$e)(e,t)):Fi(this.node(),e).duration}function s$e(t,e){if(typeof e!="function")throw new Error;return function(){ko(this,t).ease=e}}function i$e(t){var e=this._id;return arguments.length?this.each(s$e(e,t)):Fi(this.node(),e).ease}function o$e(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ko(this,t).ease=n}}function l$e(t){if(typeof t!="function")throw new Error;return this.each(o$e(this._id,t))}function c$e(t){typeof t!="function"&&(t=FH(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var s=e[a],i=s.length,o=r[a]=[],c,u=0;u<i;++u)(c=s[u])&&t.call(c,c.__data__,u,s)&&o.push(c);return new ol(r,this._parents,this._name,this._id)}function u$e(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,a=n.length,s=Math.min(r,a),i=new Array(r),o=0;o<s;++o)for(var c=e[o],u=n[o],d=c.length,m=i[o]=new Array(d),h,p=0;p<d;++p)(h=c[p]||u[p])&&(m[p]=h);for(;o<r;++o)i[o]=e[o];return new ol(i,this._parents,this._name,this._id)}function d$e(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function m$e(t,e,n){var r,a,s=d$e(e)?nS:ko;return function(){var i=s(this,t),o=i.on;o!==r&&(a=(r=o).copy()).on(e,n),i.on=a}}function h$e(t,e){var n=this._id;return arguments.length<2?Fi(this.node(),n).on.on(t):this.each(m$e(n,t,e))}function p$e(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function f$e(){return this.on("end.remove",p$e(this._id))}function g$e(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Z6(t));for(var r=this._groups,a=r.length,s=new Array(a),i=0;i<a;++i)for(var o=r[i],c=o.length,u=s[i]=new Array(c),d,m,h=0;h<c;++h)(d=o[h])&&(m=t.call(d,d.__data__,h,o))&&("__data__"in d&&(m.__data__=d.__data__),u[h]=m,Qy(u[h],e,n,h,u,Fi(d,n)));return new ol(s,this._parents,e,n)}function b$e(t){var e=this._name,n=this._id;typeof t!="function"&&(t=PH(t));for(var r=this._groups,a=r.length,s=[],i=[],o=0;o<a;++o)for(var c=r[o],u=c.length,d,m=0;m<u;++m)if(d=c[m]){for(var h=t.call(d,d.__data__,m,c),p,f=Fi(d,n),g=0,x=h.length;g<x;++g)(p=h[g])&&Qy(p,e,n,g,h,f);s.push(h),i.push(d)}return new ol(s,i,e,n)}var x$e=c0.prototype.constructor;function y$e(){return new x$e(this._groups,this._parents)}function w$e(t,e){var n,r,a;return function(){var s=Im(this,t),i=(this.style.removeProperty(t),Im(this,t));return s===i?null:s===n&&i===r?a:a=e(n=s,r=i)}}function iq(t){return function(){this.style.removeProperty(t)}}function v$e(t,e,n){var r,a=n+"",s;return function(){var i=Im(this,t);return i===a?null:i===r?s:s=e(r=i,n)}}function k$e(t,e,n){var r,a,s;return function(){var i=Im(this,t),o=n(this),c=o+"";return o==null&&(c=o=(this.style.removeProperty(t),Im(this,t))),i===c?null:i===r&&c===a?s:(a=c,s=e(r=i,o))}}function _$e(t,e){var n,r,a,s="style."+e,i="end."+s,o;return function(){var c=ko(this,t),u=c.on,d=c.value[s]==null?o||(o=iq(e)):void 0;(u!==n||a!==d)&&(r=(n=u).copy()).on(i,a=d),c.on=r}}function C$e(t,e,n){var r=(t+="")=="transform"?TNe:sq;return e==null?this.styleTween(t,w$e(t,r)).on("end.style."+t,iq(t)):typeof e=="function"?this.styleTween(t,k$e(t,r,rS(this,"style."+t,e))).each(_$e(this._id,t)):this.styleTween(t,v$e(t,r,e),n).on("end.style."+t,null)}function S$e(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function j$e(t,e,n){var r,a;function s(){var i=e.apply(this,arguments);return i!==a&&(r=(a=i)&&S$e(t,i,n)),r}return s._value=e,s}function T$e(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,j$e(t,e,n??""))}function E$e(t){return function(){this.textContent=t}}function N$e(t){return function(){var e=t(this);this.textContent=e??""}}function $$e(t){return this.tween("text",typeof t=="function"?N$e(rS(this,"text",t)):E$e(t==null?"":t+""))}function A$e(t){return function(e){this.textContent=t.call(this,e)}}function I$e(t){var e,n;function r(){var a=t.apply(this,arguments);return a!==n&&(e=(n=a)&&A$e(a)),e}return r._value=t,r}function R$e(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,I$e(t))}function M$e(){for(var t=this._name,e=this._id,n=oq(),r=this._groups,a=r.length,s=0;s<a;++s)for(var i=r[s],o=i.length,c,u=0;u<o;++u)if(c=i[u]){var d=Fi(c,e);Qy(c,t,n,u,i,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new ol(r,this._parents,t,n)}function D$e(){var t,e,n=this,r=n._id,a=n.size();return new Promise(function(s,i){var o={value:i},c={value:function(){--a===0&&s()}};n.each(function(){var u=ko(this,r),d=u.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(c)),u.on=e}),a===0&&s()})}var L$e=0;function ol(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function oq(){return++L$e}var Mo=c0.prototype;ol.prototype={constructor:ol,select:g$e,selectAll:b$e,selectChild:Mo.selectChild,selectChildren:Mo.selectChildren,filter:c$e,merge:u$e,selection:y$e,transition:M$e,call:Mo.call,nodes:Mo.nodes,node:Mo.node,size:Mo.size,empty:Mo.empty,each:Mo.each,on:h$e,attr:VNe,attrTween:QNe,style:C$e,styleTween:T$e,text:$$e,textTween:R$e,remove:f$e,tween:BNe,delay:t$e,duration:a$e,ease:i$e,easeVarying:l$e,end:D$e,[Symbol.iterator]:Mo[Symbol.iterator]};function O$e(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var P$e={time:null,delay:0,duration:250,ease:O$e};function F$e(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function B$e(t){var e,n;t instanceof ol?(e=t._id,t=t._name):(e=oq(),(n=P$e).time=tS(),t=t==null?null:t+"");for(var r=this._groups,a=r.length,s=0;s<a;++s)for(var i=r[s],o=i.length,c,u=0;u<o;++u)(c=i[u])&&Qy(c,t,e,u,i,n||F$e(c,e));return new ol(r,this._parents,t,e)}c0.prototype.interrupt=ONe;c0.prototype.transition=B$e;const w4=Math.PI,v4=2*w4,Lc=1e-6,z$e=v4-Lc;function lq(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function H$e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return lq;const n=10**e;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class q$e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?lq:H$e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,s,i){this._append`C${+e},${+n},${+r},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(e,n,r,a,s){if(e=+e,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,o=this._y1,c=r-e,u=a-n,d=i-e,m=o-n,h=d*d+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Lc)if(!(Math.abs(m*c-u*d)>Lc)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-i,f=a-o,g=c*c+u*u,x=p*p+f*f,y=Math.sqrt(g),w=Math.sqrt(h),v=s*Math.tan((w4-Math.acos((g+h-x)/(2*y*w)))/2),k=v/w,C=v/y;Math.abs(k-1)>Lc&&this._append`L${e+k*d},${n+k*m}`,this._append`A${s},${s},0,0,${+(m*p>d*f)},${this._x1=e+C*c},${this._y1=n+C*u}`}}arc(e,n,r,a,s,i){if(e=+e,n=+n,r=+r,i=!!i,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(a),c=r*Math.sin(a),u=e+o,d=n+c,m=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Lc||Math.abs(this._y1-d)>Lc)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%v4+v4),h>z$e?this._append`A${r},${r},0,1,${m},${e-o},${n-c}A${r},${r},0,1,${m},${this._x1=u},${this._y1=d}`:h>Lc&&this._append`A${r},${r},0,${+(h>=w4)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function gd(t){return function(){return t}}const GQe=Math.abs,VQe=Math.atan2,KQe=Math.cos,YQe=Math.max,XQe=Math.min,ZQe=Math.sin,QQe=Math.sqrt,F7=1e-12,aS=Math.PI,B7=aS/2,JQe=2*aS;function eJe(t){return t>1?0:t<-1?aS:Math.acos(t)}function tJe(t){return t>=1?B7:t<=-1?-B7:Math.asin(t)}function U$e(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new q$e(e)}function W$e(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function cq(t){this._context=t}cq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ib(t){return new cq(t)}function G$e(t){return t[0]}function V$e(t){return t[1]}function K$e(t,e){var n=gd(!0),r=null,a=Ib,s=null,i=U$e(o);t=typeof t=="function"?t:t===void 0?G$e:gd(t),e=typeof e=="function"?e:e===void 0?V$e:gd(e);function o(c){var u,d=(c=W$e(c)).length,m,h=!1,p;for(r==null&&(s=a(p=i())),u=0;u<=d;++u)!(u<d&&n(m=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(m,u,c),+e(m,u,c));if(p)return s=null,p+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:gd(+c),o):t},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:gd(+c),o):e},o.defined=function(c){return arguments.length?(n=typeof c=="function"?c:gd(!!c),o):n},o.curve=function(c){return arguments.length?(a=c,r!=null&&(s=a(r)),o):a},o.context=function(c){return arguments.length?(c==null?r=s=null:s=a(r=c),o):r},o}class uq{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function dq(t){return new uq(t,!0)}function mq(t){return new uq(t,!1)}function rc(){}function Rb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Jy(t){this._context=t}Jy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Rb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Rb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function n1(t){return new Jy(t)}function hq(t){this._context=t}hq.prototype={areaStart:rc,areaEnd:rc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Rb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Y$e(t){return new hq(t)}function pq(t){this._context=t}pq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Rb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function X$e(t){return new pq(t)}function fq(t,e){this._basis=new Jy(t),this._beta=e}fq.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],a=e[0],s=t[n]-r,i=e[n]-a,o=-1,c;++o<=n;)c=o/n,this._basis.point(this._beta*t[o]+(1-this._beta)*(r+c*s),this._beta*e[o]+(1-this._beta)*(a+c*i));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const Z$e=(function t(e){function n(r){return e===1?new Jy(r):new fq(r,e)}return n.beta=function(r){return t(+r)},n})(.85);function Mb(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function sS(t,e){this._context=t,this._k=(1-e)/6}sS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Mb(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Mb(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const gq=(function t(e){function n(r){return new sS(r,e)}return n.tension=function(r){return t(+r)},n})(0);function iS(t,e){this._context=t,this._k=(1-e)/6}iS.prototype={areaStart:rc,areaEnd:rc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Mb(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Q$e=(function t(e){function n(r){return new iS(r,e)}return n.tension=function(r){return t(+r)},n})(0);function oS(t,e){this._context=t,this._k=(1-e)/6}oS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Mb(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const J$e=(function t(e){function n(r){return new oS(r,e)}return n.tension=function(r){return t(+r)},n})(0);function lS(t,e,n){var r=t._x1,a=t._y1,s=t._x2,i=t._y2;if(t._l01_a>F7){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,a=(a*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>F7){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,d=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*u+t._x1*t._l23_2a-e*t._l12_2a)/d,i=(i*u+t._y1*t._l23_2a-n*t._l12_2a)/d}t._context.bezierCurveTo(r,a,s,i,t._x2,t._y2)}function bq(t,e){this._context=t,this._alpha=e}bq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:lS(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const xq=(function t(e){function n(r){return e?new bq(r,e):new sS(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function yq(t,e){this._context=t,this._alpha=e}yq.prototype={areaStart:rc,areaEnd:rc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:lS(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const eAe=(function t(e){function n(r){return e?new yq(r,e):new iS(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function wq(t,e){this._context=t,this._alpha=e}wq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:lS(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const tAe=(function t(e){function n(r){return e?new wq(r,e):new oS(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function vq(t){this._context=t}vq.prototype={areaStart:rc,areaEnd:rc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function nAe(t){return new vq(t)}function z7(t){return t<0?-1:1}function H7(t,e,n){var r=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(r||a<0&&-0),i=(n-t._y1)/(a||r<0&&-0),o=(s*a+i*r)/(r+a);return(z7(s)+z7(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(o))||0}function q7(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ev(t,e,n){var r=t._x0,a=t._y0,s=t._x1,i=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,a+o*e,s-o,i-o*n,s,i)}function Db(t){this._context=t}Db.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ev(this,this._t0,q7(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ev(this,q7(this,n=H7(this,t,e)),n);break;default:Ev(this,this._t0,n=H7(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function kq(t){this._context=new _q(t)}(kq.prototype=Object.create(Db.prototype)).point=function(t,e){Db.prototype.point.call(this,e,t)};function _q(t){this._context=t}_q.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,s){this._context.bezierCurveTo(e,t,r,n,s,a)}};function Cq(t){return new Db(t)}function Sq(t){return new kq(t)}function jq(t){this._context=t}jq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=U7(t),a=U7(e),s=0,i=1;i<n;++s,++i)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],t[i],e[i]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function U7(t){var e,n=t.length-1,r,a=new Array(n),s=new Array(n),i=new Array(n);for(a[0]=0,s[0]=2,i[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,s[e]=4,i[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,s[n-1]=7,i[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/s[e-1],s[e]-=r,i[e]-=r*i[e-1];for(a[n-1]=i[n-1]/s[n-1],e=n-2;e>=0;--e)a[e]=(i[e]-a[e+1])/s[e];for(s[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function Tq(t){return new jq(t)}function e2(t,e){this._context=t,this._t=e}e2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Eq(t){return new e2(t,.5)}function Nq(t){return new e2(t,0)}function $q(t){return new e2(t,1)}function ap(t,e,n){this.k=t,this.x=e,this.y=n}ap.prototype={constructor:ap,scale:function(t){return t===1?this:new ap(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ap(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ap.prototype;var rAe=X(t=>{const{securityLevel:e}=er();let n=qn("body");if(e==="sandbox"){const s=qn(`#i${t}`).node()?.contentDocument??document;n=qn(s.body)}return n.select(`#${t}`)},"selectSvgElement");function cS(t){return typeof t>"u"||t===null}X(cS,"isNothing");function Aq(t){return typeof t=="object"&&t!==null}X(Aq,"isObject");function Iq(t){return Array.isArray(t)?t:cS(t)?[]:[t]}X(Iq,"toArray");function Rq(t,e){var n,r,a,s;if(e)for(s=Object.keys(e),n=0,r=s.length;n<r;n+=1)a=s[n],t[a]=e[a];return t}X(Rq,"extend");function Mq(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}X(Mq,"repeat");function Dq(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}X(Dq,"isNegativeZero");var aAe=cS,sAe=Aq,iAe=Iq,oAe=Mq,lAe=Dq,cAe=Rq,ta={isNothing:aAe,isObject:sAe,toArray:iAe,repeat:oAe,isNegativeZero:lAe,extend:cAe};function uS(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}X(uS,"formatError");function Mm(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=uS(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}X(Mm,"YAMLException$1");Mm.prototype=Object.create(Error.prototype);Mm.prototype.constructor=Mm;Mm.prototype.toString=X(function(e){return this.name+": "+uS(this,e)},"toString");var ps=Mm;function r1(t,e,n,r,a){var s="",i="",o=Math.floor(a/2)-1;return r-e>o&&(s=" ... ",e=r-o+s.length),n-r>o&&(i=" ...",n=r+o-i.length),{str:s+t.slice(e,n).replace(/\t/g,"")+i,pos:r-e+s.length}}X(r1,"getLine");function a1(t,e){return ta.repeat(" ",e-t.length)+t}X(a1,"padStart");function Lq(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],a=[],s,i=-1;s=n.exec(t.buffer);)a.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&i<0&&(i=r.length-2);i<0&&(i=r.length-1);var o="",c,u,d=Math.min(t.line+e.linesAfter,a.length).toString().length,m=e.maxLength-(e.indent+d+3);for(c=1;c<=e.linesBefore&&!(i-c<0);c++)u=r1(t.buffer,r[i-c],a[i-c],t.position-(r[i]-r[i-c]),m),o=ta.repeat(" ",e.indent)+a1((t.line-c+1).toString(),d)+" | "+u.str+`
`+o;for(u=r1(t.buffer,r[i],a[i],t.position,m),o+=ta.repeat(" ",e.indent)+a1((t.line+1).toString(),d)+" | "+u.str+`
`,o+=ta.repeat("-",e.indent+d+3+u.pos)+`^
`,c=1;c<=e.linesAfter&&!(i+c>=a.length);c++)u=r1(t.buffer,r[i+c],a[i+c],t.position-(r[i]-r[i+c]),m),o+=ta.repeat(" ",e.indent)+a1((t.line+c+1).toString(),d)+" | "+u.str+`
`;return o.replace(/\n$/,"")}X(Lq,"makeSnippet");var uAe=Lq,dAe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],mAe=["scalar","sequence","mapping"];function Oq(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}X(Oq,"compileStyleAliases");function Pq(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(dAe.indexOf(n)===-1)throw new ps('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=Oq(e.styleAliases||null),mAe.indexOf(this.kind)===-1)throw new ps('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}X(Pq,"Type$1");var Oa=Pq;function k4(t,e){var n=[];return t[e].forEach(function(r){var a=n.length;n.forEach(function(s,i){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(a=i)}),n[a]=r}),n}X(k4,"compileList");function Fq(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(a){a.multi?(t.multi[a.kind].push(a),t.multi.fallback.push(a)):t[a.kind][a.tag]=t.fallback[a.tag]=a}for(X(r,"collectType"),e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}X(Fq,"compileMap");function Lb(t){return this.extend(t)}X(Lb,"Schema$1");Lb.prototype.extend=X(function(e){var n=[],r=[];if(e instanceof Oa)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new ps("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof Oa))throw new ps("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new ps("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new ps("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof Oa))throw new ps("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var a=Object.create(Lb.prototype);return a.implicit=(this.implicit||[]).concat(n),a.explicit=(this.explicit||[]).concat(r),a.compiledImplicit=k4(a,"implicit"),a.compiledExplicit=k4(a,"explicit"),a.compiledTypeMap=Fq(a.compiledImplicit,a.compiledExplicit),a},"extend");var hAe=Lb,pAe=new Oa("tag:yaml.org,2002:str",{kind:"scalar",construct:X(function(t){return t!==null?t:""},"construct")}),fAe=new Oa("tag:yaml.org,2002:seq",{kind:"sequence",construct:X(function(t){return t!==null?t:[]},"construct")}),gAe=new Oa("tag:yaml.org,2002:map",{kind:"mapping",construct:X(function(t){return t!==null?t:{}},"construct")}),bAe=new hAe({explicit:[pAe,fAe,gAe]});function Bq(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}X(Bq,"resolveYamlNull");function zq(){return null}X(zq,"constructYamlNull");function Hq(t){return t===null}X(Hq,"isNull");var xAe=new Oa("tag:yaml.org,2002:null",{kind:"scalar",resolve:Bq,construct:zq,predicate:Hq,represent:{canonical:X(function(){return"~"},"canonical"),lowercase:X(function(){return"null"},"lowercase"),uppercase:X(function(){return"NULL"},"uppercase"),camelcase:X(function(){return"Null"},"camelcase"),empty:X(function(){return""},"empty")},defaultStyle:"lowercase"});function qq(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}X(qq,"resolveYamlBoolean");function Uq(t){return t==="true"||t==="True"||t==="TRUE"}X(Uq,"constructYamlBoolean");function Wq(t){return Object.prototype.toString.call(t)==="[object Boolean]"}X(Wq,"isBoolean");var yAe=new Oa("tag:yaml.org,2002:bool",{kind:"scalar",resolve:qq,construct:Uq,predicate:Wq,represent:{lowercase:X(function(t){return t?"true":"false"},"lowercase"),uppercase:X(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:X(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function Gq(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}X(Gq,"isHexCode");function Vq(t){return 48<=t&&t<=55}X(Vq,"isOctCode");function Kq(t){return 48<=t&&t<=57}X(Kq,"isDecCode");function Yq(t){if(t===null)return!1;var e=t.length,n=0,r=!1,a;if(!e)return!1;if(a=t[n],(a==="-"||a==="+")&&(a=t[++n]),a==="0"){if(n+1===e)return!0;if(a=t[++n],a==="b"){for(n++;n<e;n++)if(a=t[n],a!=="_"){if(a!=="0"&&a!=="1")return!1;r=!0}return r&&a!=="_"}if(a==="x"){for(n++;n<e;n++)if(a=t[n],a!=="_"){if(!Gq(t.charCodeAt(n)))return!1;r=!0}return r&&a!=="_"}if(a==="o"){for(n++;n<e;n++)if(a=t[n],a!=="_"){if(!Vq(t.charCodeAt(n)))return!1;r=!0}return r&&a!=="_"}}if(a==="_")return!1;for(;n<e;n++)if(a=t[n],a!=="_"){if(!Kq(t.charCodeAt(n)))return!1;r=!0}return!(!r||a==="_")}X(Yq,"resolveYamlInteger");function Xq(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}X(Xq,"constructYamlInteger");function Zq(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!ta.isNegativeZero(t)}X(Zq,"isInteger");var wAe=new Oa("tag:yaml.org,2002:int",{kind:"scalar",resolve:Yq,construct:Xq,predicate:Zq,represent:{binary:X(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:X(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:X(function(t){return t.toString(10)},"decimal"),hexadecimal:X(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),vAe=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Qq(t){return!(t===null||!vAe.test(t)||t[t.length-1]==="_")}X(Qq,"resolveYamlFloat");function Jq(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}X(Jq,"constructYamlFloat");var kAe=/^[-+]?[0-9]+e/;function eU(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ta.isNegativeZero(t))return"-0.0";return n=t.toString(10),kAe.test(n)?n.replace("e",".e"):n}X(eU,"representYamlFloat");function tU(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||ta.isNegativeZero(t))}X(tU,"isFloat");var _Ae=new Oa("tag:yaml.org,2002:float",{kind:"scalar",resolve:Qq,construct:Jq,predicate:tU,represent:eU,defaultStyle:"lowercase"}),nU=bAe.extend({implicit:[xAe,yAe,wAe,_Ae]}),CAe=nU,rU=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),aU=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function sU(t){return t===null?!1:rU.exec(t)!==null||aU.exec(t)!==null}X(sU,"resolveYamlTimestamp");function iU(t){var e,n,r,a,s,i,o,c=0,u=null,d,m,h;if(e=rU.exec(t),e===null&&(e=aU.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,a=+e[3],!e[4])return new Date(Date.UTC(n,r,a));if(s=+e[4],i=+e[5],o=+e[6],e[7]){for(c=e[7].slice(0,3);c.length<3;)c+="0";c=+c}return e[9]&&(d=+e[10],m=+(e[11]||0),u=(d*60+m)*6e4,e[9]==="-"&&(u=-u)),h=new Date(Date.UTC(n,r,a,s,i,o,c)),u&&h.setTime(h.getTime()-u),h}X(iU,"constructYamlTimestamp");function oU(t){return t.toISOString()}X(oU,"representYamlTimestamp");var SAe=new Oa("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:sU,construct:iU,instanceOf:Date,represent:oU});function lU(t){return t==="<<"||t===null}X(lU,"resolveYamlMerge");var jAe=new Oa("tag:yaml.org,2002:merge",{kind:"scalar",resolve:lU}),dS=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function cU(t){if(t===null)return!1;var e,n,r=0,a=t.length,s=dS;for(n=0;n<a;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}X(cU,"resolveYamlBinary");function uU(t){var e,n,r=t.replace(/[\r\n=]/g,""),a=r.length,s=dS,i=0,o=[];for(e=0;e<a;e++)e%4===0&&e&&(o.push(i>>16&255),o.push(i>>8&255),o.push(i&255)),i=i<<6|s.indexOf(r.charAt(e));return n=a%4*6,n===0?(o.push(i>>16&255),o.push(i>>8&255),o.push(i&255)):n===18?(o.push(i>>10&255),o.push(i>>2&255)):n===12&&o.push(i>>4&255),new Uint8Array(o)}X(uU,"constructYamlBinary");function dU(t){var e="",n=0,r,a,s=t.length,i=dS;for(r=0;r<s;r++)r%3===0&&r&&(e+=i[n>>18&63],e+=i[n>>12&63],e+=i[n>>6&63],e+=i[n&63]),n=(n<<8)+t[r];return a=s%3,a===0?(e+=i[n>>18&63],e+=i[n>>12&63],e+=i[n>>6&63],e+=i[n&63]):a===2?(e+=i[n>>10&63],e+=i[n>>4&63],e+=i[n<<2&63],e+=i[64]):a===1&&(e+=i[n>>2&63],e+=i[n<<4&63],e+=i[64],e+=i[64]),e}X(dU,"representYamlBinary");function mU(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}X(mU,"isBinary");var TAe=new Oa("tag:yaml.org,2002:binary",{kind:"scalar",resolve:cU,construct:uU,predicate:mU,represent:dU}),EAe=Object.prototype.hasOwnProperty,NAe=Object.prototype.toString;function hU(t){if(t===null)return!0;var e=[],n,r,a,s,i,o=t;for(n=0,r=o.length;n<r;n+=1){if(a=o[n],i=!1,NAe.call(a)!=="[object Object]")return!1;for(s in a)if(EAe.call(a,s))if(!i)i=!0;else return!1;if(!i)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}X(hU,"resolveYamlOmap");function pU(t){return t!==null?t:[]}X(pU,"constructYamlOmap");var $Ae=new Oa("tag:yaml.org,2002:omap",{kind:"sequence",resolve:hU,construct:pU}),AAe=Object.prototype.toString;function fU(t){if(t===null)return!0;var e,n,r,a,s,i=t;for(s=new Array(i.length),e=0,n=i.length;e<n;e+=1){if(r=i[e],AAe.call(r)!=="[object Object]"||(a=Object.keys(r),a.length!==1))return!1;s[e]=[a[0],r[a[0]]]}return!0}X(fU,"resolveYamlPairs");function gU(t){if(t===null)return[];var e,n,r,a,s,i=t;for(s=new Array(i.length),e=0,n=i.length;e<n;e+=1)r=i[e],a=Object.keys(r),s[e]=[a[0],r[a[0]]];return s}X(gU,"constructYamlPairs");var IAe=new Oa("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:fU,construct:gU}),RAe=Object.prototype.hasOwnProperty;function bU(t){if(t===null)return!0;var e,n=t;for(e in n)if(RAe.call(n,e)&&n[e]!==null)return!1;return!0}X(bU,"resolveYamlSet");function xU(t){return t!==null?t:{}}X(xU,"constructYamlSet");var MAe=new Oa("tag:yaml.org,2002:set",{kind:"mapping",resolve:bU,construct:xU}),yU=CAe.extend({implicit:[SAe,jAe],explicit:[TAe,$Ae,IAe,MAe]}),ac=Object.prototype.hasOwnProperty,Ob=1,wU=2,vU=3,Pb=4,Nv=1,DAe=2,W7=3,LAe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,OAe=/[\x85\u2028\u2029]/,PAe=/[,\[\]\{\}]/,kU=/^(?:!|!!|![a-z\-]+!)$/i,_U=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _4(t){return Object.prototype.toString.call(t)}X(_4,"_class");function ji(t){return t===10||t===13}X(ji,"is_EOL");function Gl(t){return t===9||t===32}X(Gl,"is_WHITE_SPACE");function Qa(t){return t===9||t===32||t===10||t===13}X(Qa,"is_WS_OR_EOL");function Zc(t){return t===44||t===91||t===93||t===123||t===125}X(Zc,"is_FLOW_INDICATOR");function CU(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}X(CU,"fromHexCode");function SU(t){return t===120?2:t===117?4:t===85?8:0}X(SU,"escapedHexLen");function jU(t){return 48<=t&&t<=57?t-48:-1}X(jU,"fromDecimalCode");function C4(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}X(C4,"simpleEscapeSequence");function TU(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}X(TU,"charFromCodepoint");var EU=new Array(256),NU=new Array(256);for(Ic=0;Ic<256;Ic++)EU[Ic]=C4(Ic)?1:0,NU[Ic]=C4(Ic);var Ic;function $U(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||yU,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}X($U,"State$1");function mS(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=uAe(n),new ps(e,n)}X(mS,"generateError");function on(t,e){throw mS(t,e)}X(on,"throwError");function xf(t,e){t.onWarning&&t.onWarning.call(null,mS(t,e))}X(xf,"throwWarning");var G7={YAML:X(function(e,n,r){var a,s,i;e.version!==null&&on(e,"duplication of %YAML directive"),r.length!==1&&on(e,"YAML directive accepts exactly one argument"),a=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),a===null&&on(e,"ill-formed argument of the YAML directive"),s=parseInt(a[1],10),i=parseInt(a[2],10),s!==1&&on(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=i<2,i!==1&&i!==2&&xf(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:X(function(e,n,r){var a,s;r.length!==2&&on(e,"TAG directive accepts exactly two arguments"),a=r[0],s=r[1],kU.test(a)||on(e,"ill-formed tag handle (first argument) of the TAG directive"),ac.call(e.tagMap,a)&&on(e,'there is a previously declared suffix for "'+a+'" tag handle'),_U.test(s)||on(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{on(e,"tag prefix is malformed: "+s)}e.tagMap[a]=s},"handleTagDirective")};function el(t,e,n,r){var a,s,i,o;if(e<n){if(o=t.input.slice(e,n),r)for(a=0,s=o.length;a<s;a+=1)i=o.charCodeAt(a),i===9||32<=i&&i<=1114111||on(t,"expected valid JSON character");else LAe.test(o)&&on(t,"the stream contains non-printable characters");t.result+=o}}X(el,"captureSegment");function S4(t,e,n,r){var a,s,i,o;for(ta.isObject(n)||on(t,"cannot merge mappings; the provided source object is unacceptable"),a=Object.keys(n),i=0,o=a.length;i<o;i+=1)s=a[i],ac.call(e,s)||(e[s]=n[s],r[s]=!0)}X(S4,"mergeMappings");function Qc(t,e,n,r,a,s,i,o,c){var u,d;if(Array.isArray(a))for(a=Array.prototype.slice.call(a),u=0,d=a.length;u<d;u+=1)Array.isArray(a[u])&&on(t,"nested arrays are not supported inside keys"),typeof a=="object"&&_4(a[u])==="[object Object]"&&(a[u]="[object Object]");if(typeof a=="object"&&_4(a)==="[object Object]"&&(a="[object Object]"),a=String(a),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,d=s.length;u<d;u+=1)S4(t,e,s[u],n);else S4(t,e,s,n);else!t.json&&!ac.call(n,a)&&ac.call(e,a)&&(t.line=i||t.line,t.lineStart=o||t.lineStart,t.position=c||t.position,on(t,"duplicated mapping key")),a==="__proto__"?Object.defineProperty(e,a,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[a]=s,delete n[a];return e}X(Qc,"storeMappingPair");function t2(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):on(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}X(t2,"readLineBreak");function Ur(t,e,n){for(var r=0,a=t.input.charCodeAt(t.position);a!==0;){for(;Gl(a);)a===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),a=t.input.charCodeAt(++t.position);if(e&&a===35)do a=t.input.charCodeAt(++t.position);while(a!==10&&a!==13&&a!==0);if(ji(a))for(t2(t),a=t.input.charCodeAt(t.position),r++,t.lineIndent=0;a===32;)t.lineIndent++,a=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&xf(t,"deficient indentation"),r}X(Ur,"skipSeparationSpace");function d0(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||Qa(n)))}X(d0,"testDocumentSeparator");function n2(t,e){e===1?t.result+=" ":e>1&&(t.result+=ta.repeat(`
`,e-1))}X(n2,"writeFoldedLines");function AU(t,e,n){var r,a,s,i,o,c,u,d,m=t.kind,h=t.result,p;if(p=t.input.charCodeAt(t.position),Qa(p)||Zc(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(a=t.input.charCodeAt(t.position+1),Qa(a)||n&&Zc(a)))return!1;for(t.kind="scalar",t.result="",s=i=t.position,o=!1;p!==0;){if(p===58){if(a=t.input.charCodeAt(t.position+1),Qa(a)||n&&Zc(a))break}else if(p===35){if(r=t.input.charCodeAt(t.position-1),Qa(r))break}else{if(t.position===t.lineStart&&d0(t)||n&&Zc(p))break;if(ji(p))if(c=t.line,u=t.lineStart,d=t.lineIndent,Ur(t,!1,-1),t.lineIndent>=e){o=!0,p=t.input.charCodeAt(t.position);continue}else{t.position=i,t.line=c,t.lineStart=u,t.lineIndent=d;break}}o&&(el(t,s,i,!1),n2(t,t.line-c),s=i=t.position,o=!1),Gl(p)||(i=t.position+1),p=t.input.charCodeAt(++t.position)}return el(t,s,i,!1),t.result?!0:(t.kind=m,t.result=h,!1)}X(AU,"readPlainScalar");function IU(t,e){var n,r,a;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=a=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(el(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,a=t.position;else return!0;else ji(n)?(el(t,r,a,!0),n2(t,Ur(t,!1,e)),r=a=t.position):t.position===t.lineStart&&d0(t)?on(t,"unexpected end of the document within a single quoted scalar"):(t.position++,a=t.position);on(t,"unexpected end of the stream within a single quoted scalar")}X(IU,"readSingleQuotedScalar");function RU(t,e){var n,r,a,s,i,o;if(o=t.input.charCodeAt(t.position),o!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(o=t.input.charCodeAt(t.position))!==0;){if(o===34)return el(t,n,t.position,!0),t.position++,!0;if(o===92){if(el(t,n,t.position,!0),o=t.input.charCodeAt(++t.position),ji(o))Ur(t,!1,e);else if(o<256&&EU[o])t.result+=NU[o],t.position++;else if((i=SU(o))>0){for(a=i,s=0;a>0;a--)o=t.input.charCodeAt(++t.position),(i=CU(o))>=0?s=(s<<4)+i:on(t,"expected hexadecimal character");t.result+=TU(s),t.position++}else on(t,"unknown escape sequence");n=r=t.position}else ji(o)?(el(t,n,r,!0),n2(t,Ur(t,!1,e)),n=r=t.position):t.position===t.lineStart&&d0(t)?on(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}on(t,"unexpected end of the stream within a double quoted scalar")}X(RU,"readDoubleQuotedScalar");function MU(t,e){var n=!0,r,a,s,i=t.tag,o,c=t.anchor,u,d,m,h,p,f=Object.create(null),g,x,y,w;if(w=t.input.charCodeAt(t.position),w===91)d=93,p=!1,o=[];else if(w===123)d=125,p=!0,o={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),w=t.input.charCodeAt(++t.position);w!==0;){if(Ur(t,!0,e),w=t.input.charCodeAt(t.position),w===d)return t.position++,t.tag=i,t.anchor=c,t.kind=p?"mapping":"sequence",t.result=o,!0;n?w===44&&on(t,"expected the node content, but found ','"):on(t,"missed comma between flow collection entries"),x=g=y=null,m=h=!1,w===63&&(u=t.input.charCodeAt(t.position+1),Qa(u)&&(m=h=!0,t.position++,Ur(t,!0,e))),r=t.line,a=t.lineStart,s=t.position,Eu(t,e,Ob,!1,!0),x=t.tag,g=t.result,Ur(t,!0,e),w=t.input.charCodeAt(t.position),(h||t.line===r)&&w===58&&(m=!0,w=t.input.charCodeAt(++t.position),Ur(t,!0,e),Eu(t,e,Ob,!1,!0),y=t.result),p?Qc(t,o,f,x,g,y,r,a,s):m?o.push(Qc(t,null,f,x,g,y,r,a,s)):o.push(g),Ur(t,!0,e),w=t.input.charCodeAt(t.position),w===44?(n=!0,w=t.input.charCodeAt(++t.position)):n=!1}on(t,"unexpected end of the stream within a flow collection")}X(MU,"readFlowCollection");function DU(t,e){var n,r,a=Nv,s=!1,i=!1,o=e,c=0,u=!1,d,m;if(m=t.input.charCodeAt(t.position),m===124)r=!1;else if(m===62)r=!0;else return!1;for(t.kind="scalar",t.result="";m!==0;)if(m=t.input.charCodeAt(++t.position),m===43||m===45)Nv===a?a=m===43?W7:DAe:on(t,"repeat of a chomping mode identifier");else if((d=jU(m))>=0)d===0?on(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):i?on(t,"repeat of an indentation width identifier"):(o=e+d-1,i=!0);else break;if(Gl(m)){do m=t.input.charCodeAt(++t.position);while(Gl(m));if(m===35)do m=t.input.charCodeAt(++t.position);while(!ji(m)&&m!==0)}for(;m!==0;){for(t2(t),t.lineIndent=0,m=t.input.charCodeAt(t.position);(!i||t.lineIndent<o)&&m===32;)t.lineIndent++,m=t.input.charCodeAt(++t.position);if(!i&&t.lineIndent>o&&(o=t.lineIndent),ji(m)){c++;continue}if(t.lineIndent<o){a===W7?t.result+=ta.repeat(`
`,s?1+c:c):a===Nv&&s&&(t.result+=`
`);break}for(r?Gl(m)?(u=!0,t.result+=ta.repeat(`
`,s?1+c:c)):u?(u=!1,t.result+=ta.repeat(`
`,c+1)):c===0?s&&(t.result+=" "):t.result+=ta.repeat(`
`,c):t.result+=ta.repeat(`
`,s?1+c:c),s=!0,i=!0,c=0,n=t.position;!ji(m)&&m!==0;)m=t.input.charCodeAt(++t.position);el(t,n,t.position,!1)}return!0}X(DU,"readBlockScalar");function j4(t,e){var n,r=t.tag,a=t.anchor,s=[],i,o=!1,c;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),c=t.input.charCodeAt(t.position);c!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,on(t,"tab characters must not be used in indentation")),!(c!==45||(i=t.input.charCodeAt(t.position+1),!Qa(i))));){if(o=!0,t.position++,Ur(t,!0,-1)&&t.lineIndent<=e){s.push(null),c=t.input.charCodeAt(t.position);continue}if(n=t.line,Eu(t,e,vU,!1,!0),s.push(t.result),Ur(t,!0,-1),c=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&c!==0)on(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return o?(t.tag=r,t.anchor=a,t.kind="sequence",t.result=s,!0):!1}X(j4,"readBlockSequence");function LU(t,e,n){var r,a,s,i,o,c,u=t.tag,d=t.anchor,m={},h=Object.create(null),p=null,f=null,g=null,x=!1,y=!1,w;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=m),w=t.input.charCodeAt(t.position);w!==0;){if(!x&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,on(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(w===63||w===58)&&Qa(r))w===63?(x&&(Qc(t,m,h,p,f,null,i,o,c),p=f=g=null),y=!0,x=!0,a=!0):x?(x=!1,a=!0):on(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,w=r;else{if(i=t.line,o=t.lineStart,c=t.position,!Eu(t,n,wU,!1,!0))break;if(t.line===s){for(w=t.input.charCodeAt(t.position);Gl(w);)w=t.input.charCodeAt(++t.position);if(w===58)w=t.input.charCodeAt(++t.position),Qa(w)||on(t,"a whitespace character is expected after the key-value separator within a block mapping"),x&&(Qc(t,m,h,p,f,null,i,o,c),p=f=g=null),y=!0,x=!1,a=!1,p=t.tag,f=t.result;else if(y)on(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=u,t.anchor=d,!0}else if(y)on(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=u,t.anchor=d,!0}if((t.line===s||t.lineIndent>e)&&(x&&(i=t.line,o=t.lineStart,c=t.position),Eu(t,e,Pb,!0,a)&&(x?f=t.result:g=t.result),x||(Qc(t,m,h,p,f,g,i,o,c),p=f=g=null),Ur(t,!0,-1),w=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&w!==0)on(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return x&&Qc(t,m,h,p,f,null,i,o,c),y&&(t.tag=u,t.anchor=d,t.kind="mapping",t.result=m),y}X(LU,"readBlockMapping");function OU(t){var e,n=!1,r=!1,a,s,i;if(i=t.input.charCodeAt(t.position),i!==33)return!1;if(t.tag!==null&&on(t,"duplication of a tag property"),i=t.input.charCodeAt(++t.position),i===60?(n=!0,i=t.input.charCodeAt(++t.position)):i===33?(r=!0,a="!!",i=t.input.charCodeAt(++t.position)):a="!",e=t.position,n){do i=t.input.charCodeAt(++t.position);while(i!==0&&i!==62);t.position<t.length?(s=t.input.slice(e,t.position),i=t.input.charCodeAt(++t.position)):on(t,"unexpected end of the stream within a verbatim tag")}else{for(;i!==0&&!Qa(i);)i===33&&(r?on(t,"tag suffix cannot contain exclamation marks"):(a=t.input.slice(e-1,t.position+1),kU.test(a)||on(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),i=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),PAe.test(s)&&on(t,"tag suffix cannot contain flow indicator characters")}s&&!_U.test(s)&&on(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{on(t,"tag name is malformed: "+s)}return n?t.tag=s:ac.call(t.tagMap,a)?t.tag=t.tagMap[a]+s:a==="!"?t.tag="!"+s:a==="!!"?t.tag="tag:yaml.org,2002:"+s:on(t,'undeclared tag handle "'+a+'"'),!0}X(OU,"readTagProperty");function PU(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&on(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Qa(n)&&!Zc(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&on(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}X(PU,"readAnchorProperty");function FU(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Qa(r)&&!Zc(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&on(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),ac.call(t.anchorMap,n)||on(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],Ur(t,!0,-1),!0}X(FU,"readAlias");function Eu(t,e,n,r,a){var s,i,o,c=1,u=!1,d=!1,m,h,p,f,g,x;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=i=o=Pb===n||vU===n,r&&Ur(t,!0,-1)&&(u=!0,t.lineIndent>e?c=1:t.lineIndent===e?c=0:t.lineIndent<e&&(c=-1)),c===1)for(;OU(t)||PU(t);)Ur(t,!0,-1)?(u=!0,o=s,t.lineIndent>e?c=1:t.lineIndent===e?c=0:t.lineIndent<e&&(c=-1)):o=!1;if(o&&(o=u||a),(c===1||Pb===n)&&(Ob===n||wU===n?g=e:g=e+1,x=t.position-t.lineStart,c===1?o&&(j4(t,x)||LU(t,x,g))||MU(t,g)?d=!0:(i&&DU(t,g)||IU(t,g)||RU(t,g)?d=!0:FU(t)?(d=!0,(t.tag!==null||t.anchor!==null)&&on(t,"alias node should not have any properties")):AU(t,g,Ob===n)&&(d=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):c===0&&(d=o&&j4(t,x))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&on(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),m=0,h=t.implicitTypes.length;m<h;m+=1)if(f=t.implicitTypes[m],f.resolve(t.result)){t.result=f.construct(t.result),t.tag=f.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(ac.call(t.typeMap[t.kind||"fallback"],t.tag))f=t.typeMap[t.kind||"fallback"][t.tag];else for(f=null,p=t.typeMap.multi[t.kind||"fallback"],m=0,h=p.length;m<h;m+=1)if(t.tag.slice(0,p[m].tag.length)===p[m].tag){f=p[m];break}f||on(t,"unknown tag !<"+t.tag+">"),t.result!==null&&f.kind!==t.kind&&on(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+f.kind+'", not "'+t.kind+'"'),f.resolve(t.result,t.tag)?(t.result=f.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):on(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||d}X(Eu,"composeNode");function BU(t){var e=t.position,n,r,a,s=!1,i;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(i=t.input.charCodeAt(t.position))!==0&&(Ur(t,!0,-1),i=t.input.charCodeAt(t.position),!(t.lineIndent>0||i!==37));){for(s=!0,i=t.input.charCodeAt(++t.position),n=t.position;i!==0&&!Qa(i);)i=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),a=[],r.length<1&&on(t,"directive name must not be less than one character in length");i!==0;){for(;Gl(i);)i=t.input.charCodeAt(++t.position);if(i===35){do i=t.input.charCodeAt(++t.position);while(i!==0&&!ji(i));break}if(ji(i))break;for(n=t.position;i!==0&&!Qa(i);)i=t.input.charCodeAt(++t.position);a.push(t.input.slice(n,t.position))}i!==0&&t2(t),ac.call(G7,r)?G7[r](t,r,a):xf(t,'unknown document directive "'+r+'"')}if(Ur(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Ur(t,!0,-1)):s&&on(t,"directives end mark is expected"),Eu(t,t.lineIndent-1,Pb,!1,!0),Ur(t,!0,-1),t.checkLineBreaks&&OAe.test(t.input.slice(e,t.position))&&xf(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&d0(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Ur(t,!0,-1));return}if(t.position<t.length-1)on(t,"end of the stream or a document separator is expected");else return}X(BU,"readDocument");function hS(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new $U(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,on(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)BU(n);return n.documents}X(hS,"loadDocuments");function FAe(t,e,n){e!==null&&typeof e=="object"&&typeof n>"u"&&(n=e,e=null);var r=hS(t,n);if(typeof e!="function")return r;for(var a=0,s=r.length;a<s;a+=1)e(r[a])}X(FAe,"loadAll$1");function zU(t,e){var n=hS(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new ps("expected a single document in the stream, but found more")}}X(zU,"load$1");var BAe=zU,zAe={load:BAe},HU=Object.prototype.toString,qU=Object.prototype.hasOwnProperty,pS=65279,HAe=9,yf=10,qAe=13,UAe=32,WAe=33,GAe=34,T4=35,VAe=37,KAe=38,YAe=39,XAe=42,UU=44,ZAe=45,Fb=58,QAe=61,JAe=62,eIe=63,tIe=64,WU=91,GU=93,nIe=96,VU=123,rIe=124,KU=125,Ha={};Ha[0]="\\0";Ha[7]="\\a";Ha[8]="\\b";Ha[9]="\\t";Ha[10]="\\n";Ha[11]="\\v";Ha[12]="\\f";Ha[13]="\\r";Ha[27]="\\e";Ha[34]='\\"';Ha[92]="\\\\";Ha[133]="\\N";Ha[160]="\\_";Ha[8232]="\\L";Ha[8233]="\\P";var aIe=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],sIe=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function YU(t,e){var n,r,a,s,i,o,c;if(e===null)return{};for(n={},r=Object.keys(e),a=0,s=r.length;a<s;a+=1)i=r[a],o=String(e[i]),i.slice(0,2)==="!!"&&(i="tag:yaml.org,2002:"+i.slice(2)),c=t.compiledTypeMap.fallback[i],c&&qU.call(c.styleAliases,o)&&(o=c.styleAliases[o]),n[i]=o;return n}X(YU,"compileStyleMap");function XU(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new ps("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+ta.repeat("0",r-e.length)+e}X(XU,"encodeHex");var iIe=1,wf=2;function ZU(t){this.schema=t.schema||yU,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=ta.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=YU(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?wf:iIe,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}X(ZU,"State");function E4(t,e){for(var n=ta.repeat(" ",e),r=0,a=-1,s="",i,o=t.length;r<o;)a=t.indexOf(`
`,r),a===-1?(i=t.slice(r),r=o):(i=t.slice(r,a+1),r=a+1),i.length&&i!==`
`&&(s+=n),s+=i;return s}X(E4,"indentString");function Bb(t,e){return`
`+ta.repeat(" ",t.indent*e)}X(Bb,"generateNextLine");function QU(t,e){var n,r,a;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(a=t.implicitTypes[n],a.resolve(e))return!0;return!1}X(QU,"testImplicitResolving");function vf(t){return t===UAe||t===HAe}X(vf,"isWhitespace");function Dm(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==pS||65536<=t&&t<=1114111}X(Dm,"isPrintable");function N4(t){return Dm(t)&&t!==pS&&t!==qAe&&t!==yf}X(N4,"isNsCharOrWhitespace");function $4(t,e,n){var r=N4(t),a=r&&!vf(t);return(n?r:r&&t!==UU&&t!==WU&&t!==GU&&t!==VU&&t!==KU)&&t!==T4&&!(e===Fb&&!a)||N4(e)&&!vf(e)&&t===T4||e===Fb&&a}X($4,"isPlainSafe");function JU(t){return Dm(t)&&t!==pS&&!vf(t)&&t!==ZAe&&t!==eIe&&t!==Fb&&t!==UU&&t!==WU&&t!==GU&&t!==VU&&t!==KU&&t!==T4&&t!==KAe&&t!==XAe&&t!==WAe&&t!==rIe&&t!==QAe&&t!==JAe&&t!==YAe&&t!==GAe&&t!==VAe&&t!==tIe&&t!==nIe}X(JU,"isPlainSafeFirst");function eW(t){return!vf(t)&&t!==Fb}X(eW,"isPlainSafeLast");function Fd(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}X(Fd,"codePointAt");function fS(t){var e=/^\n* /;return e.test(t)}X(fS,"needIndentIndicator");var tW=1,A4=2,nW=3,rW=4,Sd=5;function aW(t,e,n,r,a,s,i,o){var c,u=0,d=null,m=!1,h=!1,p=r!==-1,f=-1,g=JU(Fd(t,0))&&eW(Fd(t,t.length-1));if(e||i)for(c=0;c<t.length;u>=65536?c+=2:c++){if(u=Fd(t,c),!Dm(u))return Sd;g=g&&$4(u,d,o),d=u}else{for(c=0;c<t.length;u>=65536?c+=2:c++){if(u=Fd(t,c),u===yf)m=!0,p&&(h=h||c-f-1>r&&t[f+1]!==" ",f=c);else if(!Dm(u))return Sd;g=g&&$4(u,d,o),d=u}h=h||p&&c-f-1>r&&t[f+1]!==" "}return!m&&!h?g&&!i&&!a(t)?tW:s===wf?Sd:A4:n>9&&fS(t)?Sd:i?s===wf?Sd:A4:h?rW:nW}X(aW,"chooseScalarStyle");function sW(t,e,n,r,a){t.dump=(function(){if(e.length===0)return t.quotingType===wf?'""':"''";if(!t.noCompatMode&&(aIe.indexOf(e)!==-1||sIe.test(e)))return t.quotingType===wf?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,n),i=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),o=r||t.flowLevel>-1&&n>=t.flowLevel;function c(u){return QU(t,u)}switch(X(c,"testAmbiguity"),aW(e,o,t.indent,i,c,t.quotingType,t.forceQuotes&&!r,a)){case tW:return e;case A4:return"'"+e.replace(/'/g,"''")+"'";case nW:return"|"+I4(e,t.indent)+R4(E4(e,s));case rW:return">"+I4(e,t.indent)+R4(E4(iW(e,i),s));case Sd:return'"'+oW(e)+'"';default:throw new ps("impossible error: invalid scalar style")}})()}X(sW,"writeScalar");function I4(t,e){var n=fS(t)?String(e):"",r=t[t.length-1]===`
`,a=r&&(t[t.length-2]===`
`||t===`
`),s=a?"+":r?"":"-";return n+s+`
`}X(I4,"blockHeader");function R4(t){return t[t.length-1]===`
`?t.slice(0,-1):t}X(R4,"dropEndingNewline");function iW(t,e){for(var n=/(\n+)([^\n]*)/g,r=(function(){var u=t.indexOf(`
`);return u=u!==-1?u:t.length,n.lastIndex=u,M4(t.slice(0,u),e)})(),a=t[0]===`
`||t[0]===" ",s,i;i=n.exec(t);){var o=i[1],c=i[2];s=c[0]===" ",r+=o+(!a&&!s&&c!==""?`
`:"")+M4(c,e),a=s}return r}X(iW,"foldString");function M4(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,a=0,s,i=0,o=0,c="";r=n.exec(t);)o=r.index,o-a>e&&(s=i>a?i:o,c+=`
`+t.slice(a,s),a=s+1),i=o;return c+=`
`,t.length-a>e&&i>a?c+=t.slice(a,i)+`
`+t.slice(i+1):c+=t.slice(a),c.slice(1)}X(M4,"foldLine");function oW(t){for(var e="",n=0,r,a=0;a<t.length;n>=65536?a+=2:a++)n=Fd(t,a),r=Ha[n],!r&&Dm(n)?(e+=t[a],n>=65536&&(e+=t[a+1])):e+=r||XU(n);return e}X(oW,"escapeString");function lW(t,e,n){var r="",a=t.tag,s,i,o;for(s=0,i=n.length;s<i;s+=1)o=n[s],t.replacer&&(o=t.replacer.call(n,String(s),o)),(ho(t,e,o,!1,!1)||typeof o>"u"&&ho(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=a,t.dump="["+r+"]"}X(lW,"writeFlowSequence");function D4(t,e,n,r){var a="",s=t.tag,i,o,c;for(i=0,o=n.length;i<o;i+=1)c=n[i],t.replacer&&(c=t.replacer.call(n,String(i),c)),(ho(t,e+1,c,!0,!0,!1,!0)||typeof c>"u"&&ho(t,e+1,null,!0,!0,!1,!0))&&((!r||a!=="")&&(a+=Bb(t,e)),t.dump&&yf===t.dump.charCodeAt(0)?a+="-":a+="- ",a+=t.dump);t.tag=s,t.dump=a||"[]"}X(D4,"writeBlockSequence");function cW(t,e,n){var r="",a=t.tag,s=Object.keys(n),i,o,c,u,d;for(i=0,o=s.length;i<o;i+=1)d="",r!==""&&(d+=", "),t.condenseFlow&&(d+='"'),c=s[i],u=n[c],t.replacer&&(u=t.replacer.call(n,c,u)),ho(t,e,c,!1,!1)&&(t.dump.length>1024&&(d+="? "),d+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),ho(t,e,u,!1,!1)&&(d+=t.dump,r+=d));t.tag=a,t.dump="{"+r+"}"}X(cW,"writeFlowMapping");function uW(t,e,n,r){var a="",s=t.tag,i=Object.keys(n),o,c,u,d,m,h;if(t.sortKeys===!0)i.sort();else if(typeof t.sortKeys=="function")i.sort(t.sortKeys);else if(t.sortKeys)throw new ps("sortKeys must be a boolean or a function");for(o=0,c=i.length;o<c;o+=1)h="",(!r||a!=="")&&(h+=Bb(t,e)),u=i[o],d=n[u],t.replacer&&(d=t.replacer.call(n,u,d)),ho(t,e+1,u,!0,!0,!0)&&(m=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,m&&(t.dump&&yf===t.dump.charCodeAt(0)?h+="?":h+="? "),h+=t.dump,m&&(h+=Bb(t,e)),ho(t,e+1,d,!0,m)&&(t.dump&&yf===t.dump.charCodeAt(0)?h+=":":h+=": ",h+=t.dump,a+=h));t.tag=s,t.dump=a||"{}"}X(uW,"writeBlockMapping");function L4(t,e,n){var r,a,s,i,o,c;for(a=n?t.explicitTypes:t.implicitTypes,s=0,i=a.length;s<i;s+=1)if(o=a[s],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof e=="object"&&e instanceof o.instanceOf)&&(!o.predicate||o.predicate(e))){if(n?o.multi&&o.representName?t.tag=o.representName(e):t.tag=o.tag:t.tag="?",o.represent){if(c=t.styleMap[o.tag]||o.defaultStyle,HU.call(o.represent)==="[object Function]")r=o.represent(e,c);else if(qU.call(o.represent,c))r=o.represent[c](e,c);else throw new ps("!<"+o.tag+'> tag resolver accepts not "'+c+'" style');t.dump=r}return!0}return!1}X(L4,"detectType");function ho(t,e,n,r,a,s,i){t.tag=null,t.dump=n,L4(t,n,!1)||L4(t,n,!0);var o=HU.call(t.dump),c=r,u;r&&(r=t.flowLevel<0||t.flowLevel>e);var d=o==="[object Object]"||o==="[object Array]",m,h;if(d&&(m=t.duplicates.indexOf(n),h=m!==-1),(t.tag!==null&&t.tag!=="?"||h||t.indent!==2&&e>0)&&(a=!1),h&&t.usedDuplicates[m])t.dump="*ref_"+m;else{if(d&&h&&!t.usedDuplicates[m]&&(t.usedDuplicates[m]=!0),o==="[object Object]")r&&Object.keys(t.dump).length!==0?(uW(t,e,t.dump,a),h&&(t.dump="&ref_"+m+t.dump)):(cW(t,e,t.dump),h&&(t.dump="&ref_"+m+" "+t.dump));else if(o==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!i&&e>0?D4(t,e-1,t.dump,a):D4(t,e,t.dump,a),h&&(t.dump="&ref_"+m+t.dump)):(lW(t,e,t.dump),h&&(t.dump="&ref_"+m+" "+t.dump));else if(o==="[object String]")t.tag!=="?"&&sW(t,t.dump,e,s,c);else{if(o==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new ps("unacceptable kind of an object to dump "+o)}t.tag!==null&&t.tag!=="?"&&(u=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",t.dump=u+" "+t.dump)}return!0}X(ho,"writeNode");function dW(t,e){var n=[],r=[],a,s;for(zb(t,n,r),a=0,s=r.length;a<s;a+=1)e.duplicates.push(n[r[a]]);e.usedDuplicates=new Array(s)}X(dW,"getDuplicateReferences");function zb(t,e,n){var r,a,s;if(t!==null&&typeof t=="object")if(a=e.indexOf(t),a!==-1)n.indexOf(a)===-1&&n.push(a);else if(e.push(t),Array.isArray(t))for(a=0,s=t.length;a<s;a+=1)zb(t[a],e,n);else for(r=Object.keys(t),a=0,s=r.length;a<s;a+=1)zb(t[r[a]],e,n)}X(zb,"inspectNode");function oIe(t,e){e=e||{};var n=new ZU(e);n.noRefs||dW(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),ho(n,0,r,!0,!0)?n.dump+`
`:""}X(oIe,"dump$1");function lIe(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}X(lIe,"renamed");var cIe=nU,uIe=zAe.load;var Ra={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},V7={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5};function sp(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=br(t),e=br(e);const[n,r]=[t.x,t.y],[a,s]=[e.x,e.y],i=a-n,o=s-r;return{angle:Math.atan(o/i),deltaX:i,deltaY:o}}X(sp,"calculateDeltaAndAngle");var br=X(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),dIe=X(t=>({x:X(function(e,n,r){let a=0;const s=br(r[0]).x<br(r[r.length-1]).x?"left":"right";if(n===0&&Object.hasOwn(Ra,t.arrowTypeStart)){const{angle:p,deltaX:f}=sp(r[0],r[1]);a=Ra[t.arrowTypeStart]*Math.cos(p)*(f>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(Ra,t.arrowTypeEnd)){const{angle:p,deltaX:f}=sp(r[r.length-1],r[r.length-2]);a=Ra[t.arrowTypeEnd]*Math.cos(p)*(f>=0?1:-1)}const i=Math.abs(br(e).x-br(r[r.length-1]).x),o=Math.abs(br(e).y-br(r[r.length-1]).y),c=Math.abs(br(e).x-br(r[0]).x),u=Math.abs(br(e).y-br(r[0]).y),d=Ra[t.arrowTypeStart],m=Ra[t.arrowTypeEnd],h=1;if(i<m&&i>0&&o<m){let p=m+h-i;p*=s==="right"?-1:1,a-=p}if(c<d&&c>0&&u<d){let p=d+h-c;p*=s==="right"?-1:1,a+=p}return br(e).x+a},"x"),y:X(function(e,n,r){let a=0;const s=br(r[0]).y<br(r[r.length-1]).y?"down":"up";if(n===0&&Object.hasOwn(Ra,t.arrowTypeStart)){const{angle:p,deltaY:f}=sp(r[0],r[1]);a=Ra[t.arrowTypeStart]*Math.abs(Math.sin(p))*(f>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(Ra,t.arrowTypeEnd)){const{angle:p,deltaY:f}=sp(r[r.length-1],r[r.length-2]);a=Ra[t.arrowTypeEnd]*Math.abs(Math.sin(p))*(f>=0?1:-1)}const i=Math.abs(br(e).y-br(r[r.length-1]).y),o=Math.abs(br(e).x-br(r[r.length-1]).x),c=Math.abs(br(e).y-br(r[0]).y),u=Math.abs(br(e).x-br(r[0]).x),d=Ra[t.arrowTypeStart],m=Ra[t.arrowTypeEnd],h=1;if(i<m&&i>0&&o<m){let p=m+h-i;p*=s==="up"?-1:1,a-=p}if(c<d&&c>0&&u<d){let p=d+h-c;p*=s==="up"?-1:1,a+=p}return br(e).y+a},"y")}),"getLineFunctionsWithOffset"),gS=X(({flowchart:t})=>{const e=t?.subGraphTitleMargin?.top??0,n=t?.subGraphTitleMargin?.bottom??0,r=e+n;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:n,subGraphTitleTotalMargin:r}},"getSubGraphTitleMargins"),mIe=X(t=>{const{handDrawnSeed:e}=er();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),dh=X(t=>{const e=hIe([...t.cssCompiledStyles||[],...t.cssStyles||[],...t.labelStyle||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),hIe=X(t=>{const e=new Map;return t.forEach(n=>{const[r,a]=n.split(":");e.set(r.trim(),a?.trim())}),e},"styles2Map"),mW=X(t=>t==="color"||t==="font-size"||t==="font-family"||t==="font-weight"||t==="font-style"||t==="text-decoration"||t==="text-align"||t==="text-transform"||t==="line-height"||t==="letter-spacing"||t==="word-spacing"||t==="text-shadow"||t==="text-overflow"||t==="white-space"||t==="word-wrap"||t==="word-break"||t==="overflow-wrap"||t==="hyphens","isLabelStyle"),en=X(t=>{const{stylesArray:e}=dh(t),n=[],r=[],a=[],s=[];return e.forEach(i=>{const o=i[0];mW(o)?n.push(i.join(":")+" !important"):(r.push(i.join(":")+" !important"),o.includes("stroke")&&a.push(i.join(":")+" !important"),o==="fill"&&s.push(i.join(":")+" !important"))}),{labelStyles:n.join(";"),nodeStyles:r.join(";"),stylesArray:e,borderStyles:a,backgroundStyles:s}},"styles2String"),Jt=X((t,e)=>{const{themeVariables:n,handDrawnSeed:r}=er(),{nodeBorder:a,mainBkg:s}=n,{stylesMap:i}=dh(t);return Object.assign({roughness:.7,fill:i.get("fill")||s,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:i.get("stroke")||a,seed:r,strokeWidth:i.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:pIe(i.get("stroke-dasharray"))},e)},"userNodeOverrides"),pIe=X(t=>{if(!t)return[0,0];const e=t.trim().split(/\s+/).map(Number);if(e.length===1){const a=isNaN(e[0])?0:e[0];return[a,a]}const n=isNaN(e[0])?0:e[0],r=isNaN(e[1])?0:e[1];return[n,r]},"getStrokeDashArray"),Rh={},Qr={},K7;function fIe(){return K7||(K7=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.BLANK_URL=Qr.relativeFirstCharacters=Qr.whitespaceEscapeCharsRegex=Qr.urlSchemeRegex=Qr.ctrlCharactersRegex=Qr.htmlCtrlEntityRegex=Qr.htmlEntitiesRegex=Qr.invalidProtocolRegex=void 0,Qr.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,Qr.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,Qr.htmlCtrlEntityRegex=/&(newline|tab);/gi,Qr.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Qr.urlSchemeRegex=/^.+(:|&colon;)/gim,Qr.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,Qr.relativeFirstCharacters=[".","/"],Qr.BLANK_URL="about:blank"),Qr}var Y7;function gIe(){if(Y7)return Rh;Y7=1,Object.defineProperty(Rh,"__esModule",{value:!0}),Rh.sanitizeUrl=void 0;var t=fIe();function e(i){return t.relativeFirstCharacters.indexOf(i[0])>-1}function n(i){var o=i.replace(t.ctrlCharactersRegex,"");return o.replace(t.htmlEntitiesRegex,function(c,u){return String.fromCharCode(u)})}function r(i){return URL.canParse(i)}function a(i){try{return decodeURIComponent(i)}catch{return i}}function s(i){if(!i)return t.BLANK_URL;var o,c=a(i.trim());do c=n(c).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim(),c=a(c),o=c.match(t.ctrlCharactersRegex)||c.match(t.htmlEntitiesRegex)||c.match(t.htmlCtrlEntityRegex)||c.match(t.whitespaceEscapeCharsRegex);while(o&&o.length>0);var u=c;if(!u)return t.BLANK_URL;if(e(u))return u;var d=u.trimStart(),m=d.match(t.urlSchemeRegex);if(!m)return u;var h=m[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(h))return t.BLANK_URL;var p=d.replace(/\\/g,"/");if(h==="mailto:"||h.includes("://"))return p;if(h==="http:"||h==="https:"){if(!r(p))return t.BLANK_URL;var f=new URL(p);return f.protocol=f.protocol.toLowerCase(),f.hostname=f.hostname.toLowerCase(),f.toString()}return p}return Rh.sanitizeUrl=s,Rh}var bIe=gIe(),hW=typeof global=="object"&&global&&global.Object===Object&&global,xIe=typeof self=="object"&&self&&self.Object===Object&&self,_o=hW||xIe||Function("return this")(),Hb=_o.Symbol,pW=Object.prototype,yIe=pW.hasOwnProperty,wIe=pW.toString,Mh=Hb?Hb.toStringTag:void 0;function vIe(t){var e=yIe.call(t,Mh),n=t[Mh];try{t[Mh]=void 0;var r=!0}catch{}var a=wIe.call(t);return r&&(e?t[Mh]=n:delete t[Mh]),a}var kIe=Object.prototype,_Ie=kIe.toString;function CIe(t){return _Ie.call(t)}var SIe="[object Null]",jIe="[object Undefined]",X7=Hb?Hb.toStringTag:void 0;function mh(t){return t==null?t===void 0?jIe:SIe:X7&&X7 in Object(t)?vIe(t):CIe(t)}function Xu(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var TIe="[object AsyncFunction]",EIe="[object Function]",NIe="[object GeneratorFunction]",$Ie="[object Proxy]";function bS(t){if(!Xu(t))return!1;var e=mh(t);return e==EIe||e==NIe||e==TIe||e==$Ie}var $v=_o["__core-js_shared__"],Z7=(function(){var t=/[^.]+$/.exec($v&&$v.keys&&$v.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function AIe(t){return!!Z7&&Z7 in t}var IIe=Function.prototype,RIe=IIe.toString;function Zu(t){if(t!=null){try{return RIe.call(t)}catch{}try{return t+""}catch{}}return""}var MIe=/[\\^$.*+?()[\]{}|]/g,DIe=/^\[object .+?Constructor\]$/,LIe=Function.prototype,OIe=Object.prototype,PIe=LIe.toString,FIe=OIe.hasOwnProperty,BIe=RegExp("^"+PIe.call(FIe).replace(MIe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zIe(t){if(!Xu(t)||AIe(t))return!1;var e=bS(t)?BIe:DIe;return e.test(Zu(t))}function HIe(t,e){return t?.[e]}function Qu(t,e){var n=HIe(t,e);return zIe(n)?n:void 0}var kf=Qu(Object,"create");function qIe(){this.__data__=kf?kf(null):{},this.size=0}function UIe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var WIe="__lodash_hash_undefined__",GIe=Object.prototype,VIe=GIe.hasOwnProperty;function KIe(t){var e=this.__data__;if(kf){var n=e[t];return n===WIe?void 0:n}return VIe.call(e,t)?e[t]:void 0}var YIe=Object.prototype,XIe=YIe.hasOwnProperty;function ZIe(t){var e=this.__data__;return kf?e[t]!==void 0:XIe.call(e,t)}var QIe="__lodash_hash_undefined__";function JIe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=kf&&e===void 0?QIe:e,this}function Nu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nu.prototype.clear=qIe;Nu.prototype.delete=UIe;Nu.prototype.get=KIe;Nu.prototype.has=ZIe;Nu.prototype.set=JIe;function eRe(){this.__data__=[],this.size=0}function r2(t,e){return t===e||t!==t&&e!==e}function a2(t,e){for(var n=t.length;n--;)if(r2(t[n][0],e))return n;return-1}var tRe=Array.prototype,nRe=tRe.splice;function rRe(t){var e=this.__data__,n=a2(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():nRe.call(e,n,1),--this.size,!0}function aRe(t){var e=this.__data__,n=a2(e,t);return n<0?void 0:e[n][1]}function sRe(t){return a2(this.__data__,t)>-1}function iRe(t,e){var n=this.__data__,r=a2(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function yl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yl.prototype.clear=eRe;yl.prototype.delete=rRe;yl.prototype.get=aRe;yl.prototype.has=sRe;yl.prototype.set=iRe;var _f=Qu(_o,"Map");function oRe(){this.size=0,this.__data__={hash:new Nu,map:new(_f||yl),string:new Nu}}function lRe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function s2(t,e){var n=t.__data__;return lRe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function cRe(t){var e=s2(this,t).delete(t);return this.size-=e?1:0,e}function uRe(t){return s2(this,t).get(t)}function dRe(t){return s2(this,t).has(t)}function mRe(t,e){var n=s2(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function kc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}kc.prototype.clear=oRe;kc.prototype.delete=cRe;kc.prototype.get=uRe;kc.prototype.has=dRe;kc.prototype.set=mRe;var hRe="Expected a function";function m0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(hRe);var n=function(){var r=arguments,a=e?e.apply(this,r):r[0],s=n.cache;if(s.has(a))return s.get(a);var i=t.apply(this,r);return n.cache=s.set(a,i)||s,i};return n.cache=new(m0.Cache||kc),n}m0.Cache=kc;function pRe(){this.__data__=new yl,this.size=0}function fRe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function gRe(t){return this.__data__.get(t)}function bRe(t){return this.__data__.has(t)}var xRe=200;function yRe(t,e){var n=this.__data__;if(n instanceof yl){var r=n.__data__;if(!_f||r.length<xRe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new kc(r)}return n.set(t,e),this.size=n.size,this}function hh(t){var e=this.__data__=new yl(t);this.size=e.size}hh.prototype.clear=pRe;hh.prototype.delete=fRe;hh.prototype.get=gRe;hh.prototype.has=bRe;hh.prototype.set=yRe;var qb=(function(){try{var t=Qu(Object,"defineProperty");return t({},"",{}),t}catch{}})();function xS(t,e,n){e=="__proto__"&&qb?qb(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function O4(t,e,n){(n!==void 0&&!r2(t[e],n)||n===void 0&&!(e in t))&&xS(t,e,n)}function wRe(t){return function(e,n,r){for(var a=-1,s=Object(e),i=r(e),o=i.length;o--;){var c=i[++a];if(n(s[c],c,s)===!1)break}return e}}var vRe=wRe(),fW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Q7=fW&&typeof module=="object"&&module&&!module.nodeType&&module,kRe=Q7&&Q7.exports===fW,J7=kRe?_o.Buffer:void 0,eN=J7?J7.allocUnsafe:void 0;function _Re(t,e){if(e)return t.slice();var n=t.length,r=eN?eN(n):new t.constructor(n);return t.copy(r),r}var tN=_o.Uint8Array;function CRe(t){var e=new t.constructor(t.byteLength);return new tN(e).set(new tN(t)),e}function SRe(t,e){var n=e?CRe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function jRe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var nN=Object.create,TRe=(function(){function t(){}return function(e){if(!Xu(e))return{};if(nN)return nN(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}})();function gW(t,e){return function(n){return t(e(n))}}var bW=gW(Object.getPrototypeOf,Object),ERe=Object.prototype;function i2(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ERe;return t===n}function NRe(t){return typeof t.constructor=="function"&&!i2(t)?TRe(bW(t)):{}}function h0(t){return t!=null&&typeof t=="object"}var $Re="[object Arguments]";function rN(t){return h0(t)&&mh(t)==$Re}var xW=Object.prototype,ARe=xW.hasOwnProperty,IRe=xW.propertyIsEnumerable,Ub=rN((function(){return arguments})())?rN:function(t){return h0(t)&&ARe.call(t,"callee")&&!IRe.call(t,"callee")},Wb=Array.isArray,RRe=9007199254740991;function yW(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=RRe}function o2(t){return t!=null&&yW(t.length)&&!bS(t)}function MRe(t){return h0(t)&&o2(t)}function DRe(){return!1}var wW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,aN=wW&&typeof module=="object"&&module&&!module.nodeType&&module,LRe=aN&&aN.exports===wW,sN=LRe?_o.Buffer:void 0,ORe=sN?sN.isBuffer:void 0,yS=ORe||DRe,PRe="[object Object]",FRe=Function.prototype,BRe=Object.prototype,vW=FRe.toString,zRe=BRe.hasOwnProperty,HRe=vW.call(Object);function qRe(t){if(!h0(t)||mh(t)!=PRe)return!1;var e=bW(t);if(e===null)return!0;var n=zRe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&vW.call(n)==HRe}var URe="[object Arguments]",WRe="[object Array]",GRe="[object Boolean]",VRe="[object Date]",KRe="[object Error]",YRe="[object Function]",XRe="[object Map]",ZRe="[object Number]",QRe="[object Object]",JRe="[object RegExp]",eMe="[object Set]",tMe="[object String]",nMe="[object WeakMap]",rMe="[object ArrayBuffer]",aMe="[object DataView]",sMe="[object Float32Array]",iMe="[object Float64Array]",oMe="[object Int8Array]",lMe="[object Int16Array]",cMe="[object Int32Array]",uMe="[object Uint8Array]",dMe="[object Uint8ClampedArray]",mMe="[object Uint16Array]",hMe="[object Uint32Array]",hr={};hr[sMe]=hr[iMe]=hr[oMe]=hr[lMe]=hr[cMe]=hr[uMe]=hr[dMe]=hr[mMe]=hr[hMe]=!0;hr[URe]=hr[WRe]=hr[rMe]=hr[GRe]=hr[aMe]=hr[VRe]=hr[KRe]=hr[YRe]=hr[XRe]=hr[ZRe]=hr[QRe]=hr[JRe]=hr[eMe]=hr[tMe]=hr[nMe]=!1;function pMe(t){return h0(t)&&yW(t.length)&&!!hr[mh(t)]}function fMe(t){return function(e){return t(e)}}var kW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Mp=kW&&typeof module=="object"&&module&&!module.nodeType&&module,gMe=Mp&&Mp.exports===kW,Av=gMe&&hW.process,iN=(function(){try{var t=Mp&&Mp.require&&Mp.require("util").types;return t||Av&&Av.binding&&Av.binding("util")}catch{}})(),oN=iN&&iN.isTypedArray,wS=oN?fMe(oN):pMe;function P4(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var bMe=Object.prototype,xMe=bMe.hasOwnProperty;function yMe(t,e,n){var r=t[e];(!(xMe.call(t,e)&&r2(r,n))||n===void 0&&!(e in t))&&xS(t,e,n)}function wMe(t,e,n,r){var a=!n;n||(n={});for(var s=-1,i=e.length;++s<i;){var o=e[s],c=void 0;c===void 0&&(c=t[o]),a?xS(n,o,c):yMe(n,o,c)}return n}function vMe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var kMe=9007199254740991,_Me=/^(?:0|[1-9]\d*)$/;function _W(t,e){var n=typeof t;return e=e??kMe,!!e&&(n=="number"||n!="symbol"&&_Me.test(t))&&t>-1&&t%1==0&&t<e}var CMe=Object.prototype,SMe=CMe.hasOwnProperty;function jMe(t,e){var n=Wb(t),r=!n&&Ub(t),a=!n&&!r&&yS(t),s=!n&&!r&&!a&&wS(t),i=n||r||a||s,o=i?vMe(t.length,String):[],c=o.length;for(var u in t)(e||SMe.call(t,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||_W(u,c)))&&o.push(u);return o}function TMe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var EMe=Object.prototype,NMe=EMe.hasOwnProperty;function $Me(t){if(!Xu(t))return TMe(t);var e=i2(t),n=[];for(var r in t)r=="constructor"&&(e||!NMe.call(t,r))||n.push(r);return n}function CW(t){return o2(t)?jMe(t,!0):$Me(t)}function AMe(t){return wMe(t,CW(t))}function IMe(t,e,n,r,a,s,i){var o=P4(t,n),c=P4(e,n),u=i.get(c);if(u){O4(t,n,u);return}var d=s?s(o,c,n+"",t,e,i):void 0,m=d===void 0;if(m){var h=Wb(c),p=!h&&yS(c),f=!h&&!p&&wS(c);d=c,h||p||f?Wb(o)?d=o:MRe(o)?d=jRe(o):p?(m=!1,d=_Re(c,!0)):f?(m=!1,d=SRe(c,!0)):d=[]:qRe(c)||Ub(c)?(d=o,Ub(o)?d=AMe(o):(!Xu(o)||bS(o))&&(d=NRe(c))):m=!1}m&&(i.set(c,d),a(d,c,r,s,i),i.delete(c)),O4(t,n,d)}function SW(t,e,n,r,a){t!==e&&vRe(e,function(s,i){if(a||(a=new hh),Xu(s))IMe(t,e,i,n,SW,r,a);else{var o=r?r(P4(t,i),s,i+"",t,e,a):void 0;o===void 0&&(o=s),O4(t,i,o)}},CW)}function jW(t){return t}function RMe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var lN=Math.max;function MMe(t,e,n){return e=lN(e===void 0?t.length-1:e,0),function(){for(var r=arguments,a=-1,s=lN(r.length-e,0),i=Array(s);++a<s;)i[a]=r[e+a];a=-1;for(var o=Array(e+1);++a<e;)o[a]=r[a];return o[e]=n(i),RMe(t,this,o)}}function DMe(t){return function(){return t}}var LMe=qb?function(t,e){return qb(t,"toString",{configurable:!0,enumerable:!1,value:DMe(e),writable:!0})}:jW,OMe=800,PMe=16,FMe=Date.now;function BMe(t){var e=0,n=0;return function(){var r=FMe(),a=PMe-(r-n);if(n=r,a>0){if(++e>=OMe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var zMe=BMe(LMe);function HMe(t,e){return zMe(MMe(t,e,jW),t+"")}function qMe(t,e,n){if(!Xu(n))return!1;var r=typeof e;return(r=="number"?o2(n)&&_W(e,n.length):r=="string"&&e in n)?r2(n[e],t):!1}function UMe(t){return HMe(function(e,n){var r=-1,a=n.length,s=a>1?n[a-1]:void 0,i=a>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(a--,s):void 0,i&&qMe(n[0],n[1],i)&&(s=a<3?void 0:s,a=1),e=Object(e);++r<a;){var o=n[r];o&&t(e,o,r,s)}return e})}var WMe=UMe(function(t,e,n){SW(t,e,n)}),GMe="",VMe={curveBasis:n1,curveBasisClosed:Y$e,curveBasisOpen:X$e,curveBumpX:dq,curveBumpY:mq,curveBundle:Z$e,curveCardinalClosed:Q$e,curveCardinalOpen:J$e,curveCardinal:gq,curveCatmullRomClosed:eAe,curveCatmullRomOpen:tAe,curveCatmullRom:xq,curveLinear:Ib,curveLinearClosed:nAe,curveMonotoneX:Cq,curveMonotoneY:Sq,curveNatural:Tq,curveStep:Eq,curveStepAfter:$q,curveStepBefore:Nq},KMe=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,YMe=X(function(t,e){const n=TW(t,/(?:init\b)|(?:initialize\b)/);let r={};if(Array.isArray(n)){const i=n.map(o=>o.args);vb(i),r=ea(r,[...i])}else r=n.args;if(!r)return;let a=U6(t,e);const s="config";return r[s]!==void 0&&(a==="flowchart-v2"&&(a="flowchart"),r[a]=r[s],delete r[s]),r},"detectInit"),TW=X(function(t,e=null){try{const n=new RegExp(`[%]{2}(?![{]${KMe.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(n,"").replace(/'/gm,'"'),ut.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let r;const a=[];for(;(r=Ip.exec(t))!==null;)if(r.index===Ip.lastIndex&&Ip.lastIndex++,r&&!e||e&&r[1]?.match(e)||e&&r[2]?.match(e)){const s=r[1]?r[1]:r[2],i=r[3]?r[3].trim():r[4]?JSON.parse(r[4].trim()):null;a.push({type:s,args:i})}return a.length===0?{type:t,args:null}:a.length===1?a[0]:a}catch(n){return ut.error(`ERROR: ${n.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),XMe=X(function(t){return t.replace(Ip,"")},"removeDirectives"),ZMe=X(function(t,e){for(const[n,r]of e.entries())if(r.match(t))return n;return-1},"isSubstringInArray");function vS(t,e){if(!t)return e;const n=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return VMe[n]??e}X(vS,"interpolateToCurve");function EW(t,e){const n=t.trim();if(n)return e.securityLevel!=="loose"?bIe.sanitizeUrl(n):n}X(EW,"formatUrl");var QMe=X((t,...e)=>{const n=t.split("."),r=n.length-1,a=n[r];let s=window;for(let i=0;i<r;i++)if(s=s[n[i]],!s){ut.error(`Function name: ${t} not found in window`);return}s[a](...e)},"runFunc");function kS(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}X(kS,"distance");function NW(t){let e,n=0;t.forEach(a=>{n+=kS(a,e),e=a});const r=n/2;return _S(t,r)}X(NW,"traverseEdge");function $W(t){return t.length===1?t[0]:NW(t)}X($W,"calcLabelPosition");var cN=X((t,e=2)=>{const n=Math.pow(10,e);return Math.round(t*n)/n},"roundNumber"),_S=X((t,e)=>{let n,r=e;for(const a of t){if(n){const s=kS(a,n);if(s===0)return n;if(s<r)r-=s;else{const i=r/s;if(i<=0)return n;if(i>=1)return{x:a.x,y:a.y};if(i>0&&i<1)return{x:cN((1-i)*n.x+i*a.x,5),y:cN((1-i)*n.y+i*a.y,5)}}}n=a}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),JMe=X((t,e,n)=>{ut.info(`our points ${JSON.stringify(e)}`),e[0]!==n&&(e=e.reverse());const a=_S(e,25),s=t?10:5,i=Math.atan2(e[0].y-a.y,e[0].x-a.x),o={x:0,y:0};return o.x=Math.sin(i)*s+(e[0].x+a.x)/2,o.y=-Math.cos(i)*s+(e[0].y+a.y)/2,o},"calcCardinalityPosition");function AW(t,e,n){const r=structuredClone(n);ut.info("our points",r),e!=="start_left"&&e!=="start_right"&&r.reverse();const a=25+t,s=_S(r,a),i=10+t*.5,o=Math.atan2(r[0].y-s.y,r[0].x-s.x),c={x:0,y:0};return e==="start_left"?(c.x=Math.sin(o+Math.PI)*i+(r[0].x+s.x)/2,c.y=-Math.cos(o+Math.PI)*i+(r[0].y+s.y)/2):e==="end_right"?(c.x=Math.sin(o-Math.PI)*i+(r[0].x+s.x)/2-5,c.y=-Math.cos(o-Math.PI)*i+(r[0].y+s.y)/2-5):e==="end_left"?(c.x=Math.sin(o)*i+(r[0].x+s.x)/2-5,c.y=-Math.cos(o)*i+(r[0].y+s.y)/2-5):(c.x=Math.sin(o)*i+(r[0].x+s.x)/2,c.y=-Math.cos(o)*i+(r[0].y+s.y)/2),c}X(AW,"calcTerminalLabelPosition");function IW(t){let e="",n="";for(const r of t)r!==void 0&&(r.startsWith("color:")||r.startsWith("text-align:")?n=n+r+";":e=e+r+";");return{style:e,labelStyle:n}}X(IW,"getStylesFromArray");var uN=0,eDe=X(()=>(uN++,"id-"+Math.random().toString(36).substr(2,12)+"-"+uN),"generateId");function RW(t){let e="";const n="0123456789abcdef",r=n.length;for(let a=0;a<t;a++)e+=n.charAt(Math.floor(Math.random()*r));return e}X(RW,"makeRandomHex");var tDe=X(t=>RW(t.length),"random"),nDe=X(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),rDe=X(function(t,e){const n=e.text.replace(uh.lineBreakRegex," "),[,r]=l2(e.fontSize),a=t.append("text");a.attr("x",e.x),a.attr("y",e.y),a.style("text-anchor",e.anchor),a.style("font-family",e.fontFamily),a.style("font-size",r),a.style("font-weight",e.fontWeight),a.attr("fill",e.fill),e.class!==void 0&&a.attr("class",e.class);const s=a.append("tspan");return s.attr("x",e.x+e.textMargin*2),s.attr("fill",e.fill),s.text(n),a},"drawSimpleText"),aDe=m0((t,e,n)=>{if(!t||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),uh.lineBreakRegex.test(t)))return t;const r=t.split(" ").filter(Boolean),a=[];let s="";return r.forEach((i,o)=>{const c=ll(`${i} `,n),u=ll(s,n);if(c>e){const{hyphenatedStrings:h,remainingWord:p}=sDe(i,e,"-",n);a.push(s,...h),s=p}else u+c>=e?(a.push(s),s=i):s=[s,i].filter(Boolean).join(" ");o+1===r.length&&a.push(s)}),a.filter(i=>i!=="").join(n.joinWith)},(t,e,n)=>`${t}${e}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),sDe=m0((t,e,n="-",r)=>{r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},r);const a=[...t],s=[];let i="";return a.forEach((o,c)=>{const u=`${i}${o}`;if(ll(u,r)>=e){const m=c+1,h=a.length===m,p=`${u}${n}`;s.push(h?u:p),i=""}else i=u}),{hyphenatedStrings:s,remainingWord:i}},(t,e,n="-",r)=>`${t}${e}${n}${r.fontSize}${r.fontWeight}${r.fontFamily}`);function MW(t,e){return CS(t,e).height}X(MW,"calculateTextHeight");function ll(t,e){return CS(t,e).width}X(ll,"calculateTextWidth");var CS=m0((t,e)=>{const{fontSize:n=12,fontFamily:r="Arial",fontWeight:a=400}=e;if(!t)return{width:0,height:0};const[,s]=l2(n),i=["sans-serif",r],o=t.split(uh.lineBreakRegex),c=[],u=qn("body");if(!u.remove)return{width:0,height:0,lineHeight:0};const d=u.append("svg");for(const h of i){let p=0;const f={width:0,height:0,lineHeight:0};for(const g of o){const x=nDe();x.text=g||GMe;const y=rDe(d,x).style("font-size",s).style("font-weight",a).style("font-family",h),w=(y._groups||y)[0][0].getBBox();if(w.width===0&&w.height===0)throw new Error("svg element not in render tree");f.width=Math.round(Math.max(f.width,w.width)),p=Math.round(w.height),f.height+=p,f.lineHeight=Math.round(Math.max(f.lineHeight,p))}c.push(f)}d.remove();const m=isNaN(c[1].height)||isNaN(c[1].width)||isNaN(c[1].lineHeight)||c[0].height>c[1].height&&c[0].width>c[1].width&&c[0].lineHeight>c[1].lineHeight?0:1;return c[m]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),iDe=class{constructor(t=!1,e){this.count=0,this.count=e?e.length:0,this.next=t?()=>this.count++:()=>Date.now()}static{X(this,"InitIDGenerator")}},gg,oDe=X(function(t){return gg=gg||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),gg.innerHTML=t,unescape(gg.textContent)},"entityDecode");function SS(t){return"str"in t}X(SS,"isDetailedError");var lDe=X((t,e,n,r)=>{if(!r)return;const a=t.node()?.getBBox();a&&t.append("text").text(r).attr("text-anchor","middle").attr("x",a.x+a.width/2).attr("y",-n).attr("class",e)},"insertTitle"),l2=X(t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function jS(t,e){return WMe({},t,e)}X(jS,"cleanAndMerge");var vi={assignWithDepth:ea,wrapLabel:aDe,calculateTextHeight:MW,calculateTextWidth:ll,calculateTextDimensions:CS,cleanAndMerge:jS,detectInit:YMe,detectDirective:TW,isSubstringInArray:ZMe,interpolateToCurve:vS,calcLabelPosition:$W,calcCardinalityPosition:JMe,calcTerminalLabelPosition:AW,formatUrl:EW,getStylesFromArray:IW,generateId:eDe,random:tDe,runFunc:QMe,entityDecode:oDe,insertTitle:lDe,isLabelCoordinateInPath:DW,parseFontSize:l2,InitIDGenerator:iDe},cDe=X(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/#\w+;/g,function(n){const r=n.substring(1,n.length-1);return/^\+?\d+$/.test(r)?""+r+"":""+r+""}),e},"encodeEntities"),Ju=X(function(t){return t.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),nJe=X((t,e,{counter:n=0,prefix:r,suffix:a},s)=>s||`${r?`${r}_`:""}${t}_${e}_${n}${a?`_${a}`:""}`,"getEdgeId");function Pa(t){return t??null}X(Pa,"handleUndefinedAttr");function DW(t,e){const n=Math.round(t.x),r=Math.round(t.y),a=e.replace(/(\d+\.\d+)/g,s=>Math.round(parseFloat(s)).toString());return a.includes(n.toString())||a.includes(r.toString())}X(DW,"isLabelCoordinateInPath");const uDe=Object.freeze({left:0,top:0,width:16,height:16}),Gb=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),LW=Object.freeze({...uDe,...Gb}),dDe=Object.freeze({...LW,body:"",hidden:!1}),mDe=Object.freeze({width:null,height:null}),hDe=Object.freeze({...mDe,...Gb}),pDe=(t,e,n,r="")=>{const a=t.split(":");if(t.slice(0,1)==="@"){if(a.length<2||a.length>3)return null;r=a.shift().slice(1)}if(a.length>3||!a.length)return null;if(a.length>1){const o=a.pop(),c=a.pop(),u={provider:a.length>0?a[0]:r,prefix:c,name:o};return Iv(u)?u:null}const s=a[0],i=s.split("-");if(i.length>1){const o={provider:r,prefix:i.shift(),name:i.join("-")};return Iv(o)?o:null}if(n&&r===""){const o={provider:r,prefix:"",name:s};return Iv(o,n)?o:null}return null},Iv=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1;function fDe(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function dN(t,e){const n=fDe(t,e);for(const r in dDe)r in Gb?r in t&&!(r in n)&&(n[r]=Gb[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function gDe(t,e){const n=t.icons,r=t.aliases||Object.create(null),a=Object.create(null);function s(i){if(n[i])return a[i]=[];if(!(i in a)){a[i]=null;const o=r[i]&&r[i].parent,c=o&&s(o);c&&(a[i]=[o].concat(c))}return a[i]}return(e||Object.keys(n).concat(Object.keys(r))).forEach(s),a}function mN(t,e,n){const r=t.icons,a=t.aliases||Object.create(null);let s={};function i(o){s=dN(r[o]||a[o],s)}return i(e),n.forEach(i),dN(t,s)}function bDe(t,e){if(t.icons[e])return mN(t,e,[]);const n=gDe(t,[e])[e];return n?mN(t,e,n):null}const xDe=/(-?[0-9.]*[0-9]+[0-9.]*)/g,yDe=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function hN(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(xDe);if(r===null||!r.length)return t;const a=[];let s=r.shift(),i=yDe.test(s);for(;;){if(i){const o=parseFloat(s);isNaN(o)?a.push(s):a.push(Math.ceil(o*e*n)/n)}else a.push(s);if(s=r.shift(),s===void 0)return a.join("");i=!i}}function wDe(t,e="defs"){let n="";const r=t.indexOf("<"+e);for(;r>=0;){const a=t.indexOf(">",r),s=t.indexOf("</"+e);if(a===-1||s===-1)break;const i=t.indexOf(">",s);if(i===-1)break;n+=t.slice(a+1,s).trim(),t=t.slice(0,r).trim()+t.slice(i+1)}return{defs:n,content:t}}function vDe(t,e){return t?"<defs>"+t+"</defs>"+e:e}function kDe(t,e,n){const r=wDe(t);return vDe(r.defs,e+r.content+n)}const _De=t=>t==="unset"||t==="undefined"||t==="none";function CDe(t,e){const n={...LW,...t},r={...hDe,...e},a={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(g=>{const x=[],y=g.hFlip,w=g.vFlip;let v=g.rotate;y?w?v+=2:(x.push("translate("+(a.width+a.left).toString()+" "+(0-a.top).toString()+")"),x.push("scale(-1 1)"),a.top=a.left=0):w&&(x.push("translate("+(0-a.left).toString()+" "+(a.height+a.top).toString()+")"),x.push("scale(1 -1)"),a.top=a.left=0);let k;switch(v<0&&(v-=Math.floor(v/4)*4),v=v%4,v){case 1:k=a.height/2+a.top,x.unshift("rotate(90 "+k.toString()+" "+k.toString()+")");break;case 2:x.unshift("rotate(180 "+(a.width/2+a.left).toString()+" "+(a.height/2+a.top).toString()+")");break;case 3:k=a.width/2+a.left,x.unshift("rotate(-90 "+k.toString()+" "+k.toString()+")");break}v%2===1&&(a.left!==a.top&&(k=a.left,a.left=a.top,a.top=k),a.width!==a.height&&(k=a.width,a.width=a.height,a.height=k)),x.length&&(s=kDe(s,'<g transform="'+x.join(" ")+'">',"</g>"))});const i=r.width,o=r.height,c=a.width,u=a.height;let d,m;i===null?(m=o===null?"1em":o==="auto"?u:o,d=hN(m,c/u)):(d=i==="auto"?c:i,m=o===null?hN(d,u/c):o==="auto"?u:o);const h={},p=(g,x)=>{_De(x)||(h[g]=x.toString())};p("width",d),p("height",m);const f=[a.left,a.top,c,u];return h.viewBox=f.join(" "),{attributes:h,viewBox:f,body:s}}const SDe=/\sid="(\S+)"/g,pN=new Map;function jDe(t){t=t.replace(/[0-9]+$/,"")||"a";const e=pN.get(t)||0;return pN.set(t,e+1),e?`${t}${e}`:t}function TDe(t){const e=[];let n;for(;n=SDe.exec(t);)e.push(n[1]);if(!e.length)return t;const r="suffix"+(Math.random()*16777216|Date.now()).toString(16);return e.forEach(a=>{const s=jDe(a),i=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+i+')([")]|\\.[a-z])',"g"),"$1"+s+r+"$3")}),t=t.replace(new RegExp(r,"g"),""),t}function EDe(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}function TS(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var ed=TS();function OW(t){ed=t}var Dp={exec:()=>null};function Xn(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(a,s)=>{let i=typeof s=="string"?s:s.source;return i=i.replace(Ja.caret,"$1"),n=n.replace(a,i),r},getRegex:()=>new RegExp(n,e)};return r}var NDe=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Ja={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},$De=/^(?:[ \t]*(?:\n|$))+/,ADe=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,IDe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,p0=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,RDe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,ES=/(?:[*+-]|\d{1,9}[.)])/,PW=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,FW=Xn(PW).replace(/bull/g,ES).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),MDe=Xn(PW).replace(/bull/g,ES).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),NS=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,DDe=/^[^\n]+/,$S=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,LDe=Xn(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",$S).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ODe=Xn(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ES).getRegex(),c2="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",AS=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,PDe=Xn("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",AS).replace("tag",c2).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),BW=Xn(NS).replace("hr",p0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",c2).getRegex(),FDe=Xn(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",BW).getRegex(),IS={blockquote:FDe,code:ADe,def:LDe,fences:IDe,heading:RDe,hr:p0,html:PDe,lheading:FW,list:ODe,newline:$De,paragraph:BW,table:Dp,text:DDe},fN=Xn("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",p0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",c2).getRegex(),BDe={...IS,lheading:MDe,table:fN,paragraph:Xn(NS).replace("hr",p0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",fN).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",c2).getRegex()},zDe={...IS,html:Xn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",AS).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Dp,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Xn(NS).replace("hr",p0).replace("heading",` *#{1,6} *[^
]`).replace("lheading",FW).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},HDe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,qDe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,zW=/^( {2,}|\\)\n(?!\s*$)/,UDe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,u2=/[\p{P}\p{S}]/u,RS=/[\s\p{P}\p{S}]/u,HW=/[^\s\p{P}\p{S}]/u,WDe=Xn(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,RS).getRegex(),qW=/(?!~)[\p{P}\p{S}]/u,GDe=/(?!~)[\s\p{P}\p{S}]/u,VDe=/(?:[^\s\p{P}\p{S}]|~)/u,KDe=Xn(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",NDe?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),UW=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,YDe=Xn(UW,"u").replace(/punct/g,u2).getRegex(),XDe=Xn(UW,"u").replace(/punct/g,qW).getRegex(),WW="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",ZDe=Xn(WW,"gu").replace(/notPunctSpace/g,HW).replace(/punctSpace/g,RS).replace(/punct/g,u2).getRegex(),QDe=Xn(WW,"gu").replace(/notPunctSpace/g,VDe).replace(/punctSpace/g,GDe).replace(/punct/g,qW).getRegex(),JDe=Xn("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,HW).replace(/punctSpace/g,RS).replace(/punct/g,u2).getRegex(),eLe=Xn(/\\(punct)/,"gu").replace(/punct/g,u2).getRegex(),tLe=Xn(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),nLe=Xn(AS).replace("(?:-->|$)","-->").getRegex(),rLe=Xn("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",nLe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Vb=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,aLe=Xn(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Vb).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),GW=Xn(/^!?\[(label)\]\[(ref)\]/).replace("label",Vb).replace("ref",$S).getRegex(),VW=Xn(/^!?\[(ref)\](?:\[\])?/).replace("ref",$S).getRegex(),sLe=Xn("reflink|nolink(?!\\()","g").replace("reflink",GW).replace("nolink",VW).getRegex(),gN=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,MS={_backpedal:Dp,anyPunctuation:eLe,autolink:tLe,blockSkip:KDe,br:zW,code:qDe,del:Dp,emStrongLDelim:YDe,emStrongRDelimAst:ZDe,emStrongRDelimUnd:JDe,escape:HDe,link:aLe,nolink:VW,punctuation:WDe,reflink:GW,reflinkSearch:sLe,tag:rLe,text:UDe,url:Dp},iLe={...MS,link:Xn(/^!?\[(label)\]\((.*?)\)/).replace("label",Vb).getRegex(),reflink:Xn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Vb).getRegex()},F4={...MS,emStrongRDelimAst:QDe,emStrongLDelim:XDe,url:Xn(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",gN).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Xn(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",gN).getRegex()},oLe={...F4,br:Xn(zW).replace("{2,}","*").getRegex(),text:Xn(F4.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},bg={normal:IS,gfm:BDe,pedantic:zDe},Dh={normal:MS,gfm:F4,breaks:oLe,pedantic:iLe},lLe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bN=t=>lLe[t];function Wi(t,e){if(e){if(Ja.escapeTest.test(t))return t.replace(Ja.escapeReplace,bN)}else if(Ja.escapeTestNoEncode.test(t))return t.replace(Ja.escapeReplaceNoEncode,bN);return t}function xN(t){try{t=encodeURI(t).replace(Ja.percentDecode,"%")}catch{return null}return t}function yN(t,e){let n=t.replace(Ja.findPipe,(s,i,o)=>{let c=!1,u=i;for(;--u>=0&&o[u]==="\\";)c=!c;return c?"|":" |"}),r=n.split(Ja.splitPipe),a=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;a<r.length;a++)r[a]=r[a].trim().replace(Ja.slashPipe,"|");return r}function Lh(t,e,n){let r=t.length;if(r===0)return"";let a=0;for(;a<r&&t.charAt(r-a-1)===e;)a++;return t.slice(0,r-a)}function cLe(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function wN(t,e,n,r,a){let s=e.href,i=e.title||null,o=t[1].replace(a.other.outputLinkReplace,"$1");r.state.inLink=!0;let c={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:i,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,c}function uLe(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let a=r[1];return e.split(`
`).map(s=>{let i=s.match(n.other.beginningSpace);if(i===null)return s;let[o]=i;return o.length>=a.length?s.slice(a.length):s}).join(`
`)}var Kb=class{options;rules;lexer;constructor(e){this.options=e||ed}space(e){let n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){let n=this.rules.block.code.exec(e);if(n){let r=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Lh(r,`
`)}}}fences(e){let n=this.rules.block.fences.exec(e);if(n){let r=n[0],a=uLe(r,n[3]||"",this.rules);return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:a}}}heading(e){let n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(this.rules.other.endingHash.test(r)){let a=Lh(r,"#");(this.options.pedantic||!a||this.rules.other.endingSpaceChar.test(a))&&(r=a.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:Lh(n[0],`
`)}}blockquote(e){let n=this.rules.block.blockquote.exec(e);if(n){let r=Lh(n[0],`
`).split(`
`),a="",s="",i=[];for(;r.length>0;){let o=!1,c=[],u;for(u=0;u<r.length;u++)if(this.rules.other.blockquoteStart.test(r[u]))c.push(r[u]),o=!0;else if(!o)c.push(r[u]);else break;r=r.slice(u);let d=c.join(`
`),m=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");a=a?`${a}
${d}`:d,s=s?`${s}
${m}`:m;let h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(m,i,!0),this.lexer.state.top=h,r.length===0)break;let p=i.at(-1);if(p?.type==="code")break;if(p?.type==="blockquote"){let f=p,g=f.raw+`
`+r.join(`
`),x=this.blockquote(g);i[i.length-1]=x,a=a.substring(0,a.length-f.raw.length)+x.raw,s=s.substring(0,s.length-f.text.length)+x.text;break}else if(p?.type==="list"){let f=p,g=f.raw+`
`+r.join(`
`),x=this.list(g);i[i.length-1]=x,a=a.substring(0,a.length-p.raw.length)+x.raw,s=s.substring(0,s.length-f.raw.length)+x.raw,r=g.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:a,tokens:i,text:s}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim(),a=r.length>1,s={type:"list",raw:"",ordered:a,start:a?+r.slice(0,-1):"",loose:!1,items:[]};r=a?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=a?r:"[*+-]");let i=this.rules.other.listItemRegex(r),o=!1;for(;e;){let u=!1,d="",m="";if(!(n=i.exec(e))||this.rules.block.hr.test(e))break;d=n[0],e=e.substring(d.length);let h=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,w=>" ".repeat(3*w.length)),p=e.split(`
`,1)[0],f=!h.trim(),g=0;if(this.options.pedantic?(g=2,m=h.trimStart()):f?g=n[1].length+1:(g=n[2].search(this.rules.other.nonSpaceChar),g=g>4?1:g,m=h.slice(g),g+=n[1].length),f&&this.rules.other.blankLine.test(p)&&(d+=p+`
`,e=e.substring(p.length+1),u=!0),!u){let w=this.rules.other.nextBulletRegex(g),v=this.rules.other.hrRegex(g),k=this.rules.other.fencesBeginRegex(g),C=this.rules.other.headingBeginRegex(g),_=this.rules.other.htmlBeginRegex(g);for(;e;){let S=e.split(`
`,1)[0],T;if(p=S,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),T=p):T=p.replace(this.rules.other.tabCharGlobal,"    "),k.test(p)||C.test(p)||_.test(p)||w.test(p)||v.test(p))break;if(T.search(this.rules.other.nonSpaceChar)>=g||!p.trim())m+=`
`+T.slice(g);else{if(f||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||k.test(h)||C.test(h)||v.test(h))break;m+=`
`+p}!f&&!p.trim()&&(f=!0),d+=S+`
`,e=e.substring(S.length+1),h=T.slice(g)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(o=!0));let x=null,y;this.options.gfm&&(x=this.rules.other.listIsTask.exec(m),x&&(y=x[0]!=="[ ] ",m=m.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:d,task:!!x,checked:y,loose:!1,text:m,tokens:[]}),s.raw+=d}let c=s.items.at(-1);if(c)c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let u=0;u<s.items.length;u++)if(this.lexer.state.top=!1,s.items[u].tokens=this.lexer.blockTokens(s.items[u].text,[]),!s.loose){let d=s.items[u].tokens.filter(h=>h.type==="space"),m=d.length>0&&d.some(h=>this.rules.other.anyLine.test(h.raw));s.loose=m}if(s.loose)for(let u=0;u<s.items.length;u++)s.items[u].loose=!0;return s}}html(e){let n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){let n=this.rules.block.def.exec(e);if(n){let r=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),a=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:a,title:s}}}table(e){let n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;let r=yN(n[1]),a=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=n[3]?.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===a.length){for(let o of a)this.rules.other.tableAlignRight.test(o)?i.align.push("right"):this.rules.other.tableAlignCenter.test(o)?i.align.push("center"):this.rules.other.tableAlignLeft.test(o)?i.align.push("left"):i.align.push(null);for(let o=0;o<r.length;o++)i.header.push({text:r[o],tokens:this.lexer.inline(r[o]),header:!0,align:i.align[o]});for(let o of s)i.rows.push(yN(o,i.header.length).map((c,u)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:i.align[u]})));return i}}lheading(e){let n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){let n=this.rules.block.paragraph.exec(e);if(n){let r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){let n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(e){let n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){let n=this.rules.inline.link.exec(e);if(n){let r=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let i=Lh(r.slice(0,-1),"\\");if((r.length-i.length)%2===0)return}else{let i=cLe(n[2],"()");if(i===-2)return;if(i>-1){let o=(n[0].indexOf("!")===0?5:4)+n[1].length+i;n[2]=n[2].substring(0,i),n[0]=n[0].substring(0,o).trim(),n[3]=""}}let a=n[2],s="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(a);i&&(a=i[1],s=i[3])}else s=n[3]?n[3].slice(1,-1):"";return a=a.trim(),this.rules.other.startAngleBracket.test(a)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?a=a.slice(1):a=a.slice(1,-1)),wN(n,{href:a&&a.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let a=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=n[a.toLowerCase()];if(!s){let i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return wN(r,s,r[0],this.lexer,this.rules)}}emStrong(e,n,r=""){let a=this.rules.inline.emStrongLDelim.exec(e);if(!(!a||a[3]&&r.match(this.rules.other.unicodeAlphaNumeric))&&(!(a[1]||a[2])||!r||this.rules.inline.punctuation.exec(r))){let s=[...a[0]].length-1,i,o,c=s,u=0,d=a[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,n=n.slice(-1*e.length+s);(a=d.exec(n))!=null;){if(i=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!i)continue;if(o=[...i].length,a[3]||a[4]){c+=o;continue}else if((a[5]||a[6])&&s%3&&!((s+o)%3)){u+=o;continue}if(c-=o,c>0)continue;o=Math.min(o,o+c+u);let m=[...a[0]][0].length,h=e.slice(0,s+a.index+m+o);if(Math.min(s,o)%2){let f=h.slice(1,-1);return{type:"em",raw:h,text:f,tokens:this.lexer.inlineTokens(f)}}let p=h.slice(2,-2);return{type:"strong",raw:h,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(e){let n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(this.rules.other.newLineCharGlobal," "),a=this.rules.other.nonSpaceChar.test(r),s=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return a&&s&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:n[0],text:r}}}br(e){let n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){let n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){let n=this.rules.inline.autolink.exec(e);if(n){let r,a;return n[2]==="@"?(r=n[1],a="mailto:"+r):(r=n[1],a=r),{type:"link",raw:n[0],text:r,href:a,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let n;if(n=this.rules.inline.url.exec(e)){let r,a;if(n[2]==="@")r=n[0],a="mailto:"+r;else{let s;do s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(s!==n[0]);r=n[0],n[1]==="www."?a="http://"+n[0]:a=n[0]}return{type:"link",raw:n[0],text:r,href:a,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){let n=this.rules.inline.text.exec(e);if(n){let r=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:r}}}},xi=class B4{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ed,this.options.tokenizer=this.options.tokenizer||new Kb,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:Ja,block:bg.normal,inline:Dh.normal};this.options.pedantic?(n.block=bg.pedantic,n.inline=Dh.pedantic):this.options.gfm&&(n.block=bg.gfm,this.options.breaks?n.inline=Dh.breaks:n.inline=Dh.gfm),this.tokenizer.rules=n}static get rules(){return{block:bg,inline:Dh}}static lex(e,n){return new B4(n).lex(e)}static lexInline(e,n){return new B4(n).inlineTokens(e)}lex(e){e=e.replace(Ja.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){for(this.options.pedantic&&(e=e.replace(Ja.tabCharGlobal,"    ").replace(Ja.spaceLine,""));e;){let a;if(this.options.extensions?.block?.some(i=>(a=i.call({lexer:this},e,n))?(e=e.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);let i=n.at(-1);a.raw.length===1&&i!==void 0?i.raw+=`
`:n.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);let i=n.at(-1);i?.type==="paragraph"||i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+a.raw,i.text+=`
`+a.text,this.inlineQueue.at(-1).src=i.text):n.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);let i=n.at(-1);i?.type==="paragraph"||i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+a.raw,i.text+=`
`+a.raw,this.inlineQueue.at(-1).src=i.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title},n.push(a));continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),n.push(a);continue}let s=e;if(this.options.extensions?.startBlock){let i=1/0,o=e.slice(1),c;this.options.extensions.startBlock.forEach(u=>{c=u.call({lexer:this},o),typeof c=="number"&&c>=0&&(i=Math.min(i,c))}),i<1/0&&i>=0&&(s=e.substring(0,i+1))}if(this.state.top&&(a=this.tokenizer.paragraph(s))){let i=n.at(-1);r&&i?.type==="paragraph"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+a.raw,i.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):n.push(a),r=s.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);let i=n.at(-1);i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+a.raw,i.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):n.push(a);continue}if(e){let i="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(i);break}else throw new Error(i)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r=e,a=null;if(this.tokens.links){let c=Object.keys(this.tokens.links);if(c.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)c.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,a.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(a=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)s=a[2]?a[2].length:0,r=r.slice(0,a.index+s)+"["+"a".repeat(a[0].length-s-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=this.options.hooks?.emStrongMask?.call({lexer:this},r)??r;let i=!1,o="";for(;e;){i||(o=""),i=!1;let c;if(this.options.extensions?.inline?.some(d=>(c=d.call({lexer:this},e,n))?(e=e.substring(c.raw.length),n.push(c),!0):!1))continue;if(c=this.tokenizer.escape(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.tag(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.link(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(c.raw.length);let d=n.at(-1);c.type==="text"&&d?.type==="text"?(d.raw+=c.raw,d.text+=c.text):n.push(c);continue}if(c=this.tokenizer.emStrong(e,r,o)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.codespan(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.br(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.del(e)){e=e.substring(c.raw.length),n.push(c);continue}if(c=this.tokenizer.autolink(e)){e=e.substring(c.raw.length),n.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(e))){e=e.substring(c.raw.length),n.push(c);continue}let u=e;if(this.options.extensions?.startInline){let d=1/0,m=e.slice(1),h;this.options.extensions.startInline.forEach(p=>{h=p.call({lexer:this},m),typeof h=="number"&&h>=0&&(d=Math.min(d,h))}),d<1/0&&d>=0&&(u=e.substring(0,d+1))}if(c=this.tokenizer.inlineText(u)){e=e.substring(c.raw.length),c.raw.slice(-1)!=="_"&&(o=c.raw.slice(-1)),i=!0;let d=n.at(-1);d?.type==="text"?(d.raw+=c.raw,d.text+=c.text):n.push(c);continue}if(e){let d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return n}},Yb=class{options;parser;constructor(e){this.options=e||ed}space(e){return""}code({text:e,lang:n,escaped:r}){let a=(n||"").match(Ja.notSpaceStart)?.[0],s=e.replace(Ja.endingNewline,"")+`
`;return a?'<pre><code class="language-'+Wi(a)+'">'+(r?s:Wi(s,!0))+`</code></pre>
`:"<pre><code>"+(r?s:Wi(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){let n=e.ordered,r=e.start,a="";for(let o=0;o<e.items.length;o++){let c=e.items[o];a+=this.listitem(c)}let s=n?"ol":"ul",i=n&&r!==1?' start="'+r+'"':"";return"<"+s+i+`>
`+a+"</"+s+`>
`}listitem(e){let n="";if(e.task){let r=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+Wi(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):n+=r+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",r="";for(let s=0;s<e.header.length;s++)r+=this.tablecell(e.header[s]);n+=this.tablerow({text:r});let a="";for(let s=0;s<e.rows.length;s++){let i=e.rows[s];r="";for(let o=0;o<i.length;o++)r+=this.tablecell(i[o]);a+=this.tablerow({text:r})}return a&&(a=`<tbody>${a}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+a+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let n=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Wi(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:r}){let a=this.parser.parseInline(r),s=xN(e);if(s===null)return a;e=s;let i='<a href="'+e+'"';return n&&(i+=' title="'+Wi(n)+'"'),i+=">"+a+"</a>",i}image({href:e,title:n,text:r,tokens:a}){a&&(r=this.parser.parseInline(a,this.parser.textRenderer));let s=xN(e);if(s===null)return Wi(r);e=s;let i=`<img src="${e}" alt="${r}"`;return n&&(i+=` title="${Wi(n)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Wi(e.text)}},DS=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},yi=class z4{options;renderer;textRenderer;constructor(e){this.options=e||ed,this.options.renderer=this.options.renderer||new Yb,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new DS}static parse(e,n){return new z4(n).parse(e)}static parseInline(e,n){return new z4(n).parseInline(e)}parse(e,n=!0){let r="";for(let a=0;a<e.length;a++){let s=e[a];if(this.options.extensions?.renderers?.[s.type]){let o=s,c=this.options.extensions.renderers[o.type].call({parser:this},o);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(o.type)){r+=c||"";continue}}let i=s;switch(i.type){case"space":{r+=this.renderer.space(i);continue}case"hr":{r+=this.renderer.hr(i);continue}case"heading":{r+=this.renderer.heading(i);continue}case"code":{r+=this.renderer.code(i);continue}case"table":{r+=this.renderer.table(i);continue}case"blockquote":{r+=this.renderer.blockquote(i);continue}case"list":{r+=this.renderer.list(i);continue}case"html":{r+=this.renderer.html(i);continue}case"def":{r+=this.renderer.def(i);continue}case"paragraph":{r+=this.renderer.paragraph(i);continue}case"text":{let o=i,c=this.renderer.text(o);for(;a+1<e.length&&e[a+1].type==="text";)o=e[++a],c+=`
`+this.renderer.text(o);n?r+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c,escaped:!0}]}):r+=c;continue}default:{let o='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}parseInline(e,n=this.renderer){let r="";for(let a=0;a<e.length;a++){let s=e[a];if(this.options.extensions?.renderers?.[s.type]){let o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=o||"";continue}}let i=s;switch(i.type){case"escape":{r+=n.text(i);break}case"html":{r+=n.html(i);break}case"link":{r+=n.link(i);break}case"image":{r+=n.image(i);break}case"strong":{r+=n.strong(i);break}case"em":{r+=n.em(i);break}case"codespan":{r+=n.codespan(i);break}case"br":{r+=n.br(i);break}case"del":{r+=n.del(i);break}case"text":{r+=n.text(i);break}default:{let o='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}},ip=class{options;block;constructor(e){this.options=e||ed}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?xi.lex:xi.lexInline}provideParser(){return this.block?yi.parse:yi.parseInline}},dLe=class{defaults=TS();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=yi;Renderer=Yb;TextRenderer=DS;Lexer=xi;Tokenizer=Kb;Hooks=ip;constructor(...e){this.use(...e)}walkTokens(e,n){let r=[];for(let a of e)switch(r=r.concat(n.call(this,a)),a.type){case"table":{let s=a;for(let i of s.header)r=r.concat(this.walkTokens(i.tokens,n));for(let i of s.rows)for(let o of i)r=r.concat(this.walkTokens(o.tokens,n));break}case"list":{let s=a;r=r.concat(this.walkTokens(s.items,n));break}default:{let s=a;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(i=>{let o=s[i].flat(1/0);r=r.concat(this.walkTokens(o,n))}):s.tokens&&(r=r.concat(this.walkTokens(s.tokens,n)))}}return r}use(...e){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let a={...r};if(a.async=this.defaults.async||a.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let i=n.renderers[s.name];i?n.renderers[s.name]=function(...o){let c=s.renderer.apply(this,o);return c===!1&&(c=i.apply(this,o)),c}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=n[s.level];i?i.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),a.extensions=n),r.renderer){let s=this.defaults.renderer||new Yb(this.defaults);for(let i in r.renderer){if(!(i in s))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let o=i,c=r.renderer[o],u=s[o];s[o]=(...d)=>{let m=c.apply(s,d);return m===!1&&(m=u.apply(s,d)),m||""}}a.renderer=s}if(r.tokenizer){let s=this.defaults.tokenizer||new Kb(this.defaults);for(let i in r.tokenizer){if(!(i in s))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let o=i,c=r.tokenizer[o],u=s[o];s[o]=(...d)=>{let m=c.apply(s,d);return m===!1&&(m=u.apply(s,d)),m}}a.tokenizer=s}if(r.hooks){let s=this.defaults.hooks||new ip;for(let i in r.hooks){if(!(i in s))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let o=i,c=r.hooks[o],u=s[o];ip.passThroughHooks.has(i)?s[o]=d=>{if(this.defaults.async&&ip.passThroughHooksRespectAsync.has(i))return(async()=>{let h=await c.call(s,d);return u.call(s,h)})();let m=c.call(s,d);return u.call(s,m)}:s[o]=(...d)=>{if(this.defaults.async)return(async()=>{let h=await c.apply(s,d);return h===!1&&(h=await u.apply(s,d)),h})();let m=c.apply(s,d);return m===!1&&(m=u.apply(s,d)),m}}a.hooks=s}if(r.walkTokens){let s=this.defaults.walkTokens,i=r.walkTokens;a.walkTokens=function(o){let c=[];return c.push(i.call(this,o)),s&&(c=c.concat(s.call(this,o))),c}}this.defaults={...this.defaults,...a}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return xi.lex(e,n??this.defaults)}parser(e,n){return yi.parse(e,n??this.defaults)}parseMarkdown(e){return(n,r)=>{let a={...r},s={...this.defaults,...a},i=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&a.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=e),s.async)return(async()=>{let o=s.hooks?await s.hooks.preprocess(n):n,c=await(s.hooks?await s.hooks.provideLexer():e?xi.lex:xi.lexInline)(o,s),u=s.hooks?await s.hooks.processAllTokens(c):c;s.walkTokens&&await Promise.all(this.walkTokens(u,s.walkTokens));let d=await(s.hooks?await s.hooks.provideParser():e?yi.parse:yi.parseInline)(u,s);return s.hooks?await s.hooks.postprocess(d):d})().catch(i);try{s.hooks&&(n=s.hooks.preprocess(n));let o=(s.hooks?s.hooks.provideLexer():e?xi.lex:xi.lexInline)(n,s);s.hooks&&(o=s.hooks.processAllTokens(o)),s.walkTokens&&this.walkTokens(o,s.walkTokens);let c=(s.hooks?s.hooks.provideParser():e?yi.parse:yi.parseInline)(o,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(o){return i(o)}}}onError(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let a="<p>An error occurred:</p><pre>"+Wi(r.message+"",!0)+"</pre>";return n?Promise.resolve(a):a}if(n)return Promise.reject(r);throw r}}},$u=new dLe;function tr(t,e){return $u.parse(t,e)}tr.options=tr.setOptions=function(t){return $u.setOptions(t),tr.defaults=$u.defaults,OW(tr.defaults),tr};tr.getDefaults=TS;tr.defaults=ed;tr.use=function(...t){return $u.use(...t),tr.defaults=$u.defaults,OW(tr.defaults),tr};tr.walkTokens=function(t,e){return $u.walkTokens(t,e)};tr.parseInline=$u.parseInline;tr.Parser=yi;tr.parser=yi.parse;tr.Renderer=Yb;tr.TextRenderer=DS;tr.Lexer=xi;tr.lexer=xi.lex;tr.Tokenizer=Kb;tr.Hooks=ip;tr.parse=tr;tr.options;tr.setOptions;tr.use;tr.walkTokens;tr.parseInline;yi.parse;xi.lex;function KW(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.from(typeof t=="string"?[t]:t);r[r.length-1]=r[r.length-1].replace(/\r?\n([\t ]*)$/,"");var a=r.reduce(function(o,c){var u=c.match(/\n([\t ]+|(?!\s).)/g);return u?o.concat(u.map(function(d){var m,h;return(h=(m=d.match(/[\t ]/g))===null||m===void 0?void 0:m.length)!==null&&h!==void 0?h:0})):o},[]);if(a.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,a)+"}","g");r=r.map(function(o){return o.replace(s,`
`)})}r[0]=r[0].replace(/^\r?\n/,"");var i=r[0];return e.forEach(function(o,c){var u=i.match(/(?:^|\n)( *)$/),d=u?u[1]:"",m=o;typeof o=="string"&&o.includes(`
`)&&(m=String(o).split(`
`).map(function(h,p){return p===0?h:""+d+h}).join(`
`)),i+=m+r[c+1]}),i}var mLe={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},H4=new Map,YW=new Map,hLe=X(t=>{for(const e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(ut.debug("Registering icon pack:",e.name),"loader"in e)YW.set(e.name,e.loader);else if("icons"in e)H4.set(e.name,e.icons);else throw ut.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),XW=X(async(t,e)=>{const n=pDe(t,!0,e!==void 0);if(!n)throw new Error(`Invalid icon name: ${t}`);const r=n.prefix||e;if(!r)throw new Error(`Icon name must contain a prefix: ${t}`);let a=H4.get(r);if(!a){const i=YW.get(r);if(!i)throw new Error(`Icon set not found: ${n.prefix}`);try{a={...await i(),prefix:r},H4.set(r,a)}catch(o){throw ut.error(o),new Error(`Failed to load icon set: ${n.prefix}`)}}const s=bDe(a,n.name);if(!s)throw new Error(`Icon not found: ${t}`);return s},"getRegisteredIconData"),pLe=X(async t=>{try{return await XW(t),!0}catch{return!1}},"isIconAvailable"),f0=X(async(t,e,n)=>{let r;try{r=await XW(t,e?.fallbackPrefix)}catch(i){ut.error(i),r=mLe}const a=CDe(r,e),s=EDe(TDe(a.body),{...a.attributes,...n});return ii(s,La())},"getIconSVG");function ZW(t,{markdownAutoWrap:e}){const r=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),a=KW(r);return e===!1?a.replace(/ /g,"&nbsp;"):a}X(ZW,"preprocessMarkdown");function QW(t,e={}){const n=ZW(t,e),r=tr.lexer(n),a=[[]];let s=0;function i(o,c="normal"){o.type==="text"?o.text.split(`
`).forEach((d,m)=>{m!==0&&(s++,a.push([])),d.split(" ").forEach(h=>{h=h.replace(/&#39;/g,"'"),h&&a[s].push({content:h,type:c})})}):o.type==="strong"||o.type==="em"?o.tokens.forEach(u=>{i(u,o.type)}):o.type==="html"&&a[s].push({content:o.text,type:"normal"})}return X(i,"processNode"),r.forEach(o=>{o.type==="paragraph"?o.tokens?.forEach(c=>{i(c)}):o.type==="html"?a[s].push({content:o.text,type:"normal"}):a[s].push({content:o.raw,type:"normal"})}),a}X(QW,"markdownToLines");function JW(t,{markdownAutoWrap:e}={}){const n=tr.lexer(t);function r(a){return a.type==="text"?e===!1?a.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):a.text.replace(/\n */g,"<br/>"):a.type==="strong"?`<strong>${a.tokens?.map(r).join("")}</strong>`:a.type==="em"?`<em>${a.tokens?.map(r).join("")}</em>`:a.type==="paragraph"?`<p>${a.tokens?.map(r).join("")}</p>`:a.type==="space"?"":a.type==="html"?`${a.text}`:a.type==="escape"?a.text:(ut.warn(`Unsupported markdown: ${a.type}`),a.raw)}return X(r,"output"),n.map(r).join("")}X(JW,"markdownToHTML");function eG(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}X(eG,"splitTextToChars");function tG(t,e){const n=eG(e.content);return LS(t,[],n,e.type)}X(tG,"splitWordToFitWidth");function LS(t,e,n,r){if(n.length===0)return[{content:e.join(""),type:r},{content:"",type:r}];const[a,...s]=n,i=[...e,a];return t([{content:i.join(""),type:r}])?LS(t,i,s,r):(e.length===0&&a&&(e.push(a),n.shift()),[{content:e.join(""),type:r},{content:n.join(""),type:r}])}X(LS,"splitWordToFitWidthRecursion");function nG(t,e){if(t.some(({content:n})=>n.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return Xb(t,e)}X(nG,"splitLineToFitWidth");function Xb(t,e,n=[],r=[]){if(t.length===0)return r.length>0&&n.push(r),n.length>0?n:[];let a="";t[0].content===" "&&(a=" ",t.shift());const s=t.shift()??{content:" ",type:"normal"},i=[...r];if(a!==""&&i.push({content:a,type:"normal"}),i.push(s),e(i))return Xb(t,e,n,i);if(r.length>0)n.push(r),t.unshift(s);else if(s.content){const[o,c]=tG(e,s);n.push([o]),c.content&&t.unshift(c)}return Xb(t,e,n)}X(Xb,"splitLineToFitWidthRecursion");function q4(t,e){e&&t.attr("style",e)}X(q4,"applyStyle");async function rG(t,e,n,r,a=!1,s=La()){const i=t.append("foreignObject");i.attr("width",`${10*n}px`),i.attr("height",`${10*n}px`);const o=i.append("xhtml:div"),c=Am(e.label)?await W6(e.label.replace(uh.lineBreakRegex,`
`),s):ii(e.label,s),u=e.isNode?"nodeLabel":"edgeLabel",d=o.append("span");d.html(c),q4(d,e.labelStyle),d.attr("class",`${u} ${r}`),q4(o,e.labelStyle),o.style("display","table-cell"),o.style("white-space","nowrap"),o.style("line-height","1.5"),o.style("max-width",n+"px"),o.style("text-align","center"),o.attr("xmlns","http://www.w3.org/1999/xhtml"),a&&o.attr("class","labelBkg");let m=o.node().getBoundingClientRect();return m.width===n&&(o.style("display","table"),o.style("white-space","break-spaces"),o.style("width",n+"px"),m=o.node().getBoundingClientRect()),i.node()}X(rG,"addHtmlSpan");function d2(t,e,n){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*n-.1+"em").attr("dy",n+"em")}X(d2,"createTspan");function aG(t,e,n){const r=t.append("text"),a=d2(r,1,e);m2(a,n);const s=a.node().getComputedTextLength();return r.remove(),s}X(aG,"computeWidthOfText");function fLe(t,e,n){const r=t.append("text"),a=d2(r,1,e);m2(a,[{content:n,type:"normal"}]);const s=a.node()?.getBoundingClientRect();return s&&r.remove(),s}X(fLe,"computeDimensionOfText");function sG(t,e,n,r=!1){const s=e.append("g"),i=s.insert("rect").attr("class","background").attr("style","stroke: none"),o=s.append("text").attr("y","-10.1");let c=0;for(const u of n){const d=X(h=>aG(s,1.1,h)<=t,"checkWidth"),m=d(u)?[u]:nG(u,d);for(const h of m){const p=d2(o,c,1.1);m2(p,h),c++}}if(r){const u=o.node().getBBox(),d=2;return i.attr("x",u.x-d).attr("y",u.y-d).attr("width",u.width+2*d).attr("height",u.height+2*d),s.node()}else return o.node()}X(sG,"createFormattedText");function m2(t,e){t.text(""),e.forEach((n,r)=>{const a=t.append("tspan").attr("font-style",n.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",n.type==="strong"?"bold":"normal");r===0?a.text(n.content):a.text(" "+n.content)})}X(m2,"updateTextContentAndStyles");async function iG(t,e={}){const n=[];t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(a,s,i)=>(n.push((async()=>{const o=`${s}:${i}`;return await pLe(o)?await f0(o,void 0,{class:"label-icon"}):`<i class='${ii(a,e).replace(":"," ")}'></i>`})()),a));const r=await Promise.all(n);return t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>r.shift()??"")}X(iG,"replaceIconSubstring");var _c=X(async(t,e="",{style:n="",isTitle:r=!1,classes:a="",useHtmlLabels:s=!0,isNode:i=!0,width:o=200,addSvgBackground:c=!1}={},u)=>{if(ut.debug("XYZ createText",e,n,r,a,s,i,"addSvgBackground: ",c),s){const d=JW(e,u),m=await iG(Ju(d),u),h=e.replace(/\\\\/g,"\\"),p={isNode:i,label:Am(e)?h:m,labelStyle:n.replace("fill:","color:")};return await rG(t,p,o,a,c,u)}else{const d=e.replace(/<br\s*\/?>/g,"<br/>"),m=QW(d.replace("<br>","<br/>"),u),h=sG(o,t,m,e?c:!1);if(i){/stroke:/.exec(n)&&(n=n.replace("stroke:","lineColor:"));const p=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");qn(h).attr("style",p)}else{const p=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");qn(h).select("rect").attr("style",p.replace(/background:/g,"fill:"));const f=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");qn(h).select("text").attr("style",f)}return h}},"createText");function Rv(t,e,n){if(t&&t.length){const[r,a]=e,s=Math.PI/180*n,i=Math.cos(s),o=Math.sin(s);for(const c of t){const[u,d]=c;c[0]=(u-r)*i-(d-a)*o+r,c[1]=(u-r)*o+(d-a)*i+a}}}function gLe(t,e){return t[0]===e[0]&&t[1]===e[1]}function bLe(t,e,n,r=1){const a=n,s=Math.max(e,.1),i=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,o=[0,0];if(a)for(const u of i)Rv(u,o,a);const c=(function(u,d,m){const h=[];for(const w of u){const v=[...w];gLe(v[0],v[v.length-1])||v.push([v[0][0],v[0][1]]),v.length>2&&h.push(v)}const p=[];d=Math.max(d,.1);const f=[];for(const w of h)for(let v=0;v<w.length-1;v++){const k=w[v],C=w[v+1];if(k[1]!==C[1]){const _=Math.min(k[1],C[1]);f.push({ymin:_,ymax:Math.max(k[1],C[1]),x:_===k[1]?k[0]:C[0],islope:(C[0]-k[0])/(C[1]-k[1])})}}if(f.sort(((w,v)=>w.ymin<v.ymin?-1:w.ymin>v.ymin?1:w.x<v.x?-1:w.x>v.x?1:w.ymax===v.ymax?0:(w.ymax-v.ymax)/Math.abs(w.ymax-v.ymax))),!f.length)return p;let g=[],x=f[0].ymin,y=0;for(;g.length||f.length;){if(f.length){let w=-1;for(let v=0;v<f.length&&!(f[v].ymin>x);v++)w=v;f.splice(0,w+1).forEach((v=>{g.push({s:x,edge:v})}))}if(g=g.filter((w=>!(w.edge.ymax<=x))),g.sort(((w,v)=>w.edge.x===v.edge.x?0:(w.edge.x-v.edge.x)/Math.abs(w.edge.x-v.edge.x))),(m!==1||y%d==0)&&g.length>1)for(let w=0;w<g.length;w+=2){const v=w+1;if(v>=g.length)break;const k=g[w].edge,C=g[v].edge;p.push([[Math.round(k.x),x],[Math.round(C.x),x]])}x+=m,g.forEach((w=>{w.edge.x=w.edge.x+m*w.edge.islope})),y++}return p})(i,s,r);if(a){for(const u of i)Rv(u,o,-a);(function(u,d,m){const h=[];u.forEach((p=>h.push(...p))),Rv(h,d,m)})(c,o,-a)}return c}function g0(t,e){var n;const r=e.hachureAngle+90;let a=e.hachureGap;a<0&&(a=4*e.strokeWidth),a=Math.round(Math.max(a,.1));let s=1;return e.roughness>=1&&(((n=e.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(s=a),bLe(t,a,r,s||1)}class OS{constructor(e){this.helper=e}fillPolygons(e,n){return this._fillPolygons(e,n)}_fillPolygons(e,n){const r=g0(e,n);return{type:"fillSketch",ops:this.renderLines(r,n)}}renderLines(e,n){const r=[];for(const a of e)r.push(...this.helper.doubleLineOps(a[0][0],a[0][1],a[1][0],a[1][1],n));return r}}function h2(t){const e=t[0],n=t[1];return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}class xLe extends OS{fillPolygons(e,n){let r=n.hachureGap;r<0&&(r=4*n.strokeWidth),r=Math.max(r,.1);const a=g0(e,Object.assign({},n,{hachureGap:r})),s=Math.PI/180*n.hachureAngle,i=[],o=.5*r*Math.cos(s),c=.5*r*Math.sin(s);for(const[u,d]of a)h2([u,d])&&i.push([[u[0]-o,u[1]+c],[...d]],[[u[0]+o,u[1]-c],[...d]]);return{type:"fillSketch",ops:this.renderLines(i,n)}}}class yLe extends OS{fillPolygons(e,n){const r=this._fillPolygons(e,n),a=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),s=this._fillPolygons(e,a);return r.ops=r.ops.concat(s.ops),r}}class wLe{constructor(e){this.helper=e}fillPolygons(e,n){const r=g0(e,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(r,n)}dotsOnLines(e,n){const r=[];let a=n.hachureGap;a<0&&(a=4*n.strokeWidth),a=Math.max(a,.1);let s=n.fillWeight;s<0&&(s=n.strokeWidth/2);const i=a/4;for(const o of e){const c=h2(o),u=c/a,d=Math.ceil(u)-1,m=c-d*a,h=(o[0][0]+o[1][0])/2-a/4,p=Math.min(o[0][1],o[1][1]);for(let f=0;f<d;f++){const g=p+m+f*a,x=h-i+2*Math.random()*i,y=g-i+2*Math.random()*i,w=this.helper.ellipse(x,y,s,s,n);r.push(...w.ops)}}return{type:"fillSketch",ops:r}}}class vLe{constructor(e){this.helper=e}fillPolygons(e,n){const r=g0(e,n);return{type:"fillSketch",ops:this.dashedLine(r,n)}}dashedLine(e,n){const r=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,a=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,s=[];return e.forEach((i=>{const o=h2(i),c=Math.floor(o/(r+a)),u=(o+a-c*(r+a))/2;let d=i[0],m=i[1];d[0]>m[0]&&(d=i[1],m=i[0]);const h=Math.atan((m[1]-d[1])/(m[0]-d[0]));for(let p=0;p<c;p++){const f=p*(r+a),g=f+r,x=[d[0]+f*Math.cos(h)+u*Math.cos(h),d[1]+f*Math.sin(h)+u*Math.sin(h)],y=[d[0]+g*Math.cos(h)+u*Math.cos(h),d[1]+g*Math.sin(h)+u*Math.sin(h)];s.push(...this.helper.doubleLineOps(x[0],x[1],y[0],y[1],n))}})),s}}class kLe{constructor(e){this.helper=e}fillPolygons(e,n){const r=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,a=n.zigzagOffset<0?r:n.zigzagOffset,s=g0(e,n=Object.assign({},n,{hachureGap:r+a}));return{type:"fillSketch",ops:this.zigzagLines(s,a,n)}}zigzagLines(e,n,r){const a=[];return e.forEach((s=>{const i=h2(s),o=Math.round(i/(2*n));let c=s[0],u=s[1];c[0]>u[0]&&(c=s[1],u=s[0]);const d=Math.atan((u[1]-c[1])/(u[0]-c[0]));for(let m=0;m<o;m++){const h=2*m*n,p=2*(m+1)*n,f=Math.sqrt(2*Math.pow(n,2)),g=[c[0]+h*Math.cos(d),c[1]+h*Math.sin(d)],x=[c[0]+p*Math.cos(d),c[1]+p*Math.sin(d)],y=[g[0]+f*Math.cos(d+Math.PI/4),g[1]+f*Math.sin(d+Math.PI/4)];a.push(...this.helper.doubleLineOps(g[0],g[1],y[0],y[1],r),...this.helper.doubleLineOps(y[0],y[1],x[0],x[1],r))}})),a}}const cs={};let _Le=class{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}};const CLe=0,Mv=1,vN=2,xg={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Dv(t,e){return t.type===e}function PS(t){const e=[],n=(function(i){const o=new Array;for(;i!=="";)if(i.match(/^([ \t\r\n,]+)/))i=i.substr(RegExp.$1.length);else if(i.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:CLe,text:RegExp.$1},i=i.substr(RegExp.$1.length);else{if(!i.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:Mv,text:`${parseFloat(RegExp.$1)}`},i=i.substr(RegExp.$1.length)}return o[o.length]={type:vN,text:""},o})(t);let r="BOD",a=0,s=n[a];for(;!Dv(s,vN);){let i=0;const o=[];if(r==="BOD"){if(s.text!=="M"&&s.text!=="m")return PS("M0,0"+t);a++,i=xg[s.text],r=s.text}else Dv(s,Mv)?i=xg[r]:(a++,i=xg[s.text],r=s.text);if(!(a+i<n.length))throw new Error("Path data ended short");for(let c=a;c<a+i;c++){const u=n[c];if(!Dv(u,Mv))throw new Error("Param not a number: "+r+","+u.text);o[o.length]=+u.text}if(typeof xg[r]!="number")throw new Error("Bad segment: "+r);{const c={key:r,data:o};e.push(c),a+=i,s=n[a],r==="M"&&(r="L"),r==="m"&&(r="l")}}return e}function oG(t){let e=0,n=0,r=0,a=0;const s=[];for(const{key:i,data:o}of t)switch(i){case"M":s.push({key:"M",data:[...o]}),[e,n]=o,[r,a]=o;break;case"m":e+=o[0],n+=o[1],s.push({key:"M",data:[e,n]}),r=e,a=n;break;case"L":s.push({key:"L",data:[...o]}),[e,n]=o;break;case"l":e+=o[0],n+=o[1],s.push({key:"L",data:[e,n]});break;case"C":s.push({key:"C",data:[...o]}),e=o[4],n=o[5];break;case"c":{const c=o.map(((u,d)=>d%2?u+n:u+e));s.push({key:"C",data:c}),e=c[4],n=c[5];break}case"Q":s.push({key:"Q",data:[...o]}),e=o[2],n=o[3];break;case"q":{const c=o.map(((u,d)=>d%2?u+n:u+e));s.push({key:"Q",data:c}),e=c[2],n=c[3];break}case"A":s.push({key:"A",data:[...o]}),e=o[5],n=o[6];break;case"a":e+=o[5],n+=o[6],s.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],e,n]});break;case"H":s.push({key:"H",data:[...o]}),e=o[0];break;case"h":e+=o[0],s.push({key:"H",data:[e]});break;case"V":s.push({key:"V",data:[...o]}),n=o[0];break;case"v":n+=o[0],s.push({key:"V",data:[n]});break;case"S":s.push({key:"S",data:[...o]}),e=o[2],n=o[3];break;case"s":{const c=o.map(((u,d)=>d%2?u+n:u+e));s.push({key:"S",data:c}),e=c[2],n=c[3];break}case"T":s.push({key:"T",data:[...o]}),e=o[0],n=o[1];break;case"t":e+=o[0],n+=o[1],s.push({key:"T",data:[e,n]});break;case"Z":case"z":s.push({key:"Z",data:[]}),e=r,n=a}return s}function lG(t){const e=[];let n="",r=0,a=0,s=0,i=0,o=0,c=0;for(const{key:u,data:d}of t){switch(u){case"M":e.push({key:"M",data:[...d]}),[r,a]=d,[s,i]=d;break;case"C":e.push({key:"C",data:[...d]}),r=d[4],a=d[5],o=d[2],c=d[3];break;case"L":e.push({key:"L",data:[...d]}),[r,a]=d;break;case"H":r=d[0],e.push({key:"L",data:[r,a]});break;case"V":a=d[0],e.push({key:"L",data:[r,a]});break;case"S":{let m=0,h=0;n==="C"||n==="S"?(m=r+(r-o),h=a+(a-c)):(m=r,h=a),e.push({key:"C",data:[m,h,...d]}),o=d[0],c=d[1],r=d[2],a=d[3];break}case"T":{const[m,h]=d;let p=0,f=0;n==="Q"||n==="T"?(p=r+(r-o),f=a+(a-c)):(p=r,f=a);const g=r+2*(p-r)/3,x=a+2*(f-a)/3,y=m+2*(p-m)/3,w=h+2*(f-h)/3;e.push({key:"C",data:[g,x,y,w,m,h]}),o=p,c=f,r=m,a=h;break}case"Q":{const[m,h,p,f]=d,g=r+2*(m-r)/3,x=a+2*(h-a)/3,y=p+2*(m-p)/3,w=f+2*(h-f)/3;e.push({key:"C",data:[g,x,y,w,p,f]}),o=m,c=h,r=p,a=f;break}case"A":{const m=Math.abs(d[0]),h=Math.abs(d[1]),p=d[2],f=d[3],g=d[4],x=d[5],y=d[6];m===0||h===0?(e.push({key:"C",data:[r,a,x,y,x,y]}),r=x,a=y):(r!==x||a!==y)&&(cG(r,a,x,y,m,h,p,f,g).forEach((function(w){e.push({key:"C",data:w})})),r=x,a=y);break}case"Z":e.push({key:"Z",data:[]}),r=s,a=i}n=u}return e}function Oh(t,e,n){return[t*Math.cos(n)-e*Math.sin(n),t*Math.sin(n)+e*Math.cos(n)]}function cG(t,e,n,r,a,s,i,o,c,u){const d=(m=i,Math.PI*m/180);var m;let h=[],p=0,f=0,g=0,x=0;if(u)[p,f,g,x]=u;else{[t,e]=Oh(t,e,-d),[n,r]=Oh(n,r,-d);const A=(t-n)/2,$=(e-r)/2;let E=A*A/(a*a)+$*$/(s*s);E>1&&(E=Math.sqrt(E),a*=E,s*=E);const M=a*a,F=s*s,L=M*F-M*$*$-F*A*A,Y=M*$*$+F*A*A,O=(o===c?-1:1)*Math.sqrt(Math.abs(L/Y));g=O*a*$/s+(t+n)/2,x=O*-s*A/a+(e+r)/2,p=Math.asin(parseFloat(((e-x)/s).toFixed(9))),f=Math.asin(parseFloat(((r-x)/s).toFixed(9))),t<g&&(p=Math.PI-p),n<g&&(f=Math.PI-f),p<0&&(p=2*Math.PI+p),f<0&&(f=2*Math.PI+f),c&&p>f&&(p-=2*Math.PI),!c&&f>p&&(f-=2*Math.PI)}let y=f-p;if(Math.abs(y)>120*Math.PI/180){const A=f,$=n,E=r;f=c&&f>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,h=cG(n=g+a*Math.cos(f),r=x+s*Math.sin(f),$,E,a,s,i,0,c,[f,A,g,x])}y=f-p;const w=Math.cos(p),v=Math.sin(p),k=Math.cos(f),C=Math.sin(f),_=Math.tan(y/4),S=4/3*a*_,T=4/3*s*_,N=[t,e],j=[t+S*v,e-T*w],R=[n+S*C,r-T*k],I=[n,r];if(j[0]=2*N[0]-j[0],j[1]=2*N[1]-j[1],u)return[j,R,I].concat(h);{h=[j,R,I].concat(h);const A=[];for(let $=0;$<h.length;$+=3){const E=Oh(h[$][0],h[$][1],d),M=Oh(h[$+1][0],h[$+1][1],d),F=Oh(h[$+2][0],h[$+2][1],d);A.push([E[0],E[1],M[0],M[1],F[0],F[1]])}return A}}const SLe={randOffset:function(t,e){return gn(t,e)},randOffsetWithRange:function(t,e,n){return Zb(t,e,n)},ellipse:function(t,e,n,r,a){const s=dG(n,r,a);return U4(t,e,a,s).opset},doubleLineOps:function(t,e,n,r,a){return sc(t,e,n,r,a,!0)}};function uG(t,e,n,r,a){return{type:"path",ops:sc(t,e,n,r,a)}}function s1(t,e,n){const r=(t||[]).length;if(r>2){const a=[];for(let s=0;s<r-1;s++)a.push(...sc(t[s][0],t[s][1],t[s+1][0],t[s+1][1],n));return e&&a.push(...sc(t[r-1][0],t[r-1][1],t[0][0],t[0][1],n)),{type:"path",ops:a}}return r===2?uG(t[0][0],t[0][1],t[1][0],t[1][1],n):{type:"path",ops:[]}}function jLe(t,e,n,r,a){return(function(s,i){return s1(s,!0,i)})([[t,e],[t+n,e],[t+n,e+r],[t,e+r]],a)}function kN(t,e){if(t.length){const n=typeof t[0][0]=="number"?[t]:t,r=yg(n[0],1*(1+.2*e.roughness),e),a=e.disableMultiStroke?[]:yg(n[0],1.5*(1+.22*e.roughness),SN(e));for(let s=1;s<n.length;s++){const i=n[s];if(i.length){const o=yg(i,1*(1+.2*e.roughness),e),c=e.disableMultiStroke?[]:yg(i,1.5*(1+.22*e.roughness),SN(e));for(const u of o)u.op!=="move"&&r.push(u);for(const u of c)u.op!=="move"&&a.push(u)}}return{type:"path",ops:r.concat(a)}}return{type:"path",ops:[]}}function dG(t,e,n){const r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),a=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),s=2*Math.PI/a;let i=Math.abs(t/2),o=Math.abs(e/2);const c=1-n.curveFitting;return i+=gn(i*c,n),o+=gn(o*c,n),{increment:s,rx:i,ry:o}}function U4(t,e,n,r){const[a,s]=jN(r.increment,t,e,r.rx,r.ry,1,r.increment*Zb(.1,Zb(.4,1,n),n),n);let i=Qb(a,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[o]=jN(r.increment,t,e,r.rx,r.ry,1.5,0,n),c=Qb(o,null,n);i=i.concat(c)}return{estimatedPoints:s,opset:{type:"path",ops:i}}}function _N(t,e,n,r,a,s,i,o,c){const u=t,d=e;let m=Math.abs(n/2),h=Math.abs(r/2);m+=gn(.01*m,c),h+=gn(.01*h,c);let p=a,f=s;for(;p<0;)p+=2*Math.PI,f+=2*Math.PI;f-p>2*Math.PI&&(p=0,f=2*Math.PI);const g=2*Math.PI/c.curveStepCount,x=Math.min(g/2,(f-p)/2),y=TN(x,u,d,m,h,p,f,1,c);if(!c.disableMultiStroke){const w=TN(x,u,d,m,h,p,f,1.5,c);y.push(...w)}return i&&(o?y.push(...sc(u,d,u+m*Math.cos(p),d+h*Math.sin(p),c),...sc(u,d,u+m*Math.cos(f),d+h*Math.sin(f),c)):y.push({op:"lineTo",data:[u,d]},{op:"lineTo",data:[u+m*Math.cos(p),d+h*Math.sin(p)]})),{type:"path",ops:y}}function CN(t,e){const n=lG(oG(PS(t))),r=[];let a=[0,0],s=[0,0];for(const{key:i,data:o}of n)switch(i){case"M":s=[o[0],o[1]],a=[o[0],o[1]];break;case"L":r.push(...sc(s[0],s[1],o[0],o[1],e)),s=[o[0],o[1]];break;case"C":{const[c,u,d,m,h,p]=o;r.push(...TLe(c,u,d,m,h,p,s,e)),s=[h,p];break}case"Z":r.push(...sc(s[0],s[1],a[0],a[1],e)),s=[a[0],a[1]]}return{type:"path",ops:r}}function Lv(t,e){const n=[];for(const r of t)if(r.length){const a=e.maxRandomnessOffset||0,s=r.length;if(s>2){n.push({op:"move",data:[r[0][0]+gn(a,e),r[0][1]+gn(a,e)]});for(let i=1;i<s;i++)n.push({op:"lineTo",data:[r[i][0]+gn(a,e),r[i][1]+gn(a,e)]})}}return{type:"fillPath",ops:n}}function bd(t,e){return(function(n,r){let a=n.fillStyle||"hachure";if(!cs[a])switch(a){case"zigzag":cs[a]||(cs[a]=new xLe(r));break;case"cross-hatch":cs[a]||(cs[a]=new yLe(r));break;case"dots":cs[a]||(cs[a]=new wLe(r));break;case"dashed":cs[a]||(cs[a]=new vLe(r));break;case"zigzag-line":cs[a]||(cs[a]=new kLe(r));break;default:a="hachure",cs[a]||(cs[a]=new OS(r))}return cs[a]})(e,SLe).fillPolygons(t,e)}function SN(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function mG(t){return t.randomizer||(t.randomizer=new _Le(t.seed||0)),t.randomizer.next()}function Zb(t,e,n,r=1){return n.roughness*r*(mG(n)*(e-t)+t)}function gn(t,e,n=1){return Zb(-t,t,e,n)}function sc(t,e,n,r,a,s=!1){const i=s?a.disableMultiStrokeFill:a.disableMultiStroke,o=W4(t,e,n,r,a,!0,!1);if(i)return o;const c=W4(t,e,n,r,a,!0,!0);return o.concat(c)}function W4(t,e,n,r,a,s,i){const o=Math.pow(t-n,2)+Math.pow(e-r,2),c=Math.sqrt(o);let u=1;u=c<200?1:c>500?.4:-.0016668*c+1.233334;let d=a.maxRandomnessOffset||0;d*d*100>o&&(d=c/10);const m=d/2,h=.2+.2*mG(a);let p=a.bowing*a.maxRandomnessOffset*(r-e)/200,f=a.bowing*a.maxRandomnessOffset*(t-n)/200;p=gn(p,a,u),f=gn(f,a,u);const g=[],x=()=>gn(m,a,u),y=()=>gn(d,a,u),w=a.preserveVertices;return i?g.push({op:"move",data:[t+(w?0:x()),e+(w?0:x())]}):g.push({op:"move",data:[t+(w?0:gn(d,a,u)),e+(w?0:gn(d,a,u))]}),i?g.push({op:"bcurveTo",data:[p+t+(n-t)*h+x(),f+e+(r-e)*h+x(),p+t+2*(n-t)*h+x(),f+e+2*(r-e)*h+x(),n+(w?0:x()),r+(w?0:x())]}):g.push({op:"bcurveTo",data:[p+t+(n-t)*h+y(),f+e+(r-e)*h+y(),p+t+2*(n-t)*h+y(),f+e+2*(r-e)*h+y(),n+(w?0:y()),r+(w?0:y())]}),g}function yg(t,e,n){if(!t.length)return[];const r=[];r.push([t[0][0]+gn(e,n),t[0][1]+gn(e,n)]),r.push([t[0][0]+gn(e,n),t[0][1]+gn(e,n)]);for(let a=1;a<t.length;a++)r.push([t[a][0]+gn(e,n),t[a][1]+gn(e,n)]),a===t.length-1&&r.push([t[a][0]+gn(e,n),t[a][1]+gn(e,n)]);return Qb(r,null,n)}function Qb(t,e,n){const r=t.length,a=[];if(r>3){const s=[],i=1-n.curveTightness;a.push({op:"move",data:[t[1][0],t[1][1]]});for(let o=1;o+2<r;o++){const c=t[o];s[0]=[c[0],c[1]],s[1]=[c[0]+(i*t[o+1][0]-i*t[o-1][0])/6,c[1]+(i*t[o+1][1]-i*t[o-1][1])/6],s[2]=[t[o+1][0]+(i*t[o][0]-i*t[o+2][0])/6,t[o+1][1]+(i*t[o][1]-i*t[o+2][1])/6],s[3]=[t[o+1][0],t[o+1][1]],a.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else r===3?(a.push({op:"move",data:[t[1][0],t[1][1]]}),a.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):r===2&&a.push(...W4(t[0][0],t[0][1],t[1][0],t[1][1],n,!0,!0));return a}function jN(t,e,n,r,a,s,i,o){const c=[],u=[];if(o.roughness===0){t/=4,u.push([e+r*Math.cos(-t),n+a*Math.sin(-t)]);for(let d=0;d<=2*Math.PI;d+=t){const m=[e+r*Math.cos(d),n+a*Math.sin(d)];c.push(m),u.push(m)}u.push([e+r*Math.cos(0),n+a*Math.sin(0)]),u.push([e+r*Math.cos(t),n+a*Math.sin(t)])}else{const d=gn(.5,o)-Math.PI/2;u.push([gn(s,o)+e+.9*r*Math.cos(d-t),gn(s,o)+n+.9*a*Math.sin(d-t)]);const m=2*Math.PI+d-.01;for(let h=d;h<m;h+=t){const p=[gn(s,o)+e+r*Math.cos(h),gn(s,o)+n+a*Math.sin(h)];c.push(p),u.push(p)}u.push([gn(s,o)+e+r*Math.cos(d+2*Math.PI+.5*i),gn(s,o)+n+a*Math.sin(d+2*Math.PI+.5*i)]),u.push([gn(s,o)+e+.98*r*Math.cos(d+i),gn(s,o)+n+.98*a*Math.sin(d+i)]),u.push([gn(s,o)+e+.9*r*Math.cos(d+.5*i),gn(s,o)+n+.9*a*Math.sin(d+.5*i)])}return[u,c]}function TN(t,e,n,r,a,s,i,o,c){const u=s+gn(.1,c),d=[];d.push([gn(o,c)+e+.9*r*Math.cos(u-t),gn(o,c)+n+.9*a*Math.sin(u-t)]);for(let m=u;m<=i;m+=t)d.push([gn(o,c)+e+r*Math.cos(m),gn(o,c)+n+a*Math.sin(m)]);return d.push([e+r*Math.cos(i),n+a*Math.sin(i)]),d.push([e+r*Math.cos(i),n+a*Math.sin(i)]),Qb(d,null,c)}function TLe(t,e,n,r,a,s,i,o){const c=[],u=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let d=[0,0];const m=o.disableMultiStroke?1:2,h=o.preserveVertices;for(let p=0;p<m;p++)p===0?c.push({op:"move",data:[i[0],i[1]]}):c.push({op:"move",data:[i[0]+(h?0:gn(u[0],o)),i[1]+(h?0:gn(u[0],o))]}),d=h?[a,s]:[a+gn(u[p],o),s+gn(u[p],o)],c.push({op:"bcurveTo",data:[t+gn(u[p],o),e+gn(u[p],o),n+gn(u[p],o),r+gn(u[p],o),d[0],d[1]]});return c}function Ph(t){return[...t]}function EN(t,e=0){const n=t.length;if(n<3)throw new Error("A curve must have at least three points.");const r=[];if(n===3)r.push(Ph(t[0]),Ph(t[1]),Ph(t[2]),Ph(t[2]));else{const a=[];a.push(t[0],t[0]);for(let o=1;o<t.length;o++)a.push(t[o]),o===t.length-1&&a.push(t[o]);const s=[],i=1-e;r.push(Ph(a[0]));for(let o=1;o+2<a.length;o++){const c=a[o];s[0]=[c[0],c[1]],s[1]=[c[0]+(i*a[o+1][0]-i*a[o-1][0])/6,c[1]+(i*a[o+1][1]-i*a[o-1][1])/6],s[2]=[a[o+1][0]+(i*a[o][0]-i*a[o+2][0])/6,a[o+1][1]+(i*a[o][1]-i*a[o+2][1])/6],s[3]=[a[o+1][0],a[o+1][1]],r.push(s[1],s[2],s[3])}}return r}function i1(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function ELe(t,e,n){const r=i1(e,n);if(r===0)return i1(t,e);let a=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/r;return a=Math.max(0,Math.min(1,a)),i1(t,Oc(e,n,a))}function Oc(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function G4(t,e,n,r){const a=r||[];if((function(o,c){const u=o[c+0],d=o[c+1],m=o[c+2],h=o[c+3];let p=3*d[0]-2*u[0]-h[0];p*=p;let f=3*d[1]-2*u[1]-h[1];f*=f;let g=3*m[0]-2*h[0]-u[0];g*=g;let x=3*m[1]-2*h[1]-u[1];return x*=x,p<g&&(p=g),f<x&&(f=x),p+f})(t,e)<n){const o=t[e+0];a.length?(s=a[a.length-1],i=o,Math.sqrt(i1(s,i))>1&&a.push(o)):a.push(o),a.push(t[e+3])}else{const c=t[e+0],u=t[e+1],d=t[e+2],m=t[e+3],h=Oc(c,u,.5),p=Oc(u,d,.5),f=Oc(d,m,.5),g=Oc(h,p,.5),x=Oc(p,f,.5),y=Oc(g,x,.5);G4([c,h,g,y],0,n,a),G4([y,x,f,m],0,n,a)}var s,i;return a}function NLe(t,e){return Jb(t,0,t.length,e)}function Jb(t,e,n,r,a){const s=a||[],i=t[e],o=t[n-1];let c=0,u=1;for(let d=e+1;d<n-1;++d){const m=ELe(t[d],i,o);m>c&&(c=m,u=d)}return Math.sqrt(c)>r?(Jb(t,e,u+1,r,s),Jb(t,u,n,r,s)):(s.length||s.push(i),s.push(o)),s}function Ov(t,e=.15,n){const r=[],a=(t.length-1)/3;for(let s=0;s<a;s++)G4(t,3*s,e,r);return n&&n>0?Jb(r,0,r.length,n):r}const _s="none";class ex{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,n,r){return{shape:e,sets:n||[],options:r||this.defaultOptions}}line(e,n,r,a,s){const i=this._o(s);return this._d("line",[uG(e,n,r,a,i)],i)}rectangle(e,n,r,a,s){const i=this._o(s),o=[],c=jLe(e,n,r,a,i);if(i.fill){const u=[[e,n],[e+r,n],[e+r,n+a],[e,n+a]];i.fillStyle==="solid"?o.push(Lv([u],i)):o.push(bd([u],i))}return i.stroke!==_s&&o.push(c),this._d("rectangle",o,i)}ellipse(e,n,r,a,s){const i=this._o(s),o=[],c=dG(r,a,i),u=U4(e,n,i,c);if(i.fill)if(i.fillStyle==="solid"){const d=U4(e,n,i,c).opset;d.type="fillPath",o.push(d)}else o.push(bd([u.estimatedPoints],i));return i.stroke!==_s&&o.push(u.opset),this._d("ellipse",o,i)}circle(e,n,r,a){const s=this.ellipse(e,n,r,r,a);return s.shape="circle",s}linearPath(e,n){const r=this._o(n);return this._d("linearPath",[s1(e,!1,r)],r)}arc(e,n,r,a,s,i,o=!1,c){const u=this._o(c),d=[],m=_N(e,n,r,a,s,i,o,!0,u);if(o&&u.fill)if(u.fillStyle==="solid"){const h=Object.assign({},u);h.disableMultiStroke=!0;const p=_N(e,n,r,a,s,i,!0,!1,h);p.type="fillPath",d.push(p)}else d.push((function(h,p,f,g,x,y,w){const v=h,k=p;let C=Math.abs(f/2),_=Math.abs(g/2);C+=gn(.01*C,w),_+=gn(.01*_,w);let S=x,T=y;for(;S<0;)S+=2*Math.PI,T+=2*Math.PI;T-S>2*Math.PI&&(S=0,T=2*Math.PI);const N=(T-S)/w.curveStepCount,j=[];for(let R=S;R<=T;R+=N)j.push([v+C*Math.cos(R),k+_*Math.sin(R)]);return j.push([v+C*Math.cos(T),k+_*Math.sin(T)]),j.push([v,k]),bd([j],w)})(e,n,r,a,s,i,u));return u.stroke!==_s&&d.push(m),this._d("arc",d,u)}curve(e,n){const r=this._o(n),a=[],s=kN(e,r);if(r.fill&&r.fill!==_s)if(r.fillStyle==="solid"){const i=kN(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(i.ops)})}else{const i=[],o=e;if(o.length){const c=typeof o[0][0]=="number"?[o]:o;for(const u of c)u.length<3?i.push(...u):u.length===3?i.push(...Ov(EN([u[0],u[0],u[1],u[2]]),10,(1+r.roughness)/2)):i.push(...Ov(EN(u),10,(1+r.roughness)/2))}i.length&&a.push(bd([i],r))}return r.stroke!==_s&&a.push(s),this._d("curve",a,r)}polygon(e,n){const r=this._o(n),a=[],s=s1(e,!0,r);return r.fill&&(r.fillStyle==="solid"?a.push(Lv([e],r)):a.push(bd([e],r))),r.stroke!==_s&&a.push(s),this._d("polygon",a,r)}path(e,n){const r=this._o(n),a=[];if(!e)return this._d("path",a,r);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=r.fill&&r.fill!=="transparent"&&r.fill!==_s,i=r.stroke!==_s,o=!!(r.simplification&&r.simplification<1),c=(function(d,m,h){const p=lG(oG(PS(d))),f=[];let g=[],x=[0,0],y=[];const w=()=>{y.length>=4&&g.push(...Ov(y,m)),y=[]},v=()=>{w(),g.length&&(f.push(g),g=[])};for(const{key:C,data:_}of p)switch(C){case"M":v(),x=[_[0],_[1]],g.push(x);break;case"L":w(),g.push([_[0],_[1]]);break;case"C":if(!y.length){const S=g.length?g[g.length-1]:x;y.push([S[0],S[1]])}y.push([_[0],_[1]]),y.push([_[2],_[3]]),y.push([_[4],_[5]]);break;case"Z":w(),g.push([x[0],x[1]])}if(v(),!h)return f;const k=[];for(const C of f){const _=NLe(C,h);_.length&&k.push(_)}return k})(e,1,o?4-4*(r.simplification||1):(1+r.roughness)/2),u=CN(e,r);if(s)if(r.fillStyle==="solid")if(c.length===1){const d=CN(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(d.ops)})}else a.push(Lv(c,r));else a.push(bd(c,r));return i&&(o?c.forEach((d=>{a.push(s1(d,!1,r))})):a.push(u)),this._d("path",a,r)}opsToPath(e,n){let r="";for(const a of e.ops){const s=typeof n=="number"&&n>=0?a.data.map((i=>+i.toFixed(n))):a.data;switch(a.op){case"move":r+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":r+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":r+=`L${s[0]} ${s[1]} `}}return r.trim()}toPaths(e){const n=e.sets||[],r=e.options||this.defaultOptions,a=[];for(const s of n){let i=null;switch(s.type){case"path":i={d:this.opsToPath(s),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:_s};break;case"fillPath":i={d:this.opsToPath(s),stroke:_s,strokeWidth:0,fill:r.fill||_s};break;case"fillSketch":i=this.fillSketch(s,r)}i&&a.push(i)}return a}fillSketch(e,n){let r=n.fillWeight;return r<0&&(r=n.strokeWidth/2),{d:this.opsToPath(e),stroke:n.fill||_s,strokeWidth:r,fill:_s}}_mergedShape(e){return e.filter(((n,r)=>r===0||n.op!=="move"))}}class $Le{constructor(e,n){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new ex(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),a=this.ctx,s=e.options.fixedDecimalPlaceDigits;for(const i of n)switch(i.type){case"path":a.save(),a.strokeStyle=r.stroke==="none"?"transparent":r.stroke,a.lineWidth=r.strokeWidth,r.strokeLineDash&&a.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(a.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(a,i,s),a.restore();break;case"fillPath":{a.save(),a.fillStyle=r.fill||"";const o=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(a,i,s,o),a.restore();break}case"fillSketch":this.fillSketch(a,i,r)}}fillSketch(e,n,r){let a=r.fillWeight;a<0&&(a=r.strokeWidth/2),e.save(),r.fillLineDash&&e.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(e.lineDashOffset=r.fillLineDashOffset),e.strokeStyle=r.fill||"",e.lineWidth=a,this._drawToContext(e,n,r.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,n,r,a="nonzero"){e.beginPath();for(const s of n.ops){const i=typeof r=="number"&&r>=0?s.data.map((o=>+o.toFixed(r))):s.data;switch(s.op){case"move":e.moveTo(i[0],i[1]);break;case"bcurveTo":e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case"lineTo":e.lineTo(i[0],i[1])}}n.type==="fillPath"?e.fill(a):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,n,r,a,s){const i=this.gen.line(e,n,r,a,s);return this.draw(i),i}rectangle(e,n,r,a,s){const i=this.gen.rectangle(e,n,r,a,s);return this.draw(i),i}ellipse(e,n,r,a,s){const i=this.gen.ellipse(e,n,r,a,s);return this.draw(i),i}circle(e,n,r,a){const s=this.gen.circle(e,n,r,a);return this.draw(s),s}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r),r}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r),r}arc(e,n,r,a,s,i,o=!1,c){const u=this.gen.arc(e,n,r,a,s,i,o,c);return this.draw(u),u}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r),r}path(e,n){const r=this.gen.path(e,n);return this.draw(r),r}}const wg="http://www.w3.org/2000/svg";class ALe{constructor(e,n){this.svg=e,this.gen=new ex(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),a=this.svg.ownerDocument||window.document,s=a.createElementNS(wg,"g"),i=e.options.fixedDecimalPlaceDigits;for(const o of n){let c=null;switch(o.type){case"path":c=a.createElementNS(wg,"path"),c.setAttribute("d",this.opsToPath(o,i)),c.setAttribute("stroke",r.stroke),c.setAttribute("stroke-width",r.strokeWidth+""),c.setAttribute("fill","none"),r.strokeLineDash&&c.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&c.setAttribute("stroke-dashoffset",`${r.strokeLineDashOffset}`);break;case"fillPath":c=a.createElementNS(wg,"path"),c.setAttribute("d",this.opsToPath(o,i)),c.setAttribute("stroke","none"),c.setAttribute("stroke-width","0"),c.setAttribute("fill",r.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||c.setAttribute("fill-rule","evenodd");break;case"fillSketch":c=this.fillSketch(a,o,r)}c&&s.appendChild(c)}return s}fillSketch(e,n,r){let a=r.fillWeight;a<0&&(a=r.strokeWidth/2);const s=e.createElementNS(wg,"path");return s.setAttribute("d",this.opsToPath(n,r.fixedDecimalPlaceDigits)),s.setAttribute("stroke",r.fill||""),s.setAttribute("stroke-width",a+""),s.setAttribute("fill","none"),r.fillLineDash&&s.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${r.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,n){return this.gen.opsToPath(e,n)}line(e,n,r,a,s){const i=this.gen.line(e,n,r,a,s);return this.draw(i)}rectangle(e,n,r,a,s){const i=this.gen.rectangle(e,n,r,a,s);return this.draw(i)}ellipse(e,n,r,a,s){const i=this.gen.ellipse(e,n,r,a,s);return this.draw(i)}circle(e,n,r,a){const s=this.gen.circle(e,n,r,a);return this.draw(s)}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r)}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r)}arc(e,n,r,a,s,i,o=!1,c){const u=this.gen.arc(e,n,r,a,s,i,o,c);return this.draw(u)}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r)}path(e,n){const r=this.gen.path(e,n);return this.draw(r)}}var Zt={canvas:(t,e)=>new $Le(t,e),svg:(t,e)=>new ALe(t,e),generator:t=>new ex(t),newSeed:()=>ex.newSeed()},fn=X(async(t,e,n)=>{let r;const a=e.useHtmlLabels||aa(er()?.htmlLabels);n?r=n:r="node default";const s=t.insert("g").attr("class",r).attr("id",e.domId||e.id),i=s.insert("g").attr("class","label").attr("style",Pa(e.labelStyle));let o;e.label===void 0?o="":o=typeof e.label=="string"?e.label:e.label[0];const c=await _c(i,ii(Ju(o),er()),{useHtmlLabels:a,width:e.width||er().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let u=c.getBBox();const d=(e?.padding??0)/2;if(a){const m=c.children[0],h=qn(c),p=m.getElementsByTagName("img");if(p){const f=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...p].map(g=>new Promise(x=>{function y(){if(g.style.display="flex",g.style.flexDirection="column",f){const w=er().fontSize?er().fontSize:window.getComputedStyle(document.body).fontSize,v=5,[k=jH.fontSize]=l2(w),C=k*v+"px";g.style.minWidth=C,g.style.maxWidth=C}else g.style.width="100%";x(g)}X(y,"setupImage"),setTimeout(()=>{g.complete&&y()}),g.addEventListener("error",y),g.addEventListener("load",y)})))}u=m.getBoundingClientRect(),h.attr("width",u.width),h.attr("height",u.height)}return a?i.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"):i.attr("transform","translate(0, "+-u.height/2+")"),e.centerLabel&&i.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:s,bbox:u,halfPadding:d,label:i}},"labelHelper"),Pv=X(async(t,e,n)=>{const r=n.useHtmlLabels||aa(er()?.flowchart?.htmlLabels),a=t.insert("g").attr("class","label").attr("style",n.labelStyle||""),s=await _c(a,ii(Ju(e),er()),{useHtmlLabels:r,width:n.width||er()?.flowchart?.wrappingWidth,style:n.labelStyle,addSvgBackground:!!n.icon||!!n.img});let i=s.getBBox();const o=n.padding/2;if(aa(er()?.flowchart?.htmlLabels)){const c=s.children[0],u=qn(s);i=c.getBoundingClientRect(),u.attr("width",i.width),u.attr("height",i.height)}return r?a.attr("transform","translate("+-i.width/2+", "+-i.height/2+")"):a.attr("transform","translate(0, "+-i.height/2+")"),n.centerLabel&&a.attr("transform","translate("+-i.width/2+", "+-i.height/2+")"),a.insert("rect",":first-child"),{shapeSvg:t,bbox:i,halfPadding:o,label:a}},"insertLabel"),nn=X((t,e)=>{const n=e.node().getBBox();t.width=n.width,t.height=n.height},"updateNodeBounds"),un=X((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function Fn(t){const e=t.map((n,r)=>`${r===0?"M":"L"}${n.x},${n.y}`);return e.push("Z"),e.join(" ")}X(Fn,"createPathFromPoints");function ic(t,e,n,r,a,s){const i=[],c=n-t,u=r-e,d=c/s,m=2*Math.PI/d,h=e+u/2;for(let p=0;p<=50;p++){const f=p/50,g=t+f*c,x=h+a*Math.sin(m*(g-t));i.push({x:g,y:x})}return i}X(ic,"generateFullSineWavePoints");function Cf(t,e,n,r,a,s){const i=[],o=a*Math.PI/180,d=(s*Math.PI/180-o)/(r-1);for(let m=0;m<r;m++){const h=o+m*d,p=t+n*Math.cos(h),f=e+n*Math.sin(h);i.push({x:-p,y:-f})}return i}X(Cf,"generateCirclePoints");var ILe=X((t,e)=>{var n=t.x,r=t.y,a=e.x-n,s=e.y-r,i=t.width/2,o=t.height/2,c,u;return Math.abs(s)*i>Math.abs(a)*o?(s<0&&(o=-o),c=s===0?0:o*a/s,u=o):(a<0&&(i=-i),c=i,u=a===0?0:i*s/a),{x:n+c,y:r+u}},"intersectRect"),ph=ILe;function hG(t,e){e&&t.attr("style",e)}X(hG,"applyStyle");async function pG(t){const e=qn(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=e.append("xhtml:div"),r=er();let a=t.label;t.label&&Am(t.label)&&(a=await W6(t.label.replace(uh.lineBreakRegex,`
`),r));const i='<span class="'+(t.isNode?"nodeLabel":"edgeLabel")+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+a+"</span>";return n.html(ii(i,r)),hG(n,t.labelStyle),n.style("display","inline-block"),n.style("padding-right","1px"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}X(pG,"addHtmlLabel");var RLe=X(async(t,e,n,r)=>{let a=t||"";if(typeof a=="object"&&(a=a[0]),aa(er().flowchart.htmlLabels)){a=a.replace(/\\n|\n/g,"<br />"),ut.info("vertexText"+a);const s={isNode:r,label:Ju(a).replace(/fa[blrs]?:fa-[\w-]+/g,o=>`<i class='${o.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await pG(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",e.replace("color:","fill:"));let i=[];typeof a=="string"?i=a.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(a)?i=a:i=[];for(const o of i){const c=document.createElementNS("http://www.w3.org/2000/svg","tspan");c.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),c.setAttribute("dy","1em"),c.setAttribute("x","0"),n?c.setAttribute("class","title-row"):c.setAttribute("class","row"),c.textContent=o.trim(),s.appendChild(c)}return s}},"createLabel"),Jc=RLe,Cc=X((t,e,n,r,a)=>["M",t+a,e,"H",t+n-a,"A",a,a,0,0,1,t+n,e+a,"V",e+r-a,"A",a,a,0,0,1,t+n-a,e+r,"H",t+a,"A",a,a,0,0,1,t,e+r-a,"V",e+a,"A",a,a,0,0,1,t+a,e,"Z"].join(" "),"createRoundedRectPathD"),fG=X(async(t,e)=>{ut.info("Creating subgraph rect for ",e.id,e);const n=er(),{themeVariables:r,handDrawnSeed:a}=n,{clusterBkg:s,clusterBorder:i}=r,{labelStyles:o,nodeStyles:c,borderStyles:u,backgroundStyles:d}=en(e),m=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),h=aa(n.flowchart.htmlLabels),p=m.insert("g").attr("class","cluster-label "),f=await _c(p,e.label,{style:e.labelStyle,useHtmlLabels:h,isNode:!0});let g=f.getBBox();if(aa(n.flowchart.htmlLabels)){const S=f.children[0],T=qn(f);g=S.getBoundingClientRect(),T.attr("width",g.width),T.attr("height",g.height)}const x=e.width<=g.width+e.padding?g.width+e.padding:e.width;e.width<=g.width+e.padding?e.diff=(x-e.width)/2-e.padding:e.diff=-e.padding;const y=e.height,w=e.x-x/2,v=e.y-y/2;ut.trace("Data ",e,JSON.stringify(e));let k;if(e.look==="handDrawn"){const S=Zt.svg(m),T=Jt(e,{roughness:.7,fill:s,stroke:i,fillWeight:3,seed:a}),N=S.path(Cc(w,v,x,y,0),T);k=m.insert(()=>(ut.debug("Rough node insert CXC",N),N),":first-child"),k.select("path:nth-child(2)").attr("style",u.join(";")),k.select("path").attr("style",d.join(";").replace("fill","stroke"))}else k=m.insert("rect",":first-child"),k.attr("style",c).attr("rx",e.rx).attr("ry",e.ry).attr("x",w).attr("y",v).attr("width",x).attr("height",y);const{subGraphTitleTopMargin:C}=gS(n);if(p.attr("transform",`translate(${e.x-g.width/2}, ${e.y-e.height/2+C})`),o){const S=p.select("span");S&&S.attr("style",o)}const _=k.node().getBBox();return e.offsetX=0,e.width=_.width,e.height=_.height,e.offsetY=g.height-e.padding/2,e.intersect=function(S){return ph(e,S)},{cluster:m,labelBBox:g}},"rect"),MLe=X((t,e)=>{const n=t.insert("g").attr("class","note-cluster").attr("id",e.id),r=n.insert("rect",":first-child"),a=0*e.padding,s=a/2;r.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-s).attr("y",e.y-e.height/2-s).attr("width",e.width+a).attr("height",e.height+a).attr("fill","none");const i=r.node().getBBox();return e.width=i.width,e.height=i.height,e.intersect=function(o){return ph(e,o)},{cluster:n,labelBBox:{width:0,height:0}}},"noteGroup"),DLe=X(async(t,e)=>{const n=er(),{themeVariables:r,handDrawnSeed:a}=n,{altBackground:s,compositeBackground:i,compositeTitleBackground:o,nodeBorder:c}=r,u=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),d=u.insert("g",":first-child"),m=u.insert("g").attr("class","cluster-label");let h=u.append("rect");const p=m.node().appendChild(await Jc(e.label,e.labelStyle,void 0,!0));let f=p.getBBox();if(aa(n.flowchart.htmlLabels)){const N=p.children[0],j=qn(p);f=N.getBoundingClientRect(),j.attr("width",f.width),j.attr("height",f.height)}const g=0*e.padding,x=g/2,y=(e.width<=f.width+e.padding?f.width+e.padding:e.width)+g;e.width<=f.width+e.padding?e.diff=(y-e.width)/2-e.padding:e.diff=-e.padding;const w=e.height+g,v=e.height+g-f.height-6,k=e.x-y/2,C=e.y-w/2;e.width=y;const _=e.y-e.height/2-x+f.height+2;let S;if(e.look==="handDrawn"){const N=e.cssClasses.includes("statediagram-cluster-alt"),j=Zt.svg(u),R=e.rx||e.ry?j.path(Cc(k,C,y,w,10),{roughness:.7,fill:o,fillStyle:"solid",stroke:c,seed:a}):j.rectangle(k,C,y,w,{seed:a});S=u.insert(()=>R,":first-child");const I=j.rectangle(k,_,y,v,{fill:N?s:i,fillStyle:N?"hachure":"solid",stroke:c,seed:a});S=u.insert(()=>R,":first-child"),h=u.insert(()=>I)}else S=d.insert("rect",":first-child"),S.attr("class","outer").attr("x",k).attr("y",C).attr("width",y).attr("height",w).attr("data-look",e.look),h.attr("class","inner").attr("x",k).attr("y",_).attr("width",y).attr("height",v);m.attr("transform",`translate(${e.x-f.width/2}, ${C+1-(aa(n.flowchart.htmlLabels)?0:3)})`);const T=S.node().getBBox();return e.height=T.height,e.offsetX=0,e.offsetY=f.height-e.padding/2,e.labelBBox=f,e.intersect=function(N){return ph(e,N)},{cluster:u,labelBBox:f}},"roundedWithTitle"),LLe=X(async(t,e)=>{ut.info("Creating subgraph rect for ",e.id,e);const n=er(),{themeVariables:r,handDrawnSeed:a}=n,{clusterBkg:s,clusterBorder:i}=r,{labelStyles:o,nodeStyles:c,borderStyles:u,backgroundStyles:d}=en(e),m=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),h=aa(n.flowchart.htmlLabels),p=m.insert("g").attr("class","cluster-label "),f=await _c(p,e.label,{style:e.labelStyle,useHtmlLabels:h,isNode:!0,width:e.width});let g=f.getBBox();if(aa(n.flowchart.htmlLabels)){const S=f.children[0],T=qn(f);g=S.getBoundingClientRect(),T.attr("width",g.width),T.attr("height",g.height)}const x=e.width<=g.width+e.padding?g.width+e.padding:e.width;e.width<=g.width+e.padding?e.diff=(x-e.width)/2-e.padding:e.diff=-e.padding;const y=e.height,w=e.x-x/2,v=e.y-y/2;ut.trace("Data ",e,JSON.stringify(e));let k;if(e.look==="handDrawn"){const S=Zt.svg(m),T=Jt(e,{roughness:.7,fill:s,stroke:i,fillWeight:4,seed:a}),N=S.path(Cc(w,v,x,y,e.rx),T);k=m.insert(()=>(ut.debug("Rough node insert CXC",N),N),":first-child"),k.select("path:nth-child(2)").attr("style",u.join(";")),k.select("path").attr("style",d.join(";").replace("fill","stroke"))}else k=m.insert("rect",":first-child"),k.attr("style",c).attr("rx",e.rx).attr("ry",e.ry).attr("x",w).attr("y",v).attr("width",x).attr("height",y);const{subGraphTitleTopMargin:C}=gS(n);if(p.attr("transform",`translate(${e.x-g.width/2}, ${e.y-e.height/2+C})`),o){const S=p.select("span");S&&S.attr("style",o)}const _=k.node().getBBox();return e.offsetX=0,e.width=_.width,e.height=_.height,e.offsetY=g.height-e.padding/2,e.intersect=function(S){return ph(e,S)},{cluster:m,labelBBox:g}},"kanbanSection"),OLe=X((t,e)=>{const n=er(),{themeVariables:r,handDrawnSeed:a}=n,{nodeBorder:s}=r,i=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),o=i.insert("g",":first-child"),c=0*e.padding,u=e.width+c;e.diff=-e.padding;const d=e.height+c,m=e.x-u/2,h=e.y-d/2;e.width=u;let p;if(e.look==="handDrawn"){const x=Zt.svg(i).rectangle(m,h,u,d,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:s,seed:a});p=i.insert(()=>x,":first-child")}else p=o.insert("rect",":first-child"),p.attr("class","divider").attr("x",m).attr("y",h).attr("width",u).attr("height",d).attr("data-look",e.look);const f=p.node().getBBox();return e.height=f.height,e.offsetX=0,e.offsetY=0,e.intersect=function(g){return ph(e,g)},{cluster:i,labelBBox:{}}},"divider"),PLe=fG,FLe={rect:fG,squareRect:PLe,roundedWithTitle:DLe,noteGroup:MLe,divider:OLe,kanbanSection:LLe},gG=new Map,BLe=X(async(t,e)=>{const n=e.shape||"rect",r=await FLe[n](t,e);return gG.set(e.id,r),r},"insertCluster"),cJe=X(()=>{gG=new Map},"clear");function bG(t,e){return t.intersect(e)}X(bG,"intersectNode");var zLe=bG;function xG(t,e,n,r){var a=t.x,s=t.y,i=a-r.x,o=s-r.y,c=Math.sqrt(e*e*o*o+n*n*i*i),u=Math.abs(e*n*i/c);r.x<a&&(u=-u);var d=Math.abs(e*n*o/c);return r.y<s&&(d=-d),{x:a+u,y:s+d}}X(xG,"intersectEllipse");var yG=xG;function wG(t,e,n){return yG(t,e,e,n)}X(wG,"intersectCircle");var HLe=wG;function vG(t,e,n,r){{const a=e.y-t.y,s=t.x-e.x,i=e.x*t.y-t.x*e.y,o=a*n.x+s*n.y+i,c=a*r.x+s*r.y+i,u=1e-6;if(o!==0&&c!==0&&V4(o,c))return;const d=r.y-n.y,m=n.x-r.x,h=r.x*n.y-n.x*r.y,p=d*t.x+m*t.y+h,f=d*e.x+m*e.y+h;if(Math.abs(p)<u&&Math.abs(f)<u&&V4(p,f))return;const g=a*m-d*s;if(g===0)return;const x=Math.abs(g/2);let y=s*h-m*i;const w=y<0?(y-x)/g:(y+x)/g;y=d*i-a*h;const v=y<0?(y-x)/g:(y+x)/g;return{x:w,y:v}}}X(vG,"intersectLine");function V4(t,e){return t*e>0}X(V4,"sameSign");var qLe=vG;function kG(t,e,n){let r=t.x,a=t.y,s=[],i=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(d){i=Math.min(i,d.x),o=Math.min(o,d.y)}):(i=Math.min(i,e.x),o=Math.min(o,e.y));let c=r-t.width/2-i,u=a-t.height/2-o;for(let d=0;d<e.length;d++){let m=e[d],h=e[d<e.length-1?d+1:0],p=qLe(t,n,{x:c+m.x,y:u+m.y},{x:c+h.x,y:u+h.y});p&&s.push(p)}return s.length?(s.length>1&&s.sort(function(d,m){let h=d.x-n.x,p=d.y-n.y,f=Math.sqrt(h*h+p*p),g=m.x-n.x,x=m.y-n.y,y=Math.sqrt(g*g+x*x);return f<y?-1:f===y?0:1}),s[0]):t}X(kG,"intersectPolygon");var ULe=kG,Ft={node:zLe,circle:HLe,ellipse:yG,polygon:ULe,rect:ph};function _G(t,e){const{labelStyles:n}=en(e);e.labelStyle=n;const r=un(e);let a=r;r||(a="anchor");const s=t.insert("g").attr("class",a).attr("id",e.domId||e.id),i=1,{cssStyles:o}=e,c=Zt.svg(s),u=Jt(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(u.roughness=0);const d=c.circle(0,0,i*2,u),m=s.insert(()=>d,":first-child");return m.attr("class","anchor").attr("style",Pa(o)),nn(e,m),e.intersect=function(h){return ut.info("Circle intersect",e,i,h),Ft.circle(e,i,h)},s}X(_G,"anchor");function K4(t,e,n,r,a,s,i){const c=(t+n)/2,u=(e+r)/2,d=Math.atan2(r-e,n-t),m=(n-t)/2,h=(r-e)/2,p=m/a,f=h/s,g=Math.sqrt(p**2+f**2);if(g>1)throw new Error("The given radii are too small to create an arc between the points.");const x=Math.sqrt(1-g**2),y=c+x*s*Math.sin(d)*(i?-1:1),w=u-x*a*Math.cos(d)*(i?-1:1),v=Math.atan2((e-w)/s,(t-y)/a);let C=Math.atan2((r-w)/s,(n-y)/a)-v;i&&C<0&&(C+=2*Math.PI),!i&&C>0&&(C-=2*Math.PI);const _=[];for(let S=0;S<20;S++){const T=S/19,N=v+T*C,j=y+a*Math.cos(N),R=w+s*Math.sin(N);_.push({x:j,y:R})}return _}X(K4,"generateArcPoints");async function CG(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await fn(t,e,un(e)),i=s.width+e.padding+20,o=s.height+e.padding,c=o/2,u=c/(2.5+o/50),{cssStyles:d}=e,m=[{x:i/2,y:-o/2},{x:-i/2,y:-o/2},...K4(-i/2,-o/2,-i/2,o/2,u,c,!1),{x:i/2,y:o/2},...K4(i/2,o/2,i/2,-o/2,u,c,!0)],h=Zt.svg(a),p=Jt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const f=Fn(m),g=h.path(f,p),x=a.insert(()=>g,":first-child");return x.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",d),r&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",r),x.attr("transform",`translate(${u/2}, 0)`),nn(e,x),e.intersect=function(y){return Ft.polygon(e,m,y)},a}X(CG,"bowTieRect");function Sc(t,e,n,r){return t.insert("polygon",":first-child").attr("points",r.map(function(a){return a.x+","+a.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+n/2+")")}X(Sc,"insertPolygonShape");async function SG(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await fn(t,e,un(e)),i=s.height+e.padding,o=12,c=s.width+e.padding+o,u=0,d=c,m=-i,h=0,p=[{x:u+o,y:m},{x:d,y:m},{x:d,y:h},{x:u,y:h},{x:u,y:m+o},{x:u+o,y:m}];let f;const{cssStyles:g}=e;if(e.look==="handDrawn"){const x=Zt.svg(a),y=Jt(e,{}),w=Fn(p),v=x.path(w,y);f=a.insert(()=>v,":first-child").attr("transform",`translate(${-c/2}, ${i/2})`),g&&f.attr("style",g)}else f=Sc(a,c,i,p);return r&&f.attr("style",r),nn(e,f),e.intersect=function(x){return Ft.polygon(e,p,x)},a}X(SG,"card");function jG(t,e){const{nodeStyles:n}=en(e);e.label="";const r=t.insert("g").attr("class",un(e)).attr("id",e.domId??e.id),{cssStyles:a}=e,s=Math.max(28,e.width??0),i=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}],o=Zt.svg(r),c=Jt(e,{});e.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");const u=Fn(i),d=o.path(u,c),m=r.insert(()=>d,":first-child");return a&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",a),n&&e.look!=="handDrawn"&&m.selectAll("path").attr("style",n),e.width=28,e.height=28,e.intersect=function(h){return Ft.polygon(e,i,h)},r}X(jG,"choice");async function FS(t,e,n){const{labelStyles:r,nodeStyles:a}=en(e);e.labelStyle=r;const{shapeSvg:s,bbox:i,halfPadding:o}=await fn(t,e,un(e)),c=n?.padding??o,u=i.width/2+c;let d;const{cssStyles:m}=e;if(e.look==="handDrawn"){const h=Zt.svg(s),p=Jt(e,{}),f=h.circle(0,0,u*2,p);d=s.insert(()=>f,":first-child"),d.attr("class","basic label-container").attr("style",Pa(m))}else d=s.insert("circle",":first-child").attr("class","basic label-container").attr("style",a).attr("r",u).attr("cx",0).attr("cy",0);return nn(e,d),e.calcIntersect=function(h,p){const f=h.width/2;return Ft.circle(h,f,p)},e.intersect=function(h){return ut.info("Circle intersect",e,u,h),Ft.circle(e,u,h)},s}X(FS,"circle");function TG(t){const e=Math.cos(Math.PI/4),n=Math.sin(Math.PI/4),r=t*2,a={x:r/2*e,y:r/2*n},s={x:-(r/2)*e,y:r/2*n},i={x:-(r/2)*e,y:-(r/2)*n},o={x:r/2*e,y:-(r/2)*n};return`M ${s.x},${s.y} L ${o.x},${o.y}
                   M ${a.x},${a.y} L ${i.x},${i.y}`}X(TG,"createLine");function EG(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n,e.label="";const a=t.insert("g").attr("class",un(e)).attr("id",e.domId??e.id),s=Math.max(30,e?.width??0),{cssStyles:i}=e,o=Zt.svg(a),c=Jt(e,{});e.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");const u=o.circle(0,0,s*2,c),d=TG(s),m=o.path(d,c),h=a.insert(()=>u,":first-child");return h.insert(()=>m),i&&e.look!=="handDrawn"&&h.selectAll("path").attr("style",i),r&&e.look!=="handDrawn"&&h.selectAll("path").attr("style",r),nn(e,h),e.intersect=function(p){return ut.info("crossedCircle intersect",e,{radius:s,point:p}),Ft.circle(e,s,p)},a}X(EG,"crossedCircle");function Po(t,e,n,r=100,a=0,s=180){const i=[],o=a*Math.PI/180,d=(s*Math.PI/180-o)/(r-1);for(let m=0;m<r;m++){const h=o+m*d,p=t+n*Math.cos(h),f=e+n*Math.sin(h);i.push({x:-p,y:-f})}return i}X(Po,"generateCirclePoints");async function NG(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,label:i}=await fn(t,e,un(e)),o=s.width+(e.padding??0),c=s.height+(e.padding??0),u=Math.max(5,c*.1),{cssStyles:d}=e,m=[...Po(o/2,-c/2,u,30,-90,0),{x:-o/2-u,y:u},...Po(o/2+u*2,-u,u,20,-180,-270),...Po(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:-c/2},...Po(o/2,c/2,u,20,0,90)],h=[{x:o/2,y:-c/2-u},{x:-o/2,y:-c/2-u},...Po(o/2,-c/2,u,20,-90,0),{x:-o/2-u,y:-u},...Po(o/2+o*.1,-u,u,20,-180,-270),...Po(o/2+o*.1,u,u,20,-90,-180),{x:-o/2-u,y:c/2},...Po(o/2,c/2,u,20,0,90),{x:-o/2,y:c/2+u},{x:o/2,y:c/2+u}],p=Zt.svg(a),f=Jt(e,{fill:"none"});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const x=Fn(m).replace("Z",""),y=p.path(x,f),w=Fn(h),v=p.path(w,{...f}),k=a.insert("g",":first-child");return k.insert(()=>v,":first-child").attr("stroke-opacity",0),k.insert(()=>y,":first-child"),k.attr("class","text"),d&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",d),r&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",r),k.attr("transform",`translate(${u}, 0)`),i.attr("transform",`translate(${-o/2+u-(s.x-(s.left??0))},${-c/2+(e.padding??0)/2-(s.y-(s.top??0))})`),nn(e,k),e.intersect=function(C){return Ft.polygon(e,h,C)},a}X(NG,"curlyBraceLeft");function Fo(t,e,n,r=100,a=0,s=180){const i=[],o=a*Math.PI/180,d=(s*Math.PI/180-o)/(r-1);for(let m=0;m<r;m++){const h=o+m*d,p=t+n*Math.cos(h),f=e+n*Math.sin(h);i.push({x:p,y:f})}return i}X(Fo,"generateCirclePoints");async function $G(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,label:i}=await fn(t,e,un(e)),o=s.width+(e.padding??0),c=s.height+(e.padding??0),u=Math.max(5,c*.1),{cssStyles:d}=e,m=[...Fo(o/2,-c/2,u,20,-90,0),{x:o/2+u,y:-u},...Fo(o/2+u*2,-u,u,20,-180,-270),...Fo(o/2+u*2,u,u,20,-90,-180),{x:o/2+u,y:c/2},...Fo(o/2,c/2,u,20,0,90)],h=[{x:-o/2,y:-c/2-u},{x:o/2,y:-c/2-u},...Fo(o/2,-c/2,u,20,-90,0),{x:o/2+u,y:-u},...Fo(o/2+u*2,-u,u,20,-180,-270),...Fo(o/2+u*2,u,u,20,-90,-180),{x:o/2+u,y:c/2},...Fo(o/2,c/2,u,20,0,90),{x:o/2,y:c/2+u},{x:-o/2,y:c/2+u}],p=Zt.svg(a),f=Jt(e,{fill:"none"});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const x=Fn(m).replace("Z",""),y=p.path(x,f),w=Fn(h),v=p.path(w,{...f}),k=a.insert("g",":first-child");return k.insert(()=>v,":first-child").attr("stroke-opacity",0),k.insert(()=>y,":first-child"),k.attr("class","text"),d&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",d),r&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",r),k.attr("transform",`translate(${-u}, 0)`),i.attr("transform",`translate(${-o/2+(e.padding??0)/2-(s.x-(s.left??0))},${-c/2+(e.padding??0)/2-(s.y-(s.top??0))})`),nn(e,k),e.intersect=function(C){return Ft.polygon(e,h,C)},a}X($G,"curlyBraceRight");function ba(t,e,n,r=100,a=0,s=180){const i=[],o=a*Math.PI/180,d=(s*Math.PI/180-o)/(r-1);for(let m=0;m<r;m++){const h=o+m*d,p=t+n*Math.cos(h),f=e+n*Math.sin(h);i.push({x:-p,y:-f})}return i}X(ba,"generateCirclePoints");async function AG(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,label:i}=await fn(t,e,un(e)),o=s.width+(e.padding??0),c=s.height+(e.padding??0),u=Math.max(5,c*.1),{cssStyles:d}=e,m=[...ba(o/2,-c/2,u,30,-90,0),{x:-o/2-u,y:u},...ba(o/2+u*2,-u,u,20,-180,-270),...ba(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:-c/2},...ba(o/2,c/2,u,20,0,90)],h=[...ba(-o/2+u+u/2,-c/2,u,20,-90,-180),{x:o/2-u/2,y:u},...ba(-o/2-u/2,-u,u,20,0,90),...ba(-o/2-u/2,u,u,20,-90,0),{x:o/2-u/2,y:-u},...ba(-o/2+u+u/2,c/2,u,30,-180,-270)],p=[{x:o/2,y:-c/2-u},{x:-o/2,y:-c/2-u},...ba(o/2,-c/2,u,20,-90,0),{x:-o/2-u,y:-u},...ba(o/2+u*2,-u,u,20,-180,-270),...ba(o/2+u*2,u,u,20,-90,-180),{x:-o/2-u,y:c/2},...ba(o/2,c/2,u,20,0,90),{x:-o/2,y:c/2+u},{x:o/2-u-u/2,y:c/2+u},...ba(-o/2+u+u/2,-c/2,u,20,-90,-180),{x:o/2-u/2,y:u},...ba(-o/2-u/2,-u,u,20,0,90),...ba(-o/2-u/2,u,u,20,-90,0),{x:o/2-u/2,y:-u},...ba(-o/2+u+u/2,c/2,u,30,-180,-270)],f=Zt.svg(a),g=Jt(e,{fill:"none"});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const y=Fn(m).replace("Z",""),w=f.path(y,g),k=Fn(h).replace("Z",""),C=f.path(k,g),_=Fn(p),S=f.path(_,{...g}),T=a.insert("g",":first-child");return T.insert(()=>S,":first-child").attr("stroke-opacity",0),T.insert(()=>w,":first-child"),T.insert(()=>C,":first-child"),T.attr("class","text"),d&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",d),r&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",r),T.attr("transform",`translate(${u-u/4}, 0)`),i.attr("transform",`translate(${-o/2+(e.padding??0)/2-(s.x-(s.left??0))},${-c/2+(e.padding??0)/2-(s.y-(s.top??0))})`),nn(e,T),e.intersect=function(N){return Ft.polygon(e,p,N)},a}X(AG,"curlyBraces");async function IG(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await fn(t,e,un(e)),i=80,o=20,c=Math.max(i,(s.width+(e.padding??0)*2)*1.25,e?.width??0),u=Math.max(o,s.height+(e.padding??0)*2,e?.height??0),d=u/2,{cssStyles:m}=e,h=Zt.svg(a),p=Jt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const f=c,g=u,x=f-d,y=g/4,w=[{x,y:0},{x:y,y:0},{x:0,y:g/2},{x:y,y:g},{x,y:g},...Cf(-x,-g/2,d,50,270,90)],v=Fn(w),k=h.path(v,p),C=a.insert(()=>k,":first-child");return C.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&C.selectChildren("path").attr("style",m),r&&e.look!=="handDrawn"&&C.selectChildren("path").attr("style",r),C.attr("transform",`translate(${-c/2}, ${-u/2})`),nn(e,C),e.intersect=function(_){return Ft.polygon(e,w,_)},a}X(IG,"curvedTrapezoid");var WLe=X((t,e,n,r,a,s)=>[`M${t},${e+s}`,`a${a},${s} 0,0,0 ${n},0`,`a${a},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${a},${s} 0,0,0 ${n},0`,`l0,${-r}`].join(" "),"createCylinderPathD"),GLe=X((t,e,n,r,a,s)=>[`M${t},${e+s}`,`M${t+n},${e+s}`,`a${a},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${a},${s} 0,0,0 ${n},0`,`l0,${-r}`].join(" "),"createOuterCylinderPathD"),VLe=X((t,e,n,r,a,s)=>[`M${t-n/2},${-r/2}`,`a${a},${s} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function RG(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,label:i}=await fn(t,e,un(e)),o=Math.max(s.width+e.padding,e.width??0),c=o/2,u=c/(2.5+o/50),d=Math.max(s.height+u+e.padding,e.height??0);let m;const{cssStyles:h}=e;if(e.look==="handDrawn"){const p=Zt.svg(a),f=GLe(0,0,o,d,c,u),g=VLe(0,u,o,d,c,u),x=p.path(f,Jt(e,{})),y=p.path(g,Jt(e,{fill:"none"}));m=a.insert(()=>y,":first-child"),m=a.insert(()=>x,":first-child"),m.attr("class","basic label-container"),h&&m.attr("style",h)}else{const p=WLe(0,0,o,d,c,u);m=a.insert("path",":first-child").attr("d",p).attr("class","basic label-container").attr("style",Pa(h)).attr("style",r)}return m.attr("label-offset-y",u),m.attr("transform",`translate(${-o/2}, ${-(d/2+u)})`),nn(e,m),i.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+(e.padding??0)/1.5-(s.y-(s.top??0))})`),e.intersect=function(p){const f=Ft.rect(e,p),g=f.x-(e.x??0);if(c!=0&&(Math.abs(g)<(e.width??0)/2||Math.abs(g)==(e.width??0)/2&&Math.abs(f.y-(e.y??0))>(e.height??0)/2-u)){let x=u*u*(1-g*g/(c*c));x>0&&(x=Math.sqrt(x)),x=u-x,p.y-(e.y??0)>0&&(x=-x),f.y+=x}return f},a}X(RG,"cylinder");async function MG(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,label:i}=await fn(t,e,un(e)),o=s.width+e.padding,c=s.height+e.padding,u=c*.2,d=-o/2,m=-c/2-u/2,{cssStyles:h}=e,p=Zt.svg(a),f=Jt(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=[{x:d,y:m+u},{x:-d,y:m+u},{x:-d,y:-m},{x:d,y:-m},{x:d,y:m},{x:-d,y:m},{x:-d,y:m+u}],x=p.polygon(g.map(w=>[w.x,w.y]),f),y=a.insert(()=>x,":first-child");return y.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",h),r&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",r),i.attr("transform",`translate(${d+(e.padding??0)/2-(s.x-(s.left??0))}, ${m+u+(e.padding??0)/2-(s.y-(s.top??0))})`),nn(e,y),e.intersect=function(w){return Ft.rect(e,w)},a}X(MG,"dividedRectangle");async function DG(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,halfPadding:i}=await fn(t,e,un(e)),c=s.width/2+i+5,u=s.width/2+i;let d;const{cssStyles:m}=e;if(e.look==="handDrawn"){const h=Zt.svg(a),p=Jt(e,{roughness:.2,strokeWidth:2.5}),f=Jt(e,{roughness:.2,strokeWidth:1.5}),g=h.circle(0,0,c*2,p),x=h.circle(0,0,u*2,f);d=a.insert("g",":first-child"),d.attr("class",Pa(e.cssClasses)).attr("style",Pa(m)),d.node()?.appendChild(g),d.node()?.appendChild(x)}else{d=a.insert("g",":first-child");const h=d.insert("circle",":first-child"),p=d.insert("circle");d.attr("class","basic label-container").attr("style",r),h.attr("class","outer-circle").attr("style",r).attr("r",c).attr("cx",0).attr("cy",0),p.attr("class","inner-circle").attr("style",r).attr("r",u).attr("cx",0).attr("cy",0)}return nn(e,d),e.intersect=function(h){return ut.info("DoubleCircle intersect",e,c,h),Ft.circle(e,c,h)},a}X(DG,"doublecircle");function LG(t,e,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:a}=en(e);e.label="",e.labelStyle=r;const s=t.insert("g").attr("class",un(e)).attr("id",e.domId??e.id),i=7,{cssStyles:o}=e,c=Zt.svg(s),{nodeBorder:u}=n,d=Jt(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(d.roughness=0);const m=c.circle(0,0,i*2,d),h=s.insert(()=>m,":first-child");return h.selectAll("path").attr("style",`fill: ${u} !important;`),o&&o.length>0&&e.look!=="handDrawn"&&h.selectAll("path").attr("style",o),a&&e.look!=="handDrawn"&&h.selectAll("path").attr("style",a),nn(e,h),e.intersect=function(p){return ut.info("filledCircle intersect",e,{radius:i,point:p}),Ft.circle(e,i,p)},s}X(LG,"filledCircle");async function OG(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,label:i}=await fn(t,e,un(e)),o=s.width+(e.padding??0),c=o+s.height,u=o+s.height,d=[{x:0,y:-c},{x:u,y:-c},{x:u/2,y:0}],{cssStyles:m}=e,h=Zt.svg(a),p=Jt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const f=Fn(d),g=h.path(f,p),x=a.insert(()=>g,":first-child").attr("transform",`translate(${-c/2}, ${c/2})`);return m&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",m),r&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",r),e.width=o,e.height=c,nn(e,x),i.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-c/2+(e.padding??0)/2+(s.y-(s.top??0))})`),e.intersect=function(y){return ut.info("Triangle intersect",e,d,y),Ft.polygon(e,d,y)},a}X(OG,"flippedTriangle");function PG(t,e,{dir:n,config:{state:r,themeVariables:a}}){const{nodeStyles:s}=en(e);e.label="";const i=t.insert("g").attr("class",un(e)).attr("id",e.domId??e.id),{cssStyles:o}=e;let c=Math.max(70,e?.width??0),u=Math.max(10,e?.height??0);n==="LR"&&(c=Math.max(10,e?.width??0),u=Math.max(70,e?.height??0));const d=-1*c/2,m=-1*u/2,h=Zt.svg(i),p=Jt(e,{stroke:a.lineColor,fill:a.lineColor});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const f=h.rectangle(d,m,c,u,p),g=i.insert(()=>f,":first-child");o&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",o),s&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",s),nn(e,g);const x=r?.padding??0;return e.width&&e.height&&(e.width+=x/2||0,e.height+=x/2||0),e.intersect=function(y){return Ft.rect(e,y)},i}X(PG,"forkJoin");async function FG(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const a=80,s=50,{shapeSvg:i,bbox:o}=await fn(t,e,un(e)),c=Math.max(a,o.width+(e.padding??0)*2,e?.width??0),u=Math.max(s,o.height+(e.padding??0)*2,e?.height??0),d=u/2,{cssStyles:m}=e,h=Zt.svg(i),p=Jt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const f=[{x:-c/2,y:-u/2},{x:c/2-d,y:-u/2},...Cf(-c/2+d,0,d,50,90,270),{x:c/2-d,y:u/2},{x:-c/2,y:u/2}],g=Fn(f),x=h.path(g,p),y=i.insert(()=>x,":first-child");return y.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",m),r&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",r),nn(e,y),e.intersect=function(w){return ut.info("Pill intersect",e,{radius:d,point:w}),Ft.polygon(e,f,w)},i}X(FG,"halfRoundedRectangle");async function BG(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await fn(t,e,un(e)),i=s.height+(e.padding??0),o=s.width+(e.padding??0)*2.5,{cssStyles:c}=e,u=Zt.svg(a),d=Jt(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");let m=o/2;const h=m/6;m=m+h;const p=i/2,f=p/2,g=m-f,x=[{x:-g,y:-p},{x:0,y:-p},{x:g,y:-p},{x:m,y:0},{x:g,y:p},{x:0,y:p},{x:-g,y:p},{x:-m,y:0}],y=Fn(x),w=u.path(y,d),v=a.insert(()=>w,":first-child");return v.attr("class","basic label-container"),c&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",c),r&&e.look!=="handDrawn"&&v.selectChildren("path").attr("style",r),e.width=o,e.height=i,nn(e,v),e.intersect=function(k){return Ft.polygon(e,x,k)},a}X(BG,"hexagon");async function zG(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.label="",e.labelStyle=n;const{shapeSvg:a}=await fn(t,e,un(e)),s=Math.max(30,e?.width??0),i=Math.max(30,e?.height??0),{cssStyles:o}=e,c=Zt.svg(a),u=Jt(e,{});e.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");const d=[{x:0,y:0},{x:s,y:0},{x:0,y:i},{x:s,y:i}],m=Fn(d),h=c.path(m,u),p=a.insert(()=>h,":first-child");return p.attr("class","basic label-container"),o&&e.look!=="handDrawn"&&p.selectChildren("path").attr("style",o),r&&e.look!=="handDrawn"&&p.selectChildren("path").attr("style",r),p.attr("transform",`translate(${-s/2}, ${-i/2})`),nn(e,p),e.intersect=function(f){return ut.info("Pill intersect",e,{points:d}),Ft.polygon(e,d,f)},a}X(zG,"hourglass");async function HG(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:a}=en(e);e.labelStyle=a;const s=e.assetHeight??48,i=e.assetWidth??48,o=Math.max(s,i),c=r?.wrappingWidth;e.width=Math.max(o,c??0);const{shapeSvg:u,bbox:d,label:m}=await fn(t,e,"icon-shape default"),h=e.pos==="t",p=o,f=o,{nodeBorder:g}=n,{stylesMap:x}=dh(e),y=-f/2,w=-p/2,v=e.label?8:0,k=Zt.svg(u),C=Jt(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const _=k.rectangle(y,w,f,p,C),S=Math.max(f,d.width),T=p+d.height+v,N=k.rectangle(-S/2,-T/2,S,T,{...C,fill:"transparent",stroke:"none"}),j=u.insert(()=>_,":first-child"),R=u.insert(()=>N);if(e.icon){const I=u.append("g");I.html(`<g>${await f0(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const A=I.node().getBBox(),$=A.width,E=A.height,M=A.x,F=A.y;I.attr("transform",`translate(${-$/2-M},${h?d.height/2+v/2-E/2-F:-d.height/2-v/2-E/2-F})`),I.attr("style",`color: ${x.get("stroke")??g};`)}return m.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${h?-T/2:T/2-d.height})`),j.attr("transform",`translate(0,${h?d.height/2+v/2:-d.height/2-v/2})`),nn(e,R),e.intersect=function(I){if(ut.info("iconSquare intersect",e,I),!e.label)return Ft.rect(e,I);const A=e.x??0,$=e.y??0,E=e.height??0;let M=[];return h?M=[{x:A-d.width/2,y:$-E/2},{x:A+d.width/2,y:$-E/2},{x:A+d.width/2,y:$-E/2+d.height+v},{x:A+f/2,y:$-E/2+d.height+v},{x:A+f/2,y:$+E/2},{x:A-f/2,y:$+E/2},{x:A-f/2,y:$-E/2+d.height+v},{x:A-d.width/2,y:$-E/2+d.height+v}]:M=[{x:A-f/2,y:$-E/2},{x:A+f/2,y:$-E/2},{x:A+f/2,y:$-E/2+p},{x:A+d.width/2,y:$-E/2+p},{x:A+d.width/2/2,y:$+E/2},{x:A-d.width/2,y:$+E/2},{x:A-d.width/2,y:$-E/2+p},{x:A-f/2,y:$-E/2+p}],Ft.polygon(e,M,I)},u}X(HG,"icon");async function qG(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:a}=en(e);e.labelStyle=a;const s=e.assetHeight??48,i=e.assetWidth??48,o=Math.max(s,i),c=r?.wrappingWidth;e.width=Math.max(o,c??0);const{shapeSvg:u,bbox:d,label:m}=await fn(t,e,"icon-shape default"),h=20,p=e.label?8:0,f=e.pos==="t",{nodeBorder:g,mainBkg:x}=n,{stylesMap:y}=dh(e),w=Zt.svg(u),v=Jt(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const k=y.get("fill");v.stroke=k??x;const C=u.append("g");e.icon&&C.html(`<g>${await f0(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const _=C.node().getBBox(),S=_.width,T=_.height,N=_.x,j=_.y,R=Math.max(S,T)*Math.SQRT2+h*2,I=w.circle(0,0,R,v),A=Math.max(R,d.width),$=R+d.height+p,E=w.rectangle(-A/2,-$/2,A,$,{...v,fill:"transparent",stroke:"none"}),M=u.insert(()=>I,":first-child"),F=u.insert(()=>E);return C.attr("transform",`translate(${-S/2-N},${f?d.height/2+p/2-T/2-j:-d.height/2-p/2-T/2-j})`),C.attr("style",`color: ${y.get("stroke")??g};`),m.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${f?-$/2:$/2-d.height})`),M.attr("transform",`translate(0,${f?d.height/2+p/2:-d.height/2-p/2})`),nn(e,F),e.intersect=function(L){return ut.info("iconSquare intersect",e,L),Ft.rect(e,L)},u}X(qG,"iconCircle");async function UG(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:a}=en(e);e.labelStyle=a;const s=e.assetHeight??48,i=e.assetWidth??48,o=Math.max(s,i),c=r?.wrappingWidth;e.width=Math.max(o,c??0);const{shapeSvg:u,bbox:d,halfPadding:m,label:h}=await fn(t,e,"icon-shape default"),p=e.pos==="t",f=o+m*2,g=o+m*2,{nodeBorder:x,mainBkg:y}=n,{stylesMap:w}=dh(e),v=-g/2,k=-f/2,C=e.label?8:0,_=Zt.svg(u),S=Jt(e,{});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const T=w.get("fill");S.stroke=T??y;const N=_.path(Cc(v,k,g,f,5),S),j=Math.max(g,d.width),R=f+d.height+C,I=_.rectangle(-j/2,-R/2,j,R,{...S,fill:"transparent",stroke:"none"}),A=u.insert(()=>N,":first-child").attr("class","icon-shape2"),$=u.insert(()=>I);if(e.icon){const E=u.append("g");E.html(`<g>${await f0(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const M=E.node().getBBox(),F=M.width,L=M.height,Y=M.x,O=M.y;E.attr("transform",`translate(${-F/2-Y},${p?d.height/2+C/2-L/2-O:-d.height/2-C/2-L/2-O})`),E.attr("style",`color: ${w.get("stroke")??x};`)}return h.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${p?-R/2:R/2-d.height})`),A.attr("transform",`translate(0,${p?d.height/2+C/2:-d.height/2-C/2})`),nn(e,$),e.intersect=function(E){if(ut.info("iconSquare intersect",e,E),!e.label)return Ft.rect(e,E);const M=e.x??0,F=e.y??0,L=e.height??0;let Y=[];return p?Y=[{x:M-d.width/2,y:F-L/2},{x:M+d.width/2,y:F-L/2},{x:M+d.width/2,y:F-L/2+d.height+C},{x:M+g/2,y:F-L/2+d.height+C},{x:M+g/2,y:F+L/2},{x:M-g/2,y:F+L/2},{x:M-g/2,y:F-L/2+d.height+C},{x:M-d.width/2,y:F-L/2+d.height+C}]:Y=[{x:M-g/2,y:F-L/2},{x:M+g/2,y:F-L/2},{x:M+g/2,y:F-L/2+f},{x:M+d.width/2,y:F-L/2+f},{x:M+d.width/2/2,y:F+L/2},{x:M-d.width/2,y:F+L/2},{x:M-d.width/2,y:F-L/2+f},{x:M-g/2,y:F-L/2+f}],Ft.polygon(e,Y,E)},u}X(UG,"iconRounded");async function WG(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:a}=en(e);e.labelStyle=a;const s=e.assetHeight??48,i=e.assetWidth??48,o=Math.max(s,i),c=r?.wrappingWidth;e.width=Math.max(o,c??0);const{shapeSvg:u,bbox:d,halfPadding:m,label:h}=await fn(t,e,"icon-shape default"),p=e.pos==="t",f=o+m*2,g=o+m*2,{nodeBorder:x,mainBkg:y}=n,{stylesMap:w}=dh(e),v=-g/2,k=-f/2,C=e.label?8:0,_=Zt.svg(u),S=Jt(e,{});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const T=w.get("fill");S.stroke=T??y;const N=_.path(Cc(v,k,g,f,.1),S),j=Math.max(g,d.width),R=f+d.height+C,I=_.rectangle(-j/2,-R/2,j,R,{...S,fill:"transparent",stroke:"none"}),A=u.insert(()=>N,":first-child"),$=u.insert(()=>I);if(e.icon){const E=u.append("g");E.html(`<g>${await f0(e.icon,{height:o,width:o,fallbackPrefix:""})}</g>`);const M=E.node().getBBox(),F=M.width,L=M.height,Y=M.x,O=M.y;E.attr("transform",`translate(${-F/2-Y},${p?d.height/2+C/2-L/2-O:-d.height/2-C/2-L/2-O})`),E.attr("style",`color: ${w.get("stroke")??x};`)}return h.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${p?-R/2:R/2-d.height})`),A.attr("transform",`translate(0,${p?d.height/2+C/2:-d.height/2-C/2})`),nn(e,$),e.intersect=function(E){if(ut.info("iconSquare intersect",e,E),!e.label)return Ft.rect(e,E);const M=e.x??0,F=e.y??0,L=e.height??0;let Y=[];return p?Y=[{x:M-d.width/2,y:F-L/2},{x:M+d.width/2,y:F-L/2},{x:M+d.width/2,y:F-L/2+d.height+C},{x:M+g/2,y:F-L/2+d.height+C},{x:M+g/2,y:F+L/2},{x:M-g/2,y:F+L/2},{x:M-g/2,y:F-L/2+d.height+C},{x:M-d.width/2,y:F-L/2+d.height+C}]:Y=[{x:M-g/2,y:F-L/2},{x:M+g/2,y:F-L/2},{x:M+g/2,y:F-L/2+f},{x:M+d.width/2,y:F-L/2+f},{x:M+d.width/2/2,y:F+L/2},{x:M-d.width/2,y:F+L/2},{x:M-d.width/2,y:F-L/2+f},{x:M-g/2,y:F-L/2+f}],Ft.polygon(e,Y,E)},u}X(WG,"iconSquare");async function GG(t,e,{config:{flowchart:n}}){const r=new Image;r.src=e?.img??"",await r.decode();const a=Number(r.naturalWidth.toString().replace("px","")),s=Number(r.naturalHeight.toString().replace("px",""));e.imageAspectRatio=a/s;const{labelStyles:i}=en(e);e.labelStyle=i;const o=n?.wrappingWidth;e.defaultWidth=n?.wrappingWidth;const c=Math.max(e.label?o??0:0,e?.assetWidth??a),u=e.constraint==="on"&&e?.assetHeight?e.assetHeight*e.imageAspectRatio:c,d=e.constraint==="on"?u/e.imageAspectRatio:e?.assetHeight??s;e.width=Math.max(u,o??0);const{shapeSvg:m,bbox:h,label:p}=await fn(t,e,"image-shape default"),f=e.pos==="t",g=-u/2,x=-d/2,y=e.label?8:0,w=Zt.svg(m),v=Jt(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const k=w.rectangle(g,x,u,d,v),C=Math.max(u,h.width),_=d+h.height+y,S=w.rectangle(-C/2,-_/2,C,_,{...v,fill:"none",stroke:"none"}),T=m.insert(()=>k,":first-child"),N=m.insert(()=>S);if(e.img){const j=m.append("image");j.attr("href",e.img),j.attr("width",u),j.attr("height",d),j.attr("preserveAspectRatio","none"),j.attr("transform",`translate(${-u/2},${f?_/2-d:-_/2})`)}return p.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))},${f?-d/2-h.height/2-y/2:d/2-h.height/2+y/2})`),T.attr("transform",`translate(0,${f?h.height/2+y/2:-h.height/2-y/2})`),nn(e,N),e.intersect=function(j){if(ut.info("iconSquare intersect",e,j),!e.label)return Ft.rect(e,j);const R=e.x??0,I=e.y??0,A=e.height??0;let $=[];return f?$=[{x:R-h.width/2,y:I-A/2},{x:R+h.width/2,y:I-A/2},{x:R+h.width/2,y:I-A/2+h.height+y},{x:R+u/2,y:I-A/2+h.height+y},{x:R+u/2,y:I+A/2},{x:R-u/2,y:I+A/2},{x:R-u/2,y:I-A/2+h.height+y},{x:R-h.width/2,y:I-A/2+h.height+y}]:$=[{x:R-u/2,y:I-A/2},{x:R+u/2,y:I-A/2},{x:R+u/2,y:I-A/2+d},{x:R+h.width/2,y:I-A/2+d},{x:R+h.width/2/2,y:I+A/2},{x:R-h.width/2,y:I+A/2},{x:R-h.width/2,y:I-A/2+d},{x:R-u/2,y:I-A/2+d}],Ft.polygon(e,$,j)},m}X(GG,"imageSquare");async function VG(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await fn(t,e,un(e)),i=Math.max(s.width+(e.padding??0)*2,e?.width??0),o=Math.max(s.height+(e.padding??0)*2,e?.height??0),c=[{x:0,y:0},{x:i,y:0},{x:i+3*o/6,y:-o},{x:-3*o/6,y:-o}];let u;const{cssStyles:d}=e;if(e.look==="handDrawn"){const m=Zt.svg(a),h=Jt(e,{}),p=Fn(c),f=m.path(p,h);u=a.insert(()=>f,":first-child").attr("transform",`translate(${-i/2}, ${o/2})`),d&&u.attr("style",d)}else u=Sc(a,i,o,c);return r&&u.attr("style",r),e.width=i,e.height=o,nn(e,u),e.intersect=function(m){return Ft.polygon(e,c,m)},a}X(VG,"inv_trapezoid");async function p2(t,e,n){const{labelStyles:r,nodeStyles:a}=en(e);e.labelStyle=r;const{shapeSvg:s,bbox:i}=await fn(t,e,un(e)),o=Math.max(i.width+n.labelPaddingX*2,e?.width||0),c=Math.max(i.height+n.labelPaddingY*2,e?.height||0),u=-o/2,d=-c/2;let m,{rx:h,ry:p}=e;const{cssStyles:f}=e;if(n?.rx&&n.ry&&(h=n.rx,p=n.ry),e.look==="handDrawn"){const g=Zt.svg(s),x=Jt(e,{}),y=h||p?g.path(Cc(u,d,o,c,h||0),x):g.rectangle(u,d,o,c,x);m=s.insert(()=>y,":first-child"),m.attr("class","basic label-container").attr("style",Pa(f))}else m=s.insert("rect",":first-child"),m.attr("class","basic label-container").attr("style",a).attr("rx",Pa(h)).attr("ry",Pa(p)).attr("x",u).attr("y",d).attr("width",o).attr("height",c);return nn(e,m),e.calcIntersect=function(g,x){return Ft.rect(g,x)},e.intersect=function(g){return Ft.rect(e,g)},s}X(p2,"drawRect");async function KG(t,e){const{shapeSvg:n,bbox:r,label:a}=await fn(t,e,"label"),s=n.insert("rect",":first-child");return s.attr("width",.1).attr("height",.1),n.attr("class","label edgeLabel"),a.attr("transform",`translate(${-(r.width/2)-(r.x-(r.left??0))}, ${-(r.height/2)-(r.y-(r.top??0))})`),nn(e,s),e.intersect=function(c){return Ft.rect(e,c)},n}X(KG,"labelRect");async function YG(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await fn(t,e,un(e)),i=Math.max(s.width+(e.padding??0),e?.width??0),o=Math.max(s.height+(e.padding??0),e?.height??0),c=[{x:0,y:0},{x:i+3*o/6,y:0},{x:i,y:-o},{x:-(3*o)/6,y:-o}];let u;const{cssStyles:d}=e;if(e.look==="handDrawn"){const m=Zt.svg(a),h=Jt(e,{}),p=Fn(c),f=m.path(p,h);u=a.insert(()=>f,":first-child").attr("transform",`translate(${-i/2}, ${o/2})`),d&&u.attr("style",d)}else u=Sc(a,i,o,c);return r&&u.attr("style",r),e.width=i,e.height=o,nn(e,u),e.intersect=function(m){return Ft.polygon(e,c,m)},a}X(YG,"lean_left");async function XG(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await fn(t,e,un(e)),i=Math.max(s.width+(e.padding??0),e?.width??0),o=Math.max(s.height+(e.padding??0),e?.height??0),c=[{x:-3*o/6,y:0},{x:i,y:0},{x:i+3*o/6,y:-o},{x:0,y:-o}];let u;const{cssStyles:d}=e;if(e.look==="handDrawn"){const m=Zt.svg(a),h=Jt(e,{}),p=Fn(c),f=m.path(p,h);u=a.insert(()=>f,":first-child").attr("transform",`translate(${-i/2}, ${o/2})`),d&&u.attr("style",d)}else u=Sc(a,i,o,c);return r&&u.attr("style",r),e.width=i,e.height=o,nn(e,u),e.intersect=function(m){return Ft.polygon(e,c,m)},a}X(XG,"lean_right");function ZG(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.label="",e.labelStyle=n;const a=t.insert("g").attr("class",un(e)).attr("id",e.domId??e.id),{cssStyles:s}=e,i=Math.max(35,e?.width??0),o=Math.max(35,e?.height??0),c=7,u=[{x:i,y:0},{x:0,y:o+c/2},{x:i-2*c,y:o+c/2},{x:0,y:2*o},{x:i,y:o-c/2},{x:2*c,y:o-c/2}],d=Zt.svg(a),m=Jt(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const h=Fn(u),p=d.path(h,m),f=a.insert(()=>p,":first-child");return s&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",s),r&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",r),f.attr("transform",`translate(-${i/2},${-o})`),nn(e,f),e.intersect=function(g){return ut.info("lightningBolt intersect",e,g),Ft.polygon(e,u,g)},a}X(ZG,"lightningBolt");var KLe=X((t,e,n,r,a,s,i)=>[`M${t},${e+s}`,`a${a},${s} 0,0,0 ${n},0`,`a${a},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${a},${s} 0,0,0 ${n},0`,`l0,${-r}`,`M${t},${e+s+i}`,`a${a},${s} 0,0,0 ${n},0`].join(" "),"createCylinderPathD"),YLe=X((t,e,n,r,a,s,i)=>[`M${t},${e+s}`,`M${t+n},${e+s}`,`a${a},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${a},${s} 0,0,0 ${n},0`,`l0,${-r}`,`M${t},${e+s+i}`,`a${a},${s} 0,0,0 ${n},0`].join(" "),"createOuterCylinderPathD"),XLe=X((t,e,n,r,a,s)=>[`M${t-n/2},${-r/2}`,`a${a},${s} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function QG(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,label:i}=await fn(t,e,un(e)),o=Math.max(s.width+(e.padding??0),e.width??0),c=o/2,u=c/(2.5+o/50),d=Math.max(s.height+u+(e.padding??0),e.height??0),m=d*.1;let h;const{cssStyles:p}=e;if(e.look==="handDrawn"){const f=Zt.svg(a),g=YLe(0,0,o,d,c,u,m),x=XLe(0,u,o,d,c,u),y=Jt(e,{}),w=f.path(g,y),v=f.path(x,y);a.insert(()=>v,":first-child").attr("class","line"),h=a.insert(()=>w,":first-child"),h.attr("class","basic label-container"),p&&h.attr("style",p)}else{const f=KLe(0,0,o,d,c,u,m);h=a.insert("path",":first-child").attr("d",f).attr("class","basic label-container").attr("style",Pa(p)).attr("style",r)}return h.attr("label-offset-y",u),h.attr("transform",`translate(${-o/2}, ${-(d/2+u)})`),nn(e,h),i.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+u-(s.y-(s.top??0))})`),e.intersect=function(f){const g=Ft.rect(e,f),x=g.x-(e.x??0);if(c!=0&&(Math.abs(x)<(e.width??0)/2||Math.abs(x)==(e.width??0)/2&&Math.abs(g.y-(e.y??0))>(e.height??0)/2-u)){let y=u*u*(1-x*x/(c*c));y>0&&(y=Math.sqrt(y)),y=u-y,f.y-(e.y??0)>0&&(y=-y),g.y+=y}return g},a}X(QG,"linedCylinder");async function JG(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,label:i}=await fn(t,e,un(e)),o=Math.max(s.width+(e.padding??0)*2,e?.width??0),c=Math.max(s.height+(e.padding??0)*2,e?.height??0),u=c/4,d=c+u,{cssStyles:m}=e,h=Zt.svg(a),p=Jt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const f=[{x:-o/2-o/2*.1,y:-d/2},{x:-o/2-o/2*.1,y:d/2},...ic(-o/2-o/2*.1,d/2,o/2+o/2*.1,d/2,u,.8),{x:o/2+o/2*.1,y:-d/2},{x:-o/2-o/2*.1,y:-d/2},{x:-o/2,y:-d/2},{x:-o/2,y:d/2*1.1},{x:-o/2,y:-d/2}],g=h.polygon(f.map(y=>[y.x,y.y]),p),x=a.insert(()=>g,":first-child");return x.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",m),r&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",r),x.attr("transform",`translate(0,${-u/2})`),i.attr("transform",`translate(${-o/2+(e.padding??0)+o/2*.1/2-(s.x-(s.left??0))},${-c/2+(e.padding??0)-u/2-(s.y-(s.top??0))})`),nn(e,x),e.intersect=function(y){return Ft.polygon(e,f,y)},a}X(JG,"linedWaveEdgedRect");async function eV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,label:i}=await fn(t,e,un(e)),o=Math.max(s.width+(e.padding??0)*2,e?.width??0),c=Math.max(s.height+(e.padding??0)*2,e?.height??0),u=5,d=-o/2,m=-c/2,{cssStyles:h}=e,p=Zt.svg(a),f=Jt(e,{}),g=[{x:d-u,y:m+u},{x:d-u,y:m+c+u},{x:d+o-u,y:m+c+u},{x:d+o-u,y:m+c},{x:d+o,y:m+c},{x:d+o,y:m+c-u},{x:d+o+u,y:m+c-u},{x:d+o+u,y:m-u},{x:d+u,y:m-u},{x:d+u,y:m},{x:d,y:m},{x:d,y:m+u}],x=[{x:d,y:m+u},{x:d+o-u,y:m+u},{x:d+o-u,y:m+c},{x:d+o,y:m+c},{x:d+o,y:m},{x:d,y:m}];e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const y=Fn(g),w=p.path(y,f),v=Fn(x),k=p.path(v,{...f,fill:"none"}),C=a.insert(()=>k,":first-child");return C.insert(()=>w,":first-child"),C.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",h),r&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",r),i.attr("transform",`translate(${-(s.width/2)-u-(s.x-(s.left??0))}, ${-(s.height/2)+u-(s.y-(s.top??0))})`),nn(e,C),e.intersect=function(_){return Ft.polygon(e,g,_)},a}X(eV,"multiRect");async function tV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,label:i}=await fn(t,e,un(e)),o=Math.max(s.width+(e.padding??0)*2,e?.width??0),c=Math.max(s.height+(e.padding??0)*2,e?.height??0),u=c/4,d=c+u,m=-o/2,h=-d/2,p=5,{cssStyles:f}=e,g=ic(m-p,h+d+p,m+o-p,h+d+p,u,.8),x=g?.[g.length-1],y=[{x:m-p,y:h+p},{x:m-p,y:h+d+p},...g,{x:m+o-p,y:x.y-p},{x:m+o,y:x.y-p},{x:m+o,y:x.y-2*p},{x:m+o+p,y:x.y-2*p},{x:m+o+p,y:h-p},{x:m+p,y:h-p},{x:m+p,y:h},{x:m,y:h},{x:m,y:h+p}],w=[{x:m,y:h+p},{x:m+o-p,y:h+p},{x:m+o-p,y:x.y-p},{x:m+o,y:x.y-p},{x:m+o,y:h},{x:m,y:h}],v=Zt.svg(a),k=Jt(e,{});e.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const C=Fn(y),_=v.path(C,k),S=Fn(w),T=v.path(S,k),N=a.insert(()=>_,":first-child");return N.insert(()=>T),N.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&N.selectAll("path").attr("style",f),r&&e.look!=="handDrawn"&&N.selectAll("path").attr("style",r),N.attr("transform",`translate(0,${-u/2})`),i.attr("transform",`translate(${-(s.width/2)-p-(s.x-(s.left??0))}, ${-(s.height/2)+p-u/2-(s.y-(s.top??0))})`),nn(e,N),e.intersect=function(j){return Ft.polygon(e,y,j)},a}X(tV,"multiWaveEdgedRectangle");async function nV(t,e,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:a}=en(e);e.labelStyle=r,e.useHtmlLabels||La().flowchart?.htmlLabels!==!1||(e.centerLabel=!0);const{shapeSvg:i,bbox:o,label:c}=await fn(t,e,un(e)),u=Math.max(o.width+(e.padding??0)*2,e?.width??0),d=Math.max(o.height+(e.padding??0)*2,e?.height??0),m=-u/2,h=-d/2,{cssStyles:p}=e,f=Zt.svg(i),g=Jt(e,{fill:n.noteBkgColor,stroke:n.noteBorderColor});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const x=f.rectangle(m,h,u,d,g),y=i.insert(()=>x,":first-child");return y.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",p),a&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",a),c.attr("transform",`translate(${-o.width/2-(o.x-(o.left??0))}, ${-(o.height/2)-(o.y-(o.top??0))})`),nn(e,y),e.intersect=function(w){return Ft.rect(e,w)},i}X(nV,"note");var ZLe=X((t,e,n)=>[`M${t+n/2},${e}`,`L${t+n},${e-n/2}`,`L${t+n/2},${e-n}`,`L${t},${e-n/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function rV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await fn(t,e,un(e)),i=s.width+e.padding,o=s.height+e.padding,c=i+o,u=.5,d=[{x:c/2,y:0},{x:c,y:-c/2},{x:c/2,y:-c},{x:0,y:-c/2}];let m;const{cssStyles:h}=e;if(e.look==="handDrawn"){const p=Zt.svg(a),f=Jt(e,{}),g=ZLe(0,0,c),x=p.path(g,f);m=a.insert(()=>x,":first-child").attr("transform",`translate(${-c/2+u}, ${c/2})`),h&&m.attr("style",h)}else m=Sc(a,c,c,d),m.attr("transform",`translate(${-c/2+u}, ${c/2})`);return r&&m.attr("style",r),nn(e,m),e.calcIntersect=function(p,f){const g=p.width,x=[{x:g/2,y:0},{x:g,y:-g/2},{x:g/2,y:-g},{x:0,y:-g/2}],y=Ft.polygon(p,x,f);return{x:y.x-.5,y:y.y-.5}},e.intersect=function(p){return this.calcIntersect(e,p)},a}X(rV,"question");async function aV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,label:i}=await fn(t,e,un(e)),o=Math.max(s.width+(e.padding??0),e?.width??0),c=Math.max(s.height+(e.padding??0),e?.height??0),u=-o/2,d=-c/2,m=d/2,h=[{x:u+m,y:d},{x:u,y:0},{x:u+m,y:-d},{x:-u,y:-d},{x:-u,y:d}],{cssStyles:p}=e,f=Zt.svg(a),g=Jt(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const x=Fn(h),y=f.path(x,g),w=a.insert(()=>y,":first-child");return w.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",p),r&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",r),w.attr("transform",`translate(${-m/2},0)`),i.attr("transform",`translate(${-m/2-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),nn(e,w),e.intersect=function(v){return Ft.polygon(e,h,v)},a}X(aV,"rect_left_inv_arrow");async function sV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;let a;e.cssClasses?a="node "+e.cssClasses:a="node default";const s=t.insert("g").attr("class",a).attr("id",e.domId||e.id),i=s.insert("g"),o=s.insert("g").attr("class","label").attr("style",r),c=e.description,u=e.label,d=o.node().appendChild(await Jc(u,e.labelStyle,!0,!0));let m={width:0,height:0};if(aa(er()?.flowchart?.htmlLabels)){const T=d.children[0],N=qn(d);m=T.getBoundingClientRect(),N.attr("width",m.width),N.attr("height",m.height)}ut.info("Text 2",c);const h=c||[],p=d.getBBox(),f=o.node().appendChild(await Jc(h.join?h.join("<br/>"):h,e.labelStyle,!0,!0)),g=f.children[0],x=qn(f);m=g.getBoundingClientRect(),x.attr("width",m.width),x.attr("height",m.height);const y=(e.padding||0)/2;qn(f).attr("transform","translate( "+(m.width>p.width?0:(p.width-m.width)/2)+", "+(p.height+y+5)+")"),qn(d).attr("transform","translate( "+(m.width<p.width?0:-(p.width-m.width)/2)+", 0)"),m=o.node().getBBox(),o.attr("transform","translate("+-m.width/2+", "+(-m.height/2-y+3)+")");const w=m.width+(e.padding||0),v=m.height+(e.padding||0),k=-m.width/2-y,C=-m.height/2-y;let _,S;if(e.look==="handDrawn"){const T=Zt.svg(s),N=Jt(e,{}),j=T.path(Cc(k,C,w,v,e.rx||0),N),R=T.line(-m.width/2-y,-m.height/2-y+p.height+y,m.width/2+y,-m.height/2-y+p.height+y,N);S=s.insert(()=>(ut.debug("Rough node insert CXC",j),R),":first-child"),_=s.insert(()=>(ut.debug("Rough node insert CXC",j),j),":first-child")}else _=i.insert("rect",":first-child"),S=i.insert("line"),_.attr("class","outer title-state").attr("style",r).attr("x",-m.width/2-y).attr("y",-m.height/2-y).attr("width",m.width+(e.padding||0)).attr("height",m.height+(e.padding||0)),S.attr("class","divider").attr("x1",-m.width/2-y).attr("x2",m.width/2+y).attr("y1",-m.height/2-y+p.height+y).attr("y2",-m.height/2-y+p.height+y);return nn(e,_),e.intersect=function(T){return Ft.rect(e,T)},s}X(sV,"rectWithTitle");function op(t,e,n,r,a,s,i){const c=(t+n)/2,u=(e+r)/2,d=Math.atan2(r-e,n-t),m=(n-t)/2,h=(r-e)/2,p=m/a,f=h/s,g=Math.sqrt(p**2+f**2);if(g>1)throw new Error("The given radii are too small to create an arc between the points.");const x=Math.sqrt(1-g**2),y=c+x*s*Math.sin(d)*(i?-1:1),w=u-x*a*Math.cos(d)*(i?-1:1),v=Math.atan2((e-w)/s,(t-y)/a);let C=Math.atan2((r-w)/s,(n-y)/a)-v;i&&C<0&&(C+=2*Math.PI),!i&&C>0&&(C-=2*Math.PI);const _=[];for(let S=0;S<20;S++){const T=S/19,N=v+T*C,j=y+a*Math.cos(N),R=w+s*Math.sin(N);_.push({x:j,y:R})}return _}X(op,"generateArcPoints");async function iV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await fn(t,e,un(e)),i=e?.padding??0,o=e?.padding??0,c=(e?.width?e?.width:s.width)+i*2,u=(e?.height?e?.height:s.height)+o*2,d=e.radius||5,m=e.taper||5,{cssStyles:h}=e,p=Zt.svg(a),f=Jt(e,{});e.stroke&&(f.stroke=e.stroke),e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=[{x:-c/2+m,y:-u/2},{x:c/2-m,y:-u/2},...op(c/2-m,-u/2,c/2,-u/2+m,d,d,!0),{x:c/2,y:-u/2+m},{x:c/2,y:u/2-m},...op(c/2,u/2-m,c/2-m,u/2,d,d,!0),{x:c/2-m,y:u/2},{x:-c/2+m,y:u/2},...op(-c/2+m,u/2,-c/2,u/2-m,d,d,!0),{x:-c/2,y:u/2-m},{x:-c/2,y:-u/2+m},...op(-c/2,-u/2+m,-c/2+m,-u/2,d,d,!0)],x=Fn(g),y=p.path(x,f),w=a.insert(()=>y,":first-child");return w.attr("class","basic label-container outer-path"),h&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",h),r&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",r),nn(e,w),e.intersect=function(v){return Ft.polygon(e,g,v)},a}X(iV,"roundedRect");async function oV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,label:i}=await fn(t,e,un(e)),o=e?.padding??0,c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),d=-s.width/2-o,m=-s.height/2-o,{cssStyles:h}=e,p=Zt.svg(a),f=Jt(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=[{x:d,y:m},{x:d+c+8,y:m},{x:d+c+8,y:m+u},{x:d-8,y:m+u},{x:d-8,y:m},{x:d,y:m},{x:d,y:m+u}],x=p.polygon(g.map(w=>[w.x,w.y]),f),y=a.insert(()=>x,":first-child");return y.attr("class","basic label-container").attr("style",Pa(h)),r&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",r),h&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",r),i.attr("transform",`translate(${-c/2+4+(e.padding??0)-(s.x-(s.left??0))},${-u/2+(e.padding??0)-(s.y-(s.top??0))})`),nn(e,y),e.intersect=function(w){return Ft.rect(e,w)},a}X(oV,"shadedProcess");async function lV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,label:i}=await fn(t,e,un(e)),o=Math.max(s.width+(e.padding??0)*2,e?.width??0),c=Math.max(s.height+(e.padding??0)*2,e?.height??0),u=-o/2,d=-c/2,{cssStyles:m}=e,h=Zt.svg(a),p=Jt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const f=[{x:u,y:d},{x:u,y:d+c},{x:u+o,y:d+c},{x:u+o,y:d-c/2}],g=Fn(f),x=h.path(g,p),y=a.insert(()=>x,":first-child");return y.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",m),r&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",r),y.attr("transform",`translate(0, ${c/4})`),i.attr("transform",`translate(${-o/2+(e.padding??0)-(s.x-(s.left??0))}, ${-c/4+(e.padding??0)-(s.y-(s.top??0))})`),nn(e,y),e.intersect=function(w){return Ft.polygon(e,f,w)},a}X(lV,"slopedRect");async function cV(t,e){const n={rx:0,ry:0,labelPaddingX:e.labelPaddingX??(e?.padding||0)*2,labelPaddingY:(e?.padding||0)*1};return p2(t,e,n)}X(cV,"squareRect");async function uV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await fn(t,e,un(e)),i=s.height+e.padding,o=s.width+i/4+e.padding,c=i/2,{cssStyles:u}=e,d=Zt.svg(a),m=Jt(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const h=[{x:-o/2+c,y:-i/2},{x:o/2-c,y:-i/2},...Cf(-o/2+c,0,c,50,90,270),{x:o/2-c,y:i/2},...Cf(o/2-c,0,c,50,270,450)],p=Fn(h),f=d.path(p,m),g=a.insert(()=>f,":first-child");return g.attr("class","basic label-container outer-path"),u&&e.look!=="handDrawn"&&g.selectChildren("path").attr("style",u),r&&e.look!=="handDrawn"&&g.selectChildren("path").attr("style",r),nn(e,g),e.intersect=function(x){return Ft.polygon(e,h,x)},a}X(uV,"stadium");async function dV(t,e){return p2(t,e,{rx:5,ry:5})}X(dV,"state");function mV(t,e,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:a}=en(e);e.labelStyle=r;const{cssStyles:s}=e,{lineColor:i,stateBorder:o,nodeBorder:c}=n,u=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),d=Zt.svg(u),m=Jt(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const h=d.circle(0,0,14,{...m,stroke:i,strokeWidth:2}),p=o??c,f=d.circle(0,0,5,{...m,fill:p,stroke:p,strokeWidth:2,fillStyle:"solid"}),g=u.insert(()=>h,":first-child");return g.insert(()=>f),s&&g.selectAll("path").attr("style",s),a&&g.selectAll("path").attr("style",a),nn(e,g),e.intersect=function(x){return Ft.circle(e,7,x)},u}X(mV,"stateEnd");function hV(t,e,{config:{themeVariables:n}}){const{lineColor:r}=n,a=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let s;if(e.look==="handDrawn"){const o=Zt.svg(a).circle(0,0,14,mIe(r));s=a.insert(()=>o),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else s=a.insert("circle",":first-child"),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return nn(e,s),e.intersect=function(i){return Ft.circle(e,7,i)},a}X(hV,"stateStart");async function pV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await fn(t,e,un(e)),i=(e?.padding||0)/2,o=s.width+e.padding,c=s.height+e.padding,u=-s.width/2-i,d=-s.height/2-i,m=[{x:0,y:0},{x:o,y:0},{x:o,y:-c},{x:0,y:-c},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-c},{x:-8,y:-c},{x:-8,y:0}];if(e.look==="handDrawn"){const h=Zt.svg(a),p=Jt(e,{}),f=h.rectangle(u-8,d,o+16,c,p),g=h.line(u,d,u,d+c,p),x=h.line(u+o,d,u+o,d+c,p);a.insert(()=>g,":first-child"),a.insert(()=>x,":first-child");const y=a.insert(()=>f,":first-child"),{cssStyles:w}=e;y.attr("class","basic label-container").attr("style",Pa(w)),nn(e,y)}else{const h=Sc(a,o,c,m);r&&h.attr("style",r),nn(e,h)}return e.intersect=function(h){return Ft.polygon(e,m,h)},a}X(pV,"subroutine");async function fV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await fn(t,e,un(e)),i=Math.max(s.width+(e.padding??0)*2,e?.width??0),o=Math.max(s.height+(e.padding??0)*2,e?.height??0),c=-i/2,u=-o/2,d=.2*o,m=.2*o,{cssStyles:h}=e,p=Zt.svg(a),f=Jt(e,{}),g=[{x:c-d/2,y:u},{x:c+i+d/2,y:u},{x:c+i+d/2,y:u+o},{x:c-d/2,y:u+o}],x=[{x:c+i-d/2,y:u+o},{x:c+i+d/2,y:u+o},{x:c+i+d/2,y:u+o-m}];e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const y=Fn(g),w=p.path(y,f),v=Fn(x),k=p.path(v,{...f,fillStyle:"solid"}),C=a.insert(()=>k,":first-child");return C.insert(()=>w,":first-child"),C.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",h),r&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",r),nn(e,C),e.intersect=function(_){return Ft.polygon(e,g,_)},a}X(fV,"taggedRect");async function gV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,label:i}=await fn(t,e,un(e)),o=Math.max(s.width+(e.padding??0)*2,e?.width??0),c=Math.max(s.height+(e.padding??0)*2,e?.height??0),u=c/4,d=.2*o,m=.2*c,h=c+u,{cssStyles:p}=e,f=Zt.svg(a),g=Jt(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const x=[{x:-o/2-o/2*.1,y:h/2},...ic(-o/2-o/2*.1,h/2,o/2+o/2*.1,h/2,u,.8),{x:o/2+o/2*.1,y:-h/2},{x:-o/2-o/2*.1,y:-h/2}],y=-o/2+o/2*.1,w=-h/2-m*.4,v=[{x:y+o-d,y:(w+c)*1.4},{x:y+o,y:w+c-m},{x:y+o,y:(w+c)*.9},...ic(y+o,(w+c)*1.3,y+o-d,(w+c)*1.5,-c*.03,.5)],k=Fn(x),C=f.path(k,g),_=Fn(v),S=f.path(_,{...g,fillStyle:"solid"}),T=a.insert(()=>S,":first-child");return T.insert(()=>C,":first-child"),T.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",p),r&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",r),T.attr("transform",`translate(0,${-u/2})`),i.attr("transform",`translate(${-o/2+(e.padding??0)-(s.x-(s.left??0))},${-c/2+(e.padding??0)-u/2-(s.y-(s.top??0))})`),nn(e,T),e.intersect=function(N){return Ft.polygon(e,x,N)},a}X(gV,"taggedWaveEdgedRectangle");async function bV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await fn(t,e,un(e)),i=Math.max(s.width+e.padding,e?.width||0),o=Math.max(s.height+e.padding,e?.height||0),c=-i/2,u=-o/2,d=a.insert("rect",":first-child");return d.attr("class","text").attr("style",r).attr("rx",0).attr("ry",0).attr("x",c).attr("y",u).attr("width",i).attr("height",o),nn(e,d),e.intersect=function(m){return Ft.rect(e,m)},a}X(bV,"text");var QLe=X((t,e,n,r,a,s)=>`M${t},${e}
    a${a},${s} 0,0,1 0,${-r}
    l${n},0
    a${a},${s} 0,0,1 0,${r}
    M${n},${-r}
    a${a},${s} 0,0,0 0,${r}
    l${-n},0`,"createCylinderPathD"),JLe=X((t,e,n,r,a,s)=>[`M${t},${e}`,`M${t+n},${e}`,`a${a},${s} 0,0,0 0,${-r}`,`l${-n},0`,`a${a},${s} 0,0,0 0,${r}`,`l${n},0`].join(" "),"createOuterCylinderPathD"),eOe=X((t,e,n,r,a,s)=>[`M${t+n/2},${-r/2}`,`a${a},${s} 0,0,0 0,${r}`].join(" "),"createInnerCylinderPathD");async function xV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,label:i,halfPadding:o}=await fn(t,e,un(e)),c=e.look==="neo"?o*2:o,u=s.height+c,d=u/2,m=d/(2.5+u/50),h=s.width+m+c,{cssStyles:p}=e;let f;if(e.look==="handDrawn"){const g=Zt.svg(a),x=JLe(0,0,h,u,m,d),y=eOe(0,0,h,u,m,d),w=g.path(x,Jt(e,{})),v=g.path(y,Jt(e,{fill:"none"}));f=a.insert(()=>v,":first-child"),f=a.insert(()=>w,":first-child"),f.attr("class","basic label-container"),p&&f.attr("style",p)}else{const g=QLe(0,0,h,u,m,d);f=a.insert("path",":first-child").attr("d",g).attr("class","basic label-container").attr("style",Pa(p)).attr("style",r),f.attr("class","basic label-container"),p&&f.selectAll("path").attr("style",p),r&&f.selectAll("path").attr("style",r)}return f.attr("label-offset-x",m),f.attr("transform",`translate(${-h/2}, ${u/2} )`),i.attr("transform",`translate(${-(s.width/2)-m-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),nn(e,f),e.intersect=function(g){const x=Ft.rect(e,g),y=x.y-(e.y??0);if(d!=0&&(Math.abs(y)<(e.height??0)/2||Math.abs(y)==(e.height??0)/2&&Math.abs(x.x-(e.x??0))>(e.width??0)/2-m)){let w=m*m*(1-y*y/(d*d));w!=0&&(w=Math.sqrt(Math.abs(w))),w=m-w,g.x-(e.x??0)>0&&(w=-w),x.x+=w}return x},a}X(xV,"tiltedCylinder");async function yV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await fn(t,e,un(e)),i=s.width+e.padding,o=s.height+e.padding,c=[{x:-3*o/6,y:0},{x:i+3*o/6,y:0},{x:i,y:-o},{x:0,y:-o}];let u;const{cssStyles:d}=e;if(e.look==="handDrawn"){const m=Zt.svg(a),h=Jt(e,{}),p=Fn(c),f=m.path(p,h);u=a.insert(()=>f,":first-child").attr("transform",`translate(${-i/2}, ${o/2})`),d&&u.attr("style",d)}else u=Sc(a,i,o,c);return r&&u.attr("style",r),e.width=i,e.height=o,nn(e,u),e.intersect=function(m){return Ft.polygon(e,c,m)},a}X(yV,"trapezoid");async function wV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await fn(t,e,un(e)),i=60,o=20,c=Math.max(i,s.width+(e.padding??0)*2,e?.width??0),u=Math.max(o,s.height+(e.padding??0)*2,e?.height??0),{cssStyles:d}=e,m=Zt.svg(a),h=Jt(e,{});e.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const p=[{x:-c/2*.8,y:-u/2},{x:c/2*.8,y:-u/2},{x:c/2,y:-u/2*.6},{x:c/2,y:u/2},{x:-c/2,y:u/2},{x:-c/2,y:-u/2*.6}],f=Fn(p),g=m.path(f,h),x=a.insert(()=>g,":first-child");return x.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",d),r&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",r),nn(e,x),e.intersect=function(y){return Ft.polygon(e,p,y)},a}X(wV,"trapezoidalPentagon");async function vV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,label:i}=await fn(t,e,un(e)),o=aa(er().flowchart?.htmlLabels),c=s.width+(e.padding??0),u=c+s.height,d=c+s.height,m=[{x:0,y:0},{x:d,y:0},{x:d/2,y:-u}],{cssStyles:h}=e,p=Zt.svg(a),f=Jt(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=Fn(m),x=p.path(g,f),y=a.insert(()=>x,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return h&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",h),r&&e.look!=="handDrawn"&&y.selectChildren("path").attr("style",r),e.width=c,e.height=u,nn(e,y),i.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${u/2-(s.height+(e.padding??0)/(o?2:1)-(s.y-(s.top??0)))})`),e.intersect=function(w){return ut.info("Triangle intersect",e,m,w),Ft.polygon(e,m,w)},a}X(vV,"triangle");async function kV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,label:i}=await fn(t,e,un(e)),o=Math.max(s.width+(e.padding??0)*2,e?.width??0),c=Math.max(s.height+(e.padding??0)*2,e?.height??0),u=c/8,d=c+u,{cssStyles:m}=e,p=70-o,f=p>0?p/2:0,g=Zt.svg(a),x=Jt(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const y=[{x:-o/2-f,y:d/2},...ic(-o/2-f,d/2,o/2+f,d/2,u,.8),{x:o/2+f,y:-d/2},{x:-o/2-f,y:-d/2}],w=Fn(y),v=g.path(w,x),k=a.insert(()=>v,":first-child");return k.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",m),r&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",r),k.attr("transform",`translate(0,${-u/2})`),i.attr("transform",`translate(${-o/2+(e.padding??0)-(s.x-(s.left??0))},${-c/2+(e.padding??0)-u-(s.y-(s.top??0))})`),nn(e,k),e.intersect=function(C){return Ft.polygon(e,y,C)},a}X(kV,"waveEdgedRectangle");async function _V(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s}=await fn(t,e,un(e)),i=100,o=50,c=Math.max(s.width+(e.padding??0)*2,e?.width??0),u=Math.max(s.height+(e.padding??0)*2,e?.height??0),d=c/u;let m=c,h=u;m>h*d?h=m/d:m=h*d,m=Math.max(m,i),h=Math.max(h,o);const p=Math.min(h*.2,h/4),f=h+p*2,{cssStyles:g}=e,x=Zt.svg(a),y=Jt(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const w=[{x:-m/2,y:f/2},...ic(-m/2,f/2,m/2,f/2,p,1),{x:m/2,y:-f/2},...ic(m/2,-f/2,-m/2,-f/2,p,-1)],v=Fn(w),k=x.path(v,y),C=a.insert(()=>k,":first-child");return C.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",g),r&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",r),nn(e,C),e.intersect=function(_){return Ft.polygon(e,w,_)},a}X(_V,"waveRectangle");async function CV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,label:i}=await fn(t,e,un(e)),o=Math.max(s.width+(e.padding??0)*2,e?.width??0),c=Math.max(s.height+(e.padding??0)*2,e?.height??0),u=5,d=-o/2,m=-c/2,{cssStyles:h}=e,p=Zt.svg(a),f=Jt(e,{}),g=[{x:d-u,y:m-u},{x:d-u,y:m+c},{x:d+o,y:m+c},{x:d+o,y:m-u}],x=`M${d-u},${m-u} L${d+o},${m-u} L${d+o},${m+c} L${d-u},${m+c} L${d-u},${m-u}
                M${d-u},${m} L${d+o},${m}
                M${d},${m-u} L${d},${m+c}`;e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const y=p.path(x,f),w=a.insert(()=>y,":first-child");return w.attr("transform",`translate(${u/2}, ${u/2})`),w.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",h),r&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",r),i.attr("transform",`translate(${-(s.width/2)+u/2-(s.x-(s.left??0))}, ${-(s.height/2)+u/2-(s.y-(s.top??0))})`),nn(e,w),e.intersect=function(v){return Ft.polygon(e,g,v)},a}X(CV,"windowPane");async function BS(t,e){const n=e;if(n.alias&&(e.label=n.alias),e.look==="handDrawn"){const{themeVariables:H}=La(),{background:D}=H,U={...e,id:e.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${D}`]};await BS(t,U)}const r=La();e.useHtmlLabels=r.htmlLabels;let a=r.er?.diagramPadding??10,s=r.er?.entityPadding??6;const{cssStyles:i}=e,{labelStyles:o,nodeStyles:c}=en(e);if(n.attributes.length===0&&e.label){const H={rx:0,ry:0,labelPaddingX:a,labelPaddingY:a*1.5};ll(e.label,r)+H.labelPaddingX*2<r.er.minEntityWidth&&(e.width=r.er.minEntityWidth);const D=await p2(t,e,H);if(!aa(r.htmlLabels)){const U=D.select("text"),B=U.node()?.getBBox();U.attr("transform",`translate(${-B.width/2}, 0)`)}return D}r.htmlLabels||(a*=1.25,s*=1.25);let u=un(e);u||(u="node default");const d=t.insert("g").attr("class",u).attr("id",e.domId||e.id),m=await jd(d,e.label??"",r,0,0,["name"],o);m.height+=s;let h=0;const p=[],f=[];let g=0,x=0,y=0,w=0,v=!0,k=!0;for(const H of n.attributes){const D=await jd(d,H.type,r,0,h,["attribute-type"],o);g=Math.max(g,D.width+a);const U=await jd(d,H.name,r,0,h,["attribute-name"],o);x=Math.max(x,U.width+a);const B=await jd(d,H.keys.join(),r,0,h,["attribute-keys"],o);y=Math.max(y,B.width+a);const q=await jd(d,H.comment,r,0,h,["attribute-comment"],o);w=Math.max(w,q.width+a);const V=Math.max(D.height,U.height,B.height,q.height)+s;f.push({yOffset:h,rowHeight:V}),h+=V}let C=4;y<=a&&(v=!1,y=0,C--),w<=a&&(k=!1,w=0,C--);const _=d.node().getBBox();if(m.width+a*2-(g+x+y+w)>0){const H=m.width+a*2-(g+x+y+w);g+=H/C,x+=H/C,y>0&&(y+=H/C),w>0&&(w+=H/C)}const S=g+x+y+w,T=Zt.svg(d),N=Jt(e,{});e.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");let j=0;f.length>0&&(j=f.reduce((H,D)=>H+(D?.rowHeight??0),0));const R=Math.max(_.width+a*2,e?.width||0,S),I=Math.max((j??0)+m.height,e?.height||0),A=-R/2,$=-I/2;d.selectAll("g:not(:first-child)").each((H,D,U)=>{const B=qn(U[D]),q=B.attr("transform");let V=0,Z=0;if(q){const K=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(q);K&&(V=parseFloat(K[1]),Z=parseFloat(K[2]),B.attr("class").includes("attribute-name")?V+=g:B.attr("class").includes("attribute-keys")?V+=g+x:B.attr("class").includes("attribute-comment")&&(V+=g+x+y))}B.attr("transform",`translate(${A+a/2+V}, ${Z+$+m.height+s/2})`)}),d.select(".name").attr("transform","translate("+-m.width/2+", "+($+s/2)+")");const E=T.rectangle(A,$,R,I,N),M=d.insert(()=>E,":first-child").attr("style",i.join("")),{themeVariables:F}=La(),{rowEven:L,rowOdd:Y,nodeBorder:O}=F;p.push(0);for(const[H,D]of f.entries()){const B=(H+1)%2===0&&D.yOffset!==0,q=T.rectangle(A,m.height+$+D?.yOffset,R,D?.rowHeight,{...N,fill:B?L:Y,stroke:O});d.insert(()=>q,"g.label").attr("style",i.join("")).attr("class",`row-rect-${B?"even":"odd"}`)}let G=T.line(A,m.height+$,R+A,m.height+$,N);d.insert(()=>G).attr("class","divider"),G=T.line(g+A,m.height+$,g+A,I+$,N),d.insert(()=>G).attr("class","divider"),v&&(G=T.line(g+x+A,m.height+$,g+x+A,I+$,N),d.insert(()=>G).attr("class","divider")),k&&(G=T.line(g+x+y+A,m.height+$,g+x+y+A,I+$,N),d.insert(()=>G).attr("class","divider"));for(const H of p)G=T.line(A,m.height+$+H,R+A,m.height+$+H,N),d.insert(()=>G).attr("class","divider");if(nn(e,M),c&&e.look!=="handDrawn"){const D=c.split(";")?.filter(U=>U.includes("stroke"))?.map(U=>`${U}`).join("; ");d.selectAll("path").attr("style",D??""),d.selectAll(".row-rect-even path").attr("style",c)}return e.intersect=function(H){return Ft.rect(e,H)},d}X(BS,"erBox");async function jd(t,e,n,r=0,a=0,s=[],i=""){const o=t.insert("g").attr("class",`label ${s.join(" ")}`).attr("transform",`translate(${r}, ${a})`).attr("style",i);e!==w7(e)&&(e=w7(e),e=e.replaceAll("<","&lt;").replaceAll(">","&gt;"));const c=o.node().appendChild(await _c(o,e,{width:ll(e,n)+100,style:i,useHtmlLabels:n.htmlLabels},n));if(e.includes("&lt;")||e.includes("&gt;")){let d=c.children[0];for(d.textContent=d.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");d.childNodes[0];)d=d.childNodes[0],d.textContent=d.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let u=c.getBBox();if(aa(n.htmlLabels)){const d=c.children[0];d.style.textAlign="start";const m=qn(c);u=d.getBoundingClientRect(),m.attr("width",u.width),m.attr("height",u.height)}return u}X(jd,"addText");async function SV(t,e,n,r,a=n.class.padding??12){const s=r?0:3,i=t.insert("g").attr("class",un(e)).attr("id",e.domId||e.id);let o=null,c=null,u=null,d=null,m=0,h=0,p=0;if(o=i.insert("g").attr("class","annotation-group text"),e.annotations.length>0){const w=e.annotations[0];await lp(o,{text:`${w}`},0),m=o.node().getBBox().height}c=i.insert("g").attr("class","label-group text"),await lp(c,e,0,["font-weight: bolder"]);const f=c.node().getBBox();h=f.height,u=i.insert("g").attr("class","members-group text");let g=0;for(const w of e.members){const v=await lp(u,w,g,[w.parseClassifier()]);g+=v+s}p=u.node().getBBox().height,p<=0&&(p=a/2),d=i.insert("g").attr("class","methods-group text");let x=0;for(const w of e.methods){const v=await lp(d,w,x,[w.parseClassifier()]);x+=v+s}let y=i.node().getBBox();if(o!==null){const w=o.node().getBBox();o.attr("transform",`translate(${-w.width/2})`)}return c.attr("transform",`translate(${-f.width/2}, ${m})`),y=i.node().getBBox(),u.attr("transform",`translate(0, ${m+h+a*2})`),y=i.node().getBBox(),d.attr("transform",`translate(0, ${m+h+(p?p+a*4:a*2)})`),y=i.node().getBBox(),{shapeSvg:i,bbox:y}}X(SV,"textHelper");async function lp(t,e,n,r=[]){const a=t.insert("g").attr("class","label").attr("style",r.join("; ")),s=La();let i="useHtmlLabels"in e?e.useHtmlLabels:aa(s.htmlLabels)??!0,o="";"text"in e?o=e.text:o=e.label,!i&&o.startsWith("\\")&&(o=o.substring(1)),Am(o)&&(i=!0);const c=await _c(a,X6(Ju(o)),{width:ll(o,s)+50,classes:"markdown-node-label",useHtmlLabels:i},s);let u,d=1;if(i){const m=c.children[0],h=qn(c);d=m.innerHTML.split("<br>").length,m.innerHTML.includes("</math>")&&(d+=m.innerHTML.split("<mrow>").length-1);const p=m.getElementsByTagName("img");if(p){const f=o.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...p].map(g=>new Promise(x=>{function y(){if(g.style.display="flex",g.style.flexDirection="column",f){const w=s.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,k=parseInt(w,10)*5+"px";g.style.minWidth=k,g.style.maxWidth=k}else g.style.width="100%";x(g)}X(y,"setupImage"),setTimeout(()=>{g.complete&&y()}),g.addEventListener("error",y),g.addEventListener("load",y)})))}u=m.getBoundingClientRect(),h.attr("width",u.width),h.attr("height",u.height)}else{r.includes("font-weight: bolder")&&qn(c).selectAll("tspan").attr("font-weight",""),d=c.children.length;const m=c.children[0];(c.textContent===""||c.textContent.includes("&gt"))&&(m.textContent=o[0]+o.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),o[1]===" "&&(m.textContent=m.textContent[0]+" "+m.textContent.substring(1))),m.textContent==="undefined"&&(m.textContent=""),u=c.getBBox()}return a.attr("transform","translate(0,"+(-u.height/(2*d)+n)+")"),u.height}X(lp,"addText");async function jV(t,e){const n=er(),r=n.class.padding??12,a=r,s=e.useHtmlLabels??aa(n.htmlLabels)??!0,i=e;i.annotations=i.annotations??[],i.members=i.members??[],i.methods=i.methods??[];const{shapeSvg:o,bbox:c}=await SV(t,e,n,s,a),{labelStyles:u,nodeStyles:d}=en(e);e.labelStyle=u,e.cssStyles=i.styles||"";const m=i.styles?.join(";")||d||"";e.cssStyles||(e.cssStyles=m.replaceAll("!important","").split(";"));const h=i.members.length===0&&i.methods.length===0&&!n.class?.hideEmptyMembersBox,p=Zt.svg(o),f=Jt(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=c.width;let x=c.height;i.members.length===0&&i.methods.length===0?x+=a:i.members.length>0&&i.methods.length===0&&(x+=a*2);const y=-g/2,w=-x/2,v=p.rectangle(y-r,w-r-(h?r:i.members.length===0&&i.methods.length===0?-r/2:0),g+2*r,x+2*r+(h?r*2:i.members.length===0&&i.methods.length===0?-r:0),f),k=o.insert(()=>v,":first-child");k.attr("class","basic label-container");const C=k.node().getBBox();o.selectAll(".text").each((N,j,R)=>{const I=qn(R[j]),A=I.attr("transform");let $=0;if(A){const L=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(A);L&&($=parseFloat(L[2]))}let E=$+w+r-(h?r:i.members.length===0&&i.methods.length===0?-r/2:0);s||(E-=4);let M=y;(I.attr("class").includes("label-group")||I.attr("class").includes("annotation-group"))&&(M=-I.node()?.getBBox().width/2||0,o.selectAll("text").each(function(F,L,Y){window.getComputedStyle(Y[L]).textAnchor==="middle"&&(M=0)})),I.attr("transform",`translate(${M}, ${E})`)});const _=o.select(".annotation-group").node().getBBox().height-(h?r/2:0)||0,S=o.select(".label-group").node().getBBox().height-(h?r/2:0)||0,T=o.select(".members-group").node().getBBox().height-(h?r/2:0)||0;if(i.members.length>0||i.methods.length>0||h){const N=p.line(C.x,_+S+w+r,C.x+C.width,_+S+w+r,f);o.insert(()=>N).attr("class","divider").attr("style",m)}if(h||i.members.length>0||i.methods.length>0){const N=p.line(C.x,_+S+T+w+a*2+r,C.x+C.width,_+S+T+w+r+a*2,f);o.insert(()=>N).attr("class","divider").attr("style",m)}if(i.look!=="handDrawn"&&o.selectAll("path").attr("style",m),k.select(":nth-child(2)").attr("style",m),o.selectAll(".divider").select("path").attr("style",m),e.labelStyle?o.selectAll("span").attr("style",e.labelStyle):o.selectAll("span").attr("style",m),!s){const N=RegExp(/color\s*:\s*([^;]*)/),j=N.exec(m);if(j){const R=j[0].replace("color","fill");o.selectAll("tspan").attr("style",R)}else if(u){const R=N.exec(u);if(R){const I=R[0].replace("color","fill");o.selectAll("tspan").attr("style",I)}}}return nn(e,k),e.intersect=function(N){return Ft.rect(e,N)},o}X(jV,"classBox");async function TV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const a=e,s=e,i=20,o=20,c="verifyMethod"in e,u=un(e),d=t.insert("g").attr("class",u).attr("id",e.domId??e.id);let m;c?m=await Gi(d,`&lt;&lt;${a.type}&gt;&gt;`,0,e.labelStyle):m=await Gi(d,"&lt;&lt;Element&gt;&gt;",0,e.labelStyle);let h=m;const p=await Gi(d,a.name,h,e.labelStyle+"; font-weight: bold;");if(h+=p+o,c){const _=await Gi(d,`${a.requirementId?`ID: ${a.requirementId}`:""}`,h,e.labelStyle);h+=_;const S=await Gi(d,`${a.text?`Text: ${a.text}`:""}`,h,e.labelStyle);h+=S;const T=await Gi(d,`${a.risk?`Risk: ${a.risk}`:""}`,h,e.labelStyle);h+=T,await Gi(d,`${a.verifyMethod?`Verification: ${a.verifyMethod}`:""}`,h,e.labelStyle)}else{const _=await Gi(d,`${s.type?`Type: ${s.type}`:""}`,h,e.labelStyle);h+=_,await Gi(d,`${s.docRef?`Doc Ref: ${s.docRef}`:""}`,h,e.labelStyle)}const f=(d.node()?.getBBox().width??200)+i,g=(d.node()?.getBBox().height??200)+i,x=-f/2,y=-g/2,w=Zt.svg(d),v=Jt(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const k=w.rectangle(x,y,f,g,v),C=d.insert(()=>k,":first-child");if(C.attr("class","basic label-container").attr("style",r),d.selectAll(".label").each((_,S,T)=>{const N=qn(T[S]),j=N.attr("transform");let R=0,I=0;if(j){const M=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(j);M&&(R=parseFloat(M[1]),I=parseFloat(M[2]))}const A=I-g/2;let $=x+i/2;(S===0||S===1)&&($=R),N.attr("transform",`translate(${$}, ${A+i})`)}),h>m+p+o){const _=w.line(x,y+m+p+o,x+f,y+m+p+o,v);d.insert(()=>_).attr("style",r)}return nn(e,C),e.intersect=function(_){return Ft.rect(e,_)},d}X(TV,"requirementBox");async function Gi(t,e,n,r=""){if(e==="")return 0;const a=t.insert("g").attr("class","label").attr("style",r),s=er(),i=s.htmlLabels??!0,o=await _c(a,X6(Ju(e)),{width:ll(e,s)+50,classes:"markdown-node-label",useHtmlLabels:i,style:r},s);let c;if(i){const u=o.children[0],d=qn(o);c=u.getBoundingClientRect(),d.attr("width",c.width),d.attr("height",c.height)}else{const u=o.children[0];for(const d of u.children)d.textContent=d.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),r&&d.setAttribute("style",r);c=o.getBBox(),c.height+=6}return a.attr("transform",`translate(${-c.width/2},${-c.height/2+n})`),c.height}X(Gi,"addText");var tOe=X(t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function EV(t,e,{config:n}){const{labelStyles:r,nodeStyles:a}=en(e);e.labelStyle=r||"";const s=10,i=e.width;e.width=(e.width??200)-10;const{shapeSvg:o,bbox:c,label:u}=await fn(t,e,un(e)),d=e.padding||10;let m="",h;"ticket"in e&&e.ticket&&n?.kanban?.ticketBaseUrl&&(m=n?.kanban?.ticketBaseUrl.replace("#TICKET#",e.ticket),h=o.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",m).attr("target","_blank"));const p={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1};let f,g;h?{label:f,bbox:g}=await Pv(h,"ticket"in e&&e.ticket||"",p):{label:f,bbox:g}=await Pv(o,"ticket"in e&&e.ticket||"",p);const{label:x,bbox:y}=await Pv(o,"assigned"in e&&e.assigned||"",p);e.width=i;const w=10,v=e?.width||0,k=Math.max(g.height,y.height)/2,C=Math.max(c.height+w*2,e?.height||0)+k,_=-v/2,S=-C/2;u.attr("transform","translate("+(d-v/2)+", "+(-k-c.height/2)+")"),f.attr("transform","translate("+(d-v/2)+", "+(-k+c.height/2)+")"),x.attr("transform","translate("+(d+v/2-y.width-2*s)+", "+(-k+c.height/2)+")");let T;const{rx:N,ry:j}=e,{cssStyles:R}=e;if(e.look==="handDrawn"){const I=Zt.svg(o),A=Jt(e,{}),$=N||j?I.path(Cc(_,S,v,C,N||0),A):I.rectangle(_,S,v,C,A);T=o.insert(()=>$,":first-child"),T.attr("class","basic label-container").attr("style",R||null)}else{T=o.insert("rect",":first-child"),T.attr("class","basic label-container __APA__").attr("style",a).attr("rx",N??5).attr("ry",j??5).attr("x",_).attr("y",S).attr("width",v).attr("height",C);const I="priority"in e&&e.priority;if(I){const A=o.append("line"),$=_+2,E=S+Math.floor((N??0)/2),M=S+C-Math.floor((N??0)/2);A.attr("x1",$).attr("y1",E).attr("x2",$).attr("y2",M).attr("stroke-width","4").attr("stroke",tOe(I))}}return nn(e,T),e.height=C,e.intersect=function(I){return Ft.rect(e,I)},o}X(EV,"kanbanItem");async function NV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,halfPadding:i,label:o}=await fn(t,e,un(e)),c=s.width+10*i,u=s.height+8*i,d=.15*c,{cssStyles:m}=e,h=s.width+20,p=s.height+20,f=Math.max(c,h),g=Math.max(u,p);o.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`);let x;const y=`M0 0 
    a${d},${d} 1 0,0 ${f*.25},${-1*g*.1}
    a${d},${d} 1 0,0 ${f*.25},0
    a${d},${d} 1 0,0 ${f*.25},0
    a${d},${d} 1 0,0 ${f*.25},${g*.1}

    a${d},${d} 1 0,0 ${f*.15},${g*.33}
    a${d*.8},${d*.8} 1 0,0 0,${g*.34}
    a${d},${d} 1 0,0 ${-1*f*.15},${g*.33}

    a${d},${d} 1 0,0 ${-1*f*.25},${g*.15}
    a${d},${d} 1 0,0 ${-1*f*.25},0
    a${d},${d} 1 0,0 ${-1*f*.25},0
    a${d},${d} 1 0,0 ${-1*f*.25},${-1*g*.15}

    a${d},${d} 1 0,0 ${-1*f*.1},${-1*g*.33}
    a${d*.8},${d*.8} 1 0,0 0,${-1*g*.34}
    a${d},${d} 1 0,0 ${f*.1},${-1*g*.33}
  H0 V0 Z`;if(e.look==="handDrawn"){const w=Zt.svg(a),v=Jt(e,{}),k=w.path(y,v);x=a.insert(()=>k,":first-child"),x.attr("class","basic label-container").attr("style",Pa(m))}else x=a.insert("path",":first-child").attr("class","basic label-container").attr("style",r).attr("d",y);return x.attr("transform",`translate(${-f/2}, ${-g/2})`),nn(e,x),e.calcIntersect=function(w,v){return Ft.rect(w,v)},e.intersect=function(w){return ut.info("Bang intersect",e,w),Ft.rect(e,w)},a}X(NV,"bang");async function $V(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,halfPadding:i,label:o}=await fn(t,e,un(e)),c=s.width+2*i,u=s.height+2*i,d=.15*c,m=.25*c,h=.35*c,p=.2*c,{cssStyles:f}=e;let g;const x=`M0 0 
    a${d},${d} 0 0,1 ${c*.25},${-1*c*.1}
    a${h},${h} 1 0,1 ${c*.4},${-1*c*.1}
    a${m},${m} 1 0,1 ${c*.35},${c*.2}

    a${d},${d} 1 0,1 ${c*.15},${u*.35}
    a${p},${p} 1 0,1 ${-1*c*.15},${u*.65}

    a${m},${d} 1 0,1 ${-1*c*.25},${c*.15}
    a${h},${h} 1 0,1 ${-1*c*.5},0
    a${d},${d} 1 0,1 ${-1*c*.25},${-1*c*.15}

    a${d},${d} 1 0,1 ${-1*c*.1},${-1*u*.35}
    a${p},${p} 1 0,1 ${c*.1},${-1*u*.65}
  H0 V0 Z`;if(e.look==="handDrawn"){const y=Zt.svg(a),w=Jt(e,{}),v=y.path(x,w);g=a.insert(()=>v,":first-child"),g.attr("class","basic label-container").attr("style",Pa(f))}else g=a.insert("path",":first-child").attr("class","basic label-container").attr("style",r).attr("d",x);return o.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),g.attr("transform",`translate(${-c/2}, ${-u/2})`),nn(e,g),e.calcIntersect=function(y,w){return Ft.rect(y,w)},e.intersect=function(y){return ut.info("Cloud intersect",e,y),Ft.rect(e,y)},a}X($V,"cloud");async function AV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:a,bbox:s,halfPadding:i,label:o}=await fn(t,e,un(e)),c=s.width+8*i,u=s.height+2*i,d=5,m=`
    M${-c/2} ${u/2-d}
    v${-u+2*d}
    q0,-${d} ${d},-${d}
    h${c-2*d}
    q${d},0 ${d},${d}
    v${u-2*d}
    q0,${d} -${d},${d}
    h${-c+2*d}
    q-${d},0 -${d},-${d}
    Z
  `,h=a.append("path").attr("id","node-"+e.id).attr("class","node-bkg node-"+e.type).attr("style",r).attr("d",m);return a.append("line").attr("class","node-line-").attr("x1",-c/2).attr("y1",u/2).attr("x2",c/2).attr("y2",u/2),o.attr("transform",`translate(${-s.width/2}, ${-s.height/2})`),a.append(()=>o.node()),nn(e,h),e.calcIntersect=function(p,f){return Ft.rect(p,f)},e.intersect=function(p){return Ft.rect(e,p)},a}X(AV,"defaultMindmapNode");async function IV(t,e){const n={padding:e.padding??0};return FS(t,e,n)}X(IV,"mindmapCircle");var nOe=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:cV},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:iV},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:uV},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:pV},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:RG},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:FS},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:NV},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:$V},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:rV},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:BG},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:XG},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:YG},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:yV},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:VG},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:DG},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:bV},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:SG},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:oV},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:hV},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:mV},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:PG},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:zG},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:NG},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:$G},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:AG},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:ZG},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:kV},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:FG},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:xV},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:QG},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:IG},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:MG},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:vV},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:CV},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:LG},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:wV},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:OG},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:lV},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:tV},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:eV},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:CG},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:EG},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:gV},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:fV},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:_V},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:aV},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:JG}],rOe=X(()=>{const e=[...Object.entries({state:dV,choice:jG,note:nV,rectWithTitle:sV,labelRect:KG,iconSquare:WG,iconCircle:qG,icon:HG,iconRounded:UG,imageSquare:GG,anchor:_G,kanbanItem:EV,mindmapCircle:IV,defaultMindmapNode:AV,classBox:jV,erBox:BS,requirementBox:TV}),...nOe.flatMap(n=>[n.shortName,..."aliases"in n?n.aliases:[],..."internalAliases"in n?n.internalAliases:[]].map(a=>[a,n.handler]))];return Object.fromEntries(e)},"generateShapeMap"),RV=rOe();function aOe(t){return t in RV}X(aOe,"isValidShape");var f2=new Map;async function MV(t,e,n){let r,a;e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");const s=e.shape?RV[e.shape]:void 0;if(!s)throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let i;n.config.securityLevel==="sandbox"?i="_top":e.linkTarget&&(i=e.linkTarget||"_blank"),r=t.insert("svg:a").attr("xlink:href",e.link).attr("target",i??null),a=await s(r,e,n)}else a=await s(t,e,n),r=a;return e.tooltip&&a.attr("title",e.tooltip),f2.set(e.id,r),e.haveCallback&&r.attr("class",r.attr("class")+" clickable"),r}X(MV,"insertNode");var uJe=X((t,e)=>{f2.set(e.id,t)},"setNodeElem"),dJe=X(()=>{f2.clear()},"clear"),mJe=X(t=>{const e=f2.get(t.id);ut.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const n=8,r=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+r-t.width/2)+", "+(t.y-t.height/2-n)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),r},"positionNode"),sOe=X((t,e,n,r,a,s)=>{e.arrowTypeStart&&NN(t,"start",e.arrowTypeStart,n,r,a,s),e.arrowTypeEnd&&NN(t,"end",e.arrowTypeEnd,n,r,a,s)},"addEdgeMarkers"),iOe={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},NN=X((t,e,n,r,a,s,i)=>{const o=iOe[n];if(!o){ut.warn(`Unknown arrow type: ${n}`);return}const c=o.type,d=`${a}_${s}-${c}${e==="start"?"Start":"End"}`;if(i&&i.trim()!==""){const m=i.replace(/[^\dA-Za-z]/g,"_"),h=`${d}_${m}`;if(!document.getElementById(h)){const p=document.getElementById(d);if(p){const f=p.cloneNode(!0);f.id=h,f.querySelectorAll("path, circle, line").forEach(x=>{x.setAttribute("stroke",i),o.fill&&x.setAttribute("fill",i)}),p.parentNode?.appendChild(f)}}t.attr(`marker-${e}`,`url(${r}#${h})`)}else t.attr(`marker-${e}`,`url(${r}#${d})`)},"addEdgeMarker"),tx=new Map,xa=new Map,hJe=X(()=>{tx.clear(),xa.clear()},"clear"),vg=X(t=>t?t.reduce((n,r)=>n+";"+r,""):"","getLabelStyles"),oOe=X(async(t,e)=>{let n=aa(er().flowchart.htmlLabels);const{labelStyles:r}=en(e);e.labelStyle=r;const a=await _c(t,e.label,{style:e.labelStyle,useHtmlLabels:n,addSvgBackground:!0,isNode:!1});ut.info("abc82",e,e.labelType);const s=t.insert("g").attr("class","edgeLabel"),i=s.insert("g").attr("class","label").attr("data-id",e.id);i.node().appendChild(a);let o=a.getBBox();if(n){const u=a.children[0],d=qn(a);o=u.getBoundingClientRect(),d.attr("width",o.width),d.attr("height",o.height)}i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),tx.set(e.id,s),e.width=o.width,e.height=o.height;let c;if(e.startLabelLeft){const u=await Jc(e.startLabelLeft,vg(e.labelStyle)),d=t.insert("g").attr("class","edgeTerminals"),m=d.insert("g").attr("class","inner");c=m.node().appendChild(u);const h=u.getBBox();m.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),xa.get(e.id)||xa.set(e.id,{}),xa.get(e.id).startLeft=d,cp(c,e.startLabelLeft)}if(e.startLabelRight){const u=await Jc(e.startLabelRight,vg(e.labelStyle)),d=t.insert("g").attr("class","edgeTerminals"),m=d.insert("g").attr("class","inner");c=d.node().appendChild(u),m.node().appendChild(u);const h=u.getBBox();m.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),xa.get(e.id)||xa.set(e.id,{}),xa.get(e.id).startRight=d,cp(c,e.startLabelRight)}if(e.endLabelLeft){const u=await Jc(e.endLabelLeft,vg(e.labelStyle)),d=t.insert("g").attr("class","edgeTerminals"),m=d.insert("g").attr("class","inner");c=m.node().appendChild(u);const h=u.getBBox();m.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),d.node().appendChild(u),xa.get(e.id)||xa.set(e.id,{}),xa.get(e.id).endLeft=d,cp(c,e.endLabelLeft)}if(e.endLabelRight){const u=await Jc(e.endLabelRight,vg(e.labelStyle)),d=t.insert("g").attr("class","edgeTerminals"),m=d.insert("g").attr("class","inner");c=m.node().appendChild(u);const h=u.getBBox();m.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),d.node().appendChild(u),xa.get(e.id)||xa.set(e.id,{}),xa.get(e.id).endRight=d,cp(c,e.endLabelRight)}return a},"insertEdgeLabel");function cp(t,e){er().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}X(cp,"setTerminalWidth");var lOe=X((t,e)=>{ut.debug("Moving label abc88 ",t.id,t.label,tx.get(t.id),e);let n=e.updatedPath?e.updatedPath:e.originalPath;const r=er(),{subGraphTitleTotalMargin:a}=gS(r);if(t.label){const s=tx.get(t.id);let i=t.x,o=t.y;if(n){const c=vi.calcLabelPosition(n);ut.debug("Moving label "+t.label+" from (",i,",",o,") to (",c.x,",",c.y,") abc88"),e.updatedPath&&(i=c.x,o=c.y)}s.attr("transform",`translate(${i}, ${o+a/2})`)}if(t.startLabelLeft){const s=xa.get(t.id).startLeft;let i=t.x,o=t.y;if(n){const c=vi.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",n);i=c.x,o=c.y}s.attr("transform",`translate(${i}, ${o})`)}if(t.startLabelRight){const s=xa.get(t.id).startRight;let i=t.x,o=t.y;if(n){const c=vi.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",n);i=c.x,o=c.y}s.attr("transform",`translate(${i}, ${o})`)}if(t.endLabelLeft){const s=xa.get(t.id).endLeft;let i=t.x,o=t.y;if(n){const c=vi.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",n);i=c.x,o=c.y}s.attr("transform",`translate(${i}, ${o})`)}if(t.endLabelRight){const s=xa.get(t.id).endRight;let i=t.x,o=t.y;if(n){const c=vi.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",n);i=c.x,o=c.y}s.attr("transform",`translate(${i}, ${o})`)}},"positionEdgeLabel"),cOe=X((t,e)=>{const n=t.x,r=t.y,a=Math.abs(e.x-n),s=Math.abs(e.y-r),i=t.width/2,o=t.height/2;return a>=i||s>=o},"outsideNode"),uOe=X((t,e,n)=>{ut.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const r=t.x,a=t.y,s=Math.abs(r-n.x),i=t.width/2;let o=n.x<e.x?i-s:i+s;const c=t.height/2,u=Math.abs(e.y-n.y),d=Math.abs(e.x-n.x);if(Math.abs(a-e.y)*i>Math.abs(r-e.x)*c){let m=n.y<e.y?e.y-c-a:a-c-e.y;o=d*m/u;const h={x:n.x<e.x?n.x+o:n.x-d+o,y:n.y<e.y?n.y+u-m:n.y-u+m};return o===0&&(h.x=e.x,h.y=e.y),d===0&&(h.x=e.x),u===0&&(h.y=e.y),ut.debug(`abc89 top/bottom calc, Q ${u}, q ${m}, R ${d}, r ${o}`,h),h}else{n.x<e.x?o=e.x-i-r:o=r-i-e.x;let m=u*o/d,h=n.x<e.x?n.x+d-o:n.x-d+o,p=n.y<e.y?n.y+m:n.y-m;return ut.debug(`sides calc abc89, Q ${u}, q ${m}, R ${d}, r ${o}`,{_x:h,_y:p}),o===0&&(h=e.x,p=e.y),d===0&&(h=e.x),u===0&&(p=e.y),{x:h,y:p}}},"intersection"),$N=X((t,e)=>{ut.warn("abc88 cutPathAtIntersect",t,e);let n=[],r=t[0],a=!1;return t.forEach(s=>{if(ut.info("abc88 checking point",s,e),!cOe(e,s)&&!a){const i=uOe(e,r,s);ut.debug("abc88 inside",s,r,i),ut.debug("abc88 intersection",i,e);let o=!1;n.forEach(c=>{o=o||c.x===i.x&&c.y===i.y}),n.some(c=>c.x===i.x&&c.y===i.y)?ut.warn("abc88 no intersect",i,n):n.push(i),a=!0}else ut.warn("abc88 outside",s,r),r=s,a||n.push(s)}),ut.debug("returning points",n),n},"cutPathAtIntersect");function DV(t){const e=[],n=[];for(let r=1;r<t.length-1;r++){const a=t[r-1],s=t[r],i=t[r+1];(a.x===s.x&&s.y===i.y&&Math.abs(s.x-i.x)>5&&Math.abs(s.y-a.y)>5||a.y===s.y&&s.x===i.x&&Math.abs(s.x-a.x)>5&&Math.abs(s.y-i.y)>5)&&(e.push(s),n.push(r))}return{cornerPoints:e,cornerPointPositions:n}}X(DV,"extractCornerPoints");var AN=X(function(t,e,n){const r=e.x-t.x,a=e.y-t.y,s=Math.sqrt(r*r+a*a),i=n/s;return{x:e.x-i*r,y:e.y-i*a}},"findAdjacentPoint"),dOe=X(function(t){const{cornerPointPositions:e}=DV(t),n=[];for(let r=0;r<t.length;r++)if(e.includes(r)){const a=t[r-1],s=t[r+1],i=t[r],o=AN(a,i,5),c=AN(s,i,5),u=c.x-o.x,d=c.y-o.y;n.push(o);const m=Math.sqrt(2)*2;let h={x:i.x,y:i.y};if(Math.abs(s.x-a.x)>10&&Math.abs(s.y-a.y)>=10){ut.debug("Corner point fixing",Math.abs(s.x-a.x),Math.abs(s.y-a.y));const p=5;i.x===o.x?h={x:u<0?o.x-p+m:o.x+p-m,y:d<0?o.y-m:o.y+m}:h={x:u<0?o.x-m:o.x+m,y:d<0?o.y-p+m:o.y+p-m}}else ut.debug("Corner point skipping fixing",Math.abs(s.x-a.x),Math.abs(s.y-a.y));n.push(h,c)}else n.push(t[r]);return n},"fixCorners"),mOe=X((t,e,n)=>{const r=t-e-n,a=2,s=2,i=a+s,o=Math.floor(r/i),c=Array(o).fill(`${a} ${s}`).join(" ");return`0 ${e} ${c} ${n}`},"generateDashArray"),hOe=X(function(t,e,n,r,a,s,i,o=!1){const{handDrawnSeed:c}=er();let u=e.points,d=!1;const m=a;var h=s;const p=[];for(const $ in e.cssCompiledStyles)mW($)||p.push(e.cssCompiledStyles[$]);ut.debug("UIO intersect check",e.points,h.x,m.x),h.intersect&&m.intersect&&!o&&(u=u.slice(1,e.points.length-1),u.unshift(m.intersect(u[0])),ut.debug("Last point UIO",e.start,"-->",e.end,u[u.length-1],h,h.intersect(u[u.length-1])),u.push(h.intersect(u[u.length-1])));const f=btoa(JSON.stringify(u));e.toCluster&&(ut.info("to cluster abc88",n.get(e.toCluster)),u=$N(e.points,n.get(e.toCluster).node),d=!0),e.fromCluster&&(ut.debug("from cluster abc88",n.get(e.fromCluster),JSON.stringify(u,null,2)),u=$N(u.reverse(),n.get(e.fromCluster).node).reverse(),d=!0);let g=u.filter($=>!Number.isNaN($.y));g=dOe(g);let x=n1;switch(x=Ib,e.curve){case"linear":x=Ib;break;case"basis":x=n1;break;case"cardinal":x=gq;break;case"bumpX":x=dq;break;case"bumpY":x=mq;break;case"catmullRom":x=xq;break;case"monotoneX":x=Cq;break;case"monotoneY":x=Sq;break;case"natural":x=Tq;break;case"step":x=Eq;break;case"stepAfter":x=$q;break;case"stepBefore":x=Nq;break;default:x=n1}const{x:y,y:w}=dIe(e),v=K$e().x(y).y(w).curve(x);let k;switch(e.thickness){case"normal":k="edge-thickness-normal";break;case"thick":k="edge-thickness-thick";break;case"invisible":k="edge-thickness-invisible";break;default:k="edge-thickness-normal"}switch(e.pattern){case"solid":k+=" edge-pattern-solid";break;case"dotted":k+=" edge-pattern-dotted";break;case"dashed":k+=" edge-pattern-dashed";break;default:k+=" edge-pattern-solid"}let C,_=e.curve==="rounded"?LV(OV(g,e),5):v(g);const S=Array.isArray(e.style)?e.style:[e.style];let T=S.find($=>$?.startsWith("stroke:")),N=!1;if(e.look==="handDrawn"){const $=Zt.svg(t);Object.assign([],g);const E=$.path(_,{roughness:.3,seed:c});k+=" transition",C=qn(E).select("path").attr("id",e.id).attr("class"," "+k+(e.classes?" "+e.classes:"")).attr("style",S?S.reduce((F,L)=>F+";"+L,""):"");let M=C.attr("d");C.attr("d",M),t.node().appendChild(C.node())}else{const $=p.join(";"),E=S?S.reduce((H,D)=>H+D+";",""):"";let M="";e.animate&&(M=" edge-animation-fast"),e.animation&&(M=" edge-animation-"+e.animation);const F=($?$+";"+E+";":E)+";"+(S?S.reduce((H,D)=>H+";"+D,""):"");C=t.append("path").attr("d",_).attr("id",e.id).attr("class"," "+k+(e.classes?" "+e.classes:"")+(M??"")).attr("style",F),T=F.match(/stroke:([^;]+)/)?.[1],N=e.animate===!0||!!e.animation||$.includes("animation");const L=C.node(),Y=typeof L.getTotalLength=="function"?L.getTotalLength():0,O=V7[e.arrowTypeStart]||0,G=V7[e.arrowTypeEnd]||0;if(e.look==="neo"&&!N){const D=`stroke-dasharray: ${e.pattern==="dotted"||e.pattern==="dashed"?mOe(Y,O,G):`0 ${O} ${Y-O-G} ${G}`}; stroke-dashoffset: 0;`;C.attr("style",D+C.attr("style"))}}C.attr("data-edge",!0),C.attr("data-et","edge"),C.attr("data-id",e.id),C.attr("data-points",f),e.showPoints&&g.forEach($=>{t.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",$.x).attr("cy",$.y)});let j="";(er().flowchart.arrowMarkerAbsolute||er().state.arrowMarkerAbsolute)&&(j=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,j=j.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),ut.info("arrowTypeStart",e.arrowTypeStart),ut.info("arrowTypeEnd",e.arrowTypeEnd),sOe(C,e,j,i,r,T);const R=Math.floor(u.length/2),I=u[R];vi.isLabelCoordinateInPath(I,C.attr("d"))||(d=!0);let A={};return d&&(A.updatedPath=u),A.originalPath=e.points,A},"insertEdge");function LV(t,e){if(t.length<2)return"";let n="";const r=t.length,a=1e-5;for(let s=0;s<r;s++){const i=t[s],o=t[s-1],c=t[s+1];if(s===0)n+=`M${i.x},${i.y}`;else if(s===r-1)n+=`L${i.x},${i.y}`;else{const u=i.x-o.x,d=i.y-o.y,m=c.x-i.x,h=c.y-i.y,p=Math.hypot(u,d),f=Math.hypot(m,h);if(p<a||f<a){n+=`L${i.x},${i.y}`;continue}const g=u/p,x=d/p,y=m/f,w=h/f,v=g*y+x*w,k=Math.max(-1,Math.min(1,v)),C=Math.acos(k);if(C<a||Math.abs(Math.PI-C)<a){n+=`L${i.x},${i.y}`;continue}const _=Math.min(e/Math.sin(C/2),p/2,f/2),S=i.x-g*_,T=i.y-x*_,N=i.x+y*_,j=i.y+w*_;n+=`L${S},${T}`,n+=`Q${i.x},${i.y} ${N},${j}`}}return n}X(LV,"generateRoundedPath");function Y4(t,e){if(!t||!e)return{angle:0,deltaX:0,deltaY:0};const n=e.x-t.x,r=e.y-t.y;return{angle:Math.atan2(r,n),deltaX:n,deltaY:r}}X(Y4,"calculateDeltaAndAngle");function OV(t,e){const n=t.map(a=>({...a}));if(t.length>=2&&Ra[e.arrowTypeStart]){const a=Ra[e.arrowTypeStart],s=t[0],i=t[1],{angle:o}=Y4(s,i),c=a*Math.cos(o),u=a*Math.sin(o);n[0].x=s.x+c,n[0].y=s.y+u}const r=t.length;if(r>=2&&Ra[e.arrowTypeEnd]){const a=Ra[e.arrowTypeEnd],s=t[r-1],i=t[r-2],{angle:o}=Y4(i,s),c=a*Math.cos(o),u=a*Math.sin(o);n[r-1].x=s.x-c,n[r-1].y=s.y-u}return n}X(OV,"applyMarkerOffsetsToPoints");var pOe=X((t,e,n,r)=>{e.forEach(a=>{$Oe[a](t,n,r)})},"insertMarkers"),fOe=X((t,e,n)=>{ut.trace("Making markers for ",n),t.append("defs").append("marker").attr("id",n+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),gOe=X((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),bOe=X((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),xOe=X((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),yOe=X((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",n+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),wOe=X((t,e,n)=>{t.append("marker").attr("id",n+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",n+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),vOe=X((t,e,n)=>{t.append("marker").attr("id",n+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",n+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),kOe=X((t,e,n)=>{t.append("marker").attr("id",n+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",n+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),_Oe=X((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),COe=X((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",n+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),SOe=X((t,e,n)=>{const r=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("d","M9,0 L9,18");const a=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),a.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),jOe=X((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",n+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),TOe=X((t,e,n)=>{const r=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const a=t.append("defs").append("marker").attr("id",n+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),a.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),EOe=X((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),NOe=X((t,e,n)=>{const r=t.append("defs").append("marker").attr("id",n+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");r.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),r.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),r.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),$Oe={extension:fOe,composition:gOe,aggregation:bOe,dependency:xOe,lollipop:yOe,point:wOe,circle:vOe,cross:kOe,barb:_Oe,only_one:COe,zero_or_one:SOe,one_or_more:jOe,zero_or_more:TOe,requirement_arrow:EOe,requirement_contains:NOe},AOe=pOe,IOe={common:uh,getConfig:La,insertCluster:BLe,insertEdge:hOe,insertEdgeLabel:oOe,insertMarkers:AOe,insertNode:MV,interpolateToCurve:vS,labelHelper:fn,log:ut,positionEdgeLabel:lOe},Sf={},PV=X(t=>{for(const e of t)Sf[e.name]=e},"registerLayoutLoaders"),ROe=X(()=>{PV([{name:"dagre",loader:X(async()=>await Vn(()=>import("./dagre-6UL2VRFP-2FxNsB4t.js"),__vite__mapDeps([10,11,12,13,14,15,1,3,4,5,6]),import.meta.url),"loader")},{name:"cose-bilkent",loader:X(async()=>await Vn(()=>import("./cose-bilkent-S5V4N54A-BHQJK_cx.js"),__vite__mapDeps([16,17,1,3,4,5,6]),import.meta.url),"loader")}])},"registerDefaultLayoutLoaders");ROe();var pJe=X(async(t,e)=>{if(!(t.layoutAlgorithm in Sf))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const n=Sf[t.layoutAlgorithm];return(await n.loader()).render(t,e,IOe,{algorithm:n.algorithm})},"render"),fJe=X((t="",{fallback:e="dagre"}={})=>{if(t in Sf)return t;if(e in Sf)return ut.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),FV="comm",BV="rule",zV="decl",MOe="@import",DOe="@namespace",LOe="@keyframes",OOe="@layer",HV=Math.abs,zS=String.fromCharCode;function qV(t){return t.trim()}function o1(t,e,n){return t.replace(e,n)}function POe(t,e,n){return t.indexOf(e,n)}function lm(t,e){return t.charCodeAt(e)|0}function Lm(t,e,n){return t.slice(e,n)}function Xi(t){return t.length}function FOe(t){return t.length}function kg(t,e){return e.push(t),t}var g2=1,Om=1,UV=0,oi=0,Kr=0,fh="";function HS(t,e,n,r,a,s,i,o){return{value:t,root:e,parent:n,type:r,props:a,children:s,line:g2,column:Om,length:i,return:"",siblings:o}}function BOe(){return Kr}function zOe(){return Kr=oi>0?lm(fh,--oi):0,Om--,Kr===10&&(Om=1,g2--),Kr}function Ti(){return Kr=oi<UV?lm(fh,oi++):0,Om++,Kr===10&&(Om=1,g2++),Kr}function Ul(){return lm(fh,oi)}function l1(){return oi}function b2(t,e){return Lm(fh,t,e)}function jf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function HOe(t){return g2=Om=1,UV=Xi(fh=t),oi=0,[]}function qOe(t){return fh="",t}function Fv(t){return qV(b2(oi-1,X4(t===91?t+2:t===40?t+1:t)))}function UOe(t){for(;(Kr=Ul())&&Kr<33;)Ti();return jf(t)>2||jf(Kr)>3?"":" "}function WOe(t,e){for(;--e&&Ti()&&!(Kr<48||Kr>102||Kr>57&&Kr<65||Kr>70&&Kr<97););return b2(t,l1()+(e<6&&Ul()==32&&Ti()==32))}function X4(t){for(;Ti();)switch(Kr){case t:return oi;case 34:case 39:t!==34&&t!==39&&X4(Kr);break;case 40:t===41&&X4(t);break;case 92:Ti();break}return oi}function GOe(t,e){for(;Ti()&&t+Kr!==57;)if(t+Kr===84&&Ul()===47)break;return"/*"+b2(e,oi-1)+"*"+zS(t===47?t:Ti())}function VOe(t){for(;!jf(Ul());)Ti();return b2(t,oi)}function KOe(t){return qOe(c1("",null,null,null,[""],t=HOe(t),0,[0],t))}function c1(t,e,n,r,a,s,i,o,c){for(var u=0,d=0,m=i,h=0,p=0,f=0,g=1,x=1,y=1,w=0,v="",k=a,C=s,_=r,S=v;x;)switch(f=w,w=Ti()){case 40:if(f!=108&&lm(S,m-1)==58){POe(S+=o1(Fv(w),"&","&\f"),"&\f",HV(u?o[u-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:S+=Fv(w);break;case 9:case 10:case 13:case 32:S+=UOe(f);break;case 92:S+=WOe(l1()-1,7);continue;case 47:switch(Ul()){case 42:case 47:kg(YOe(GOe(Ti(),l1()),e,n,c),c),(jf(f||1)==5||jf(Ul()||1)==5)&&Xi(S)&&Lm(S,-1,void 0)!==" "&&(S+=" ");break;default:S+="/"}break;case 123*g:o[u++]=Xi(S)*y;case 125*g:case 59:case 0:switch(w){case 0:case 125:x=0;case 59+d:y==-1&&(S=o1(S,/\f/g,"")),p>0&&(Xi(S)-m||g===0&&f===47)&&kg(p>32?RN(S+";",r,n,m-1,c):RN(o1(S," ","")+";",r,n,m-2,c),c);break;case 59:S+=";";default:if(kg(_=IN(S,e,n,u,d,a,o,v,k=[],C=[],m,s),s),w===123)if(d===0)c1(S,e,_,_,k,s,m,o,C);else{switch(h){case 99:if(lm(S,3)===110)break;case 108:if(lm(S,2)===97)break;default:d=0;case 100:case 109:case 115:}d?c1(t,_,_,r&&kg(IN(t,_,_,0,0,a,o,v,a,k=[],m,C),C),a,C,m,o,r?k:C):c1(S,_,_,_,[""],C,0,o,C)}}u=d=p=0,g=y=1,v=S="",m=i;break;case 58:m=1+Xi(S),p=f;default:if(g<1){if(w==123)--g;else if(w==125&&g++==0&&zOe()==125)continue}switch(S+=zS(w),w*g){case 38:y=d>0?1:(S+="\f",-1);break;case 44:o[u++]=(Xi(S)-1)*y,y=1;break;case 64:Ul()===45&&(S+=Fv(Ti())),h=Ul(),d=m=Xi(v=S+=VOe(l1())),w++;break;case 45:f===45&&Xi(S)==2&&(g=0)}}return s}function IN(t,e,n,r,a,s,i,o,c,u,d,m){for(var h=a-1,p=a===0?s:[""],f=FOe(p),g=0,x=0,y=0;g<r;++g)for(var w=0,v=Lm(t,h+1,h=HV(x=i[g])),k=t;w<f;++w)(k=qV(x>0?p[w]+" "+v:o1(v,/&\f/g,p[w])))&&(c[y++]=k);return HS(t,e,n,a===0?BV:o,c,u,d,m)}function YOe(t,e,n,r){return HS(t,e,n,FV,zS(BOe()),Lm(t,2,-2),0,r)}function RN(t,e,n,r,a){return HS(t,e,n,zV,Lm(t,0,r),Lm(t,r+1,-1),r,a)}function Z4(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function XOe(t,e,n,r){switch(t.type){case OOe:if(t.children.length)break;case MOe:case DOe:case zV:return t.return=t.return||t.value;case FV:return"";case LOe:return t.return=t.value+"{"+Z4(t.children,r)+"}";case BV:if(!Xi(t.value=t.props.join(",")))return""}return Xi(n=Z4(t.children,r))?t.return=t.value+"{"+n+"}":""}var ZOe=gW(Object.keys,Object),QOe=Object.prototype,JOe=QOe.hasOwnProperty;function ePe(t){if(!i2(t))return ZOe(t);var e=[];for(var n in Object(t))JOe.call(t,n)&&n!="constructor"&&e.push(n);return e}var Q4=Qu(_o,"DataView"),J4=Qu(_o,"Promise"),e_=Qu(_o,"Set"),t_=Qu(_o,"WeakMap"),MN="[object Map]",tPe="[object Object]",DN="[object Promise]",LN="[object Set]",ON="[object WeakMap]",PN="[object DataView]",nPe=Zu(Q4),rPe=Zu(_f),aPe=Zu(J4),sPe=Zu(e_),iPe=Zu(t_),Pc=mh;(Q4&&Pc(new Q4(new ArrayBuffer(1)))!=PN||_f&&Pc(new _f)!=MN||J4&&Pc(J4.resolve())!=DN||e_&&Pc(new e_)!=LN||t_&&Pc(new t_)!=ON)&&(Pc=function(t){var e=mh(t),n=e==tPe?t.constructor:void 0,r=n?Zu(n):"";if(r)switch(r){case nPe:return PN;case rPe:return MN;case aPe:return DN;case sPe:return LN;case iPe:return ON}return e});var oPe="[object Map]",lPe="[object Set]",cPe=Object.prototype,uPe=cPe.hasOwnProperty;function FN(t){if(t==null)return!0;if(o2(t)&&(Wb(t)||typeof t=="string"||typeof t.splice=="function"||yS(t)||wS(t)||Ub(t)))return!t.length;var e=Pc(t);if(e==oPe||e==lPe)return!t.size;if(i2(t))return!ePe(t).length;for(var n in t)if(uPe.call(t,n))return!1;return!0}var WV="c4",dPe=X(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),mPe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./c4Diagram-YG6GDRKO-ssYBpMK4.js");return{diagram:e}},__vite__mapDeps([18,19,1,3,4,5,6]),import.meta.url);return{id:WV,diagram:t}},"loader"),hPe={id:WV,detector:dPe,loader:mPe},pPe=hPe,GV="flowchart",fPe=X((t,e)=>e?.flowchart?.defaultRenderer==="dagre-wrapper"||e?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(t),"detector"),gPe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-BFR-PNcR.js");return{diagram:e}},__vite__mapDeps([20,21,22,23,24,1,3,4,5,6]),import.meta.url);return{id:GV,diagram:t}},"loader"),bPe={id:GV,detector:fPe,loader:gPe},xPe=bPe,VV="flowchart-v2",yPe=X((t,e)=>e?.flowchart?.defaultRenderer==="dagre-d3"?!1:(e?.flowchart?.defaultRenderer==="elk"&&(e.layout="elk"),/^\s*graph/.test(t)&&e?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(t)),"detector"),wPe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-BFR-PNcR.js");return{diagram:e}},__vite__mapDeps([20,21,22,23,24,1,3,4,5,6]),import.meta.url);return{id:VV,diagram:t}},"loader"),vPe={id:VV,detector:yPe,loader:wPe},kPe=vPe,KV="er",_Pe=X(t=>/^\s*erDiagram/.test(t),"detector"),CPe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./erDiagram-Q2GNP2WA-C0GVGAqS.js");return{diagram:e}},__vite__mapDeps([25,22,23,24,1,3,4,5,6]),import.meta.url);return{id:KV,diagram:t}},"loader"),SPe={id:KV,detector:_Pe,loader:CPe},jPe=SPe,YV="gitGraph",TPe=X(t=>/^\s*gitGraph/.test(t),"detector"),EPe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./gitGraphDiagram-NY62KEGX-CazWVVgb.js");return{diagram:e}},__vite__mapDeps([26,27,28,29,1,12,14,15,3,4,5,6]),import.meta.url);return{id:YV,diagram:t}},"loader"),NPe={id:YV,detector:TPe,loader:EPe},$Pe=NPe,XV="gantt",APe=X(t=>/^\s*gantt/.test(t),"detector"),IPe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./ganttDiagram-JELNMOA3-Cg0NLSeu.js");return{diagram:e}},__vite__mapDeps([30,1,31,32,33,3,4,5,6]),import.meta.url);return{id:XV,diagram:t}},"loader"),RPe={id:XV,detector:APe,loader:IPe},MPe=RPe,ZV="info",DPe=X(t=>/^\s*info/.test(t),"detector"),LPe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./infoDiagram-WHAUD3N6-DeSHYwGm.js");return{diagram:e}},__vite__mapDeps([34,29,1,12,14,15,3,4,5,6]),import.meta.url);return{id:ZV,diagram:t}},"loader"),OPe={id:ZV,detector:DPe,loader:LPe},QV="pie",PPe=X(t=>/^\s*pie/.test(t),"detector"),FPe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./pieDiagram-ADFJNKIX-CeUm0nSx.js");return{diagram:e}},__vite__mapDeps([35,27,29,1,12,14,15,36,37,32,3,4,5,6]),import.meta.url);return{id:QV,diagram:t}},"loader"),BPe={id:QV,detector:PPe,loader:FPe},JV="quadrantChart",zPe=X(t=>/^\s*quadrantChart/.test(t),"detector"),HPe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./quadrantDiagram-AYHSOK5B-CWZQcGM-.js");return{diagram:e}},__vite__mapDeps([38,31,32,33,1,3,4,5,6]),import.meta.url);return{id:JV,diagram:t}},"loader"),qPe={id:JV,detector:zPe,loader:HPe},UPe=qPe,eK="xychart",WPe=X(t=>/^\s*xychart(-beta)?/.test(t),"detector"),GPe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./xychartDiagram-PRI3JC2R-BZJ9R7ha.js");return{diagram:e}},__vite__mapDeps([39,32,37,31,33,1,3,4,5,6]),import.meta.url);return{id:eK,diagram:t}},"loader"),VPe={id:eK,detector:WPe,loader:GPe},KPe=VPe,tK="requirement",YPe=X(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),XPe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./requirementDiagram-UZGBJVZJ-B1EuPkYW.js");return{diagram:e}},__vite__mapDeps([40,22,23,1,3,4,5,6]),import.meta.url);return{id:tK,diagram:t}},"loader"),ZPe={id:tK,detector:YPe,loader:XPe},QPe=ZPe,nK="sequence",JPe=X(t=>/^\s*sequenceDiagram/.test(t),"detector"),eFe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./sequenceDiagram-WL72ISMW-Da2jCwp3.js");return{diagram:e}},__vite__mapDeps([41,19,28,1,3,4,5,6]),import.meta.url);return{id:nK,diagram:t}},"loader"),tFe={id:nK,detector:JPe,loader:eFe},nFe=tFe,rK="class",rFe=X((t,e)=>e?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t),"detector"),aFe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./classDiagram-2ON5EDUG-BFiAKCQz.js");return{diagram:e}},__vite__mapDeps([42,43,21,22,23,1,3,4,5,6]),import.meta.url);return{id:rK,diagram:t}},"loader"),sFe={id:rK,detector:rFe,loader:aFe},iFe=sFe,aK="classDiagram",oFe=X((t,e)=>/^\s*classDiagram/.test(t)&&e?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t),"detector"),lFe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./classDiagram-v2-WZHVMYZB-BFiAKCQz.js");return{diagram:e}},__vite__mapDeps([44,43,21,22,23,1,3,4,5,6]),import.meta.url);return{id:aK,diagram:t}},"loader"),cFe={id:aK,detector:oFe,loader:lFe},uFe=cFe,sK="state",dFe=X((t,e)=>e?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t),"detector"),mFe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./stateDiagram-FKZM4ZOC-D1s_uiUQ.js");return{diagram:e}},__vite__mapDeps([45,46,22,23,11,12,13,14,1,3,4,5,6]),import.meta.url);return{id:sK,diagram:t}},"loader"),hFe={id:sK,detector:dFe,loader:mFe},pFe=hFe,iK="stateDiagram",fFe=X((t,e)=>!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&e?.state?.defaultRenderer==="dagre-wrapper"),"detector"),gFe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./stateDiagram-v2-4FDKWEC3-lqt8BF-h.js");return{diagram:e}},__vite__mapDeps([47,46,22,23,1,3,4,5,6]),import.meta.url);return{id:iK,diagram:t}},"loader"),bFe={id:iK,detector:fFe,loader:gFe},xFe=bFe,oK="journey",yFe=X(t=>/^\s*journey/.test(t),"detector"),wFe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./journeyDiagram-XKPGCS4Q-CszhZTb_.js");return{diagram:e}},__vite__mapDeps([48,19,21,36,1,3,4,5,6]),import.meta.url);return{id:oK,diagram:t}},"loader"),vFe={id:oK,detector:yFe,loader:wFe},kFe=vFe,_Fe=X((t,e,n)=>{ut.debug(`rendering svg for syntax error
`);const r=rAe(e),a=r.append("g");r.attr("viewBox","0 0 2412 512"),MH(r,100,512,!0),a.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),a.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),a.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),a.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),a.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),a.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),a.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),a.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${n}`)},"draw"),lK={draw:_Fe},CFe=lK,SFe={db:{},renderer:lK,parser:{parse:X(()=>{},"parse")}},jFe=SFe,cK="flowchart-elk",TFe=X((t,e={})=>/^\s*flowchart-elk/.test(t)||/^\s*(flowchart|graph)/.test(t)&&e?.flowchart?.defaultRenderer==="elk"?(e.layout="elk",!0):!1,"detector"),EFe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./flowDiagram-NV44I4VS-BFR-PNcR.js");return{diagram:e}},__vite__mapDeps([20,21,22,23,24,1,3,4,5,6]),import.meta.url);return{id:cK,diagram:t}},"loader"),NFe={id:cK,detector:TFe,loader:EFe},$Fe=NFe,uK="timeline",AFe=X(t=>/^\s*timeline/.test(t),"detector"),IFe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./timeline-definition-IT6M3QCI-DH4Tm_KG.js");return{diagram:e}},__vite__mapDeps([49,36,1,3,4,5,6]),import.meta.url);return{id:uK,diagram:t}},"loader"),RFe={id:uK,detector:AFe,loader:IFe},MFe=RFe,dK="mindmap",DFe=X(t=>/^\s*mindmap/.test(t),"detector"),LFe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./mindmap-definition-VGOIOE7T-BGZBAdAL.js");return{diagram:e}},__vite__mapDeps([50,22,23,1,3,4,5,6]),import.meta.url);return{id:dK,diagram:t}},"loader"),OFe={id:dK,detector:DFe,loader:LFe},PFe=OFe,mK="kanban",FFe=X(t=>/^\s*kanban/.test(t),"detector"),BFe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./kanban-definition-3W4ZIXB7-CpSUkTBh.js");return{diagram:e}},__vite__mapDeps([51,21,1,3,4,5,6]),import.meta.url);return{id:mK,diagram:t}},"loader"),zFe={id:mK,detector:FFe,loader:BFe},HFe=zFe,hK="sankey",qFe=X(t=>/^\s*sankey(-beta)?/.test(t),"detector"),UFe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./sankeyDiagram-TZEHDZUN-D6kg28_1.js");return{diagram:e}},__vite__mapDeps([52,37,32,1,3,4,5,6]),import.meta.url);return{id:hK,diagram:t}},"loader"),WFe={id:hK,detector:qFe,loader:UFe},GFe=WFe,pK="packet",VFe=X(t=>/^\s*packet(-beta)?/.test(t),"detector"),KFe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./diagram-S2PKOQOG-DYSs6v2E.js");return{diagram:e}},__vite__mapDeps([53,27,29,1,12,14,15,3,4,5,6]),import.meta.url);return{id:pK,diagram:t}},"loader"),YFe={id:pK,detector:VFe,loader:KFe},fK="radar",XFe=X(t=>/^\s*radar-beta/.test(t),"detector"),ZFe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./diagram-QEK2KX5R-DnUuaq_s.js");return{diagram:e}},__vite__mapDeps([54,27,29,1,12,14,15,3,4,5,6]),import.meta.url);return{id:fK,diagram:t}},"loader"),QFe={id:fK,detector:XFe,loader:ZFe},gK="block",JFe=X(t=>/^\s*block(-beta)?/.test(t),"detector"),eBe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./blockDiagram-VD42YOAC-Cg5N2K1l.js");return{diagram:e}},__vite__mapDeps([55,21,15,12,11,24,1,3,4,5,6]),import.meta.url);return{id:gK,diagram:t}},"loader"),tBe={id:gK,detector:JFe,loader:eBe},nBe=tBe,bK="architecture",rBe=X(t=>/^\s*architecture/.test(t),"detector"),aBe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./architectureDiagram-VXUJARFQ-D645mn7D.js");return{diagram:e}},__vite__mapDeps([56,27,29,1,12,14,15,17,3,4,5,6]),import.meta.url);return{id:bK,diagram:t}},"loader"),sBe={id:bK,detector:rBe,loader:aBe},iBe=sBe,xK="treemap",oBe=X(t=>/^\s*treemap/.test(t),"detector"),lBe=X(async()=>{const{diagram:t}=await Vn(async()=>{const{diagram:e}=await import("./diagram-PSM6KHXK-J52EBUBb.js");return{diagram:e}},__vite__mapDeps([57,23,27,29,1,12,14,15,33,37,32,3,4,5,6]),import.meta.url);return{id:xK,diagram:t}},"loader"),cBe={id:xK,detector:oBe,loader:lBe},BN=!1,x2=X(()=>{BN||(BN=!0,Sb("error",jFe,t=>t.toLowerCase().trim()==="error"),Sb("---",{db:{clear:X(()=>{},"clear")},styles:{},renderer:{draw:X(()=>{},"draw")},parser:{parse:X(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:X(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),l4($Fe,PFe,iBe),l4(pPe,HFe,uFe,iFe,jPe,MPe,OPe,BPe,QPe,nFe,kPe,xPe,MFe,$Pe,xFe,pFe,kFe,UPe,GFe,YFe,KPe,nBe,QFe,cBe))},"addDiagrams"),uBe=X(async()=>{ut.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(Su).map(async([n,{detector:r,loader:a}])=>{if(a)try{m4(n)}catch{try{const{diagram:s,id:i}=await a();Sb(i,s,r)}catch(s){throw ut.error(`Failed to load external diagram with key ${n}. Removing from detectors.`),delete Su[n],s}}}))).filter(n=>n.status==="rejected");if(e.length>0){ut.error(`Failed to load ${e.length} external diagrams`);for(const n of e)ut.error(n);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),dBe="graphics-document document";function yK(t,e){t.attr("role",dBe),e!==""&&t.attr("aria-roledescription",e)}X(yK,"setA11yDiagramInfo");function wK(t,e,n,r){if(t.insert!==void 0){if(n){const a=`chart-desc-${r}`;t.attr("aria-describedby",a),t.insert("desc",":first-child").attr("id",a).text(n)}if(e){const a=`chart-title-${r}`;t.attr("aria-labelledby",a),t.insert("title",":first-child").attr("id",a).text(e)}}}X(wK,"addSVGa11yTitleDescription");var n_=class vK{constructor(e,n,r,a,s){this.type=e,this.text=n,this.db=r,this.parser=a,this.renderer=s}static{X(this,"Diagram")}static async fromText(e,n={}){const r=La(),a=U6(e,r);e=cDe(e)+`
`;try{m4(a)}catch{const u=REe(a);if(!u)throw new kH(`Diagram ${a} not found.`);const{id:d,diagram:m}=await u();Sb(d,m)}const{db:s,parser:i,renderer:o,init:c}=m4(a);return i.parser&&(i.parser.yy=s),s.clear?.(),c?.(r),n.title&&s.setDiagramTitle?.(n.title),await i.parse(e),new vK(a,e,s,i,o)}async render(e,n){await this.renderer.draw(this.text,e,n,this)}getParser(){return this.parser}getType(){return this.type}},zN=[],mBe=X(()=>{zN.forEach(t=>{t()}),zN=[]},"attachFunctions"),hBe=X(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function kK(t){const e=t.match(vH);if(!e)return{text:t,metadata:{}};let n=uIe(e[1],{schema:cIe})??{};n=typeof n=="object"&&!Array.isArray(n)?n:{};const r={};return n.displayMode&&(r.displayMode=n.displayMode.toString()),n.title&&(r.title=n.title.toString()),n.config&&(r.config=n.config),{text:t.slice(e[0].length),metadata:r}}X(kK,"extractFrontMatter");var pBe=X(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,n,r)=>"<"+n+r.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),fBe=X(t=>{const{text:e,metadata:n}=kK(t),{displayMode:r,title:a,config:s={}}=n;return r&&(s.gantt||(s.gantt={}),s.gantt.displayMode=r),{title:a,config:s,text:e}},"processFrontmatter"),gBe=X(t=>{const e=vi.detectInit(t)??{},n=vi.detectDirective(t,"wrap");return Array.isArray(n)?e.wrap=n.some(({type:r})=>r==="wrap"):n?.type==="wrap"&&(e.wrap=!0),{text:XMe(t),directive:e}},"processDirectives");function qS(t){const e=pBe(t),n=fBe(e),r=gBe(n.text),a=jS(n.config,r.directive);return t=hBe(r.text),{code:t,title:n.title,config:a}}X(qS,"preprocessDiagram");function _K(t){const e=new TextEncoder().encode(t),n=Array.from(e,r=>String.fromCodePoint(r)).join("");return btoa(n)}X(_K,"toBase64");var bBe=5e4,xBe="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",yBe="sandbox",wBe="loose",vBe="http://www.w3.org/2000/svg",kBe="http://www.w3.org/1999/xlink",_Be="http://www.w3.org/1999/xhtml",CBe="100%",SBe="100%",jBe="border:0;margin:0;",TBe="margin:0",EBe="allow-top-navigation-by-user-activation allow-popups",NBe='The "iframe" tag is not supported by your browser.',$Be=["foreignobject"],ABe=["dominant-baseline"];function US(t){const e=qS(t);return _b(),YEe(e.config??{}),e}X(US,"processAndSetConfigs");async function CK(t,e){x2();try{const{code:n,config:r}=US(t);return{diagramType:(await jK(n)).type,config:r}}catch(n){if(e?.suppressErrors)return!1;throw n}}X(CK,"parse");var HN=X((t,e,n=[])=>`
.${t} ${e} { ${n.join(" !important; ")} !important; }`,"cssImportantStyles"),IBe=X((t,e=new Map)=>{let n="";if(t.themeCSS!==void 0&&(n+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(n+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(n+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){const i=t.htmlLabels??t.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(o=>{FN(o.styles)||i.forEach(c=>{n+=HN(o.id,c,o.styles)}),FN(o.textStyles)||(n+=HN(o.id,"tspan",(o?.textStyles||[]).map(c=>c.replace("color","fill"))))})}return n},"createCssStyles"),RBe=X((t,e,n,r)=>{const a=IBe(t,n),s=f8e(e,a,t.themeVariables);return Z4(KOe(`${r}{${s}}`),XOe)},"createUserStyles"),MBe=X((t="",e,n)=>{let r=t;return!n&&!e&&(r=r.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),r=Ju(r),r=r.replace(/<br>/g,"<br/>"),r},"cleanUpSvgCode"),DBe=X((t="",e)=>{const n=e?.viewBox?.baseVal?.height?e.viewBox.baseVal.height+"px":SBe,r=_K(`<body style="${TBe}">${t}</body>`);return`<iframe style="width:${CBe};height:${n};${jBe}" src="data:text/html;charset=UTF-8;base64,${r}" sandbox="${EBe}">
  ${NBe}
</iframe>`},"putIntoIFrame"),qN=X((t,e,n,r,a)=>{const s=t.append("div");s.attr("id",n),r&&s.attr("style",r);const i=s.append("svg").attr("id",e).attr("width","100%").attr("xmlns",vBe);return a&&i.attr("xmlns:xlink",a),i.append("g"),t},"appendDivSvgG");function r_(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}X(r_,"sandboxedIframe");var LBe=X((t,e,n,r)=>{t.getElementById(e)?.remove(),t.getElementById(n)?.remove(),t.getElementById(r)?.remove()},"removeExistingElements"),OBe=X(async function(t,e,n){x2();const r=US(e);e=r.code;const a=La();ut.debug(a),e.length>(a?.maxTextSize??bBe)&&(e=xBe);const s="#"+t,i="i"+t,o="#"+i,c="d"+t,u="#"+c,d=X(()=>{const A=qn(h?o:u).node();A&&"remove"in A&&A.remove()},"removeTempElements");let m=qn("body");const h=a.securityLevel===yBe,p=a.securityLevel===wBe,f=a.fontFamily;if(n!==void 0){if(n&&(n.innerHTML=""),h){const I=r_(qn(n),i);m=qn(I.nodes()[0].contentDocument.body),m.node().style.margin=0}else m=qn(n);qN(m,t,c,`font-family: ${f}`,kBe)}else{if(LBe(document,t,c,i),h){const I=r_(qn("body"),i);m=qn(I.nodes()[0].contentDocument.body),m.node().style.margin=0}else m=qn("body");qN(m,t,c)}let g,x;try{g=await n_.fromText(e,{title:r.title})}catch(I){if(a.suppressErrorRendering)throw d(),I;g=await n_.fromText("error"),x=I}const y=m.select(u).node(),w=g.type,v=y.firstChild,k=v.firstChild,C=g.renderer.getClasses?.(e,g),_=RBe(a,w,C,s),S=document.createElement("style");S.innerHTML=_,v.insertBefore(S,k);try{await g.renderer.draw(e,t,l7.version,g)}catch(I){throw a.suppressErrorRendering?d():CFe.draw(e,t,l7.version),I}const T=m.select(`${u} svg`),N=g.db.getAccTitle?.(),j=g.db.getAccDescription?.();TK(w,T,N,j),m.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",_Be);let R=m.select(u).node().innerHTML;if(ut.debug("config.arrowMarkerAbsolute",a.arrowMarkerAbsolute),R=MBe(R,h,aa(a.arrowMarkerAbsolute)),h){const I=m.select(u+" svg").node();R=DBe(R,I)}else p||(R=Nm.sanitize(R,{ADD_TAGS:$Be,ADD_ATTR:ABe,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(mBe(),x)throw x;return d(),{diagramType:w,svg:R,bindFunctions:g.db.bindFunctions}},"render");function SK(t={}){const e=ea({},t);e?.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),VEe(e),e?.theme&&e.theme in Jo?e.themeVariables=Jo[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=Jo.default.getThemeVariables(e.themeVariables));const n=typeof e=="object"?GEe(e):TH();q6(n.logLevel),x2()}X(SK,"initialize");var jK=X((t,e={})=>{const{code:n}=qS(t);return n_.fromText(n,e)},"getDiagramFromText");function TK(t,e,n,r){yK(e,t),wK(e,n,r,e.attr("id"))}X(TK,"addA11yInfo");var Au=Object.freeze({render:OBe,parse:CK,getDiagramFromText:jK,initialize:SK,getConfig:La,setConfig:EH,getSiteConfig:TH,updateSiteConfig:KEe,reset:X(()=>{_b()},"reset"),globalReset:X(()=>{_b($m)},"globalReset"),defaultConfig:$m});q6(La().logLevel);_b(La());var PBe=X((t,e,n)=>{ut.warn(t),SS(t)?(n&&n(t.str,t.hash),e.push({...t,message:t.str,error:t})):(n&&n(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),EK=X(async function(t={querySelector:".mermaid"}){try{await FBe(t)}catch(e){if(SS(e)&&ut.error(e.str),cl.parseError&&cl.parseError(e),!t.suppressErrors)throw ut.error("Use the suppressErrors option to suppress these errors"),e}},"run"),FBe=X(async function({postRenderCallback:t,querySelector:e,nodes:n}={querySelector:".mermaid"}){const r=Au.getConfig();ut.debug(`${t?"":"No "}Callback function found`);let a;if(n)a=n;else if(e)a=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");ut.debug(`Found ${a.length} diagrams`),r?.startOnLoad!==void 0&&(ut.debug("Start On Load: "+r?.startOnLoad),Au.updateSiteConfig({startOnLoad:r?.startOnLoad}));const s=new vi.InitIDGenerator(r.deterministicIds,r.deterministicIDSeed);let i;const o=[];for(const c of Array.from(a)){if(ut.info("Rendering diagram: "+c.id),c.getAttribute("data-processed"))continue;c.setAttribute("data-processed","true");const u=`mermaid-${s.next()}`;i=c.innerHTML,i=KW(vi.entityDecode(i)).trim().replace(/<br\s*\/?>/gi,"<br/>");const d=vi.detectInit(i);d&&ut.debug("Detected early reinit: ",d);try{const{svg:m,bindFunctions:h}=await IK(u,i,c);c.innerHTML=m,t&&await t(u),h&&h(c)}catch(m){PBe(m,o,cl.parseError)}}if(o.length>0)throw o[0]},"runThrowsErrors"),NK=X(function(t){Au.initialize(t)},"initialize"),BBe=X(async function(t,e,n){ut.warn("mermaid.init is deprecated. Please use run instead."),t&&NK(t);const r={postRenderCallback:n,querySelector:".mermaid"};typeof e=="string"?r.querySelector=e:e&&(e instanceof HTMLElement?r.nodes=[e]:r.nodes=e),await EK(r)},"init"),zBe=X(async(t,{lazyLoad:e=!0}={})=>{x2(),l4(...t),e===!1&&await uBe()},"registerExternalDiagrams"),$K=X(function(){if(cl.startOnLoad){const{startOnLoad:t}=Au.getConfig();t&&cl.run().catch(e=>ut.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",$K,!1);var HBe=X(function(t){cl.parseError=t},"setParseErrorHandler"),nx=[],Bv=!1,AK=X(async()=>{if(!Bv){for(Bv=!0;nx.length>0;){const t=nx.shift();if(t)try{await t()}catch(e){ut.error("Error executing queue",e)}}Bv=!1}},"executeQueue"),qBe=X(async(t,e)=>new Promise((n,r)=>{const a=X(()=>new Promise((s,i)=>{Au.parse(t,e).then(o=>{s(o),n(o)},o=>{ut.error("Error parsing",o),cl.parseError?.(o),i(o),r(o)})}),"performCall");nx.push(a),AK().catch(r)}),"parse"),IK=X((t,e,n)=>new Promise((r,a)=>{const s=X(()=>new Promise((i,o)=>{Au.render(t,e,n).then(c=>{i(c),r(c)},c=>{ut.error("Error parsing",c),cl.parseError?.(c),o(c),a(c)})}),"performCall");nx.push(s),AK().catch(a)}),"render"),UBe=X(()=>Object.keys(Su).map(t=>({id:t})),"getRegisteredDiagramsMetadata"),cl={startOnLoad:!0,mermaidAPI:Au,parse:qBe,render:IK,init:BBe,run:EK,registerExternalDiagrams:zBe,registerLayoutLoaders:PV,initialize:NK,parseError:void 0,contentLoaded:$K,setParseErrorHandler:HBe,detectType:U6,registerIconPacks:hLe,getRegisteredDiagramsMetadata:UBe},a_=cl;const RK=b.createContext({isStreaming:!1}),zv=300,UN=1200;a_.initialize({startOnLoad:!1,theme:"dark",layout:"elk",securityLevel:"loose",fontFamily:"var(--font-monospace)",darkMode:!0,elk:{nodePlacementStrategy:"LINEAR_SEGMENTS",mergeEdges:!0},wrap:!0,markdownAutoWrap:!0,flowchart:{nodeSpacing:60,curve:"linear",defaultRenderer:"elk"}});const Hv=(t=!1)=>({background:t?"rgba(255, 255, 255, 0.05)":"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:t?"var(--color-text-secondary)":"var(--color-text)",padding:"6px 10px",cursor:t?"not-allowed":"pointer",borderRadius:"4px",fontSize:"16px",lineHeight:1,opacity:t?.5:1}),WBe=t=>{const e=ae.c(14),{children:n,onClose:r}=t;let a,s;e[0]!==r?(a=()=>{const h=p=>{p.key==="Escape"&&r()};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},s=[r],e[0]=r,e[1]=a,e[2]=s):(a=e[1],s=e[2]),b.useEffect(a,s);let i;e[3]===Symbol.for("react.memo_cache_sentinel")?(i={position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"40px"},e[3]=i):i=e[3];let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o={position:"relative",maxWidth:"90%",maxHeight:"90%",overflow:"auto"},e[4]=o):o=e[4];let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c={position:"absolute",top:"16px",right:"16px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"var(--color-text)",padding:"8px 16px",cursor:"pointer",borderRadius:"4px",fontSize:"14px",fontFamily:"var(--font-primary)"},e[5]=c):c=e[5];let u;e[6]!==r?(u=l.jsx("button",{onClick:r,style:c,children:"Close"}),e[6]=r,e[7]=u):u=e[7];let d;e[8]!==n||e[9]!==u?(d=l.jsxs("div",{style:o,onClick:VBe,children:[n,u]}),e[8]=n,e[9]=u,e[10]=d):d=e[10];let m;return e[11]!==r||e[12]!==d?(m=l.jsx("div",{style:i,onClick:r,children:d}),e[11]=r,e[12]=d,e[13]=m):m=e[13],m},GBe=({chart:t})=>{const{isStreaming:e}=b.useContext(RK),n=b.useRef(null),r=b.useRef(null),[a,s]=b.useState(null),[i,o]=b.useState(!1),[c,u]=b.useState(""),d=b.useRef(""),m=b.useId(),[h,p]=b.useState(t);b.useEffect(()=>{s(null);const k=setTimeout(()=>p(t),350);return()=>clearTimeout(k)},[t]);const[f,g]=Tt("mermaid-diagram-max-height",zv,{listener:!0}),x=f<=zv,y=f>=UN,w=()=>{y||g(k=>Math.min(UN,Math.round(k*1.1)))},v=()=>{x||g(k=>Math.max(zv,Math.round(k*.9)))};return b.useEffect(()=>{const k=`mermaid-${m.replace(/:/g,"")}`;let C=!1;return(async()=>{try{await a_.parse(h);const{svg:S}=await a_.render(k,h);if(C)return;d.current=S,u(S),s(null),n.current&&(n.current.innerHTML=S)}catch(S){if(C)return;s(S instanceof Error?S.message:"Failed to render diagram")}})(),()=>{C=!0}},[h,m]),b.useEffect(()=>{i&&r.current&&c&&(r.current.innerHTML=c)},[i,c]),a&&!(e&&d.current)?e?l.jsx("div",{style:{color:"var(--color-text-secondary)",background:"var(--color-code-bg)",padding:"12px",fontStyle:"italic"},children:"Rendering diagram..."}):l.jsxs("pre",{style:{color:"var(--color-syntax-error)",background:"hsl(from var(--color-syntax-error) h s l / 0.1)",padding:"12px"},children:["Mermaid Error: ",a]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{position:"relative",margin:"1em 0",background:"var(--color-code-bg)",borderRadius:"4px",padding:"16px"},children:[l.jsxs("div",{style:{position:"absolute",top:"8px",right:"8px",display:"flex",gap:"4px"},children:[l.jsx("button",{onClick:v,disabled:x,style:Hv(x),title:"Decrease diagram height",children:""}),l.jsx("button",{onClick:w,disabled:y,style:Hv(y),title:"Increase diagram height",children:"+"}),l.jsx("button",{onClick:()=>o(!0),style:Hv(),title:"Expand diagram",children:""})]}),l.jsx("div",{ref:n,className:"mermaid-container",style:{maxWidth:"70%",margin:"0 auto","--diagram-max-height":`${f}px`}})]}),i&&l.jsx(WBe,{onClose:()=>o(!1),children:l.jsx("div",{ref:r,className:"mermaid-container mermaid-modal",style:{background:"var(--color-code-bg)",padding:"24px",borderRadius:"8px",minWidth:"80vw",minHeight:"60vh"}})})]})};function VBe(t){return t.stopPropagation()}const qc=t=>{const e=ae.c(9),{text:n,className:r,feedbackDuration:a}=t,s=r===void 0?"":r,i=a===void 0?2e3:a,[o,c]=b.useState(!1);let u;e[0]!==i||e[1]!==n?(u=()=>{(async()=>{try{await bc(n),c(!0),setTimeout(()=>c(!1),i)}catch(f){console.warn("Failed to copy to clipboard:",f)}})()},e[0]=i,e[1]=n,e[2]=u):u=e[2];const d=u,m=`copy-button ${s}`;let h;e[3]!==o?(h=o?l.jsx("span",{className:"copy-feedback",children:"Copied!"}):l.jsx(O5,{className:"copy-icon"}),e[3]=o,e[4]=h):h=e[4];let p;return e[5]!==d||e[6]!==m||e[7]!==h?(p=l.jsx("button",{className:m,onClick:d,"aria-label":"Copy to clipboard",children:h}),e[5]=d,e[6]=m,e[7]=h,e[8]=p):p=e[8],p},KBe=new Set(["bash","sh","shell","zsh","fish","powershell","pwsh","cmd","batch"]);function YBe(t){const e=t.split(`
`);for(;e.length>0&&e[0].trim()==="";)e.shift();for(;e.length>0&&e[e.length-1].trim()==="";)e.pop();let n=null;return e.map((r,a)=>/^\s*\$\s+/.test(r)?(n="unix",r.replace(/^\s*\$\s+/,"")):/^\s*PS(?:\s+[^>]+)?>\s*/.test(r)?(n="powershell",r.replace(/^\s*PS(?:\s+[^>]+)?>\s*/,"")):/^\s*[A-Za-z]:\\[^>]*>\s*/.test(r)?(n="cmd",r.replace(/^\s*[A-Za-z]:\\[^>]*>\s*/,"")):n==="unix"&&a>0?r.replace(/^\s*>\s+/,""):n==="cmd"&&a>0?r.replace(/^\s*>\s*/,""):n==="powershell"&&a>0?r.replace(/^\s*>>\s+/,""):r).join(`
`).trim()}function XBe(t){return KBe.has(t.toLowerCase())}const ZBe=({code:t,language:e,highlightLanguage:n})=>{const[r,a]=b.useState(null),s=n??e,{theme:i}=Lu(),o=t.split(`
`).filter((f,g,x)=>g<x.length-1||f!=="");b.useEffect(()=>{let f=!1;const x=i==="light"||i.endsWith("-light")?"light":"dark";a(null);async function y(){try{const w=await bC(t,s,x);if(!f){const k=OL(w).filter((C,_,S)=>_<S.length-1||C.trim()!=="");a(k.length>0?k:null)}}catch(w){console.warn(`Failed to highlight code block (${s}):`,w),f||a(null)}}return y(),()=>{f=!0}},[t,s,i]);const u=OC()?.openTerminal,d=XBe(e)?YBe(t):"",m=!!u&&d.length>0,h=r??o,p=h.length===1;return l.jsxs("div",{className:`code-block-wrapper${p?" code-block-single-line":""}${m?" code-block-runnable":""}`,children:[l.jsx("div",{className:"code-block-container",children:h.map((f,g)=>l.jsxs(xe.Fragment,{children:[l.jsx("div",{className:"line-number",children:g+1}),l.jsx("div",{className:"code-line",...r?{dangerouslySetInnerHTML:{__html:f}}:{children:l.jsx("code",{children:f})}})]},g))}),m?l.jsx("button",{type:"button",className:"copy-button code-run-button","aria-label":"Run command",onClick:()=>u?.({initialCommand:d}),children:l.jsx(_1,{className:"copy-icon"})}):null,l.jsx(qc,{text:t,className:"code-copy-button"})]})},QBe={pre:({children:t})=>l.jsx(l.Fragment,{children:t}),a:({href:t,children:e})=>l.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:e}),details:({children:t,open:e})=>l.jsx("details",{open:e,className:"bg-code-bg my-2 rounded border border-white/10 px-2 py-1 text-sm",children:t}),summary:({children:t})=>l.jsx("summary",{className:"cursor-pointer py-1 pl-1 font-semibold select-none",children:t}),code:({inline:t,className:e,children:n,node:r,...a})=>{const s=/language-([^\s]+)/.exec(e??""),i=s?s[1]:"",o=typeof n=="string"?n:Array.isArray(n)?n.join(""):"",c=o.includes(`
`),u=t??!c;if(!u&&i==="mermaid")return l.jsx(GBe,{chart:o});if(!u&&i){const d=i==="shell-session"?"shell":i;return l.jsx(ZBe,{code:o,language:i,highlightLanguage:d})}return u?l.jsx("code",{className:e,...a,children:n}):l.jsx("pre",{children:l.jsx("code",{className:e,...a,children:n})})}},JBe=[[S6,{}],[mf,{singleDollarTextMath:!1}]],eze=[[S6,{}],GTe,[mf,{singleDollarTextMath:!1}]],tze={...Hc,tagNames:[...Hc.tagNames??[],"math","mrow","mi","mo","mn","msup","msub","mfrac","munder","mover","mtable","mtr","mtd","mspace","mtext","semantics","annotation","munderover","msqrt","mroot","mpadded","mphantom","menclose","details","summary"],attributes:{...Hc.attributes,span:[...Hc.attributes?.span??[],"style"],math:["xmlns","display"],annotation:["encoding"],"*":[...Hc.attributes?.["*"]??[],"className","class"]}},nze=[lB,[mB,tze],[VTe,{allowedImagePrefixes:["*","/"],allowedLinkPrefixes:["*"],defaultOrigin:"https://mux.invalid",allowDataImages:!0}],[ub,{errorColor:"var(--color-muted-foreground)"}]],WS=xe.memo(t=>{const e=ae.c(11),{content:n,children:r,parseIncompleteMarkdown:a,preserveLineBreaks:s}=t,i=a===void 0?!1:a,o=s===void 0?!1:s;let c;e[0]!==n?(c=QTe(n),e[0]=n,e[1]=c):c=e[1];const u=c,d=o?eze:JBe,m=i?"streaming":"static";let h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h={table:!1,code:!0,mermaid:!0},e[2]=h):h=e[2];let p;e[3]!==u||e[4]!==i||e[5]!==d||e[6]!==m?(p=l.jsx(mH,{components:QBe,remarkPlugins:d,rehypePlugins:nze,parseIncompleteMarkdown:i,mode:m,className:"space-y-2",controls:h,children:u}),e[3]=u,e[4]=i,e[5]=d,e[6]=m,e[7]=p):p=e[7];let f;return e[8]!==r||e[9]!==p?(f=l.jsxs(l.Fragment,{children:[p,r]}),e[8]=r,e[9]=p,e[10]=f):f=e[10],f});WS.displayName="MarkdownCore";const ti=t=>{const e=ae.c(9),{content:n,className:r,style:a,preserveLineBreaks:s}=t;let i;e[0]!==r?(i=ce("markdown-content",r),e[0]=r,e[1]=i):i=e[1];let o;e[2]!==n||e[3]!==s?(o=l.jsx(WS,{content:n,preserveLineBreaks:s}),e[2]=n,e[3]=s,e[4]=o):o=e[4];let c;return e[5]!==a||e[6]!==i||e[7]!==o?(c=l.jsx("div",{className:i,style:a,children:o}),e[5]=a,e[6]=i,e[7]=o,e[8]=c):c=e[8],c},WN={sent:{color:"var(--color-user-text)",overflowWrap:"break-word",wordBreak:"break-word"},queued:{color:"var(--color-subtle)",fontFamily:"var(--font-monospace)",fontSize:"12px",lineHeight:"16px",overflowWrap:"break-word",wordBreak:"break-word",opacity:.9}},rze={sent:"mt-3 flex flex-wrap gap-3",queued:"mt-2 flex flex-wrap gap-2"},GN="user-message-markdown";function aze(t){if(!t)return null;const e=typeof t.frontmatterYaml=="string"&&t.frontmatterYaml.trim().length>0?t.frontmatterYaml.trimEnd():void 0,n=typeof t.body=="string"?t.body:void 0;return!e&&!n?null:`${e?`\`\`\`yaml
---
${e}
---
\`\`\`

`:""}${n??""}`}function sze(t){if(!t.startsWith("data:"))return null;const e=t.indexOf(",");if(e===-1)return null;const n=t.slice(5,e);if(!n.includes(";base64"))return null;const r=n.split(";")[0]??"application/octet-stream";try{const a=t.slice(e+1),s=atob(a),i=new Uint8Array(s.length);for(let o=0;o<s.length;o++)i[o]=s.charCodeAt(o);return new Blob([i],{type:r})}catch{return null}}function ize(t){return t.toLowerCase().trim().split(";")[0]}const oze={sent:"flex max-w-80 items-center gap-2 rounded-xl border border-[var(--color-attachment-border)] px-3 py-2 text-sm text-[var(--color-subtle)]",queued:"border-border-light flex max-w-80 items-center gap-2 rounded border px-2 py-1 text-xs text-[var(--color-subtle)]"},lze={sent:"max-h-[300px] max-w-72 rounded-xl border border-[var(--color-attachment-border)] object-cover",queued:"border-border-light max-h-[300px] max-w-80 rounded border"},s_=xe.forwardRef((t,e)=>{const n=ae.c(11);let r,a,s;n[0]!==t?({prefix:a,className:r,...s}=t,n[0]=t,n[1]=r,n[2]=a,n[3]=s):(r=n[1],a=n[2],s=n[3]);let i;n[4]!==r?(i=ce("font-mono text-[13px] font-medium text-[var(--color-plan-mode-light)]",r),n[4]=r,n[5]=i):i=n[5];let o;return n[6]!==a||n[7]!==e||n[8]!==s||n[9]!==i?(o=l.jsx("span",{ref:e,className:i,...s,children:a}),n[6]=a,n[7]=e,n[8]=s,n[9]=i,n[10]=o):o=n[10],o});s_.displayName="CommandPrefixBadge";const MK=t=>{const e=ae.c(26);let n;e[0]!==t.reviews?(n=t.reviews??[],e[0]=t.reviews,e[1]=n):n=e[1];const r=n;let a;e[2]!==t.fileParts?(a=t.fileParts??[],e[2]=t.fileParts,e[3]=a):a=e[3];const s=a,i=r.length>0;let o;e[4]!==i||e[5]!==t.content?(o=i?t.content.replace(/<review>[\s\S]*?<\/review>\s*/g,"").trim():t.content,e[4]=i,e[5]=t.content,e[6]=o):o=e[6];const c=o,u=t.commandPrefix&&c.startsWith(t.commandPrefix)?t.commandPrefix:void 0;let d;e[7]!==u||e[8]!==c?(d=u?c.slice(u.length):c,e[7]=u,e[8]=c,e[9]=d):d=e[9];const m=d;let h;e[10]!==t.agentSkillSnapshot||e[11]!==t.variant||e[12]!==m||e[13]!==u||e[14]!==c?(h=()=>{if(!m&&!u)return null;if(!u)return l.jsx(ti,{content:c,className:GN,style:WN[t.variant],preserveLineBreaks:!0});const y=c.charAt(u.length),w=y===" ",v=y===`
`,k=aze(t.agentSkillSnapshot),C=k?l.jsxs(N5,{openDelay:150,children:[l.jsx($5,{asChild:!0,children:l.jsx(s_,{prefix:u,className:"cursor-help"})}),l.jsx($le,{children:l.jsx(ey,{align:"start",side:"top",className:"border-border-medium bg-modal-bg z-[1600] max-h-[360px] w-[520px] max-w-[80vw] overflow-auto border-2 p-3",children:l.jsx(ti,{content:k,preserveLineBreaks:!0})})})]}):l.jsx(s_,{prefix:u});return l.jsxs("div",{className:v?"":"flex flex-wrap items-baseline",children:[C,w&&l.jsx("span",{children:""}),m.trim()&&l.jsx(ti,{content:m.trim(),className:GN,style:WN[t.variant],preserveLineBreaks:!0})]})},e[10]=t.agentSkillSnapshot,e[11]=t.variant,e[12]=m,e[13]=u,e[14]=c,e[15]=h):h=e[15];const p=h;let f;e[16]!==i||e[17]!==p||e[18]!==r?(f=i?l.jsxs("div",{className:"space-y-2",children:[r.map(cze),p()]}):p(),e[16]=i,e[17]=p,e[18]=r,e[19]=f):f=e[19];let g;e[20]!==s||e[21]!==t.variant?(g=s.length>0&&l.jsx("div",{className:rze[t.variant],children:s.map((y,w)=>{const v=ize(y.mediaType);if(v.startsWith("image/"))return l.jsx("img",{src:y.url,alt:`Attachment ${w+1}`,className:lze[t.variant]},w);const k=y.filename??(v==="application/pdf"?"PDF attachment":`Attachment (${v})`);return l.jsxs("a",{href:y.url,target:"_blank",rel:"noreferrer",className:oze[t.variant],onClick:C=>{const _=sze(y.url);if(!_)return;C.preventDefault();const S=URL.createObjectURL(_);if($i()){const T=document.createElement("a");T.href=S,T.download=y.filename??(v==="application/pdf"?"attachment.pdf":"attachment"),document.body.appendChild(T),T.click(),T.remove(),setTimeout(()=>URL.revokeObjectURL(S),1e3);return}window.open(S,"_blank","noopener,noreferrer"),setTimeout(()=>URL.revokeObjectURL(S),6e4)},children:[l.jsx(dc,{className:"h-4 w-4 shrink-0"}),l.jsx("span",{className:"truncate",children:k})]},w)})}),e[20]=s,e[21]=t.variant,e[22]=g):g=e[22];let x;return e[23]!==f||e[24]!==g?(x=l.jsxs(l.Fragment,{children:[f,g]}),e[23]=f,e[24]=g,e[25]=x):x=e[25],x};function cze(t,e){return l.jsx(WO,{data:t},e)}const uze=t=>{const e=ae.c(6),{output:n,isError:r,className:a}=t,i=(r===void 0?!1:r)?"text-danger-soft":"text-light";let o;e[0]!==a||e[1]!==i?(o=ce("m-0 p-2 bg-black/30 rounded-sm font-mono text-[11px] leading-relaxed","overflow-x-auto max-h-[300px] overflow-y-auto whitespace-pre-wrap break-all",i,a),e[0]=a,e[1]=i,e[2]=o):o=e[2];let c;return e[3]!==n||e[4]!==o?(c=l.jsx("pre",{className:o,children:n}),e[3]=n,e[4]=o,e[5]=c):c=e[5],c};function dze(t){const e=t.reviews;if(!e||e.length===0)return t.content;const n=e.map(sQ).join(`

`);if(!t.content.startsWith(n))return t.content;const r=t.content.slice(n.length);return r.startsWith(`

`)?r.slice(2):r.startsWith(`
`)?r.slice(1):r}function qv(t){if(t.type!=="tool"||t.toolName!=="bash_output")return!1;const e=t.args;return typeof e=="object"&&e!==null&&"process_id"in e&&typeof e.process_id=="string"}function mze(t){if(t.type==="user"||t.type==="stream-error"||t.type==="compaction-boundary"||t.type==="history-hidden"||t.type==="workspace-init"||t.type==="plan-display"||t.type==="tool"&&t.toolName==="ask_user_question"&&t.status==="executing"||!t.isLastPartOfMessage)return!1;const e="isStreaming"in t?t.isStreaming:!1;return t.isPartial&&!e}function Uv(t){if(t.length===0)return[];const e=[];let n=0;for(;n<t.length;){const r=t[n];if(r.type!=="stream-error"){e.push(r),n++;continue}let a=1,s=n+1;for(;s<t.length;){const i=t[s];if(i.type==="stream-error"&&i.error===r.error&&i.errorType===r.errorType)a++,s++;else break}e.push({...r,errorCount:a}),n=s}return e}function hze(t,e){const n=t[e];if(!qv(n))return;const r=n.args.process_id;let a=e;for(;a>0;){const c=t[a-1];if(qv(c)&&c.args.process_id===r)a--;else break}let s=e;for(;s<t.length-1;){const c=t[s+1];if(qv(c)&&c.args.process_id===r)s++;else break}const i=s-a+1;if(i<3)return;const o=i-2;return e===a?{position:"first",totalCount:i,collapsedCount:o,processId:r,firstIndex:a}:e===s?{position:"last",totalCount:i,collapsedCount:o,processId:r,firstIndex:a}:{position:"middle",totalCount:i,collapsedCount:o,processId:r,firstIndex:a}}const pze=t=>({content:t.content,fileParts:t.fileParts??[],reviews:t.reviews??[]}),fze=t=>({content:dze(t),fileParts:t.fileParts??[],reviews:t.reviews??[]}),DK=t=>({id:t.historyId,pending:fze(t)}),gze=(t,e,n)=>({id:t,pending:{content:e,fileParts:n?.fileParts??[],reviews:n?.reviews??[]}}),bze=t=>{const e=ae.c(65),{message:n,className:r,onEdit:a,isCompacting:s,clipboardWriteText:i,navigation:o}=t,c=i===void 0?bc:i,u=n.isSynthetic===!0,d=n.content;let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m={listener:!0},e[0]=m):m=e[0];const[h]=Tt(Fm,!1,m);console.assert(typeof c=="function","UserMessage expects clipboardWriteText to be a callable function.");let p;e[1]!==d?(p=d.startsWith("<local-command-stdout>")&&d.endsWith("</local-command-stdout>"),e[1]=d,e[2]=p):p=e[2];const f=p;let g;e[3]!==d||e[4]!==f?(g=f?d.slice(22,-23).trim():"",e[3]=d,e[4]=f,e[5]=g):g=e[5];const x=g,{copied:y,copyToClipboard:w}=go(c);let v;e[6]!==f||e[7]!==u||e[8]!==n||e[9]!==a?(v=()=>{a&&!f&&!u&&a(DK(n))},e[6]=f,e[7]=u,e[8]=n,e[9]=a,e[10]=v):v=e[10];const k=v,C=o!==void 0,_=o?.prevUserMessageId!==void 0,S=o?.nextUserMessageId!==void 0;let T;e[11]!==_||e[12]!==o||e[13]!==C?(T=C?[{label:"Previous message",onClick:_?()=>o.onNavigate(o.prevUserMessageId):void 0,disabled:!_,icon:l.jsx(tI,{className:_?void 0:"opacity-30"}),tooltip:_?"Go to previous message":void 0}]:[],e[11]=_,e[12]=o,e[13]=C,e[14]=T):T=e[14];let N;e[15]!==S||e[16]!==o||e[17]!==C?(N=C?[{label:"Next message",onClick:S?()=>o.onNavigate(o.nextUserMessageId):void 0,disabled:!S,icon:l.jsx(na,{className:S?void 0:"opacity-30"}),tooltip:S?"Go to next message":void 0}]:[],e[15]=S,e[16]=o,e[17]=C,e[18]=N):N=e[18];let j;e[19]!==k||e[20]!==s||e[21]!==f||e[22]!==u||e[23]!==a||e[24]!==h?(j=a&&!f&&!u?[{label:"Edit",onClick:k,disabled:s,icon:l.jsx(Rs,{}),tooltip:s?`Cannot edit while compacting (${Bt(h?st.INTERRUPT_STREAM_VIM:st.INTERRUPT_STREAM_NORMAL)} to cancel)`:void 0}]:[],e[19]=k,e[20]=s,e[21]=f,e[22]=u,e[23]=a,e[24]=h,e[25]=j):j=e[25];const R=y?"Copied":"Copy";let I;e[26]!==d||e[27]!==w?(I=()=>void w(d),e[26]=d,e[27]=w,e[28]=I):I=e[28];let A;e[29]!==y?(A=y?l.jsx(Gp,{}):l.jsx(Vp,{}),e[29]=y,e[30]=A):A=e[30];let $;e[31]!==I||e[32]!==A||e[33]!==R?($={label:R,onClick:I,icon:A},e[31]=I,e[32]=A,e[33]=R,e[34]=$):$=e[34];let E;e[35]!==$||e[36]!==T||e[37]!==N||e[38]!==j?(E=[...T,...N,...j,$],e[35]=$,e[36]=T,e[37]=N,e[38]=j,e[39]=E):E=e[39];const M=E;let F;e[40]!==u?(F=u?l.jsx("span",{className:"bg-muted/20 text-muted rounded-sm px-1.5 py-0.5 text-[10px] font-medium uppercase",children:"auto"}):null,e[40]=u,e[41]=F):F=e[41];const L=F,Y=u&&"opacity-70";let O;e[42]!==r||e[43]!==Y?(O=ce(r,Y),e[42]=r,e[43]=Y,e[44]=O):O=e[44];const G=O;if(f){let B;e[45]!==x?(B=l.jsx(uze,{output:x,isError:!1}),e[45]=x,e[46]=B):B=e[46];let q;return e[47]!==M||e[48]!==L||e[49]!==n||e[50]!==G||e[51]!==B?(q=l.jsx(ab,{label:L,message:n,buttons:M,className:G,variant:"user",children:B}),e[47]=M,e[48]=L,e[49]=n,e[50]=G,e[51]=B,e[52]=q):q=e[52],q}const H=n.agentSkill?.snapshot;let D;e[53]!==d||e[54]!==n.commandPrefix||e[55]!==n.fileParts||e[56]!==n.reviews||e[57]!==H?(D=l.jsx(MK,{content:d,commandPrefix:n.commandPrefix,agentSkillSnapshot:H,reviews:n.reviews,fileParts:n.fileParts,variant:"sent"}),e[53]=d,e[54]=n.commandPrefix,e[55]=n.fileParts,e[56]=n.reviews,e[57]=H,e[58]=D):D=e[58];let U;return e[59]!==M||e[60]!==L||e[61]!==n||e[62]!==G||e[63]!==D?(U=l.jsx(ab,{label:L,message:n,buttons:M,className:G,variant:"user",children:D}),e[59]=M,e[60]=L,e[61]=n,e[62]=G,e[63]=D,e[64]=U):U=e[64],U},xze=t=>{const e=ae.c(27),{isOpen:n,onClose:r,onConfirm:a}=t,[s,i]=b.useState(!1);let o;e[0]!==s||e[1]!==r?(o=()=>{s||r()},e[0]=s,e[1]=r,e[2]=o):o=e[2];const c=o;let u;e[3]!==s||e[4]!==r||e[5]!==a?(u=async()=>{if(!s){i(!0);try{await a(),r()}catch(k){console.error("Start Here error:",k),i(!1)}}},e[3]=s,e[4]=r,e[5]=a,e[6]=u):u=e[6];const d=u;let m;e[7]!==c||e[8]!==s?(m=k=>{!k&&!s&&c()},e[7]=c,e[8]=s,e[9]=m):m=e[9];const h=m;let p;e[10]===Symbol.for("react.memo_cache_sentinel")?(p=l.jsxs(Sa,{children:[l.jsx(oa,{children:"Start Here"}),l.jsx(ml,{children:"This will replace all chat history with this message"})]}),e[10]=p):p=e[10];let f;e[11]!==c||e[12]!==s?(f=l.jsx(tt,{variant:"secondary",onClick:c,disabled:s,children:"Cancel"}),e[11]=c,e[12]=s,e[13]=f):f=e[13];let g;e[14]!==d?(g=()=>void d(),e[14]=d,e[15]=g):g=e[15];const x=s?"Starting...":"OK";let y;e[16]!==s||e[17]!==g||e[18]!==x?(y=l.jsx(tt,{onClick:g,disabled:s,children:x}),e[16]=s,e[17]=g,e[18]=x,e[19]=y):y=e[19];let w;e[20]!==f||e[21]!==y?(w=l.jsxs(ia,{showCloseButton:!1,children:[p,l.jsxs(Li,{className:"justify-center",children:[f,y]})]}),e[20]=f,e[21]=y,e[22]=w):w=e[22];let v;return e[23]!==h||e[24]!==n||e[25]!==w?(v=l.jsx(sa,{open:n,onOpenChange:h,children:w}),e[23]=h,e[24]=n,e[25]=w,e[26]=v):v=e[26],v};function LK(t,e,n=!1,r){const{api:a}=Kt(),[s,i]=b.useState(!1),[o,c]=b.useState(!1),u=()=>{!t||n||i(!0)},d=()=>{i(!1)},m=async()=>{if(!(!t||o||n||!a)){c(!0);try{const p=IA(`start-here-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,"assistant",e,{timestamp:Date.now(),compacted:"user",agentId:r?.sourceAgentId}),f=await a.workspace.replaceChatHistory({workspaceId:t,summaryMessage:p,deletePlanFile:r?.deletePlanFile});f.success||console.error("Failed to start here:",f.error)}catch(p){console.error("Start here error:",p)}finally{c(!1)}}},h=xe.createElement(xze,{isOpen:s,onClose:d,onConfirm:m});return{openModal:u,isStartingHere:o,buttonLabel:"Start Here",disabled:!t||o||n,modal:h}}const yze=1024;async function wze(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(r)).slice(0,16).map(s=>s.toString(16).padStart(2,"0")).join("")}const Fh=new Map,vze=100;function y2(t){const e=Fh.get(t);if(e)return e;let n=2166136261;for(let a=0;a<t.length;a++)n^=t.charCodeAt(a),n=Math.imul(n,16777619);const r=(n>>>0).toString(16).padStart(8,"0");return wze(t).then(a=>{if(Fh.size>=vze){const s=Fh.keys().next().value;s&&Fh.delete(s)}Fh.set(t,a)}),r}const w2=Cx({entryPrefix:"share:",indexKey:"shareIndex",maxEntries:yze});function kze(t){const e=y2(t),n=w2.getEntry(e);if(n){if(n.data.expiresAt&&n.data.expiresAt<Date.now()){i_(t);return}return{...n.data,cachedAt:n.cachedAt}}}function VN(t,e){const n=y2(t);w2.set(n,e)}function _ze(t,e){const n=y2(t);w2.update(n,r=>({...r,expiresAt:e}))}function i_(t){const e=y2(t);w2.remove(e)}const OK=({content:t,model:e,thinking:n,disabled:r=!1,workspaceName:a})=>{const s=jA(),{api:i}=Kt(),[o,c]=b.useState(!1),[u,d]=b.useState(!1),[m,h]=b.useState(!1),[p,f]=b.useState(!1),[g,x]=b.useState(!1),[y,w]=b.useState(!1),[v,k]=b.useState(null),C=b.useRef(null),[_,S]=b.useState(null),[T,N]=b.useState(null),[j,R]=b.useState(!1),[I,A]=Tt(hA,!0);b.useEffect(()=>{o&&!j&&i&&i.signing.capabilities({}).then(N).catch(()=>{}).finally(()=>{R(!0)})},[o,i,j]),b.useEffect(()=>{if(t){const Z=kze(t);S(Z??null)}},[t]),b.useEffect(()=>{o&&t&&!_&&!u&&!v&&j&&Y()},[o,j]),b.useEffect(()=>{o&&_&&C.current&&requestAnimationFrame(()=>{C.current?.select()})},[o,_]);const $=!!_,E=()=>_n(h1,"never"),M=Z=>{rn(h1,Z)},F=async()=>{if(i)try{await i.signing.clearIdentityCache({});const Z=await i.signing.capabilities({});N(Z)}catch{}},L=()=>a?`${a.replace(/[^a-zA-Z0-9_-]/g,"-").replace(/-+/g,"-")}.md`:"message.md",Y=async()=>{if(!(!t||u)){d(!0),k(null);try{const Z=E(),W=hp(Z),K=W?new Date(Date.now()+W):void 0;let J;if(I&&T?.publicKey&&i)try{J=await i.signing.signMessage({content:t})}catch(re){console.warn("Failed to sign share content, uploading without signature:",re)}const ee=await K3(t,{name:L(),type:"text/markdown",size:new TextEncoder().encode(t).length,model:e,thinking:n},{expiresAt:K,signature:J}),se={url:ee.url,id:ee.id,mutateKey:ee.mutateKey,expiresAt:ee.expiresAt,signed:!!J};VN(t,se),S(se)}catch(Z){console.error("Share failed:",Z),k(Z instanceof Error?Z.message:"Failed to upload")}finally{d(!1)}}},O=async(Z,W,K=!1)=>{if(Z.mutateKey){K||h(!0),k(null),x(!1);try{const J=hp(W),ee=J?new Date(Date.now()+J):"never",se=await XD(Z.id,Z.mutateKey,ee);_ze(t,se),S(re=>re?{...re,expiresAt:se}:null),M(W),K||(x(!0),setTimeout(()=>x(!1),2e3))}catch(J){console.error("Update expiration failed:",J),K||k(J instanceof Error?J.message:"Failed to update expiration")}finally{K||h(!1)}}},G=async()=>{if(_?.mutateKey){f(!0),k(null);try{await Y3(_.id,_.mutateKey),i_(t),S(null),c(!1)}catch(Z){console.error("Delete failed:",Z),k(Z instanceof Error?Z.message:"Failed to delete")}finally{f(!1)}}},H=async()=>{const Z=!I;if(A(Z),_?.mutateKey&&!u){d(!0),k(null);try{await Y3(_.id,_.mutateKey),i_(t);let W;if(Z&&T?.publicKey&&i)try{W=await i.signing.signMessage({content:t})}catch{}const K=E(),J=hp(K),ee=J?new Date(Date.now()+J):void 0,se=await K3(t,{name:L(),type:"text/markdown",size:new TextEncoder().encode(t).length,model:e,thinking:n},{expiresAt:ee,signature:W}),re={url:se.url,id:se.id,mutateKey:se.mutateKey,expiresAt:se.expiresAt,signed:!!W};VN(t,re),S(re)}catch(W){console.error("Failed to regenerate share:",W),k(W instanceof Error?W.message:"Failed to update signing")}finally{d(!1)}}},D=b.useCallback(()=>{_?.url&&bc(_.url).then(()=>{w(!0),setTimeout(()=>w(!1),2e3)})},[_?.url]),U=b.useCallback(()=>{_?.url&&window.open(_.url,"_blank","noopener,noreferrer")},[_?.url]),B=Z=>{c(Z),Z||setTimeout(()=>{k(null)},150)},q=ZD(_?.expiresAt),V=u||m||p;return s!==!0?null:l.jsxs(yc,{open:o,onOpenChange:B,children:[l.jsx(Vm,{asChild:!0,children:l.jsx(tt,{variant:"ghost",size:"icon",disabled:r,"aria-label":$?"Already shared":"Share",className:ce("flex h-6 w-6 items-center justify-center [&_svg]:size-3.5",$?"text-blue-400":"text-placeholder"),children:l.jsx(aI,{})})}),l.jsx(gl,{side:"top",align:"start",collisionPadding:16,className:"w-[280px] p-3",children:_?l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:"text-foreground text-xs font-medium",children:"Shared"}),l.jsx(X3,{}),l.jsx(Z3,{signed:!!_.signed,capabilities:T,signingEnabled:I,onToggleSigning:()=>void H(),onRetryKeyDetection:()=>void F()})]}),_.mutateKey&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:()=>void G(),className:"text-muted hover:bg-destructive/10 hover:text-destructive rounded p-1 transition-colors","aria-label":"Delete shared link",disabled:V,tabIndex:-1,children:p?l.jsx(pn,{className:"h-3.5 w-3.5 animate-spin"}):l.jsx(fa,{className:"h-3.5 w-3.5"})})}),l.jsx(Ke,{children:"Delete"})]})]}),l.jsxs("div",{className:"border-border bg-background flex items-center gap-1 rounded border px-2 py-1.5",children:[l.jsx("input",{ref:C,type:"text",readOnly:!0,value:_.url,className:"text-foreground min-w-0 flex-1 bg-transparent font-mono text-[10px] outline-none","data-testid":"share-url",onFocus:Z=>Z.target.select()}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:D,className:"text-muted hover:bg-muted/50 hover:text-foreground shrink-0 rounded p-1 transition-colors","aria-label":"Copy to clipboard","data-testid":"copy-share-url",children:y?l.jsx(Hn,{className:"h-3.5 w-3.5 text-green-500"}):l.jsx(O5,{className:"h-3.5 w-3.5"})})}),l.jsx(Ke,{children:y?"Copied!":"Copy"})]}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:U,className:"text-muted hover:bg-muted/50 hover:text-foreground shrink-0 rounded p-1 transition-colors","aria-label":"Open in browser","data-testid":"open-share-url",children:l.jsx(pl,{className:"h-3.5 w-3.5"})})}),l.jsx(Ke,{children:"Open"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-muted text-[10px]",children:"Expires:"}),_.mutateKey?l.jsxs(Ar,{value:q,onValueChange:Z=>void O(_,Z),disabled:V,children:[l.jsx(Tr,{className:"h-6 flex-1 text-[10px]",children:l.jsx(Ir,{})}),l.jsx(Er,{children:ly.map(Z=>l.jsx(Un,{value:Z.value,children:Z.label},Z.value))})]}):l.jsx("span",{className:"text-foreground text-[10px]",children:Dde(_.expiresAt)}),m&&l.jsx(pn,{className:"text-muted h-3.5 w-3.5 animate-spin"}),g&&l.jsx(Hn,{className:"h-3.5 w-3.5 text-green-500"})]}),v&&l.jsx("div",{className:"bg-destructive/10 text-destructive rounded px-2 py-1.5 text-[11px]",children:v})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:"text-foreground text-xs font-medium",children:"Share"}),l.jsx(X3,{}),l.jsx(Z3,{signed:!1,capabilities:T,signingEnabled:I,onToggleSigning:()=>A(!I),onRetryKeyDetection:()=>void F()})]}),v?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-destructive/10 text-destructive rounded px-2 py-1.5 text-[11px]",children:v}),l.jsx(tt,{onClick:()=>void Y(),disabled:u,className:"h-7 w-full text-xs",children:"Retry"})]}):l.jsxs("div",{className:"flex items-center justify-center py-3",children:[l.jsx(pn,{className:"text-muted h-4 w-4 animate-spin"}),l.jsx("span",{className:"text-muted ml-2 text-xs",children:"Encrypting..."})]})]})})]})},Cze=t=>{const e=ae.c(3),{children:n}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={maskImage:"linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.3) 5%, rgba(0,0,0,0.6) 10%, rgba(0,0,0,0.85) 15%, black 20%)",WebkitMaskImage:"linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.3) 5%, rgba(0,0,0,0.6) 10%, rgba(0,0,0,0.85) 15%, black 20%)"},e[0]=r):r=e[0];let a;return e[1]!==n?(a=l.jsx("div",{className:"relative flex max-h-[300px] flex-col justify-end overflow-hidden",style:r,children:n}),e[1]=n,e[2]=a):a=e[2],a},Sze=()=>{const t=ae.c(2);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsx("div",{className:"absolute inset-0 opacity-40",style:{background:"linear-gradient(-45deg, var(--color-plan-mode-alpha), color-mix(in srgb, var(--color-plan-mode) 30%, transparent), var(--color-plan-mode-alpha), color-mix(in srgb, var(--color-plan-mode) 25%, transparent))"}}),t[0]=e):e=t[0];let n;return t[1]===Symbol.for("react.memo_cache_sentinel")?(n=l.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden rounded-md",children:[e,l.jsx("div",{className:"absolute inset-0 animate-[shimmer-slide_3s_infinite_linear]","data-chromatic":"ignore",style:{background:"linear-gradient(90deg, transparent 0%, transparent 40%, var(--color-plan-mode-alpha) 50%, transparent 60%, transparent 100%)",width:"300%",marginLeft:"-180%"}})]}),t[1]=n):n=t[1],n},PK=xe.memo(function(e){const n=ae.c(16),{deltas:r,isComplete:a,className:s,preserveLineBreaks:i}=e;let o;n[0]!==r?(o=r.join(""),n[0]=r,n[1]=o):o=n[1];const c=o,u=!a&&c.length>0;let d;n[2]!==u?(d={isStreaming:u},n[2]=u,n[3]=d):d=n[3];const m=d;let h;n[4]!==s?(h=ce("markdown-content",s),n[4]=s,n[5]=h):h=n[5];let p;n[6]!==c||n[7]!==u||n[8]!==i?(p=l.jsx(WS,{content:c,parseIncompleteMarkdown:u,preserveLineBreaks:i}),n[6]=c,n[7]=u,n[8]=i,n[9]=p):p=n[9];let f;n[10]!==h||n[11]!==p?(f=l.jsx("div",{className:h,children:p}),n[10]=h,n[11]=p,n[12]=f):f=n[12];let g;return n[13]!==m||n[14]!==f?(g=l.jsx(RK.Provider,{value:m,children:f}),n[13]=m,n[14]=f,n[15]=g):g=n[15],g}),jze=t=>{const e=ae.c(69),{message:n,className:r,workspaceId:a,isCompacting:s,clipboardWriteText:i}=t,o=s===void 0?!1:s,c=i===void 0?bc:i,[u,d]=b.useState(!1),m=Fu();let h;e[0]!==m?.workspaceMetadata||e[1]!==a?(h=a?m?.workspaceMetadata.get(a)?.name:void 0,e[0]=m?.workspaceMetadata,e[1]=a,e[2]=h):h=e[2];const p=h,f=n.content,g=n.isStreaming,x=n.isCompacted,y=g&&o,w=n.agentId??n.mode;let v;e[3]!==w?(v={sourceAgentId:w},e[3]=w,e[4]=v):v=e[4];const{openModal:k,buttonLabel:C,disabled:_,modal:S}=LK(a,f,x,v),{copied:T,copyToClipboard:N}=go(c),j=T?"Copied":"Copy";let R;e[5]!==f||e[6]!==N?(R=()=>void N(f),e[5]=f,e[6]=N,e[7]=R):R=e[7];let I;e[8]!==T?(I=T?l.jsx(Gp,{}):l.jsx(Vp,{}),e[8]=T,e[9]=I):I=e[9];let A;e[10]!==j||e[11]!==R||e[12]!==I?(A={label:j,onClick:R,icon:I},e[10]=j,e[11]=R,e[12]=I,e[13]=A):A=e[13];const $=A;let E;if(e[14]!==f||e[15]!==$||e[16]!==g||e[17]!==n.model||e[18]!==k||e[19]!==u||e[20]!==_||e[21]!==C||e[22]!==p){if(E=g?[]:[$],!g){let B;e[24]===Symbol.for("react.memo_cache_sentinel")?(B=l.jsx(iI,{}),e[24]=B):B=e[24];let q;e[25]!==k||e[26]!==_||e[27]!==C?(q={label:C,onClick:k,disabled:_,tooltip:"Replace all chat history with this message",icon:B},e[25]=k,e[26]=_,e[27]=C,e[28]=q):q=e[28],E.push(q);const V=!f;let Z;e[29]!==f||e[30]!==n.model||e[31]!==V||e[32]!==p?(Z={label:"Share",component:l.jsx(OK,{content:f,model:n.model,disabled:V,workspaceName:p})},e[29]=f,e[30]=n.model,e[31]=V,e[32]=p,e[33]=Z):Z=e[33],E.push(Z);const W=u?"Show Markdown":"Show Text";let K;e[34]!==u?(K=()=>d(!u),e[34]=u,e[35]=K):K=e[35];let J;e[36]===Symbol.for("react.memo_cache_sentinel")?(J=l.jsx(dc,{}),e[36]=J):J=e[36];let ee;e[37]!==u||e[38]!==W||e[39]!==K?(ee={label:W,onClick:K,active:u,icon:J},e[37]=u,e[38]=W,e[39]=K,e[40]=ee):ee=e[40],E.push(ee)}e[14]=f,e[15]=$,e[16]=g,e[17]=n.model,e[18]=k,e[19]=u,e[20]=_,e[21]=C,e[22]=p,e[23]=E}else E=e[23];let M;e[41]!==f||e[42]!==T||e[43]!==N||e[44]!==g||e[45]!==y||e[46]!==u?(M=()=>{if(g&&!f)return l.jsx("div",{className:"font-primary text-secondary italic",children:"Waiting for response..."});if(g){const B=l.jsx(PK,{deltas:[f],isComplete:!1});return y?l.jsx(Cze,{children:B}):B}return f?u?l.jsxs("div",{className:"relative",children:[l.jsx("pre",{className:"text-text bg-code-bg m-0 rounded-sm p-2 pb-8 font-mono text-xs leading-relaxed break-words whitespace-pre-wrap",children:f}),l.jsx("div",{className:"absolute right-2 bottom-2",children:l.jsxs(tt,{type:"button",variant:"outline",size:"sm",className:"h-6 px-2 text-[11px] [&_svg]:size-3.5",onClick:()=>void N(f),children:[T?l.jsx(Gp,{}):l.jsx(Vp,{}),T?"Copied":"Copy to clipboard"]})})]}):l.jsx(ti,{content:f}):null},e[41]=f,e[42]=T,e[43]=N,e[44]=g,e[45]=y,e[46]=u,e[47]=M):M=e[47];const F=M;let L;e[48]!==n.isCompacted||e[49]!==n.isIdleCompacted||e[50]!==n.model||e[51]!==n.routedThroughGateway?(L=()=>{const B=n.model,q=n.isCompacted,V=n.isIdleCompacted;return l.jsxs("div",{className:"flex items-center gap-2",children:[B&&l.jsx(M5,{modelString:B,routedThroughGateway:n.routedThroughGateway}),q&&l.jsxs("span",{className:"text-plan-mode bg-plan-mode/10 inline-flex items-center gap-1 rounded-sm px-1.5 py-0.5 text-[10px] font-medium uppercase",children:[V?l.jsx(cI,{"aria-hidden":"true",className:"h-3 w-3"}):l.jsx(uI,{"aria-hidden":"true",className:"h-3 w-3"}),l.jsx("span",{children:V?"idle-compacted":"compacted"})]})]})},e[48]=n.isCompacted,e[49]=n.isIdleCompacted,e[50]=n.model,e[51]=n.routedThroughGateway,e[52]=L):L=e[52];const Y=L;let O;e[53]!==Y?(O=Y(),e[53]=Y,e[54]=O):O=e[54];let G;e[55]!==y?(G=y?l.jsx(Sze,{}):void 0,e[55]=y,e[56]=G):G=e[56];let H;e[57]!==F?(H=F(),e[57]=F,e[58]=H):H=e[58];let D;e[59]!==E||e[60]!==r||e[61]!==n||e[62]!==O||e[63]!==G||e[64]!==H?(D=l.jsx(ab,{label:O,variant:"assistant",message:n,buttons:E,className:r,backgroundEffect:G,children:H}),e[59]=E,e[60]=r,e[61]=n,e[62]=O,e[63]=G,e[64]=H,e[65]=D):D=e[65];let U;return e[66]!==S||e[67]!==D?(U=l.jsxs(l.Fragment,{children:[D,S]}),e[66]=S,e[67]=D,e[68]=U):U=e[68],U},Ma={maxParallelAgentTasks:{min:1,max:256,default:3},maxTaskNestingDepth:{min:1,max:5,default:3}},On={bashOutputCompactionMinLines:{min:0,max:1e3,default:10},bashOutputCompactionMinTotalBytes:{min:0,max:16*1024,default:4*1024},bashOutputCompactionMaxKeptLines:{min:1,max:1e3,default:40},bashOutputCompactionTimeoutMs:{min:1e3,max:12e4,default:5e3}},eu={maxParallelAgentTasks:Ma.maxParallelAgentTasks.default,maxTaskNestingDepth:Ma.maxTaskNestingDepth.default,proposePlanImplementReplacesChatHistory:!1,bashOutputCompactionMinLines:On.bashOutputCompactionMinLines.default,bashOutputCompactionMinTotalBytes:On.bashOutputCompactionMinTotalBytes.default,bashOutputCompactionMaxKeptLines:On.bashOutputCompactionMaxKeptLines.default,bashOutputCompactionTimeoutMs:On.bashOutputCompactionTimeoutMs.default,bashOutputCompactionHeuristicFallback:!0};function xd(t,e,n,r){if(typeof t!="number"||!Number.isFinite(t))return e;const a=Math.floor(t);return a<n?n:a>r?r:a}function eo(t){const e=t&&typeof t=="object"?t:{},n=xd(e.maxParallelAgentTasks,eu.maxParallelAgentTasks,Ma.maxParallelAgentTasks.min,Ma.maxParallelAgentTasks.max),r=xd(e.maxTaskNestingDepth,eu.maxTaskNestingDepth,Ma.maxTaskNestingDepth.min,Ma.maxTaskNestingDepth.max),a=typeof e.proposePlanImplementReplacesChatHistory=="boolean"?e.proposePlanImplementReplacesChatHistory:eu.proposePlanImplementReplacesChatHistory??!1,s=xd(e.bashOutputCompactionMinLines,On.bashOutputCompactionMinLines.default,On.bashOutputCompactionMinLines.min,On.bashOutputCompactionMinLines.max),i=xd(e.bashOutputCompactionMinTotalBytes,On.bashOutputCompactionMinTotalBytes.default,On.bashOutputCompactionMinTotalBytes.min,On.bashOutputCompactionMinTotalBytes.max),o=xd(e.bashOutputCompactionMaxKeptLines,On.bashOutputCompactionMaxKeptLines.default,On.bashOutputCompactionMaxKeptLines.min,On.bashOutputCompactionMaxKeptLines.max),c=xd(e.bashOutputCompactionTimeoutMs,On.bashOutputCompactionTimeoutMs.default,On.bashOutputCompactionTimeoutMs.min,On.bashOutputCompactionTimeoutMs.max),u=typeof e.bashOutputCompactionHeuristicFallback=="boolean"?e.bashOutputCompactionHeuristicFallback:eu.bashOutputCompactionHeuristicFallback??!0,d=Math.floor(c/1e3)*1e3,m={maxParallelAgentTasks:n,maxTaskNestingDepth:r,proposePlanImplementReplacesChatHistory:a,bashOutputCompactionMinLines:s,bashOutputCompactionMinTotalBytes:i,bashOutputCompactionMaxKeptLines:o,bashOutputCompactionTimeoutMs:d,bashOutputCompactionHeuristicFallback:u};return mt(Number.isInteger(n),"normalizeTaskSettings: maxParallelAgentTasks must be an integer"),mt(Number.isInteger(r),"normalizeTaskSettings: maxTaskNestingDepth must be an integer"),mt(typeof a=="boolean","normalizeTaskSettings: proposePlanImplementReplacesChatHistory must be a boolean"),mt(Number.isInteger(s),"normalizeTaskSettings: bashOutputCompactionMinLines must be an integer"),mt(Number.isInteger(i),"normalizeTaskSettings: bashOutputCompactionMinTotalBytes must be an integer"),mt(Number.isInteger(o),"normalizeTaskSettings: bashOutputCompactionMaxKeptLines must be an integer"),mt(Number.isInteger(d),"normalizeTaskSettings: bashOutputCompactionTimeoutMs must be an integer"),mt(typeof u=="boolean","normalizeTaskSettings: bashOutputCompactionHeuristicFallback must be a boolean"),mt(d%1e3===0,"normalizeTaskSettings: bashOutputCompactionTimeoutMs must be a whole number of seconds"),m}new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");const Tze=Nt({label:Ge().min(1),description:Ge().min(1)}).strict(),GS=Nt({question:Ge().min(1),header:Ge().min(1).max(32).describe("Short label shown in the UI (keep it concise)"),options:Yr(Tze).min(2).max(4),multiSelect:ei()}).strict().superRefine((t,e)=>{const n=t.options.map(a=>a.label);new Set(n).size!==n.length&&e.addIssue({code:fm.custom,message:"Option labels must be unique within a question",path:["options"]}),n.some(a=>a.trim().toLowerCase()==="other")&&e.addIssue({code:fm.custom,message:"Do not include an 'Other' option; it is provided automatically",path:["options"]})}),Eze=Nt({questions:Yr(GS),answers:W_(Ge(),Ge())}),Nze=Nt({ask_user_question:Eze.optional(),file_edit:Nt({diff:Ge()}).optional(),notify:Nt({notifiedVia:fl(["electron","browser"]),workspaceId:Ge().optional()}).optional()}),po={ui_only:Nze.optional()},$ze=Nt({questions:Yr(GS).min(1).max(4),answers:W_(Ge(),Ge()).nullish()}).strict().superRefine((t,e)=>{const n=t.questions.map(a=>a.question);new Set(n).size!==n.length&&e.addIssue({code:fm.custom,message:"Question text must be unique across questions",path:["questions"]})}),Aze=Nt({summary:Ge()}).extend(po),Ize=Nt({questions:Yr(GS),answers:W_(Ge(),Ge())}).strict();Ps([Aze,Ize]);const Rze=G_(t=>typeof t=="string"?t.trim().toLowerCase():t,RA),Mze=G_(t=>typeof t=="string"?t.trim().toLowerCase():t,RA),Dze=Nt({agentId:Mze.nullish(),subagent_type:Rze.nullish(),prompt:Ge().min(1),title:Ge().min(1),run_in_background:ei().default(!1)}).strict().superRefine((t,e)=>{const n=typeof t.agentId=="string"&&t.agentId.length>0,r=typeof t.subagent_type=="string"&&t.subagent_type.length>0;if(!n&&!r){e.addIssue({code:fm.custom,message:"Provide agentId (preferred) or subagent_type",path:["agentId"]});return}if(n&&r&&t.agentId!==t.subagent_type){e.addIssue({code:fm.custom,message:"agentId and subagent_type must match when both are provided",path:["agentId"]});return}}),Lze=Dze,Oze=Nt({status:fl(["queued","running"]),taskId:Ge(),note:Ge().min(1).describe("Additional guidance for the caller (e.g., use task_await to monitor progress).")}).strict(),Pze=Nt({status:Bn("completed"),taskId:Ge(),reportMarkdown:Ge(),title:Ge().optional(),agentId:Ge().optional(),agentType:Ge().optional()}).strict();V_("status",[Oze,Pze]);const Fze=Nt({task_ids:Yr(Ge().min(1)).nullish().describe("List of task IDs to await. When omitted, waits for all active descendant tasks of the current workspace."),filter:Ge().nullish().describe("Optional regex to filter bash task output lines. By default, only matching lines are returned. When filter_exclude is true, matching lines are excluded instead. Non-matching lines are discarded and cannot be retrieved later."),filter_exclude:ei().nullish().describe("When true, lines matching 'filter' are excluded instead of kept. Requires 'filter' to be set."),timeout_secs:Jn().min(0).nullish().default(600).describe("Maximum time to wait in seconds for each task. For bash tasks, this waits for NEW output (or process exit). If exceeded, the result returns status=queued|running|awaiting_report (task is still active). Defaults to 600 seconds (10 minutes) if not specified. Set to 0 for a non-blocking status check.")}).strict().superRefine((t,e)=>{t.filter_exclude&&!t.filter&&e.addIssue({code:fm.custom,message:"filter_exclude requires filter to be set",path:["filter_exclude"]})}),Bze=fl(["pending","ready","failed","skipped"]),zze=Nt({childTaskId:Ge(),parentWorkspaceId:Ge(),createdAtMs:Jn().int().nonnegative(),updatedAtMs:Jn().int().nonnegative().optional(),status:Bze,baseCommitSha:Ge().optional(),headCommitSha:Ge().optional(),commitCount:Jn().int().nonnegative().optional(),mboxPath:Ge().optional(),error:Ge().optional(),appliedAtMs:Jn().int().nonnegative().optional()}).strict(),Hze=Nt({gitFormatPatch:zze.optional()}).strict(),qze=Nt({status:Bn("completed"),taskId:Ge(),reportMarkdown:Ge(),title:Ge().optional(),output:Ge().optional(),elapsed_ms:Jn().optional(),exitCode:Jn().optional(),note:Ge().optional(),artifacts:Hze.optional()}).strict(),Uze=Nt({status:fl(["queued","running","awaiting_report"]),taskId:Ge(),output:Ge().optional(),elapsed_ms:Jn().optional(),note:Ge().optional()}).strict(),Wze=Nt({status:Bn("not_found"),taskId:Ge()}).strict(),Gze=Nt({status:Bn("invalid_scope"),taskId:Ge()}).strict(),Vze=Nt({status:Bn("error"),taskId:Ge(),error:Ge()}).strict();Nt({results:Yr(V_("status",[qze,Uze,Wze,Gze,Vze]))}).strict();const Kze=Nt({task_id:Ge().min(1).describe("Child task ID whose patch artifact should be applied"),dry_run:ei().nullish().describe("When true, attempt to apply the patch in a temporary git worktree and then discard it (does not modify the current workspace)."),three_way:ei().nullish().default(!0).describe("When true, run git am with --3way"),force:ei().nullish().describe("When true, allow apply even if the patch was previously applied (and skip clean-tree checks).")}).strict(),Yze=Nt({subject:Ge().min(1),sha:Ge().min(1).optional()}).strict();Ps([Nt({success:Bn(!0),taskId:Ge(),appliedCommits:Yr(Yze),headCommitSha:Ge().optional(),dryRun:ei().optional(),note:Ge().optional()}).strict(),Nt({success:Bn(!1),taskId:Ge(),error:Ge(),dryRun:ei().optional(),conflictPaths:Yr(Ge()).optional(),failedPatchSubject:Ge().optional(),note:Ge().optional()}).strict()]);const Xze=Nt({task_ids:Yr(Ge().min(1)).min(1).describe("List of task IDs to terminate. Each must be a descendant sub-agent task of the current workspace.")}).strict(),Zze=Nt({status:Bn("terminated"),taskId:Ge(),terminatedTaskIds:Yr(Ge()).describe("All terminated task IDs (includes descendants)")}).strict(),Qze=Nt({status:Bn("not_found"),taskId:Ge()}).strict(),Jze=Nt({status:Bn("invalid_scope"),taskId:Ge()}).strict(),eHe=Nt({status:Bn("error"),taskId:Ge(),error:Ge()}).strict();Nt({results:Yr(V_("status",[Zze,Qze,Jze,eHe]))}).strict();const FK=fl(["queued","running","awaiting_report","reported"]),tHe=fl(["off","low","medium","high","xhigh","max"]),nHe=Nt({statuses:Yr(FK).nullish().describe("Task statuses to include. Defaults to active tasks: queued, running, awaiting_report.")}).strict(),rHe=Nt({taskId:Ge(),status:FK,parentWorkspaceId:Ge(),agentType:Ge().optional(),workspaceName:Ge().optional(),title:Ge().optional(),createdAt:Ge().optional(),modelString:Ge().optional(),thinkingLevel:tHe.optional(),depth:Jn().int().min(0)}).strict();Nt({tasks:Yr(rHe)}).strict();const aHe=Nt({reportMarkdown:Ge().min(1),title:Ge().nullish()}).strict();Nt({success:Bn(!0)}).strict();const Wv=Ge().describe("Path to the file to edit (absolute or relative to the current workspace)"),sHe=Nt({start:Cj().finite().min(1).describe("1-based start line (inclusive) in the numbered output"),end:Cj().finite().min(1).describe("1-based end line (inclusive) in the numbered output"),reason:Ge().nullish().describe("Optional short reason for keeping this range")}),Cr={bash:{schema:G_(t=>{if(typeof t!="object"||t===null||Array.isArray(t))return t;const e=t;if(typeof e.script=="string")return t;if(typeof e.command=="string"){const{command:n,...r}=e;return{...r,script:n}}return t},Nt({script:Ge().describe("The bash script/command to execute"),timeout_secs:Jn().positive().describe("Timeout in seconds. For foreground: max execution time before kill. For background: max lifetime before auto-termination. Start small and increase on retry; avoid large initial values to keep UX responsive"),run_in_background:ei().default(!1).describe("Run this command in the background without blocking. Use for processes running >5s (dev servers, builds, file watchers). Do NOT use for quick commands (<5s), interactive processes (no stdin support), or processes requiring real-time output (use foreground with larger timeout instead). Returns immediately with a taskId (bash:<processId>) and backgroundProcessId. Read output with task_await (returns only new output since last check). Terminate with task_terminate using the taskId. List active tasks with task_list. Process persists until timeout_secs expires, terminated, or workspace is removed.\\n\\nFor long-running tasks like builds or compilations, prefer background mode to continue productive work in parallel. Check back periodically with task_await rather than blocking on completion."),display_name:Ge().describe("Human-readable name for the process (e.g., 'Dev Server', 'TypeCheck Watch'). Required for all bash invocations since any process can be sent to background.")}))},file_read:{schema:Nt({file_path:Ge().describe("The path to the file to read (absolute or relative)"),offset:Jn().int().positive().nullish().describe("1-based starting line number (optional, defaults to 1)"),limit:Jn().int().positive().nullish().describe("Number of lines to return from offset (optional, returns all if not specified)")})},mux_global_agents_read:{schema:Nt({}).strict()},mux_global_agents_write:{schema:Nt({newContent:Ge().describe("The full new contents of the global AGENTS.md file"),confirm:ei().describe("Must be true to apply the write. The agent should ask the user for confirmation first.")}).strict()},agent_skill_read:{schema:Nt({name:yj.describe("Skill name (directory name under the skills root)")}).strict()},agent_skill_read_file:{schema:Nt({name:yj.describe("Skill name (directory name under the skills root)"),filePath:Ge().min(1).describe("Path to the file within the skill directory (relative)"),offset:Jn().int().positive().nullish().describe("1-based starting line number (optional, defaults to 1)"),limit:Jn().int().positive().nullish().describe("Number of lines to return from offset (optional, returns all if not specified)")}).strict()},file_edit_replace_string:{schema:Nt({file_path:Wv,old_string:Ge().describe("The exact text to replace (must be unique in file if replace_count is 1). Include enough context (indentation, surrounding lines) to make it unique."),new_string:Ge().describe("The replacement text"),replace_count:Jn().int().nullish().describe("Number of occurrences to replace (default: 1). Use -1 to replace all occurrences. If 1, old_string must be unique in the file.")})},file_edit_replace_lines:{schema:Nt({file_path:Wv,start_line:Jn().int().min(1).describe("1-indexed start line (inclusive) to replace"),end_line:Jn().int().min(1).describe("1-indexed end line (inclusive) to replace"),new_lines:Yr(Ge()).describe("Replacement lines. Provide an empty array to delete the specified range."),expected_lines:Yr(Ge()).nullish().describe("Optional safety check. When provided, the current lines in the specified range must match exactly.")})},file_edit_insert:{schema:Nt({file_path:Wv,insert_before:Ge().min(1).nullish().describe("Anchor text to insert before. Content will be placed immediately before this substring."),insert_after:Ge().min(1).nullish().describe("Anchor text to insert after. Content will be placed immediately after this substring."),content:Ge().describe("The content to insert")}).refine(t=>!(t.insert_before!=null&&t.insert_after!=null),{message:"Provide only one of insert_before or insert_after (not both).",path:["insert_before"]})},ask_user_question:{schema:$ze},propose_plan:{schema:Nt({})},task:{schema:Lze},task_apply_git_patch:{schema:Kze},task_await:{schema:Fze},task_terminate:{schema:Xze},task_list:{schema:nHe},agent_report:{schema:aHe},system1_keep_ranges:{schema:Nt({keep_ranges:Yr(sHe.passthrough()).min(1).max(On.bashOutputCompactionMaxKeptLines.max).describe("Line ranges to keep")}).passthrough()},todo_write:{schema:Nt({todos:Yr(Nt({content:Ge().describe("Task description with tense matching status: past for completed, present progressive for in_progress, imperative for pending"),status:fl(["pending","in_progress","completed"]).describe("Task status")}))})},todo_read:{schema:Nt({})},status_set:{schema:Nt({emoji:Ge().describe("A single emoji character representing the current activity"),message:Ge().describe(`A brief description of the current activity (auto-truncated to ${iQ} chars with ellipsis if needed)`),url:Ge().url().nullish().describe("Optional URL to external resource with more details (e.g., Pull Request URL). The URL persists and is displayed to the user for easy access.")}).strict()},bash_output:{schema:Nt({process_id:Ge().describe("The ID of the background process to retrieve output from"),filter:Ge().nullish().describe("Optional regex to filter output lines. By default, only matching lines are returned. When filter_exclude is true, matching lines are excluded instead. Non-matching lines are permanently discarded and cannot be retrieved later."),filter_exclude:ei().nullish().describe("When true, lines matching 'filter' are excluded instead of kept. Key behavior: excluded lines do NOT cause early return from timeout - waiting continues until non-excluded output arrives or process exits. Use to avoid busy polling on progress spam (e.g., filter='|waiting|\\.\\.\\.' with filter_exclude=true lets you set a long timeout and only wake on meaningful output). Requires 'filter' to be set."),timeout_secs:Jn().min(0).describe("Seconds to wait for new output. If no output is immediately available and process is still running, blocks up to this duration. Returns early when output arrives or process exits. Only use long timeouts (>15s) when no other useful work can be done in parallel.")})},bash_background_list:{schema:Nt({})},bash_background_terminate:{schema:Nt({process_id:Ge().describe("Background process ID to terminate")})},web_fetch:{schema:Nt({url:Ge().url().describe("The URL to fetch (http or https)")})},code_execution:{schema:Nt({code:Ge().min(1).describe("JavaScript code to execute in the PTC sandbox")})},notify:{schema:Nt({title:Ge().min(1).max(64).describe("Short notification title (max 64 chars). Should be concise and actionable."),message:Ge().max(200).nullish().describe("Optional notification body with more details (max 200 chars). Keep it brief - users may only see a preview.")}).strict()}},BK=Nt({reason:Ge(),totalLines:Jn()}),iHe=Nt({success:Bn(!0),output:Ge(),exitCode:Bn(0),wall_duration_ms:Jn(),note:Ge().optional(),truncated:BK.optional()}).extend(po),oHe=Nt({success:Bn(!0),output:Ge(),exitCode:Bn(0),wall_duration_ms:Jn(),taskId:Ge(),backgroundProcessId:Ge()}).extend(po),lHe=Nt({success:Bn(!1),output:Ge().optional(),exitCode:Jn(),error:Ge(),wall_duration_ms:Jn(),note:Ge().optional(),truncated:BK.optional()}).extend(po);Ps([iHe,oHe,lHe]);Ps([Nt({success:Bn(!0),status:fl(["running","exited","killed","failed","interrupted"]),output:Ge(),exitCode:Jn().optional(),note:Ge().optional(),elapsed_ms:Jn()}),Nt({success:Bn(!1),error:Ge()})]);Ps([Nt({success:Bn(!0),processes:Yr(Nt({process_id:Ge(),status:fl(["running","exited","killed","failed"]),script:Ge(),uptime_ms:Jn(),exitCode:Jn().optional(),display_name:Ge().optional()}))}),Nt({success:Bn(!1),error:Ge()})]);Ps([Nt({success:Bn(!0),message:Ge(),display_name:Ge().optional()}),Nt({success:Bn(!1),error:Ge()})]);Ps([Nt({success:Bn(!0),content:Ge()}),Nt({success:Bn(!1),error:Ge()})]);Ps([Nt({success:Bn(!0),diff:Ge()}).extend(po),Nt({success:Bn(!1),error:Ge()}).extend(po)]);Ps([Nt({success:Bn(!0),file_size:Jn(),modifiedTime:Ge(),lines_read:Jn(),content:Ge(),warning:Ge().optional()}),Nt({success:Bn(!1),error:Ge()})]);Ps([Nt({success:Bn(!0),skill:oQ}),Nt({success:Bn(!1),error:Ge()})]);Ps([Nt({success:Bn(!0),diff:Ge(),warning:Ge().optional()}).extend(po),Nt({success:Bn(!1),error:Ge(),note:Ge().optional()}).extend(po)]);Ps([Nt({success:Bn(!0),diff:Ge(),edits_applied:Jn(),warning:Ge().optional()}).extend(po),Nt({success:Bn(!1),error:Ge(),note:Ge().optional()}).extend(po)]);Ps([Nt({success:Bn(!0),title:Ge(),content:Ge(),url:Ge(),byline:Ge().optional(),length:Jn()}),Nt({success:Bn(!1),error:Ge(),content:Ge().optional()})]);const Lr=t=>{const e=ae.c(10);let n,r,a;e[0]!==t?({expanded:r,className:n,...a}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=a):(n=e[1],r=e[2],a=e[3]);const s=r?"py-2 px-3":"py-1 px-3";let i;e[4]!==n||e[5]!==s?(i=ce("my-2 rounded font-mono text-[11px] transition-all duration-200","[container-type:inline-size]",s,n),e[4]=n,e[5]=s,e[6]=i):i=e[6];let o;return e[7]!==a||e[8]!==i?(o=l.jsx("div",{className:i,...a}),e[7]=a,e[8]=i,e[9]=o):o=e[9],o},Or=t=>{const e=ae.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let a;e[3]!==n?(a=ce("flex items-center gap-2 cursor-pointer select-none text-secondary hover:text-foreground",n),e[3]=n,e[4]=a):a=e[4];let s;return e[5]!==r||e[6]!==a?(s=l.jsx("div",{className:a,...r}),e[5]=r,e[6]=a,e[7]=s):s=e[7],s},la=t=>{const e=ae.c(10);let n,r,a;e[0]!==t?({expanded:r,className:n,...a}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=a):(n=e[1],r=e[2],a=e[3]);const s=r?"rotate-90":"rotate-0";let i;e[4]!==n||e[5]!==s?(i=ce("inline-block transition-transform duration-200 text-[10px]",s,n),e[4]=n,e[5]=s,e[6]=i):i=e[6];let o;return e[7]!==a||e[8]!==i?(o=l.jsx("span",{className:i,...a}),e[7]=a,e[8]=i,e[9]=o):o=e[9],o},Co=t=>{const e=ae.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let a;e[3]!==n?(a=ce("font-medium",n),e[3]=n,e[4]=a):a=e[4];let s;return e[5]!==r||e[6]!==a?(s=l.jsx("span",{className:a,...r}),e[5]=r,e[6]=a,e[7]=s):s=e[7],s};function zK(t){return t.startsWith("mcp__")}function cHe(t){if(!zK(t))return null;const e=t.slice(5),n=e.indexOf("__");return n===-1?{server:e,tool:e}:{server:e.slice(0,n),tool:e.slice(n+2)}}const uHe=t=>{const e=ae.c(16),{toolName:n,className:r}=t;let a;e[0]!==n?(a=cHe(n),e[0]=n,e[1]=a):a=e[1];const s=a;if(!s){let m;return e[2]!==r||e[3]!==n?(m=l.jsx(Co,{className:r,children:n}),e[2]=r,e[3]=n,e[4]=m):m=e[4],m}let i;e[5]!==r?(i=ce("inline-flex items-center gap-1.5 font-medium",r),e[5]=r,e[6]=i):i=e[6];let o;e[7]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(hte,{className:"size-2.5"}),e[7]=o):o=e[7];let c;e[8]!==s.server?(c=l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-sm bg-pink-500/15 px-1.5 py-0.5 text-[10px] text-pink-400 font-semibold uppercase tracking-wide",children:[o,s.server]}),e[8]=s.server,e[9]=c):c=e[9];let u;e[10]!==s.tool?(u=l.jsx("span",{className:"text-pink-400",children:s.tool}),e[10]=s.tool,e[11]=u):u=e[11];let d;return e[12]!==i||e[13]!==c||e[14]!==u?(d=l.jsxs("span",{className:i,children:[c,u]}),e[12]=i,e[13]=c,e[14]=u,e[15]=d):d=e[15],d},dHe=t=>{switch(t){case"executing":return"text-pending";case"completed":return"text-success";case"failed":return"text-danger";case"interrupted":return"text-interrupted";case"backgrounded":return"text-backgrounded";case"redacted":return"text-foreground-secondary";default:return"text-foreground-secondary"}},Pr=t=>{const e=ae.c(12);let n,r,a,s;e[0]!==t?({status:s,className:r,children:n,...a}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=s):(n=e[1],r=e[2],a=e[3],s=e[4]);let i;e[5]!==r||e[6]!==s?(i=ce("text-[10px] ml-auto opacity-80 whitespace-nowrap shrink-0","[&_.status-text]:inline [@container(max-width:350px)]:[&_.status-text]:hidden",dHe(s),r),e[5]=r,e[6]=s,e[7]=i):i=e[7];let o;return e[8]!==n||e[9]!==a||e[10]!==i?(o=l.jsx("span",{className:i,...a,children:n}),e[8]=n,e[9]=a,e[10]=i,e[11]=o):o=e[11],o},ca=t=>{const e=ae.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let a;e[3]!==n?(a=ce("mt-2 pt-2 border-t border-white/5 text-foreground",n),e[3]=n,e[4]=a):a=e[4];let s;return e[5]!==r||e[6]!==a?(s=l.jsx("div",{className:a,...r}),e[5]=r,e[6]=a,e[7]=s):s=e[7],s},mn=t=>{const e=ae.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let a;e[3]!==n?(a=ce("my-1.5",n),e[3]=n,e[4]=a):a=e[4];let s;return e[5]!==r||e[6]!==a?(s=l.jsx("div",{className:a,...r}),e[5]=r,e[6]=a,e[7]=s):s=e[7],s},Wn=t=>{const e=ae.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let a;e[3]!==n?(a=ce("text-[10px] text-foreground-secondary mb-1 uppercase tracking-wide",n),e[3]=n,e[4]=a):a=e[4];let s;return e[5]!==r||e[6]!==a?(s=l.jsx("div",{className:a,...r}),e[5]=r,e[6]=a,e[7]=s):s=e[7],s},yr=xe.forwardRef((t,e)=>{const n=ae.c(9);let r,a;n[0]!==t?({className:r,...a}=t,n[0]=t,n[1]=r,n[2]=a):(r=n[1],a=n[2]);let s;n[3]!==r?(s=ce("m-0 bg-code-bg rounded-sm text-[11px] leading-relaxed whitespace-pre-wrap break-words max-h-[200px] overflow-y-auto",r),n[3]=r,n[4]=s):s=n[4];let i;return n[5]!==a||n[6]!==e||n[7]!==s?(i=l.jsx("pre",{ref:e,className:s,...a}),n[5]=a,n[6]=e,n[7]=s,n[8]=i):i=n[8],i});yr.displayName="DetailContent";const qa=t=>{const e=ae.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let a;e[3]!==n?(a=ce("after:inline-block after:w-[3ch] after:text-left after:content-[''] after:animate-[ellipsis_1.2s_steps(4,end)_infinite]",n),e[3]=n,e[4]=a):a=e[4];let s;return e[5]!==r||e[6]!==a?(s=l.jsx("span",{className:a,...r}),e[5]=r,e[6]=a,e[7]=s):s=e[7],s},mHe=t=>{const e=ae.c(10);let n,r,a;e[0]!==t?({active:n,className:r,...a}=t,e[0]=t,e[1]=n,e[2]=r,e[3]=a):(n=e[1],r=e[2],a=e[3]);const s=n&&"bg-white/10";let i;e[4]!==r||e[5]!==s?(i=ce("border border-white/20 text-foreground px-2 py-0.5 rounded-sm cursor-pointer text-[10px]","transition-all duration-200 whitespace-nowrap hover:bg-white/10 hover:border-white/30",s,r),e[4]=r,e[5]=s,e[6]=i):i=e[6];let o;return e[7]!==a||e[8]!==i?(o=l.jsx("button",{className:i,...a}),e[7]=a,e[8]=i,e[9]=o):o=e[9],o},HK={bash:C1,bash_output:C1,bash_background_terminate:hI,bash_background_list:Sj,agent_report:dc,agent_skill_read:v3,agent_skill_read_file:v3,file_read:eI,file_edit_insert:Rs,file_edit_replace_string:Rs,file_edit_replace_lines:Rs,todo_write:Sj,web_fetch:w1,web_search:w1,notify:JA,task_apply_git_patch:Eee},_a=t=>{const e=ae.c(14),{toolName:n,emoji:r,emojiSpin:a,className:s}=t,i=HK[n]??Rd;let o;e[0]!==s?(o=ce("inline-flex shrink-0 items-center justify-center text-secondary [&_svg]:size-3",s),e[0]=s,e[1]=o):o=e[1];let c;e[2]!==i||e[3]!==r||e[4]!==a?(c=r?l.jsx(sD,{emoji:r,spin:a}):l.jsx(i,{"aria-hidden":"true"}),e[2]=i,e[3]=r,e[4]=a,e[5]=c):c=e[5];let u;e[6]!==o||e[7]!==c?(u=l.jsx(Xe,{asChild:!0,children:l.jsx("span",{className:o,children:c})}),e[6]=o,e[7]=c,e[8]=u):u=e[8];let d;e[9]!==n?(d=l.jsx(Ke,{children:n}),e[9]=n,e[10]=d):d=e[10];let m;return e[11]!==u||e[12]!==d?(m=l.jsxs(Ye,{children:[u,d]}),e[11]=u,e[12]=d,e[13]=m):m=e[13],m},Ca=t=>{const e=ae.c(8);let n,r;e[0]!==t?({className:n,...r}=t,e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]);let a;e[3]!==n?(a=ce("rounded border-l-2 px-2 py-1.5 text-[11px] text-danger bg-danger-overlay border-danger",n),e[3]=n,e[4]=a):a=e[4];let s;return e[5]!==r||e[6]!==a?(s=l.jsx("div",{className:a,...r}),e[5]=r,e[6]=a,e[7]=s):s=e[7],s},hHe=t=>{const e=ae.c(6),{exitCode:n,className:r}=t,a=n===0?"bg-success text-on-success":"bg-danger text-on-danger";let s;e[0]!==r||e[1]!==a?(s=ce("inline-block shrink-0 rounded px-1.5 py-0.5 text-[10px] font-medium whitespace-nowrap",a,r),e[0]=r,e[1]=a,e[2]=s):s=e[2];let i;return e[3]!==n||e[4]!==s?(i=l.jsx("span",{className:s,children:n}),e[3]=n,e[4]=s,e[5]=i):i=e[5],i},pHe=t=>{const e=ae.c(7),{status:n,exitCode:r,className:a}=t,s=n==="exited"&&r===0?"bg-success text-on-success":n==="interrupted"?"bg-warning text-on-warning":"bg-danger text-on-danger";let i;e[0]!==a||e[1]!==s?(i=ce("inline-block shrink-0 rounded px-1.5 py-0.5 text-[10px] font-medium whitespace-nowrap",s,a),e[0]=a,e[1]=s,e[2]=i):i=e[2];const o=r!==void 0&&` (${r})`;let c;return e[3]!==n||e[4]!==i||e[5]!==o?(c=l.jsxs("span",{className:i,children:[n,o]}),e[3]=n,e[4]=i,e[5]=o,e[6]=c):c=e[6],c},fHe=t=>{const e=ae.c(6),{hasOutput:n,className:r}=t,a=n?"bg-pending/20 text-pending":"bg-muted-foreground/20 text-muted-foreground";let s;e[0]!==r||e[1]!==a?(s=ce("inline-block shrink-0 rounded px-1.5 py-0.5 text-[10px] font-medium whitespace-nowrap",a,r),e[0]=r,e[1]=a,e[2]=s):s=e[2];const i=n?"new output":"no output";let o;return e[3]!==s||e[4]!==i?(o=l.jsx("span",{className:s,children:i}),e[3]=s,e[4]=i,e[5]=o):o=e[5],o},gHe=t=>{const e=ae.c(15),{output:n,emptyMessage:r,note:a}=t,s=r===void 0?"No output":r,i=typeof n=="string"&&n.length>0;if(!(i||!!a)){let x;return e[0]!==s?(x=l.jsx(mn,{children:l.jsx(yr,{className:"text-muted px-2 py-1.5 italic",children:s})}),e[0]=s,e[1]=x):x=e[1],x}let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx("span",{children:"Output"}),e[2]=c):c=e[2];let u;e[3]!==a?(u=a&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button","aria-label":"View notice",className:"text-muted hover:text-secondary translate-y-[-1px] rounded p-0.5 transition-colors",children:l.jsx(Mf,{size:12})})}),l.jsx(Ke,{children:l.jsx("div",{className:"max-w-xs break-words whitespace-pre-wrap",children:a})})]}),e[3]=a,e[4]=u):u=e[4];let d;e[5]!==u?(d=l.jsxs(Wn,{className:"flex items-center gap-1",children:[c,u]}),e[5]=u,e[6]=d):d=e[6];const m=!i&&"text-muted italic";let h;e[7]!==m?(h=ce("px-2 py-1.5",m),e[7]=m,e[8]=h):h=e[8];const p=i?n:s;let f;e[9]!==h||e[10]!==p?(f=l.jsx(yr,{className:h,children:p}),e[9]=h,e[10]=p,e[11]=f):f=e[11];let g;return e[12]!==d||e[13]!==f?(g=l.jsxs(mn,{children:[d,f]}),e[12]=d,e[13]=f,e[14]=g):g=e[14],g};function ja(t){const e=ae.c(5),n=t===void 0?!1:t,[r,a]=b.useState(n);let s;e[0]!==r?(s=()=>a(!r),e[0]=r,e[1]=s):s=e[1];const i=s;let o;return e[2]!==r||e[3]!==i?(o={expanded:r,setExpanded:a,toggleExpanded:i},e[2]=r,e[3]=i,e[4]=o):o=e[4],o}function Fr(t){switch(t){case"executing":return l.jsxs(l.Fragment,{children:[l.jsx(qa,{})," ",l.jsx("span",{className:"status-text",children:"executing"})]});case"completed":return l.jsxs(l.Fragment,{children:[l.jsx(Hn,{"aria-hidden":"true",className:"mr-1 inline-block h-3 w-3 align-[-2px]"}),l.jsx("span",{className:"status-text",children:"completed"})]});case"failed":return l.jsxs(l.Fragment,{children:[l.jsx(ir,{"aria-hidden":"true",className:"mr-1 inline-block h-3 w-3 align-[-2px]"}),l.jsx("span",{className:"status-text",children:"failed"})]});case"interrupted":return l.jsxs(l.Fragment,{children:[l.jsx(Mr,{"aria-hidden":"true",className:"mr-1 inline-block h-3 w-3 align-[-2px]"}),l.jsx("span",{className:"status-text",children:"interrupted"})]});case"redacted":return l.jsxs(l.Fragment,{children:[l.jsx(Gd,{"aria-hidden":"true",className:"mr-1 inline-block h-3 w-3 align-[-2px]"}),l.jsx("span",{className:"status-text",children:"redacted"})]});case"backgrounded":return l.jsxs(l.Fragment,{children:[l.jsx(X_,{"aria-hidden":"true",className:"mr-1 inline-block h-3 w-3 align-[-2px]"}),l.jsx("span",{className:"status-text",children:"backgrounded"})]});default:return l.jsx("span",{className:"status-text",children:"pending"})}}function v2(t){return t<1e3?`${Math.round(t)}ms`:t<6e4?`${Math.round(t/1e3)}s`:t<36e5?`${Math.round(t/6e4)}m`:`${Math.round(t/36e5)}h`}function k2(t){if(!t||typeof t!="object")return!1;const e=t;return e.success===!1&&typeof e.error=="string"}function bHe(t){return!t||typeof t!="object"?!1:"success"in t&&t.success===!1||"error"in t}function xHe(t,e,n){return t==="output-available"?bHe(e)?"failed":"completed":t==="output-redacted"?"redacted":n?"interrupted":"executing"}const qK=({code:t,language:e,className:n,showLineNumbers:r=!1,startLineNumber:a=1})=>{const[s,i]=b.useState(null),{theme:o}=Lu(),c=t.split(`
`).filter((m,h,p)=>h<p.length-1||m!=="");b.useEffect(()=>{let m=!1;const h=o==="light"||o.endsWith("-light")?"light":"dark";i(null);async function p(){try{const f=await bC(t,e,h);if(!m){const x=OL(f).filter((y,w,v)=>w<v.length-1||y.trim()!=="");i(x.length>0?x:null)}}catch(f){console.warn(`Failed to highlight ${e}:`,f),m||i(null)}}return p(),()=>{m=!0}},[t,e,o]);const u=s??c;if(r)return l.jsx("div",{className:"code-block-container text-[11px]",children:u.map((m,h)=>l.jsxs(xe.Fragment,{children:[l.jsx("div",{className:"line-number",children:a+h}),l.jsx("div",{className:"code-line",...s?{dangerouslySetInnerHTML:{__html:m}}:{children:m}})]},h))});const d=ce("font-mono text-[11px] leading-relaxed",n);return s?l.jsx("div",{className:d,dangerouslySetInnerHTML:{__html:s.join(`
`)}}):l.jsx("div",{className:d,children:t})},oc=t=>{const e=ae.c(7),{value:n,className:r}=t;let a;e:{if(n==null){a="null";break e}if(typeof n=="string")try{let o;e[0]!==n?(o=JSON.stringify(JSON.parse(n),null,2),e[0]=n,e[1]=o):o=e[1],a=o;break e}catch{a=n;break e}try{let o;e[2]!==n?(o=JSON.stringify(n,null,2),e[2]=n,e[3]=o):o=e[3],a=o}catch{a="[Complex Object]"}}const s=a;let i;return e[4]!==r||e[5]!==s?(i=l.jsx(qK,{code:s,language:"json",className:r,showLineNumbers:!0}),e[4]=r,e[5]=s,e[6]=i):i=e[6],i},yHe=new Set(["image/png","image/jpeg","image/jpg","image/gif","image/webp","image/avif","image/bmp"]);function wHe(t){return t.length>15e6?!1:/^[A-Za-z0-9+/]*={0,2}$/.test(t)}function vHe(t,e){const n=t.toLowerCase().trim();return!yHe.has(n)||!wHe(e)?null:`data:${n};base64,${e}`}function UK(t){if(typeof t!="object"||t===null)return[];const e=t;return e.type!=="content"||!Array.isArray(e.value)?[]:e.value.filter(n=>n.type==="media"&&typeof n.data=="string"&&typeof n.mediaType=="string")}const kHe=t=>{const e=ae.c(18),{result:n}=t,r=UK(n),[a,s]=b.useState(null),i=r.map(_He).filter(CHe);if(i.length===0)return null;const o="mt-2 flex flex-wrap gap-2";let c;e[0]!==s?(c=(w,v)=>l.jsx("button",{onClick:()=>s(w),className:"border-border-light bg-dark block cursor-pointer overflow-hidden rounded border p-0 transition-opacity hover:opacity-80",title:"Click to view full size",children:l.jsx("img",{src:w,alt:`Tool result image ${v+1}`,className:"max-h-48 max-w-full object-contain"})},v),e[0]=s,e[1]=c):c=e[1];const u=i.map(c);let d;e[2]!==u?(d=l.jsx("div",{className:o,children:u}),e[2]=u,e[3]=d):d=e[3];const m=a!==null;let h;e[4]!==s?(h=()=>s(null),e[4]=s,e[5]=h):h=e[5];let p;e[6]===Symbol.for("react.memo_cache_sentinel")?(p=l.jsx(yA,{children:l.jsx(oa,{children:"Image Preview"})}),e[6]=p):p=e[6];let f;e[7]!==a?(f=a&&l.jsx("img",{src:a,alt:"Full size preview",className:"max-h-[85vh] max-w-full object-contain"}),e[7]=a,e[8]=f):f=e[8];let g;e[9]!==f?(g=l.jsxs(ia,{maxWidth:"90vw",maxHeight:"90vh",className:"flex items-center justify-center bg-black/90 p-2",children:[p,f]}),e[9]=f,e[10]=g):g=e[10];let x;e[11]!==m||e[12]!==h||e[13]!==g?(x=l.jsx(sa,{open:m,onOpenChange:h,children:g}),e[11]=m,e[12]=h,e[13]=g,e[14]=x):x=e[14];let y;return e[15]!==x||e[16]!==d?(y=l.jsxs(l.Fragment,{children:[d,x]}),e[15]=x,e[16]=d,e[17]=y):y=e[17],y};function _He(t){return vHe(t.mediaType,t.data)}function CHe(t){return t!==null}function SHe(t){if(typeof t!="object"||t===null)return t;const e=t;if(e.type!=="content"||!Array.isArray(e.value))return t;const n=e.value.map(r=>typeof r=="object"&&r!==null&&r.type==="media"?{type:"media",mediaType:r.mediaType,data:"[image data]"}:r);return{...e,value:n}}const jHe=t=>{const e=ae.c(34),{toolName:n,args:r,result:a,status:s}=t,i=s===void 0?"pending":s,{expanded:o,toggleExpanded:c}=ja(),u=r!==void 0||a!==void 0;let d;e[0]!==a?(d=UK(a),e[0]=a,e[1]=d):d=e[1];const h=d.length>0,p=o||h;let f;e[2]!==u||e[3]!==c?(f=()=>u&&c(),e[2]=u,e[3]=c,e[4]=f):f=e[4];let g;e[5]!==u||e[6]!==p?(g=u&&l.jsx(la,{expanded:p,children:""}),e[5]=u,e[6]=p,e[7]=g):g=e[7];let x;e[8]!==n?(x=zK(n)?l.jsxs(l.Fragment,{children:[l.jsx(_a,{toolName:n,className:"text-pink-400"}),l.jsx(uHe,{toolName:n})]}):l.jsxs(l.Fragment,{children:[HK[n]&&l.jsx(_a,{toolName:n}),l.jsx(Co,{children:n})]}),e[8]=n,e[9]=x):x=e[9];let y;e[10]!==i?(y=Fr(i),e[10]=i,e[11]=y):y=e[11];let w;e[12]!==i||e[13]!==y?(w=l.jsx(Pr,{status:i,children:y}),e[12]=i,e[13]=y,e[14]=w):w=e[14];let v;e[15]!==f||e[16]!==g||e[17]!==x||e[18]!==w?(v=l.jsxs(Or,{onClick:f,children:[g,x,w]}),e[15]=f,e[16]=g,e[17]=x,e[18]=w,e[19]=v):v=e[19];let k;e[20]!==h||e[21]!==a?(k=h&&l.jsx(kHe,{result:a}),e[20]=h,e[21]=a,e[22]=k):k=e[22];let C;e[23]!==r||e[24]!==o||e[25]!==u||e[26]!==a||e[27]!==i?(C=o&&u&&l.jsxs(ca,{children:[r!==void 0&&l.jsxs(mn,{children:[l.jsx(Wn,{children:"Arguments"}),l.jsx(yr,{children:l.jsx(oc,{value:r})})]}),a!==void 0&&l.jsxs(mn,{children:[l.jsx(Wn,{children:"Result"}),l.jsx(yr,{children:l.jsx(oc,{value:SHe(a)})})]}),i==="executing"&&!a&&l.jsx(mn,{children:l.jsxs(yr,{children:["Waiting for result",l.jsx(qa,{})]})}),i==="redacted"&&l.jsx(mn,{children:l.jsx(yr,{className:"text-muted italic",children:"Output excluded from shared transcript"})})]}),e[23]=r,e[24]=o,e[25]=u,e[26]=a,e[27]=i,e[28]=C):C=e[28];let _;return e[29]!==p||e[30]!==C||e[31]!==v||e[32]!==k?(_=l.jsxs(Lr,{expanded:p,children:[v,k,C]}),e[29]=p,e[30]=C,e[31]=v,e[32]=k,e[33]=_):_=e[33],_},KN=64e3,THe=500,WK=t=>{const e=ae.c(18),n=t.displayName??t.processId;let r;e[0]!==n?(r=l.jsx("span",{className:"font-mono text-sm",children:n}),e[0]=n,e[1]=r):r=e[1];let a;e[2]!==t.displayName||e[3]!==t.processId?(a=t.displayName&&l.jsx("code",{className:"rounded bg-[var(--color-bg-tertiary)] px-1.5 py-0.5 font-mono text-[10px]",children:t.processId}),e[2]=t.displayName,e[3]=t.processId,e[4]=a):a=e[4];let s;e[5]!==r||e[6]!==a?(s=l.jsx(Sa,{children:l.jsxs(oa,{className:"flex items-center gap-2",children:[r,a]})}),e[5]=r,e[6]=a,e[7]=s):s=e[7];let i;e[8]!==t.processId||e[9]!==t.workspaceId?(i=l.jsx(EHe,{workspaceId:t.workspaceId,processId:t.processId}),e[8]=t.processId,e[9]=t.workspaceId,e[10]=i):i=e[10];let o;e[11]!==s||e[12]!==i?(o=l.jsxs(ia,{className:"max-h-[80vh] max-w-4xl overflow-hidden",children:[s,i]}),e[11]=s,e[12]=i,e[13]=o):o=e[13];let c;return e[14]!==t.onOpenChange||e[15]!==t.open||e[16]!==o?(c=l.jsx(sa,{open:t.open,onOpenChange:t.onOpenChange,children:o}),e[14]=t.onOpenChange,e[15]=t.open,e[16]=o,e[17]=c):c=e[17],c},EHe=t=>{const e=ae.c(26),{api:n}=Kt(),[r,a]=b.useState(void 0),[s,i]=b.useState("running"),[o,c]=b.useState(!1),[u,d]=b.useState(null),[m,h]=b.useState(!0);let p,f;e[0]!==n||e[1]!==t.processId||e[2]!==t.workspaceId?(p=()=>{if(a(void 0),i("running"),c(!1),d(null),h(!0),!n){h(!1),d("API unavailable");return}let j=!1;return(async()=>{let I;for(;!j;){const A=await n.workspace.backgroundBashes.getOutput(I===void 0?{workspaceId:t.workspaceId,processId:t.processId,tailBytes:KN}:{workspaceId:t.workspaceId,processId:t.processId,fromOffset:I});if(j)return;if(h(!1),!A.success){d(A.error);return}if(i(A.data.status),A.data.truncatedStart&&c(!0),I=A.data.nextOffset,A.data.output.length>0&&a($=>lQ($,{text:A.data.output,isError:!1},cQ)),A.data.status!=="running")return;await new Promise(NHe)}})(),()=>{j=!0}},f=[n,t.processId,t.workspaceId],e[0]=n,e[1]=t.processId,e[2]=t.workspaceId,e[3]=p,e[4]=f):(p=e[3],f=e[4]),b.useEffect(p,f);const g=r?.combined??"",x=r?.truncated??!1;let y;e[5]!==s?(y=l.jsxs("div",{className:"text-muted font-mono text-[11px]",children:["status: ",s]}),e[5]=s,e[6]=y):y=e[6];let w;e[7]!==g?(w=l.jsx(qc,{text:g,className:"h-6"}),e[7]=g,e[8]=w):w=e[8];let v;e[9]!==y||e[10]!==w?(v=l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[y,w]}),e[9]=y,e[10]=w,e[11]=v):v=e[11];let k;e[12]!==o?(k=o&&l.jsxs("div",{className:"text-muted text-[10px] italic",children:["Showing last ",Math.round(KN/1e3),"KB"]}),e[12]=o,e[13]=k):k=e[13];let C;e[14]!==x?(C=x&&l.jsx("div",{className:"text-muted text-[10px] italic",children:"Output truncated (showing last ~1MB)"}),e[14]=x,e[15]=C):C=e[15];let _;e[16]!==u?(_=u&&l.jsx("div",{className:"text-error text-[11px]",children:u}),e[16]=u,e[17]=_):_=e[17];const S=m?"Loading":g.length>0?g:u?"":"No output yet";let T;e[18]!==S?(T=l.jsx(yr,{className:"max-h-[60vh] min-h-[200px] px-2 py-1.5",children:S}),e[18]=S,e[19]=T):T=e[19];let N;return e[20]!==v||e[21]!==k||e[22]!==C||e[23]!==_||e[24]!==T?(N=l.jsxs("div",{className:"flex min-h-0 flex-col gap-2 overflow-hidden",children:[v,k,C,_,T]}),e[20]=v,e[21]=k,e[22]=C,e[23]=_,e[24]=T,e[25]=N):N=e[25],N};function NHe(t){return setTimeout(t,THe)}const $He=({startedAt:t,isActive:e})=>{const n=b.useRef(0),r=b.useRef(null),[,a]=xe.useReducer(i=>i+1,0),s=b.useRef(t??Date.now());return b.useEffect(()=>{if(!e){n.current=0,r.current!==null&&(cancelAnimationFrame(r.current),r.current=null);return}s.current=t??Date.now();let i=-1;const o=()=>{const u=Date.now()-s.current,d=Math.floor(u/1e3);d!==i&&(i=d,n.current=u,a()),r.current=requestAnimationFrame(o)};return o(),()=>{r.current!==null&&(cancelAnimationFrame(r.current),r.current=null)}},[e,t]),!e||n.current===0?null:l.jsxs(l.Fragment,{children:["  ",Math.round(n.current/1e3),"s"]})},AHe={combined:"",truncated:!1,phase:void 0},IHe=t=>{const e=ae.c(81),{workspaceId:n,toolCallId:r,args:a,result:s,status:i,startedAt:o}=t,c=i===void 0?"pending":i,{expanded:u,setExpanded:d,toggleExpanded:m}=ja(),[h,p]=b.useState(!1),f=uQ(n),{sendToBackground:g}=oC(),x=dQ(n,r),y=mQ(n),w=y===r,v=b.useRef(null),k=b.useRef(!0);let C;e[0]===Symbol.for("react.memo_cache_sentinel")?(C=Ne=>{const Re=Ne.scrollHeight-Ne.scrollTop-Ne.clientHeight;k.current=Re<40},e[0]=C):C=e[0];const _=C,S=x??AHe,T=S.combined;let N;e[1]===Symbol.for("react.memo_cache_sentinel")?(N=()=>{const Ne=v.current;Ne&&k.current&&(Ne.scrollTop=Ne.scrollHeight)},e[1]=N):N=e[1];let j;e[2]!==T?(j=[T],e[2]=T,e[3]=j):j=e[3],b.useEffect(N,j);const R=b.useRef(!1),I=b.useRef(!1),A=b.useRef(null);let $,E;e[4]!==w||e[5]!==y||e[6]!==d||e[7]!==c?($=()=>{if(!R.current)return w&&c==="executing"?A.current=setTimeout(()=>{R.current||(d(!0),I.current=!0)},300):(A.current&&(clearTimeout(A.current),A.current=null),I.current&&y!==null&&(d(!1),I.current=!1)),()=>{A.current&&clearTimeout(A.current)}},E=[w,y,c,d],e[4]=w,e[5]=y,e[6]=d,e[7]=c,e[8]=$,e[9]=E):($=e[8],E=e[9]),b.useEffect($,E);const M=c==="executing"||c==="pending",F=s&&"backgroundProcessId"in s?s.backgroundProcessId:null,L=a.run_in_background??!!F,Y=c==="completed"&&s&&"backgroundProcessId"in s?"backgrounded":c,O=typeof s?.output=="string",G=!L&&(c==="executing"||!!x&&!O),H=G&&S.phase==="filtering";let D;e[10]!==f||e[11]!==r||e[12]!==n?(D=r&&n&&f.has(r),e[10]=f,e[11]=r,e[12]=n,e[13]=D):D=e[13];const U=!!D;let B;e[14]!==g||e[15]!==r||e[16]!==n?(B=r&&n?()=>{g(r)}:void 0,e[14]=g,e[15]=r,e[16]=n,e[17]=B):B=e[17];const q=B,V=s&&"truncated"in s?s.truncated:void 0,Z=s&&"note"in s?s.note:void 0,W=!!(s&&"backgroundProcessId"in s),K=W?void 0:s?.output,J=typeof K=="string"&&K.length>0,ee=!W&&(J||!!Z);let se;e[18]!==m?(se=()=>{R.current=!0,m()},e[18]=m,e[19]=se):se=e[19];const re=se;let ue;e[20]!==u?(ue=l.jsx(la,{expanded:u,children:""}),e[20]=u,e[21]=ue):ue=e[21];let he;e[22]===Symbol.for("react.memo_cache_sentinel")?(he=l.jsx(_a,{toolName:"bash"}),e[22]=he):he=e[22];let ke;e[23]!==a.script?(ke=l.jsx("span",{className:"text-text font-monospace max-w-96 truncate",children:a.script}),e[23]=a.script,e[24]=ke):ke=e[24];let je;e[25]!==F||e[26]!==L||e[27]!==n?(je=L&&F&&n&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",onClick:Ne=>{Ne.stopPropagation(),p(!0)},className:"text-muted hover:text-secondary ml-2 rounded p-1 transition-colors",children:l.jsx(dc,{size:12})})}),l.jsx(Ke,{children:"View output"})]}),e[25]=F,e[26]=L,e[27]=n,e[28]=je):je=e[28];let _e;e[29]!==a.display_name||e[30]!==L?(_e=L&&l.jsxs("span",{className:"text-muted ml-2 flex items-center gap-1 text-[10px] whitespace-nowrap",children:[l.jsx(Rg,{size:10}),a.display_name]}),e[29]=a.display_name,e[30]=L,e[31]=_e):_e=e[31];let ge;e[32]!==a.timeout_secs||e[33]!==L||e[34]!==M||e[35]!==s||e[36]!==o?(ge=!L&&l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:ce("ml-2 text-[10px] whitespace-nowrap [@container(max-width:500px)]:hidden",M?"text-pending":"text-text-secondary"),children:["timeout: ",a.timeout_secs??hQ,"s",s&&`  took ${v2(s.wall_duration_ms)}`,!s&&l.jsx($He,{startedAt:o,isActive:M})]}),s&&l.jsx(hHe,{exitCode:s.exitCode,className:"ml-2"})]}),e[32]=a.timeout_secs,e[33]=L,e[34]=M,e[35]=s,e[36]=o,e[37]=ge):ge=e[37];let ve;e[38]!==Y?(ve=Fr(Y),e[38]=Y,e[39]=ve):ve=e[39];let De;e[40]!==Y||e[41]!==ve?(De=l.jsx(Pr,{status:Y,children:ve}),e[40]=Y,e[41]=ve,e[42]=De):De=e[42];let $e;e[43]!==U||e[44]!==q||e[45]!==L||e[46]!==c?($e=c==="executing"&&!L&&q&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",onClick:Ne=>{Ne.stopPropagation(),q()},disabled:!U,className:ce("ml-2 flex cursor-pointer items-center gap-1 rounded p-1 text-[10px] font-medium transition-colors","bg-[var(--color-pending)]/20 text-[var(--color-pending)]","hover:bg-[var(--color-pending)]/30","disabled:pointer-events-none disabled:invisible"),children:l.jsx(Rg,{size:12})})}),l.jsx(Ke,{children:"Send to background  process continues but agent stops waiting"})]}),e[43]=U,e[44]=q,e[45]=L,e[46]=c,e[47]=$e):$e=e[47];let Qe;e[48]!==re||e[49]!==ue||e[50]!==ke||e[51]!==je||e[52]!==_e||e[53]!==ge||e[54]!==De||e[55]!==$e?(Qe=l.jsxs(Or,{onClick:re,children:[ue,he,ke,je,_e,ge,De,$e]}),e[48]=re,e[49]=ue,e[50]=ke,e[51]=je,e[52]=_e,e[53]=ge,e[54]=De,e[55]=$e,e[56]=Qe):Qe=e[56];let Be;e[57]!==a.display_name||e[58]!==F||e[59]!==h||e[60]!==n?(Be=F&&n&&l.jsx(WK,{open:h,onOpenChange:p,workspaceId:n,processId:F,displayName:a.display_name}),e[57]=a.display_name,e[58]=F,e[59]=h,e[60]=n,e[61]=Be):Be=e[61];let ie;e[62]!==a.script||e[63]!==T||e[64]!==J||e[65]!==K||e[66]!==u||e[67]!==H||e[68]!==S.truncated||e[69]!==Z||e[70]!==s||e[71]!==ee||e[72]!==G||e[73]!==c||e[74]!==V?(ie=u&&l.jsxs(ca,{children:[l.jsxs(mn,{children:[l.jsx(Wn,{children:"Script"}),l.jsx(yr,{className:"px-2 py-1.5",children:a.script})]}),G&&S.truncated&&l.jsx("div",{className:"text-muted px-2 text-[10px] italic",children:"Live output truncated (showing last ~1MB)"}),s&&l.jsxs(l.Fragment,{children:[s.success===!1&&s.error&&l.jsxs(mn,{children:[l.jsx(Wn,{children:"Error"}),l.jsx(Ca,{children:s.error})]}),V&&l.jsxs("div",{className:"text-muted px-2 text-[10px] italic",children:["Output truncated  reason: ",V.reason,"  totalLines:"," ",V.totalLines]})]}),(G||ee)&&l.jsxs(mn,{children:[l.jsxs(Wn,{className:"flex items-center gap-1",children:[l.jsx("span",{children:"Output"}),Z&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button","aria-label":"View notice",className:"text-muted hover:text-secondary translate-y-[-1px] rounded p-0.5 transition-colors",children:l.jsx(Mf,{size:12})})}),l.jsx(Ke,{children:l.jsx("div",{className:"max-w-xs break-words whitespace-pre-wrap",children:Z})})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(yr,{ref:v,onScroll:G?Ne=>_(Ne.currentTarget):void 0,className:ce("px-2 py-1.5",(G?T.length===0:!J)&&"text-muted italic",H&&"opacity-60 blur-[1px]"),children:G?T.length>0?T:c==="redacted"?"Output excluded from shared transcript":"No output yet":J?K:"No output"}),H&&l.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:l.jsxs("div",{className:"text-muted flex items-center gap-1 rounded border border-white/10 bg-[var(--color-bg-tertiary)]/80 px-2 py-1 text-[10px] backdrop-blur-sm",children:[l.jsx(pn,{"aria-hidden":"true",className:"h-3 w-3 animate-spin"}),"Compacting output"]})})]})]}),s&&"backgroundProcessId"in s&&l.jsxs("div",{className:"flex items-center gap-2 text-[11px]",children:[l.jsx(Rg,{size:12,className:"text-muted shrink-0"}),l.jsx("span",{className:"text-muted",children:"Background process"}),l.jsx("code",{className:"rounded bg-[var(--color-bg-tertiary)] px-1.5 py-0.5 font-mono text-[10px]",children:s.backgroundProcessId})]})]}),e[62]=a.script,e[63]=T,e[64]=J,e[65]=K,e[66]=u,e[67]=H,e[68]=S.truncated,e[69]=Z,e[70]=s,e[71]=ee,e[72]=G,e[73]=c,e[74]=V,e[75]=ie):ie=e[75];let Te;return e[76]!==u||e[77]!==Qe||e[78]!==Be||e[79]!==ie?(Te=l.jsxs(Lr,{expanded:u,children:[Qe,Be,ie]}),e[76]=u,e[77]=Qe,e[78]=Be,e[79]=ie,e[80]=Te):Te=e[80],Te},VS=t=>{const e=ae.c(23),{items:n,className:r}=t,[a,s]=b.useState(!1);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={top:0,left:0},e[0]=i):i=e[0];const[o,c]=b.useState(i),u=b.useRef(null),d=b.useRef(null);let m;e[1]!==a?(m=()=>{if(!a&&u.current){const T=u.current.getBoundingClientRect();c({top:T.bottom+4,left:T.right-160})}s(!a)},e[1]=a,e[2]=m):m=e[2];const h=m;let p,f;e[3]!==a?(p=()=>{if(!a)return;const T=N=>{u.current&&!u.current.contains(N.target)&&d.current&&!d.current.contains(N.target)&&s(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},f=[a],e[3]=a,e[4]=p,e[5]=f):(p=e[4],f=e[5]),b.useEffect(p,f);let g;e[6]===Symbol.for("react.memo_cache_sentinel")?(g=T=>{T.disabled||(T.onClick(),s(!1))},e[6]=g):g=e[6];const x=g,y=a?"bg-white/10":"bg-none";let w;e[7]!==r||e[8]!==y?(w=ce("border border-white/20 text-foreground text-[10px] py-0.5 px-2 rounded-[3px] cursor-pointer transition-all duration-200 font-primary flex items-center justify-center whitespace-nowrap",y,"hover:bg-white/10 hover:border-white/30","disabled:opacity-50 disabled:cursor-not-allowed",r),e[7]=r,e[8]=y,e[9]=w):w=e[9];let v;e[10]!==h||e[11]!==w?(v=l.jsx(Xe,{asChild:!0,children:l.jsx("button",{ref:u,onClick:h,className:w,children:""})}),e[10]=h,e[11]=w,e[12]=v):v=e[12];let k;e[13]===Symbol.for("react.memo_cache_sentinel")?(k=l.jsx(Ke,{align:"center",children:"More actions"}),e[13]=k):k=e[13];let C;e[14]!==v?(C=l.jsx("div",{className:"relative",children:l.jsxs(Ye,{children:[v,k]})}),e[14]=v,e[15]=C):C=e[15];let _;e[16]!==o||e[17]!==a||e[18]!==n?(_=a&&Ys.createPortal(l.jsx("div",{ref:d,className:"bg-dark border-border-light pointer-events-auto fixed z-[10000] min-w-40 overflow-hidden rounded-[3px] border shadow-[0_4px_16px_rgba(0,0,0,0.8)]",style:{top:`${o.top}px`,left:`${o.left}px`},children:n.map((T,N)=>l.jsxs("button",{onClick:()=>x(T),title:T.tooltip,className:ce("w-full border-none border-b border-modal-bg text-xs py-2 px-3 text-left transition-all duration-150 font-primary flex items-center gap-2","last:border-b-0",T.disabled?"bg-dark text-muted-light cursor-not-allowed opacity-50 hover:bg-dark hover:text-muted-light":T.active?"bg-white/15 text-foreground cursor-pointer hover:bg-white/15 hover:text-[var(--color-hover-foreground)]":"bg-dark text-foreground cursor-pointer hover:bg-white/15 hover:text-[var(--color-hover-foreground)]"),children:[T.emoji&&l.jsx("span",{className:"w-4 shrink-0 text-center text-[13px]",children:T.emoji}),l.jsx("span",{className:"flex-1",children:T.label})]},N))}),document.body),e[16]=o,e[17]=a,e[18]=n,e[19]=_):_=e[19];let S;return e[20]!==C||e[21]!==_?(S=l.jsxs(l.Fragment,{children:[C,_]}),e[20]=C,e[21]=_,e[22]=S):S=e[22],S};function RHe(t,e,n){try{const r=zO(t);return r.length===0?l.jsx("div",{style:{padding:"8px",color:"var(--color-muted)"},children:"No changes"}):r.map((a,s)=>l.jsx(xe.Fragment,{children:a.hunks.map((i,o)=>l.jsx(xe.Fragment,{children:n&&e?l.jsx(Xd,{content:i.lines.join(`
`),showLineNumbers:!0,oldStart:i.oldStart,newStart:i.newStart,filePath:e,fontSize:"11px",onReviewNote:n}):l.jsx(Jp,{content:i.lines.join(`
`),showLineNumbers:!0,oldStart:i.oldStart,newStart:i.newStart,filePath:e,fontSize:"11px"})},o))},s))}catch(r){return l.jsxs(Ca,{children:["Failed to parse diff: ",String(r)]})}}const Gv=t=>{const e=ae.c(43),{toolName:n,args:r,result:a,status:s,onReviewNote:i}=t,o=s===void 0?"pending":s,u=!(a&&!a.success),{expanded:d,toggleExpanded:m}=ja(u),[h,p]=xe.useState(!1),[f,g]=xe.useState(!1),x=MA(a)?.file_edit?.diff,y=a&&a.success?x??a.diff:void 0,w="file_path"in r?r.file_path:void 0,{copied:v,copyToClipboard:k}=go();let C;e[0]!==v||e[1]!==k||e[2]!==y||e[3]!==a||e[4]!==f||e[5]!==h?(C=a?[{label:f?"Hide Invocation":"Show Invocation",onClick:()=>g(!f),active:f},...a.success&&y?[{label:v?"Copied":"Copy Patch",onClick:()=>void k(y)},{label:h?"Show Parsed":"Show Patch",onClick:()=>p(!h),active:h}]:[]]:[],e[0]=v,e[1]=k,e[2]=y,e[3]=a,e[4]=f,e[5]=h,e[6]=C):C=e[6];const _=C;let S;e[7]!==d?(S=l.jsx(la,{expanded:d,children:""}),e[7]=d,e[8]=S):S=e[8];let T;e[9]!==n?(T=l.jsx(_a,{toolName:n}),e[9]=n,e[10]=T):T=e[10];let N;e[11]!==w?(N=l.jsxs("div",{className:"text-text flex max-w-96 min-w-0 items-center gap-1.5",children:[l.jsx(cc,{filePath:w,className:"text-[15px] leading-none"}),l.jsx("span",{className:"font-monospace truncate",children:w})]}),e[11]=w,e[12]=N):N=e[12];let j;e[13]!==S||e[14]!==T||e[15]!==N||e[16]!==m?(j=l.jsxs("div",{onClick:m,className:"hover:text-text flex flex-1 cursor-pointer items-center gap-2",children:[S,T,N]}),e[13]=S,e[14]=T,e[15]=N,e[16]=m,e[17]=j):j=e[17];let R;e[18]!==y||e[19]!==a||e[20]!==o?(R=!(a&&a.success&&y)&&l.jsx(Pr,{status:o,children:Fr(o)}),e[18]=y,e[19]=a,e[20]=o,e[21]=R):R=e[21];let I;e[22]!==_?(I=_.length>0&&l.jsx("div",{className:"mr-2",children:l.jsx(VS,{items:_})}),e[22]=_,e[23]=I):I=e[23];let A;e[24]!==j||e[25]!==R||e[26]!==I?(A=l.jsxs(Or,{className:"hover:text-secondary cursor-default",children:[j,R,I]}),e[24]=j,e[25]=R,e[26]=I,e[27]=A):A=e[27];let $;e[28]!==r||e[29]!==y||e[30]!==d||e[31]!==w||e[32]!==i||e[33]!==a||e[34]!==f||e[35]!==h||e[36]!==o||e[37]!==n?($=d&&l.jsxs(ca,{children:[f&&l.jsxs(mn,{children:[l.jsx(Wn,{children:"Invocation"}),l.jsx(oc,{value:{tool:n,args:r}})]}),a&&l.jsxs(l.Fragment,{children:[a.success===!1&&a.error&&l.jsxs(mn,{children:[l.jsx(Wn,{children:"Error"}),l.jsx(Ca,{children:a.error})]}),a.success&&y&&(h?l.jsx(vC,{children:l.jsx("pre",{className:"font-monospace m-0 text-[11px] leading-[1.4] break-words whitespace-pre-wrap",children:y})}):RHe(y,w,i))]}),o==="executing"&&!a&&l.jsx(mn,{children:l.jsxs("div",{className:"text-secondary text-[11px]",children:["Waiting for result",l.jsx(qa,{})]})})]}),e[28]=r,e[29]=y,e[30]=d,e[31]=w,e[32]=i,e[33]=a,e[34]=f,e[35]=h,e[36]=o,e[37]=n,e[38]=$):$=e[38];let E;return e[39]!==d||e[40]!==$||e[41]!==A?(E=l.jsxs(Lr,{expanded:d,children:[A,$]}),e[39]=d,e[40]=$,e[41]=A,e[42]=E):E=e[42],E};function MHe(t){if(!t||typeof t!="object")return!1;const e=t;if(typeof e.scope!="string"||typeof e.directoryName!="string"||typeof e.body!="string")return!1;const n=e.frontmatter;if(!n||typeof n!="object")return!1;const r=n;return!(typeof r.name!="string"||typeof r.description!="string")}function DHe(t){if(!t||typeof t!="object")return!1;const e=t;return e.success!==!0?!1:MHe(e.skill)}const LHe=t=>{const e=ae.c(33),{args:n,result:r,status:a}=t,s=a===void 0?"pending":a,{expanded:i,toggleExpanded:o}=ja(),c=DHe(r)?r:null,u=k2(r)?r:null,d=r!=null,m=d&&!c&&!u,h=c?.skill.frontmatter;let p;e[0]!==i?(p=l.jsx(la,{expanded:i,children:""}),e[0]=i,e[1]=p):p=e[1];let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=l.jsx(_a,{toolName:"agent_skill_read"}),e[2]=f):f=e[2];let g;e[3]===Symbol.for("react.memo_cache_sentinel")?(g=l.jsx("span",{className:"text-secondary whitespace-nowrap",children:"Read skill:"}),e[3]=g):g=e[3];let x;e[4]!==n.name?(x=l.jsxs("div",{className:"text-text font-monospace flex max-w-96 min-w-0 items-baseline gap-1.5",children:[g,l.jsx("span",{className:"truncate",children:n.name})]}),e[4]=n.name,e[5]=x):x=e[5];let y;e[6]!==c?(y=c&&l.jsxs("span",{className:"text-secondary ml-2 text-[10px] whitespace-nowrap",children:[l.jsx("span",{className:"hidden @sm:inline",children:"scope "}),c.skill.scope]}),e[6]=c,e[7]=y):y=e[7];let w;e[8]!==s?(w=Fr(s),e[8]=s,e[9]=w):w=e[9];let v;e[10]!==s||e[11]!==w?(v=l.jsx(Pr,{status:s,children:w}),e[10]=s,e[11]=w,e[12]=v):v=e[12];let k;e[13]!==p||e[14]!==x||e[15]!==y||e[16]!==v||e[17]!==o?(k=l.jsxs(Or,{onClick:o,children:[p,f,x,y,v]}),e[13]=p,e[14]=x,e[15]=y,e[16]=v,e[17]=o,e[18]=k):k=e[18];let C;e[19]!==n.name||e[20]!==u||e[21]!==i||e[22]!==h||e[23]!==d||e[24]!==m||e[25]!==r||e[26]!==s||e[27]!==c?(C=i&&l.jsxs(ca,{children:[l.jsx(mn,{children:l.jsxs("div",{className:"bg-code-bg flex flex-wrap gap-4 rounded px-2 py-1.5 text-[11px] leading-[1.4]",children:[l.jsxs("div",{className:"flex items-baseline gap-1.5",children:[l.jsx("span",{className:"text-secondary font-medium",children:"Skill:"}),l.jsx("span",{className:"text-text font-monospace break-all",children:n.name})]}),c&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-baseline gap-1.5",children:[l.jsx("span",{className:"text-secondary font-medium",children:"Scope:"}),l.jsx("span",{className:"text-text font-monospace break-all",children:c.skill.scope})]}),l.jsxs("div",{className:"flex items-baseline gap-1.5",children:[l.jsx("span",{className:"text-secondary font-medium",children:"Directory:"}),l.jsx("span",{className:"text-text font-monospace break-all",children:c.skill.directoryName})]})]})]})}),u&&l.jsxs(mn,{children:[l.jsx(Wn,{children:"Error"}),l.jsx(Ca,{children:u.error})]}),m&&l.jsxs(l.Fragment,{children:[l.jsxs(mn,{children:[l.jsx(Wn,{children:"Error"}),l.jsx(Ca,{children:"Unrecognized tool output shape"})]}),l.jsxs(mn,{children:[l.jsx(Wn,{children:"Result"}),l.jsx(yr,{children:l.jsx(oc,{value:r})})]})]}),c&&h&&l.jsxs(l.Fragment,{children:[l.jsxs(mn,{children:[l.jsx(Wn,{children:"Description"}),l.jsx(yr,{className:"px-2 py-1.5",children:h.description})]}),h.license&&l.jsxs(mn,{children:[l.jsx(Wn,{children:"License"}),l.jsx(yr,{className:"px-2 py-1.5",children:h.license})]}),h.compatibility&&l.jsxs(mn,{children:[l.jsx(Wn,{children:"Compatibility"}),l.jsx(yr,{className:"px-2 py-1.5",children:h.compatibility})]}),h.metadata&&l.jsxs(mn,{children:[l.jsx(Wn,{children:"Metadata"}),l.jsx(yr,{children:l.jsx(oc,{value:h.metadata})})]}),l.jsxs(mn,{children:[l.jsx(Wn,{children:"Contents"}),l.jsx("div",{className:"bg-code-bg max-h-[300px] overflow-y-auto rounded px-3 py-2 text-[12px]",children:l.jsx(ti,{content:c.skill.body})})]})]}),s==="executing"&&!d&&l.jsx(mn,{children:l.jsxs("div",{className:"text-secondary text-[11px]",children:["Reading skill",l.jsx(qa,{})]})})]}),e[19]=n.name,e[20]=u,e[21]=i,e[22]=h,e[23]=d,e[24]=m,e[25]=r,e[26]=s,e[27]=c,e[28]=C):C=e[28];let _;return e[29]!==i||e[30]!==C||e[31]!==k?(_=l.jsxs(Lr,{expanded:i,className:"@container",children:[k,C]}),e[29]=i,e[30]=C,e[31]=k,e[32]=_):_=e[32],_};function Vv(t){return t<1024?`${t}B`:t<1024*1024?`${(t/1024).toFixed(1)}KB`:`${(t/(1024*1024)).toFixed(1)}MB`}function OHe(t){if(!t||typeof t!="object")return!1;const e=t;return e.success!==!0?!1:typeof e.file_size=="number"&&typeof e.modifiedTime=="string"&&typeof e.lines_read=="number"&&typeof e.content=="string"}function PHe(t){const e=t.split(`
`),n=[],r=[];for(const i of e){const o=i.indexOf("	");o!==-1?(n.push(i.substring(0,o)),r.push(i.substring(o+1))):(n.push(""),r.push(i))}const a=r.join(`
`),s=new TextEncoder().encode(a).length;return{lineNumbers:n,actualContent:a,actualBytes:s}}const FHe=t=>{const e=ae.c(57),{args:n,result:r,status:a}=t,s=a===void 0?"pending":a,{expanded:i,toggleExpanded:o}=ja(),c=OHe(r)?r:null,u=k2(r)?r:null,d=r!=null,m=d&&!c&&!u;let h,p,f,g,x,y,w,v,k,C;if(e[0]!==n.filePath||e[1]!==n.name||e[2]!==i||e[3]!==c||e[4]!==o){f=c?.content?PHe(c.content):null;const R=`${n.name}/${n.filePath}`;p=Lr,k=i,C="@container",h=Or,g=o,e[15]!==i?(x=l.jsx(la,{expanded:i,children:""}),e[15]=i,e[16]=x):x=e[16],e[17]===Symbol.for("react.memo_cache_sentinel")?(y=l.jsx(_a,{toolName:"agent_skill_read_file"}),e[17]=y):y=e[17];let I;e[18]!==n.filePath?(I=l.jsx(cc,{filePath:n.filePath,className:"text-[15px] leading-none"}),e[18]=n.filePath,e[19]=I):I=e[19];let A;e[20]!==R?(A=l.jsx("span",{className:"font-monospace truncate",children:R}),e[20]=R,e[21]=A):A=e[21],e[22]!==A||e[23]!==I?(w=l.jsxs("div",{className:"text-text flex max-w-96 min-w-0 items-center gap-1.5",children:[I,A]}),e[22]=A,e[23]=I,e[24]=w):w=e[24],v=c&&f&&l.jsxs("span",{className:"text-secondary font-monospace ml-2 text-[10px] whitespace-nowrap",children:[l.jsx("span",{className:"hidden @sm:inline",children:"read "}),Vv(f.actualBytes),l.jsxs("span",{className:"hidden @lg:inline",children:[" of ",Vv(c.file_size)]})]}),e[0]=n.filePath,e[1]=n.name,e[2]=i,e[3]=c,e[4]=o,e[5]=h,e[6]=p,e[7]=f,e[8]=g,e[9]=x,e[10]=y,e[11]=w,e[12]=v,e[13]=k,e[14]=C}else h=e[5],p=e[6],f=e[7],g=e[8],x=e[9],y=e[10],w=e[11],v=e[12],k=e[13],C=e[14];let _;e[25]!==s?(_=Fr(s),e[25]=s,e[26]=_):_=e[26];let S;e[27]!==s||e[28]!==_?(S=l.jsx(Pr,{status:s,children:_}),e[27]=s,e[28]=_,e[29]=S):S=e[29];let T;e[30]!==h||e[31]!==S||e[32]!==g||e[33]!==x||e[34]!==y||e[35]!==w||e[36]!==v?(T=l.jsxs(h,{onClick:g,children:[x,y,w,v,S]}),e[30]=h,e[31]=S,e[32]=g,e[33]=x,e[34]=y,e[35]=w,e[36]=v,e[37]=T):T=e[37];let N;e[38]!==n.filePath||e[39]!==n.limit||e[40]!==n.name||e[41]!==n.offset||e[42]!==u||e[43]!==i||e[44]!==d||e[45]!==m||e[46]!==f||e[47]!==r||e[48]!==s||e[49]!==c?(N=i&&l.jsxs(ca,{children:[l.jsx(mn,{children:l.jsxs("div",{className:"bg-code-bg flex flex-wrap gap-4 rounded px-2 py-1.5 text-[11px] leading-[1.4]",children:[l.jsxs("div",{className:"flex items-baseline gap-1.5",children:[l.jsx("span",{className:"text-secondary font-medium",children:"Skill:"}),l.jsx("span",{className:"text-text font-monospace break-all",children:n.name})]}),l.jsxs("div",{className:"flex items-baseline gap-1.5",children:[l.jsx("span",{className:"text-secondary font-medium",children:"File:"}),l.jsx("span",{className:"text-text font-monospace break-all",children:n.filePath})]}),n.offset!=null&&l.jsxs("div",{className:"flex items-baseline gap-1.5",children:[l.jsx("span",{className:"text-secondary font-medium",children:"Offset:"}),l.jsxs("span",{className:"text-text font-monospace break-all",children:["line ",n.offset]})]}),n.limit!=null&&l.jsxs("div",{className:"flex items-baseline gap-1.5",children:[l.jsx("span",{className:"text-secondary font-medium",children:"Limit:"}),l.jsxs("span",{className:"text-text font-monospace break-all",children:[n.limit," lines"]})]}),c&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-baseline gap-1.5",children:[l.jsx("span",{className:"text-secondary font-medium",children:"Modified:"}),l.jsx("span",{className:"text-text font-monospace break-all",children:c.modifiedTime})]}),l.jsxs("div",{className:"flex items-baseline gap-1.5",children:[l.jsx("span",{className:"text-secondary font-medium",children:"Lines:"}),l.jsx("span",{className:"text-text font-monospace break-all",children:c.lines_read})]}),l.jsxs("div",{className:"flex items-baseline gap-1.5",children:[l.jsx("span",{className:"text-secondary font-medium",children:"Size:"}),l.jsx("span",{className:"text-text font-monospace break-all",children:Vv(c.file_size)})]})]})]})}),u&&l.jsxs(mn,{children:[l.jsx(Wn,{children:"Error"}),l.jsx(Ca,{children:u.error})]}),m&&l.jsxs(l.Fragment,{children:[l.jsxs(mn,{children:[l.jsx(Wn,{children:"Error"}),l.jsx(Ca,{children:"Unrecognized tool output shape"})]}),l.jsxs(mn,{children:[l.jsx(Wn,{children:"Result"}),l.jsx(yr,{children:l.jsx(oc,{value:r})})]})]}),f&&l.jsxs(mn,{children:[l.jsx(Wn,{children:"Content"}),l.jsxs("div",{className:"bg-code-bg m-0 flex max-h-[200px] overflow-y-auto rounded px-2 py-1.5 text-[11px] leading-[1.4]",children:[l.jsx("div",{className:"text-secondary font-monospace mr-2 min-w-10 border-r border-white/10 pr-3 text-right opacity-40 select-none",children:f.lineNumbers.map(BHe)}),l.jsx("pre",{className:"font-monospace m-0 flex-1 p-0 break-words whitespace-pre-wrap",children:f.actualContent})]})]}),s==="executing"&&!d&&l.jsx(mn,{children:l.jsxs(yr,{children:["Reading skill file",l.jsx(qa,{})]})})]}),e[38]=n.filePath,e[39]=n.limit,e[40]=n.name,e[41]=n.offset,e[42]=u,e[43]=i,e[44]=d,e[45]=m,e[46]=f,e[47]=r,e[48]=s,e[49]=c,e[50]=N):N=e[50];let j;return e[51]!==p||e[52]!==T||e[53]!==N||e[54]!==k||e[55]!==C?(j=l.jsxs(p,{expanded:k,className:C,children:[T,N]}),e[51]=p,e[52]=T,e[53]=N,e[54]=k,e[55]=C,e[56]=j):j=e[56],j};function BHe(t,e){return l.jsx("div",{children:t},e)}function YN(t){return t<1024?`${t}B`:t<1024*1024?`${(t/1024).toFixed(1)}KB`:`${(t/(1024*1024)).toFixed(1)}MB`}function zHe(t){const e=t.split(`
`),n=[],r=[];for(const i of e){const o=i.indexOf("	");o!==-1?(n.push(i.substring(0,o)),r.push(i.substring(o+1))):(n.push(""),r.push(i))}const a=r.join(`
`),s=new TextEncoder().encode(a).length;return{lineNumbers:n,actualContent:a,actualBytes:s}}const HHe=t=>{const e=ae.c(45),{args:n,result:r,status:a}=t,s=a===void 0?"pending":a,{expanded:i,toggleExpanded:o}=ja(),c="file_path"in n?n.file_path:n.filePath??"";let u,d,m,h,p,f,g,x,y,w;e[0]!==i||e[1]!==c||e[2]!==r||e[3]!==o?(m=r?.success&&r.content?zHe(r.content):null,d=Lr,y=i,w="@container",u=Or,h=o,e[14]!==i?(p=l.jsx(la,{expanded:i,children:""}),e[14]=i,e[15]=p):p=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(f=l.jsx(_a,{toolName:"file_read"}),e[16]=f):f=e[16],e[17]!==c?(g=l.jsxs("div",{className:"text-text flex max-w-96 min-w-0 items-center gap-1.5",children:[l.jsx(cc,{filePath:c,className:"text-[15px] leading-none"}),l.jsx("span",{className:"font-monospace truncate",children:c})]}),e[17]=c,e[18]=g):g=e[18],x=r&&r.success&&m&&l.jsxs("span",{className:"text-secondary ml-2 text-[10px] whitespace-nowrap",children:[l.jsx("span",{className:"hidden @sm:inline",children:"read "}),YN(m.actualBytes),l.jsxs("span",{className:"hidden @lg:inline",children:[" of ",YN(r.file_size)]})]}),e[0]=i,e[1]=c,e[2]=r,e[3]=o,e[4]=u,e[5]=d,e[6]=m,e[7]=h,e[8]=p,e[9]=f,e[10]=g,e[11]=x,e[12]=y,e[13]=w):(u=e[4],d=e[5],m=e[6],h=e[7],p=e[8],f=e[9],g=e[10],x=e[11],y=e[12],w=e[13]);let v;e[19]!==s?(v=Fr(s),e[19]=s,e[20]=v):v=e[20];let k;e[21]!==s||e[22]!==v?(k=l.jsx(Pr,{status:s,children:v}),e[21]=s,e[22]=v,e[23]=k):k=e[23];let C;e[24]!==u||e[25]!==k||e[26]!==h||e[27]!==p||e[28]!==f||e[29]!==g||e[30]!==x?(C=l.jsxs(u,{onClick:h,children:[p,f,g,x,k]}),e[24]=u,e[25]=k,e[26]=h,e[27]=p,e[28]=f,e[29]=g,e[30]=x,e[31]=C):C=e[31];let _;e[32]!==n||e[33]!==i||e[34]!==c||e[35]!==m||e[36]!==r||e[37]!==s?(_=i&&l.jsxs(ca,{children:[l.jsx(mn,{children:l.jsxs("div",{className:"bg-code-bg flex flex-wrap gap-4 rounded px-2 py-1.5 text-[11px] leading-[1.4]",children:[l.jsxs("div",{className:"flex gap-1.5",children:[l.jsx("span",{className:"text-secondary font-medium",children:"Path:"}),l.jsx("span",{className:"text-text font-monospace break-all",children:c})]}),n.offset!=null&&l.jsxs("div",{className:"flex gap-1.5",children:[l.jsx("span",{className:"text-secondary font-medium",children:"Offset:"}),l.jsxs("span",{className:"text-text font-monospace break-all",children:["line ",n.offset]})]}),n.limit!=null&&l.jsxs("div",{className:"flex gap-1.5",children:[l.jsx("span",{className:"text-secondary font-medium",children:"Limit:"}),l.jsxs("span",{className:"text-text font-monospace break-all",children:[n.limit," lines"]})]})]})}),r&&l.jsxs(l.Fragment,{children:[r.success===!1&&r.error&&l.jsxs(mn,{children:[l.jsx(Wn,{children:"Error"}),l.jsx(Ca,{children:r.error})]}),r.success&&r.content&&m&&l.jsxs(mn,{children:[l.jsx(Wn,{children:"Content"}),l.jsxs("div",{className:"bg-code-bg m-0 flex max-h-[200px] overflow-y-auto rounded px-2 py-1.5 text-[11px] leading-[1.4]",children:[l.jsx("div",{className:"text-secondary font-monospace mr-2 min-w-10 border-r border-white/10 pr-3 text-right opacity-40 select-none",children:m.lineNumbers.map(qHe)}),l.jsx("pre",{className:"font-monospace m-0 flex-1 p-0 break-words whitespace-pre-wrap",children:m.actualContent})]})]})]}),s==="executing"&&!r&&l.jsx(mn,{children:l.jsxs(yr,{children:["Reading file",l.jsx(qa,{})]})})]}),e[32]=n,e[33]=i,e[34]=c,e[35]=m,e[36]=r,e[37]=s,e[38]=_):_=e[38];let S;return e[39]!==d||e[40]!==C||e[41]!==_||e[42]!==y||e[43]!==w?(S=l.jsxs(d,{expanded:y,className:w,children:[C,_]}),e[39]=d,e[40]=C,e[41]=_,e[42]=y,e[43]=w,e[44]=S):S=e[44],S};function qHe(t,e){return l.jsx("div",{children:t},e)}function UHe(t){return t<1024?`${t}B`:t<1024*1024?`${(t/1024).toFixed(1)}KB`:`${(t/(1024*1024)).toFixed(1)}MB`}function WHe(t){try{return new URL(t).hostname}catch{return t}}const GHe=t=>{const e=ae.c(29),{args:n,result:r,status:a}=t,s=a===void 0?"pending":a,{expanded:i,toggleExpanded:o}=ja();let c;e[0]!==n.url?(c=WHe(n.url),e[0]=n.url,e[1]=c):c=e[1];const u=c;let d;e[2]!==i?(d=l.jsx(la,{expanded:i,children:""}),e[2]=i,e[3]=d):d=e[3];let m;e[4]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx(_a,{toolName:"web_fetch"}),e[4]=m):m=e[4];let h;e[5]!==u?(h=l.jsx("div",{className:"text-text flex max-w-96 min-w-0 items-center gap-1.5",children:l.jsx("span",{className:"font-monospace truncate",children:u})}),e[5]=u,e[6]=h):h=e[6];let p;e[7]!==r?(p=r&&r.success&&l.jsxs("span",{className:"text-secondary ml-2 text-[10px] whitespace-nowrap",children:[l.jsx("span",{className:"hidden @sm:inline",children:"fetched "}),UHe(r.length)]}),e[7]=r,e[8]=p):p=e[8];let f;e[9]!==s?(f=Fr(s),e[9]=s,e[10]=f):f=e[10];let g;e[11]!==s||e[12]!==f?(g=l.jsx(Pr,{status:s,children:f}),e[11]=s,e[12]=f,e[13]=g):g=e[13];let x;e[14]!==d||e[15]!==h||e[16]!==p||e[17]!==g||e[18]!==o?(x=l.jsxs(Or,{onClick:o,children:[d,m,h,p,g]}),e[14]=d,e[15]=h,e[16]=p,e[17]=g,e[18]=o,e[19]=x):x=e[19];let y;e[20]!==n.url||e[21]!==i||e[22]!==r||e[23]!==s?(y=i&&l.jsxs(ca,{children:[l.jsx(mn,{children:l.jsxs("div",{className:"bg-code-bg flex flex-wrap gap-4 rounded px-2 py-1.5 text-[11px] leading-[1.4]",children:[l.jsxs("div",{className:"flex min-w-0 gap-1.5",children:[l.jsx("span",{className:"text-secondary font-medium",children:"URL:"}),l.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"text-link font-monospace truncate hover:underline",children:n.url})]}),r&&r.success&&r.title&&l.jsxs("div",{className:"flex min-w-0 gap-1.5",children:[l.jsx("span",{className:"text-secondary font-medium",children:"Title:"}),l.jsx("span",{className:"text-text truncate",children:r.title})]})]})}),r&&l.jsxs(l.Fragment,{children:[r.success===!1&&r.error&&l.jsxs(mn,{children:[l.jsx(Wn,{children:"Error"}),l.jsx(Ca,{children:r.error})]}),r.content&&l.jsxs(mn,{children:[l.jsx(Wn,{children:r.success?"Content":"Error Page Content"}),l.jsx("div",{className:"bg-code-bg max-h-[300px] overflow-y-auto rounded px-3 py-2 text-[12px]",children:l.jsx(ti,{content:r.content})})]})]}),s==="executing"&&!r&&l.jsx(mn,{children:l.jsxs("div",{className:"text-secondary text-[11px]",children:["Fetching page",l.jsx(qa,{})]})})]}),e[20]=n.url,e[21]=i,e[22]=r,e[23]=s,e[24]=y):y=e[24];let w;return e[25]!==i||e[26]!==y||e[27]!==x?(w=l.jsxs(Lr,{expanded:i,className:"@container",children:[x,y]}),e[25]=i,e[26]=y,e[27]=x,e[28]=w):w=e[28],w};function GK(t){return t!==null&&typeof t=="object"&&"type"in t&&t.type==="json"&&"value"in t?t.value:t}function VHe(t,e){if(t.query)return t.query;const n=GK(e);if(n!==null&&typeof n=="object"&&"action"in n&&typeof n.action=="object"){const r=n.action;if(typeof r.query=="string")return r.query}}function KHe(t){const e=GK(t);return Array.isArray(e)?e.length:e!==null&&typeof e=="object"&&"sources"in e&&Array.isArray(e.sources)?e.sources.length:0}const YHe=t=>{const e=ae.c(31),{args:n,result:r,status:a}=t,s=a===void 0?"pending":a,{expanded:i,toggleExpanded:o}=ja();let c;e[0]!==n||e[1]!==r?(c=VHe(n,r),e[0]=n,e[1]=r,e[2]=c):c=e[2];const u=c,d=KHe(r);let m;e[3]!==i?(m=l.jsx(la,{expanded:i,children:""}),e[3]=i,e[4]=m):m=e[4];let h;e[5]===Symbol.for("react.memo_cache_sentinel")?(h=l.jsx(_a,{toolName:"web_search"}),e[5]=h):h=e[5];const p=u??"searching...";let f;e[6]!==p?(f=l.jsx("div",{className:"text-text flex max-w-96 min-w-0 items-center gap-1.5",children:l.jsx("span",{className:"font-monospace truncate",children:p})}),e[6]=p,e[7]=f):f=e[7];let g;e[8]!==r||e[9]!==d?(g=r!==void 0&&d>0&&l.jsxs("span",{className:"text-secondary ml-2 text-[10px] whitespace-nowrap",children:[d," result",d!==1?"s":""]}),e[8]=r,e[9]=d,e[10]=g):g=e[10];let x;e[11]!==s?(x=Fr(s),e[11]=s,e[12]=x):x=e[12];let y;e[13]!==s||e[14]!==x?(y=l.jsx(Pr,{status:s,children:x}),e[13]=s,e[14]=x,e[15]=y):y=e[15];let w;e[16]!==m||e[17]!==f||e[18]!==g||e[19]!==y||e[20]!==o?(w=l.jsxs(Or,{onClick:o,children:[m,h,f,g,y]}),e[16]=m,e[17]=f,e[18]=g,e[19]=y,e[20]=o,e[21]=w):w=e[21];let v;e[22]!==i||e[23]!==u||e[24]!==r||e[25]!==s?(v=i&&l.jsxs(ca,{children:[l.jsx(mn,{children:l.jsx("div",{className:"bg-code-bg flex flex-wrap gap-4 rounded px-2 py-1.5 text-[11px] leading-[1.4]",children:u&&l.jsxs("div",{className:"flex min-w-0 gap-1.5",children:[l.jsx("span",{className:"text-secondary font-medium",children:"Query:"}),l.jsx("span",{className:"text-text",children:u})]})})}),r!=null&&l.jsxs(mn,{children:[l.jsx(Wn,{children:"Results"}),l.jsx("div",{className:"bg-code-bg max-h-[300px] overflow-y-auto rounded px-3 py-2 text-[12px]",children:l.jsx(oc,{value:r})})]}),s==="executing"&&!r&&l.jsx(mn,{children:l.jsxs("div",{className:"text-secondary text-[11px]",children:["Searching",l.jsx(qa,{})]})})]}),e[22]=i,e[23]=u,e[24]=r,e[25]=s,e[26]=v):v=e[26];let k;return e[27]!==i||e[28]!==w||e[29]!==v?(k=l.jsxs(Lr,{expanded:i,className:"@container",children:[w,v]}),e[27]=i,e[28]=w,e[29]=v,e[30]=k):k=e[30],k};function VK(t,e,n){const r=ae.c(7),a=n===void 0?30:n;let s;r[0]!==a||r[1]!==t?(s=()=>{const o=t.current;if(!o)return;o.style.height="auto";const c=window.innerHeight*(a/100);o.style.height=Math.min(o.scrollHeight,c)+"px"},r[0]=a,r[1]=t,r[2]=s):s=r[2];let i;r[3]!==a||r[4]!==t||r[5]!==e?(i=[t,e,a],r[3]=a,r[4]=t,r[5]=e,r[6]=i):i=r[6],b.useLayoutEffect(s,i)}const Yo="__other__",Kv=new Map;function XHe(t){if(!t||typeof t!="object")return t;const e=t;return e.type==="json"&&"value"in e?e.value:t}function ZHe(t){if(!t||typeof t!="object")return!1;const e=t;if(!Array.isArray(e.questions)||!e.answers||typeof e.answers!="object")return!1;for(const[,n]of Object.entries(e.answers))if(typeof n!="string")return!1;return!0}function QHe(t){if(!t||typeof t!="object")return!1;const e=t;return e.success===!1&&typeof e.error=="string"}function JHe(t,e){const n=e.trim();if(n.length===0)return{selected:[],otherText:""};const r=new Set(t.options.map(o=>o.label));if(!t.multiSelect)return r.has(n)?{selected:[n],otherText:""}:{selected:[Yo],otherText:n};const a=n.split(",").map(o=>o.trim()).filter(o=>o.length>0),s=[],i=[];for(const o of a)r.has(o)?s.push(o):i.push(o);return i.length>0&&s.push(Yo),{selected:s,otherText:i.join(", ")}}function Td(t,e){return e.selected.length===0?!1:e.selected.includes(Yo)?e.otherText.trim().length>0:!0}function XN(t,e){mt(Td(t,e),"draftToAnswerString requires a complete answer");const n=[];for(const r of e.selected)r===Yo?n.push(e.otherText.trim()):n.push(r);return t.multiSelect?n.join(", "):(mt(n.length===1,"Single-select questions must have exactly one answer"),n[0])}function ZN(t,e){return e.filter(n=>n!==Yo).map(n=>t.options.find(r=>r.label===n)?.description).filter(n=>n!==void 0)}function eqe(t){const e=ae.c(9),n=b.useRef(null);VK(n,t.value,30);const r=t.placeholder,a=t.value;let s,i;e[0]!==t?(s=u=>t.onChange(u.target.value),i=u=>{u.key==="Enter"&&!u.shiftKey&&t.value.trim().length>0&&(u.preventDefault(),t.onSubmit())},e[0]=t,e[1]=s,e[2]=i):(s=e[1],i=e[2]);let o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=ce("border-input placeholder:text-muted focus-visible:ring-ring","w-full rounded-md border bg-transparent px-3 py-2 text-sm","focus-visible:ring-1 focus-visible:outline-none","resize-none min-h-[2.5rem] max-h-[30vh] overflow-y-auto"),e[3]=o):o=e[3];let c;return e[4]!==t.placeholder||e[5]!==t.value||e[6]!==s||e[7]!==i?(c=l.jsx("textarea",{ref:n,placeholder:r,value:a,onChange:s,onKeyDown:i,className:o}),e[4]=t.placeholder,e[5]=t.value,e[6]=s,e[7]=i,e[8]=c):c=e[8],c}function tqe(t){const{api:e}=Kt(),{expanded:n,toggleExpanded:r}=ja(t.status==="executing"),a=Fr(t.status),s=t.args.answers??{},i=Kv.get(t.toolCallId),[o,c]=b.useState(()=>i?.activeIndex??0),[u,d]=b.useState(!1),[m,h]=b.useState(null),[p,f]=b.useState(()=>{if(i)return i.draftAnswers;const I={};for(const A of t.args.questions){const $=s[A.question];typeof $=="string"?I[A.question]=JHe(A,$):I[A.question]={selected:[],otherText:""}}return I});b.useEffect(()=>{t.status==="executing"?Kv.set(t.toolCallId,{draftAnswers:p,activeIndex:o}):Kv.delete(t.toolCallId)},[t.toolCallId,t.status,p,o]);const g=b.useMemo(()=>t.result?XHe(t.result):null,[t.result]),y=MA(g)?.ask_user_question??(g&&ZHe(g)?g:null),w=g&&QHe(g)?g:null,v=b.useMemo(()=>t.args.questions.every(I=>{const A=p[I.question];return A?Td(I,A):!1}),[p,t.args.questions]),k=b.useRef(null),C=t.args.questions.length,_=o===C;b.useEffect(()=>{t.status==="executing"&&_&&k.current?.focus()},[_,t.status]);const S=_?null:t.args.questions[Math.min(o,t.args.questions.length-1)],T=S?p[S.question]:void 0,N=b.useMemo(()=>t.args.questions.filter(I=>{const A=p[I.question];return!A||!Td(I,A)}).length,[p,t.args.questions]),j=()=>{d(!0),h(null);let I,A;try{I={};for(const $ of t.args.questions){const E=p[$.question];E&&Td($,E)?I[$.question]=XN($,E):I[$.question]=""}mt(e,"API not connected"),mt(t.workspaceId,"workspaceId is required"),A=t.workspaceId}catch($){const E=$ instanceof Error?$.message:String($);h(E),d(!1);return}e.workspace.answerAskUserQuestion({workspaceId:A,toolCallId:t.toolCallId,answers:I}).then($=>{if(!$.success){h($.error);return}window.dispatchEvent(_i(Rn.RESUME_CHECK_REQUESTED,{workspaceId:A,isManual:!0}))}).catch($=>{const E=$ instanceof Error?$.message:String($);h(E)}).finally(()=>{d(!1)})};return l.jsxs(Lr,{expanded:n,children:[l.jsxs(Or,{onClick:r,children:[l.jsx(la,{expanded:n,children:""}),l.jsxs("div",{className:"flex flex-1 flex-col",children:[l.jsx(Co,{children:"ask_user_question"}),l.jsx("div",{className:"text-muted-foreground text-xs",children:"Answer below, or type in chat to cancel."})]}),l.jsx(Pr,{status:t.status,children:a})]}),n&&l.jsx(ca,{children:l.jsxs("div",{className:"flex flex-col gap-4",children:[t.status==="executing"&&l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.args.questions.map((I,A)=>{const $=p[I.question],E=$?Td(I,$):!1,M=A===o;return l.jsxs("button",{type:"button",className:"text-xs px-2 py-1 rounded border "+(M?"bg-primary text-primary-foreground border-primary":E?"bg-green-900/30 text-green-400 border-green-700":"bg-muted text-foreground border-border"),onClick:()=>c(A),children:[I.header,E&&l.jsx(Hn,{"aria-hidden":"true",className:"ml-1 inline-block h-3 w-3"})]},I.question)}),l.jsxs("button",{type:"button",className:"text-xs px-2 py-1 rounded border "+(_?"bg-primary text-primary-foreground border-primary":v?"bg-green-900/30 text-green-400 border-green-700":"bg-muted text-foreground border-border"),onClick:()=>c(C),children:["Summary",v&&l.jsx(Hn,{"aria-hidden":"true",className:"ml-1 inline-block h-3 w-3"})]})]}),!_&&S&&T&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium",children:S.question}),l.jsx("div",{className:"text-muted-foreground text-xs",children:S.multiSelect?"Select one or more options":"Select one option"})]}),l.jsxs("div",{className:"flex flex-col gap-3",children:[[...S.options.map(I=>({label:I.label,displayLabel:I.label,description:I.description})),{label:Yo,displayLabel:"Other",description:"Provide a custom answer."}].map(I=>{const A=T.selected.includes(I.label),$=()=>{const E=!A;f(M=>{const F=M[S.question]??{selected:[],otherText:""};if(S.multiSelect){const L=new Set(F.selected);return L.has(I.label)?L.delete(I.label):L.add(I.label),{...M,[S.question]:{...F,selected:Array.from(L)}}}else return{...M,[S.question]:{selected:A?[]:[I.label],otherText:I.label===Yo?F.otherText:""}}}),!S.multiSelect&&E&&I.label!==Yo&&c(M=>M+1)};return l.jsxs("div",{role:"button",tabIndex:0,className:"flex cursor-pointer items-start gap-2 select-none",onClick:$,onKeyDown:E=>{(E.key==="Enter"||E.key===" ")&&(E.preventDefault(),$())},children:[l.jsx(Wo,{checked:A,onCheckedChange:$,onClick:E=>E.stopPropagation()}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("div",{className:"text-sm",children:I.displayLabel}),l.jsx("div",{className:"text-muted-foreground text-xs",children:I.description})]})]},I.label)}),T.selected.includes(Yo)&&l.jsx(eqe,{placeholder:"Type your answer",value:T.otherText,onChange:I=>{f(A=>({...A,[S.question]:{...A[S.question]??{selected:[],otherText:""},otherText:I}}))},onSubmit:()=>c(o+1)})]})]}),_&&l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("div",{className:"text-sm font-medium",children:"Review your answers"}),N>0&&l.jsxs("div",{className:"flex items-center gap-1 text-xs text-yellow-500",children:[l.jsx(Mr,{"aria-hidden":"true",className:"h-3 w-3"}),l.jsxs("span",{children:[N," question",N>1?"s":""," not answered"]})]}),l.jsx("div",{className:"flex flex-col gap-2",children:t.args.questions.map((I,A)=>{const $=p[I.question],E=$?Td(I,$):!1,M=E?XN(I,$):null,F=E?ZN(I,$.selected):[];return l.jsx("div",{role:"button",tabIndex:0,className:"hover:bg-muted/50 -ml-2 cursor-pointer rounded px-2 py-1",onClick:()=>c(A),onKeyDown:L=>{(L.key==="Enter"||L.key===" ")&&(L.preventDefault(),c(A))},children:l.jsxs("div",{className:"flex items-start gap-1",children:[E?l.jsx(Hn,{"aria-hidden":"true",className:"h-3 w-3 text-green-400"}):l.jsx(Mr,{"aria-hidden":"true",className:"h-3 w-3 text-yellow-500"})," ",l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"font-medium",children:[I.header,":"]})," ",E?l.jsx("span",{className:"text-muted-foreground",children:M}):l.jsx("span",{className:"text-muted-foreground italic",children:"Not answered"})]}),F.length>0&&l.jsx("div",{className:"text-muted-foreground ml-1 text-xs italic",children:F.join("; ")})]})]})},I.question)})})]}),l.jsx("div",{className:"text-muted-foreground text-xs",children:"Tip: you can also just type a message to respond in chat (this will cancel these questions)."}),m&&l.jsx(Ca,{children:m})]}),t.status!=="executing"&&l.jsxs("div",{className:"flex flex-col gap-2",children:[y&&l.jsxs("div",{className:"text-muted-foreground flex flex-col gap-2 text-sm",children:[l.jsx("div",{children:"User answered:"}),Object.entries(y.answers).map(([I,A])=>{const $=y.questions.find(F=>F.question===I),E=A.split(",").map(F=>F.trim()),M=$?ZN($,E):[];return l.jsxs("div",{className:"ml-4 flex flex-col",children:[l.jsxs("div",{children:[" ",l.jsxs("span",{className:"font-medium",children:[I,":"]})," ",A]}),M.length>0&&l.jsx("div",{className:"text-muted-foreground ml-3 text-xs italic",children:M.join("; ")})]},I)})]}),w&&l.jsx(Ca,{children:w.error})]}),t.status==="executing"&&l.jsx("div",{className:"flex justify-end",children:_?l.jsx(tt,{ref:k,disabled:u,onClick:j,children:u?"Submitting":"Submit answers"}):l.jsx(tt,{onClick:()=>c(o+1),children:"Next"})})]})})]})}function nqe(t){return t!==null&&typeof t=="object"&&"success"in t&&t.success===!0&&"planPath"in t}function rqe(t){return t!==null&&typeof t=="object"&&"success"in t&&t.success===!1&&"error"in t}function aqe(t){return t!==null&&typeof t=="object"&&"success"in t&&t.success===!0&&"title"in t&&"plan"in t}function sqe(t){return t!==null&&typeof t=="object"&&"title"in t&&"plan"in t}const KK=t=>{const{args:e,result:n,status:r="pending",workspaceId:a,isLatest:s,isEphemeralPreview:i,onClose:o,content:c,path:u,className:d}=t,{expanded:m,toggleExpanded:h}=ja(!0),[p,f]=b.useState(!1),[g,x]=b.useState(!1),[y,w]=b.useState(!1),[v,k]=b.useState(!1),[C,_]=b.useState(()=>typeof window>"u"?!1:window.innerWidth<=768),S=b.useRef(!1),T=b.useRef(!1),N=b.useRef(!0),{api:j}=Kt(),R=dy(),I=Fu(),A=Dd(),$=b.useRef(null),E=a?I?.workspaceMetadata.get(a):void 0,M=E?.runtimeConfig,F=E?.name,L=a?dZ(a):"",O=a&&s&&!i&&r==="completed"?_n(L,null):null,[G,H]=b.useState(O?.content??null),[D,U]=b.useState(O?.path??null);b.useEffect(()=>()=>{N.current=!1},[]),b.useEffect(()=>{if(typeof window>"u")return;const nt=()=>{_(window.innerWidth<=768)};return window.addEventListener("resize",nt),()=>window.removeEventListener("resize",nt)},[]),b.useEffect(()=>{if(!j||i||!s||r!=="completed")return;let nt=!1;return j.config.getConfig().then(ct=>{nt||k(ct.taskSettings.proposePlanImplementReplacesChatHistory??!1)}).catch(()=>{}),()=>{nt=!0}},[j,i,s,r]),b.useEffect(()=>{if(i||!s||!a||!j)return;const nt=async()=>{try{const pt=await j.workspace.getPlanContent({workspaceId:a});pt.success&&(H(pt.data.content),U(pt.data.path),rn(L,{content:pt.data.content,path:pt.data.path}))}catch{}};nt();const ct=()=>void nt();return window.addEventListener("focus",ct),()=>window.removeEventListener("focus",ct)},[j,a,s,i,L,r]);let B,q,V,Z;if(i&&c!==void 0){B=c,V=u;const nt=/^#\s+(.+)$/m.exec(c);q=nt?nt[1]:"Plan"}else if(s&&G!==null){B=G,V=D??void 0;const nt=/^#\s+(.+)$/m.exec(G);q=nt?nt[1]:V?.split("/").pop()??"Plan"}else if(nqe(n)){const nt=n;if(V=n.planPath,nt.planContent){B=nt.planContent;const ct=/^#\s+(.+)$/m.exec(nt.planContent);q=ct?ct[1]:V.split("/").pop()??"Plan"}else B=`*Plan saved to ${V}*`,q=V.split("/").pop()??"Plan"}else aqe(n)?(B=n.plan,q=n.title):rqe(n)?(B="",q="Plan Error",Z=n.error):sqe(e)?(B=e.plan,q=e.title):(B="",q="Plan");const W=B.trim(),J=W.length>0&&!W.startsWith("*Plan saved to ")?`

Note: This chat already contains the full plan; no need to re-open the plan file.`:W.startsWith("*Plan saved to ")?`

Note: This chat only includes a placeholder. Read the plan file below for the full plan.`:"",ee=V?`

---

*Plan file preserved at:* \`${V}\``:"",se=`# ${q}

${B}${J}${ee}`,{openModal:re,buttonLabel:ue,disabled:he,modal:ke}=LK(a,se,!1,{sourceAgentId:"plan"}),je=async nt=>{if(!(!a||!j))try{const ct=IA(`${nt.idPrefix}-${Date.now()}-${Math.random().toString(36).substring(2,11)}`,"assistant",se,{timestamp:Date.now(),compacted:"user",agentId:"plan"}),pt=await j.workspace.replaceChatHistory({workspaceId:a,summaryMessage:ct,mode:"append-compaction-boundary",deletePlanFile:!1});pt.success||console.error(nt.errorContext,pt.error)}catch(ct){console.error(nt.errorContext,ct)}},_e=async()=>{if(!(!a||!j)&&!S.current){S.current=!0,N.current&&x(!0);try{let nt=!1;try{nt=(await j.config.getConfig()).taskSettings.proposePlanImplementReplacesChatHistory??!1}catch{}nt&&await je({idPrefix:"start-orchestrator",errorContext:"Failed to replace chat history before starting orchestrator:"}),rn(tl(a),"orchestrator");const ct=cu(a);await j.workspace.sendMessage({workspaceId:a,message:"Start orchestrating the implementation of this plan.",options:{...ct,agentId:"orchestrator"}})}catch(nt){console.error("Failed to start orchestrator:",nt)}finally{S.current=!1,N.current&&x(!1)}}},ge=async()=>{if(!(!a||!j)&&!T.current){T.current=!0,N.current&&w(!0);try{let nt=!1;try{nt=(await j.config.getConfig()).taskSettings.proposePlanImplementReplacesChatHistory??!1}catch{}nt&&await je({idPrefix:"start-here",errorContext:"Failed to replace chat history before implementing:"}),rn(tl(a),"exec"),await j.workspace.sendMessage({workspaceId:a,message:"Implement the plan",options:cu(a)})}catch{}finally{T.current=!1,N.current&&w(!1)}}},{copied:ve,copyToClipboard:De}=go(),$e=async()=>{if(!V||!a)return;const nt=$.current?(()=>{const{bottom:ct,left:pt}=$.current.getBoundingClientRect();return{top:ct+8,left:pt}})():{top:100,left:100};try{const ct=await R(a,V,M,{isFile:!0});!ct.success&&ct.error&&A.showError("plan-editor",ct.error,nt)}catch(ct){const pt=ct instanceof Error?ct.message:String(ct);A.showError("plan-editor",pt,nt)}},Qe=Fr(r),ie=[{label:ve?"Copied":"Copy",onClick:()=>void De(B),icon:ve?l.jsx(Gp,{}):l.jsx(Vp,{})},{label:"Share",component:l.jsx(OK,{content:B,disabled:!B,workspaceName:F})}],Ne=(i??s)&&V&&a?{label:"Edit",onClick:()=>void $e(),icon:l.jsx(Rs,{}),tooltip:"Open plan in external editor"}:null,Re=!!(r==="completed"&&!Z&&s&&!i&&a),Le=Re?{label:"Implement",onClick:()=>void ge(),disabled:!j||y||g,icon:l.jsx(_1,{className:"size-4"}),tooltip:v?"Replace chat history with this plan, switch to Exec, and start implementing":"Switch to Exec and start implementing"}:null,Ae=Re?{label:"Start Orchestrator",onClick:()=>void _e(),disabled:!j||g||y,icon:l.jsx(Hte,{className:"size-4"}),tooltip:v?"Replace chat history with this plan, switch to Orchestrator, and start delegating":"Switch to Orchestrator and start delegating"}:null;!i&&a&&ie.push({label:ue,onClick:re,disabled:he,icon:l.jsx(iI,{}),tooltip:"Replace all chat history with this plan"}),ie.push({label:p?"Show Markdown":"Show Text",onClick:()=>f(!p),active:p,icon:l.jsx(dc,{})}),i&&o&&ie.push({label:"Close",onClick:o,icon:l.jsx(ir,{}),tooltip:"Close preview"});const bt=l.jsxs("div",{className:"plan-surface rounded-md p-3 shadow-md",children:[l.jsxs("div",{className:"plan-divider mb-3 flex items-center gap-2 border-b pb-2",children:[l.jsx(VJ,{"aria-hidden":"true",className:"h-4 w-4"}),l.jsx("div",{className:"text-plan-mode font-mono text-[13px] font-semibold",children:q}),i&&l.jsx("div",{className:"text-muted font-mono text-[10px] italic",children:"preview only"})]}),Z?l.jsx("div",{className:"text-error rounded-sm p-2 font-mono text-xs",children:Z}):p?l.jsxs("div",{className:"relative",children:[l.jsx("pre",{className:"text-text bg-code-bg m-0 rounded-sm p-2 pb-8 font-mono text-xs leading-relaxed break-words whitespace-pre-wrap",children:B}),l.jsx("div",{className:"absolute right-2 bottom-2",children:l.jsxs(tt,{type:"button",variant:"outline",size:"sm",className:"h-6 px-2 text-[11px] [&_svg]:size-3.5",onClick:()=>void De(B),children:[ve?l.jsx(Gp,{}):l.jsx(Vp,{}),ve?"Copied":"Copy to clipboard"]})})]}):l.jsx("div",{className:"plan-content",children:l.jsx(ti,{content:B})}),!i&&r==="completed"&&!Z&&l.jsxs("div",{className:"plan-divider text-muted mt-3 border-t pt-3 text-[11px] leading-normal italic",children:["Respond with revisions or switch to the Exec agent (",l.jsx("span",{className:"font-primary not-italic",children:Bt(st.CYCLE_AGENT)})," to cycle) and ask to implement."]}),l.jsxs("div",{className:"mt-3 flex items-center gap-0.5",children:[l.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-0.5",children:[ie.map((nt,ct)=>l.jsx(Od,{button:nt},ct)),C&&(Le??Ae)&&l.jsxs(l.Fragment,{children:[Le&&l.jsx(Od,{button:Le}),Ae&&l.jsx(Od,{button:Ae})]}),Ne&&l.jsx("div",{ref:$,children:l.jsx(Od,{button:Ne})})]}),!C&&(Le??Ae)&&l.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[Le&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsxs(tt,{type:"button",variant:"outline",size:"sm",className:"h-7 gap-1",onClick:Le.onClick,disabled:Le.disabled,children:[Le.icon,l.jsx("span",{className:"leading-none",children:Le.label})]})}),l.jsx(Ke,{align:"center",children:Le.tooltip??Le.label})]}),Ae&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsxs(tt,{type:"button",variant:"outline",size:"sm",className:"h-7 gap-1",onClick:Ae.onClick,disabled:Ae.disabled,children:[Ae.icon,l.jsx("span",{className:"leading-none",children:Ae.label})]})}),l.jsx(Ke,{align:"center",children:Ae.tooltip??Ae.label})]})]})]})]});return i?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:ce("px-4 py-2",d),children:bt}),l.jsx(Vc,{error:A.error,prefix:"Failed to open editor"})]}):l.jsxs(l.Fragment,{children:[l.jsxs(Lr,{expanded:m,children:[l.jsxs(Or,{onClick:h,children:[l.jsx(la,{expanded:m,children:""}),l.jsx(Co,{children:"propose_plan"}),l.jsx(Pr,{status:r,children:Qe})]}),m&&l.jsx(ca,{children:bt}),ke]}),l.jsx(Vc,{error:A.error,prefix:"Failed to open editor"})]})},iqe={completed:"color-mix(in srgb, var(--color-success), transparent 92%)",in_progress:"color-mix(in srgb, var(--color-info), transparent 92%)",pending:"color-mix(in srgb, var(--color-muted), transparent 96%)"},oqe={completed:"var(--color-success)",in_progress:"var(--color-info)",pending:"var(--color-dim)"},lqe={completed:"var(--color-muted)",in_progress:"var(--color-info)",pending:"var(--color-text)"};function QN(t,e){return Math.max(e,1-t*.15)}function cqe(t,e,n,r,a){if(t==="completed"){if(e!==void 0&&n!==void 0&&n>2&&e<n-2){const s=n-e;return QN(s,.35)}return .7}if(t==="pending"&&r!==void 0&&a!==void 0&&a>2&&r>1){const s=r-1;return QN(s,.5)}return 1}function uqe(t){switch(t){case"completed":return l.jsx(Hn,{"aria-hidden":"true",className:"h-3 w-3"});case"in_progress":return l.jsx(pn,{"aria-hidden":"true",className:"h-3 w-3 animate-spin"});case"pending":default:return l.jsx(Q_,{"aria-hidden":"true",className:"h-3 w-3"})}}const YK=({todos:t})=>{const e=t.filter(s=>s.status==="completed").length,n=t.filter(s=>s.status==="pending").length;let r=0,a=0;return l.jsx("div",{className:"flex flex-col gap-[3px] px-2 py-1.5",children:t.map((s,i)=>{const o=s.status==="completed"?r++:void 0,c=s.status==="pending"?a++:void 0,u=cqe(s.status,o,e,c,n);return l.jsxs("div",{className:"font-monospace flex items-start gap-1.5 rounded border-l-2 px-2 py-1 text-[11px] leading-[1.35]",style:{background:iqe[s.status],borderLeftColor:oqe[s.status],color:"var(--color-text)"},children:[l.jsx("div",{className:"mt-px shrink-0 text-xs opacity-80",children:uqe(s.status)}),l.jsx("div",{className:"min-w-0 flex-1",children:l.jsx("div",{title:s.content,className:ce("truncate",s.status==="completed"&&"line-through",s.status==="in_progress"&&"font-medium after:content-['...'] after:inline after:overflow-hidden after:animate-[ellipsis_1.5s_steps(4,end)_infinite]"),style:{color:lqe[s.status],opacity:u},children:s.content})})]},i)})})},dqe=t=>{const e=ae.c(19),{args:n,status:r}=t,a=r===void 0?"pending":r,{expanded:s,toggleExpanded:i}=ja(!1);let o;e[0]!==a?(o=Fr(a),e[0]=a,e[1]=o):o=e[1];const c=o;let u;e[2]!==s?(u=l.jsx(la,{expanded:s,children:""}),e[2]=s,e[3]=u):u=e[3];let d;e[4]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsx(_a,{toolName:"todo_write"}),e[4]=d):d=e[4];let m;e[5]!==a||e[6]!==c?(m=l.jsx(Pr,{status:a,children:c}),e[5]=a,e[6]=c,e[7]=m):m=e[7];let h;e[8]!==u||e[9]!==m||e[10]!==i?(h=l.jsxs(Or,{onClick:i,children:[u,d,m]}),e[8]=u,e[9]=m,e[10]=i,e[11]=h):h=e[11];let p;e[12]!==n||e[13]!==s?(p=s&&l.jsx(ca,{children:l.jsx(YK,{todos:n.todos})}),e[12]=n,e[13]=s,e[14]=p):p=e[14];let f;return e[15]!==s||e[16]!==h||e[17]!==p?(f=l.jsxs(Lr,{expanded:s,children:[h,p]}),e[15]=s,e[16]=h,e[17]=p,e[18]=f):f=e[18],f},mqe=t=>{const e=ae.c(16),{args:n,result:r,status:a}=t,s=a===void 0?"pending":a;let i;e[0]!==s?(i=Fr(s),e[0]=s,e[1]=i):i=e[1];const o=i,c=s==="failed"&&r&&typeof r=="object"&&"error"in r?String(r.error):void 0;let u;e[2]!==n.emoji?(u=l.jsx(_a,{toolName:"status_set",emoji:n.emoji}),e[2]=n.emoji,e[3]=u):u=e[3];let d;e[4]!==n.message?(d=l.jsx("span",{className:"text-muted-foreground italic",children:n.message}),e[4]=n.message,e[5]=d):d=e[5];let m;e[6]!==c?(m=c&&l.jsxs("span",{className:"text-error-foreground",children:["(",c,")"]}),e[6]=c,e[7]=m):m=e[7];let h;e[8]!==s||e[9]!==o?(h=l.jsx(Pr,{status:s,children:o}),e[8]=s,e[9]=o,e[10]=h):h=e[10];let p;return e[11]!==u||e[12]!==d||e[13]!==m||e[14]!==h?(p=l.jsx(Lr,{expanded:!1,children:l.jsxs(Or,{children:[u,d,m,h]})}),e[11]=u,e[12]=d,e[13]=m,e[14]=h,e[15]=p):p=e[15],p},hqe=t=>{const e=ae.c(17),{args:n,result:r,status:a}=t,s=a===void 0?"pending":a;let i;e[0]!==s?(i=Fr(s),e[0]=s,e[1]=i):i=e[1];const o=i,c=s==="failed"&&r&&typeof r=="object"&&"error"in r?String(r.error):void 0;let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx(_a,{toolName:"notify"}),e[2]=u):u=e[2];let d;e[3]!==n.title?(d=l.jsx("span",{className:"text-muted-foreground truncate italic",children:n.title}),e[3]=n.title,e[4]=d):d=e[4];let m;e[5]!==n.message?(m=n.message&&l.jsxs("span",{className:"text-muted-foreground/60 hidden truncate @[300px]:inline",children:[" ",n.message]}),e[5]=n.message,e[6]=m):m=e[6];let h;e[7]!==c?(h=c&&l.jsxs("span",{className:"text-error-foreground",children:["(",c,")"]}),e[7]=c,e[8]=h):h=e[8];let p;e[9]!==s||e[10]!==o?(p=l.jsx(Pr,{status:s,children:o}),e[9]=s,e[10]=o,e[11]=p):p=e[11];let f;return e[12]!==d||e[13]!==m||e[14]!==h||e[15]!==p?(f=l.jsx(Lr,{expanded:!1,children:l.jsxs(Or,{children:[u,d,m,h,p]})}),e[12]=d,e[13]=m,e[14]=h,e[15]=p,e[16]=f):f=e[16],f};function pqe(t){switch(t){case"running":return"bg-success text-on-success";case"exited":return"bg-[hsl(0,0%,40%)] text-white";case"killed":case"failed":return"bg-danger text-on-danger"}}const fqe=t=>{const e=ae.c(28),{result:n,status:r}=t,a=r===void 0?"pending":r,{expanded:s,toggleExpanded:i}=ja(!1);let o;e[0]!==n?(o=n?.success?n.processes:[],e[0]=n,e[1]=o):o=e[1];const c=o;let u;e[2]!==c?(u=c.filter(gqe),e[2]=c,e[3]=u):u=e[3];const d=u.length;let m;e[4]!==s?(m=l.jsx(la,{expanded:s,children:""}),e[4]=s,e[5]=m):m=e[5];let h;e[6]===Symbol.for("react.memo_cache_sentinel")?(h=l.jsx(_a,{toolName:"bash_background_list"}),e[6]=h):h=e[6];const p=n?.success?d===0?"No background processes":`${d} background process${d!==1?"es":""}`:"Listing background processes";let f;e[7]!==p?(f=l.jsx("span",{className:"text-text-secondary",children:p}),e[7]=p,e[8]=f):f=e[8];let g;e[9]!==a?(g=Fr(a),e[9]=a,e[10]=g):g=e[10];let x;e[11]!==a||e[12]!==g?(x=l.jsx(Pr,{status:a,children:g}),e[11]=a,e[12]=g,e[13]=x):x=e[13];let y;e[14]!==m||e[15]!==f||e[16]!==x||e[17]!==i?(y=l.jsxs(Or,{onClick:i,children:[m,h,f,x]}),e[14]=m,e[15]=f,e[16]=x,e[17]=i,e[18]=y):y=e[18];let w;e[19]!==s||e[20]!==c||e[21]!==n||e[22]!==a?(w=s&&l.jsxs(ca,{children:[n?.success===!1&&l.jsx(mn,{children:l.jsx(Ca,{children:n.error})}),n?.success&&c.length>0&&l.jsx(mn,{children:l.jsx("div",{className:"space-y-2",children:c.map(bqe)})}),a==="executing"&&!n&&l.jsx(mn,{children:l.jsxs("div",{className:"text-[11px]",children:["Listing processes",l.jsx(qa,{})]})})]}),e[19]=s,e[20]=c,e[21]=n,e[22]=a,e[23]=w):w=e[23];let v;return e[24]!==s||e[25]!==y||e[26]!==w?(v=l.jsxs(Lr,{expanded:s,children:[y,w]}),e[24]=s,e[25]=y,e[26]=w,e[27]=v):v=e[27],v};function gqe(t){return t.status==="running"}function bqe(t){return l.jsxs("div",{className:"bg-code-bg rounded px-2 py-1.5 text-[11px]",children:[l.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[l.jsx("span",{className:"text-text font-mono",children:t.display_name??t.process_id}),l.jsxs("span",{className:ce("inline-block rounded px-1.5 py-0.5 text-[9px] font-medium uppercase",pqe(t.status)),children:[t.status,t.exitCode!==void 0&&` (${t.exitCode})`]}),l.jsx("span",{className:"text-text-secondary ml-auto",children:v2(t.uptime_ms)})]}),l.jsx("div",{className:"text-text-secondary truncate font-mono",title:t.script,children:t.script})]},t.process_id)}const xqe=t=>{const e=ae.c(17),{args:n,result:r,status:a}=t,s=a===void 0?"pending":a;let i;e[0]!==s?(i=Fr(s),e[0]=s,e[1]=i):i=e[1];const o=i;let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx(_a,{toolName:"bash_background_terminate"}),e[2]=c):c=e[2];const u=r?.success===!0?r.display_name??n.process_id:n.process_id;let d;e[3]!==u?(d=l.jsx("span",{className:"text-text font-mono",children:u}),e[3]=u,e[4]=d):d=e[4];let m;e[5]!==r?.success?(m=r?.success===!0&&l.jsx("span",{className:"text-text-secondary text-[10px]",children:"terminated"}),e[5]=r?.success,e[6]=m):m=e[6];let h;e[7]!==r?(h=r?.success===!1&&l.jsx("span",{className:"text-danger text-[10px]",children:r.error}),e[7]=r,e[8]=h):h=e[8];let p;e[9]!==s||e[10]!==o?(p=l.jsx(Pr,{status:s,children:o}),e[9]=s,e[10]=o,e[11]=p):p=e[11];let f;return e[12]!==d||e[13]!==m||e[14]!==h||e[15]!==p?(f=l.jsx(Lr,{expanded:!1,children:l.jsxs(Or,{children:[c,d,m,h,p]})}),e[12]=d,e[13]=m,e[14]=h,e[15]=p,e[16]=f):f=e[16],f},yqe=t=>{const e=ae.c(39),{args:n,result:r,status:a,groupPosition:s}=t,i=a===void 0?"pending":a,{expanded:o,toggleExpanded:c}=ja(),u=r?.success?r.status:void 0,d=r?.success?r.note:void 0;let m;e[0]!==o?(m=l.jsx(la,{expanded:o,children:""}),e[0]=o,e[1]=m):m=e[1];let h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h=l.jsx(_a,{toolName:"bash_output"}),e[2]=h):h=e[2];let p;e[3]!==n.process_id?(p=l.jsx("span",{className:"text-text font-monospace max-w-96 truncate",children:n.process_id}),e[3]=n.process_id,e[4]=p):p=e[4];let f;e[5]===Symbol.for("react.memo_cache_sentinel")?(f=l.jsx(Rg,{size:10}),e[5]=f):f=e[5];const g=n.timeout_secs>0&&`  wait ${n.timeout_secs}s`,x=n.filter&&`  ${n.filter_exclude?"exclude":"filter"}: ${n.filter}`;let y;e[6]!==s?(y=s&&l.jsxs("span",{className:"text-muted ml-1 flex items-center gap-0.5",children:[" ",l.jsx(sI,{size:8})," ",s==="first"?"start":"end"]}),e[6]=s,e[7]=y):y=e[7];let w;e[8]!==g||e[9]!==x||e[10]!==y?(w=l.jsxs("span",{className:"text-muted ml-2 flex items-center gap-1 text-[10px] whitespace-nowrap",children:[f,"output",g,x,y]}),e[8]=g,e[9]=x,e[10]=y,e[11]=w):w=e[11];let v;e[12]!==r?(v=r?.success&&l.jsx(fHe,{hasOutput:!!r.output,className:"ml-2"}),e[12]=r,e[13]=v):v=e[13];let k;e[14]!==u||e[15]!==r?(k=r?.success&&u&&u!=="running"&&l.jsx(pHe,{status:u,exitCode:r.exitCode,className:"ml-2"}),e[14]=u,e[15]=r,e[16]=k):k=e[16];let C;e[17]!==i?(C=Fr(i),e[17]=i,e[18]=C):C=e[18];let _;e[19]!==i||e[20]!==C?(_=l.jsx(Pr,{status:i,children:C}),e[19]=i,e[20]=C,e[21]=_):_=e[21];let S;e[22]!==v||e[23]!==k||e[24]!==_||e[25]!==m||e[26]!==p||e[27]!==w||e[28]!==c?(S=l.jsxs(Or,{onClick:c,children:[m,h,p,w,v,k,_]}),e[22]=v,e[23]=k,e[24]=_,e[25]=m,e[26]=p,e[27]=w,e[28]=c,e[29]=S):S=e[29];let T;e[30]!==o||e[31]!==d||e[32]!==r||e[33]!==i?(T=o&&l.jsxs(ca,{children:[r&&l.jsxs(l.Fragment,{children:[r.success===!1&&l.jsxs(mn,{children:[l.jsx(Wn,{children:"Error"}),l.jsx(Ca,{children:r.error})]}),r.success&&l.jsx(gHe,{output:r.output,note:d,emptyMessage:"No new output"})]}),i==="executing"&&!r&&l.jsx(mn,{children:l.jsxs(yr,{className:"px-2 py-1.5",children:["Waiting for result",l.jsx(qa,{})]})})]}),e[30]=o,e[31]=d,e[32]=r,e[33]=i,e[34]=T):T=e[34];let N;return e[35]!==o||e[36]!==S||e[37]!==T?(N=l.jsxs(Lr,{expanded:o,children:[S,T]}),e[35]=o,e[36]=S,e[37]=T,e[38]=N):N=e[38],N},wqe=t=>{const e=ae.c(29),{args:n,result:r,status:a}=t,s=a===void 0?"pending":a,{expanded:i,toggleExpanded:o}=ja(!0),c=k2(r)?r:null,u=n.title??"Agent report";let d;if(e[0]!==n.reportMarkdown){const C=n.reportMarkdown.trim().split(`
`)[0]??"";d=C.length>80?C.slice(0,80).trim()+"":C,e[0]=n.reportMarkdown,e[1]=d}else d=e[1];const m=d;let h;e[2]!==i?(h=l.jsx(la,{expanded:i,children:""}),e[2]=i,e[3]=h):h=e[3];let p;e[4]===Symbol.for("react.memo_cache_sentinel")?(p=l.jsx(_a,{toolName:"agent_report"}),e[4]=p):p=e[4];let f;e[5]!==u?(f=l.jsx(Co,{children:u}),e[5]=u,e[6]=f):f=e[6];let g;e[7]!==s?(g=Fr(s),e[7]=s,e[8]=g):g=e[8];let x;e[9]!==s||e[10]!==g?(x=l.jsx(Pr,{status:s,children:g}),e[9]=s,e[10]=g,e[11]=x):x=e[11];let y;e[12]!==h||e[13]!==f||e[14]!==x||e[15]!==o?(y=l.jsxs(Or,{onClick:o,children:[h,p,f,x]}),e[12]=h,e[13]=f,e[14]=x,e[15]=o,e[16]=y):y=e[16];let w;e[17]!==n.reportMarkdown||e[18]!==c||e[19]!==i?(w=i&&l.jsxs(ca,{children:[l.jsx("div",{className:"text-[11px]",children:l.jsx(ti,{content:n.reportMarkdown})}),c&&l.jsx(Ca,{className:"mt-2",children:c.error})]}),e[17]=n.reportMarkdown,e[18]=c,e[19]=i,e[20]=w):w=e[20];let v;e[21]!==i||e[22]!==m?(v=!i&&m&&l.jsx("div",{className:"text-muted mt-1 truncate text-[10px]",children:m}),e[21]=i,e[22]=m,e[23]=v):v=e[23];let k;return e[24]!==i||e[25]!==v||e[26]!==y||e[27]!==w?(k=l.jsxs(Lr,{expanded:i,children:[y,w,v]}),e[24]=i,e[25]=v,e[26]=y,e[27]=w,e[28]=k):k=e[28],k},vqe={log:{color:"var(--color-muted-foreground)"},warn:{color:"var(--color-warning, #f59e0b)"},error:{color:"var(--color-error, #ef4444)"}},kqe=t=>{const e=ae.c(4),{output:n}=t;let r;e[0]!==n?(r=n.map(_qe),e[0]=n,e[1]=r):r=e[1];let a;return e[2]!==r?(a=l.jsx("div",{className:"space-y-0.5 font-mono text-[11px]",children:r}),e[2]=r,e[3]=a):a=e[3],a};function _qe(t,e){return l.jsxs("div",{className:"flex gap-2",style:vqe[t.level],children:[l.jsxs("span",{className:"opacity-60",children:["[",t.level,"]"]}),l.jsx("span",{children:t.args.map((n,r)=>{let a;return n===null?a="null":n===void 0?a="undefined":typeof n=="string"?a=n:typeof n=="number"||typeof n=="boolean"?a=String(n):a=JSON.stringify(n),l.jsxs("span",{children:[a,r<t.args.length-1?" ":""]},r)})})]},e)}const Cqe=t=>{const e=ae.c(9),{toolName:n,input:r,output:a,status:s}=t;let i;e[0]!==r||e[1]!==n?(i=JK(n,r),e[0]=r,e[1]=n,e[2]=i):i=e[2];const o=i;let c;return e[3]!==o||e[4]!==r||e[5]!==a||e[6]!==s||e[7]!==n?(c=l.jsx(o,{args:r,result:a,status:s,toolName:n}),e[3]=o,e[4]=r,e[5]=a,e[6]=s,e[7]=n,e[8]=c):c=e[8],c},Sqe=t=>{const e=ae.c(7),{calls:n,parentInterrupted:r}=t;if(n.length===0)return null;let a;if(e[0]!==n||e[1]!==r){let i;e[3]!==r?(i=o=>{const c=xHe(o.state,o.output,r??!1);return l.jsx(Cqe,{toolName:o.toolName,input:o.input,output:o.state==="output-available"?o.output:void 0,status:c},o.toolCallId)},e[3]=r,e[4]=i):i=e[4],a=n.map(i),e[0]=n,e[1]=r,e[2]=a}else a=e[2];let s;return e[5]!==a?(s=l.jsx("div",{className:"-mx-3 space-y-3",children:a}),e[5]=a,e[6]=s):s=e[6],s},Yv=t=>{const e=ae.c(15),{active:n,onClick:r,tooltip:a,children:s,variant:i}=t,o=i===void 0?"default":i,c=n&&"bg-foreground/10",u=o==="default"&&"text-muted hover:text-foreground",d=o==="success"&&"text-green-400 hover:text-green-300",m=o==="error"&&"text-red-400 hover:text-red-300",h=o==="warning"&&"text-yellow-400 hover:text-yellow-300";let p;e[0]!==c||e[1]!==u||e[2]!==d||e[3]!==m||e[4]!==h?(p=ce("flex h-5 w-5 items-center justify-center rounded-full p-0.5 transition-colors",c,u,d,m,h),e[0]=c,e[1]=u,e[2]=d,e[3]=m,e[4]=h,e[5]=p):p=e[5];let f;e[6]!==s||e[7]!==r||e[8]!==p?(f=l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",onClick:r,className:p,children:s})}),e[6]=s,e[7]=r,e[8]=p,e[9]=f):f=e[9];let g;e[10]!==a?(g=l.jsx(Ke,{side:"bottom",children:a}),e[10]=a,e[11]=g):g=e[11];let x;return e[12]!==f||e[13]!==g?(x=l.jsxs(Ye,{children:[f,g]}),e[12]=f,e[13]=g,e[14]=x):x=e[14],x},jqe=t=>{const e=ae.c(69),{args:n,result:r,status:a,nestedCalls:s}=t,i=a===void 0?"pending":a;let o;e[0]!==s?(o=s??[],e[0]=s,e[1]=o):o=e[1];const c=o;let u;e[2]!==r?.consoleOutput?(u=r?.consoleOutput??[],e[2]=r?.consoleOutput,e[3]=u):u=e[3];const d=u,m=c.length>0,h=i==="completed"||i==="failed",[p,f]=b.useState("tools"),x=h&&r&&!r.success?"result":"code";let y,w;e[4]!==m||e[5]!==h||e[6]!==x||e[7]!==p?(y=()=>{h&&!m&&p==="tools"&&f(x)},w=[h,m,p,x],e[4]=m,e[5]=h,e[6]=x,e[7]=p,e[8]=y,e[9]=w):(y=e[8],w=e[9]),b.useEffect(y,w);let v;e[10]!==m||e[11]!==h||e[12]!==x?(v=W=>{const K=m||!h?"tools":x;f(J=>J===W?K:W)},e[10]=m,e[11]=h,e[12]=x,e[13]=v):v=e[13];const k=v;let C;e:{if(!r?.success||r.result===void 0){C=null;break e}let W;e[14]!==r.result?(W=typeof r.result=="string"?r.result:JSON.stringify(r.result,null,2),e[14]=r.result,e[15]=W):W=e[15],C=W}const _=C,S=i==="interrupted",T=i==="backgrounded",N=S?"warning":T?"default":h?r?.success?"success":"error":"default";let j;e[16]===Symbol.for("react.memo_cache_sentinel")?(j=l.jsx("span",{className:"text-foreground text-xs font-medium",children:"Code Execution"}),e[16]=j):j=e[16];const R=p==="result";let I;e[17]!==k?(I=()=>k("result"),e[17]=k,e[18]=I):I=e[18];let A;e[19]!==T||e[20]!==h||e[21]!==S||e[22]!==r?.success?(A=S?l.jsx(Mr,{className:"h-3.5 w-3.5"}):T?l.jsx(zJ,{className:"h-3.5 w-3.5"}):h?r?.success?l.jsx(Y_,{className:"h-3.5 w-3.5"}):l.jsx(Wd,{className:"h-3.5 w-3.5"}):l.jsx("span",{className:"text-xs font-medium",children:"..."}),e[19]=T,e[20]=h,e[21]=S,e[22]=r?.success,e[23]=A):A=e[23];let $;e[24]!==N||e[25]!==I||e[26]!==A||e[27]!==R?($=l.jsx("div",{className:"mr-0.5",children:l.jsx(Yv,{active:R,onClick:I,tooltip:"Show Result",variant:N,children:A})}),e[24]=N,e[25]=I,e[26]=A,e[27]=R,e[28]=$):$=e[28];const E=p==="code";let M;e[29]!==k?(M=()=>k("code"),e[29]=k,e[30]=M):M=e[30];let F;e[31]===Symbol.for("react.memo_cache_sentinel")?(F=l.jsx(eee,{className:"h-3.5 w-3.5"}),e[31]=F):F=e[31];let L;e[32]!==E||e[33]!==M?(L=l.jsx(Yv,{active:E,onClick:M,tooltip:"Show Code",children:F}),e[32]=E,e[33]=M,e[34]=L):L=e[34];const Y=p==="console";let O;e[35]!==k?(O=()=>k("console"),e[35]=k,e[36]=O):O=e[36];let G;e[37]===Symbol.for("react.memo_cache_sentinel")?(G=l.jsx(r5,{className:"h-3.5 w-3.5"}),e[37]=G):G=e[37];let H;e[38]!==Y||e[39]!==O?(H=l.jsx(Yv,{active:Y,onClick:O,tooltip:"Show Console",children:G}),e[38]=Y,e[39]=O,e[40]=H):H=e[40];let D;e[41]!==$||e[42]!==L||e[43]!==H?(D=l.jsxs("legend",{className:"flex items-center gap-1.5 px-1.5",children:[j,l.jsxs("div",{className:"flex items-center",children:[$,L,H]})]}),e[41]=$,e[42]=L,e[43]=H,e[44]=D):D=e[44];let U;e[45]!==m||e[46]!==S||e[47]!==c||e[48]!==p?(U=p==="tools"&&m&&l.jsx(Sqe,{calls:c,parentInterrupted:S}),e[45]=m,e[46]=S,e[47]=c,e[48]=p,e[49]=U):U=e[49];let B;e[50]!==n||e[51]!==p?(B=p==="code"&&l.jsx("div",{className:"border-foreground/10 bg-code-bg rounded border p-2",children:l.jsx(qK,{language:"javascript",code:n.code.trim()})}),e[50]=n,e[51]=p,e[52]=B):B=e[52];let q;e[53]!==d||e[54]!==p?(q=p==="console"&&l.jsx("div",{className:"border-foreground/10 bg-code-bg rounded border p-2",children:d.length>0?l.jsx(kqe,{output:d}):l.jsx("span",{className:"text-muted text-xs italic",children:"No console output"})}),e[53]=d,e[54]=p,e[55]=q):q=e[55];let V;e[56]!==_||e[57]!==T||e[58]!==h||e[59]!==S||e[60]!==r||e[61]!==p?(V=p==="result"&&(h&&r?r.success?_?l.jsx(yr,{className:"p-2",children:_}):l.jsx("div",{className:"text-muted text-xs italic",children:"(no return value)"}):l.jsx(yr,{className:"border border-red-500/30 bg-red-500/10 p-2 text-red-400",children:r.error}):S?l.jsx("div",{className:"text-xs text-yellow-400 italic",children:"Execution interrupted"}):T?l.jsx("div",{className:"text-muted text-xs italic",children:"Execution backgrounded"}):l.jsx("div",{className:"text-muted text-xs italic",children:"Execution in progress..."})),e[56]=_,e[57]=T,e[58]=h,e[59]=S,e[60]=r,e[61]=p,e[62]=V):V=e[62];let Z;return e[63]!==D||e[64]!==U||e[65]!==B||e[66]!==q||e[67]!==V?(Z=l.jsxs("fieldset",{className:"border-foreground/20 mt-3 flex flex-col gap-1.5 rounded-lg border border-dashed px-3 pt-1 pb-2",children:[D,U,B,q,V]}),e[63]=D,e[64]=U,e[65]=B,e[66]=q,e[67]=V,e[68]=Z):Z=e[68],Z},Tqe=t=>{const e=ae.c(20),[n,r]=b.useState(),[a,s]=b.useState();let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx("span",{children:"Transcript"}),e[0]=i):i=e[0];let o;e[1]!==t.taskId?(o=l.jsxs("div",{className:"flex items-center gap-2",children:[i,l.jsx("code",{className:"rounded bg-[var(--color-bg-tertiary)] px-1.5 py-0.5 font-mono text-[10px]",children:t.taskId})]}),e[1]=t.taskId,e[2]=o):o=e[2];let c;e[3]!==n||e[4]!==a?(c=(n!==void 0||a!==void 0)&&l.jsxs("div",{className:"text-muted flex flex-wrap items-baseline gap-2 text-[11px] font-normal",children:[n&&l.jsx(M5,{modelString:n}),a&&l.jsxs("span",{className:"inline-flex items-center rounded bg-[var(--color-bg-tertiary)] px-1.5 py-0.5 font-mono text-[10px] leading-none",children:["thinking: ",a]})]}),e[3]=n,e[4]=a,e[5]=c):c=e[5];let u;e[6]!==o||e[7]!==c?(u=l.jsx(Sa,{children:l.jsxs(oa,{className:"flex flex-col gap-1",children:[o,c]})}),e[6]=o,e[7]=c,e[8]=u):u=e[8];let d;e[9]!==t.open||e[10]!==t.taskId||e[11]!==t.workspaceId?(d=l.jsx(Eqe,{open:t.open,workspaceId:t.workspaceId,taskId:t.taskId,setModel:r,setThinkingLevel:s}),e[9]=t.open,e[10]=t.taskId,e[11]=t.workspaceId,e[12]=d):d=e[12];let m;e[13]!==u||e[14]!==d?(m=l.jsxs(ia,{className:"flex max-h-[80vh] min-h-0 max-w-5xl flex-col overflow-hidden",children:[u,d]}),e[13]=u,e[14]=d,e[15]=m):m=e[15];let h;return e[16]!==t.onOpenChange||e[17]!==t.open||e[18]!==m?(h=l.jsx(sa,{open:t.open,onOpenChange:t.onOpenChange,children:m}),e[16]=t.onOpenChange,e[17]=t.open,e[18]=m,e[19]=h):h=e[19],h},Eqe=t=>{const{api:e}=Kt(),n=t.open,r=t.workspaceId,a=t.taskId,s=t.setModel,i=t.setThinkingLevel,[o,c]=b.useState(!1),[u,d]=b.useState(null),[m,h]=b.useState(null);b.useEffect(()=>{if(!n)return;if(c(!0),d(null),h(null),s?.(void 0),i?.(void 0),!e){c(!1),d("API unavailable");return}let f=!1;return(async()=>{try{const x=await e.workspace.getSubagentTranscript({taskId:a,workspaceId:r});if(f)return;h(x.messages),s?.(x.model),i?.(x.thinkingLevel),c(!1)}catch(x){if(f)return;c(!1),d(x instanceof Error?x.message:String(x))}})(),()=>{f=!0}},[e,n,a,r,s,i]);const p=b.useMemo(()=>{if(!m)return null;const f=new pQ(new Date().toISOString());f.setShowAllMessages(!0);for(const g of m){const x={...g,type:"message"};f.handleMessage(x)}return f.getDisplayedMessages()},[m]);return l.jsxs("div",{className:"flex min-h-0 flex-1 flex-col gap-2 overflow-hidden",children:[u&&l.jsx(Ca,{children:u}),l.jsx("div",{className:"min-h-0 flex-1 overflow-y-auto rounded bg-[var(--color-bg-secondary)] p-3",children:o?l.jsxs("div",{className:"text-muted text-[11px] italic",children:["Loading transcript",l.jsx(qa,{})]}):p?p.length>0?l.jsx("div",{className:"flex flex-col gap-2",children:p.map(f=>l.jsx(KS,{message:f,workspaceId:r},f.id))}):l.jsx("div",{className:"text-muted text-[11px] italic",children:"Transcript is empty"}):u?null:l.jsx("div",{className:"text-muted text-[11px] italic",children:"No transcript loaded"})})]})},_2=t=>{const e=ae.c(13),{className:n,toolName:r}=t;let a;e[0]!==n?(a=ce("h-3.5 w-3.5 text-task-mode",n),e[0]=n,e[1]=a):a=e[1];let s,i,o,c;e[2]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx("path",{d:"M4 2v5"}),i=l.jsx("path",{d:"M4 7c0 2 2 3 4 3h4"}),o=l.jsx("path",{d:"M10 8l2 2-2 2"}),c=l.jsx("circle",{cx:"4",cy:"2",r:"1.5",fill:"currentColor",stroke:"none"}),e[2]=s,e[3]=i,e[4]=o,e[5]=c):(s=e[2],i=e[3],o=e[4],c=e[5]);let u;e[6]!==a?(u=l.jsx(Xe,{asChild:!0,children:l.jsxs("svg",{viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[s,i,o,c]})}),e[6]=a,e[7]=u):u=e[7];let d;e[8]!==r?(d=l.jsx(Ke,{children:r}),e[8]=r,e[9]=d):d=e[9];let m;return e[10]!==u||e[11]!==d?(m=l.jsxs(Ye,{children:[u,d]}),e[10]=u,e[11]=d,e[12]=m):m=e[12],m},C2=t=>{const e=ae.c(8),{status:n,className:r}=t;let a;e[0]!==n?(a=()=>{switch(n){case"completed":case"reported":return"bg-success/20 text-success";case"running":case"awaiting_report":return"bg-pending/20 text-pending";case"queued":return"bg-muted/20 text-muted";case"terminated":return"bg-interrupted/20 text-interrupted";case"not_found":case"invalid_scope":case"error":return"bg-danger/20 text-danger";default:return"bg-muted/20 text-muted"}},e[0]=n,e[1]=a):a=e[1];const s=a;let i;e[2]!==r||e[3]!==s?(i=ce("inline-block shrink-0 rounded px-1.5 py-0.5 text-[10px] font-medium whitespace-nowrap",s(),r),e[2]=r,e[3]=s,e[4]=i):i=e[4];let o;return e[5]!==n||e[6]!==i?(o=l.jsx("span",{className:i,children:n}),e[5]=n,e[6]=i,e[7]=o):o=e[7],o},XK=t=>{const e=ae.c(8),{type:n,className:r}=t;let a;e[0]!==n?(a=()=>{switch(n){case"explore":return"border-plan-mode/50 text-plan-mode";case"exec":return"border-exec-mode/50 text-exec-mode";default:return"border-muted/50 text-muted"}},e[0]=n,e[1]=a):a=e[1];const s=a;let i;e[2]!==r||e[3]!==s?(i=ce("inline-block shrink-0 rounded border px-1.5 py-0.5 text-[10px] font-medium whitespace-nowrap",s(),r),e[2]=r,e[3]=s,e[4]=i):i=e[4];let o;return e[5]!==i||e[6]!==n?(o=l.jsx("span",{className:i,children:n}),e[5]=i,e[6]=n,e[7]=o):o=e[7],o},S2=t=>{const e=ae.c(19),{id:n,className:r}=t,a=Fu(),{copied:s,copyToClipboard:i}=go();let o;e[0]!==n||e[1]!==a?.workspaceMetadata?(o=a?.workspaceMetadata.get(n),e[0]=n,e[1]=a?.workspaceMetadata,e[2]=o):o=e[2];const c=o,u=!!(c&&a);let d;e[3]!==r?(d=ce("font-mono text-[10px] text-muted opacity-70 hover:opacity-100 hover:underline underline-offset-2",r),e[3]=r,e[4]=d):d=e[4];let m;e[5]!==i||e[6]!==n||e[7]!==c||e[8]!==a?(m=()=>{if(c&&a){a.setSelectedWorkspace(vd(c));return}i(n)},e[5]=i,e[6]=n,e[7]=c,e[8]=a,e[9]=m):m=e[9];let h;e[10]!==n||e[11]!==d||e[12]!==m?(h=l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",className:d,onClick:m,children:n})}),e[10]=n,e[11]=d,e[12]=m,e[13]=h):h=e[13];const p=u?"Open workspace":s?"Copied":"Copy task ID";let f;e[14]!==p?(f=l.jsx(Ke,{children:p}),e[14]=p,e[15]=f):f=e[15];let g;return e[16]!==h||e[17]!==f?(g=l.jsxs(Ye,{children:[h,f]}),e[16]=h,e[17]=f,e[18]=g):g=e[18],g},ZK=t=>{const e=ae.c(19);let n;e[0]!==t.className?(n=ce("bg-code-bg flex flex-wrap items-center gap-2 rounded-sm p-2",t.className),e[0]=t.className,e[1]=n):n=e[1];let r;e[2]!==t.taskId?(r=l.jsx(S2,{id:t.taskId}),e[2]=t.taskId,e[3]=r):r=e[3];let a;e[4]!==t.status?(a=l.jsx(C2,{status:t.status}),e[4]=t.status,e[5]=a):a=e[5];let s;e[6]!==t.agentType?(s=t.agentType&&l.jsx(XK,{type:t.agentType}),e[6]=t.agentType,e[7]=s):s=e[7];let i;e[8]!==t.title?(i=t.title&&l.jsx("span",{className:"text-foreground max-w-[200px] truncate text-[11px]",children:t.title}),e[8]=t.title,e[9]=i):i=e[9];let o;e[10]!==t.depth?(o=typeof t.depth=="number"&&t.depth>0&&l.jsxs("span",{className:"text-muted text-[10px]",children:["depth: ",t.depth]}),e[10]=t.depth,e[11]=o):o=e[11];let c;return e[12]!==n||e[13]!==r||e[14]!==a||e[15]!==s||e[16]!==i||e[17]!==o?(c=l.jsxs("div",{className:n,children:[r,a,s,i,o]}),e[12]=n,e[13]=r,e[14]=a,e[15]=s,e[16]=i,e[17]=o,e[18]=c):c=e[18],c},Nqe=50;function $qe(t,e,n){if(t===e)return 0;const r=new Set;let a=0,s=e;for(;a<Nqe;){if(!s||r.has(s))return;r.add(s);const o=n.get(s)?.parentWorkspaceId;if(typeof o!="string"||o.trim().length===0)return;if(a+=1,o===t)return a;s=o}}function Aqe(t){switch(t){case"running":return"running";case"exited":return"completed";case"killed":return"terminated";case"failed":return"error";default:return String(t)}}function Iqe(t){const e="bash:";if(!t.startsWith(e))return null;const n=t.slice(e.length).trim();return n.length>0?n:null}const Rqe=t=>{const e=ae.c(59),{workspaceId:n,args:r,result:a,status:s,taskReportLinking:i,toolCallId:o}=t,c=s===void 0?"pending":s,u=k2(a)?a:null,d=a&&typeof a=="object"&&"status"in a?a:null,m=fQ(n,o),h=d?.taskId??m??void 0,p=d?.status;let f;e[0]!==h||e[1]!==i?.reportByTaskId?(f=typeof h=="string"?i?.reportByTaskId.get(h):void 0,e[0]=h,e[1]=i?.reportByTaskId,e[2]=f):f=e[2];const g=f,x=!!g,y=d?.status==="completed"?d.reportMarkdown:void 0,w=d?.status==="completed"?d.title:void 0;let v;e[3]!==g?.reportMarkdown||e[4]!==y?(v=typeof y=="string"&&y.trim().length>0?y:g?.reportMarkdown,e[3]=g?.reportMarkdown,e[4]=y,e[5]=v):v=e[5];const k=v,C=w??g?.title,_=x?"completed":p,S=x?"completed":c==="completed"&&d&&(d.status==="queued"||d.status==="running")?"backgrounded":c;let T;e[6]!==k?(T=typeof k=="string"&&k.trim().length>0,e[6]=k,e[7]=T):T=e[7];const N=T,j=!!u,[R,I]=b.useState(null),A=R??j;let $;e[8]!==A?($=()=>I(!A),e[8]=A,e[9]=$):$=e[9];const E=$,M=r.run_in_background,F=r.title??"Task",L=r.prompt??"",Y=r.agentId??r.subagent_type??"unknown";let O;e[10]!==Y?(O=l.jsx(XK,{type:Y}),e[10]=Y,e[11]=O):O=e[11];const G=O,H=_==="completed"&&typeof h=="string",[D,U]=b.useState(!1);let B;e[12]!==L?(B=L.length>60?L.slice(0,60).trim()+"":L.split(`
`)[0],e[12]=L,e[13]=B):B=e[13];const q=B;let V;e[14]!==A?(V=l.jsx(la,{expanded:A,children:""}),e[14]=A,e[15]=V):V=e[15];let Z,W;e[16]===Symbol.for("react.memo_cache_sentinel")?(W=l.jsx(_2,{toolName:"task"}),Z=l.jsx(Co,{children:"task"}),e[16]=Z,e[17]=W):(Z=e[16],W=e[17]);let K;e[18]!==M?(K=M&&l.jsx("span",{className:"text-backgrounded text-[10px] font-medium",children:"background"}),e[18]=M,e[19]=K):K=e[19];let J;e[20]!==S?(J=Fr(S),e[20]=S,e[21]=J):J=e[21];let ee;e[22]!==S||e[23]!==J?(ee=l.jsx(Pr,{status:S,children:J}),e[22]=S,e[23]=J,e[24]=ee):ee=e[24];let se;e[25]!==G||e[26]!==K||e[27]!==ee||e[28]!==V||e[29]!==E?(se=l.jsxs(Or,{onClick:E,children:[V,W,Z,G,K,ee]}),e[25]=G,e[26]=K,e[27]=ee,e[28]=V,e[29]=E,e[30]=se):se=e[30];let re;e[31]!==H||e[32]!==h||e[33]!==D||e[34]!==n?(re=H&&h&&l.jsx(Tqe,{open:D,onOpenChange:U,workspaceId:n,taskId:h}),e[31]=H,e[32]=h,e[33]=D,e[34]=n,e[35]=re):re=e[35];let ue;e[36]!==H||e[37]!==_||e[38]!==S||e[39]!==u||e[40]!==A||e[41]!==x||e[42]!==N||e[43]!==M||e[44]!==L||e[45]!==k||e[46]!==C||e[47]!==h||e[48]!==F?(ue=A&&l.jsx(ca,{children:l.jsxs("div",{className:"task-surface mt-1 rounded-md p-3",children:[l.jsxs("div",{className:"task-divider mb-2 flex flex-wrap items-center gap-2 border-b pb-2",children:[l.jsx("span",{className:"text-task-mode text-[12px] font-semibold",children:C??F}),h&&l.jsx(S2,{id:h}),_&&l.jsx(C2,{status:_}),H&&l.jsx("button",{type:"button",className:"text-link text-[10px] font-medium underline-offset-2 hover:underline",onClick:()=>{U(!0)},children:"View transcript"})]}),l.jsxs("div",{className:"mb-2",children:[l.jsx("div",{className:"text-muted mb-1 text-[10px] tracking-wide uppercase",children:"Prompt"}),l.jsx("div",{className:"text-foreground bg-code-bg max-h-[140px] overflow-y-auto rounded-sm p-2 text-[11px] break-words whitespace-pre-wrap",children:L})]}),N&&k&&l.jsxs("div",{className:"task-divider border-t pt-2",children:[l.jsx("div",{className:"text-muted mb-1 text-[10px] tracking-wide uppercase",children:"Report"}),l.jsx("div",{className:ce("text-[11px]",x&&"bg-code-bg rounded-sm p-2"),children:l.jsx(ti,{content:k})})]}),S==="executing"&&!N&&l.jsxs("div",{className:"text-muted text-[11px] italic",children:["Task ",M?"running in background":"executing",l.jsx(qa,{})]}),u&&l.jsx(Ca,{className:"mt-2",children:u.error})]})}),e[36]=H,e[37]=_,e[38]=S,e[39]=u,e[40]=A,e[41]=x,e[42]=N,e[43]=M,e[44]=L,e[45]=k,e[46]=C,e[47]=h,e[48]=F,e[49]=ue):ue=e[49];let he;e[50]!==A||e[51]!==q?(he=!A&&l.jsx("div",{className:"text-muted mt-1 truncate text-[10px]",children:q}),e[50]=A,e[51]=q,e[52]=he):he=e[52];let ke;return e[53]!==A||e[54]!==se||e[55]!==re||e[56]!==ue||e[57]!==he?(ke=l.jsxs(Lr,{expanded:A,children:[se,re,ue,he]}),e[53]=A,e[54]=se,e[55]=re,e[56]=ue,e[57]=he,e[58]=ke):ke=e[58],ke},Mqe=t=>{const e=ae.c(53),{args:n,result:r,status:a,taskReportLinking:s}=t,i=a===void 0?"pending":a,o=n.task_ids,c=n.timeout_secs;let u;e[0]!==r?.results?(u=r?.results??[],e[0]=r?.results,e[1]=u):u=e[1];const d=u,m=s?.suppressReportInAwaitTaskIds,h=o!=null||c!=null||n.filter!=null||n.filter_exclude===!0;let p;e[2]!==d?(p=d.filter(Fqe),e[2]=d,e[3]=p):p=e[3];const f=p.length,g=d.length;let x;e[4]!==d?(x=d.filter(Bqe),e[4]=d,e[5]=x):x=e[5];const y=x.length,v=Fu()?.workspaceMetadata,C=OC()?.workspaceId,_=DA(C);let S;if(e[6]!==_||e[7]!==d.length||e[8]!==i||e[9]!==o||e[10]!==C||e[11]!==v){if(S=[],i==="executing"&&d.length===0&&Array.isArray(o))for(const V of o){const Z=Iqe(V);if(Z){const ee=_.find(se=>se.id===Z);S.push({taskId:V,status:ee?Aqe(ee.status):"waiting",title:ee?.displayName??ee?.id,depth:1});continue}const W=v?.get(V);if(!W){S.push({taskId:V,status:"waiting"});continue}const K=(W.agentId??W.agentType)?.trim(),J=W.title?.trim().length?W.title:W.name;S.push({taskId:V,status:W.taskStatus??"waiting",agentType:K&&K.length>0?K:void 0,title:J,depth:C&&v?$qe(C,V,v):void 0})}e[6]=_,e[7]=d.length,e[8]=i,e[9]=o,e[10]=C,e[11]=v,e[12]=S}else S=e[12];let T;e[13]!==v?(T=function(Z){const W=v?.get(Z),K=W?.title?.trim();if(K&&K.length>0)return K;const J=W?.name?.trim();return J&&J.length>0?J:void 0},e[13]=v,e[14]=T):T=e[14];const N=T,j=y>0,[R,I]=b.useState(null),A=R??j;let $;e[15]!==A?($=()=>I(!A),e[15]=A,e[16]=$):$=e[16];const E=$,M=i==="completed"&&y>0?"failed":i;let F;e[17]!==A?(F=l.jsx(la,{expanded:A,children:""}),e[17]=A,e[18]=F):F=e[18];let L,Y;e[19]===Symbol.for("react.memo_cache_sentinel")?(L=l.jsx(_2,{toolName:"task_await"}),Y=l.jsx(Co,{children:"task_await"}),e[19]=L,e[20]=Y):(L=e[19],Y=e[20]);let O;e[21]!==f||e[22]!==g?(O=g>0&&l.jsxs("span",{className:"text-muted text-[10px]",children:[f,"/",g," completed"]}),e[21]=f,e[22]=g,e[23]=O):O=e[23];let G;e[24]!==y?(G=y>0&&l.jsxs("span",{className:"text-danger text-[10px]",children:[y," failed"]}),e[24]=y,e[25]=G):G=e[25];let H;e[26]!==M?(H=Fr(M),e[26]=M,e[27]=H):H=e[27];let D;e[28]!==M||e[29]!==H?(D=l.jsx(Pr,{status:M,children:H}),e[28]=M,e[29]=H,e[30]=D):D=e[30];let U;e[31]!==O||e[32]!==G||e[33]!==D||e[34]!==F||e[35]!==E?(U=l.jsxs(Or,{onClick:E,children:[F,L,Y,O,G,D]}),e[31]=O,e[32]=G,e[33]=D,e[34]=F,e[35]=E,e[36]=U):U=e[36];let B;e[37]!==n||e[38]!==S||e[39]!==A||e[40]!==N||e[41]!==d||e[42]!==h||e[43]!==i||e[44]!==m||e[45]!==o||e[46]!==s?.spawnTitleByTaskId||e[47]!==c?(B=A&&l.jsx(ca,{children:l.jsxs("div",{className:"task-surface mt-1 rounded-md p-3",children:[h&&l.jsxs("div",{className:"task-divider text-muted mb-2 flex flex-wrap gap-2 border-b pb-2 text-[10px]",children:[o!=null&&l.jsxs("span",{children:["Waiting for: ",o.length," task(s)"]}),c!=null&&l.jsxs("span",{children:["Timeout: ",c,"s"]}),n.filter!=null&&l.jsxs("span",{children:["Filter: ",n.filter]}),n.filter_exclude===!0&&l.jsx("span",{children:"Exclude: true"})]}),d.length>0?l.jsx("div",{className:"space-y-3",children:d.map((V,Z)=>{const W=typeof V.taskId=="string"?V.taskId:null,K=W?s?.spawnTitleByTaskId.get(W):void 0,J=(K&&K.trim().length>0?K.trim():void 0)??(W?N(W):void 0);return l.jsx(Dqe,{result:V,fallbackTitle:J,suppressReport:W?m?.has(W):!1},W??Z)})}):i==="executing"?l.jsxs("div",{className:"space-y-2",children:[S.map(zqe),l.jsxs("div",{className:"text-muted text-[11px] italic",children:["Waiting for tasks to complete",l.jsx(qa,{})]})]}):l.jsx("div",{className:"text-muted text-[11px] italic",children:"No tasks specified"})]})}),e[37]=n,e[38]=S,e[39]=A,e[40]=N,e[41]=d,e[42]=h,e[43]=i,e[44]=m,e[45]=o,e[46]=s?.spawnTitleByTaskId,e[47]=c,e[48]=B):B=e[48];let q;return e[49]!==A||e[50]!==U||e[51]!==B?(q=l.jsxs(Lr,{expanded:A,children:[U,B]}),e[49]=A,e[50]=U,e[51]=B,e[52]=q):q=e[52],q},Dqe=t=>{const e=ae.c(47),{result:n,fallbackTitle:r,suppressReport:a}=t,s=n.status==="completed",i=s?n.reportMarkdown:void 0,o=s?n.title:void 0;let c;e[0]!==o?(c=typeof o=="string"&&o.trim().length>0?o.trim():void 0,e[0]=o,e[1]=c):c=e[1];const u=c;let d;e[2]!==r||e[3]!==u?(d=u??(r&&r.trim().length>0?r.trim():void 0),e[2]=r,e[3]=u,e[4]=d):d=e[4];const m=d,h="output"in n?n.output:void 0,p="note"in n?n.note:void 0,f="exitCode"in n?n.exitCode:void 0,g=n.status==="completed"?n.artifacts?.gitFormatPatch:void 0;let x;e:{if(!g){x=null;break e}switch(g.status){case"pending":{x="Patch: pending";break e}case"skipped":{x="Patch: skipped (no commits)";break e}case"ready":{const L=g.commitCount??0;x=`Patch: ready (${L} ${L===1?"commit":"commits"})`;break e}case"failed":{let L;if(e[5]!==g.error){const O=g.error?.trim();L=O&&O.length>80?`${O.slice(0,77)}`:O??void 0,e[5]=g.error,e[6]=L}else L=e[6];const Y=L;x=Y?`Patch: failed (${Y})`:"Patch: failed";break e}default:x=`Patch: ${String(g.status)}`}}const y=x,w="elapsed_ms"in n?n.elapsed_ms:void 0,v=a!==!0,k=v&&"mb-1";let C;e[7]!==k?(C=ce("flex flex-wrap items-center gap-2",k),e[7]=k,e[8]=C):C=e[8];let _;e[9]!==n.taskId?(_=l.jsx(S2,{id:n.taskId}),e[9]=n.taskId,e[10]=_):_=e[10];let S;e[11]!==n.status?(S=l.jsx(C2,{status:n.status}),e[11]=n.status,e[12]=S):S=e[12];let T;e[13]!==m?(T=m&&l.jsx("span",{className:"text-foreground text-[11px] font-medium",children:m}),e[13]=m,e[14]=T):T=e[14];let N;e[15]!==f?(N=f!==void 0&&l.jsxs("span",{className:"text-muted text-[10px]",children:["exit ",f]}),e[15]=f,e[16]=N):N=e[16];let j;e[17]!==w?(j=w!==void 0&&l.jsxs("span",{className:"text-muted text-[10px]",children:[w,"ms"]}),e[17]=w,e[18]=j):j=e[18];let R;e[19]!==p?(R=p&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button","aria-label":"View notice",className:"text-muted hover:text-secondary translate-y-[-1px] rounded p-0.5 transition-colors",children:l.jsx(Mf,{size:12})})}),l.jsx(Ke,{children:l.jsx("div",{className:"max-w-xs break-words whitespace-pre-wrap",children:p})})]}),e[19]=p,e[20]=R):R=e[20];let I;e[21]!==j||e[22]!==R||e[23]!==C||e[24]!==_||e[25]!==S||e[26]!==T||e[27]!==N?(I=l.jsxs("div",{className:C,children:[_,S,T,N,j,R]}),e[21]=j,e[22]=R,e[23]=C,e[24]=_,e[25]=S,e[26]=T,e[27]=N,e[28]=I):I=e[28];let A;e[29]!==y||e[30]!==v?(A=v&&y&&l.jsx("div",{className:"text-muted text-[10px]",children:y}),e[29]=y,e[30]=v,e[31]=A):A=e[31];let $;e[32]!==s||e[33]!==h||e[34]!==v?($=v&&!s&&h&&h.length>0&&l.jsx("div",{className:"text-foreground bg-code-bg max-h-[140px] overflow-y-auto rounded-sm p-2 text-[11px] break-words whitespace-pre-wrap",children:h}),e[32]=s,e[33]=h,e[34]=v,e[35]=$):$=e[35];let E;e[36]!==i||e[37]!==v?(E=v&&i&&l.jsx("div",{className:"mt-2 text-[11px]",children:l.jsx(ti,{content:i})}),e[36]=i,e[37]=v,e[38]=E):E=e[38];let M;e[39]!==n?(M="error"in n&&n.error&&l.jsx("div",{className:"text-danger mt-1 text-[11px]",children:n.error}),e[39]=n,e[40]=M):M=e[40];let F;return e[41]!==I||e[42]!==A||e[43]!==$||e[44]!==E||e[45]!==M?(F=l.jsxs("div",{className:"bg-code-bg rounded-sm p-2",children:[I,A,$,E,M]}),e[41]=I,e[42]=A,e[43]=$,e[44]=E,e[45]=M,e[46]=F):F=e[46],F},Lqe=t=>{const e=ae.c(27),{args:n,result:r,status:a}=t,s=a===void 0?"pending":a;let i;e[0]!==r?.tasks?(i=r?.tasks??[],e[0]=r?.tasks,e[1]=i):i=e[1];const o=i,{expanded:c,toggleExpanded:u}=ja(!1),d=n.statuses;let m;e[2]!==c?(m=l.jsx(la,{expanded:c,children:""}),e[2]=c,e[3]=m):m=e[3];let h,p;e[4]===Symbol.for("react.memo_cache_sentinel")?(h=l.jsx(_2,{toolName:"task_list"}),p=l.jsx(Co,{children:"task_list"}),e[4]=h,e[5]=p):(h=e[4],p=e[5]);let f;e[6]!==o.length?(f=l.jsxs("span",{className:"text-muted text-[10px]",children:[o.length," task(s)"]}),e[6]=o.length,e[7]=f):f=e[7];let g;e[8]!==s?(g=Fr(s),e[8]=s,e[9]=g):g=e[9];let x;e[10]!==s||e[11]!==g?(x=l.jsx(Pr,{status:s,children:g}),e[10]=s,e[11]=g,e[12]=x):x=e[12];let y;e[13]!==m||e[14]!==f||e[15]!==x||e[16]!==u?(y=l.jsxs(Or,{onClick:u,children:[m,h,p,f,x]}),e[13]=m,e[14]=f,e[15]=x,e[16]=u,e[17]=y):y=e[17];let w;e[18]!==c||e[19]!==s||e[20]!==d||e[21]!==o?(w=c&&l.jsx(ca,{children:l.jsxs("div",{className:"task-surface mt-1 rounded-md p-3",children:[d&&d.length>0&&l.jsxs("div",{className:"task-divider text-muted mb-2 border-b pb-2 text-[10px]",children:["Filter: ",d.join(", ")]}),o.length>0?l.jsx("div",{className:"space-y-2",children:o.map(Hqe)}):s==="executing"?l.jsxs("div",{className:"text-muted text-[11px] italic",children:["Fetching tasks",l.jsx(qa,{})]}):l.jsx("div",{className:"text-muted text-[11px] italic",children:"No tasks found"})]})}),e[18]=c,e[19]=s,e[20]=d,e[21]=o,e[22]=w):w=e[22];let v;return e[23]!==c||e[24]!==w||e[25]!==y?(v=l.jsxs(Lr,{expanded:c,children:[y,w]}),e[23]=c,e[24]=w,e[25]=y,e[26]=v):v=e[26],v},Oqe=t=>{const e=ae.c(6),{task:n}=t;let r;return e[0]!==n.agentType||e[1]!==n.depth||e[2]!==n.status||e[3]!==n.taskId||e[4]!==n.title?(r=l.jsx(ZK,{taskId:n.taskId,status:n.status,agentType:n.agentType,title:n.title,depth:n.depth}),e[0]=n.agentType,e[1]=n.depth,e[2]=n.status,e[3]=n.taskId,e[4]=n.title,e[5]=r):r=e[5],r},Pqe=t=>{const e=ae.c(29),{args:n,result:r,status:a}=t,s=a===void 0?"pending":a,{expanded:i,toggleExpanded:o}=ja(!1),c=n.task_ids;let u;e[0]!==r?.results?(u=r?.results??[],e[0]=r?.results,e[1]=u):u=e[1];const d=u;let m;e[2]!==d?(m=d.filter(qqe),e[2]=d,e[3]=m):m=e[3];const h=m.length;let p;e[4]!==i?(p=l.jsx(la,{expanded:i,children:""}),e[4]=i,e[5]=p):p=e[5];let f,g;e[6]===Symbol.for("react.memo_cache_sentinel")?(f=l.jsx(_2,{toolName:"task_terminate"}),g=l.jsx(Co,{children:"task_terminate"}),e[6]=f,e[7]=g):(f=e[6],g=e[7]);const x=h>0?`${h} terminated`:`${c.length} to terminate`;let y;e[8]!==x?(y=l.jsx("span",{className:"text-interrupted text-[10px]",children:x}),e[8]=x,e[9]=y):y=e[9];let w;e[10]!==s?(w=Fr(s),e[10]=s,e[11]=w):w=e[11];let v;e[12]!==s||e[13]!==w?(v=l.jsx(Pr,{status:s,children:w}),e[12]=s,e[13]=w,e[14]=v):v=e[14];let k;e[15]!==v||e[16]!==p||e[17]!==y||e[18]!==o?(k=l.jsxs(Or,{onClick:o,children:[p,f,g,y,v]}),e[15]=v,e[16]=p,e[17]=y,e[18]=o,e[19]=k):k=e[19];let C;e[20]!==i||e[21]!==d||e[22]!==s||e[23]!==c?(C=i&&l.jsx(ca,{children:l.jsx("div",{className:"task-surface mt-1 rounded-md p-3",children:d.length>0?l.jsx("div",{className:"space-y-2",children:d.map(Uqe)}):s==="executing"?l.jsxs("div",{className:"text-muted text-[11px] italic",children:["Terminating tasks",l.jsx(qa,{})]}):l.jsxs("div",{className:"text-muted text-[10px]",children:["Tasks to terminate: ",c.join(", ")]})})}),e[20]=i,e[21]=d,e[22]=s,e[23]=c,e[24]=C):C=e[24];let _;return e[25]!==i||e[26]!==k||e[27]!==C?(_=l.jsxs(Lr,{expanded:i,children:[k,C]}),e[25]=i,e[26]=k,e[27]=C,e[28]=_):_=e[28],_};function Fqe(t){return t.status==="completed"}function Bqe(t){return t.status==="error"||t.status==="invalid_scope"||t.status==="not_found"}function zqe(t){return l.jsx(ZK,{...t},t.taskId)}function Hqe(t){return l.jsx(Oqe,{task:t},t.taskId)}function qqe(t){return t.status==="terminated"}function Uqe(t,e){return l.jsxs("div",{className:"bg-code-bg rounded-sm p-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(S2,{id:t.taskId}),l.jsx(C2,{status:t.status})]}),"terminatedTaskIds"in t&&t.terminatedTaskIds.length>1&&l.jsxs("div",{className:"text-muted mt-1 text-[10px]",children:["Also terminated:"," ",t.terminatedTaskIds.filter(n=>n!==t.taskId).join(", ")]}),"error"in t&&t.error&&l.jsx("div",{className:"text-danger mt-1 text-[11px]",children:t.error})]},t.taskId??e)}function JN(t){return`${t} ${t===1?"commit":"commits"}`}function o_(t){return t.length>8?t.slice(0,7):t}function Fl(t){return typeof t=="object"&&t!==null}function Wqe(t){let e=t;for(let n=0;n<2;n++){if(e!==null&&typeof e=="object"&&"type"in e&&e.type==="json"&&"value"in e){e=e.value;continue}break}return e}const Gqe=6;function QK(t){if(typeof t!="string")return;const e=t.trim();return e.length>0?e:void 0}function Vqe(t){if(!Array.isArray(t))return;const e=[];for(const n of t){const r=QK(n);r&&e.push(r)}return e.length>0?e:void 0}function Kqe(t){if(!Fl(t))return;const e=t.appliedCommits;if(!Array.isArray(e))return;const n=[];for(const r of e){if(!Fl(r))continue;const a=r.subject;if(typeof a!="string"||a.length===0)continue;const s=r.sha;n.push({subject:a,sha:typeof s=="string"&&s.length>0?s:void 0})}return n}function Yqe(t){if(!Fl(t))return;const e=t.appliedCommitCount;return typeof e=="number"?e:void 0}const l_=t=>{const e=ae.c(14),{value:n,displayValue:r,tooltipLabel:a,className:s}=t,{copied:i,copyToClipboard:o}=go();let c;e[0]!==s?(c=ce("min-w-0 font-mono text-[11px] text-link opacity-90 hover:opacity-100 hover:underline underline-offset-2 truncate",s),e[0]=s,e[1]=c):c=e[1];let u;e[2]!==o||e[3]!==n?(u=()=>void o(n),e[2]=o,e[3]=n,e[4]=u):u=e[4];const d=r??n;let m;e[5]!==c||e[6]!==u||e[7]!==d?(m=l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",className:c,onClick:u,children:d})}),e[5]=c,e[6]=u,e[7]=d,e[8]=m):m=e[8];const h=i?"Copied":a;let p;e[9]!==h?(p=l.jsx(Ke,{children:h}),e[9]=h,e[10]=p):p=e[10];let f;return e[11]!==m||e[12]!==p?(f=l.jsxs(Ye,{children:[m,p]}),e[11]=m,e[12]=p,e[13]=f):f=e[13],f},Xqe=t=>{const e=ae.c(2),{error:n}=t;let r;return e[0]!==n?(r=l.jsx(Ca,{children:l.jsx("pre",{className:"m-0 max-h-[200px] overflow-y-auto break-words whitespace-pre-wrap",children:n})}),e[0]=n,e[1]=r):r=e[1],r},Zqe=t=>{const e=ae.c(11),{args:n,result:r,status:a}=t,s=a===void 0?"pending":a,i=Wqe(r),o=Fl(i)&&i.success===!0?i:null,c=Fl(i)&&i.success===!1?i:null,d=(Fl(i)&&typeof i.taskId=="string"?i.taskId:void 0)??n.task_id,h=(Fl(i)&&typeof i.dryRun=="boolean"?i.dryRun:void 0)===!0||n.dry_run===!0,p=o?Kqe(o):void 0,f=o?Yqe(o):void 0,g=p?p.length:f??0,x=typeof c?.error=="string"?c.error.split(`
`)[0]?.trim():void 0,{expanded:y,toggleExpanded:w}=ja(!!c),{copied:v,copyToClipboard:k}=go(),C=n.three_way!==!1,_=c&&"note"in c?c.note:void 0,S=c&&Fl(i)?i:null,T=S?QK(S.failedPatchSubject):void 0,N=S?Vqe(S.conflictPaths):void 0,j=N?.slice(0,Gqe),R=N&&j?Math.max(0,N.length-j.length):0;let I;e[0]!==y?(I=l.jsx(la,{expanded:y,children:""}),e[0]=y,e[1]=I):I=e[1];let A,$;e[2]===Symbol.for("react.memo_cache_sentinel")?(A=l.jsx(_a,{toolName:"task_apply_git_patch"}),$=l.jsx(Co,{children:"Apply patch"}),e[2]=A,e[3]=$):(A=e[2],$=e[3]);let E;e[4]!==h?(E=h&&l.jsx("span",{className:"text-backgrounded text-[10px] font-medium",children:"dry-run"}),e[4]=h,e[5]=E):E=e[5];let M;e[6]!==s?(M=Fr(s),e[6]=s,e[7]=M):M=e[7];let F;return e[8]!==s||e[9]!==M?(F=l.jsx(Pr,{status:s,children:M}),e[8]=s,e[9]=M,e[10]=F):F=e[10],l.jsxs(Lr,{expanded:y,className:"@container",children:[l.jsxs(Or,{onClick:w,children:[I,A,$,l.jsx("span",{className:"text-muted ml-1 max-w-40 truncate text-[10px]",children:d}),E,o&&l.jsx("span",{className:"text-secondary ml-2 text-[10px] whitespace-nowrap",children:JN(g)}),o?.headCommitSha&&l.jsxs("span",{className:"text-secondary ml-2 hidden text-[10px] whitespace-nowrap @sm:inline",children:["HEAD ",o_(o.headCommitSha)]}),x&&l.jsx("span",{className:"text-danger ml-2 max-w-64 truncate text-[10px]",children:x}),F]}),y&&l.jsxs(ca,{children:[l.jsxs(mn,{children:[l.jsx(Wn,{children:"Patch source"}),l.jsx("div",{className:"bg-code-bg flex flex-wrap gap-4 rounded px-2 py-1.5 text-[11px] leading-[1.4]",children:l.jsxs("div",{className:"flex min-w-0 items-center gap-1.5",children:[l.jsx("span",{className:"text-secondary shrink-0 font-medium",children:"Task ID:"}),l.jsx(l_,{value:d,tooltipLabel:"Copy task ID",className:"max-w-[260px]"})]})})]}),l.jsxs(mn,{children:[l.jsx(Wn,{children:"Options"}),l.jsxs("div",{className:"bg-code-bg flex flex-wrap gap-4 rounded px-2 py-1.5 text-[11px] leading-[1.4]",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:"text-secondary font-medium",children:"dry_run:"}),l.jsx("span",{className:"text-text font-mono",children:n.dry_run===!0?"true":"false"})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:"text-secondary font-medium",children:"three_way:"}),l.jsx("span",{className:"text-text font-mono",children:C?"true":"false"})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("span",{className:"text-secondary font-medium",children:"force:"}),l.jsx("span",{className:"text-text font-mono",children:n.force===!0?"true":"false"})]})]})]}),s==="executing"&&!r&&l.jsx(mn,{children:l.jsxs(yr,{children:["Applying patch",l.jsx(qa,{})]})}),o&&l.jsxs(l.Fragment,{children:[l.jsxs(mn,{children:[l.jsx(Wn,{children:"Result"}),l.jsxs("div",{className:"bg-code-bg flex flex-wrap gap-4 rounded px-2 py-1.5 text-[11px] leading-[1.4]",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsxs("span",{className:"text-secondary font-medium",children:[h?"Would apply":"Applied",":"]}),l.jsx("span",{className:"text-text font-mono",children:JN(g)})]}),o.headCommitSha&&l.jsxs("div",{className:"flex min-w-0 items-center gap-1.5",children:[l.jsx("span",{className:"text-secondary shrink-0 font-medium",children:"HEAD:"}),l.jsx(l_,{value:o.headCommitSha,displayValue:o_(o.headCommitSha),tooltipLabel:"Copy HEAD SHA"})]})]})]}),p&&p.length>0&&l.jsxs(mn,{children:[l.jsx(Wn,{children:"Commits"}),l.jsx("div",{className:"bg-code-bg flex flex-col gap-1 rounded px-2 py-1.5 text-[11px] leading-[1.4]",children:p.map(Qqe)})]}),o.note&&l.jsxs(mn,{children:[l.jsx(Wn,{children:"Note"}),l.jsx(yr,{className:"px-2 py-1.5",children:o.note})]})]}),c&&l.jsxs(l.Fragment,{children:[l.jsxs(mn,{children:[l.jsxs(Wn,{className:"flex items-center justify-between gap-2",children:[l.jsx("span",{children:"Error"}),l.jsx(mHe,{type:"button",onClick:()=>void k(c.error),active:v,children:v?"Copied":"Copy"})]}),(T??(j&&j.length>0))&&l.jsxs("div",{className:"bg-code-bg mb-2 flex flex-col gap-1 rounded px-2 py-1.5 text-[11px] leading-[1.4]",children:[T&&l.jsxs("div",{className:"flex min-w-0 items-start gap-1.5",children:[l.jsx("span",{className:"text-secondary shrink-0 font-medium",children:"Failed patch:"}),l.jsx("span",{className:"text-text min-w-0 break-words",children:T})]}),j&&j.length>0&&l.jsxs("div",{className:"flex min-w-0 items-start gap-1.5",children:[l.jsx("span",{className:"text-secondary shrink-0 font-medium",children:"Conflicts:"}),l.jsxs("span",{className:"text-text min-w-0 font-mono break-words",children:[j.join(", "),R>0&&l.jsxs("span",{className:"text-secondary",children:[" +",R," more"]})]})]})]}),l.jsx(Xqe,{error:c.error})]}),_&&l.jsxs(mn,{children:[l.jsx(Wn,{children:"Note"}),l.jsx(yr,{className:"px-2 py-1.5",children:_})]})]})]})]})};function Qqe(t,e){return l.jsxs("div",{className:"flex min-w-0 items-start gap-2",children:[t.sha?l.jsx(l_,{value:t.sha,displayValue:o_(t.sha),tooltipLabel:"Copy commit SHA",className:"shrink-0"}):l.jsxs("span",{className:"text-secondary shrink-0 font-mono text-[11px]",children:[e+1,"."]}),l.jsx("span",{className:"text-text min-w-0 break-words",children:t.subject})]},`${t.sha??e}-${t.subject}`)}const Jqe={bash:{component:IHe,schema:Cr.bash.schema},file_read:{component:HHe,schema:Cr.file_read.schema},agent_skill_read:{component:LHe,schema:Cr.agent_skill_read.schema},agent_skill_read_file:{component:FHe,schema:Cr.agent_skill_read_file.schema},file_edit_replace_string:{component:Gv,schema:Cr.file_edit_replace_string.schema},file_edit_replace_lines:{component:Gv,schema:Cr.file_edit_replace_lines.schema},file_edit_insert:{component:Gv,schema:Cr.file_edit_insert.schema},ask_user_question:{component:tqe,schema:Cr.ask_user_question.schema},propose_plan:{component:KK,schema:Cr.propose_plan.schema},todo_write:{component:dqe,schema:Cr.todo_write.schema},status_set:{component:mqe,schema:Cr.status_set.schema},notify:{component:hqe,schema:Cr.notify.schema},web_fetch:{component:GHe,schema:Cr.web_fetch.schema},bash_background_list:{component:fqe,schema:Cr.bash_background_list.schema},bash_background_terminate:{component:xqe,schema:Cr.bash_background_terminate.schema},bash_output:{component:yqe,schema:Cr.bash_output.schema},code_execution:{component:jqe,schema:Cr.code_execution.schema},task:{component:Rqe,schema:Cr.task.schema},task_await:{component:Mqe,schema:Cr.task_await.schema},task_list:{component:Lqe,schema:Cr.task_list.schema},task_terminate:{component:Pqe,schema:Cr.task_terminate.schema},task_apply_git_patch:{component:Zqe,schema:Cr.task_apply_git_patch.schema},agent_report:{component:wqe,schema:Cr.agent_report.schema},web_search:{component:YHe,schema:Nt({query:Ge().optional()})}};function JK(t,e){const n=Jqe[t];return n?.schema.safeParse(e).success?n.component:jHe}function eUe(t){return typeof t=="object"&&t!==null&&"hook_output"in t&&typeof t.hook_output=="string"}function tUe(t){return eUe(t)&&t.hook_output.length>0?t.hook_output:null}function nUe(t){if(typeof t!="object"||t===null)return;const e=t.hook_duration_ms;return typeof e=="number"&&Number.isFinite(e)?e:void 0}const rUe=t=>{const e=ae.c(23),{output:n,durationMs:r,className:a}=t,[s,i]=b.useState(!1);let o;e[0]!==a?(o=ce("mt-1.5 px-3",a),e[0]=a,e[1]=o):o=e[1];let c;e[2]!==s?(c=()=>i(!s),e[2]=s,e[3]=c):c=e[3];let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=ce("flex items-center gap-1 text-[10px] text-muted-foreground/70 hover:text-muted-foreground","transition-colors cursor-pointer select-none"),e[4]=u):u=e[4];const d=s&&"rotate-90";let m;e[5]!==d?(m=ce("transition-transform duration-150",d),e[5]=d,e[6]=m):m=e[6];let h;e[7]!==m?(h=l.jsx(na,{size:12,className:m}),e[7]=m,e[8]=h):h=e[8];let p;e[9]===Symbol.for("react.memo_cache_sentinel")?(p=l.jsx("span",{className:"font-medium",children:"hook output"}),e[9]=p):p=e[9];let f;e[10]!==r?(f=r!==void 0&&l.jsxs("span",{className:"text-muted-foreground/50",children:[" ",v2(r)]}),e[10]=r,e[11]=f):f=e[11];let g;e[12]!==c||e[13]!==h||e[14]!==f?(g=l.jsxs("button",{type:"button",onClick:c,className:u,children:[h,p,f]}),e[12]=c,e[13]=h,e[14]=f,e[15]=g):g=e[15];let x;e[16]!==s||e[17]!==n?(x=s&&l.jsx("pre",{className:ce("mt-1 ml-3 px-2 py-1.5 rounded text-[10px] leading-relaxed","bg-muted/30 text-muted-foreground","whitespace-pre-wrap break-words max-h-[150px] overflow-y-auto","border-l-2 border-muted-foreground/20"),children:n}),e[16]=s,e[17]=n,e[18]=x):x=e[18];let y;return e[19]!==o||e[20]!==x||e[21]!==g?(y=l.jsxs("div",{className:o,children:[g,x]}),e[19]=o,e[20]=x,e[21]=g,e[22]=y):y=e[22],y},aUe=t=>{const e=ae.c(28),{message:n,className:r,workspaceId:a,onReviewNote:s,isLatestProposePlan:i,bashOutputGroup:o,taskReportLinking:c}=t,{toolName:u,args:d,result:m,status:h,toolCallId:p}=n;let f;e[0]!==d||e[1]!==u?(f=JK(u,d),e[0]=d,e[1]=u,e[2]=f):f=e[2];const g=f,x=o?.position==="first"||o?.position==="last"?o.position:void 0;let y;e[3]!==m?(y=tUe(m),e[3]=m,e[4]=y):y=e[4];const w=y;let v;e[5]!==m?(v=nUe(m),e[5]=m,e[6]=v):v=e[6];const k=v,C=m??null;let _;e[7]!==g||e[8]!==d||e[9]!==x||e[10]!==i||e[11]!==n.nestedCalls||e[12]!==n.timestamp||e[13]!==s||e[14]!==h||e[15]!==C||e[16]!==c||e[17]!==p||e[18]!==u||e[19]!==a?(_=l.jsx(g,{args:d,result:C,status:h,toolName:u,workspaceId:a,toolCallId:p,startedAt:n.timestamp,onReviewNote:s,isLatest:i,groupPosition:x,taskReportLinking:c,nestedCalls:n.nestedCalls}),e[7]=g,e[8]=d,e[9]=x,e[10]=i,e[11]=n.nestedCalls,e[12]=n.timestamp,e[13]=s,e[14]=h,e[15]=C,e[16]=c,e[17]=p,e[18]=u,e[19]=a,e[20]=_):_=e[20];let S;e[21]!==k||e[22]!==w?(S=w&&l.jsx(rUe,{output:w,durationMs:k}),e[21]=k,e[22]=w,e[23]=S):S=e[23];let T;return e[24]!==r||e[25]!==_||e[26]!==S?(T=l.jsxs("div",{className:r,children:[_,S]}),e[24]=r,e[25]=_,e[26]=S,e[27]=T):T=e[27],T},e$="font-primary text-[12px] leading-[18px]",sUe=t=>{const e=ae.c(54),{message:n,className:r}=t,[a,s]=b.useState(n.isStreaming),[i,o]=b.useState(null),c=b.useRef(null),u=n.content,d=n.isStreaming,m=u?.trim()??"",h=m.length>0,p=h?m.split(/\r?\n/)[0]??"":"",f=h&&/[\r\n]/.test(m),g=!d&&h&&!f,x=!d&&h&&f,y=x&&!a,w=a&&!g;let v;e[0]!==a||e[1]!==g?(v=()=>{c.current&&a&&!g&&o(c.current.scrollHeight)},e[0]=a,e[1]=g,e[2]=v):v=e[2];let k;e[3]!==u||e[4]!==a||e[5]!==g?(k=[a,g,u],e[3]=u,e[4]=a,e[5]=g,e[6]=k):k=e[6],b.useLayoutEffect(v,k);let C,_;e[7]!==d?(C=()=>{d||s(!1)},_=[d],e[7]=d,e[8]=C,e[9]=_):(C=e[8],_=e[9]),b.useEffect(C,_);const S=()=>{x&&s(!a)};let T;e[10]!==u||e[11]!==d?(T=()=>d&&!u?l.jsx("div",{className:"text-thinking-mode opacity-60",children:"Thinking..."}):d?l.jsx(PK,{deltas:[o7(u)],isComplete:!1,preserveLineBreaks:!0}):u?l.jsx(ti,{content:o7(u),preserveLineBreaks:!0}):null,e[10]=u,e[11]=d,e[12]=T):T=e[12];const N=T;let j;e[13]!==r?(j=ce("my-2 px-2 py-1 bg-[color-mix(in_srgb,var(--color-thinking-mode)_5%,transparent)] rounded relative",r),e[13]=r,e[14]=j):j=e[14];const R=ce("flex items-center justify-between gap-2 select-none",x&&"cursor-pointer",a&&!g&&"mb-1.5"),I=x?S:void 0;let A;e[15]===Symbol.for("react.memo_cache_sentinel")?(A=ce("flex flex-1 items-center gap-1 min-w-0 text-xs opacity-80","text-thinking-mode"),e[15]=A):A=e[15];const $=d&&"animate-pulse";let E;e[16]!==$?(E=ce("size-3.5",$),e[16]=$,e[17]=E):E=e[17];let M;e[18]!==E?(M=l.jsx("span",{className:"text-xs",children:l.jsx(e5,{className:E})}),e[18]=E,e[19]=M):M=e[19];let F;e[20]!==h||e[21]!==d||e[22]!==p?(F=d?l.jsx(L5,{colorClass:"var(--color-thinking-mode)",children:"Thinking..."}):h?l.jsx(ti,{content:p,className:ce("truncate [&_*]:inline [&_*]:align-baseline [&_*]:whitespace-nowrap",e$)}):"Thought",e[20]=h,e[21]=d,e[22]=p,e[23]=F):F=e[23];let L;e[24]!==y?(L=y&&l.jsx("span",{className:"text-[11px] tracking-widest text-[color:var(--color-text)] opacity-70","data-testid":"reasoning-ellipsis",children:"..."}),e[24]=y,e[25]=L):L=e[25];let Y;e[26]!==F||e[27]!==L?(Y=l.jsxs("div",{className:"flex min-w-0 items-center gap-1 truncate",children:[F,L]}),e[26]=F,e[27]=L,e[28]=Y):Y=e[28];let O;e[29]!==M||e[30]!==Y?(O=l.jsxs("div",{className:A,children:[M,Y]}),e[29]=M,e[30]=Y,e[31]=O):O=e[31];let G;e[32]!==x||e[33]!==a?(G=x&&l.jsx("span",{className:ce("text-thinking-mode opacity-60 transition-transform duration-200 ease-in-out text-xs",a?"rotate-90":"rotate-0"),children:""}),e[32]=x,e[33]=a,e[34]=G):G=e[34];let H;e[35]!==O||e[36]!==G||e[37]!==R||e[38]!==I?(H=l.jsxs("div",{className:R,onClick:I,children:[O,G]}),e[35]=O,e[36]=G,e[37]=R,e[38]=I,e[39]=H):H=e[39];let D;e[40]===Symbol.for("react.memo_cache_sentinel")?(D=ce(e$,"italic opacity-85 [&_p]:mt-0 [&_p]:mb-1 [&_p:last-child]:mb-0","overflow-hidden transition-[height,opacity] duration-200 ease-in-out"),e[40]=D):D=e[40];const U=w?i??"auto":0,B=w?1:0;let q;e[41]!==U||e[42]!==B?(q={height:U,opacity:B},e[41]=U,e[42]=B,e[43]=q):q=e[43];const V=!w;let Z;e[44]!==N?(Z=N(),e[44]=N,e[45]=Z):Z=e[45];let W;e[46]!==q||e[47]!==V||e[48]!==Z?(W=l.jsx("div",{ref:c,className:D,style:q,"aria-hidden":V,children:Z}),e[46]=q,e[47]=V,e[48]=Z,e[49]=W):W=e[49];let K;return e[50]!==H||e[51]!==W||e[52]!==j?(K=l.jsxs("div",{className:j,children:[H,W]}),e[50]=H,e[51]=W,e[52]=j,e[53]=K):K=e[53],K};function c_(t){const e=t.modelId.trim();if(e.length===0)return null;const n=gm(e),r=n.indexOf(":"),a=r===-1?null:n.slice(0,r),s=a?t.providersConfig?.[a]?.isConfigured===!0:!1,i=LA(OA(e));if(!s&&!i||!b1(t.policy??null,n))return null;const o=Yl(n),c=Object.values(Ou).find(h=>h.id===n),u=c?.aliases?.[0]??e,d=r===-1?n:n.slice(r+1),m=Af(c?.providerModelId??d);return{kind:"preferred",modelArg:u,modelId:e,displayName:m,maxInputTokens:o?.max_input_tokens??null}}function u_(t){const e=Yl(t.currentModel);if(!e?.max_input_tokens)return null;let n=null;for(const r of Object.values(Ou)){const a=t.providersConfig?.[r.provider]?.isConfigured===!0,s=LA(OA(r.id));if(!a&&!s||!b1(t.policy??null,r.id))continue;const i=Yl(r.id);if(!i?.max_input_tokens||i.max_input_tokens<=e.max_input_tokens)continue;const o=n?.maxInputTokens??0;(!n||i.max_input_tokens>o)&&(n={kind:"higher_context",modelArg:r.aliases?.[0]??r.id,modelId:r.id,displayName:Af(r.providerModelId),maxInputTokens:i.max_input_tokens})}return n}function iUe(t){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n.type==="user")return n}return null}function t$(t){return{text:t.content,fileParts:t.fileParts,reviews:t.reviews,muxMetadata:t.agentSkill?FA({rawCommand:t.content,skillName:t.agentSkill.skillName,scope:t.agentSkill.scope}):void 0}}function oUe(t){const e=Rf(t.workspaceId),{api:n}=Kt(),r=Oi(),a=r.status.state==="enforced"?r.policy??null:null,[s,i]=b.useState(null),[o,c]=b.useState(!1),u=b.useRef(!0),d=b.useRef(null);b.useEffect(()=>()=>{u.current=!1},[]);const m=e?e.messages[e.messages.length-1]:void 0,h=b.useMemo(()=>e?iUe(e.messages):null,[e]),p=m?.type==="stream-error"&&!!h?.compactionRequest,f=m?.type==="stream-error"&&m.errorType==="context_exceeded",g=f||p,[x]=Tt(xx,"",{listener:!0});b.useEffect(()=>{if(!n||!g||s)return;let _=!0;return(async()=>{try{const T=await n.providers.getConfig();_&&i(T)}catch{}})().catch(()=>{}),()=>{_=!1}},[n,g,s]);const y=b.useMemo(()=>g?h?.compactionRequest?.parsed.model?h.compactionRequest.parsed.model:m?.type==="stream-error"?m.model??e?.currentModel??null:e?.currentModel??null:null,[g,h,m,e?.currentModel]),w=b.useMemo(()=>{if(!g||!y)return null;if(p)return u_({currentModel:y,providersConfig:s,policy:a});const _=x.trim();if(_.length>0){const S=c_({modelId:_,providersConfig:s,policy:a});if(S)return S}return u_({currentModel:y,providersConfig:s,policy:a})},[y,g,p,s,a,x]),v=b.useCallback(async()=>{const _=(T,N)=>{window.dispatchEvent(_i(Rn.UPDATE_CHAT_INPUT,{text:T,mode:"replace",fileParts:N}))};if(!w){_(`/compact
`);return}const S=wj({model:w.modelArg});if(!n){_(S+`
`);return}u.current&&c(!0);try{const T=cu(t.workspaceId),N=h;if(!N){_(S+`
`);return}if(N.compactionRequest){const I=N.compactionRequest.parsed,A=I.maxOutputTokens,$=I.followUpContent,E=await Hd({api:n,workspaceId:t.workspaceId,sendMessageOptions:T,model:w.modelId,maxOutputTokens:A,followUpContent:$,editMessageId:N.id});if(!E.success){console.error("Failed to retry compaction:",E.error);const M=wj({model:w.modelArg,maxOutputTokens:A}),F=PA($),L=F?`${M}
${F}`:M;_(L+(!F?`
`:""),$?.fileParts)}return}const j=t$(N),R=await Hd({api:n,workspaceId:t.workspaceId,sendMessageOptions:T,model:w.modelId,followUpContent:j,editMessageId:N.id});R.success||(console.error("Failed to start compaction:",R.error),_(S+`
`+N.content,N.fileParts))}catch(T){console.error("Failed to retry with compaction:",T),_(S+`
`)}finally{u.current&&c(!1)}},[n,w,t.workspaceId,h]),k=b.useCallback(async()=>{if(!n||!h||h.compactionRequest)return!1;u.current&&c(!0);try{const _=cu(t.workspaceId),S=t$(h),T=await Hd({api:n,workspaceId:t.workspaceId,sendMessageOptions:_,model:w?.modelId,followUpContent:S,editMessageId:h.id});return T.success||console.error("Auto-compaction failed:",T.error),T.success}catch(_){return console.error("Auto-compaction error:",_),!1}finally{u.current&&c(!1)}},[n,w?.modelId,t.workspaceId,h]),C=n&&f&&s!==void 0&&w&&h&&!h.compactionRequest&&m?.type==="stream-error"&&!o;return b.useEffect(()=>{!C||!m||d.current!==m.id&&(d.current=m.id,k().catch(()=>{}))},[C,m,k]),{showCompactionUI:g,compactionSuggestion:w,isRetryingWithCompaction:o,hasTriggerUserMessage:!!h,hasCompactionRequest:!!h?.compactionRequest,retryWithCompaction:v}}function n$(t){return Xs(t).replace(/\.0([kM])$/,"$1")}const eY=t=>{const e=ae.c(53),n=t.message,r=t.className,a=t.compactRetryAction,s=t.compactionDetails;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx(Xe,{asChild:!0,children:l.jsx(tt,{variant:"ghost",size:"icon",onClick:uUe,"aria-label":"Open last LLM request debug modal",className:"text-error/80 hover:text-error h-6 w-6",children:l.jsx(SJ,{className:"h-3.5 w-3.5"})})}),e[0]=i):i=e[0];let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsxs(Ye,{children:[i,l.jsx(Ke,{align:"center",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:"Debug last LLM request"}),l.jsx("code",{className:"bg-foreground/5 text-foreground/80 border-foreground/10 rounded-sm border px-1.5 py-0.5 font-mono text-[10px]",children:"/debug-llm-request"})]})})]}),e[1]=o):o=e[1];const c=o;if(n.errorType==="runtime_not_ready"){let I;e[2]!==n.error?(I=n.error?.split(".")[0]??"Runtime Unavailable",e[2]=n.error,e[3]=I):I=e[3];const A=I;let $;e[4]!==r?($=ce("bg-error-bg border border-error rounded px-5 py-4 my-3",r),e[4]=r,e[5]=$):$=e[5];let E;e[6]===Symbol.for("react.memo_cache_sentinel")?(E=l.jsx(Mr,{"aria-hidden":"true",className:"h-4 w-4"}),e[6]=E):E=e[6];let M;e[7]!==A?(M=l.jsx("span",{children:A}),e[7]=A,e[8]=M):M=e[8];let F;e[9]===Symbol.for("react.memo_cache_sentinel")?(F=l.jsx("div",{className:"ml-auto flex items-center",children:c}),e[9]=F):F=e[9];let L;e[10]!==M?(L=l.jsxs("div",{className:"font-primary text-error mb-2 flex items-center gap-2 text-[13px] font-semibold",children:[E,M,F]}),e[10]=M,e[11]=L):L=e[11];let Y;e[12]!==n.error?(Y=l.jsx("div",{className:"text-foreground/80 text-[13px] leading-relaxed",children:n.error}),e[12]=n.error,e[13]=Y):Y=e[13];let O;return e[14]!==$||e[15]!==L||e[16]!==Y?(O=l.jsxs("div",{className:$,children:[L,Y]}),e[14]=$,e[15]=L,e[16]=Y,e[17]=O):O=e[17],O}let u;e[18]!==n.model?(u=n.model?Hp(n.model):"",e[18]=n.model,e[19]=u):u=e[19];const d=u;let m;e[20]!==n.error||e[21]!==n.errorType||e[22]!==d?(m=d==="anthropic"&&n.errorType==="server_error"&&/\bHTTP\s*529\b|overloaded/i.test(n.error),e[20]=n.error,e[21]=n.errorType,e[22]=d,e[23]=m):m=e[23];const h=m,p=h?"Service overloaded":"Stream Error",f=h?"overloaded":n.errorType;let g;e[24]!==h?(g=h?l.jsx(tt,{asChild:!0,variant:"ghost",size:"sm",className:"text-error/80 hover:text-error h-6 px-2 text-[10px]",children:l.jsxs("a",{href:"https://status.anthropic.com",target:"_blank",rel:"noopener noreferrer",children:["Status ",l.jsx(pl,{className:"ml-1 h-3 w-3"})]})}):null,e[24]=h,e[25]=g):g=e[25];const x=g,y=n.errorCount!==void 0&&n.errorCount>1;let w;e[26]!==r?(w=ce("bg-error-bg border border-error rounded px-5 py-4 my-3",r),e[26]=r,e[27]=w):w=e[27];let v;e[28]===Symbol.for("react.memo_cache_sentinel")?(v=l.jsx("span",{className:"text-base leading-none",children:""}),e[28]=v):v=e[28];let k;e[29]!==p?(k=l.jsx("span",{children:p}),e[29]=p,e[30]=k):k=e[30];let C;e[31]!==f?(C=l.jsx("code",{className:"bg-foreground/5 text-foreground/80 border-foreground/10 rounded-sm border px-2 py-0.5 font-mono text-[10px] tracking-wider uppercase",children:f}),e[31]=f,e[32]=C):C=e[32];let _;e[33]!==n.errorCount||e[34]!==y?(_=y&&l.jsxs("span",{className:"text-error rounded-sm bg-red-500/15 px-2 py-0.5 font-mono text-[10px] font-semibold tracking-wide",children:["",n.errorCount]}),e[33]=n.errorCount,e[34]=y,e[35]=_):_=e[35];let S;e[36]!==x||e[37]!==_?(S=l.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[_,x,c]}),e[36]=x,e[37]=_,e[38]=S):S=e[38];let T;e[39]!==S||e[40]!==k||e[41]!==C?(T=l.jsxs("div",{className:"font-primary text-error mb-3 flex items-center gap-2.5 text-[13px] font-semibold tracking-wide",children:[v,k,C,S]}),e[39]=S,e[40]=k,e[41]=C,e[42]=T):T=e[42];let N;e[43]!==n.error?(N=l.jsx("div",{className:"text-foreground font-mono text-[13px] leading-relaxed break-words whitespace-pre-wrap",children:n.error}),e[43]=n.error,e[44]=N):N=e[44];let j;e[45]!==a?(j=a?l.jsx("div",{className:"mt-3 flex items-center justify-start",children:a}):null,e[45]=a,e[46]=j):j=e[46];let R;return e[47]!==s||e[48]!==T||e[49]!==N||e[50]!==j||e[51]!==w?(R=l.jsxs("div",{className:w,children:[T,N,s,j]}),e[47]=s,e[48]=T,e[49]=N,e[50]=j,e[51]=w,e[52]=R):R=e[52],R},lUe=t=>{const e=ae.c(14);let n;e[0]!==t.workspaceId?(n={workspaceId:t.workspaceId},e[0]=t.workspaceId,e[1]=n):n=e[1];const r=oUe(n),a=r.showCompactionUI;let s="Compact & retry";a&&(r.isRetryingWithCompaction?s="Starting...":!r.compactionSuggestion||!r.hasTriggerUserMessage?s="Insert /compact":r.hasCompactionRequest&&(s="Retry compaction"));let i;e[2]!==r||e[3]!==s||e[4]!==a?(i=a?l.jsx(tt,{variant:"outline",size:"sm",onClick:()=>{r.retryWithCompaction().catch(dUe)},disabled:r.isRetryingWithCompaction,className:"border-warning/50 text-foreground bg-warning/10 hover:bg-warning/15 hover:text-foreground h-6 px-2 text-[10px]",children:s}):null,e[2]=r,e[3]=s,e[4]=a,e[5]=i):i=e[5];const o=i,c=r.compactionSuggestion;let u;e[6]!==c||e[7]!==a?(u=a?l.jsxs("div",{className:"font-primary text-foreground/80 mt-3 text-[12px]",children:[l.jsx("span",{className:"text-foreground font-semibold",children:"Context window exceeded."})," ",c?c.kind==="preferred"?l.jsxs(l.Fragment,{children:["We'll compact with your configured compaction model"," ",l.jsx("span",{className:"text-foreground font-semibold",children:c.displayName}),c.maxInputTokens!==null?l.jsxs(l.Fragment,{children:[" (",n$(c.maxInputTokens)," context)"]}):null," ","to unblock you. Your workspace model stays the same."]}):l.jsxs(l.Fragment,{children:["We'll compact with"," ",l.jsx("span",{className:"text-foreground font-semibold",children:c.displayName}),c.maxInputTokens!==null?l.jsxs(l.Fragment,{children:[" (",n$(c.maxInputTokens)," context)"]}):null," ","to unblock you with a higher-context model. Your workspace model stays the same."]}):l.jsx(l.Fragment,{children:"Compact this chat to unblock you. Your workspace model stays the same."})]}):null,e[6]=c,e[7]=a,e[8]=u):u=e[8];const d=u;let m;return e[9]!==o||e[10]!==d||e[11]!==t.className||e[12]!==t.message?(m=l.jsx(eY,{message:t.message,className:t.className,compactRetryAction:o,compactionDetails:d}),e[9]=o,e[10]=d,e[11]=t.className,e[12]=t.message,e[13]=m):m=e[13],m},cUe=t=>{const e=ae.c(7),n=OC(),r=n?.latestMessageId??null,a=n?.workspaceId??null,s=r===t.message.id;if(!a||!s){let o;return e[0]!==t.className||e[1]!==t.message?(o=l.jsx(eY,{message:t.message,className:t.className}),e[0]=t.className,e[1]=t.message,e[2]=o):o=e[2],o}let i;return e[3]!==t.className||e[4]!==t.message||e[5]!==a?(i=l.jsx(lUe,{message:t.message,className:t.className,workspaceId:a}),e[3]=t.className,e[4]=t.message,e[5]=a,e[6]=i):i=e[6],i};function uUe(){window.dispatchEvent(_i(Rn.OPEN_DEBUG_LLM_REQUEST))}function dUe(){}const mUe=t=>{const e=ae.c(10),r=`Compaction boundary${typeof t.message.compactionEpoch=="number"?` #${t.message.compactionEpoch}`:""}`;let a;e[0]!==t.className?(a=ce("my-4 flex items-center gap-3 text-[11px] uppercase tracking-[0.08em]",t.className),e[0]=t.className,e[1]=a):a=e[1];let s;e[2]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx("span",{className:"bg-border h-px flex-1"}),e[2]=s):s=e[2];let i;e[3]!==r?(i=l.jsx("span",{className:"text-muted font-medium",children:r}),e[3]=r,e[4]=i):i=e[4];let o;e[5]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx("span",{className:"bg-border h-px flex-1"}),e[5]=o):o=e[5];let c;return e[6]!==r||e[7]!==a||e[8]!==i?(c=l.jsxs("div",{className:a,"data-testid":"compaction-boundary",role:"separator","aria-orientation":"horizontal","aria-label":r,children:[s,i,o]}),e[6]=r,e[7]=a,e[8]=i,e[9]=c):c=e[9],c},hUe=t=>{const e=ae.c(16),{message:n,workspaceId:r,className:a}=t;let s;e[0]!==n.omittedMessageCounts?(s=[],n.omittedMessageCounts?.tool&&s.push(`${n.omittedMessageCounts.tool} tool call${n.omittedMessageCounts.tool===1?"":"s"}`),n.omittedMessageCounts?.reasoning&&s.push(`${n.omittedMessageCounts.reasoning} thinking block${n.omittedMessageCounts.reasoning===1?"":"s"}`),e[0]=n.omittedMessageCounts,e[1]=s):s=e[1];const i=s.length>0?` (${s.join(", ")})`:"";let o;e[2]!==a?(o=ce("my-4 flex flex-wrap items-center justify-center gap-2 text-center text-xs text-muted",a),e[2]=a,e[3]=o):o=e[3];let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx("svg",{"aria-hidden":"true",className:"text-border shrink-0",width:"24",height:"8",viewBox:"0 0 24 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M0 4 Q4 0, 8 4 Q12 8, 16 4 Q20 0, 24 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",fill:"none"})}),e[4]=c):c=e[4];const u=n.hiddenCount!==1?"s":"";let d;e[5]!==n.hiddenCount||e[6]!==i||e[7]!==u?(d=l.jsxs("span",{className:"text-muted",children:["Omitted ",n.hiddenCount," message",u," for performance",i]}),e[5]=n.hiddenCount,e[6]=i,e[7]=u,e[8]=d):d=e[8];let m;e[9]!==r?(m=r&&l.jsx("button",{type:"button",className:"text-link hover:text-link-hover cursor-pointer border-none bg-transparent p-0 font-medium underline",onClick:()=>gQ(r),children:"Load all"}),e[9]=r,e[10]=m):m=e[10];let h;e[11]===Symbol.for("react.memo_cache_sentinel")?(h=l.jsx("svg",{"aria-hidden":"true",className:"text-border shrink-0",width:"24",height:"8",viewBox:"0 0 24 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M0 4 Q4 0, 8 4 Q12 8, 16 4 Q20 0, 24 4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",fill:"none"})}),e[11]=h):h=e[11];let p;return e[12]!==o||e[13]!==d||e[14]!==m?(p=l.jsxs("div",{className:o,children:[c,d,m,h]}),e[12]=o,e[13]=d,e[14]=m,e[15]=p):p=e[15],p};function pUe(t){if(t<1e3)return`${Math.round(t)}ms`;if(t<1e4)return`${(t/1e3).toFixed(1)}s`;if(t<6e4)return`${Math.round(t/1e3)}s`;const e=Math.floor(t/6e4),n=Math.round(t%6e4/1e3);return`${e}m ${n}s`}const tY=xe.memo(t=>{const e=ae.c(40),{message:n,className:r}=t,a=n.status==="error",s=n.status==="running",i=n.status==="success",o=b.useRef(null);let c;e[0]!==s?(c=()=>{s&&o.current&&(o.current.scrollTop=o.current.scrollHeight)},e[0]=s,e[1]=c):c=e[1];let u;e[2]!==s||e[3]!==n.lines.length?(u=[s,n.lines.length],e[2]=s,e[3]=n.lines.length,e[4]=u):u=e[4],b.useEffect(c,u);let d;e[5]!==n.durationMs?(d=n.durationMs!==null?` in ${pUe(n.durationMs)}`:"",e[5]=n.durationMs,e[6]=d):d=e[6];const m=d,h=a?"border-init-error-border bg-init-error-bg":"border-init-border bg-init-bg";let p;e[7]!==r||e[8]!==h?(p=ce("my-2 rounded border px-3 py-2",h,r),e[7]=r,e[8]=h,e[9]=p):p=e[9];const f=a?"text-error":i?"text-success":"text-accent";let g;e[10]!==f?(g=ce("flex-shrink-0",f),e[10]=f,e[11]=g):g=e[11];let x;e[12]!==a||e[13]!==s||e[14]!==i?(x=s?l.jsx(pn,{className:"size-3.5 animate-spin"}):i?l.jsx(LJ,{className:"size-3.5"}):a?l.jsx(Wp,{className:"size-3.5"}):l.jsx(C1,{className:"size-3.5"}),e[12]=a,e[13]=s,e[14]=i,e[15]=x):x=e[15];let y;e[16]!==g||e[17]!==x?(y=l.jsx("span",{className:g,children:x}),e[16]=g,e[17]=x,e[18]=y):y=e[18];let w;e[19]!==m||e[20]!==s||e[21]!==i||e[22]!==n.exitCode?(w=s?l.jsx(L5,{colorClass:"var(--color-accent)",children:"Running init hook..."}):i?`Init hook completed${m}`:l.jsxs("span",{className:"text-error",children:["Init hook failed (exit code ",n.exitCode,")",m]}),e[19]=m,e[20]=s,e[21]=i,e[22]=n.exitCode,e[23]=w):w=e[23];let v;e[24]!==w?(v=l.jsx("span",{className:"font-primary text-foreground text-[12px]",children:w}),e[24]=w,e[25]=v):v=e[25];let k;e[26]!==v||e[27]!==y?(k=l.jsxs("div",{className:"flex items-center gap-2",children:[y,v]}),e[26]=v,e[27]=y,e[28]=k):k=e[28];let C;e[29]!==n.hookPath?(C=l.jsx("div",{className:"text-muted mt-1 truncate font-mono text-[11px]",children:n.hookPath}),e[29]=n.hookPath,e[30]=C):C=e[30];let _;e[31]!==a||e[32]!==n.lines||e[33]!==n.truncatedLines?(_=n.lines.length>0&&l.jsxs("pre",{ref:o,className:ce("m-0 mt-2.5 max-h-[120px] overflow-auto rounded-sm","bg-init-output-bg px-2 py-1.5 font-mono text-[11px] leading-relaxed whitespace-pre-wrap",a?"text-init-output-error-text":"text-init-output-text"),children:[n.truncatedLines&&l.jsxs("span",{className:"text-muted",children:["... ",n.truncatedLines.toLocaleString()," earlier lines truncated ...",`
`]}),n.lines.map((T,N)=>l.jsxs("span",{className:T.isError?"text-init-output-error-text":void 0,children:[T.line,N<n.lines.length-1?`
`:""]},N))]}),e[31]=a,e[32]=n.lines,e[33]=n.truncatedLines,e[34]=_):_=e[34];let S;return e[35]!==k||e[36]!==C||e[37]!==_||e[38]!==p?(S=l.jsxs("div",{className:p,children:[k,C,_]}),e[35]=k,e[36]=C,e[37]=_,e[38]=p,e[39]=S):S=e[39],S});tY.displayName="InitMessage";const KS=xe.memo(t=>{const e=ae.c(45),{message:n,className:r,onEditUserMessage:a,workspaceId:s,isCompacting:i,onReviewNote:o,isLatestProposePlan:c,bashOutputGroup:u,taskReportLinking:d,userMessageNavigation:m}=t;switch(n.type){case"user":{let h;return e[0]!==r||e[1]!==i||e[2]!==n||e[3]!==a||e[4]!==m?(h=l.jsx(bze,{message:n,className:r,onEdit:a,isCompacting:i,navigation:m}),e[0]=r,e[1]=i,e[2]=n,e[3]=a,e[4]=m,e[5]=h):h=e[5],h}case"assistant":{let h;return e[6]!==r||e[7]!==i||e[8]!==n||e[9]!==s?(h=l.jsx(jze,{message:n,className:r,workspaceId:s,isCompacting:i}),e[6]=r,e[7]=i,e[8]=n,e[9]=s,e[10]=h):h=e[10],h}case"tool":{let h;return e[11]!==u||e[12]!==r||e[13]!==c||e[14]!==n||e[15]!==o||e[16]!==d||e[17]!==s?(h=l.jsx(aUe,{message:n,className:r,workspaceId:s,onReviewNote:o,isLatestProposePlan:c,bashOutputGroup:u,taskReportLinking:d}),e[11]=u,e[12]=r,e[13]=c,e[14]=n,e[15]=o,e[16]=d,e[17]=s,e[18]=h):h=e[18],h}case"reasoning":{let h;return e[19]!==r||e[20]!==n?(h=l.jsx(sUe,{message:n,className:r}),e[19]=r,e[20]=n,e[21]=h):h=e[21],h}case"stream-error":{let h;return e[22]!==r||e[23]!==n?(h=l.jsx(cUe,{message:n,className:r}),e[22]=r,e[23]=n,e[24]=h):h=e[24],h}case"compaction-boundary":{let h;return e[25]!==r||e[26]!==n?(h=l.jsx(mUe,{message:n,className:r}),e[25]=r,e[26]=n,e[27]=h):h=e[27],h}case"history-hidden":{let h;return e[28]!==r||e[29]!==n||e[30]!==s?(h=l.jsx(hUe,{message:n,className:r,workspaceId:s}),e[28]=r,e[29]=n,e[30]=s,e[31]=h):h=e[31],h}case"workspace-init":{let h;return e[32]!==r||e[33]!==n?(h=l.jsx(tY,{message:n,className:r}),e[32]=r,e[33]=n,e[34]=h):h=e[34],h}case"plan-display":{let h;e[35]===Symbol.for("react.memo_cache_sentinel")?(h={},e[35]=h):h=e[35];let p;e[36]!==n.historyId||e[37]!==s?(p=()=>{s&&bQ(s,n.historyId)},e[36]=n.historyId,e[37]=s,e[38]=p):p=e[38];let f;return e[39]!==r||e[40]!==n.content||e[41]!==n.path||e[42]!==p||e[43]!==s?(f=l.jsx(KK,{args:h,isEphemeralPreview:!0,content:n.content,path:n.path,workspaceId:s,onClose:p,className:r}),e[39]=r,e[40]=n.content,e[41]=n.path,e[42]=p,e[43]=s,e[44]=f):f=e[44],f}default:return console.error("don't know how to render message",n),null}});KS.displayName="MessageRenderer";const nY=t=>{const e=ae.c(17),{text:n,color:r,animate:a,className:s}=t,o=(a===void 0?!1:a)?"animate-pulse opacity-100":"opacity-60";let c;e[0]!==s||e[1]!==o?(c=ce("flex items-center gap-3 py-2 my-1",o,s),e[0]=s,e[1]=o,e[2]=c):c=e[2];const u=`linear-gradient(to right, transparent, ${r} 20%, ${r} 80%, transparent)`;let d;e[3]!==u?(d=l.jsx("div",{className:"h-px flex-1 opacity-30",style:{background:u}}),e[3]=u,e[4]=d):d=e[4];let m;e[5]!==r?(m={color:r},e[5]=r,e[6]=m):m=e[6];let h;e[7]!==m||e[8]!==n?(h=l.jsx("div",{className:"font-mono text-[10px] tracking-wide whitespace-nowrap uppercase",style:m,children:n}),e[7]=m,e[8]=n,e[9]=h):h=e[9];const p=`linear-gradient(to right, transparent, ${r} 20%, ${r} 80%, transparent)`;let f;e[10]!==p?(f=l.jsx("div",{className:"h-px flex-1 opacity-30",style:{background:p}}),e[10]=p,e[11]=f):f=e[11];let g;return e[12]!==c||e[13]!==d||e[14]!==h||e[15]!==f?(g=l.jsxs("div",{className:c,children:[d,h,f]}),e[12]=c,e[13]=d,e[14]=h,e[15]=f,e[16]=g):g=e[16],g},fUe=t=>{const e=ae.c(2),{className:n}=t;let r;return e[0]!==n?(r=l.jsx(nY,{text:"interrupted",color:"var(--color-interrupted)",className:n}),e[0]=n,e[1]=r):r=e[1],r},gUe=t=>{const e=ae.c(7),{className:n}=t;let r;e[0]!==n?(r=ce("flex items-center gap-3 py-3 my-4",n),e[0]=n,e[1]=r):r=e[1];let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx("div",{className:"h-px flex-1",style:{background:"linear-gradient(to right, transparent, var(--color-edit-mode) 20%, var(--color-edit-mode) 80%, transparent)"}}),e[2]=a):a=e[2];let s;e[3]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsxs("div",{className:"border-edit-mode/30 bg-edit-mode/10 text-edit-mode flex items-center gap-2 rounded-md border px-3 py-1.5 text-[11px] font-medium",children:[l.jsx(Mr,{"aria-hidden":"true",className:"h-4 w-4"}),l.jsx("span",{children:"Messages below will be removed when you submit"})]}),e[3]=s):s=e[3];let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx("div",{className:"h-px flex-1",style:{background:"linear-gradient(to right, transparent, var(--color-edit-mode) 20%, var(--color-edit-mode) 80%, transparent)"}}),e[4]=i):i=e[4];let o;return e[5]!==r?(o=l.jsxs("div",{className:r,children:[a,s,i]}),e[5]=r,e[6]=o):o=e[6],o},bUe=t=>{const e=ae.c(15),n=`flex items-center justify-between gap-4 ${t.className??""}`;let r;e[0]!==t.statusText?(r=l.jsx(nY,{text:t.statusText,color:"var(--color-assistant-border)",animate:!0}),e[0]=t.statusText,e[1]=r):r=e[1];let a;e[2]!==t.tokenCount||e[3]!==t.tps?(a=t.tokenCount!==void 0&&l.jsxs("span",{className:"text-assistant-border font-mono text-[11px] whitespace-nowrap select-none",children:["~",t.tokenCount.toLocaleString()," tokens",t.tps!==void 0&&t.tps>0&&l.jsxs("span",{className:"text-dim ml-1",children:["@ ",t.tps," t/s"]})]}),e[2]=t.tokenCount,e[3]=t.tps,e[4]=a):a=e[4];let s;e[5]!==t.hintElement||e[6]!==r||e[7]!==a?(s=l.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[r,t.hintElement,a]}),e[5]=t.hintElement,e[6]=r,e[7]=a,e[8]=s):s=e[8];let i;e[9]!==t.cancelText?(i=l.jsx("div",{className:"text-muted ml-auto text-[11px] whitespace-nowrap select-none",children:t.cancelText}),e[9]=t.cancelText,e[10]=i):i=e[10];let o;return e[11]!==n||e[12]!==s||e[13]!==i?(o=l.jsxs("div",{className:n,children:[s,i]}),e[11]=n,e[12]=s,e[13]=i,e[14]=o):o=e[14],o},xUe=t=>{const e=ae.c(20),{workspaceId:n,className:r}=t,a=Rf(n),s=BA(n),{open:i}=as(),{canInterrupt:o,isCompacting:c,awaitingUserQuestion:u,currentModel:d,pendingStreamStartTime:m,pendingStreamModel:h,runtimeStatus:p}=a,f=m!==null&&!o;let g;e:{if(f){g="starting";break e}if(!o){g=null;break e}if(s?.hasInterruptingStream()){g="interrupting";break e}if(u){g="awaiting-input";break e}if(c){g="compacting";break e}g="streaming"}const x=g,y=x==="streaming"||x==="compacting",w=y?a.streamingTokenCount:void 0,v=y?a.streamingTPS:void 0;if(!x)return null;let k;e[0]!==d||e[1]!==h||e[2]!==x||e[3]!==n?(k=x==="starting"?h??_n(gs(n),null)??zm():d,e[0]=d,e[1]=h,e[2]=x,e[3]=n,e[4]=k):k=e[4];const C=k;let _;e[5]!==C?(_=C?nu(C):null,e[5]=C,e[6]=_):_=e[6];const S=_,T=_n(Fm,!1);let N;e[7]===Symbol.for("react.memo_cache_sentinel")?(N=Bt(T?st.INTERRUPT_STREAM_VIM:st.INTERRUPT_STREAM_NORMAL),e[7]=N):N=e[7];const R=`hit ${N} to cancel`;let I;e:{switch(x){case"starting":{if(p?.phase==="starting"||p?.phase==="waiting"){I=p.detail??"Starting workspace...";break e}I=S?`${S} starting...`:"starting...";break e}case"interrupting":{I="interrupting...";break e}case"awaiting-input":{I="Awaiting your input...";break e}case"compacting":{I=S?`${S} compacting...`:"compacting...";break e}case"streaming":{I=S?`${S} streaming...`:"streaming...";break e}}I=void 0}const A=I;let $;e:{switch(x){case"interrupting":{$="";break e}case"awaiting-input":{$="type a message to respond";break e}case"starting":case"compacting":case"streaming":{$=R;break e}}$=void 0}const E=$;let M;e[8]!==x?(M=x==="compacting"&&!bx(xx),e[8]=x,e[9]=M):M=e[9];const F=M;let L;e[10]!==i||e[11]!==F?(L=F?l.jsx("button",{onClick:()=>i("models"),className:"text-muted hover:text-foreground text-[10px] underline decoration-dotted underline-offset-2",children:"configure"}):void 0,e[10]=i,e[11]=F,e[12]=L):L=e[12];let Y;return e[13]!==E||e[14]!==r||e[15]!==A||e[16]!==L||e[17]!==w||e[18]!==v?(Y=l.jsx(bUe,{statusText:A,tokenCount:w,tps:v,cancelText:E,className:r,hintElement:L}),e[13]=E,e[14]=r,e[15]=A,e[16]=L,e[17]=w,e[18]=v,e[19]=Y):Y=e[19],Y};function yUe(t){const e=ae.c(3);let n;e[0]!==t?(n=M_(t),e[0]=t,e[1]=n):n=e[1];let r;return e[2]===Symbol.for("react.memo_cache_sentinel")?(r={listener:!0},e[2]=r):r=e[2],Tt(n,Js.autoRetry,r)}function wUe(t){return _n(M_(t),Js.autoRetry)}function rY(t,e){rn(M_(t),e)}function aY(t){rY(t,!0)}function rx(t){rY(t,!1)}const vUe=15e3;function sY(){return typeof window<"u"&&window.__MUX_FORCE_ALL_RETRYABLE===!0}const kUe=["authentication","quota","model_not_found","context_exceeded","aborted","runtime_not_ready"];function iY(t){if(sY())return!1;switch(t.type){case"api_key_not_found":case"oauth_not_connected":case"provider_not_supported":case"invalid_model_string":case"incompatible_workspace":case"runtime_not_ready":return!0;case"runtime_start_failed":case"unknown":return!1;case"policy_denied":return!0}}function _Ue(t){return t?.reason==="user"||t?.reason==="startup"}function CUe(t){return t.type==="history-hidden"||t.type==="workspace-init"||t.type==="compaction-boundary"}function Tf(t){for(let e=t.length-1;e>=0;e--){const n=t[e];if(!CUe(n))return n}}function SUe(t,e=null,n=null){if(t.length===0||e!==null&&Date.now()-e<vUe)return!1;const r=Tf(t);if(!r)return!1;const a=t.find(s=>s.type==="workspace-init");return a?.type==="workspace-init"&&a.status==="running"&&r.type!=="stream-error"||n!==null&&r.type!=="stream-error"||r.type==="tool"&&r.toolName==="ask_user_question"&&r.status==="executing"||r.type==="stream-error"&&r.errorType==="runtime_not_ready"?!1:r.type==="stream-error"||r.type==="user"||r.type==="assistant"&&r.isPartial===!0||r.type==="tool"&&r.isPartial===!0||r.type==="reasoning"&&r.isPartial===!0}function YS(t,e=null,n=null,r=null){if(!SUe(t,e,n))return{hasInterruptedStream:!1,isEligibleForAutoRetry:!1};if(_Ue(r))return{hasInterruptedStream:!1,isEligibleForAutoRetry:!1};const s=Tf(t);return s?s.type==="stream-error"?sY()?{hasInterruptedStream:!0,isEligibleForAutoRetry:!0}:{hasInterruptedStream:!0,isEligibleForAutoRetry:!kUe.includes(s.errorType)}:{hasInterruptedStream:!0,isEligibleForAutoRetry:!0}:{hasInterruptedStream:!1,isEligibleForAutoRetry:!1}}const r$={attempt:0,retryStartTime:Date.now()},jUe=t=>{const e=ae.c(49),n=Rf(t.workspaceId),[r]=yUe(t.workspaceId);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={listener:!0},e[0]=a):a=e[0];const[s]=Tt(Fm,!1,a),i=s?st.INTERRUPT_STREAM_VIM:st.INTERRUPT_STREAM_NORMAL;let o;e[1]!==i?(o=Bt(i),e[1]=i,e[2]=o):o=e[2];const c=o;let u;e[3]!==t.workspaceId?(u=Ad(t.workspaceId),e[3]=t.workspaceId,e[4]=u):u=e[4];let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d={listener:!0},e[5]=d):d=e[5];const[m]=Tt(u,r$,d),{attempt:h,retryStartTime:p,lastError:f}=m||r$;let g;e:{if(!r||!n){g=!1;break e}const{isEligibleForAutoRetry:Z}=YS(n.messages,n.pendingStreamStartTime,n.runtimeStatus,n.lastAbortReason);if(f&&iY(f)){g=!1;break e}g=Z}const x=g,[y,w]=b.useState(0);let v,k;e[6]!==h||e[7]!==r||e[8]!==p?(v=()=>{if(!r)return;const Z=setInterval(()=>{const W=zA(h),K=p+W,J=Math.max(0,K-Date.now());w(Math.ceil(J/1e3))},100);return()=>clearInterval(Z)},k=[r,h,p],e[6]=h,e[7]=r,e[8]=p,e[9]=v,e[10]=k):(v=e[9],k=e[10]),b.useEffect(v,k);let C;e[11]!==h||e[12]!==t.workspaceId?(C=()=>{aY(t.workspaceId),rn(Ad(t.workspaceId),yQ(h)),window.dispatchEvent(_i(Rn.RESUME_CHECK_REQUESTED,{workspaceId:t.workspaceId,isManual:!0}))},e[11]=h,e[12]=t.workspaceId,e[13]=C):C=e[13];const _=C;let S;e[14]!==t.workspaceId?(S=()=>{w(0),rx(t.workspaceId)},e[14]=t.workspaceId,e[15]=S):S=e[15];const T=S,N=TUe;let j;e[16]!==f?(j=f?l.jsxs("div",{className:"font-primary text-foreground/80 pl-8 text-[12px]",children:[l.jsx("span",{className:"text-warning font-semibold",children:"Error:"})," ",N(f)]}):null,e[16]=f,e[17]=j):j=e[17];const R=j;let I;e[18]!==t.className?(I=ce("my-5 px-5 py-4 bg-gradient-to-br from-[rgba(255,165,0,0.1)] to-[rgba(255,140,0,0.1)] border-l-4 border-warning rounded flex flex-col gap-3",t.className),e[18]=t.className,e[19]=I):I=e[19];const A=I,$=n?Tf(n.messages):void 0,M=($?.type==="stream-error"?$:null)?.errorType==="rate_limit"?"Rate limited":null;let F;e[20]===Symbol.for("react.memo_cache_sentinel")?(F=l.jsx(Mr,{"aria-hidden":"true",className:"text-warning h-4 w-4 shrink-0"}),e[20]=F):F=e[20];let L=F;const Y=M??"Stream interrupted";let O;e[21]!==Y?(O=l.jsx(l.Fragment,{children:Y}),e[21]=Y,e[22]=O):O=e[22];let G=O,H;if(x){let Z;e[23]===Symbol.for("react.memo_cache_sentinel")?(Z=l.jsx(Xo,{"aria-hidden":"true",className:"text-warning h-4 w-4 shrink-0 animate-spin"}),e[23]=Z):Z=e[23],L=Z;let W;e[24]!==M?(W=M?l.jsxs(l.Fragment,{children:[M,"  "]}):null,e[24]=M,e[25]=W):W=e[25];const K=W;let J;e[26]!==h||e[27]!==y||e[28]!==K?(J=y===0?l.jsxs(l.Fragment,{children:[K,"Retrying... (attempt ",h+1,")"]}):l.jsxs(l.Fragment,{children:[K,"Retrying in ",l.jsxs("span",{className:"text-warning font-mono font-semibold",children:[y,"s"]})," ","(attempt ",h+1,")"]}),e[26]=h,e[27]=y,e[28]=K,e[29]=J):J=e[29],G=J;let ee;e[30]!==T||e[31]!==c?(ee=l.jsxs("button",{className:"border-warning font-primary text-warning hover:bg-warning-overlay cursor-pointer rounded border bg-transparent px-4 py-2 text-xs font-semibold whitespace-nowrap transition-all duration-200 hover:-translate-y-px active:translate-y-0 disabled:cursor-not-allowed disabled:opacity-50",onClick:T,children:["Stop (",c,")"]}),e[30]=T,e[31]=c,e[32]=ee):ee=e[32],H=ee}else{let Z;e[33]!==_?(Z=l.jsx("button",{className:"bg-warning font-primary text-background cursor-pointer rounded border-none px-4 py-2 text-xs font-semibold whitespace-nowrap transition-all duration-200 hover:-translate-y-px hover:brightness-120 active:translate-y-0 disabled:cursor-not-allowed disabled:opacity-50",onClick:_,children:"Retry"}),e[33]=_,e[34]=Z):Z=e[34],H=Z}let D;e[35]!==L?(D=l.jsx("span",{className:"shrink-0",children:L}),e[35]=L,e[36]=D):D=e[36];let U;e[37]!==G?(U=l.jsx("div",{className:"font-primary text-foreground text-[13px] font-medium",children:G}),e[37]=G,e[38]=U):U=e[38];let B;e[39]!==D||e[40]!==U?(B=l.jsxs("div",{className:"flex flex-1 items-center gap-3",children:[D,U]}),e[39]=D,e[40]=U,e[41]=B):B=e[41];let q;e[42]!==H||e[43]!==B?(q=l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[B,H]}),e[42]=H,e[43]=B,e[44]=q):q=e[44];let V;return e[45]!==A||e[46]!==R||e[47]!==q?(V=l.jsxs("div",{className:A,children:[q,R]}),e[45]=A,e[46]=R,e[47]=q,e[48]=V):V=e[48],V};function TUe(t){if(!t)return"";const e=xQ(t);return e.resolutionHint?`${e.message} ${e.resolutionHint}`:e.message}const EUe=t=>{const e=ae.c(21),{workspaceId:n}=t,[r,a]=Tt("pinnedTodoExpanded",!0),s=Du();let i,o;e[0]!==n||e[1]!==s?(i=y=>s.subscribeKey(n,y),o=()=>s.getWorkspaceState(n).todos,e[0]=n,e[1]=s,e[2]=i,e[3]=o):(i=e[2],o=e[3]);const c=b.useSyncExternalStore(i,o);if(c.length===0)return null;let u;e[4]!==r||e[5]!==a?(u=()=>a(!r),e[4]=r,e[5]=a,e[6]=u):u=e[6];const d=r?"rotate-90":"rotate-0";let m;e[7]!==d?(m=ce("inline-block transition-transform duration-200 text-[8px]",d),e[7]=d,e[8]=m):m=e[8];let h;e[9]!==m?(h=l.jsx("span",{className:m,children:""}),e[9]=m,e[10]=h):h=e[10];const p=r?":":"";let f;e[11]!==u||e[12]!==h||e[13]!==p?(f=l.jsxs("div",{className:"text-secondary flex cursor-pointer items-center gap-1 px-2 pt-1 pb-0.5 font-mono text-[10px] font-semibold tracking-wider select-none hover:opacity-80",onClick:u,children:[h,"TODO",p]}),e[11]=u,e[12]=h,e[13]=p,e[14]=f):f=e[14];let g;e[15]!==r||e[16]!==c?(g=r&&l.jsx(YK,{todos:c}),e[15]=r,e[16]=c,e[17]=g):g=e[17];let x;return e[18]!==f||e[19]!==g?(x=l.jsxs("div",{className:"bg-panel-background m-0 max-h-[300px] overflow-y-auto border-t border-dashed border-[hsl(0deg_0%_28.64%)]",children:[f,g]}),e[18]=f,e[19]=g,e[20]=x):x=e[20],x},a$=["Tab","Enter","ArrowUp","ArrowDown","Escape"],s$=["Tab","Enter","ArrowUp","ArrowDown","Escape"];function NUe(t){const e=ae.c(15),{text:n,query:r,className:a}=t;if(!r||r.length===0){let o;return e[0]!==a||e[1]!==n?(o=l.jsx("span",{className:a,children:n}),e[0]=a,e[1]=n,e[2]=o):o=e[2],o}let s;if(e[3]!==r||e[4]!==n){s=[];const o=n.toLowerCase(),c=r.toLowerCase();let u=0,d=o.indexOf(c);for(;d!==-1;)d>u&&s.push(l.jsx("span",{className:"opacity-60",children:n.slice(u,d)},`text-${u}`)),s.push(l.jsx("span",{className:"text-light",children:n.slice(d,d+r.length)},`match-${d}`)),u=d+r.length,d=o.indexOf(c,u);if(u<n.length){const m=`text-${u}`;let h;e[6]!==u||e[7]!==n?(h=n.slice(u),e[6]=u,e[7]=n,e[8]=h):h=e[8];let p;e[9]!==m||e[10]!==h?(p=l.jsx("span",{className:"opacity-60",children:h},m),e[9]=m,e[10]=h,e[11]=p):p=e[11],s.push(p)}e[3]=r,e[4]=n,e[5]=s}else s=e[5];let i;return e[12]!==a||e[13]!==s?(i=l.jsx("span",{className:a,children:s}),e[12]=a,e[13]=s,e[14]=i):i=e[14],i}const i$=t=>{const e=ae.c(56),{suggestions:n,onSelectSuggestion:r,onDismiss:a,isVisible:s,ariaLabel:i,listId:o,anchorRef:c,highlightQuery:u,isFileSuggestion:d}=t,m=i===void 0?"Command suggestions":i,h=d===void 0?!1:d,[p,f]=b.useState(0),[g,x]=b.useState(null),y=b.useRef(null),w=b.useRef(null),v=b.useRef(n),k=b.useRef(s);let C,_;e[0]!==s||e[1]!==n?(C=()=>{const Z=k.current;k.current=s;const W=v.current;if(v.current=n,!s||n.length===0){f(0);return}if(!Z){f(0);return}f(K=>{const J=W[K];if(J){const ee=n.findIndex(se=>se.id===J.id);if(ee!==-1)return ee}return Math.min(K,n.length-1)})},_=[s,n],e[0]=s,e[1]=n,e[2]=C,e[3]=_):(C=e[2],_=e[3]),b.useLayoutEffect(C,_);let S;e[4]===Symbol.for("react.memo_cache_sentinel")?(S=()=>{w.current?.scrollIntoView({block:"nearest"})},e[4]=S):S=e[4];let T;e[5]!==p?(T=[p],e[5]=p,e[6]=T):T=e[6],b.useLayoutEffect(S,T);let N;e[7]!==c||e[8]!==s?(N=()=>{if(!c?.current||!s){x(null);return}const Z=()=>{const W=c.current;if(!W)return;const K=W.getBoundingClientRect(),J=y.current?.offsetHeight??200;x({top:K.top-J-8,left:K.left,width:K.width})};return Z(),window.addEventListener("resize",Z),window.addEventListener("scroll",Z,!0),()=>{window.removeEventListener("resize",Z),window.removeEventListener("scroll",Z,!0)}},e[7]=c,e[8]=s,e[9]=N):N=e[9];let j;e[10]!==c||e[11]!==s||e[12]!==n?(j=[c,s,n],e[10]=c,e[11]=s,e[12]=n,e[13]=j):j=e[13],b.useLayoutEffect(N,j);let R;e[14]!==s||e[15]!==a||e[16]!==r||e[17]!==p||e[18]!==n?(R=()=>{if(!s||n.length===0)return;const Z=W=>{e:switch(W.key){case"ArrowDown":{W.preventDefault(),f(K=>(K+1)%n.length);break e}case"ArrowUp":{W.preventDefault(),f(K=>(K-1+n.length)%n.length);break e}case"Tab":{!W.shiftKey&&n.length>0&&(W.preventDefault(),r(n[p]));break e}case"Enter":{!W.shiftKey&&n.length>0&&(W.preventDefault(),r(n[p]));break e}case"Escape":W.preventDefault(),W.stopPropagation(),a()}};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},e[14]=s,e[15]=a,e[16]=r,e[17]=p,e[18]=n,e[19]=R):R=e[19];let I;e[20]!==h||e[21]!==s||e[22]!==a||e[23]!==r||e[24]!==p||e[25]!==n?(I=[s,n,p,r,a,h],e[20]=h,e[21]=s,e[22]=a,e[23]=r,e[24]=p,e[25]=n,e[26]=I):I=e[26],b.useEffect(R,I);let A,$;if(e[27]!==s||e[28]!==a?(A=()=>{if(!s)return;const Z=W=>{W.target.closest("[data-command-suggestions]")||a()};return document.addEventListener("mousedown",Z),()=>document.removeEventListener("mousedown",Z)},$=[s,a],e[27]=s,e[28]=a,e[29]=A,e[30]=$):(A=e[29],$=e[30]),b.useEffect(A,$),!s||n.length===0)return null;const E=n[p]??n[0],M=o??"command-suggestions-list",F=E?`${M}-option-${E.id}`:void 0,L=!c&&"absolute right-0 bottom-full left-0 mb-2";let Y;e[31]!==L?(Y=ce("bg-separator border-border-light z-[1010] flex max-h-[200px] flex-col overflow-y-auto rounded border shadow-[0_-4px_12px_rgba(0,0,0,0.4)]",L),e[31]=L,e[32]=Y):Y=e[32];let O;e[33]!==c||e[34]!==g?(O=c&&g?{position:"fixed",top:g.top,left:g.left,width:g.width}:void 0,e[33]=c,e[34]=g,e[35]=O):O=e[35];let G;e[36]!==u||e[37]!==h||e[38]!==r||e[39]!==M||e[40]!==p||e[41]!==n?(G=n.map((Z,W)=>l.jsxs("div",{ref:W===p?w:void 0,onMouseEnter:()=>f(W),onClick:()=>r(Z),id:`${M}-option-${Z.id}`,role:"option","aria-selected":W===p,className:ce("cursor-pointer flex items-center gap-2 px-2.5 py-1.5 hover:bg-hover",W===p?"bg-hover":"bg-transparent"),children:[h&&l.jsx(cc,{filePath:Z.display,className:"shrink-0 text-sm"}),l.jsx("div",{className:ce("font-monospace text-foreground text-xs",h?"min-w-0 flex-1 truncate":"shrink-0 whitespace-nowrap"),children:l.jsx(NUe,{text:Z.display,query:u})}),l.jsx("div",{className:ce("text-secondary min-w-0 truncate text-[11px]",h?"max-w-[70%]":"flex-1 text-right"),title:Z.description,children:Z.description})]},Z.id)),e[36]=u,e[37]=h,e[38]=r,e[39]=M,e[40]=p,e[41]=n,e[42]=G):G=e[42];let H;e[43]===Symbol.for("react.memo_cache_sentinel")?(H=l.jsx("span",{children:"Enter"}),e[43]=H):H=e[43];let D;e[44]===Symbol.for("react.memo_cache_sentinel")?(D=l.jsx("span",{children:"Tab"}),e[44]=D):D=e[44];let U;e[45]===Symbol.for("react.memo_cache_sentinel")?(U=l.jsx("span",{children:""}),e[45]=U):U=e[45];let B;e[46]===Symbol.for("react.memo_cache_sentinel")?(B=l.jsxs("div",{className:"border-border-light bg-dark text-placeholder [&_span]:text-medium shrink-0 border-t px-2.5 py-1 text-center text-[10px] [&_span]:font-medium",children:[H," or ",D," to complete  ",U," to navigate "," ",l.jsx("span",{children:"Esc"})," to dismiss"]}),e[46]=B):B=e[46];let q;e[47]!==m||e[48]!==M||e[49]!==F||e[50]!==Y||e[51]!==O||e[52]!==G?(q=l.jsxs("div",{ref:y,id:M,role:"listbox","aria-label":m,"aria-activedescendant":F,"data-command-suggestions":!0,className:Y,style:O,children:[G,B]}),e[47]=m,e[48]=M,e[49]=F,e[50]=Y,e[51]=O,e[52]=G,e[53]=q):q=e[53];const V=q;if(c){let Z;return e[54]!==V?(Z=Ys.createPortal(V,document.body),e[54]=V,e[55]=Z):Z=e[55],Z}return V};var Xv,o$;function $Ue(){if(o$)return Xv;o$=1;function t(r,a){var s=r;a.slice(0,-1).forEach(function(o){s=s[o]||{}});var i=a[a.length-1];return i in s}function e(r){return typeof r=="number"||/^0x[0-9a-f]+$/i.test(r)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(r)}function n(r,a){return a==="constructor"&&typeof r[a]=="function"||a==="__proto__"}return Xv=function(r,a){a||(a={});var s={bools:{},strings:{},unknownFn:null};typeof a.unknown=="function"&&(s.unknownFn=a.unknown),typeof a.boolean=="boolean"&&a.boolean?s.allBools=!0:[].concat(a.boolean).filter(Boolean).forEach(function(S){s.bools[S]=!0});var i={};function o(S){return i[S].some(function(T){return s.bools[T]})}Object.keys(a.alias||{}).forEach(function(S){i[S]=[].concat(a.alias[S]),i[S].forEach(function(T){i[T]=[S].concat(i[S].filter(function(N){return T!==N}))})}),[].concat(a.string).filter(Boolean).forEach(function(S){s.strings[S]=!0,i[S]&&[].concat(i[S]).forEach(function(T){s.strings[T]=!0})});var c=a.default||{},u={_:[]};function d(S,T){return s.allBools&&/^--[^=]+$/.test(T)||s.strings[S]||s.bools[S]||i[S]}function m(S,T,N){for(var j=S,R=0;R<T.length-1;R++){var I=T[R];if(n(j,I))return;j[I]===void 0&&(j[I]={}),(j[I]===Object.prototype||j[I]===Number.prototype||j[I]===String.prototype)&&(j[I]={}),j[I]===Array.prototype&&(j[I]=[]),j=j[I]}var A=T[T.length-1];n(j,A)||((j===Object.prototype||j===Number.prototype||j===String.prototype)&&(j={}),j===Array.prototype&&(j=[]),j[A]===void 0||s.bools[A]||typeof j[A]=="boolean"?j[A]=N:Array.isArray(j[A])?j[A].push(N):j[A]=[j[A],N])}function h(S,T,N){if(!(N&&s.unknownFn&&!d(S,N)&&s.unknownFn(N)===!1)){var j=!s.strings[S]&&e(T)?Number(T):T;m(u,S.split("."),j),(i[S]||[]).forEach(function(R){m(u,R.split("."),j)})}}Object.keys(s.bools).forEach(function(S){h(S,c[S]===void 0?!1:c[S])});var p=[];r.indexOf("--")!==-1&&(p=r.slice(r.indexOf("--")+1),r=r.slice(0,r.indexOf("--")));for(var f=0;f<r.length;f++){var g=r[f],x,y;if(/^--.+=/.test(g)){var w=g.match(/^--([^=]+)=([\s\S]*)$/);x=w[1];var v=w[2];s.bools[x]&&(v=v!=="false"),h(x,v,g)}else if(/^--no-.+/.test(g))x=g.match(/^--no-(.+)/)[1],h(x,!1,g);else if(/^--.+/.test(g))x=g.match(/^--(.+)/)[1],y=r[f+1],y!==void 0&&!/^(-|--)[^-]/.test(y)&&!s.bools[x]&&!s.allBools&&(!i[x]||!o(x))?(h(x,y,g),f+=1):/^(true|false)$/.test(y)?(h(x,y==="true",g),f+=1):h(x,s.strings[x]?"":!0,g);else if(/^-[^-]+/.test(g)){for(var k=g.slice(1,-1).split(""),C=!1,_=0;_<k.length;_++){if(y=g.slice(_+2),y==="-"){h(k[_],y,g);continue}if(/[A-Za-z]/.test(k[_])&&y[0]==="="){h(k[_],y.slice(1),g),C=!0;break}if(/[A-Za-z]/.test(k[_])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(y)){h(k[_],y,g),C=!0;break}if(k[_+1]&&k[_+1].match(/\W/)){h(k[_],g.slice(_+2),g),C=!0;break}else h(k[_],s.strings[k[_]]?"":!0,g)}x=g.slice(-1)[0],!C&&x!=="-"&&(r[f+1]&&!/^(-|--)[^-]/.test(r[f+1])&&!s.bools[x]&&(!i[x]||!o(x))?(h(x,r[f+1],g),f+=1):r[f+1]&&/^(true|false)$/.test(r[f+1])?(h(x,r[f+1]==="true",g),f+=1):h(x,s.strings[x]?"":!0,g))}else if((!s.unknownFn||s.unknownFn(g)!==!1)&&u._.push(s.strings._||!e(g)?g:Number(g)),a.stopEarly){u._.push.apply(u._,r.slice(f+1));break}}return Object.keys(c).forEach(function(S){t(u,S.split("."))||(m(u,S.split("."),c[S]),(i[S]||[]).forEach(function(T){m(u,T.split("."),c[S])}))}),a["--"]?u["--"]=p.slice():p.forEach(function(S){u._.push(S)}),u},Xv}var AUe=$Ue();const oY=Ru(AUe);function XS(t){const e=t.includes(`
`),n=t.split(`
`),r=n[0],a=n.slice(1).join(`
`).trim(),s=(r.match(/(?:[^\s"]+|"[^"]*")+/g)??[]).map(i=>i.replace(/^"(.*)"$/,"$1"));return{firstLine:r,tokens:s,message:a.length>0?a:void 0,hasMultiline:e}}function IUe(t,e,n){const r=e.trim().toLowerCase();return t.filter(a=>r?a.key.toLowerCase().startsWith(r):!0).map(a=>n(a))}const RUe={key:"clear",description:"Clear conversation history",appendSpace:!1,handler:({cleanRemainingTokens:t})=>t.length>0?{type:"unknown-command",command:"clear",subcommand:t[0]}:{type:"clear"}},Zv="/truncate <0-100> (percentage to remove)",MUe={key:"truncate",description:"Truncate conversation history by percentage (0-100)",handler:({cleanRemainingTokens:t})=>{if(t.length===0)return{type:"command-missing-args",command:"truncate",usage:Zv};if(t.length>1)return{type:"command-invalid-args",command:"truncate",input:t.join(" "),usage:Zv};const e=t[0],n=parseFloat(e);return isNaN(n)||n<0||n>100?{type:"command-invalid-args",command:"truncate",input:e,usage:Zv}:{type:"truncate",percentage:n/100}}},DUe={key:"compact",description:"Compact conversation history using AI summarization. Use -t <tokens> to set max output tokens, -m <model> to set compaction model. Add continue message on lines after the command.",handler:({rawInput:t})=>{const{tokens:e,message:n,hasMultiline:r}=XS(t),a=oY(e,{string:["t","c","m"],unknown:u=>!u.startsWith("-")}),s=e.filter(u=>u.startsWith("-")&&u!=="-t"&&u!=="-c"&&u!=="-m");if(s.length>0)return{type:"unknown-command",command:"compact",subcommand:`Unknown flag: ${s[0]}`};let i;if(a.t!==void 0){const u=parseInt(a.t,10);if(isNaN(u)||u<=0)return{type:"unknown-command",command:"compact",subcommand:`-t requires a positive number, got ${String(a.t)}`};i=u}let o;if(a.m!==void 0&&typeof a.m=="string"&&a.m.trim().length>0&&(o=qp(a.m.trim()).model??a.m.trim()),a._.length>0&&!r)return{type:"unknown-command",command:"compact",subcommand:`Unexpected argument: ${a._[0]}`};let c;return a.c!==void 0&&typeof a.c=="string"&&a.c.trim().length>0?c=a.c.trim():n&&(c=n),{type:"compact",maxOutputTokens:i,continueMessage:c,model:o}}},LUe={key:"model",description:"Select AI model",handler:({cleanRemainingTokens:t})=>{if(t.length===0)return{type:"model-help"};if(t.length===1){const e=t[0];return{type:"model-set",modelString:qp(e).model??e}}return{type:"unknown-command",command:"model",subcommand:t[1]}},suggestions:({stage:t,partialToken:e})=>{if(t===1){const n=Object.entries(Id).map(([r,a])=>({key:r,description:a}));return IUe(n,e,r=>({id:`command:model:${r.key}`,display:r.key,description:r.description,replacement:`/model ${r.key}`}))}return null}},OUe={key:"vim",description:"Toggle Vim mode for the chat input",appendSpace:!1,handler:({cleanRemainingTokens:t})=>t.length>0?{type:"unknown-command",command:"vim",subcommand:t[0]}:{type:"vim-toggle"}},PUe={key:"open",description:"Open plan in external editor",appendSpace:!1,handler:()=>({type:"plan-open"})},FUe={key:"plan",description:"Show or edit the current plan",appendSpace:!1,handler:({cleanRemainingTokens:t})=>t.length>0?{type:"unknown-command",command:"plan",subcommand:t[0]}:{type:"plan-show"},children:[PUe]},BUe={key:"fork",description:"Fork workspace with new name and optional start message. Add start message on lines after the command.",handler:({rawInput:t})=>{const{tokens:e,message:n}=XS(t);if(e.length===0)return{type:"fork-help"};const r=e[0];let a;return n?a=n:e.length>1&&(a=e.slice(1).join(" ").trim()),{type:"fork",newName:r,startMessage:a&&a.length>0?a:void 0}}},zUe={key:"new",description:"Create new workspace with optional trunk branch and runtime. Use -t <branch> to specify trunk, -r <runtime> for remote execution (e.g., 'ssh hostname' or 'ssh user@host'). Add start message on lines after the command.",handler:({rawInput:t})=>{const{tokens:e,message:n,hasMultiline:r}=XS(t),a=oY(e,{string:["t","r"],unknown:u=>!u.startsWith("-")});if(e.filter(u=>u.startsWith("-")&&u!=="-t"&&u!=="-r").length>0)return{type:"new",workspaceName:void 0,trunkBranch:void 0,runtime:void 0,startMessage:void 0};if(a._.length===0){let u;a.t!==void 0&&typeof a.t=="string"&&a.t.trim().length>0&&(u=a.t.trim());let d;return a.r!==void 0&&typeof a.r=="string"&&a.r.trim().length>0&&(d=a.r.trim()),{type:"new",workspaceName:void 0,trunkBranch:u,runtime:d,startMessage:n}}const i=String(a._[0]);if(a._.length>1&&!r)return{type:"new",workspaceName:void 0,trunkBranch:void 0,runtime:void 0,startMessage:void 0};let o;a.t!==void 0&&typeof a.t=="string"&&a.t.trim().length>0&&(o=a.t.trim());let c;return a.r!==void 0&&typeof a.r=="string"&&a.r.trim().length>0&&(c=a.r.trim()),{type:"new",workspaceName:i,trunkBranch:o,runtime:c,startMessage:n}}},l$="/idle <hours> or /idle off",HUe={key:"idle",description:"Configure idle compaction for this project. Usage: /idle <hours> or /idle off",appendSpace:!1,handler:({cleanRemainingTokens:t})=>{if(t.length===0)return{type:"command-missing-args",command:"idle",usage:l$};const e=t[0].toLowerCase();if(e==="off"||e==="disable"||e==="0")return{type:"idle-compaction",hours:null};const n=parseInt(e,10);return isNaN(n)||n<1?{type:"command-invalid-args",command:"idle",input:e,usage:l$}:{type:"idle-compaction",hours:n}}},qUe={key:"debug-llm-request",description:"Show the last LLM request sent (debug)",appendSpace:!1,handler:()=>({type:"debug-llm-request"})},UUe=[RUe,MUe,DUe,LUe,FUe,BUe,zUe,OUe,HUe,qUe],j2=new Map(UUe.map(t=>[t.key,t]));function lY(t){const e=t.trim();if(!e.startsWith("/"))return null;const n=e.substring(1).match(/(?:[^\s"]+|"[^"]*")+/g)??[];if(n.length===0)return null;const[r,...a]=n,s=j2.get(r);if(!s){const h=r?GUe(r):null;if(h){const p=`/${r}`;let f=e.substring(p.length);for(;f.startsWith(" ");)f=f.substring(1);return f.trim()?{type:"model-oneshot",...h,message:f}:{type:"model-help"}}return{type:"unknown-command",command:r??"",subcommand:a[0]}}const i=[s];let o=a;for(;o.length>0;){const p=i[i.length-1].children??[],f=o[0],g=p.find(x=>x.key===f);if(!g)break;i.push(g),o=o.slice(1)}const c=i[i.length-1];if(!c.handler)return{type:"unknown-command",command:r??"",subcommand:o[0]};const u=o.map(h=>h.replace(/^"(.*)"$/,"$1")),d=`/${r}`;let m=e.substring(d.length);for(;m.startsWith(" ");)m=m.substring(1);return c.handler({definition:c,path:i,remainingTokens:o,cleanRemainingTokens:u,rawInput:m})}function WUe(){return Array.from(j2.values())}function GUe(t){const e=t.indexOf("+");if(e===-1)return Object.hasOwn(Id,t)?{modelString:qp(t).model??Id[t]}:null;const n=t.substring(0,e),r=t.substring(e+1);if(!r)return null;const a=wQ(r);return a==null?null:n?Object.hasOwn(Id,n)?{modelString:qp(n).model??Id[n],thinkingLevel:a}:null:{thinkingLevel:a}}const Qv=[...ru],c$=t=>{if(t===0)return{color:"var(--color-text-secondary)",fontWeight:400};const e=400+t*100;return{color:t===1?"var(--color-thinking-mode-light)":"var(--color-thinking-mode)",fontWeight:e}},VUe=t=>{const e=ae.c(50),{modelString:n}=t,[r,a]=uy();let s,i,o,c,u,d,m,h,p,f;if(e[0]!==n||e[1]!==a||e[2]!==r){p=Symbol.for("react.early_return_sentinel");e:{s=pm(n),d=Tx(n,r),c=s.indexOf(d);let E;t:{const F=Qv.indexOf(d);if(F>=0){E=F;break t}E=Qv.length-1}if(f=c$(E),i=c>0,o=c<s.length-1,m=()=>{i&&a(s[c-1])},h=()=>{o&&a(s[c+1])},u=L2(d,n),s.length<=1){const F=s[0]||"off",L=Qv.indexOf(F),Y=L===-1?0:L,O=`Model ${n} locks thinking at ${L2(F,n)} to match its capabilities.`,G=l.jsx("span",{className:"w-[5ch] text-center text-[11px] select-none",style:c$(Y),"aria-label":`Thinking level fixed to ${F}`,children:L2(F,n)});let H;e[13]!==G?(H=l.jsx(Xe,{asChild:!0,children:l.jsx("div",{className:"flex items-center",children:G})}),e[13]=G,e[14]=H):H=e[14];let D;e[15]!==O?(D=l.jsx(Ke,{align:"center",children:O}),e[15]=O,e[16]=D):D=e[16];let U;e[17]!==H||e[18]!==D?(U=l.jsxs(Ye,{children:[H,D]}),e[17]=H,e[18]=D,e[19]=U):U=e[19],p=U;break e}}e[0]=n,e[1]=a,e[2]=r,e[3]=s,e[4]=i,e[5]=o,e[6]=c,e[7]=u,e[8]=d,e[9]=m,e[10]=h,e[11]=p,e[12]=f}else s=e[3],i=e[4],o=e[5],c=e[6],u=e[7],d=e[8],m=e[9],h=e[10],p=e[11],f=e[12];if(p!==Symbol.for("react.early_return_sentinel"))return p;const g=!i,x=i?"text-muted hover:bg-hover hover:text-foreground cursor-pointer":"text-muted/30 cursor-default";let y;e[20]!==x?(y=ce("flex h-4 w-4 items-center justify-center rounded-sm transition-colors",x),e[20]=x,e[21]=y):y=e[21];let w;e[22]===Symbol.for("react.memo_cache_sentinel")?(w=l.jsx(tI,{className:"h-3 w-3"}),e[22]=w):w=e[22];let v;e[23]!==m||e[24]!==g||e[25]!==y?(v=l.jsx("button",{type:"button",onClick:m,disabled:g,"data-thinking-paddle":"left",className:y,"aria-label":"Decrease thinking level",children:w}),e[23]=m,e[24]=g,e[25]=y,e[26]=v):v=e[26];let k;e[27]!==s||e[28]!==c||e[29]!==a?(k=()=>{const E=(c+1)%s.length;a(s[E])},e[27]=s,e[28]=c,e[29]=a,e[30]=k):k=e[30];const C=`Thinking level: ${d}. Click to cycle.`;let _;e[31]!==u||e[32]!==k||e[33]!==C||e[34]!==f?(_=l.jsx("button",{type:"button",onClick:k,"data-thinking-label":!0,className:"hover:bg-hover w-[5ch] min-w-[5ch] shrink-0 rounded-sm bg-transparent p-0 text-center text-[11px] transition-all duration-200 select-none",style:f,"aria-live":"polite","aria-label":C,children:u}),e[31]=u,e[32]=k,e[33]=C,e[34]=f,e[35]=_):_=e[35];const S=!o,T=o?"text-muted hover:bg-hover hover:text-foreground cursor-pointer":"text-muted/30 cursor-default";let N;e[36]!==T?(N=ce("flex h-4 w-4 items-center justify-center rounded-sm transition-colors",T),e[36]=T,e[37]=N):N=e[37];let j;e[38]===Symbol.for("react.memo_cache_sentinel")?(j=l.jsx(na,{className:"h-3 w-3"}),e[38]=j):j=e[38];let R;e[39]!==h||e[40]!==S||e[41]!==N?(R=l.jsx("button",{type:"button",onClick:h,disabled:S,"data-thinking-paddle":"right",className:N,"aria-label":"Increase thinking level",children:j}),e[39]=h,e[40]=S,e[41]=N,e[42]=R):R=e[42];let I;e[43]!==R||e[44]!==v||e[45]!==_?(I=l.jsx(Xe,{asChild:!0,children:l.jsxs("div",{className:"flex items-center",children:[v,_,R]})}),e[43]=R,e[44]=v,e[45]=_,e[46]=I):I=e[46];let A;e[47]===Symbol.for("react.memo_cache_sentinel")?(A=l.jsxs(Ke,{align:"center",children:["Thinking: ",Bt(st.TOGGLE_THINKING)," to cycle. Saved per workspace."]}),e[47]=A):A=e[47];let $;return e[48]!==I?($=l.jsxs(Ye,{children:[I,A]}),e[48]=I,e[49]=$):$=e[49],$};function KUe(t,e,n,r){return!t||e||n||r?!1:t.usagePercentage>=t.thresholdPercentage}const YUe=/[(){}<>,.;:!?"'`\]]+$/;function XUe(t){return t.replace(YUe,"")}function ZUe(t){return!!(t&&/[A-Za-z0-9_]/.test(t))}function u$(t,e){mt(Number.isInteger(e),"cursor must be an integer"),mt(e>=0&&e<=t.length,"cursor out of bounds");let n=e;for(;n>0&&!/\s/.test(t[n-1]??"");)n--;let r=e;for(;r<t.length&&!/\s/.test(t[r]??"");)r++;let a=-1;for(let o=e-1;o>=n;o--)if(t[o]==="@"){a=o;break}if(a===-1||a>0&&ZUe(t[a-1]))return null;const s=t.slice(a+1,r),i=XUe(s);return i.includes("#")?null:{startIndex:a,endIndex:a+1+i.length,query:i}}const QUe=WUe();function u1(t,e,n,r){const a=e.trim().toLowerCase();return t.filter(s=>{if(r&&!r(s))return!1;const i=s.key.toLowerCase();return a?i.startsWith(a)||i.split("-").some(o=>o.startsWith(a)):!0}).map(s=>n(s))}function JUe(t,e){const n=e.variant==="creation",r=u1(QUe,t,u=>{const d=u.appendSpace??!0,m=`/${u.key}${d?" ":""}`;return{id:`command:${u.key}`,display:`/${u.key}`,description:u.description,replacement:m}},u=>!(n&&HA.has(u.key))),a=u=>u==="global"?"user":u,s=(e.agentSkills??[]).filter(u=>!j2.has(u.name)).map(u=>({key:u.name,description:`${u.description} (${a(u.scope)})`,appendSpace:!0})),i=u1(s,t,u=>{const d=`/${u.key} `;return{id:`skill:${u.key}`,display:`/${u.key}`,description:u.description,replacement:d}}),o=Object.entries(Id).map(([u,d])=>({key:u,description:`Send with ${Af(d.split(":")[1]??d)} (one message, +level for thinking)`,appendSpace:!0})),c=u1(o,t,u=>({id:`model-oneshot:${u.key}`,display:`/${u.key}`,description:u.description,replacement:`/${u.key} `}));return[...r,...i,...c]}function eWe(t,e,n){const r=t.children??[];return u1(r,e,a=>{const s=a.appendSpace??!0,i=[...n,a.key],o=`/${i.join(" ")}`;return{id:`command:${i.join(":")}`,display:a.key,description:a.description,replacement:`${o}${s?" ":""}`}})}function cY(t,e={}){if(!t.startsWith("/"))return[];const n=t.slice(1);if(n.startsWith(" "))return[];const a=n.split(/\s+/).filter(f=>f.length>0),s=n.endsWith(" ")||n.length===0,i=s?a:a.slice(0,-1),o=s?"":a[a.length-1]??"",c=i.length;if(c===0)return JUe(o,e);const u=i[0]??a[0];if(!u)return[];const d=j2.get(u);if(!d)return[];if(e.variant==="creation"&&HA.has(u))return[];const m=[d];let h=d;for(let f=1;f<i.length;f++){const g=i[f],x=(h.children??[]).find(y=>y.key===g);if(!x)break;m.push(x),h=x}const p=m.length;if(h.suggestions){const f=h.suggestions({stage:c,partialToken:o,definitionPath:m,completedTokens:i,context:e});if(f!==null)return f}if(c<=p){const f=m[Math.max(0,c-1)];if(f&&(f.children??[]).length>0){const g=i.slice(0,c);return eWe(f,o,g)}}return[]}function d$(t){if(!t)return"Agent";const e=t.split(/[-_]+/g).filter(n=>n.length>0);return e.length===0?t:e.map(n=>n.length>0?n[0].toUpperCase()+n.slice(1):n).join(" ")}function m$(t){return typeof t=="string"&&t.trim().length>0?t.trim().toLowerCase():""}function tWe(t){switch(t){case"built-in":return"Built-in";case"project":return"Project";case"global":return"Global"}}const nWe=t=>{const e=ae.c(28),{opt:n}=t,r=(n.tools?.add?.length??0)>0,a=(n.tools?.remove?.length??0)>0,s=r||a,i=!!(n.aiDefaults?.model??n.aiDefaults?.thinkingLevel);let o;e[0]!==n.description?(o=n.description&&l.jsx("div",{className:"text-light",children:n.description}),e[0]=n.description,e[1]=o):o=e[1];let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx("span",{className:"text-muted-light",children:"Source:"}),e[2]=c):c=e[2];let u;e[3]!==n.scope?(u=tWe(n.scope),e[3]=n.scope,e[4]=u):u=e[4];let d;e[5]!==u?(d=l.jsxs("div",{className:"text-muted",children:[c," ",u]}),e[5]=u,e[6]=d):d=e[6];let m;e[7]!==n.base?(m=n.base&&l.jsxs("div",{className:"text-muted",children:[l.jsx("span",{className:"text-muted-light",children:"Base:"})," ",n.base]}),e[7]=n.base,e[8]=m):m=e[8];let h;e[9]!==i||e[10]!==n.aiDefaults?.model||e[11]!==n.aiDefaults?.thinkingLevel?(h=i&&l.jsxs("div",{className:"text-muted",children:[l.jsx("span",{className:"text-muted-light",children:"AI:"})," ",[n.aiDefaults?.model,n.aiDefaults?.thinkingLevel].filter(Boolean).join(", ")]}),e[9]=i,e[10]=n.aiDefaults?.model,e[11]=n.aiDefaults?.thinkingLevel,e[12]=h):h=e[12];let p;e[13]!==r||e[14]!==a||e[15]!==s||e[16]!==n.base||e[17]!==n.tools?(p=(s||n.base)&&l.jsxs("div",{className:"text-muted space-y-0.5",children:[l.jsx("span",{className:"text-muted-light",children:"Tools:"}),r&&n.tools.add.map(oWe),a&&n.tools.remove.map(lWe),!s&&n.base&&l.jsx("div",{className:"text-muted-light ml-2",children:"inherited from base"})]}),e[13]=r,e[14]=a,e[15]=s,e[16]=n.base,e[17]=n.tools,e[18]=p):p=e[18];let f;e[19]!==n.subagentRunnable?(f=n.subagentRunnable&&l.jsxs("div",{className:"text-muted",children:[l.jsx("span",{className:"text-muted-light",children:"Subagent:"})," runnable"]}),e[19]=n.subagentRunnable,e[20]=f):f=e[20];let g;return e[21]!==o||e[22]!==d||e[23]!==m||e[24]!==h||e[25]!==p||e[26]!==f?(g=l.jsxs("div",{className:"space-y-1.5 text-[10px]",children:[o,d,m,h,p,f]}),e[21]=o,e[22]=d,e[23]=m,e[24]=h,e[25]=p,e[26]=f,e[27]=g):g=e[27],g};function rWe(t){return!!(t.description||t.base||t.aiDefaults?.model||t.aiDefaults?.thinkingLevel||(t.tools?.add?.length??0)>0||(t.tools?.remove?.length??0)>0||t.subagentRunnable)}const aWe=()=>{const t=ae.c(9);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsx(Xe,{asChild:!0,children:l.jsx(hc,{children:"?"})}),t[0]=e):e=t[0];let n,r;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=l.jsx("br",{}),r=l.jsx("br",{}),t[1]=n,t[2]=r):(n=t[1],r=t[2]);let a,s;t[3]===Symbol.for("react.memo_cache_sentinel")?(a=Bt(st.TOGGLE_AGENT),s=l.jsx("br",{}),t[3]=a,t[4]=s):(a=t[3],s=t[4]);let i,o;t[5]===Symbol.for("react.memo_cache_sentinel")?(i=Bt(st.CYCLE_AGENT),o=l.jsx("br",{}),t[5]=i,t[6]=o):(i=t[5],o=t[6]);let c;t[7]===Symbol.for("react.memo_cache_sentinel")?(c=YA(0).replace("1","1-9"),t[7]=c):c=t[7];let u;return t[8]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsxs(Ye,{children:[e,l.jsxs(Ke,{align:"center",className:"max-w-80 whitespace-normal",children:["Selects an agent definition (system prompt + tool policy).",n,r,"Open picker: ",a,s,"Cycle agents: ",i,o,"Quick select: ",c," (when open)",l.jsx("br",{}),l.jsx("br",{}),l.jsx(Up,{path:"/agents",children:"Learn more about agents"})]})]}),t[8]=u):u=t[8],u};function sWe(t){return uL(t.filter(e=>e.uiSelectable))}const iWe=t=>{const e=ae.c(111),{agentId:n,setAgentId:r,agents:a,refresh:s,refreshing:i,disableWorkspaceAgents:o,setDisableWorkspaceAgents:c}=Bf(),u=t.onComplete,[d,m]=b.useState(!1),[h,p]=b.useState(""),[f,g]=b.useState(-1),x=b.useRef(null),y=b.useRef(null);let w;e[0]===Symbol.for("react.memo_cache_sentinel")?(w=[],e[0]=w):w=e[0];const v=b.useRef(w);let k;e[1]!==n?(k=m$(n),e[1]=n,e[2]=k):k=e[2];const C=k;let _;e[3]!==a?(_=sWe(a),e[3]=a,e[4]=_):_=e[4];const S=_;let T;e:{if(!C){T=null;break e}let Le;if(e[5]!==a||e[6]!==C){let nt;e[8]!==C?(nt=ct=>ct.id===C,e[8]=C,e[9]=nt):nt=e[9],Le=a.find(nt),e[5]=a,e[6]=C,e[7]=Le}else Le=e[7];const Ae=Le;if(!Ae){let nt;e[10]!==C?(nt=d$(C),e[10]=C,e[11]=nt):nt=e[11];let ct;e[12]!==C||e[13]!==nt?(ct={id:C,name:nt,uiColor:void 0,scope:"project",subagentRunnable:!1},e[12]=C,e[13]=nt,e[14]=ct):ct=e[14],T=ct;break e}let bt;e[15]!==Ae.aiDefaults||e[16]!==Ae.base||e[17]!==Ae.description||e[18]!==Ae.id||e[19]!==Ae.name||e[20]!==Ae.scope||e[21]!==Ae.subagentRunnable||e[22]!==Ae.tools||e[23]!==Ae.uiColor?(bt={id:Ae.id,name:Ae.name,uiColor:Ae.uiColor,description:Ae.description,scope:Ae.scope,base:Ae.base,tools:Ae.tools,aiDefaults:Ae.aiDefaults,subagentRunnable:Ae.subagentRunnable},e[15]=Ae.aiDefaults,e[16]=Ae.base,e[17]=Ae.description,e[18]=Ae.id,e[19]=Ae.name,e[20]=Ae.scope,e[21]=Ae.subagentRunnable,e[22]=Ae.tools,e[23]=Ae.uiColor,e[24]=bt):bt=e[24],T=bt}const N=T;let j;if(e[25]!==h||e[26]!==S){e:{const Le=h.trim().toLowerCase();if(Le.length===0){j=S;break e}j=S.filter(Ae=>!!(Ae.id.toLowerCase().includes(Le)||Ae.name.toLowerCase().includes(Le)))}e[25]=h,e[26]=S,e[27]=j}else j=e[27];const R=j;let I;e[28]!==C||e[29]!==S?(I=Le=>{m(!0),p("");const Ae=Le?.highlightAgentId??C,bt=S.findIndex(nt=>nt.id===Ae);g(bt>=0?bt:0),requestAnimationFrame(()=>{y.current?.focus()})},e[28]=C,e[29]=S,e[30]=I):I=e[30];const A=I;let $;e[31]!==u?($=()=>{m(!1),p(""),g(-1),u?.()},e[31]=u,e[32]=$):$=e[32];const E=$;let M,F;e[33]!==C||e[34]!==A?(M=()=>{const Le=()=>{A({highlightAgentId:C})};return window.addEventListener(Rn.OPEN_AGENT_PICKER,Le),()=>window.removeEventListener(Rn.OPEN_AGENT_PICKER,Le)},F=[C,A],e[33]=C,e[34]=A,e[35]=M,e[36]=F):(M=e[35],F=e[36]),b.useEffect(M,F);let L,Y;e[37]!==E||e[38]!==d?(Y=()=>{const Le=()=>{d&&E()};return window.addEventListener(Rn.CLOSE_AGENT_PICKER,Le),()=>window.removeEventListener(Rn.CLOSE_AGENT_PICKER,Le)},L=[E,d],e[37]=E,e[38]=d,e[39]=L,e[40]=Y):(L=e[39],Y=e[40]),b.useEffect(Y,L);let O,G;e[41]!==E||e[42]!==d?(O=()=>{if(!d)return;const Le=Ae=>{x.current?.contains(Ae.target)||E()};return document.addEventListener("mousedown",Le),()=>document.removeEventListener("mousedown",Le)},G=[E,d],e[41]=E,e[42]=d,e[43]=O,e[44]=G):(O=e[43],G=e[44]),b.useEffect(O,G);let H,D;e[45]!==R.length||e[46]!==f?(H=()=>{if(R.length===0){g(-1);return}f>=R.length&&g(R.length-1)},D=[R.length,f],e[45]=R.length,e[46]=f,e[47]=H,e[48]=D):(H=e[47],D=e[48]),b.useEffect(H,D);let U,B;e[49]!==f?(U=()=>{if(f<0)return;v.current[f]?.scrollIntoView?.({block:"nearest"})},B=[f],e[49]=f,e[50]=U,e[51]=B):(U=e[50],B=e[51]),b.useEffect(U,B);let q;e[52]!==E||e[53]!==r?(q=Le=>{const Ae=m$(Le);Ae&&(r(Ae),E())},e[52]=E,e[53]=r,e[54]=q):q=e[54];const V=q;let Z,W;e[55]!==V||e[56]!==d||e[57]!==S?(Z=()=>{if(!d)return;const Le=Ae=>{const bt=JQ(Ae);if(!(bt<0)&&(Ae.preventDefault(),Ae.stopPropagation(),bt<S.length)){const nt=S[bt];nt&&V(nt.id)}};return window.addEventListener("keydown",Le,!0),()=>window.removeEventListener("keydown",Le,!0)},W=[d,S,V],e[55]=V,e[56]=d,e[57]=S,e[58]=Z,e[59]=W):(Z=e[58],W=e[59]),b.useEffect(Z,W);let K;e[60]!==E||e[61]!==R||e[62]!==V||e[63]!==f?(K=Le=>{if(Le.key==="Escape"){Le.preventDefault(),E();return}if(Le.key==="Enter"){if(Le.preventDefault(),R.length===0)return;const Ae=f>=0?f:0,bt=R[Ae];if(!bt)return;V(bt.id);return}if(Le.key==="ArrowDown"){Le.preventDefault(),g(Ae=>Math.min(Ae+1,R.length-1));return}if(Le.key==="ArrowUp"){if(Le.preventDefault(),f<=0){E();return}g(cWe);return}},e[60]=E,e[61]=R,e[62]=V,e[63]=f,e[64]=K):K=e[64];const J=K;let ee;e[65]!==N?.name||e[66]!==C?(ee=N?.name??d$(C),e[65]=N?.name,e[66]=C,e[67]=ee):ee=e[67];const se=ee;let re;e[68]!==N?(re=N?.uiColor?{borderColor:N.uiColor}:void 0,e[68]=N,e[69]=re):re=e[69];const ue=re,he=N?.uiColor?"":"border-exec-mode";let ke;e[70]!==t.className?(ke=ce("relative flex items-center gap-1.5",t.className),e[70]=t.className,e[71]=ke):ke=e[71];let je;e[72]!==E||e[73]!==d||e[74]!==A?(je=()=>{d?E():A()},e[72]=E,e[73]=d,e[74]=A,e[75]=je):je=e[75];let _e;e[76]!==he?(_e=ce("text-foreground hover:bg-hover flex items-center gap-1 rounded-sm border px-1.5 py-0.5 text-[11px] font-medium transition-all duration-150",he),e[76]=he,e[77]=_e):_e=e[77];let ge;e[78]!==se?(ge=l.jsx("span",{className:"max-w-[clamp(4.5rem,30vw,130px)] truncate",children:se}),e[78]=se,e[79]=ge):ge=e[79];const ve=d&&"rotate-180";let De;e[80]!==ve?(De=ce("text-muted h-3 w-3 transition-transform duration-150",ve),e[80]=ve,e[81]=De):De=e[81];let $e;e[82]!==De?($e=l.jsx(Fs,{className:De}),e[82]=De,e[83]=$e):$e=e[83];let Qe;e[84]!==ue||e[85]!==d||e[86]!==je||e[87]!==_e||e[88]!==ge||e[89]!==$e?(Qe=l.jsx(Xe,{asChild:!0,children:l.jsxs(tt,{type:"button","aria-label":"Select agent","aria-expanded":d,size:"xs",variant:"ghost",onClick:je,style:ue,className:_e,children:[ge,$e]})}),e[84]=ue,e[85]=d,e[86]=je,e[87]=_e,e[88]=ge,e[89]=$e,e[90]=Qe):Qe=e[90];let Be;e[91]===Symbol.for("react.memo_cache_sentinel")?(Be=l.jsxs(Ke,{align:"center",children:["Select agent (",Bt(st.TOGGLE_AGENT),")"]}),e[91]=Be):Be=e[91];let ie;e[92]!==Qe?(ie=l.jsxs(Ye,{children:[Qe,Be]}),e[92]=Qe,e[93]=ie):ie=e[93];let Te;e[94]===Symbol.for("react.memo_cache_sentinel")?(Te=l.jsx("div",{className:"hidden [@container(min-width:420px)]:[@media(hover:hover)_and_(pointer:fine)]:block",children:l.jsx(aWe,{})}),e[94]=Te):Te=e[94];let Ne;e[95]!==o||e[96]!==h||e[97]!==R||e[98]!==J||e[99]!==V||e[100]!==f||e[101]!==d||e[102]!==S||e[103]!==s||e[104]!==i||e[105]!==c?(Ne=d&&l.jsxs("div",{className:"bg-separator border-border-light absolute right-0 bottom-full z-[1020] mb-1 max-w-[420px] min-w-72 overflow-hidden rounded border shadow-[0_4px_12px_rgba(0,0,0,0.3)]",children:[l.jsxs("div",{className:"border-border-light flex items-center gap-1.5 border-b p-1.5",children:[l.jsx("input",{ref:y,value:h,onChange:Le=>{const Ae=Le.target.value;p(Ae);const bt=Ae.trim().toLowerCase(),nt=bt.length===0?S:S.filter(ct=>!!(ct.id.toLowerCase().includes(bt)||ct.name.toLowerCase().includes(bt)));g(nt.length>0?0:-1)},onKeyDown:J,placeholder:"Search agents",className:"text-light bg-dark border-border-light focus:border-exec-mode min-w-0 flex-1 rounded-sm border px-1 py-0.5 text-[10px] leading-[11px] outline-none"}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button","aria-label":o?"Workspace agents disabled (click to enable)":"Workspace agents enabled (click to disable)",onClick:()=>c(uWe),className:ce("flex-shrink-0 p-0.5 transition-colors",o?"text-red-500 hover:text-red-400":"text-muted hover:text-foreground"),children:l.jsx(vee,{className:"h-3 w-3"})})}),l.jsx(Ke,{side:"bottom",align:"end",className:"max-w-56",children:o?l.jsx("span",{className:"text-red-400",children:"Workspace agents disabled  using built-in/global only. Click to re-enable."}):"Disable workspace agents (use built-in/global only)"})]}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button","aria-label":"Reload agents",onClick:()=>void s(),className:ce("text-muted hover:text-foreground flex-shrink-0 p-0.5 transition-colors",i&&"text-accent"),children:l.jsx(Xo,{className:ce("h-3 w-3",i&&"animate-spin")})})}),l.jsx(Ke,{side:"bottom",align:"end",children:i?"Reloading":"Reload agent definitions"})]})]}),l.jsx("div",{className:"max-h-[220px] overflow-y-auto",children:R.length===0?l.jsx("div",{className:"text-muted-light px-2.5 py-2 text-[11px]",children:"No matching agents"}):R.map((Le,Ae)=>{const bt=Ae===f,nt=S.findIndex(pt=>pt.id===Le.id),ct=YA(nt);return l.jsx("div",{ref:pt=>v.current[Ae]=pt,role:"button",tabIndex:-1,"data-agent-id":Le.id,className:ce("px-2.5 py-1.5 cursor-pointer transition-colors duration-100","first:rounded-t last:rounded-b",bt?"text-foreground bg-hover":"text-light bg-transparent hover:bg-hover hover:text-foreground"),onMouseEnter:()=>g(Ae),onClick:()=>V(Le.id),children:l.jsxs("div",{className:"grid grid-cols-[1fr_auto_auto_auto] items-center gap-2",children:[l.jsx("span",{"data-testid":"agent-name",className:"min-w-0 truncate text-[11px] font-medium",children:Le.name}),l.jsx("span",{"data-testid":"agent-id",className:"text-muted-light text-[10px]",children:Le.id}),rWe(Le)&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,onClick:dWe,onMouseDown:mWe,children:l.jsx(hc,{className:"ml-0.5",children:"?"})}),l.jsx(Ke,{side:"left",align:"center",className:"max-w-72 whitespace-normal",children:l.jsx(nWe,{opt:Le})})]}),ct&&l.jsx("span",{className:"text-muted-light ml-1 text-[10px] tabular-nums",children:ct})]})},Le.id)})})]}),e[95]=o,e[96]=h,e[97]=R,e[98]=J,e[99]=V,e[100]=f,e[101]=d,e[102]=S,e[103]=s,e[104]=i,e[105]=c,e[106]=Ne):Ne=e[106];let Re;return e[107]!==ke||e[108]!==ie||e[109]!==Ne?(Re=l.jsxs("div",{ref:x,className:ke,children:[ie,Te,Ne]}),e[107]=ke,e[108]=ie,e[109]=Ne,e[110]=Re):Re=e[110],Re};function oWe(t){return l.jsxs("div",{className:"ml-2",children:[l.jsx("span",{className:"text-green-500",children:"+"})," ",t]},t)}function lWe(t){return l.jsxs("div",{className:"ml-2",children:[l.jsx("span",{className:"text-red-500",children:""})," ",t]},t)}function cWe(t){return Math.max(t-1,0)}function uWe(t){return!t}function dWe(t){return t.stopPropagation()}function mWe(t){return t.stopPropagation()}const hWe="overflow-visible before:pointer-events-auto before:absolute before:-top-2 before:right-0 before:left-0 before:h-2 before:content-['']";function Rc(t,e){return n=>{t?.(n),!n.defaultPrevented&&e?.(n)}}const uY=t=>{const[e,n]=b.useState(!1),[r,a]=b.useState(!1),[s,i]=b.useState(!1),o=b.useRef(null),c=b.useRef(null),u=b.useRef(null);b.useEffect(()=>()=>{u.current&&clearTimeout(u.current)},[]);const d=e||r,m=()=>{u.current&&(clearTimeout(u.current),u.current=null)},h=()=>{e||t.interactiveContent&&s||(m(),u.current=setTimeout(()=>{a(!1)},100))},p=S=>{S||(m(),n(!1),a(!1),i(!1)),t.onOpenChange?.(S)},f=()=>{n(S=>!S)},g=S=>{S.pointerType!=="touch"&&(m(),a(!0))},x=S=>{if(S.pointerType==="touch")return;const T=S.relatedTarget;T instanceof Node&&c.current?.contains(T)||h()},y=S=>{S.pointerType!=="touch"&&(m(),a(!0))},w=S=>{if(S.pointerType==="touch")return;const T=S.relatedTarget;T instanceof Node&&o.current?.contains(T)||h()},v=()=>{t.interactiveContent&&i(!0)},k=()=>{t.interactiveContent&&i(!1)},C=t.children.props,_=b.cloneElement(t.children,{ref:o,"aria-expanded":d,"aria-haspopup":C["aria-haspopup"]??"dialog",onClick:Rc(C.onClick,f),onPointerEnter:Rc(C.onPointerEnter,g),onPointerLeave:Rc(C.onPointerLeave,x)});return l.jsxs(yc,{open:d,onOpenChange:p,children:[l.jsx(R5,{asChild:!0,children:_}),l.jsx(gl,{...t.contentProps,ref:c,side:t.side,align:t.align,sideOffset:t.sideOffset,className:ce(hWe,t.contentClassName,t.contentProps?.className),onPointerEnter:Rc(t.contentProps?.onPointerEnter,y),onPointerLeave:Rc(t.contentProps?.onPointerLeave,w),onMouseDown:Rc(t.contentProps?.onMouseDown,v),onMouseUp:Rc(t.contentProps?.onMouseUp,k),children:t.content})]})},li=b.forwardRef((t,e)=>{const n=ae.c(23),{checked:r,onCheckedChange:a,disabled:s,className:i,title:o,"aria-label":c}=t,u=s===void 0?!1:s;let d;n[0]!==r||n[1]!==a?(d=()=>a(!r),n[0]=r,n[1]=a,n[2]=d):d=n[2];let m;n[3]!==i?(m=ce("inline-flex shrink-0 cursor-pointer items-center justify-center rounded-full","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background","disabled:cursor-not-allowed disabled:opacity-50",i),n[3]=i,n[4]=m):m=n[4];const h=r?"bg-accent":"bg-zinc-600";let p;n[5]!==h?(p=ce("pointer-events-none inline-flex h-6 w-11 items-center rounded-full border-2 border-transparent transition-colors",h),n[5]=h,n[6]=p):p=n[6];const f=r?"translate-x-5":"translate-x-0";let g;n[7]!==f?(g=ce("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform",f),n[7]=f,n[8]=g):g=n[8];let x;n[9]!==g?(x=l.jsx("span",{className:g}),n[9]=g,n[10]=x):x=n[10];let y;n[11]!==p||n[12]!==x?(y=l.jsx("span",{className:p,children:x}),n[11]=p,n[12]=x,n[13]=y):y=n[13];let w;return n[14]!==c||n[15]!==r||n[16]!==u||n[17]!==e||n[18]!==d||n[19]!==m||n[20]!==y||n[21]!==o?(w=l.jsx("button",{ref:e,type:"button",role:"switch","aria-checked":r,"aria-label":c,title:o,disabled:u,onClick:d,className:m,children:y}),n[14]=c,n[15]=r,n[16]=u,n[17]=e,n[18]=d,n[19]=m,n[20]=y,n[21]=o,n[22]=w):w=n[22],w});li.displayName="Switch";const pWe="[data-radix-popper-content-wrapper]";function fWe(t){const e=t.target;e instanceof HTMLElement&&e.closest(pWe)&&t.preventDefault()}const gWe={onPointerDownOutside:fWe},bWe=t=>{const e=ae.c(2),{threshold:n}=t;if(n>=100)return null;const r=`${n}%`;let a;return e[0]!==r?(a=l.jsx("div",{className:"bg-plan-mode pointer-events-none absolute top-0 z-50 h-full w-px",style:{left:r}}),e[0]=r,e[1]=a):a=e[1],a},xWe=()=>{const t=ae.c(2);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[0,25,50,75,100],t[0]=e):e=t[0];const n=e;let r;return t[1]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx("div",{className:"relative -mt-1 h-5 w-full",children:n.map(vWe)}),t[1]=r):r=t[1],r},yWe=t=>{const e=ae.c(60),{data:n,usageConfig:r,idleConfig:a,model:s}=t;let i;e[0]!==a?.hours?(i=a?.hours?.toString()??"24",e[0]=a?.hours,e[1]=i):i=e[1];const[o,c]=xe.useState(i);let u;e[2]!==a?.hours?(u=()=>{c(a?.hours?.toString()??"24")},e[2]=a?.hours,e[3]=u):u=e[3];const d=a?.hours;let m;e[4]!==d?(m=[d],e[4]=d,e[5]=m):m=e[5],xe.useEffect(u,m);let h;e[6]!==n.totalTokens?(h=Xs(n.totalTokens),e[6]=n.totalTokens,e[7]=h):h=e[7];const p=h;let f;e[8]!==n.maxTokens?(f=n.maxTokens?` / ${Xs(n.maxTokens)}`:"",e[8]=n.maxTokens,e[9]=f):f=e[9];const g=f;let x;e[10]!==n.maxTokens||e[11]!==n.totalPercentage?(x=n.maxTokens?` (${n.totalPercentage.toFixed(1)}%)`:"",e[10]=n.maxTokens,e[11]=n.totalPercentage,e[12]=x):x=e[12];const y=x,w=!!(r&&n.maxTokens),v=a?.hours!==null&&a?.hours!==void 0;let k;e[13]!==a||e[14]!==o?(k=D=>{if(!a)return;const U=parseInt(o,10);a.setHours(D?Number.isNaN(U)||U<1?24:U:null)},e[13]=a,e[14]=o,e[15]=k):k=e[15];const C=k;let _;e[16]!==a?(_=D=>{if(!a)return;const U=parseInt(D.target.value,10);!isNaN(U)&&U>=1&&U!==a.hours&&a.hours!==null?a.setHours(U):(D.target.value===""||isNaN(U)||U<1)&&c(a.hours?.toString()??"24")},e[16]=a,e[17]=_):_=e[17];const S=_;let T;e[18]===Symbol.for("react.memo_cache_sentinel")?(T=l.jsx("span",{className:"text-foreground font-medium",children:"Context Usage"}),e[18]=T):T=e[18];let N;e[19]!==g||e[20]!==y||e[21]!==p?(N=l.jsxs("div",{className:"flex items-baseline justify-between",children:[T,l.jsxs("span",{className:"text-muted text-xs",children:[p,g,y]})]}),e[19]=g,e[20]=y,e[21]=p,e[22]=N):N=e[22];let j;e[23]!==w?(j=w&&l.jsx("div",{className:"text-muted mt-1 text-[10px]",children:"Drag blue slider to adjust usage-based auto-compaction"}),e[23]=w,e[24]=j):j=e[24];let R;e[25]!==N||e[26]!==j?(R=l.jsxs("div",{children:[N,j]}),e[25]=N,e[26]=j,e[27]=R):R=e[27];let I;e[28]!==n.segments?(I=l.jsx(hC,{segments:n.segments,orientation:"horizontal"}),e[28]=n.segments,e[29]=I):I=e[29];let A;e[30]!==w||e[31]!==r?(A=w&&r&&l.jsx(vL,{config:r}),e[30]=w,e[31]=r,e[32]=A):A=e[32];let $;e[33]!==I||e[34]!==A?($=l.jsxs("div",{className:"relative w-full py-1.5",children:[I,A]}),e[33]=I,e[34]=A,e[35]=$):$=e[35];let E;e[36]!==w?(E=w&&l.jsx(xWe,{}),e[36]=w,e[37]=E):E=e[37];let M;e[38]!==$||e[39]!==E?(M=l.jsxs("div",{children:[$,E]}),e[38]=$,e[39]=E,e[40]=M):M=e[40];let F;e[41]!==s?(F=s&&l.jsx(kL,{model:s}),e[41]=s,e[42]=F):F=e[42];let L;e[43]!==S||e[44]!==C||e[45]!==a||e[46]!==o||e[47]!==v?(L=a&&l.jsxs("div",{className:"border-separator-light border-t pt-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(v1,{className:"text-muted h-2.5 w-2.5"}),l.jsx("span",{className:"text-foreground text-[11px] font-medium",children:"Idle compaction"})]}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("input",{type:"number",min:1,value:o,onChange:D=>c(D.target.value),onBlur:S,disabled:!v,className:ce("border-border-medium bg-background-secondary focus:border-accent h-5 w-10 rounded border px-1 text-center text-[11px] focus:outline-none",!v&&"opacity-50")}),l.jsx("span",{className:ce("text-[10px]",v?"text-muted":"text-muted/50"),children:"hrs"}),l.jsx(li,{checked:v,onCheckedChange:C,className:"scale-75"})]})]}),l.jsx("div",{className:"text-muted mt-0.5 text-[10px]",children:"Auto-compact after workspace inactivity"})]}),e[43]=S,e[44]=C,e[45]=a,e[46]=o,e[47]=v,e[48]=L):L=e[48];let Y;e[49]!==n.maxTokens?(Y=!n.maxTokens&&l.jsx("div",{className:"text-subtle text-[10px] italic",children:"Unknown model limits - showing relative usage only"}),e[49]=n.maxTokens,e[50]=Y):Y=e[50];const O=a&&"; idle timer saved per project";let G;e[51]!==O?(G=l.jsxs("div",{className:"text-muted border-separator-light border-t pt-2 text-[10px]",children:["Usage threshold saved per model",O]}),e[51]=O,e[52]=G):G=e[52];let H;return e[53]!==R||e[54]!==M||e[55]!==F||e[56]!==L||e[57]!==Y||e[58]!==G?(H=l.jsxs("div",{className:"flex flex-col gap-2",children:[R,M,F,L,Y,G]}),e[53]=R,e[54]=M,e[55]=F,e[56]=L,e[57]=Y,e[58]=G,e[59]=H):H=e[59],H},wWe=t=>{const e=ae.c(31),{data:n,autoCompaction:r,idleCompaction:a,model:s}=t,i=r&&r.threshold<100,o=a?.hours,c=o!=null;if(n.totalTokens===0&&!a)return null;let u;e[0]!==n.maxTokens||e[1]!==n.totalPercentage||e[2]!==n.totalTokens?(u=n.maxTokens?`Context usage: ${Xs(n.totalTokens)} / ${Xs(n.maxTokens)} (${n.totalPercentage.toFixed(1)}%)`:`Context usage: ${Xs(n.totalTokens)} (unknown limit)`,e[0]=n.maxTokens,e[1]=n.totalPercentage,e[2]=n.totalTokens,e[3]=u):u=e[3];const d=u;let m;e[4]!==n.maxTokens||e[5]!==n.totalPercentage||e[6]!==n.totalTokens?(m=n.maxTokens?`${Math.round(n.totalPercentage)}%`:Xs(n.totalTokens),e[4]=n.maxTokens,e[5]=n.totalPercentage,e[6]=n.totalTokens,e[7]=m):m=e[7];const h=m;let p;e[8]!==r||e[9]!==n||e[10]!==a||e[11]!==s?(p=l.jsx(yWe,{data:n,usageConfig:r,idleConfig:a,model:s}),e[8]=r,e[9]=n,e[10]=a,e[11]=s,e[12]=p):p=e[12];let f;e[13]!==o||e[14]!==c?(f=c&&l.jsx("span",{title:`Auto-compact after ${o}h idle`,className:"mr-1.5 [@container(max-width:420px)]:hidden",children:l.jsx(v1,{className:"text-muted h-3 w-3"})}),e[13]=o,e[14]=c,e[15]=f):f=e[15];let g;e[16]!==r||e[17]!==n.segments||e[18]!==n.totalTokens||e[19]!==i?(g=n.totalTokens>0?l.jsxs("div",{"data-context-usage-meter":!0,className:"relative h-3 w-14 [@container(max-width:420px)]:hidden",children:[l.jsx(hC,{segments:n.segments,orientation:"horizontal",className:"h-3",trackClassName:"bg-dark"}),i&&l.jsx(bWe,{threshold:r.threshold})]}):l.jsx("div",{"data-context-usage-meter":!0,className:"bg-dark relative h-3 w-14 rounded-full [@container(max-width:420px)]:hidden"}),e[16]=r,e[17]=n.segments,e[18]=n.totalTokens,e[19]=i,e[20]=g):g=e[20];let x;e[21]!==h?(x=l.jsx("span",{"data-context-usage-percent":!0,className:"text-muted hidden text-[10px] font-medium tabular-nums [@container(max-width:420px)]:block",children:h}),e[21]=h,e[22]=x):x=e[22];let y;e[23]!==d||e[24]!==f||e[25]!==g||e[26]!==x?(y=l.jsxs("button",{"aria-label":d,"aria-haspopup":"dialog",className:"hover:bg-sidebar-hover flex cursor-pointer items-center rounded py-0.5",type:"button",children:[f,g,x]}),e[23]=d,e[24]=f,e[25]=g,e[26]=x,e[27]=y):y=e[27];let w;return e[28]!==p||e[29]!==y?(w=l.jsx(uY,{content:p,side:"bottom",align:"end",interactiveContent:!0,contentClassName:"bg-modal-bg border-separator-light w-80 rounded px-[10px] py-[6px] text-[11px] font-normal shadow-[0_2px_8px_rgba(0,0,0,0.4)]",contentProps:gWe,children:y}),e[28]=p,e[29]=y,e[30]=w):w=e[30],w};function vWe(t){const e=t===0?"translateX(0%)":t===100?"translateX(-100%)":"translateX(-50%)";return l.jsxs("div",{className:"absolute flex flex-col items-center",style:{left:`${t}%`,transform:e},children:[l.jsx("div",{className:"bg-border-medium h-[3px] w-px"}),l.jsx("span",{className:"text-muted text-[8px] leading-tight",children:t})]},t)}function kWe(t){const{projectPath:e}=t,{api:n}=Kt(),[r,a]=b.useState(null),s=b.useRef(e);s.current=e;const i=b.useRef(0);b.useEffect(()=>{if(!e||!n)return;let c=!1;return n.projects.idleCompaction.get({projectPath:e}).then(u=>{c||a(u.hours)}).catch(()=>{}),()=>{c=!0}},[n,e]);const o=b.useCallback(c=>{if(!e||!n)return;const u=++i.current,d=r,m=e;a(c),n.projects.idleCompaction.set({projectPath:m,hours:c}).then(h=>{if(!h.success)throw new Error(h.error??"Failed to set idle compaction hours")}).catch(()=>{i.current===u&&s.current===m&&a(d)})},[n,e,r]);return{hours:r,setHours:o}}function dY(t){const e=ae.c(29),{active:n,onToggle:r,variant:a,size:s,showTooltip:i}=t,o=a===void 0?"plain":a,c=s===void 0?"md":s,u=i===void 0?!1:i;let d,m,h,p,f;e[0]!==n||e[1]!==r||e[2]!==t.className||e[3]!==c||e[4]!==o?(d={sm:{container:"h-5 w-5",icon:"h-3 w-3"},md:{container:"",icon:"h-3.5 w-3.5"}}[c],m="button",h=_We,e[10]!==r?(p=S=>{S.preventDefault(),S.stopPropagation(),r()},e[10]=r,e[11]=p):p=e[11],f=ce("transition-colors duration-150",o==="bordered"&&ce("flex items-center justify-center rounded-sm border",d.container,n?"border-accent/40 text-accent hover:opacity-70":"border-border-light/40 text-muted-light hover:border-muted/60 hover:text-muted"),o==="plain"&&ce("p-0.5",n?"text-accent hover:opacity-70":"text-muted hover:text-foreground"),t.className),e[0]=n,e[1]=r,e[2]=t.className,e[3]=c,e[4]=o,e[5]=d,e[6]=m,e[7]=h,e[8]=p,e[9]=f):(d=e[5],m=e[6],h=e[7],p=e[8],f=e[9]);const g=n?"Disable Mux Gateway":"Enable Mux Gateway";let x;e[12]!==n||e[13]!==d.icon?(x=l.jsx(Zp,{className:d.icon,active:n}),e[12]=n,e[13]=d.icon,e[14]=x):x=e[14];let y;e[15]!==m||e[16]!==h||e[17]!==p||e[18]!==f||e[19]!==g||e[20]!==x?(y=l.jsx("button",{type:m,onMouseDown:h,onClick:p,className:f,"aria-label":g,children:x}),e[15]=m,e[16]=h,e[17]=p,e[18]=f,e[19]=g,e[20]=x,e[21]=y):y=e[21];const w=y;if(!u)return w;let v;e[22]!==w?(v=l.jsx(Xe,{asChild:!0,children:w}),e[22]=w,e[23]=v):v=e[23];const k=n?"Using Mux Gateway":"Use Mux Gateway";let C;e[24]!==k?(C=l.jsx(Ke,{align:"center",children:k}),e[24]=k,e[25]=C):C=e[25];let _;return e[26]!==v||e[27]!==C?(_=l.jsxs(Ye,{children:[v,C]}),e[26]=v,e[27]=C,e[28]=_):_=e[28],_}function _We(t){return t.preventDefault()}const ax=b.forwardRef((t,e)=>{const n=ae.c(128),{value:r,onChange:a,models:s,hiddenModels:i,emptyLabel:o,inputPlaceholder:c,onComplete:u,defaultModel:d,onSetDefaultModel:m,onHideModel:h,onUnhideModel:p,onOpenSettings:f,variant:g,className:x}=t;let y;n[0]!==i?(y=i===void 0?[]:i,n[0]=i,n[1]=y):y=n[1];const w=y,v=g===void 0?"default":g;as();const C=Oi().status.state==="enforced",_=$f(),[S,T]=b.useState(!1),[N,j]=b.useState(""),[R,I]=b.useState(null),[A,$]=b.useState(!1),[E,M]=b.useState(0),F=b.useRef(null),L=b.useRef(null),Y=b.useRef(null);let O;n[2]===Symbol.for("react.memo_cache_sentinel")?(O=()=>{T(!1),j(""),I(null),$(!1),M(0)},n[2]=O):O=n[2];const G=O;let H,D;n[3]!==S?(H=()=>{if(!S)return;const rt=jt=>{L.current&&!L.current.contains(jt.target)&&G()};return document.addEventListener("mousedown",rt),()=>document.removeEventListener("mousedown",rt)},D=[S,G],n[3]=S,n[4]=H,n[5]=D):(H=n[4],D=n[5]),b.useEffect(H,D);let U,B;n[6]!==S||n[7]!==s||n[8]!==r?(U=()=>{if(!S)return;I(null),j(""),$(!1);const rt=s.indexOf(r);M(rt>=0?rt:0);const jt=setTimeout(()=>F.current?.focus(),0);return()=>clearTimeout(jt)},B=[S,s,r],n[6]=S,n[7]=s,n[8]=r,n[9]=U,n[10]=B):(U=n[9],B=n[10]),b.useEffect(U,B);let q;n[11]!==w||n[12]!==s||n[13]!==A?(q=A?[...s,...w]:s,n[11]=w,n[12]=s,n[13]=A,n[14]=q):q=n[14];const V=q;let Z;n[15]!==V||n[16]!==N?(Z=N.trim()===""?V:V.filter(rt=>rt.toLowerCase().includes(N.toLowerCase())),n[15]=V,n[16]=N,n[17]=Z):Z=n[17];const W=Z;let K;n[18]!==w?(K=new Set(w),n[18]=w,n[19]=K):K=n[19];const J=K;let ee,se;n[20]!==W.length||n[21]!==E?(ee=()=>{if(W.length===0){M(0);return}E>=W.length&&M(W.length-1)},se=[W.length,E],n[20]=W.length,n[21]=E,n[22]=ee,n[23]=se):(ee=n[22],se=n[23]),b.useEffect(ee,se);let re;n[24]!==W||n[25]!==E||n[26]!==a?(re=()=>{if(W.length===0)return;const jt=W[E];a(jt),G()},n[24]=W,n[25]=E,n[26]=a,n[27]=re):re=n[27];const ue=re;let he;n[28]!==W||n[29]!==ue||n[30]!==E||n[31]!==u?(he=rt=>{if(rt.key==="Escape"){rt.preventDefault(),es(rt),G();return}if(rt.key==="Enter"){rt.preventDefault(),W.length>0&&(ue(),u?.());return}if(rt.key==="Tab"){rt.preventDefault(),W[E]&&j(W[E]),M(0);return}if(rt.key==="ArrowDown"){rt.preventDefault(),M(jt=>Math.min(jt+1,W.length-1));return}if(rt.key==="ArrowUp"){rt.preventDefault(),M(CWe);return}},n[28]=W,n[29]=ue,n[30]=E,n[31]=u,n[32]=he):he=n[32];const ke=he;let je;n[33]===Symbol.for("react.memo_cache_sentinel")?(je=rt=>{const jt=rt.target.value;j(jt),I(null),M(0)},n[33]=je):je=n[33];const _e=je;let ge;n[34]!==a?(ge=rt=>{a(rt),G()},n[34]=a,n[35]=ge):ge=n[35];const ve=ge;let De;n[36]===Symbol.for("react.memo_cache_sentinel")?(De=()=>{T(!0)},n[36]=De):De=n[36];const $e=De;let Qe;n[37]!==d||n[38]!==m?(Qe=(rt,jt)=>{rt.preventDefault(),rt.stopPropagation(),d!==jt&&m&&m(jt)},n[37]=d,n[38]=m,n[39]=Qe):Qe=n[39];const Be=Qe;let ie,Te;n[40]===Symbol.for("react.memo_cache_sentinel")?(ie=()=>({open:$e}),Te=[$e],n[40]=ie,n[41]=Te):(ie=n[40],Te=n[41]),b.useImperativeHandle(e,ie,Te);let Ne;n[42]===Symbol.for("react.memo_cache_sentinel")?(Ne=()=>{if(!Y.current)return;const rt=Y.current.querySelector("[data-highlighted=true]");rt&&rt.scrollIntoView({block:"nearest"})},n[42]=Ne):Ne=n[42];let Re;n[43]!==E?(Re=[E],n[43]=E,n[44]=Re):Re=n[44],b.useEffect(Ne,Re);const Le=v==="box",Ae=Le&&"w-full";let bt;n[45]!==Ae?(bt=ce("relative flex items-center gap-1",Ae),n[45]=Ae,n[46]=bt):bt=n[46];const nt=bt;let ct,pt,be,We,He,Je,ye,Ze,qe,ft,Et;if(n[47]!==x||n[48]!==nt||n[49]!==o||n[50]!==Le||n[51]!==S||n[52]!==r){const rt=Le?ce("border-border-medium h-9 flex-1 min-w-0 rounded border",x):ce("bg-background rounded-sm text-[11px]",x??"w-32");let jt;n[64]!==r?(jt=r.trim(),n[64]=r,n[65]=jt):jt=n[65];const ze=jt.length>0;let Ve;n[66]!==ze||n[67]!==r?(Ve=ze?Hp(r):"",n[66]=ze,n[67]=r,n[68]=Ve):Ve=n[68],He=Ve;let $t;n[69]!==o||n[70]!==ze||n[71]!==r?($t=ze?Af(nu(r)):o??"",n[69]=o,n[70]=ze,n[71]=r,n[72]=$t):$t=n[72],We=$t,ft=L,Et=nt,be=Ye,n[73]!==ze||n[74]!==S?(qe=S||!ze?{open:!1}:{},n[73]=ze,n[74]=S,n[75]=qe):qe=n[75],pt=Xe,Ze=!0,ct=tt,Je="button",ye=ce(rt,"text-foreground hover:bg-hover flex cursor-pointer items-center justify-between gap-1 px-1.5 py-0.5 transition-colors duration-300"),n[47]=x,n[48]=nt,n[49]=o,n[50]=Le,n[51]=S,n[52]=r,n[53]=ct,n[54]=pt,n[55]=be,n[56]=We,n[57]=He,n[58]=Je,n[59]=ye,n[60]=Ze,n[61]=qe,n[62]=ft,n[63]=Et}else ct=n[53],pt=n[54],be=n[55],We=n[56],He=n[57],Je=n[58],ye=n[59],Ze=n[60],qe=n[61],ft=n[62],Et=n[63];let At;n[76]===Symbol.for("react.memo_cache_sentinel")?(At=()=>T(SWe),n[76]=At):At=n[76];let dt;n[77]!==He?(dt=He&&l.jsx(gu,{provider:He,className:"h-3 w-3 shrink-0 opacity-70"}),n[77]=He,n[78]=dt):dt=n[78];let Mt;n[79]!==We?(Mt=l.jsx("span",{className:"min-w-0 truncate",children:We}),n[79]=We,n[80]=Mt):Mt=n[80];let Gt;n[81]!==dt||n[82]!==Mt?(Gt=l.jsxs("span",{className:"flex min-w-0 items-center gap-1.5",children:[dt,Mt]}),n[81]=dt,n[82]=Mt,n[83]=Gt):Gt=n[83];let tn;n[84]===Symbol.for("react.memo_cache_sentinel")?(tn=l.jsx(Fs,{className:"text-muted h-3 w-3 shrink-0"}),n[84]=tn):tn=n[84];let It;n[85]!==ct||n[86]!==S||n[87]!==Je||n[88]!==ye||n[89]!==Gt?(It=l.jsxs(ct,{type:Je,className:ye,role:"combobox","aria-expanded":S,variant:"ghost",size:"xs",onClick:At,children:[Gt,tn]}),n[85]=ct,n[86]=S,n[87]=Je,n[88]=ye,n[89]=Gt,n[90]=It):It=n[90];let zt;n[91]!==pt||n[92]!==Ze||n[93]!==It?(zt=l.jsx(pt,{asChild:Ze,children:It}),n[91]=pt,n[92]=Ze,n[93]=It,n[94]=zt):zt=n[94];let Vt;n[95]!==r?(Vt=l.jsx(Ke,{align:"center",children:r}),n[95]=r,n[96]=Vt):Vt=n[96];let qt;n[97]!==be||n[98]!==qe||n[99]!==zt||n[100]!==Vt?(qt=l.jsxs(be,{...qe,children:[zt,Vt]}),n[97]=be,n[98]=qe,n[99]=zt,n[100]=Vt,n[101]=qt):qt=n[101];let Pt;n[102]!==d||n[103]!==R||n[104]!==W||n[105]!==_||n[106]!==ke||n[107]!==ve||n[108]!==Be||n[109]!==w||n[110]!==J||n[111]!==E||n[112]!==c||n[113]!==N||n[114]!==S||n[115]!==h||n[116]!==f||n[117]!==m||n[118]!==p||n[119]!==C||n[120]!==A||n[121]!==r?(Pt=S&&l.jsxs("div",{className:"bg-dark border-border absolute bottom-full left-0 z-[1020] mb-1 w-82 overflow-hidden rounded-md border shadow-md",children:[l.jsxs("div",{className:"border-border border-b px-2 py-1",children:[l.jsx("input",{ref:F,type:"text",value:N,onChange:_e,onKeyDown:ke,placeholder:c??"Search [provider:model-name]",className:"text-foreground placeholder:text-muted w-full bg-transparent text-xs outline-none"}),R&&l.jsx("div",{className:"text-danger-soft mt-1 text-[10px]",children:R})]}),l.jsx("div",{ref:Y,className:"max-h-[280px] overflow-y-auto p-1",children:W.length===0?l.jsx("div",{className:"text-muted py-2 text-center text-[10px]",children:"No matching models"}):W.map((rt,jt)=>l.jsxs("div",{"data-highlighted":jt===E,onMouseEnter:()=>M(jt),className:ce("flex w-full items-center gap-1.5 rounded-sm px-2 py-0.5 text-xs cursor-pointer",jt===E?"bg-hover":"hover:bg-hover",J.has(rt)&&"opacity-50"),onClick:()=>ve(rt),role:"option","aria-selected":r===rt,children:[l.jsx(Hn,{className:ce("h-3 w-3 shrink-0",r===rt?"opacity-100":"opacity-0")}),l.jsx(gu,{provider:Hp(rt),className:"text-muted h-3 w-3 shrink-0"}),l.jsx("span",{className:"min-w-0 flex-1 truncate",children:rt}),_.canToggleModel(rt)?l.jsx(dY,{active:_.modelUsesGateway(rt),onToggle:()=>_.toggleModelGateway(rt),variant:"bordered",size:"sm",showTooltip:!0}):l.jsx("span",{className:"h-5 w-5"}),(h??p)&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsxs("button",{type:"button",onMouseDown:jWe,onClick:ze=>{ze.preventDefault(),ze.stopPropagation(),J.has(rt)?p?.(rt):h?.(rt)},className:ce("relative flex h-5 w-5 items-center justify-center rounded-sm border transition-colors duration-150",J.has(rt)?"text-muted-light border-muted-light/40":"text-muted-light border-border-light/40 hover:border-foreground/60 hover:text-foreground"),"aria-label":J.has(rt)?"Show model in selector":"Hide model from selector",children:[l.jsx(Vd,{className:ce("h-4 w-4 md:h-3 md:w-3",J.has(rt)?"opacity-30":"opacity-70")}),J.has(rt)&&l.jsx("span",{className:"bg-muted-light absolute h-px w-3 rotate-45"})]})}),l.jsx(Ke,{align:"center",children:J.has(rt)?"Show model in selector":"Hide model from selector"})]}),m?J.has(rt)?l.jsx("span",{className:"h-5 w-5"}):l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",onMouseDown:TWe,onClick:ze=>Be(ze,rt),className:ce("flex h-5 w-5 items-center justify-center rounded-sm transition-colors duration-150 cursor-pointer",d===rt?"text-yellow-400 cursor-default":"text-muted-light hover:text-foreground"),"aria-label":d===rt?"Current default model":"Set as default model",disabled:d===rt,children:l.jsx(pI,{className:"h-4 w-4 md:h-3 md:w-3",fill:d===rt?"currentColor":"none"})})}),l.jsx(Ke,{align:"center",children:d===rt?"Current default model":"Set as default model"})]}):l.jsx("span",{className:"h-5 w-5"})]},rt))}),(w.length>0||f)&&l.jsxs("div",{className:"border-border flex flex-col gap-1 border-t px-2 py-1",children:[w.length>0&&l.jsx("button",{type:"button",onMouseDown:EWe,onClick:rt=>{rt.preventDefault(),rt.stopPropagation(),$(NWe),j(""),M(0)},className:"text-muted hover:text-foreground text-[10px] transition-colors",children:A?"Show fewer models":"Show all models"}),C&&l.jsxs("div",{className:"text-muted flex items-center gap-1 text-[10px]",children:[l.jsx(qm,{className:"h-3 w-3","aria-hidden":!0}),l.jsx("span",{children:"Your settings are controlled by a policy."})]}),f&&l.jsxs("button",{type:"button",onMouseDown:$We,onClick:rt=>{rt.preventDefault(),rt.stopPropagation(),f(),G()},className:"text-muted hover:bg-hover hover:text-foreground flex w-full items-center justify-start gap-1.5 rounded-sm px-2 py-1 text-[11px] transition-colors",children:[l.jsx(Hm,{className:"h-3 w-3 shrink-0"}),"Model settings"]})]})]}),n[102]=d,n[103]=R,n[104]=W,n[105]=_,n[106]=ke,n[107]=ve,n[108]=Be,n[109]=w,n[110]=J,n[111]=E,n[112]=c,n[113]=N,n[114]=S,n[115]=h,n[116]=f,n[117]=m,n[118]=p,n[119]=C,n[120]=A,n[121]=r,n[122]=Pt):Pt=n[122];let et;return n[123]!==ft||n[124]!==Et||n[125]!==qt||n[126]!==Pt?(et=l.jsxs("div",{ref:ft,className:Et,children:[qt,Pt]}),n[123]=ft,n[124]=Et,n[125]=qt,n[126]=Pt,n[127]=et):et=n[127],et});ax.displayName="ModelSelector";function CWe(t){return Math.max(t-1,0)}function SWe(t){return!t}function jWe(t){return t.preventDefault()}function TWe(t){return t.preventDefault()}function EWe(t){return t.preventDefault()}function NWe(t){return!t}function $We(t){return t.preventDefault()}const Bd=100;function Jv(t,e){mt(typeof t.text=="string",`${e}.text must be a string`),mt(Number.isFinite(t.cursor),`${e}.cursor must be a finite number`),mt(Number.isInteger(t.cursor),`${e}.cursor must be an integer`),mt(t.cursor>=0,`${e}.cursor must be >= 0`);const n=Math.max(0,t.text.length-1);mt(t.cursor<=n,`${e}.cursor out of bounds. cursor=${t.cursor} max=${n} text.length=${t.text.length}`)}function h$(t){mt(t.mode==="insert"||t.mode==="normal"||t.mode==="visual"||t.mode==="visualLine","Unexpected Vim mode"),mt(typeof t.text=="string","Vim text must be a string"),mt(typeof t.yankBuffer=="string","Vim yankBuffer must be a string"),mt(Number.isFinite(t.cursor),"Vim cursor must be a finite number"),mt(Number.isInteger(t.cursor),"Vim cursor must be an integer"),mt(t.cursor>=0,"Vim cursor must be >= 0");const e=t.mode==="insert"?t.text.length:Math.max(0,t.text.length-1);if(mt(t.cursor<=e,`Vim cursor out of bounds for mode=${t.mode}. cursor=${t.cursor} max=${e} text.length=${t.text.length}`),t.mode==="visual"||t.mode==="visualLine"?mt(t.visualAnchor!=null,"Vim visualAnchor must be set in visual mode"):mt(t.visualAnchor==null,"Vim visualAnchor must be null outside visual mode"),t.visualAnchor!=null&&(mt(Number.isFinite(t.visualAnchor),"Vim visualAnchor must be a finite number"),mt(Number.isInteger(t.visualAnchor),"Vim visualAnchor must be an integer"),mt(t.visualAnchor>=0,"Vim visualAnchor must be >= 0"),mt(t.visualAnchor<=e,`Vim visualAnchor out of bounds for mode=${t.mode}. visualAnchor=${t.visualAnchor} max=${e} text.length=${t.text.length}`)),t.desiredColumn!=null&&(mt(Number.isFinite(t.desiredColumn),"Vim desiredColumn must be a finite number"),mt(Number.isInteger(t.desiredColumn),"Vim desiredColumn must be an integer"),mt(t.desiredColumn>=0,"Vim desiredColumn must be >= 0")),t.lastFind!=null&&(mt(t.lastFind.variant==="f"||t.lastFind.variant==="F"||t.lastFind.variant==="t"||t.lastFind.variant==="T","Unexpected Vim lastFind variant"),mt(typeof t.lastFind.char=="string","Vim lastFind.char must be a string"),mt(t.lastFind.char.length===1,"Vim lastFind.char must be a single character")),t.count!=null&&(mt(Number.isFinite(t.count),"Vim count must be a finite number"),mt(Number.isInteger(t.count),"Vim count must be an integer"),mt(t.count>=1,"Vim count must be >= 1"),mt(t.count<=1e4,"Vim count must be <= 10000")),t.pending){const r=t.pending;if(mt(r.kind==="op"||r.kind==="g"||r.kind==="find",`Unexpected Vim pending kind: ${String(r.kind)}`),mt(Number.isFinite(r.at),"Vim pending.at must be a finite timestamp"),mt(Number.isFinite(r.count),"Vim pending.count must be a finite number"),mt(Number.isInteger(r.count),"Vim pending.count must be an integer"),mt(r.count>=1,"Vim pending.count must be >= 1"),mt(r.count<=1e4,"Vim pending.count must be <= 10000"),r.kind==="op"&&(mt(r.op==="d"||r.op==="c"||r.op==="y","Unexpected Vim pending operator"),r.args!=null)){mt(Array.isArray(r.args),"Vim pending.args must be an array");for(const a of r.args)mt(typeof a=="string","Vim pending args must be strings")}r.kind==="find"&&(mt(r.variant==="f"||r.variant==="F"||r.variant==="t"||r.variant==="T","Unexpected Vim pending find variant"),r.op!=null&&mt(r.op==="d"||r.op==="c"||r.op==="y","Unexpected Vim pending find operator"))}mt(Array.isArray(t.undoStack),"Vim undoStack must be an array"),mt(Array.isArray(t.redoStack),"Vim redoStack must be an array"),mt(t.undoStack.length<=Bd,`Vim undoStack too large: ${t.undoStack.length} > ${Bd}`),mt(t.redoStack.length<=Bd,`Vim redoStack too large: ${t.redoStack.length} > ${Bd}`);for(let r=0;r<t.undoStack.length;r++)Jv(t.undoStack[r],`Vim undoStack[${r}]`);for(let r=0;r<t.redoStack.length;r++)Jv(t.redoStack[r],`Vim redoStack[${r}]`);if(t.mode==="insert"?t.insertStartSnapshot!=null&&Jv(t.insertStartSnapshot,"Vim insertStartSnapshot"):mt(t.insertStartSnapshot==null,"Vim insertStartSnapshot must be null outside insert mode"),t.lastEdit!=null){const{lastEdit:r}=t;mt(typeof r.kind=="string","Vim lastEdit.kind must be a string");const a=s=>{mt(Number.isFinite(s),"Vim lastEdit.count must be a finite number"),mt(Number.isInteger(s),"Vim lastEdit.count must be an integer"),mt(s>=1,"Vim lastEdit.count must be >= 1"),mt(s<=1e4,"Vim lastEdit.count must be <= 10000")};switch(r.kind){case"x":case"~":a(r.count);break;case"paste":mt(r.variant==="p"||r.variant==="P","Unexpected Vim lastEdit paste variant"),a(r.count);break;case"opMotion":mt(r.op==="d"||r.op==="c","Unexpected Vim lastEdit operator"),mt(r.motion==="w"||r.motion==="W"||r.motion==="b"||r.motion==="B"||r.motion==="e"||r.motion==="E"||r.motion==="$"||r.motion==="0"||r.motion==="_"||r.motion==="line","Unexpected Vim lastEdit motion"),a(r.count);break;case"opTextObject":mt(r.op==="d"||r.op==="c","Unexpected Vim lastEdit operator"),mt(JWe(r.textObject),"Unexpected Vim lastEdit text object"),a(r.count);break;case"opVisual":mt(r.op==="d"||r.op==="c","Unexpected Vim lastEdit operator"),mt(r.rangeKind==="char"||r.rangeKind==="line","Unexpected Vim lastEdit visual range kind"),a(r.count);break;default:mt(!1,`Unexpected Vim lastEdit kind: ${String(r.kind)}`)}}}function Ei(t){const e=t.split(`
`),n=[];let r=0;for(let a=0;a<e.length;a++)n.push(r),r+=e[a].length+(a<e.length-1?1:0);return{lines:e,starts:n}}function ni(t,e){const{starts:n}=Ei(t);let r=0;for(;r+1<n.length&&n[r+1]<=e;)r++;const a=e-n[r];return{row:r,col:a}}function AWe(t,e,n){const{lines:r,starts:a}=Ei(t);return e=Math.max(0,Math.min(e,r.length-1)),n=Math.max(0,Math.min(n,r[e].length)),a[e]+n}function So(t,e){const{row:n}=ni(t,e),{lines:r,starts:a}=Ei(t),s=a[n],i=s+r[n].length;return{lineStart:s,lineEnd:i,row:n}}function sx(t,e){return Math.max(0,Math.min(e,t.length))}function IWe(t,e,n){const r=Math.min(e,n),a=Math.max(e,n);return{start:sx(t,r),end:sx(t,a+1),kind:"char"}}function RWe(t,e,n){const{row:r}=ni(t,e),{row:a}=ni(t,n),s=Math.min(r,a),i=Math.max(r,a),{lines:o,starts:c}=Ei(t),u=c[s],m=c[i]+o[i].length,h=i<o.length-1?m+1:m;return{start:sx(t,u),end:sx(t,h),kind:"line"}}function ZS(t){return t.mode!=="visual"&&t.mode!=="visualLine"||t.visualAnchor==null?null:t.mode==="visual"?IWe(t.text,t.visualAnchor,t.cursor):RWe(t.text,t.visualAnchor,t.cursor)}function MWe(t,e){const{lineStart:n,lineEnd:r}=So(t,e);let a=n;for(;a<r&&/\s/.test(t[a]);)a++;return a>=r?n:a}function d_(t){return t==="f"||t==="t"}function DWe(t,e,n,r,a){mt(n.length===1,"Find target must be a single character");const s=Math.max(1,Math.min(1e4,a)),{lineStart:i,lineEnd:o}=So(t,e);if(r==="forward"){let d=e+1;if(d>=o)return null;let m=-1;for(let h=0;h<s;h++){if(m=t.indexOf(n,d),m===-1||m>=o)return null;d=m+1}return m}let c=e-1;if(c<i)return null;let u=-1;for(let d=0;d<s;d++){if(u=t.lastIndexOf(n,c),u===-1||u<i)return null;c=u-1}return u}function m_(t,e,n,r,a){const{lineStart:s,lineEnd:i}=So(t,e),o=d_(n)?"forward":"backward",c=DWe(t,e,r,o,a);if(c==null)return null;switch(n){case"f":case"F":return c;case"t":return Math.max(s,c-1);case"T":return Math.min(i,c+1)}}function d1(t,e,n,r){const{row:a,col:s}=ni(t,e),{lines:i}=Ei(t),o=Math.max(0,Math.min(i.length-1,a+n)),c=r??s,u=Math.max(0,Math.min(c,i[o].length));return{cursor:AWe(t,o,u),desiredColumn:c}}function mY(t,e){const n=t.length;if(n===0)return 0;let r=Math.max(0,Math.min(e,n-1));const a=o=>/[A-Za-z0-9_]/.test(o),s=o=>{let c=o;for(;c<n&&a(t[c]);)c++;return c},i=o=>{let c=o;for(;c<n&&!a(t[c]);)c++;return c};return a(t[r])&&(r=s(r)),r=i(r),r>=n?Math.max(0,n-1):r}function hY(t,e){const n=t.length;if(n===0)return 0;let r=Math.max(0,Math.min(e,n-1));const a=o=>!/\s/.test(o),s=o=>{let c=o;for(;c<n&&a(t[c]);)c++;return c},i=o=>{let c=o;for(;c<n&&!a(t[c]);)c++;return c};return a(t[r])&&(r=s(r)),r=i(r),r>=n?Math.max(0,n-1):r}function pY(t,e){const n=t.length;if(n===0)return 0;if(e>=n-1)return Math.max(0,n-1);const r=Math.max(0,Math.min(e,n-1)),a=c=>/[A-Za-z0-9_]/.test(c);if(!a(t[r])){let c=r;for(;c<n&&!a(t[c]);)c++;if(c>=n)return Math.max(0,n-1);for(;c<n-1&&a(t[c+1]);)c++;return c}let s=r;for(;s<n-1&&a(t[s+1]);)s++;if(r<s)return s;let i=s+1;for(;i<n&&!a(t[i]);)i++;if(i>=n)return Math.max(0,n-1);let o=i;for(;o<n-1&&a(t[o+1]);)o++;return o}function fY(t,e){const n=t.length;if(n===0)return 0;if(e>=n-1)return Math.max(0,n-1);const r=Math.max(0,Math.min(e,n-1)),a=c=>!/\s/.test(c);if(!a(t[r])){let c=r;for(;c<n&&!a(t[c]);)c++;if(c>=n)return Math.max(0,n-1);for(;c<n-1&&a(t[c+1]);)c++;return c}let s=r;for(;s<n-1&&a(t[s+1]);)s++;if(r<s)return s;let i=s+1;for(;i<n&&!a(t[i]);)i++;if(i>=n)return Math.max(0,n-1);let o=i;for(;o<n-1&&a(t[o+1]);)o++;return o}function gY(t,e){let n=e-1;for(;n>0&&/\s/.test(t[n]);)n--;for(;n>0&&/[A-Za-z0-9_]/.test(t[n-1]);)n--;return Math.min(Math.max(0,n),Math.max(0,t.length-1))}function bY(t,e){let n=e-1;for(;n>0&&/\s/.test(t[n]);)n--;for(;n>0&&!/\s/.test(t[n-1]);)n--;return Math.min(Math.max(0,n),Math.max(0,t.length-1))}function LWe(t,e){const n=t.length;let r=Math.max(0,Math.min(n,e));const a=o=>/[A-Za-z0-9_]/.test(o);if(r>=n&&(r=n-1),n===0)return{start:0,end:0};if(r<0&&(r=0),!a(t[r])){let o=r;for(;o<n&&!a(t[o]);)o++;if(o>=n)return{start:n,end:n};r=o}let s=r;for(;s>0&&a(t[s-1]);)s--;let i=r+1;for(;i<n&&a(t[i]);)i++;return{start:s,end:i}}function ul(t,e,n,r,a){const s=Math.max(0,Math.min(e,n)),i=Math.max(0,Math.max(e,n)),o=t.slice(s,i);return{text:t.slice(0,s)+t.slice(i),cursor:s,yankBuffer:o}}function OWe(t,e,n){return e>=t.length?{text:t,cursor:e,yankBuffer:n}:ul(t,e,e+1)}function PWe(t,e,n){return n?{text:t.slice(0,e)+n+t.slice(e),cursor:e+n.length}:{text:t,cursor:e}}function FWe(t,e,n){return n?{text:t.slice(0,e)+n+t.slice(e),cursor:e}:{text:t,cursor:e}}function BWe(t,e,n){const{lineStart:r,lineEnd:a}=So(t,e);switch(n){case"i":return{cursor:e,text:t};case"a":return{cursor:Math.min(e+1,t.length),text:t};case"I":return{cursor:r,text:t};case"A":return{cursor:a,text:t};case"o":{const s=t.slice(0,a)+`
`+t.slice(a);return{cursor:a+1,text:s}}case"O":{const s=t.slice(0,r)+`
`+t.slice(r);return{cursor:r,text:s}}}}function b0(t,e,n,r){return ul(t,e,n)}function ix(t,e){return{text:t,cursor:oo(t,e,"normal")}}function QS(t,e){const n=[...t,e];return n.length<=Bd?n:n.slice(n.length-Bd)}function xY(t,e){return{...t,undoStack:QS(t.undoStack,e),redoStack:t.redoStack.length===0?t.redoStack:[]}}function ox(t){return{...t,mode:"normal",cursor:oo(t.text,t.cursor,"normal"),visualAnchor:null,pending:null,desiredColumn:null,count:null,insertStartSnapshot:null}}function yY(t){if(t.undoStack.length===0)return ox(t);const e=t.undoStack[t.undoStack.length-1],n=t.undoStack.slice(0,-1),r=ix(t.text,t.cursor),a=QS(t.redoStack,r);return ox({...t,text:e.text,cursor:e.cursor,undoStack:n,redoStack:a})}function wY(t){if(t.redoStack.length===0)return ox(t);const e=t.redoStack[t.redoStack.length-1],n=t.redoStack.slice(0,-1),r=ix(t.text,t.cursor),a=QS(t.undoStack,r);return ox({...t,text:e.text,cursor:e.cursor,undoStack:a,redoStack:n})}function zWe(t,e){switch(e.kind){case"x":case"~":case"paste":{const n=jY(t,e.kind==="paste"?e.variant:e.kind,e.count);return n?(mt(n.handled,"Expected lastEdit edit to be handled"),n.newState):t}case"opMotion":return Ts(t,e.op,e.motion,e.count);case"opTextObject":return js(t,e.op,e.textObject,e.count);case"opVisual":{const{text:n,cursor:r,yankBuffer:a}=t,s=Math.max(1,Math.min(1e4,e.count));if(e.rangeKind==="char"){const m=Math.min(n.length,r+s);if(e.op==="d"){const p=ul(n,r,m);return pr(t,{text:p.text,cursor:p.cursor,yankBuffer:p.yankBuffer})}const h=b0(n,r,m);return pr(t,{mode:"insert",text:h.text,cursor:h.cursor,yankBuffer:h.yankBuffer})}const i=kY(n,r,s);if(e.op==="d"){const m=ul(n,i.from,i.to);return pr(t,{text:m.text,cursor:m.cursor,yankBuffer:m.yankBuffer})}const o=n.slice(i.from,i.to),c=o.endsWith(`
`)?o.slice(0,-1):o,u=i.to<n.length?`
`:"",d=n.slice(0,i.from)+u+n.slice(i.to);return pr(t,{mode:"insert",text:d,cursor:i.from,yankBuffer:c})}default:return mt(!1,`Unexpected Vim lastEdit kind: ${String(e.kind)}`),t}}function HWe(t,e){if(t.lastEdit==null)return pr(t,{});const n=Math.max(1,Math.min(1e4,e)),r=t.lastEdit;let a=t;for(let s=0;s<n;s++)a=zWe(a,r);return pr(a,{})}function qWe(t,e,n){h$(t);let r;switch(t.mode){case"insert":r=UWe(t,e,n);break;case"normal":r=WWe(t,e,n);break;case"visual":case"visualLine":r=GWe(t,e,n);break}if(!r.handled)return r;let a=r.newState;t.mode!=="insert"&&a.mode==="insert"&&(a={...a,insertStartSnapshot:ix(t.text,t.cursor)});const s=!n.ctrl&&!n.meta&&!n.alt&&e==="u",i=n.ctrl&&!n.meta&&!n.alt&&e==="r",o=s||i;a.text!==t.text&&t.mode!=="insert"&&a.mode!=="insert"&&!o&&(a=xY(a,ix(t.text,t.cursor))),a.mode!=="insert"&&a.insertStartSnapshot!=null&&(a={...a,insertStartSnapshot:null});const u={...r,newState:a};return h$(a),u}function UWe(t,e,n){if(e==="Escape"||e==="["&&n.ctrl){const r=t.insertStartSnapshot,a=oo(t.text,Math.max(0,t.cursor-1),"normal");let s={...t,mode:"normal",visualAnchor:null,cursor:a,desiredColumn:null,pending:null,count:null,insertStartSnapshot:null};return r!=null&&t.text!==r.text&&(s=xY(s,r)),{handled:!0,newState:s}}return{handled:!1}}function WWe(t,e,n){const r=Date.now();let a=t;if(a.pending&&r-a.pending.at>800&&(a={...a,pending:null,count:null}),a.pending?.kind!=="find"&&!n.ctrl&&!n.meta&&!n.alt&&e.length===1&&/^[0-9]$/.test(e)){const m=Number(e);if(m!==0||a.count!=null){const h=a.count??0,p=Math.min(1e4,h*10+m);return Xr(a,{count:p})}}if(!n.ctrl&&!n.meta&&!n.alt&&e==="v")return Xr(a,{mode:"visual",visualAnchor:a.cursor,pending:null,desiredColumn:null,count:null});if(!n.ctrl&&!n.meta&&!n.alt&&e==="V")return Xr(a,{mode:"visualLine",visualAnchor:a.cursor,pending:null,desiredColumn:null,count:null});if(a.pending){const m=vY(a,a.pending,e,n,r);if(m)return m}if(!n.ctrl&&!n.meta&&!n.alt&&e==="u")return{handled:!0,newState:yY(a)};if(!n.meta&&!n.alt&&e==="r"&&n.ctrl)return{handled:!0,newState:wY(a)};if(!n.ctrl&&!n.meta&&!n.alt&&e==="."){const m=a.count??1;return{handled:!0,newState:HWe(a,m)}}const s=sGe(a,e);if(s)return s;const i=CY(a,e,r);if(i)return i;const o=a.count??1,c=SY(a,e,o);if(c)return c;const u=jY(a,e,o);if(u)return u;const d=iGe(a,e,r);return d||(e==="Escape"||e==="["&&n.ctrl?a.count!=null?Xr(a,{count:null}):{handled:!0,newState:{...a,count:null},action:"escapeInNormalMode"}:e.length===1&&!n.ctrl&&!n.meta&&!n.alt?{handled:!0,newState:{...a,count:null}}:{handled:!1})}function GWe(t,e,n){const r=Date.now();let a=t;if(a.visualAnchor==null)return Xr(a,{mode:"normal",visualAnchor:null,pending:null,desiredColumn:null,count:null});if(a.pending&&r-a.pending.at>800&&(a={...a,pending:null,count:null}),a.pending?.kind!=="find"&&!n.ctrl&&!n.meta&&!n.alt&&e.length===1&&/^[0-9]$/.test(e)){const c=Number(e);if(c!==0||a.count!=null){const u=a.count??0,d=Math.min(1e4,u*10+c);return Xr(a,{count:d})}}if(a.pending)if(a.pending.kind==="op")a={...a,pending:null,count:null};else{const c=vY(a,a.pending,e,n,r);if(c)return c}if(e==="Escape"||e==="["&&n.ctrl)return{handled:!0,newState:e3(a)};if(!n.ctrl&&!n.meta&&!n.alt&&e==="v")return a.mode==="visual"?{handled:!0,newState:e3(a)}:Xr(a,{mode:"visual",pending:null,desiredColumn:null,count:null});if(!n.ctrl&&!n.meta&&!n.alt&&e==="V")return a.mode==="visualLine"?{handled:!0,newState:e3(a)}:Xr(a,{mode:"visualLine",pending:null,desiredColumn:null,count:null});if(!n.ctrl&&!n.meta&&!n.alt&&(e==="d"||e==="c"||e==="y"))return{handled:!0,newState:XWe(a,e)};if(!n.ctrl&&!n.meta&&!n.alt&&e==="u")return{handled:!0,newState:yY(a)};if(!n.meta&&!n.alt&&e==="r"&&n.ctrl)return{handled:!0,newState:wY(a)};const s=CY(a,e,r);if(s)return s;const i=a.count??1,o=SY(a,e,i);return o||(e.length===1&&!n.ctrl&&!n.meta&&!n.alt?{handled:!0,newState:{...a,count:null}}:{handled:!1})}function vY(t,e,n,r,a){switch(e.kind){case"op":return VWe(t,e,n,r,a);case"g":return KWe(t,e,n);case"find":return YWe(t,e,n,r);default:return mt(!1,`Unexpected Vim pending kind: ${String(e.kind)}`),null}}function VWe(t,e,n,r,a){const s=e.args??[],i=t.count??1,o=Math.min(1e4,e.count*i);if(s.length===0&&n===e.op)return{handled:!0,newState:Ts(t,e.op,"line",o)};if(s.length===1&&s[0]==="i"){if(n==="w")return{handled:!0,newState:js(t,e.op,"iw",o)};if(n==='"')return{handled:!0,newState:js(t,e.op,'i"',o)};if(n==="'")return{handled:!0,newState:js(t,e.op,"i'",o)};if(n==="(")return{handled:!0,newState:js(t,e.op,"i(",o)};if(n==="[")return{handled:!0,newState:js(t,e.op,"i[",o)};if(n==="{")return{handled:!0,newState:js(t,e.op,"i{",o)}}if(s.length===1&&s[0]==="a"){if(n==="w")return{handled:!0,newState:js(t,e.op,"aw",o)};if(n==='"')return{handled:!0,newState:js(t,e.op,'a"',o)};if(n==="'")return{handled:!0,newState:js(t,e.op,"a'",o)};if(n==="(")return{handled:!0,newState:js(t,e.op,"a(",o)};if(n==="[")return{handled:!0,newState:js(t,e.op,"a[",o)};if(n==="{")return{handled:!0,newState:js(t,e.op,"a{",o)}}if(s.length===0){if(n==="w"){const c=t.cursor<t.text.length&&/[A-Za-z0-9_]/.test(t.text[t.cursor]),u=e.op==="c"&&c?"e":"w";return{handled:!0,newState:Ts(t,e.op,u,o)}}if(n==="W"){const c=t.cursor<t.text.length&&!/\s/.test(t.text[t.cursor]),u=e.op==="c"&&c?"E":"W";return{handled:!0,newState:Ts(t,e.op,u,o)}}if(n==="b")return{handled:!0,newState:Ts(t,e.op,"b",o)};if(n==="B")return{handled:!0,newState:Ts(t,e.op,"B",o)};if(n==="e")return{handled:!0,newState:Ts(t,e.op,"e",o)};if(n==="E")return{handled:!0,newState:Ts(t,e.op,"E",o)};if(n==="$"||n==="End")return{handled:!0,newState:Ts(t,e.op,"$",o)};if(n==="0"||n==="Home")return{handled:!0,newState:Ts(t,e.op,"0",o)};if(n==="_")return{handled:!0,newState:Ts(t,e.op,"_",o)};if(_Y(n))return Xr(t,{pending:{kind:"find",variant:n,at:a,count:o,op:e.op},count:null});if(n==="i"||n==="a")return Xr(t,{pending:{kind:"op",op:e.op,at:a,count:e.count,args:[n]}})}return Xr(t,{pending:null,count:null})}function KWe(t,e,n){if(n==="g"){const r=t.text,a=t.count??e.count,{row:s}=ni(r,t.cursor),{lines:i}=Ei(r),c=Math.max(0,Math.min(i.length-1,a-1))-s,u=d1(r,t.cursor,c,t.desiredColumn);return nr(t,{cursor:oo(r,u.cursor,"normal"),desiredColumn:u.desiredColumn,pending:null})}return Xr(t,{pending:null,count:null})}function YWe(t,e,n,r){if(n==="Escape"||n==="["&&r.ctrl)return Xr(t,{pending:null,count:null});if(r.ctrl||r.meta||r.alt||n.length!==1)return Xr(t,{pending:null,count:null});const a=n,s=Math.max(1,Math.min(1e4,e.count)),i=m_(t.text,t.cursor,e.variant,a,s);if(i==null)return nr(t,{pending:null,desiredColumn:null});const o=oo(t.text,i,"normal");return e.op!=null?{handled:!0,newState:QWe(t,e.op,o,e.variant,a)}:nr(t,{cursor:o,desiredColumn:null,pending:null,lastFind:{variant:e.variant,char:a}})}function oo(t,e,n){const r=n==="insert"?t.length:Math.max(0,t.length-1);return Math.max(0,Math.min(e,r))}function pr(t,e){const n=e.text??t.text,r=e.mode??t.mode,a=oo(n,e.cursor??t.cursor,r);return{...t,...e,cursor:a,pending:null,desiredColumn:null,count:null}}function Xr(t,e){return{handled:!0,newState:{...t,...e}}}function nr(t,e){return Xr(t,{...e,count:null})}function e3(t){const e=ZS(t);return mt(e!=null,"Expected visual range when exiting visual mode"),pr(t,{mode:"normal",cursor:e.start,visualAnchor:null})}function XWe(t,e){const n=ZS(t);mt(n!=null,"Expected visual range in visual mode");const{text:r,yankBuffer:a}=t,s=r.slice(n.start,n.end);let i=null;if(e==="d"||e==="c")if(n.kind==="char"){const o=n.end-n.start;o>0&&(i={kind:"opVisual",op:e,rangeKind:"char",count:o})}else{mt(t.visualAnchor!=null,"Expected visualAnchor in visual line mode");const{row:o}=ni(r,t.visualAnchor),{row:c}=ni(r,t.cursor),u=Math.abs(c-o)+1;i={kind:"opVisual",op:e,rangeKind:"line",count:u}}switch(e){case"d":{const o=ul(r,n.start,n.end);return pr(t,{mode:"normal",text:o.text,cursor:o.cursor,yankBuffer:o.yankBuffer,visualAnchor:null,...i!=null?{lastEdit:i}:{}})}case"c":{if(n.kind==="line"){const c=s.endsWith(`
`)?s.slice(0,-1):s,u=n.end<r.length?`
`:"",d=r.slice(0,n.start)+u+r.slice(n.end);return pr(t,{mode:"insert",text:d,cursor:n.start,yankBuffer:c,visualAnchor:null,...i!=null?{lastEdit:i}:{}})}const o=b0(r,n.start,n.end);return pr(t,{mode:"insert",text:o.text,cursor:o.cursor,yankBuffer:o.yankBuffer,visualAnchor:null,...i!=null?{lastEdit:i}:{}})}case"y":return pr(t,{mode:"normal",cursor:n.start,yankBuffer:s,visualAnchor:null})}}function ZWe(t,e,n,r){switch(n){case"w":{let a=e;for(let s=0;s<r;s++)a=mY(t,a);return{from:e,to:a}}case"W":{let a=e;for(let s=0;s<r;s++)a=hY(t,a);return{from:e,to:a}}case"b":{let a=e;for(let s=0;s<r;s++)a=gY(t,a);return{from:a,to:e}}case"B":{let a=e;for(let s=0;s<r;s++)a=bY(t,a);return{from:a,to:e}}case"e":{let a=e;for(let s=0;s<r;s++)a=pY(t,a);return{from:e,to:a+1}}case"E":{let a=e;for(let s=0;s<r;s++)a=fY(t,a);return{from:e,to:a+1}}case"$":{const{row:a}=ni(t,e),{lines:s,starts:i}=Ei(t),o=Math.max(0,Math.min(s.length-1,a+r-1)),u=i[o]+s[o].length;return{from:e,to:u}}case"0":{const{lineStart:a}=So(t,e);return{from:a,to:e}}case"_":return null;case"line":return null}}function kY(t,e,n){const{row:r}=ni(t,e),{lines:a,starts:s}=Ei(t),i=Math.max(0,Math.min(a.length-1,r+n-1)),o=s[r];let c=s[i]+a[i].length;return i<a.length-1&&(c+=1),{from:o,to:c,row:r}}function Ts(t,e,n,r){const{text:a,cursor:s,yankBuffer:i}=t,o=Math.max(1,Math.min(1e4,r));if(n==="line"||n==="_"){const u=kY(a,s,o),d=a.slice(u.from,u.to);if(e==="d"){const m=a.slice(0,u.from)+a.slice(u.to);return pr(t,{text:m,cursor:u.from,yankBuffer:d,lastEdit:{kind:"opMotion",op:"d",motion:n,count:o}})}if(e==="c"){const m=d.endsWith(`
`)?d.slice(0,-1):d,h=u.to<a.length?`
`:"",p=a.slice(0,u.from)+h+a.slice(u.to);return pr(t,{mode:"insert",text:p,cursor:u.from,yankBuffer:m,lastEdit:{kind:"opMotion",op:"c",motion:n,count:o}})}if(e==="y")return pr(t,{yankBuffer:d})}const c=ZWe(a,s,n,o);if(!c)return t;if(e==="d"){const u=ul(a,c.from,c.to);return pr(t,{text:u.text,cursor:u.cursor,yankBuffer:u.yankBuffer,lastEdit:{kind:"opMotion",op:"d",motion:n,count:o}})}if(e==="c"){const u=b0(a,c.from,c.to);return pr(t,{mode:"insert",text:u.text,cursor:u.cursor,yankBuffer:u.yankBuffer,lastEdit:{kind:"opMotion",op:"c",motion:n,count:o}})}return e==="y"?pr(t,{yankBuffer:a.slice(c.from,c.to)}):t}function QWe(t,e,n,r,a){const{text:s,cursor:i,yankBuffer:o}=t;mt(a.length===1,"Find target must be a single character");const c={variant:r,char:a},u=d_(r)?{from:i,to:Math.min(s.length,n+1)}:{from:n,to:Math.min(s.length,i+1)};if(d_(r)?mt(n>=i,"Expected forward find destination to be >= cursor"):mt(n<=i,"Expected backward find destination to be <= cursor"),e==="d"){const d=ul(s,u.from,u.to);return pr(t,{text:d.text,cursor:d.cursor,yankBuffer:d.yankBuffer,lastFind:c})}if(e==="c"){const d=b0(s,u.from,u.to);return pr(t,{mode:"insert",text:d.text,cursor:d.cursor,yankBuffer:d.yankBuffer,lastFind:c})}return e==="y"?pr(t,{yankBuffer:s.slice(u.from,u.to),lastFind:c}):t}function JWe(t){if(typeof t!="string")return!1;switch(t){case"iw":case"aw":case'i"':case'a"':case"i'":case"a'":case"i(":case"a(":case"i[":case"a[":case"i{":case"a{":return!0;default:return!1}}function h_(t,e){const n=t.length;if(n===0||(e<0&&(e=0),e>=n))return null;const{lineStart:r,lineEnd:a}=So(t,e),s=LWe(t,e);if(s.start<r||s.start>=a)return null;const i=Math.min(s.end,a);return i<=s.start?null:{start:s.start,end:i}}function p$(t,e){const n=h_(t,e);if(!n)return null;const{lineStart:r,lineEnd:a}=So(t,n.start);let s=n.end;for(;s<a&&/\s/.test(t[s]);)s++;if(s>n.end)return{start:n.start,end:s};let i=n.start;for(;i>r&&/\s/.test(t[i-1]);)i--;return{start:i,end:n.end}}function eGe(t,e,n){let r=null,a=null;for(let s=0;s<t.length;s++){if(t[s]!==n)continue;if(r==null){r=s;continue}const i=s;r<=e&&e<=i&&(a={open:r,close:i}),r=null}return a}function tGe(t,e,n,r){const a=[];let s=null;for(let i=0;i<t.length;i++){const o=t[i];if(o===n){a.push(i);continue}if(o===r){const c=a.pop();if(c==null)continue;c<=e&&e<=i&&(s==null||c>s.open)&&(s={open:c,close:i})}}return s}function _g(t,e,n,r){if(t.length===0||e<0||e>=t.length)return null;const{lineStart:a,lineEnd:s}=So(t,e),i=t.slice(a,s),o=Math.max(0,Math.min(e-a,i.length)),c=eGe(i,o,n);if(!c)return null;const u=a+(r?c.open:c.open+1),d=a+(r?c.close+1:c.close);return u<a||u>s||d<a||d>s||u>d?null:{start:u,end:d}}function yd(t,e,n,r,a){if(t.length===0||e<0||e>=t.length)return null;const{lineStart:s,lineEnd:i}=So(t,e),o=t.slice(s,i),c=Math.max(0,Math.min(e-s,o.length)),u=tGe(o,c,n,r);if(!u)return null;const d=s+(a?u.open:u.open+1),m=s+(a?u.close+1:u.close);return d<s||d>i||m<s||m>i||d>m?null:{start:d,end:m}}function nGe(t,e,n,r){switch(n){case"iw":{const a=h_(t,e);if(!a)return null;const s=a.start;let i=a.end;for(let o=1;o<r;o++){const c=h_(t,i);if(!c||c.end<=i)break;i=c.end}return{start:s,end:i}}case"aw":{const a=p$(t,e);if(!a)return null;const s=a.start;let i=a.end;for(let o=1;o<r;o++){const c=p$(t,i);if(!c||c.end<=i)break;i=c.end}return{start:s,end:i}}case'i"':return _g(t,e,'"',!1);case'a"':return _g(t,e,'"',!0);case"i'":return _g(t,e,"'",!1);case"a'":return _g(t,e,"'",!0);case"i(":return yd(t,e,"(",")",!1);case"a(":return yd(t,e,"(",")",!0);case"i[":return yd(t,e,"[","]",!1);case"a[":return yd(t,e,"[","]",!0);case"i{":return yd(t,e,"{","}",!1);case"a{":return yd(t,e,"{","}",!0)}}function js(t,e,n,r){const{text:a,cursor:s,yankBuffer:i}=t,o=Math.max(1,Math.min(1e4,r)),c=nGe(a,s,n,o);if(!c)return pr(t,{});const{start:u,end:d}=c;if(e==="d"){const m=ul(a,u,d);return pr(t,{text:m.text,cursor:m.cursor,yankBuffer:m.yankBuffer,lastEdit:{kind:"opTextObject",op:"d",textObject:n,count:o}})}if(e==="c"){const m=b0(a,u,d);return pr(t,{mode:"insert",text:m.text,cursor:m.cursor,yankBuffer:m.yankBuffer,lastEdit:{kind:"opTextObject",op:"c",textObject:n,count:o}})}return e==="y"?pr(t,{yankBuffer:a.slice(u,d)}):pr(t,{})}function _Y(t){return t==="f"||t==="F"||t==="t"||t==="T"}function rGe(t){switch(t){case"f":return"F";case"F":return"f";case"t":return"T";case"T":return"t"}}function aGe(t){return["i","a","I","A","o","O"].includes(t)}function sGe(t,e){if(!aGe(e))return null;const n=BWe(t.text,t.cursor,e);return nr(t,{mode:"insert",text:n.text,cursor:n.cursor,desiredColumn:null,pending:null})}function CY(t,e,n){if(e==="g"){const r=t.count??1;return Xr(t,{pending:{kind:"g",at:n,count:r},count:null})}if(_Y(e)){const r=t.count??1;return Xr(t,{pending:{kind:"find",variant:e,at:n,count:r},count:null})}return null}function SY(t,e,n){const{text:r,cursor:a,desiredColumn:s}=t;switch(e){case"h":return nr(t,{cursor:Math.max(0,a-n),desiredColumn:null});case"l":return nr(t,{cursor:Math.min(a+n,Math.max(0,r.length-1)),desiredColumn:null});case"j":{const i=d1(r,a,n,s);return nr(t,{cursor:i.cursor,desiredColumn:i.desiredColumn})}case"k":{const i=d1(r,a,-n,s);return nr(t,{cursor:i.cursor,desiredColumn:i.desiredColumn})}case"w":{let i=a;for(let o=0;o<n;o++)i=mY(r,i);return nr(t,{cursor:i,desiredColumn:null})}case"W":{let i=a;for(let o=0;o<n;o++)i=hY(r,i);return nr(t,{cursor:i,desiredColumn:null})}case"b":{let i=a;for(let o=0;o<n;o++)i=gY(r,i);return nr(t,{cursor:i,desiredColumn:null})}case"B":{let i=a;for(let o=0;o<n;o++)i=bY(r,i);return nr(t,{cursor:i,desiredColumn:null})}case"e":{let i=a;for(let o=0;o<n;o++)i=pY(r,i);return nr(t,{cursor:i,desiredColumn:null})}case"E":{let i=a;for(let o=0;o<n;o++)i=fY(r,i);return nr(t,{cursor:i,desiredColumn:null})}case"0":case"Home":{const{lineStart:i}=So(r,a);return nr(t,{cursor:i,desiredColumn:null})}case"_":{const{row:i}=ni(r,a),{lines:o,starts:c}=Ei(r),u=Math.max(0,Math.min(o.length-1,i+n-1)),d=MWe(r,c[u]);return nr(t,{cursor:d,desiredColumn:null})}case"$":case"End":{const{row:i}=ni(r,a),{lines:o,starts:c}=Ei(r),u=Math.max(0,Math.min(o.length-1,i+n-1)),d=c[u],m=d+o[u].length,h=m>d?m-1:d;return nr(t,{cursor:h,desiredColumn:null})}case"G":{const{row:i}=ni(r,a),{lines:o}=Ei(r),u=(t.count==null?o.length-1:Math.max(0,Math.min(o.length-1,n-1)))-i,d=d1(r,a,u,s);return nr(t,{cursor:oo(r,d.cursor,"normal"),desiredColumn:d.desiredColumn})}case";":{if(!t.lastFind)return nr(t,{desiredColumn:null});const i=m_(r,a,t.lastFind.variant,t.lastFind.char,n);return i==null?nr(t,{desiredColumn:null}):nr(t,{cursor:oo(r,i,"normal"),desiredColumn:null})}case",":{if(!t.lastFind)return nr(t,{desiredColumn:null});const i=rGe(t.lastFind.variant),o=m_(r,a,i,t.lastFind.char,n);return o==null?nr(t,{desiredColumn:null}):nr(t,{cursor:oo(r,o,"normal"),desiredColumn:null})}}return null}function jY(t,e,n){const{text:r,cursor:a,yankBuffer:s}=t,i=Math.max(1,Math.min(1e4,n));switch(e){case"x":{if(a>=r.length)return null;const o=Math.min(r.length,a+i),c=ul(r,a,o),u=oo(c.text,c.cursor,"normal");return nr(t,{text:c.text,cursor:u,yankBuffer:c.yankBuffer,desiredColumn:null,lastEdit:{kind:"x",count:i}})}case"p":{const o=PWe(r,a+1,s);return nr(t,{text:o.text,cursor:o.cursor-1,desiredColumn:null,lastEdit:{kind:"paste",variant:"p",count:1}})}case"P":{const o=FWe(r,a,s);return nr(t,{text:o.text,cursor:o.cursor,desiredColumn:null,lastEdit:{kind:"paste",variant:"P",count:1}})}case"s":{if(a>=r.length)return null;const o=OWe(r,a,s);return nr(t,{text:o.text,cursor:o.cursor,yankBuffer:o.yankBuffer,mode:"insert",desiredColumn:null,pending:null})}case"~":{if(a>=r.length)return null;let o=r,c=a;for(let u=0;u<i&&!(c>=o.length);u++){const d=o[c],m=d===d.toUpperCase()?d.toLowerCase():d.toUpperCase();if(o=o.slice(0,c)+m+o.slice(c+1),c>=o.length-1)break;c++}return nr(t,{text:o,cursor:c,desiredColumn:null,pending:null,lastEdit:{kind:"~",count:i}})}}return null}function iGe(t,e,n){const r=t.count??1;switch(e){case"d":return Xr(t,{pending:{kind:"op",op:"d",at:n,count:r,args:[]},count:null});case"c":return Xr(t,{pending:{kind:"op",op:"c",at:n,count:r,args:[]},count:null});case"y":return Xr(t,{pending:{kind:"op",op:"y",at:n,count:r,args:[]},count:null});case"D":return{handled:!0,newState:Ts(t,"d","$",r)};case"C":return{handled:!0,newState:Ts(t,"c","$",r)}}return null}function oGe(t,e){const n=e==null?"":String(e);if(!t)return n;switch(t.kind){case"op":{const r=t.count===1?"":String(t.count),a=t.args?.join("")??"";return`${r}${t.op}${a}${n}`}case"g":return`${t.count===1?"":String(t.count)}g${n}`;case"find":{const r=t.count===1?"":String(t.count);return`${t.op??""}${r}${t.variant}${n}`}default:return mt(!1,`Unexpected Vim pending kind: ${String(t.kind)}`),n}}const TY=xe.forwardRef(({value:t,onChange:e,isEditing:n,suppressKeys:r,onKeyDown:a,trailingAction:s,onEscapeInNormalMode:i,focusBorderColor:o,...c},u)=>{const d=b.useRef(null);b.useEffect(()=>{u&&(typeof u=="function"?u(d.current):u.current=d.current)},[u]);const[m]=Tt(Fm,!1,{listener:!0}),[h,p]=b.useState("insert");b.useEffect(()=>{m||(p("insert"),C(null),g(null),y(null),v(null),I.current=0,_.current="",S.current=null,T.current=[],N.current=[],j.current=null,R.current=null)},[m]);const[f,g]=b.useState(null),[x,y]=b.useState(null),[w,v]=b.useState(null),[k,C]=b.useState(null),_=b.useRef(""),S=b.useRef(null),T=b.useRef([]),N=b.useRef([]),j=b.useRef(null),R=b.useRef(null),I=b.useRef(0);VK(d,t,50);const A=b.useMemo(()=>new Set(r??[]),[r]),$=()=>{const O=d.current;return{start:O.selectionStart,end:O.selectionEnd}},E=O=>{const G=d.current,H=G.value,D=B=>Math.max(0,Math.min(H.length,B));if(I.current=O.cursor,O.mode==="insert"){const B=D(O.cursor);G.selectionStart=B,G.selectionEnd=B;return}if(O.mode==="normal"){const B=D(O.cursor);G.selectionStart=B,G.selectionEnd=B<H.length?B+1:B;return}const U=ZS({text:H,cursor:O.cursor,mode:O.mode,visualAnchor:O.visualAnchor});if(!U){const B=D(O.cursor);G.selectionStart=B,G.selectionEnd=B;return}G.selectionStart=D(U.start),G.selectionEnd=D(U.end)},M=O=>{if(a?.(O),O.defaultPrevented||!m||A.has(O.key))return;const G=$(),H=h==="visual"||h==="visualLine"?I.current:G.start;I.current=H;const D={text:t,cursor:H,mode:h,visualAnchor:k,yankBuffer:_.current,desiredColumn:f,lastFind:S.current,count:x,pending:w,undoStack:T.current,redoStack:N.current,insertStartSnapshot:j.current,lastEdit:R.current},U=qWe(D,O.key,{ctrl:O.ctrlKey,meta:O.metaKey,alt:O.altKey});if(!U.handled)return;if(O.preventDefault(),U.action==="escapeInNormalMode"){es(O),i?.();return}const B=U.newState;I.current=B.cursor,B.text!==t&&e(B.text),B.mode!==h&&p(B.mode),B.visualAnchor!==k&&C(B.visualAnchor),B.yankBuffer!==_.current&&(_.current=B.yankBuffer),B.lastFind!==S.current&&(S.current=B.lastFind),B.undoStack!==T.current&&(T.current=B.undoStack),B.redoStack!==N.current&&(N.current=B.redoStack),B.insertStartSnapshot!==j.current&&(j.current=B.insertStartSnapshot),B.lastEdit!==R.current&&(R.current=B.lastEdit),B.desiredColumn!==f&&g(B.desiredColumn),B.count!==x&&y(B.count),B.pending!==w&&v(B.pending),setTimeout(()=>E(B),0)},F=m&&h!=="insert",L=h==="normal"?"normal":h==="visual"?"visual":"visual line",Y=F?oGe(w,x):"";return l.jsxs("div",{style:{width:"100%"},"data-component":"VimTextAreaContainer",children:[l.jsx("div",{className:"text-vim-status mb-px flex h-[11px] items-center justify-between gap-1 text-[9px] leading-[11px] tracking-[0.8px] select-none","aria-live":"polite",children:l.jsx("div",{className:"flex items-center gap-1",children:F&&l.jsxs(l.Fragment,{children:[l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx(hc,{children:"?"})}),l.jsxs(Ke,{align:"start",className:"max-w-80 whitespace-normal",children:[l.jsx("strong",{children:"Vim Mode Enabled"}),l.jsx("br",{}),l.jsx("br",{}),"Press ",l.jsx("strong",{children:"ESC"})," for normal mode, ",l.jsx("strong",{children:"i"})," to return to insert mode.",l.jsx("br",{}),l.jsx("br",{}),"See"," ",l.jsx("a",{href:"#",onClick:O=>{O.preventDefault();try{window.open("https://mux.coder.com/config/vim-mode","_blank")}catch{}},children:"Vim Mode docs"})," ","for full command reference."]})]}),l.jsx("span",{className:"uppercase",children:L}),Y&&l.jsx("span",{children:Y})]})})}),l.jsxs("div",{style:{position:"relative"},"data-component":"VimTextAreaWrapper",children:[l.jsx("textarea",{ref:d,value:t,onChange:O=>e(O.target.value),onKeyDown:M,spellCheck:!1,autoCorrect:"off",autoCapitalize:"none",autoComplete:"off",enterKeyHint:"send",...c,style:{...c.style??{},...s?{scrollbarGutter:"stable both-edges"}:{},"--focus-border-color":n?void 0:o},className:ce("w-full border text-light py-1.5 px-2 rounded text-[13px] resize-none min-h-8 max-h-[50vh] overflow-y-auto",m?"font-monospace":"font-sans","placeholder:text-placeholder","focus:outline-none",s&&"pr-10",n?"bg-editing-mode-alpha border-editing-mode focus:border-editing-mode":"bg-dark border-border-light focus:border-[var(--focus-border-color)]",h==="insert"?"caret-current selection:bg-selection":"caret-transparent selection:bg-white/50",c.className)}),s&&l.jsx("div",{className:"pointer-events-none absolute right-3.5 bottom-2.5 flex items-center",children:l.jsx("div",{className:"pointer-events-auto",children:s})}),m&&h==="normal"&&t.length===0&&l.jsx("div",{className:"pointer-events-none absolute top-1.5 left-2 h-4 w-2 bg-white/50"})]})]})});TY.displayName="VimTextArea";function lGe(t){return t.toLowerCase().trim().split(";")[0]}const cGe=t=>{const e=ae.c(7);if(t.attachments.length===0)return null;const n=t.onRemove;let r;if(e[0]!==n||e[1]!==t.attachments){let s;e[3]!==n?(s=i=>{const o=lGe(i.mediaType);if(o.startsWith("image/"))return l.jsxs("div",{className:"border-border-light bg-dark group grid h-20 w-20 overflow-hidden rounded border",children:[l.jsx("img",{src:i.url,alt:"Attached image",className:"pointer-events-none col-start-1 row-start-1 h-full w-full object-cover"}),n&&l.jsx("button",{onClick:()=>n(i.id),title:"Remove attachment",className:"col-start-1 row-start-1 m-0.5 flex h-5 w-5 cursor-pointer items-center justify-center self-start justify-self-end rounded-full border-0 bg-black/70 p-0 text-sm leading-none text-white hover:bg-black/90","aria-label":"Remove attachment",children:l.jsx(ir,{className:"h-3 w-3"})})]},i.id);const u=i.filename??(o==="application/pdf"?"PDF":o);return l.jsxs("div",{className:"border-border-light bg-dark flex max-w-[260px] items-center gap-2 rounded border px-2 py-1",children:[l.jsx(dc,{className:"h-4 w-4 shrink-0 text-[var(--color-subtle)]"}),l.jsx("span",{className:"truncate text-xs text-[var(--color-subtle)]",children:u}),n&&l.jsx("button",{onClick:()=>n(i.id),title:"Remove attachment",className:"ml-auto flex h-5 w-5 shrink-0 cursor-pointer items-center justify-center rounded-full border-0 bg-transparent p-0 text-[var(--color-subtle)] hover:bg-black/40","aria-label":"Remove attachment",children:l.jsx(ir,{className:"h-3 w-3"})})]},i.id)},e[3]=n,e[4]=s):s=e[4],r=t.attachments.map(s),e[0]=n,e[1]=t.attachments,e[2]=r}else r=e[2];let a;return e[5]!==r?(a=l.jsx("div",{className:"flex flex-wrap gap-2 py-2",children:r}),e[5]=r,e[6]=a):a=e[6],a},p_="image/svg+xml",f$=5e4,EY="application/pdf";function uGe(t){return t.toLowerCase().trim().split(";")[0]}function g$(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function dGe(t){const e=t.toLowerCase().split(".").pop();return{png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",svg:p_,pdf:EY}[e??""]??null}function JS(t){const e=t.type!==""?t.type:dGe(t.name)??"",n=uGe(e);return n.startsWith("image/")||n===EY?n:null}function Cg(t,e){const n=e?.validate??!1;return t.map((r,a)=>(n&&((!r.url||typeof r.url!="string")&&console.error(`Attachment [${a}] has invalid url:`,typeof r.url,r.url),typeof r.url=="string"&&!r.url.startsWith("data:")&&console.error(`Attachment [${a}] url is not a data URL:`,r.url.slice(0,100)),(!r.mediaType||typeof r.mediaType!="string")&&console.error(`Attachment [${a}] has invalid mediaType:`,typeof r.mediaType,r.mediaType)),{url:r.url,mediaType:r.mediaType,filename:r.filename}))}async function mGe(t){const e=JS(t);if(!e)throw new Error(`Unsupported attachment type: ${t.type||t.name}`);if(e===p_){const r=await t.text();if(r.length>f$)throw new Error(`SVG attachments must be ${f$.toLocaleString()} characters or less (this one is ${r.length.toLocaleString()}).`);return{id:g$(),url:`data:${p_},${encodeURIComponent(r)}`,mediaType:e,filename:t.name.trim()?t.name:void 0}}const n=await new Promise((r,a)=>{const s=new FileReader;s.onload=i=>{const o=i.target?.result;o?r(o):a(new Error("Failed to read file"))},s.onerror=()=>a(new Error("Failed to read file")),s.readAsDataURL(t)});return{id:g$(),url:n,mediaType:e,filename:t.name.trim()?t.name:void 0}}function hGe(t){const e=[];for(const n of Array.from(t)){const r=n?.getAsFile();r&&JS(r)&&e.push(r)}return e}function pGe(t){const e=[];for(const n of Array.from(t.files))JS(n)&&e.push(n);return e}async function b$(t){return await Promise.all(t.map(mGe))}function fGe(t){const e=t.indexOf(":"),n=e!==-1?t.slice(0,e):"",r=e!==-1?t.slice(e+1):t,a=[r];if(n&&(a.push(`${n}/${r}`,`${n}/${r}-cloud`),r.includes(":"))){const s=r.split(":")[0];a.push(`${n}/${s}`)}return a}function gGe(t){const e=typeof t.max_pdf_size_mb=="number"?t.max_pdf_size_mb:void 0;return{supportsPdfInput:t.supports_pdf_input===!0||e!==void 0,supportsVision:t.supports_vision===!0,supportsAudioInput:t.supports_audio_input===!0,supportsVideoInput:t.supports_video_input===!0,maxPdfSizeMb:e}}function lx(t){const e=gm(t),n=fGe(e),r=vQ,a=kQ;for(const s of n){const i=a[s],o=r[s];if(i||o){const c={...i??{},...o??{}};return gGe(c)}}return null}function bGe(t){const e=ae.c(7);if(!t.isSending)return null;let n,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=l.jsx("div",{className:"bg-accent mb-4 inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current border-r-transparent"}),r=l.jsx("h2",{className:"text-foreground mb-2 text-lg font-medium",children:"Creating workspace"}),e[0]=n,e[1]=r):(n=e[0],r=e[1]);let a;e[2]!==t.workspaceName||e[3]!==t.workspaceTitle?(a=t.workspaceName?l.jsxs(l.Fragment,{children:[l.jsx("code",{className:"bg-separator rounded px-1",children:t.workspaceName}),t.workspaceTitle&&l.jsxs("span",{className:"text-muted-foreground ml-1",children:[" ",t.workspaceTitle]})]}):"Generating name",e[2]=t.workspaceName,e[3]=t.workspaceTitle,e[4]=a):a=e[4];let s;return e[5]!==a?(s=l.jsx("div",{className:"bg-bg-dark/80 fixed inset-0 z-10 flex items-center justify-center backdrop-blur-sm",children:l.jsxs("div",{className:"max-w-xl px-8 text-center",children:[n,r,l.jsx("p",{className:"text-muted text-sm leading-relaxed",children:a})]})}),e[5]=a,e[6]=s):s=e[6],s}const NY=".devcontainer/devcontainer.json";function f_(t){const{selectedRuntime:e,availabilityState:n}=t;if(e.mode!==Yt.DEVCONTAINER)return{configPath:"",configs:[],uiMode:"hidden",helperText:null,isCreatable:!0};const r=e.configPath.trim();if(n.status==="loading")return{configPath:r,configs:[],uiMode:"loading",helperText:null,isCreatable:!1};if(n.status==="failed"){const o=r||NY;return{configPath:o,configs:[],uiMode:"input",helperText:"Configs couldn't be loaded. Enter a path to continue.",isCreatable:o.length>0}}const a=n.data.devcontainer,s=a?_Q(a):[];return s.length===0?{configPath:"",configs:[],uiMode:"hidden",helperText:null,isCreatable:!1}:{configPath:r&&s.some(o=>o.path===r)?r:s[0].path,configs:s,uiMode:"dropdown",helperText:null,isCreatable:!0}}function xGe(t){const e=ae.c(29),{value:n,options:r,onChange:a,disabled:s,className:i,id:o,"aria-label":c}=t,u=s===void 0?!1:s,d=i===void 0?"":i;let m,h,p,f,g,x,y;if(e[0]!==c||e[1]!==d||e[2]!==u||e[3]!==o||e[4]!==a||e[5]!==r||e[6]!==n){const k=r.map(wGe);h=Ar,f=n,g=a,x=u;let C;e[14]===Symbol.for("react.memo_cache_sentinel")?(C=l.jsx(Ir,{}),e[14]=C):C=e[14],e[15]!==c||e[16]!==d||e[17]!==o?(y=l.jsx(Tr,{id:o,className:d,"aria-label":c,children:C}),e[15]=c,e[16]=d,e[17]=o,e[18]=y):y=e[18],m=Er,p=k.map(yGe),e[0]=c,e[1]=d,e[2]=u,e[3]=o,e[4]=a,e[5]=r,e[6]=n,e[7]=m,e[8]=h,e[9]=p,e[10]=f,e[11]=g,e[12]=x,e[13]=y}else m=e[7],h=e[8],p=e[9],f=e[10],g=e[11],x=e[12],y=e[13];let w;e[19]!==m||e[20]!==p?(w=l.jsx(m,{children:p}),e[19]=m,e[20]=p,e[21]=w):w=e[21];let v;return e[22]!==h||e[23]!==f||e[24]!==g||e[25]!==x||e[26]!==y||e[27]!==w?(v=l.jsxs(h,{value:f,onValueChange:g,disabled:x,children:[y,w]}),e[22]=h,e[23]=f,e[24]=g,e[25]=x,e[26]=y,e[27]=w,e[28]=v):v=e[28],v}function yGe(t){return l.jsx(Un,{value:t.value,children:t.label},t.value)}function wGe(t){return typeof t=="string"?{value:t,label:t}:t}function ej(t){const e=ae.c(9),{className:n,variant:r}=t;if((r===void 0?"pulse":r)==="shimmer"){let o;e[0]!==n?(o=ce("relative inline-block overflow-hidden rounded bg-white/5",n),e[0]=n,e[1]=o):o=e[1];let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx("span",{className:ce("pointer-events-none absolute inset-0","bg-[linear-gradient(90deg,transparent,rgba(255,255,255,0.06),transparent)]","animate-[shimmer-slide_1.5s_infinite_linear]")}),e[2]=c):c=e[2];let u;return e[3]!==o?(u=l.jsx("span",{"aria-hidden":!0,className:o,children:c}),e[3]=o,e[4]=u):u=e[4],u}let s;e[5]!==n?(s=ce("inline-block animate-pulse rounded bg-white/5",n),e[5]=n,e[6]=s):s=e[6];let i;return e[7]!==s?(i=l.jsx("span",{"aria-hidden":!0,className:s}),e[7]=s,e[8]=i):i=e[8],i}const $Y="Checking";function x$(t,e){return e.some(n=>n.name===t.name&&n.organizationName!==t.organizationName)}function vGe(t){return`${t.binaryPath??"Coder CLI"} ${t.version} is below minimum v${t.minVersion}.`}function kGe(t){return t.reason==="missing"?"Coder CLI not found. Install to enable.":t.reason.kind==="not-logged-in"?t.reason.message||"CLI not logged in. Run `coder login <url>` first.":`Coder CLI error: ${t.reason.message}`}function AY(t){if(t===null)return{state:"loading",reason:$Y,shouldShowRuntimeButton:!1};if(t.state==="outdated")return{state:"outdated",reason:vGe(t),shouldShowRuntimeButton:!0};if(t.state==="unavailable"){const e=t.reason!=="missing"&&t.reason.kind==="not-logged-in";return{state:"unavailable",reason:kGe(t),shouldShowRuntimeButton:e}}return{state:"available",shouldShowRuntimeButton:!0}}function _Ge(t){const e=ae.c(7);let n;e[0]!==t.coderInfo?(n=AY(t.coderInfo),e[0]=t.coderInfo,e[1]=n):n=e[1];const r=n;if(r.state==="loading"){let a;return e[2]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsxs("span",{className:"text-muted flex items-center gap-1 text-xs",children:[l.jsx(pn,{className:"h-3 w-3 animate-spin"}),$Y]}),e[2]=a):a=e[2],a}if(r.state==="outdated"){let a;return e[3]!==r.reason?(a=l.jsx("p",{className:"text-xs text-yellow-500",children:r.reason}),e[3]=r.reason,e[4]=a):a=e[4],a}if(r.state==="unavailable"&&r.shouldShowRuntimeButton){let a;return e[5]!==r.reason?(a=l.jsx("p",{className:"text-xs text-yellow-500",children:r.reason}),e[5]=r.reason,e[6]=a):a=e[6],a}return null}function CGe(t){const e=ae.c(83),{coderConfig:n,onCoderConfigChange:r,templates:a,templatesError:s,presets:i,presetsError:o,existingWorkspaces:c,workspacesError:u,loadingTemplates:d,loadingPresets:m,loadingWorkspaces:h,disabled:p,hasError:f,username:g,deploymentUrl:x}=t,y=n?.existingWorkspace?"existing":"new",w=!!((f??!1)||y==="existing"&&u||y==="new"&&(s??o)),v=s?"coder-template-error":void 0,k=o?"coder-preset-error":void 0,C=u?"coder-workspace-error":void 0;let _;e[0]!==r||e[1]!==a?(_=ie=>{if(ie==="existing")r({workspaceName:void 0,existingWorkspace:!0});else{const Te=a[0];r({existingWorkspace:!1,template:Te?.name,templateOrg:Te?.organizationName})}},e[0]=r,e[1]=a,e[2]=_):_=e[2];const S=_;let T;e[3]!==n||e[4]!==r||e[5]!==a?(T=ie=>{if(!n)return;const[Te,Ne]=ie.split("/"),Re=Ne??Te,Le=a.find(bt=>bt.name===Re&&(Ne?bt.organizationName===Te:!0)),Ae=Ne?Te:Le?.organizationName;r({...n,template:Re,templateOrg:Ae,preset:void 0})},e[3]=n,e[4]=r,e[5]=a,e[6]=T):T=e[6];const N=T;let j;e[7]!==n||e[8]!==r?(j=ie=>{n&&r({...n,preset:ie||void 0})},e[7]=n,e[8]=r,e[9]=j):j=e[9];const R=j;let I;e[10]!==r?(I=ie=>{r({workspaceName:ie,existingWorkspace:!0})},e[10]=r,e[11]=I):I=e[11];const A=I,$=i.find(EGe)?.name,E=i.length===0?void 0:i.length===1?i[0]?.name:n?.preset??$??i[0]?.name,M=s?"Error loading templates":a.length===0?"No templates":"Select template...",F=p||a.length===0||!!s,L=o?"Error loading presets":i.length===0?"No presets":"Select preset...",Y=p||i.length===0||!!o,O=u?"Error loading workspaces":c.length===0?"No workspaces found":"Select workspace...",G=p||c.length===0||!!u,H=w?"border-b border-red-500":"border-b border-border-medium",D=!!(g&&x),U=w?"border-red-500":"border-border-medium";let B;e[12]!==U?(B=ce("flex w-[22rem] flex-col rounded-md border",U),e[12]=U,e[13]=B):B=e[13];let q;e[14]!==x||e[15]!==H||e[16]!==D||e[17]!==g?(q=D&&l.jsxs("div",{className:ce("text-muted-foreground px-2 py-1.5 text-xs",H),children:["Logged in as ",l.jsx("span",{className:"text-foreground font-medium",children:g})," on"," ",l.jsx("span",{className:"text-foreground font-medium",children:x})]}),e[14]=x,e[15]=H,e[16]=D,e[17]=g,e[18]=q):q=e[18];let V;e[19]!==S?(V=()=>S("new"),e[19]=S,e[20]=V):V=e[20];const Z=y==="new"?"border-accent bg-accent/20 text-foreground":"border-transparent bg-transparent text-muted hover:border-border-medium";let W;e[21]!==Z?(W=ce("rounded-md border px-2 py-1 text-xs transition-colors",Z),e[21]=Z,e[22]=W):W=e[22];const K=y==="new";let J;e[23]!==p||e[24]!==K||e[25]!==V||e[26]!==W?(J=l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",onClick:V,disabled:p,className:W,"aria-pressed":K,children:"New"})}),e[23]=p,e[24]=K,e[25]=V,e[26]=W,e[27]=J):J=e[27];let ee;e[28]===Symbol.for("react.memo_cache_sentinel")?(ee=l.jsx(Ke,{children:"Create a new Coder workspace from a template"}),e[28]=ee):ee=e[28];let se;e[29]!==J?(se=l.jsxs(Ye,{children:[J,ee]}),e[29]=J,e[30]=se):se=e[30];let re;e[31]!==S?(re=()=>S("existing"),e[31]=S,e[32]=re):re=e[32];const ue=y==="existing"?"border-accent bg-accent/20 text-foreground":"border-transparent bg-transparent text-muted hover:border-border-medium";let he;e[33]!==ue?(he=ce("rounded-md border px-2 py-1 text-xs transition-colors",ue),e[33]=ue,e[34]=he):he=e[34];const ke=y==="existing";let je;e[35]!==p||e[36]!==re||e[37]!==he||e[38]!==ke?(je=l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",onClick:re,disabled:p,className:he,"aria-pressed":ke,children:"Existing"})}),e[35]=p,e[36]=re,e[37]=he,e[38]=ke,e[39]=je):je=e[39];let _e;e[40]===Symbol.for("react.memo_cache_sentinel")?(_e=l.jsx(Ke,{children:"Connect to an existing Coder workspace"}),e[40]=_e):_e=e[40];let ge;e[41]!==je?(ge=l.jsxs(Ye,{children:[je,_e]}),e[41]=je,e[42]=ge):ge=e[42];let ve;e[43]!==se||e[44]!==ge?(ve=l.jsxs("div",{className:"border-border-medium flex flex-col gap-1 border-r p-2 pr-3",role:"group","aria-label":"Coder workspace mode","data-testid":"coder-mode-toggle",children:[se,ge]}),e[43]=se,e[44]=ge,e[45]=ve):ve=e[45];let De;e[46]!==n?.template||e[47]!==n?.templateOrg||e[48]!==E||e[49]!==R||e[50]!==N||e[51]!==m||e[52]!==d||e[53]!==y||e[54]!==k||e[55]!==L||e[56]!==Y||e[57]!==i||e[58]!==o||e[59]!==v||e[60]!==M||e[61]!==F||e[62]!==a||e[63]!==s?(De=y==="new"&&l.jsxs("div",{className:"flex flex-col gap-1 p-2 pl-3",children:[l.jsxs("div",{className:"flex h-7 items-center gap-2",children:[l.jsx("label",{className:"text-muted-foreground w-16 text-xs",children:"Template"}),d?l.jsx(pn,{className:"text-muted h-4 w-4 animate-spin"}):l.jsxs(Ar,{value:(()=>{const ie=n?.template;if(!ie)return"";const Ne=a.filter(Ae=>Ae.name===ie)[0];if(!(Ne&&x$(Ne,a)))return ie;const Le=n?.templateOrg??Ne?.organizationName??void 0;return Le?`${Le}/${ie}`:ie})(),onValueChange:N,disabled:F,children:[l.jsx(Tr,{className:"h-7 w-[180px] text-xs","data-testid":"coder-template-select","aria-invalid":!!s||void 0,"aria-describedby":v,children:l.jsx(Ir,{placeholder:M})}),l.jsx(Er,{children:a.map(ie=>{const Te=x$(ie,a),Ne=Te?`${ie.organizationName}/${ie.name}`:ie.name;return l.jsxs(Un,{value:Ne,children:[ie.displayName||ie.name,Te&&l.jsxs("span",{className:"text-muted ml-1",children:["(",ie.organizationName,")"]})]},`${ie.organizationName}/${ie.name}`)})})]})]}),s&&l.jsx("p",{id:v,role:"alert",className:"text-xs break-all text-red-500",children:s}),l.jsxs("div",{className:"flex h-7 items-center gap-2",children:[l.jsx("label",{className:"text-muted-foreground w-16 text-xs",children:"Preset"}),m?l.jsx(pn,{className:"text-muted h-4 w-4 animate-spin"}):l.jsxs(Ar,{value:E??"",onValueChange:R,disabled:Y,children:[l.jsx(Tr,{className:"h-7 w-[180px] text-xs","data-testid":"coder-preset-select","aria-invalid":!!o||void 0,"aria-describedby":k,children:l.jsx(Ir,{placeholder:L})}),l.jsx(Er,{children:i.map(TGe)})]})]}),o&&l.jsx("p",{id:k,role:"alert",className:"text-xs break-all text-red-500",children:o})]}),e[46]=n?.template,e[47]=n?.templateOrg,e[48]=E,e[49]=R,e[50]=N,e[51]=m,e[52]=d,e[53]=y,e[54]=k,e[55]=L,e[56]=Y,e[57]=i,e[58]=o,e[59]=v,e[60]=M,e[61]=F,e[62]=a,e[63]=s,e[64]=De):De=e[64];let $e;e[65]!==n?.workspaceName||e[66]!==c||e[67]!==A||e[68]!==h||e[69]!==y||e[70]!==C||e[71]!==O||e[72]!==G||e[73]!==u?($e=y==="existing"&&l.jsxs("div",{className:"flex w-[17rem] flex-col gap-1 p-2 pl-3",children:[l.jsxs("div",{className:"flex min-h-[3.75rem] items-center gap-2",children:[l.jsx("label",{className:"text-muted-foreground w-16 text-xs",children:"Workspace"}),h?l.jsx(pn,{className:"text-muted h-4 w-4 animate-spin"}):l.jsxs(Ar,{value:n?.workspaceName??"",onValueChange:A,disabled:G,children:[l.jsx(Tr,{className:"h-7 w-[180px] text-xs","data-testid":"coder-workspace-select","aria-invalid":!!u||void 0,"aria-describedby":C,children:l.jsx(Ir,{placeholder:O})}),l.jsx(Er,{children:c.filter(jGe).map(SGe)})]})]}),u&&l.jsx("p",{id:C,role:"alert",className:"text-xs break-all text-red-500",children:u})]}),e[65]=n?.workspaceName,e[66]=c,e[67]=A,e[68]=h,e[69]=y,e[70]=C,e[71]=O,e[72]=G,e[73]=u,e[74]=$e):$e=e[74];let Qe;e[75]!==ve||e[76]!==De||e[77]!==$e?(Qe=l.jsxs("div",{className:"flex",children:[ve,De,$e]}),e[75]=ve,e[76]=De,e[77]=$e,e[78]=Qe):Qe=e[78];let Be;return e[79]!==Qe||e[80]!==B||e[81]!==q?(Be=l.jsxs("div",{className:B,"data-testid":"coder-controls-inner",children:[q,Qe]}),e[79]=Qe,e[80]=B,e[81]=q,e[82]=Be):Be=e[82],Be}function SGe(t){return l.jsxs(Un,{value:t.name,children:[t.name,l.jsxs("span",{className:"text-muted ml-1",children:["(",t.templateDisplayName,"  ",t.status,")"]})]},t.name)}function jGe(t){return t.status!=="deleted"&&t.status!=="deleting"}function TGe(t){return l.jsx(Un,{value:t.name,children:t.name},t.id)}function EGe(t){return t.isDefault}const IY="h-7 w-[140px] rounded border border-border-medium bg-separator px-2 text-xs text-foreground focus:border-accent focus:outline-none disabled:cursor-not-allowed disabled:opacity-50";function y$(t){const e=ae.c(18);let n;e[0]!==t.id||e[1]!==t.label?(n=l.jsx("label",{htmlFor:t.id,className:"text-muted-foreground text-xs",children:t.label}),e[0]=t.id,e[1]=t.label,e[2]=n):n=e[2];const r=t.id,a=t.ariaLabel,s=t.value;let i;e[3]!==t?(i=p=>t.onChange(p.target.value),e[3]=t,e[4]=i):i=e[4];const o=t.placeholder,c=t.disabled,u=t.hasError&&"border-red-500";let d;e[5]!==u?(d=ce(IY,u),e[5]=u,e[6]=d):d=e[6];let m;e[7]!==t.ariaLabel||e[8]!==t.disabled||e[9]!==t.id||e[10]!==t.placeholder||e[11]!==t.value||e[12]!==i||e[13]!==d?(m=l.jsx("input",{id:r,"aria-label":a,type:"text",value:s,onChange:i,placeholder:o,disabled:c,className:d}),e[7]=t.ariaLabel,e[8]=t.disabled,e[9]=t.id,e[10]=t.placeholder,e[11]=t.value,e[12]=i,e[13]=d,e[14]=m):m=e[14];let h;return e[15]!==n||e[16]!==m?(h=l.jsxs("div",{className:"flex items-center gap-2",children:[n,m]}),e[15]=n,e[16]=m,e[17]=h):h=e[17],h}function w$(t){const e=ae.c(12);let n;e[0]!==t?(n=o=>t.onChange(o.target.checked),e[0]=t,e[1]=n):n=e[1];let r;e[2]!==t.checked||e[3]!==t.disabled||e[4]!==n?(r=l.jsx("input",{type:"checkbox",checked:t.checked,onChange:n,disabled:t.disabled,className:"accent-accent"}),e[2]=t.checked,e[3]=t.disabled,e[4]=n,e[5]=r):r=e[5];let a;e[6]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx("span",{className:"text-muted",children:"Share credentials (SSH, Git)"}),e[6]=a):a=e[6];let s;e[7]!==t.docsPath?(s=l.jsx(Up,{path:t.docsPath}),e[7]=t.docsPath,e[8]=s):s=e[8];let i;return e[9]!==r||e[10]!==s?(i=l.jsxs("label",{className:"flex items-center gap-1.5 text-xs",children:[r,a,s]}),e[9]=r,e[10]=s,e[11]=i):i=e[11],i}const NGe=[Yt.LOCAL,Yt.WORKTREE,Yt.SSH,"coder",Yt.DOCKER,Yt.DEVCONTAINER],$Ge=NGe.map(t=>{const e=Vle[t];return{value:t,label:e.label,description:e.description,docsPath:e.docsPath,Icon:e.Icon,activeClass:e.button.activeClass,idleClass:e.button.idleClass}}),v$=(t,e,n,r,a,s,i)=>{const c=!(a?t==="coder"?i:t===Yt.SSH?s:a.has(t):!0);if(t==="coder"&&r.state!=="available")return{isModeDisabled:!0,isPolicyDisabled:c,disabledReason:c?"Disabled by policy":r.reason,isDefault:n===t};const u=t==="coder"?Yt.SSH:t,d=e?.[u],m=d!==void 0&&!d.available,h=c?"Disabled by policy":d&&!d.available?d.reason:void 0;return{isModeDisabled:m,isPolicyDisabled:c,disabledReason:h,isDefault:n===t}};function AGe(t){const e=ae.c(39),{sections:n,selectedSectionId:r,onSectionChange:a,disabled:s}=t,i=r&&r.trim().length>0?r:null;let o,c;e[0]!==i||e[1]!==n?(o=i?n.find($=>$.id===i):null,c=TA(o?.color),e[0]=i,e[1]=n,e[2]=o,e[3]=c):(o=e[2],c=e[3]);const u=c,d=o?u:"var(--color-border-medium)",m=o?"3px":"1px",h=o?`${u}08`:"transparent";let p;e[4]!==d||e[5]!==m||e[6]!==h?(p={borderColor:d,borderLeftWidth:m,backgroundColor:h},e[4]=d,e[5]=m,e[6]=h,e[7]=p):p=e[7];const f=i??"",g=o?u:"var(--color-muted)",x=o?1:.4;let y;e[8]!==g||e[9]!==x?(y=l.jsx("div",{className:"size-2.5 shrink-0 rounded-full transition-colors",style:{backgroundColor:g,opacity:x}}),e[8]=g,e[9]=x,e[10]=y):y=e[10];let w;e[11]===Symbol.for("react.memo_cache_sentinel")?(w=l.jsx("label",{className:"text-muted-foreground shrink-0 text-xs",children:"Section"}),e[11]=w):w=e[11];const v=i??"";let k;e[12]!==a?(k=$=>a($.trim()?$:null),e[12]=a,e[13]=k):k=e[13];const C=o?"text-foreground":"text-muted";let _;e[14]!==C?(_=ce("h-auto border-0 bg-transparent px-0 py-0 text-sm font-medium shadow-none focus:ring-0",C),e[14]=C,e[15]=_):_=e[15];let S;e[16]===Symbol.for("react.memo_cache_sentinel")?(S=l.jsx(Ir,{placeholder:"Select..."}),e[16]=S):S=e[16];let T;e[17]!==_?(T=l.jsx(Tr,{className:_,children:S}),e[17]=_,e[18]=T):T=e[18];let N;e[19]!==n?(N=n.map(IGe),e[19]=n,e[20]=N):N=e[20];let j;e[21]!==N?(j=l.jsx(Er,{children:N}),e[21]=N,e[22]=j):j=e[22];let R;e[23]!==s||e[24]!==v||e[25]!==k||e[26]!==T||e[27]!==j?(R=l.jsxs(Ar,{value:v,onValueChange:k,disabled:s,children:[T,j]}),e[23]=s,e[24]=v,e[25]=k,e[26]=T,e[27]=j,e[28]=R):R=e[28];let I;e[29]!==s||e[30]!==i||e[31]!==a?(I=i&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button","aria-label":"Clear section selection",disabled:s,onClick:$=>{$.preventDefault(),$.stopPropagation(),a(null)},className:ce("text-muted hover:text-error -mr-1 inline-flex size-5 items-center justify-center rounded-sm transition-colors","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-accent","disabled:pointer-events-none disabled:opacity-50"),children:l.jsx(ir,{className:"h-3 w-3"})})}),l.jsx(Ke,{children:"Clear section"})]}),e[29]=s,e[30]=i,e[31]=a,e[32]=I):I=e[32];let A;return e[33]!==R||e[34]!==I||e[35]!==p||e[36]!==f||e[37]!==y?(A=l.jsxs("div",{className:"inline-flex w-fit items-center gap-2.5 rounded-md border px-3 py-1.5 transition-colors",style:p,"data-testid":"section-selector","data-selected-section":f,children:[y,w,R,I]}),e[33]=R,e[34]=I,e[35]=p,e[36]=f,e[37]=y,e[38]=A):A=e[38],A}function IGe(t){return l.jsx(Un,{value:t.id,children:t.name},t.id)}function RGe(t){const e=ae.c(13),n=t.runtimeAvailabilityState,r=n?.status==="loaded"?n.data:null,a=t.coderInfo??null;let s,i,o,c;if(e[0]!==r||e[1]!==a||e[2]!==t||e[3]!==n?.status){const d=AY(a),m=t.allowSshHost??!0,h=t.allowSshCoder??!0,p=t.allowedRuntimeModes?new Set(t.allowedRuntimeModes):null,f=!p||p.has(Yt.SSH),g=r?.devcontainer?.available===!1&&r.devcontainer.reason==="No devcontainer.json found",x=n?.status==="loading"||g,y=p?.size===1&&p.has(Yt.DEVCONTAINER),w=t.value===Yt.DEVCONTAINER||y&&g,v=t.value==="coder"||h&&!m&&f,k=d.shouldShowRuntimeButton||v,C={[Yt.DEVCONTAINER]:!x||w,coder:k},_=$Ge.filter(S=>{if(C[S.value]===!1)return!1;const{isPolicyDisabled:T}=v$(S.value,r,t.defaultMode,d,p,m,h);return!(T&&t.value!==S.value)});s="flex flex-wrap gap-1 ",i="group",o="Runtime type",c=_.map(S=>{const T=t.value===S.value,{isModeDisabled:N,isPolicyDisabled:j,disabledReason:R,isDefault:I}=v$(S.value,r,t.defaultMode,d,p,m,h),A=!!t.disabled||N||j,$=N||j,E=S.Icon,M=()=>{t.onSetDefault(S.value)};return l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsxs("button",{type:"button",onClick:()=>t.onChange(S.value),disabled:A,"aria-pressed":T,className:ce("inline-flex items-center gap-1.5 rounded-md border px-2.5 py-1.5 text-xs font-medium transition-all duration-150","cursor-pointer",T?S.activeClass:S.idleClass,A&&"cursor-not-allowed opacity-50"),children:[l.jsx(E,{size:12}),S.label]})}),l.jsxs(Ke,{align:"center",side:"bottom",className:"pointer-events-auto whitespace-normal",children:[l.jsxs("div",{className:"flex items-baseline justify-between gap-3",children:[l.jsx("span",{children:S.description}),l.jsx(Up,{path:S.docsPath})]}),$?l.jsx("p",{className:"mt-1 text-yellow-500",children:R??"Unavailable"}):l.jsxs("label",{className:"mt-1.5 flex cursor-pointer items-center gap-1.5 text-xs",children:[l.jsx("input",{type:"checkbox",checked:I,onChange:M,className:"accent-accent h-3 w-3"}),l.jsx("span",{className:"text-muted",children:"Default for project"})]})]})]},S.value)}),e[0]=r,e[1]=a,e[2]=t,e[3]=n?.status,e[4]=s,e[5]=i,e[6]=o,e[7]=c}else s=e[4],i=e[5],o=e[6],c=e[7];let u;return e[8]!==s||e[9]!==i||e[10]!==o||e[11]!==c?(u=l.jsx("div",{className:s,role:i,"aria-label":o,children:c}),e[8]=s,e[9]=i,e[10]=o,e[11]=c,e[12]=u):u=e[12],u}function MGe(t){const e=ae.c(131),{projects:n}=Bm(),{beginWorkspaceCreation:r}=uc(),{nameState:a,runtimeAvailabilityState:s}=t,i=t.selectedRuntime.mode,{selectedRuntime:o,onSelectedRuntimeChange:c}=t,u=o.mode===Yt.SSH&&o.coder!=null,d=u?"coder":i,m=t.coderProps?.coderInfo?.state==="available"?t.coderProps.coderInfo.username:void 0,h=t.coderProps?.coderInfo?.state==="available"?t.coderProps.coderInfo.url:void 0,p=s.status==="loaded"?s.data:null,f=t.branches.length>0&&i!==Yt.LOCAL,g=!t.branchesLoaded&&i!==Yt.LOCAL,x=f_({selectedRuntime:o,availabilityState:s}),y=p?.devcontainer?.available===!1&&p.devcontainer.reason==="No devcontainer.json found",w=p?.worktree?.available===!1&&p.worktree.reason==="Requires git repository"||t.branchesLoaded&&t.branches.length===0;let v,k;e[0]!==y||e[1]!==w||e[2]!==c||e[3]!==o.mode?(v=()=>{if(w){o.mode!==Yt.LOCAL&&c({mode:"local"});return}y&&o.mode===Yt.DEVCONTAINER&&c({mode:"worktree"})},k=[y,w,o.mode,c],e[0]=y,e[1]=w,e[2]=c,e[3]=o.mode,e[4]=v,e[5]=k):(v=e[4],k=e[5]),b.useEffect(v,k);let C;e[6]!==a?(C=Be=>{a.setName(Be.target.value)},e[6]=a,e[7]=C):C=e[7];const _=C;let S;e[8]!==a?(S=()=>{a.autoGenerate&&a.setAutoGenerate(!1)},e[8]=a,e[9]=S):S=e[9];const T=S;let N;e[10]!==a?(N=()=>{a.setAutoGenerate(!a.autoGenerate)},e[10]=a,e[11]=N):N=e[11];const j=N,R="mb-3 flex flex-col gap-4";let I;e[12]!==r||e[13]!==n||e[14]!==t.projectName||e[15]!==t.projectPath?(I=n.size>1?l.jsxs(Ar,{value:t.projectPath,onValueChange:Be=>r(Be),children:[l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx(Tr,{"aria-label":"Select project","data-testid":"project-selector",className:"text-foreground hover:bg-toggle-bg/70 h-7 w-auto max-w-[280px] shrink-0 border-transparent bg-transparent px-0 text-lg font-semibold shadow-none",children:l.jsx(Ir,{placeholder:t.projectName})})}),l.jsx(Ke,{align:"start",children:t.projectPath})]}),l.jsx(Er,{children:Array.from(n.keys()).map(LGe)})]}):l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("h2",{className:"text-foreground shrink-0 text-lg font-semibold",children:t.projectName})}),l.jsx(Ke,{align:"start",children:t.projectPath})]}),e[12]=r,e[13]=n,e[14]=t.projectName,e[15]=t.projectPath,e[16]=I):I=e[16];let A;e[17]===Symbol.for("react.memo_cache_sentinel")?(A=l.jsx("span",{className:"text-muted-foreground mx-2 text-lg",children:"/"}),e[17]=A):A=e[17];const $=a.name,E=a.isGenerating?"Generating...":"workspace-name",M=t.disabled,F=a.autoGenerate?"text-muted":"text-foreground",L=a.error&&"border-red-500";let Y;e[18]!==F||e[19]!==L?(Y=ce(`border-border-medium focus:border-accent h-7 rounded-md
                   border border-transparent bg-transparent text-lg font-semibold 
                   field-sizing-content focus:border focus:bg-bg-dark focus:outline-none 
                   disabled:opacity-50 max-w-[50vw] sm:max-w-[40vw] lg:max-w-[30vw]`,F,L),e[18]=F,e[19]=L,e[20]=Y):Y=e[20];let O;e[21]!==T||e[22]!==_||e[23]!==a.name||e[24]!==t.disabled||e[25]!==Y||e[26]!==E?(O=l.jsx(Xe,{asChild:!0,children:l.jsx("input",{id:"workspace-name",type:"text",value:$,onChange:_,onFocus:T,placeholder:E,disabled:M,className:Y})}),e[21]=T,e[22]=_,e[23]=a.name,e[24]=t.disabled,e[25]=Y,e[26]=E,e[27]=O):O=e[27];let G;e[28]===Symbol.for("react.memo_cache_sentinel")?(G=l.jsx(Ke,{align:"start",className:"max-w-64",children:"A stable identifier used for git branches, worktree folders, and session directories."}),e[28]=G):G=e[28];let H;e[29]!==O?(H=l.jsxs(Ye,{children:[O,G]}),e[29]=O,e[30]=H):H=e[30];let D;e[31]!==j||e[32]!==a.autoGenerate||e[33]!==a.isGenerating||e[34]!==t.disabled?(D=a.isGenerating?l.jsx(pn,{className:"text-accent h-3.5 w-3.5 shrink-0 animate-spin"}):l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",onClick:j,disabled:t.disabled,className:"flex shrink-0 items-center disabled:opacity-50","aria-label":a.autoGenerate?"Disable auto-naming":"Enable auto-naming",children:l.jsx(Bte,{className:ce("h-3.5 w-3.5 transition-colors",a.autoGenerate?"text-accent":"text-muted-foreground opacity-50 hover:opacity-75")})})}),l.jsx(Ke,{align:"center",children:a.autoGenerate?"Auto-naming enabled":"Click to enable auto-naming"})]}),e[31]=j,e[32]=a.autoGenerate,e[33]=a.isGenerating,e[34]=t.disabled,e[35]=D):D=e[35];let U;e[36]!==H||e[37]!==D?(U=l.jsxs("div",{className:"flex items-center gap-1",children:[H,D]}),e[36]=H,e[37]=D,e[38]=U):U=e[38];let B;e[39]!==a.error?(B=a.error&&l.jsx("span",{className:"text-xs text-red-500",children:a.error}),e[39]=a.error,e[40]=B):B=e[40];let q;e[41]!==t.disabled||e[42]!==t.onSectionChange||e[43]!==t.sections||e[44]!==t.selectedSectionId?(q=t.sections&&t.sections.length>0&&t.onSectionChange&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex-1"}),l.jsx(AGe,{sections:t.sections,selectedSectionId:t.selectedSectionId??null,onSectionChange:t.onSectionChange,disabled:t.disabled})]}),e[41]=t.disabled,e[42]=t.onSectionChange,e[43]=t.sections,e[44]=t.selectedSectionId,e[45]=q):q=e[45];let V;e[46]!==U||e[47]!==B||e[48]!==q||e[49]!==I?(V=l.jsxs("div",{className:"flex items-center gap-y-2","data-component":"WorkspaceNameGroup",children:[I,A,U,B,q]}),e[46]=U,e[47]=B,e[48]=q,e[49]=I,e[50]=V):V=e[50];const Z="flex flex-col gap-1.5",W="RuntimeTypeGroup";let K;e[51]===Symbol.for("react.memo_cache_sentinel")?(K=l.jsx("label",{className:"text-muted-foreground text-xs font-medium",children:"Workspace Type"}),e[51]=K):K=e[51];let J;e[52]!==c||e[53]!==t.coderConfigFallback||e[54]!==t.coderProps||e[55]!==t.sshHostFallback||e[56]!==s||e[57]!==o.configPath||e[58]!==o.host||e[59]!==o.image||e[60]!==o.mode||e[61]!==o.shareCredentials?(J=Be=>{if(Be==="coder"){if(!t.coderProps)return;c({mode:"ssh",host:qd,coder:t.coderConfigFallback});return}e:switch(Be){case Yt.SSH:{const ie=o.mode==="ssh"&&o.host!==qd?o.host:t.sshHostFallback;c({mode:"ssh",host:ie});break e}case Yt.DOCKER:{c({mode:"docker",image:o.mode==="docker"?o.image:""});break e}case Yt.DEVCONTAINER:{const ie=f_({selectedRuntime:{mode:"devcontainer",configPath:""},availabilityState:s});c({mode:"devcontainer",configPath:o.mode==="devcontainer"?o.configPath:ie.configPath,shareCredentials:o.mode==="devcontainer"?o.shareCredentials:!1});break e}case Yt.LOCAL:{c({mode:"local"});break e}case Yt.WORKTREE:default:c({mode:"worktree"})}},e[52]=c,e[53]=t.coderConfigFallback,e[54]=t.coderProps,e[55]=t.sshHostFallback,e[56]=s,e[57]=o.configPath,e[58]=o.host,e[59]=o.image,e[60]=o.mode,e[61]=o.shareCredentials,e[62]=J):J=e[62];const ee=t.coderInfo??t.coderProps?.coderInfo??null;let se;e[63]!==t.allowSshCoder||e[64]!==t.allowSshHost||e[65]!==t.allowedRuntimeModes||e[66]!==t.defaultRuntimeMode||e[67]!==t.disabled||e[68]!==t.onSetDefaultRuntime||e[69]!==s||e[70]!==d||e[71]!==J||e[72]!==ee?(se=l.jsx(RGe,{value:d,onChange:J,defaultMode:t.defaultRuntimeMode,onSetDefault:t.onSetDefaultRuntime,disabled:t.disabled,runtimeAvailabilityState:s,coderInfo:ee,allowedRuntimeModes:t.allowedRuntimeModes,allowSshHost:t.allowSshHost,allowSshCoder:t.allowSshCoder}),e[63]=t.allowSshCoder,e[64]=t.allowSshHost,e[65]=t.allowedRuntimeModes,e[66]=t.defaultRuntimeMode,e[67]=t.disabled,e[68]=t.onSetDefaultRuntime,e[69]=s,e[70]=d,e[71]=J,e[72]=ee,e[73]=se):se=e[73];let re;e[74]!==t.branches||e[75]!==t.disabled||e[76]!==t.onTrunkBranchChange||e[77]!==t.trunkBranch||e[78]!==f?(re=f&&l.jsxs("div",{className:"flex items-center gap-2","data-component":"TrunkBranchGroup","data-tutorial":"trunk-branch",children:[l.jsx("label",{htmlFor:"trunk-branch",className:"text-muted-foreground text-xs",children:"from"}),l.jsx(xGe,{id:"trunk-branch",value:t.trunkBranch,options:t.branches,onChange:t.onTrunkBranchChange,disabled:t.disabled,className:IY})]}),e[74]=t.branches,e[75]=t.disabled,e[76]=t.onTrunkBranchChange,e[77]=t.trunkBranch,e[78]=f,e[79]=re):re=e[79];let ue;e[80]!==g?(ue=g&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-muted-foreground text-xs",children:"from"}),l.jsx("div",{className:"border-border-medium bg-separator/50 h-7 w-[140px] animate-pulse rounded border"})]}),e[80]=g,e[81]=ue):ue=e[81];let he;e[82]!==u||e[83]!==c||e[84]!==t.allowSshHost||e[85]!==t.coderProps?.coderConfig||e[86]!==t.coderProps?.coderInfo||e[87]!==t.coderProps?.enabled||e[88]!==t.disabled||e[89]!==t.runtimeFieldError||e[90]!==o.host||e[91]!==o.mode?(he=o.mode==="ssh"&&!u&&(t.allowSshHost??!0)&&!t.coderProps?.enabled&&!(t.coderProps?.coderInfo===null&&t.coderProps?.coderConfig)&&l.jsx(y$,{label:"host",value:o.host,onChange:Be=>c({mode:"ssh",host:Be}),placeholder:"user@host",disabled:t.disabled,hasError:t.runtimeFieldError==="ssh"}),e[82]=u,e[83]=c,e[84]=t.allowSshHost,e[85]=t.coderProps?.coderConfig,e[86]=t.coderProps?.coderInfo,e[87]=t.coderProps?.enabled,e[88]=t.disabled,e[89]=t.runtimeFieldError,e[90]=o.host,e[91]=o.mode,e[92]=he):he=e[92];let ke;e[93]!==c||e[94]!==t.disabled||e[95]!==t.runtimeFieldError||e[96]!==o.image||e[97]!==o.mode||e[98]!==o.shareCredentials?(ke=o.mode==="docker"&&l.jsx(y$,{label:"image",value:o.image,onChange:Be=>c({mode:"docker",image:Be,shareCredentials:o.shareCredentials}),placeholder:"node:20",disabled:t.disabled,hasError:t.runtimeFieldError==="docker",id:"docker-image",ariaLabel:"Docker image"}),e[93]=c,e[94]=t.disabled,e[95]=t.runtimeFieldError,e[96]=o.image,e[97]=o.mode,e[98]=o.shareCredentials,e[99]=ke):ke=e[99];let je;e[100]!==se||e[101]!==re||e[102]!==ue||e[103]!==he||e[104]!==ke?(je=l.jsxs("div",{className:"flex flex-col gap-2",children:[se,re,ue,he,ke]}),e[100]=se,e[101]=re,e[102]=ue,e[103]=he,e[104]=ke,e[105]=je):je=e[105];let _e;e[106]!==t.runtimePolicyError?(_e=t.runtimePolicyError&&l.jsx("p",{className:"text-xs text-red-500",children:t.runtimePolicyError}),e[106]=t.runtimePolicyError,e[107]=_e):_e=e[107];const ge=o.mode==="devcontainer"&&x.uiMode!=="hidden"&&l.jsxs("div",{className:"border-border-medium flex w-fit flex-col gap-1.5 rounded-md border p-2",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"text-muted-foreground text-xs",children:"Config"}),x.uiMode==="loading"?l.jsx(ej,{className:"h-6 w-[280px] rounded-md"}):x.uiMode==="dropdown"?l.jsxs(Ar,{value:x.configPath,onValueChange:Be=>c({mode:"devcontainer",configPath:Be,shareCredentials:o.shareCredentials}),disabled:t.disabled,children:[l.jsx(Tr,{className:"h-6 w-[280px] text-xs","aria-label":"Dev container config",children:l.jsx(Ir,{placeholder:"Select config"})}),l.jsx(Er,{children:x.configs.map(DGe)})]}):l.jsx("input",{type:"text",value:x.configPath,onChange:Be=>c({mode:"devcontainer",configPath:Be.target.value,shareCredentials:o.shareCredentials}),placeholder:NY,disabled:t.disabled,className:ce("bg-bg-dark text-foreground border-border-medium focus:border-accent h-7 w-[280px] rounded-md border px-2 text-xs focus:outline-none disabled:opacity-50"),"aria-label":"Dev container config path"})]}),x.helperText&&l.jsx("p",{className:"text-muted-foreground text-xs",children:x.helperText}),l.jsx(w$,{checked:o.shareCredentials??!1,onChange:Be=>c({mode:"devcontainer",configPath:x.configPath,shareCredentials:Be}),disabled:t.disabled,docsPath:"/runtime/docker#credential-sharing"})]});let ve;e[108]!==c||e[109]!==t.disabled||e[110]!==o.image||e[111]!==o.mode||e[112]!==o.shareCredentials?(ve=o.mode==="docker"&&l.jsx(w$,{checked:o.shareCredentials??!1,onChange:Be=>c({mode:"docker",image:o.image,shareCredentials:Be}),disabled:t.disabled,docsPath:"/runtime/docker#credential-sharing"}),e[108]=c,e[109]=t.disabled,e[110]=o.image,e[111]=o.mode,e[112]=o.shareCredentials,e[113]=ve):ve=e[113];let De;e[114]!==h||e[115]!==m||e[116]!==u||e[117]!==t.coderProps||e[118]!==t.disabled||e[119]!==t.runtimeFieldError?(De=u&&t.coderProps&&l.jsxs("div",{className:"flex flex-col gap-1.5","data-testid":"coder-controls",children:[l.jsx(_Ge,{coderInfo:t.coderProps.coderInfo}),t.coderProps.enabled&&l.jsx(l.Fragment,{children:l.jsx(CGe,{coderConfig:t.coderProps.coderConfig,username:m,deploymentUrl:h,onCoderConfigChange:t.coderProps.onCoderConfigChange,templates:t.coderProps.templates,templatesError:t.coderProps.templatesError,presets:t.coderProps.presets,presetsError:t.coderProps.presetsError,existingWorkspaces:t.coderProps.existingWorkspaces,workspacesError:t.coderProps.workspacesError,loadingTemplates:t.coderProps.loadingTemplates,loadingPresets:t.coderProps.loadingPresets,loadingWorkspaces:t.coderProps.loadingWorkspaces,disabled:t.disabled,hasError:t.runtimeFieldError==="ssh"})})]}),e[114]=h,e[115]=m,e[116]=u,e[117]=t.coderProps,e[118]=t.disabled,e[119]=t.runtimeFieldError,e[120]=De):De=e[120];let $e;e[121]!==K||e[122]!==je||e[123]!==_e||e[124]!==ge||e[125]!==ve||e[126]!==De?($e=l.jsxs("div",{className:Z,"data-component":W,children:[K,je,_e,ge,ve,De]}),e[121]=K,e[122]=je,e[123]=_e,e[124]=ge,e[125]=ve,e[126]=De,e[127]=$e):$e=e[127];let Qe;return e[128]!==V||e[129]!==$e?(Qe=l.jsxs("div",{className:R,children:[V,$e]}),e[128]=V,e[129]=$e,e[130]=Qe):Qe=e[130],Qe}function DGe(t){return l.jsx(Un,{value:t.path,children:t.label},t.path)}function LGe(t){return l.jsx(Un,{value:t,children:zd.basename(t)},t)}const t3={existingWorkspace:!1},n3=(t,e,n,r,a,s)=>{switch(t){case Yt.LOCAL:return{mode:"local"};case Yt.SSH:return{mode:"ssh",host:e.coder&&!e.host.trim()?qd:e.host,coder:e.coder};case Yt.DOCKER:return{mode:"docker",image:n,shareCredentials:r};case Yt.DEVCONTAINER:return{mode:"devcontainer",configPath:a,shareCredentials:s};case Yt.WORKTREE:default:return{mode:"worktree"}}};function OGe(t,e,n){const r=ae.c(89),[a]=uy(),s=ki(t);let i;r[0]===Symbol.for("react.memo_cache_sentinel")?(i={listener:!0},r[0]=i):i=r[0];const[o]=Tt(tl(s),Js.agentId,i);let c;r[1]===Symbol.for("react.memo_cache_sentinel")?(c={listener:!0},r[1]=c):c=r[1];const[u]=Tt(N_,Js.model,c),d=Vl(u).trim()||Js.model;let m;r[2]===Symbol.for("react.memo_cache_sentinel")?(m={listener:!0},r[2]=m):m=r[2];const[h]=Tt(gs(s),null,m),p=Vl(typeof h=="string"&&h.trim().length>0?h.trim():d);let f;r[3]!==t?(f=mZ(t),r[3]=t,r[4]=f):f=r[4];let g;r[5]===Symbol.for("react.memo_cache_sentinel")?(g={listener:!0},r[5]=g):g=r[5];const[x,y]=Tt(f,void 0,g),w=CQ(x),v=w?.mode??Yt.WORKTREE;let k;r[6]!==t?(k=wA(t),r[6]=t,r[7]=k):k=r[7];let C;r[8]===Symbol.for("react.memo_cache_sentinel")?(C={listener:!0},r[8]=C):C=r[8];const[_,S]=Tt(k,"",C);let T;r[9]!==t?(T=fj(t),r[9]=t,r[10]=T):T=r[10];let N,j;r[11]===Symbol.for("react.memo_cache_sentinel")?(N={},j={listener:!0},r[11]=N,r[12]=j):(N=r[11],j=r[12]);const[R,I]=Tt(T,N,j),A=PGe;let $;r[13]!==R?($=(Je,ye,Ze)=>A(R,Je,ye,Ze),r[13]=R,r[14]=$):$=r[14];const E=$;let M;r[15]===Symbol.for("react.memo_cache_sentinel")?(M=Je=>({host:A(Je,Yt.SSH,"host",""),coderEnabled:A(Je,Yt.SSH,"coderEnabled",!1),coderConfig:A(Je,Yt.SSH,"coderConfig",null)}),r[15]=M):M=r[15];const F=M;let L;r[16]!==F?(L=Je=>{const ye=F(Je);return{host:ye.host,coder:ye.coderEnabled&&ye.coderConfig?ye.coderConfig:void 0}},r[16]=F,r[17]=L):L=r[17];const Y=L,O=F(R),G=O.host,H=O.coderConfig??t3,D=Y(R),U=E(Yt.DOCKER,"image",""),B=E(Yt.DOCKER,"shareCredentials",!1),q=E(Yt.DEVCONTAINER,"configPath",""),V=E(Yt.DEVCONTAINER,"shareCredentials",!1),Z=w?.mode===Yt.SSH&&w.host===qd,W=v===Yt.SSH&&Z?"coder":v;let K;r[18]!==I?(K=(Je,ye,Ze)=>{I(qe=>{const ft=qe[Je],Et=ft&&typeof ft=="object"&&!Array.isArray(ft)?ft:{};return{...qe,[Je]:{...Et,[ye]:Ze}}})},r[18]=I,r[19]=K):K=r[19];const J=K;let ee;r[20]!==J?(ee=Je=>{Je.host.trim()&&Je.host!==qd&&J(Yt.SSH,"host",Je.host);const ye=Je.coder!==void 0;J(Yt.SSH,"coderEnabled",ye),Je.coder&&J(Yt.SSH,"coderConfig",Je.coder)},r[20]=J,r[21]=ee):ee=r[21];const se=ee;b.useEffect(()=>{w?.mode===Yt.SSH&&!D.host.trim()&&w.host.trim()&&J(Yt.SSH,"host",w.host),w?.mode===Yt.DOCKER&&!U.trim()&&w.image.trim()&&J(Yt.DOCKER,"image",w.image),w?.mode===Yt.DEVCONTAINER&&!q.trim()&&w.configPath.trim()&&J(Yt.DEVCONTAINER,"configPath",w.configPath)},[t,w,D.host,U,q,J]);const re=w?.mode===Yt.SSH?w.host:D.host,ue=Z?O.coderConfig??t3:D.coder,he=w?.mode===Yt.DOCKER?w.image:U,ke=w?.mode===Yt.DEVCONTAINER&&w.configPath.trim()?w.configPath:q,je=n3(v,{host:re,coder:ue},he,B,ke,V);let _e;r[22]!==je?(_e=()=>je,r[22]=je,r[23]=_e):_e=r[23];const[ge,ve]=b.useState(_e),De=b.useRef(null),$e=b.useRef(null);let Qe,Be;r[24]!==ke||r[25]!==he||r[26]!==v||r[27]!==ue||r[28]!==re||r[29]!==V||r[30]!==B||r[31]!==t?(Qe=()=>{const Je=De.current!==t,ye=$e.current!==v;(Je||ye)&&ve(n3(v,{host:re,coder:ue},he,B,ke,V)),De.current=t,$e.current=v},Be=[t,v,re,he,B,ue,ke,V],r[24]=ke,r[25]=he,r[26]=v,r[27]=ue,r[28]=re,r[29]=V,r[30]=B,r[31]=t,r[32]=Qe,r[33]=Be):(Qe=r[32],Be=r[33]),b.useEffect(Qe,Be);const ie=b.useRef(null);let Te;r[34]!==q||r[35]!==V||r[36]!==U||r[37]!==B||r[38]!==D.coder||r[39]!==D.host||r[40]!==ge.coder||r[41]!==ge.configPath||r[42]!==ge.host||r[43]!==ge.image||r[44]!==ge.mode||r[45]!==ge.shareCredentials?(Te=()=>{const Je=ie.current;if(Je!==null&&Je!==ge.mode){if(ge.mode===Yt.SSH){const ye=!ge.host.trim()&&D.host.trim(),Ze=ge.coder===void 0&&D.coder!=null;(ye||Ze)&&ve({mode:Yt.SSH,host:ye?D.host:ge.host,coder:Ze?D.coder:ge.coder})}if(ge.mode===Yt.DEVCONTAINER){const ye=!ge.configPath.trim()&&q.trim(),Ze=ge.shareCredentials===void 0&&V;(ye||Ze)&&ve({mode:Yt.DEVCONTAINER,configPath:ye?q:ge.configPath,shareCredentials:V})}if(ge.mode===Yt.DOCKER){const ye=!ge.image.trim()&&U.trim(),Ze=ge.shareCredentials===void 0&&B;(ye||Ze)&&ve({mode:Yt.DOCKER,image:ye?U:ge.image,shareCredentials:B})}}ie.current=ge.mode},r[34]=q,r[35]=V,r[36]=U,r[37]=B,r[38]=D.coder,r[39]=D.host,r[40]=ge.coder,r[41]=ge.configPath,r[42]=ge.host,r[43]=ge.image,r[44]=ge.mode,r[45]=ge.shareCredentials,r[46]=Te):Te=r[46];let Ne;r[47]!==q||r[48]!==V||r[49]!==U||r[50]!==B||r[51]!==D.coder||r[52]!==D.host||r[53]!==ge?(Ne=[ge,D.host,U,B,D.coder,q,V],r[47]=q,r[48]=V,r[49]=U,r[50]=B,r[51]=D.coder,r[52]=D.host,r[53]=ge,r[54]=Ne):Ne=r[54],b.useEffect(Te,Ne);let Re,Le;r[55]!==e||r[56]!==n||r[57]!==S||r[58]!==_?(Re=()=>{if(e.length>0&&(!_||!e.includes(_))){const Je=n??e[0];S(Je)}},Le=[e,n,_,S],r[55]=e,r[56]=n,r[57]=S,r[58]=_,r[59]=Re,r[60]=Le):(Re=r[59],Le=r[60]),b.useEffect(Re,Le);let Ae;r[61]!==J||r[62]!==se?(Ae=Je=>{ve(Je),Je.mode===Yt.SSH?se({host:Je.host,coder:Je.coder}):Je.mode===Yt.DOCKER?(Je.image.trim()&&J(Yt.DOCKER,"image",Je.image),Je.shareCredentials!==void 0&&J(Yt.DOCKER,"shareCredentials",Je.shareCredentials)):Je.mode===Yt.DEVCONTAINER&&(Je.configPath.trim()&&J(Yt.DEVCONTAINER,"configPath",Je.configPath),Je.shareCredentials!==void 0&&J(Yt.DEVCONTAINER,"shareCredentials",Je.shareCredentials))},r[61]=J,r[62]=se,r[63]=Ae):Ae=r[63];const bt=Ae;let nt;r[64]!==ke||r[65]!==V||r[66]!==U||r[67]!==B||r[68]!==t||r[69]!==F||r[70]!==y?(nt=Je=>{const ye=_n(fj(t),{}),Ze=F(ye),qe=Je==="coder"?Yt.SSH:Je,ft=Je==="coder"?{host:qd,coder:Ze.coderConfig??t3}:{host:Ze.host,coder:void 0},Et=n3(qe,ft,U,B,ke,V),At=vj(Et);y(At),ve(Et)},r[64]=ke,r[65]=V,r[66]=U,r[67]=B,r[68]=t,r[69]=F,r[70]=y,r[71]=nt):nt=r[71];const ct=nt;let pt;r[72]!==ge?(pt=()=>vj(ge),r[72]=ge,r[73]=pt):pt=r[73];const be=pt;let We;r[74]!==o||r[75]!==W||r[76]!==p||r[77]!==ge||r[78]!==a||r[79]!==_?(We={model:p,thinkingLevel:a,agentId:o,selectedRuntime:ge,defaultRuntimeMode:W,trunkBranch:_},r[74]=o,r[75]=W,r[76]=p,r[77]=ge,r[78]=a,r[79]=_,r[80]=We):We=r[80];let He;return r[81]!==H||r[82]!==be||r[83]!==ct||r[84]!==bt||r[85]!==S||r[86]!==G||r[87]!==We?(He={settings:We,coderConfigFallback:H,sshHostFallback:G,setSelectedRuntime:bt,setDefaultRuntimeChoice:ct,setTrunkBranch:S,getRuntimeString:be},r[81]=H,r[82]=be,r[83]=ct,r[84]=bt,r[85]=S,r[86]=G,r[87]=We,r[88]=He):He=r[88],He}function PGe(t,e,n,r){const a=t[e];if(!a||typeof a!="object"||Array.isArray(a))return r;const s=a[n];return typeof r=="string"?typeof s=="string"?s:r:typeof r=="boolean"?s===!0:s&&typeof s=="object"&&!Array.isArray(s)?s:r}function FGe(t,e){const n=ki(t),r=_n(gs(n),null);r&&zp(e,r,"sync");const a=_n(tl(n),null);a&&rn(tl(e),a);const s=_n(lu(n),null);if(s!==null&&rn(lu(e),s),r){const o=typeof a=="string"&&a.trim().length>0?a.trim().toLowerCase():"exec",c=s??"off";rn(Nf(e),u=>({...u&&typeof u=="object"?u:{},[o]:{model:r,thinkingLevel:c}}),{})}_n(kA(t),!1)&&rn(D_(e),!0)}const BGe="application/pdf";function zGe(t){return t.toLowerCase().trim().split(";")[0]}function HGe(t){if(!t.startsWith("data:"))return null;const e=t.indexOf(",");if(e===-1||!t.slice(5,e).includes(";base64"))return null;const r=t.slice(e+1),a=r.endsWith("==")?2:r.endsWith("=")?1:0;return Math.floor(r.length*3/4)-a}function qGe({projectPath:t,onWorkspaceCreated:e,message:n,sectionId:r,draftId:a,userModel:s}){const i=Fu(),o=i?.promoteWorkspaceDraft,c=i?.deleteWorkspaceDraft,{currentWorkspaceId:u,currentProjectId:d,pendingDraftId:m}=H_(),h=b.useRef(!0),p=b.useRef({currentWorkspaceId:u,currentProjectId:d,pendingDraftId:m});b.useEffect(()=>(h.current=!0,()=>{h.current=!1}),[]),p.current={currentWorkspaceId:u,currentProjectId:d,pendingDraftId:m};const{api:f}=Kt(),[g,x]=b.useState([]),[y,w]=b.useState(!1),[v,k]=b.useState(null),[C,_]=b.useState(null),[S,T]=b.useState(!1),[N,j]=b.useState(null),[R,I]=b.useState({status:"loading"}),{settings:A,coderConfigFallback:$,sshHostFallback:E,setSelectedRuntime:M,setDefaultRuntimeChoice:F,setTrunkBranch:L}=OGe(t,g,v),Y=t.trim().length>0?typeof a=="string"&&a.trim().length>0?Pp(t,a):Fp(t):null,O=ki(t),G=ane({message:n,debounceMs:500,userModel:s,scopeId:Y}),{waitForGeneration:H}=G,D=b.useCallback(async()=>{if(!(!t.length||!f)){w(!1);try{const B=await f.projects.listBranches({projectPath:t});x(B.branches),k(B.recommendedTrunk)}catch(B){console.error("Failed to load branches:",B)}finally{w(!0)}}},[t,f]);b.useEffect(()=>{if(!t.length||!f)return;let B=!0;return w(!1),I({status:"loading"}),(async()=>{try{const[V,Z]=await Promise.allSettled([f.projects.listBranches({projectPath:t}),f.projects.runtimeAvailability({projectPath:t})]);if(!B)return;V.status==="fulfilled"?(x(V.value.branches),k(V.value.recommendedTrunk)):console.error("Failed to load branches:",V.reason),Z.status==="fulfilled"?I({status:"loaded",data:Z.value}):I({status:"failed"})}finally{B&&w(!0)}})(),()=>{B=!1}},[t,f]);const U=b.useCallback(async(B,q,V)=>{if(!B.trim()||S||!f)return{success:!1};let Z=A.selectedRuntime;if(Z.mode===Yt.DEVCONTAINER){const K=f_({selectedRuntime:Z,availabilityState:R});if(!K.isCreatable)return _({id:Date.now().toString(),type:"error",message:"Select a devcontainer configuration before creating the workspace."}),{success:!1};K.configPath!==Z.configPath&&(Z={...Z,configPath:K.configPath},M(Z))}const W=SQ(Z);T(!0),_(null),j(null);try{const K=await H();if(!K)return T(!1),{success:!1};j(K);const ee=(typeof K.title=="string"?K.title.trim():"")||void 0,se=cu(O),ue=(V?.model?qp(V.model):null)?.model??se.model,he=(q??[]).filter(Be=>zGe(Be.mediaType)===BGe);if(he.length>0){const Be=lx(ue);if(Be&&!Be.supportsPdfInput){const ie=Object.values(Ou).map(Re=>Re.id).filter(Re=>lx(Re)?.supportsPdfInput),Te=ie.slice(0,3),Ne=ie.length>Te.length?", and others.":".";return _({id:Date.now().toString(),type:"error",title:"PDF not supported",message:`Model ${ue} does not support PDF input.`+(Te.length>0?` Try e.g.: ${Te.join(", ")}${Ne}`:" Choose a model with PDF support.")}),T(!1),{success:!1}}if(Be?.maxPdfSizeMb!==void 0){const ie=Be.maxPdfSizeMb*1024*1024;for(const Te of he){const Ne=HGe(Te.url);if(Ne!==null&&Ne>ie){const Re=(Ne/1048576).toFixed(1);return _({id:Date.now().toString(),type:"error",title:"PDF too large",message:`${Te.filename??"PDF"} is ${Re}MB, but ${ue} allows up to ${Be.maxPdfSizeMb}MB per PDF.`}),T(!1),{success:!1}}}}}const ke=await f.workspace.create({projectPath:t,branchName:K.name,trunkBranch:A.trunkBranch,title:ee,runtimeConfig:W,sectionId:r??void 0});if(!ke.success)return _({id:Date.now().toString(),type:"error",message:ke.error}),T(!1),{success:!1};const{metadata:je}=ke;f.workspace.updateAgentAISettings({workspaceId:je.id,agentId:A.agentId,aiSettings:{model:A.model,thinkingLevel:A.thinkingLevel}}).catch(()=>{});const _e=typeof a=="string"&&a.trim().length>0,ge=t?_e?Pp(t,a):Fp(t):null,ve=()=>{if(ge){if(_e&&c&&typeof a=="string"){c(t,a);return}rn(mm(ge),""),rn(g3(ge),void 0)}};FGe(t,je.id);const De=!_e||(()=>{if(!h.current)return!1;const Be=p.current;return Be.currentWorkspaceId?!1:Be.pendingDraftId===a})();e(je,{autoNavigate:De}),typeof a=="string"&&a.trim().length>0&&o&&o(t,a,je),ve(),T(!1);const $e=[se.additionalSystemInstructions,V?.additionalSystemInstructions].filter(Be=>typeof Be=="string"&&Be.trim().length>0).join(`

`),Qe=await f.workspace.sendMessage({workspaceId:je.id,message:B,options:{...se,...V,additionalSystemInstructions:$e.length?$e:void 0,fileParts:q&&q.length>0?q:void 0}});return Qe.success?{success:!0}:(Qe.error&&rn(vA(je.id),Qe.error),{success:!1,error:Qe.error})}catch(K){const J=K instanceof Error?K.message:String(K);return _({id:Date.now().toString(),type:"error",message:`Failed to create workspace: ${J}`}),T(!1),{success:!1}}},[f,S,t,O,e,A.selectedRuntime,R,M,A.agentId,A.model,A.thinkingLevel,A.trunkBranch,H,r,a,o,c]);return{branches:g,branchesLoaded:y,trunkBranch:A.trunkBranch,setTrunkBranch:L,selectedRuntime:A.selectedRuntime,coderConfigFallback:$,sshHostFallback:E,defaultRuntimeMode:A.defaultRuntimeMode,setSelectedRuntime:M,setDefaultRuntimeChoice:F,toast:C,setToast:_,isSending:S,handleSend:U,nameState:G,creatingWithIdentity:N,reloadBranches:D,runtimeAvailabilityState:R}}function UGe(t,e){if(e.length===0||t?.template||t?.existingWorkspace)return null;const n=e[0];return{...t??{},existingWorkspace:!1,template:n.name,templateOrg:n.organizationName}}function WGe({coderConfig:t,onCoderConfigChange:e}){const{api:n}=Kt(),[r,a]=b.useState(null),s=t!=null&&r?.state==="available",i=b.useRef(t),o=b.useRef(e);i.current=t,o.current=e;const[c,u]=b.useState([]),[d,m]=b.useState(null),[h,p]=b.useState([]),[f,g]=b.useState(null),[x,y]=b.useState([]),[w,v]=b.useState(null),[k,C]=b.useState(!1),[_,S]=b.useState(!1),[T,N]=b.useState(!1);b.useEffect(()=>{if(!n)return;let R=!0;return n.coder.getInfo().then(I=>{R&&(a(I),I.state!=="available"&&i.current!=null&&o.current(null))}).catch(()=>{R&&(a({state:"unavailable",reason:{kind:"error",message:"Failed to fetch"}}),i.current!=null&&o.current(null))}),()=>{R=!1}},[n]),b.useEffect(()=>{if(!n||!s||r?.state!=="available"){u([]),m(null),C(!1);return}let R=!0;return C(!0),m(null),n.coder.listTemplates().then(I=>{if(R)if(I.ok){u(I.templates),m(null);const A=UGe(i.current,I.templates);A&&e(A)}else u([]),m(I.error)}).catch(I=>{if(!R)return;const A=I instanceof Error?I.message.split(`
`)[0].slice(0,200).trim():"Unknown error";u([]),m(A||"Unknown error")}).finally(()=>{R&&C(!1)}),()=>{R=!1}},[n,s,r?.state]),b.useEffect(()=>{if(!n||!s||r?.state!=="available"){y([]),v(null),N(!1);return}let R=!0;return N(!0),v(null),n.coder.listWorkspaces().then(I=>{R&&(I.ok?(y(I.workspaces),v(null)):(y([]),v(I.error)))}).catch(I=>{if(!R)return;const A=I instanceof Error?I.message.split(`
`)[0].slice(0,200).trim():"Unknown error";y([]),v(A||"Unknown error")}).finally(()=>{R&&N(!1)}),()=>{R=!1}},[n,s,r?.state]),b.useEffect(()=>{if(!n||!s||!t?.template||t.existingWorkspace){p([]),g(null),S(!1);return}let R=!0;S(!0),g(null);const I=t.template,A=t.templateOrg;return n.coder.listPresets({template:I,org:A}).then($=>{if(R&&!(i.current?.template!==I||i.current?.templateOrg!==A))if($.ok){p($.presets),g(null);const E=i.current;if(E&&!E.existingWorkspace)if($.presets.length===1){const M=$.presets[0];M&&E.preset!==M.name&&e({...E,preset:M.name})}else if($.presets.length>=2&&!E.preset){const F=$.presets.find(L=>L.isDefault)??$.presets[0];F&&e({...E,preset:F.name})}else $.presets.length===0&&E.preset&&e({...E,preset:void 0})}else p([]),g($.error)}).catch($=>{if(!R||i.current?.template!==I||i.current?.templateOrg!==A)return;const E=$ instanceof Error?$.message.split(`
`)[0].slice(0,200).trim():"Unknown error";p([]),g(E||"Unknown error")}).finally(()=>{R&&i.current?.template===I&&i.current?.templateOrg===A&&S(!1)}),()=>{R=!1}},[n,s,t?.template,t?.templateOrg,t?.existingWorkspace]);const j=b.useCallback(R=>{if(R){const I=c[0];e({existingWorkspace:!1,template:I?.name,templateOrg:I?.organizationName})}else e(null)},[c,e]);return{enabled:s,setEnabled:j,coderInfo:r,coderConfig:t,setCoderConfig:e,templates:c,templatesError:d,presets:h,presetsError:f,existingWorkspaces:x,workspacesError:w,loadingTemplates:k,loadingPresets:_,loadingWorkspaces:T}}const GGe=t=>{const e=ae.c(48),{step:n,currentStep:r,totalSteps:a,onNext:s,onDismiss:i,onDisableTutorial:o}=t,c=b.useRef(null),[u,d]=b.useState(null),[m,h]=b.useState(!1);let p,f;e[0]!==n.position||e[1]!==n.target?(p=()=>{const D=document.querySelector(`[data-tutorial="${n.target}"]`);if(!D||!c.current)return;const U=()=>{const B=D.getBoundingClientRect(),q=c.current.getBoundingClientRect(),V=window.innerWidth,Z=window.innerHeight,W=n.position??"bottom";let K=W,J,ee;W==="bottom"||W==="top"?(W==="bottom"?(J=B.bottom+12,J+q.height>Z&&(K="top",J=B.top-q.height-12)):(J=B.top-q.height-12,J<0&&(K="bottom",J=B.bottom+12)),ee=B.left+B.width/2-q.width/2):(W==="right"?(ee=B.right+12,ee+q.width>V&&(K="left",ee=B.left-q.width-12)):(ee=B.left-q.width-12,ee<0&&(K="right",ee=B.right+12)),J=B.top+B.height/2-q.height/2),ee=Math.max(8,Math.min(V-q.width-8,ee)),J=Math.max(8,Math.min(Z-q.height-8,J));const se={};if(K==="bottom"||K==="top"){const re=B.left+B.width/2-ee;se.left=`${Math.max(12,Math.min(q.width-12,re))}px`,K==="bottom"?(se.top="-6px",se.borderWidth="0 6px 6px 6px",se.borderColor="transparent transparent var(--color-accent) transparent"):(se.bottom="-6px",se.borderWidth="6px 6px 0 6px",se.borderColor="var(--color-accent) transparent transparent transparent")}else{const re=B.top+B.height/2-J;se.top=`${Math.max(12,Math.min(q.height-12,re))}px`,K==="right"?(se.left="-6px",se.borderWidth="6px 6px 6px 0",se.borderColor="transparent var(--color-accent) transparent transparent"):(se.right="-6px",se.borderWidth="6px 0 6px 6px",se.borderColor="transparent transparent transparent var(--color-accent)")}d({top:J,left:ee,arrowStyle:se,actualPosition:K})};return U(),window.addEventListener("resize",U),()=>window.removeEventListener("resize",U)},f=[n.target,n.position],e[0]=n.position,e[1]=n.target,e[2]=p,e[3]=f):(p=e[2],f=e[3]),b.useLayoutEffect(p,f);let g,x;e[4]!==n.target?(g=()=>{const D=document.querySelector(`[data-tutorial="${n.target}"]`);if(D)return D.classList.add("tutorial-highlight"),()=>{D.classList.remove("tutorial-highlight")}},x=[n.target],e[4]=n.target,e[5]=g,e[6]=x):(g=e[5],x=e[6]),b.useLayoutEffect(g,x);const y=r===a;let w;e[7]!==i||e[8]!==m?(w=()=>{m?i():h(!0)},e[7]=i,e[8]=m,e[9]=w):w=e[9];const v=w;let k;e[10]!==i?(k=l.jsx("div",{className:"fixed inset-0 z-[9998] bg-black/20","data-testid":"tutorial-backdrop",onClick:i}),e[10]=i,e[11]=k):k=e[11];const C=u?.top??-9999,_=u?.left??-9999,S=u?"visible":"hidden";let T;e[12]!==C||e[13]!==_||e[14]!==S?(T={position:"fixed",top:C,left:_,visibility:S},e[12]=C,e[13]=_,e[14]=S,e[15]=T):T=e[15];let N;e[16]===Symbol.for("react.memo_cache_sentinel")?(N=ce("z-[9999] w-72 rounded-lg border-2 border-accent bg-modal-bg p-4 shadow-lg","text-foreground"),e[16]=N):N=e[16];const j=u?.arrowStyle;let R;e[17]!==j?(R=l.jsx("div",{className:"absolute h-0 w-0 border-solid",style:j}),e[17]=j,e[18]=R):R=e[18];let I;e[19]!==n.title?(I=l.jsx("h3",{className:"text-sm font-semibold",children:n.title}),e[19]=n.title,e[20]=I):I=e[20];let A;e[21]!==r||e[22]!==a?(A=l.jsxs("span",{className:"text-muted text-xs",children:[r,"/",a]}),e[21]=r,e[22]=a,e[23]=A):A=e[23];let $;e[24]!==I||e[25]!==A?($=l.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[I,A]}),e[24]=I,e[25]=A,e[26]=$):$=e[26];let E;e[27]!==n.content?(E=l.jsx("p",{className:"text-muted mb-4 text-xs leading-relaxed",children:n.content}),e[27]=n.content,e[28]=E):E=e[28];let M;e[29]!==v||e[30]!==o||e[31]!==m?(M=l.jsx("div",{children:m?l.jsx("button",{onClick:o,className:"text-muted hover:text-foreground text-[10px] underline transition-colors",children:"Don't show tutorials again"}):l.jsx("button",{onClick:v,className:"text-muted hover:text-foreground text-xs transition-colors",children:"Skip"})}),e[29]=v,e[30]=o,e[31]=m,e[32]=M):M=e[32];const F=y?i:s,L=y?"Done":"Next";let Y;e[33]!==F||e[34]!==L?(Y=l.jsx("button",{onClick:F,className:"bg-accent rounded px-3 py-1.5 text-xs font-medium text-white transition-colors hover:opacity-90",children:L}),e[33]=F,e[34]=L,e[35]=Y):Y=e[35];let O;e[36]!==M||e[37]!==Y?(O=l.jsxs("div",{className:"flex items-center justify-between",children:[M,Y]}),e[36]=M,e[37]=Y,e[38]=O):O=e[38];let G;e[39]!==T||e[40]!==R||e[41]!==$||e[42]!==E||e[43]!==O?(G=l.jsxs("div",{ref:c,style:T,className:N,children:[R,$,E,O]}),e[39]=T,e[40]=R,e[41]=$,e[42]=E,e[43]=O,e[44]=G):G=e[44];let H;return e[45]!==G||e[46]!==k?(H=Ys.createPortal(l.jsxs(l.Fragment,{children:[k,G]}),document.body),e[45]=G,e[46]=k,e[47]=H):H=e[47],H};function RY(t){const e=ae.c(22);let n;e[0]!==t?(n=()=>{t.primaryAction&&(t.primaryAction.onClick(),t.dismissOnPrimaryAction!==!1&&t.onDismiss())},e[0]=t,e[1]=n):n=e[1];const r=n;let a;e[2]!==t?(a=d=>!d&&t.onDismiss(),e[2]=t,e[3]=a):a=e[3];let s;e[4]!==t.title?(s=l.jsx(Sa,{children:l.jsx(oa,{children:t.title})}),e[4]=t.title,e[5]=s):s=e[5];let i;e[6]!==r||e[7]!==t.dismissLabel||e[8]!==t.footer||e[9]!==t.onDismiss||e[10]!==t.primaryAction?(i=t.footer??l.jsxs(l.Fragment,{children:[t.primaryAction&&l.jsx(tt,{onClick:r,disabled:t.primaryAction.disabled===!0,children:t.primaryAction.label}),t.dismissLabel!==null&&l.jsx(tt,{variant:"secondary",onClick:t.onDismiss,children:t.dismissLabel??"Got it"})]}),e[6]=r,e[7]=t.dismissLabel,e[8]=t.footer,e[9]=t.onDismiss,e[10]=t.primaryAction,e[11]=i):i=e[11];let o;e[12]!==t.footerClassName||e[13]!==i?(o=l.jsx(Li,{className:t.footerClassName,children:i}),e[12]=t.footerClassName,e[13]=i,e[14]=o):o=e[14];let c;e[15]!==t.children||e[16]!==s||e[17]!==o?(c=l.jsxs(ia,{maxWidth:"500px",onInteractOutside:VGe,children:[s,t.children,o]}),e[15]=t.children,e[16]=s,e[17]=o,e[18]=c):c=e[18];let u;return e[19]!==a||e[20]!==c?(u=l.jsx(sa,{open:!0,onOpenChange:a,children:c}),e[19]=a,e[20]=c,e[21]=u):u=e[21],u}function VGe(t){return t.preventDefault()}const KGe=Object.values(Ou).map(t=>t.id);function Lp(t){const e=[];if(t){for(const[r,a]of Object.entries(t))if(r!=="mux-gateway")for(const s of a.models??[])e.push(`${r}:${s}`)}const n=new Set;for(const r of[...e,...KGe])jQ(r)&&n.add(r);return Array.from(n).sort((r,a)=>r.localeCompare(a))}function YGe(){const t=new URLSearchParams(window.location.search).get("token")?.trim();return t?.length?t:kx()}const k$="gateway-models",r3="bg-background-secondary text-foreground border-border-medium rounded border px-2 py-0.5 font-mono text-xs";function XGe(t){const e=ae.c(8),n=`Step ${t.activeIndex+1} of ${t.count}`;let r;e[0]!==t.count?(r=Array.from({length:t.count}),e[0]=t.count,e[1]=r):r=e[1];let a;e[2]!==t.activeIndex||e[3]!==r?(a=r.map((i,o)=>l.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${o===t.activeIndex?"bg-accent":"bg-border-medium"}`},`dot-${o}`)),e[2]=t.activeIndex,e[3]=r,e[4]=a):a=e[4];let s;return e[5]!==n||e[6]!==a?(s=l.jsx("div",{className:"flex items-center gap-1","aria-label":n,children:a}),e[5]=n,e[6]=a,e[7]=s):s=e[7],s}function ZGe(t){const e=ae.c(9),n=t.stepIndex+1;let r;e[0]!==t.totalSteps||e[1]!==n?(r=l.jsxs("span",{className:"text-muted text-xs",children:[n," / ",t.totalSteps]}),e[0]=t.totalSteps,e[1]=n,e[2]=r):r=e[2];let a;e[3]!==t.stepIndex||e[4]!==t.totalSteps?(a=l.jsx(XGe,{count:t.totalSteps,activeIndex:t.stepIndex}),e[3]=t.stepIndex,e[4]=t.totalSteps,e[5]=a):a=e[5];let s;return e[6]!==r||e[7]!==a?(s=l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[r,a]}),e[6]=r,e[7]=a,e[8]=s):s=e[8],s}function Ui(t){const e=ae.c(11),n=`bg-background-secondary border-border-medium rounded-lg border p-3 ${t.className??""}`;let r;e[0]!==t.icon?(r=l.jsx("span",{className:"bg-accent/10 text-accent inline-flex h-7 w-7 items-center justify-center rounded-md",children:t.icon}),e[0]=t.icon,e[1]=r):r=e[1];let a;e[2]!==t.title||e[3]!==r?(a=l.jsxs("div",{className:"text-foreground flex items-center gap-2 text-sm font-medium",children:[r,t.title]}),e[2]=t.title,e[3]=r,e[4]=a):a=e[4];let s;e[5]!==t.children?(s=l.jsx("div",{className:"text-muted mt-2 text-sm",children:t.children}),e[5]=t.children,e[6]=s):s=e[6];let i;return e[7]!==n||e[8]!==a||e[9]!==s?(i=l.jsxs("div",{className:n,children:[a,s]}),e[7]=n,e[8]=a,e[9]=s,e[10]=i):i=e[10],i}function QGe(t){const e=ae.c(7);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=l.jsx("div",{className:"border-b border-[var(--color-command-input-border)] bg-[var(--color-command-input)] px-3.5 py-3 text-sm",children:l.jsxs("span",{className:"text-[var(--color-command-subdued)]",children:["Switch workspaces or type ",l.jsx("span",{className:"font-mono",children:">"})," for all commands"]})}),e[0]=n):n=e[0];let r;e[1]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx("div",{className:"px-2.5 py-1 text-[11px] tracking-[0.08em] text-[var(--color-command-subdued)] uppercase",children:"Recent"}),e[1]=r):r=e[1];let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsxs("div",{className:"hover:bg-hover mx-1 my-0.5 grid grid-cols-[1fr_auto] items-center gap-2 rounded-md px-3 py-2 text-[13px]",children:[l.jsxs("div",{children:["Create New Workspace",l.jsx("br",{}),l.jsx("span",{className:"text-xs text-[var(--color-command-subdued)]",children:"Start a new workspace (Local / Worktree / SSH / Docker)"})]}),l.jsx("span",{className:"font-monospace text-[11px] text-[var(--color-command-subdued)]",children:">new"})]}),e[2]=a):a=e[2];let s;e[3]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsxs("div",{className:"bg-hover mx-1 my-0.5 grid grid-cols-[1fr_auto] items-center gap-2 rounded-md px-3 py-2 text-[13px]",children:[l.jsxs("div",{children:["Open Settings",l.jsx("br",{}),l.jsx("span",{className:"text-xs text-[var(--color-command-subdued)]",children:"Jump to providers, models, MCP"})]}),l.jsx("span",{className:"font-monospace text-[11px] text-[var(--color-command-subdued)]",children:">settings"})]}),e[3]=s):s=e[3];let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsxs("div",{children:["Help: Keybinds",l.jsx("br",{}),l.jsx("span",{className:"text-xs text-[var(--color-command-subdued)]",children:"Discover shortcuts for the whole app"})]}),e[4]=i):i=e[4];let o;return e[5]!==t.shortcut?(o=l.jsxs("div",{className:"font-primary overflow-hidden rounded-lg border border-[var(--color-command-border)] bg-[var(--color-command-surface)] text-[var(--color-command-foreground)]","aria-label":"Command palette preview",children:[n,l.jsxs("div",{className:"px-1.5 py-2",children:[r,a,s,l.jsxs("div",{className:"hover:bg-hover mx-1 my-0.5 grid grid-cols-[1fr_auto] items-center gap-2 rounded-md px-3 py-2 text-[13px]",children:[i,l.jsx("span",{className:"font-monospace text-[11px] text-[var(--color-command-subdued)]",children:t.shortcut})]})]})]}),e[5]=t.shortcut,e[6]=o):o=e[6],o}function JGe(t){const[e,n]=b.useState(0),{open:r}=as(),a=Oi(),s=a.status.state==="enforced"?a.policy??null:null,i=b.useMemo(()=>$x(s),[s]),{config:o,loading:c}=Pu(),{addProject:u,projects:d}=Bm(),m=b.useRef(null),[h,p]=b.useState(!1),[f,g]=b.useState("forward"),{api:x}=Kt(),{data:y,error:w,isLoading:v,refresh:k}=aC(),C=vx(),_=b.useMemo(()=>{try{return new URL(C).origin}catch{return window.location.origin}},[C]),S=!!window.api,[T,N]=b.useState("idle"),[j,R]=b.useState(null),I=b.useRef(!1),A=b.useRef(0),[$,E]=b.useState(null),[M,F]=b.useState(null),L=b.useCallback(()=>{I.current=!1,A.current++,S&&x&&$&&x.muxGatewayOauth.cancelDesktopFlow({flowId:$}),E(null),F(null),N("idle"),R(null)},[x,S,$]),Y=b.useCallback(async()=>{const $e=++A.current,Qe=o?.["mux-gateway"]?.couponCodeSet??!1;I.current=!Qe;try{if(R(null),E(null),F(null),S){if(!x){N("error"),R("Mux API not connected.");return}N("starting");const Re=await x.muxGatewayOauth.startDesktopFlow();if($e!==A.current){Re.success&&x.muxGatewayOauth.cancelDesktopFlow({flowId:Re.data.flowId});return}if(!Re.success){N("error"),R(Re.error);return}const{flowId:Le,authorizeUrl:Ae}=Re.data;if(E(Le),N("waiting"),window.open(Ae,"_blank","noopener"),$e!==A.current)return;const bt=await x.muxGatewayOauth.waitForDesktopFlow({flowId:Le});if($e!==A.current)return;if(bt.success){if(I.current){let nt=o;try{nt=await x.providers.getConfig()}catch{}if($e!==A.current)return;rn(k$,Lp(nt)),I.current=!1}N("success"),k();return}N("error"),R(bt.error);return}const Be=window.open("about:blank","_blank");if(!Be)throw new Error("Popup blocked - please allow popups and try again.");N("starting");const ie=new URL(`${C}/auth/mux-gateway/start`),Te=YGe();let Ne;try{const Re=await fetch(ie,{headers:Te?{Authorization:`Bearer ${Te}`}:void 0}),Le=Re.headers.get("content-type")??"";if(!Le.includes("application/json")){const bt=(await Re.text()).trim().slice(0,80);throw new Error(`Unexpected response from ${ie.toString()} (expected JSON, got ${Le||"unknown"}): ${bt}`)}if(Ne=await Re.json(),!Re.ok){const Ae=typeof Ne.error=="string"?Ne.error:`HTTP ${Re.status}`;throw new Error(Ae)}}catch(Re){throw Be.close(),Re}if($e!==A.current){Be.close();return}if(typeof Ne.authorizeUrl!="string"||typeof Ne.state!="string")throw Be.close(),new Error(`Invalid response from ${ie.pathname}`);F(Ne.state),Be.location.href=Ne.authorizeUrl,N("waiting")}catch(Be){if($e!==A.current)return;const ie=Be instanceof Error?Be.message:String(Be);N("error"),R(ie)}},[x,C,S,o,k]);b.useEffect(()=>{const $e=A.current;if(S||T!=="waiting"||!M)return;const Qe=Be=>{if(Be.origin!==_||A.current!==$e)return;const ie=Be.data;if(!ie||typeof ie!="object"||ie.type!=="mux-gateway-oauth"||ie.state!==M)return;if(ie.ok===!0){if(I.current){I.current=!1;const Ne=Re=>{A.current===$e&&rn(k$,Lp(Re))};x?x.providers.getConfig().then(Ne).catch(()=>Ne(o)):Ne(o)}N("success"),k();return}const Te=typeof ie.error=="string"?ie.error:"Login failed";N("error"),R(Te)};return window.addEventListener("message",Qe),()=>window.removeEventListener("message",Qe)},[x,_,S,T,M,o,k]);const O=o?.["mux-gateway"]?.couponCodeSet??!1,G=T==="waiting"||T==="starting",H=O||T==="success",D=T==="error"?"Try again":G?"Waiting for login...":H?"Re-login to Mux Gateway":"Login with Mux Gateway",U=b.useMemo(()=>i.filter($e=>o?.[$e]?.isConfigured===!0),[o,i]),B=b.useMemo(()=>U.length===0?null:U.map($e=>Sx[$e]).join(", "),[U]),[q,V]=b.useState(null);b.useEffect(()=>{q===null&&(c||V(U.length>0))},[U.length,q,c]);const Z=Bt(st.OPEN_COMMAND_PALETTE),W=Bt(st.TOGGLE_AGENT),K=Bt(st.CYCLE_AGENT),J=b.useMemo(()=>{if(q===null)return[{key:"loading",title:"Getting started",icon:l.jsx(Rd,{className:"h-4 w-4"}),body:l.jsx(l.Fragment,{children:l.jsx("p",{children:"Checking your provider configuration"})})}];const $e=[];q===!1&&$e.push({key:"mux-gateway",title:"Mux Gateway (evaluation credits)",icon:l.jsx(Rd,{className:"h-4 w-4"}),body:l.jsxs(l.Fragment,{children:[l.jsxs("p",{children:["Mux Gateway enables you to use free AI tokens from"," ",l.jsx("a",{href:"https://coder.com",target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline",children:"Coder"}),"."]}),l.jsx("p",{children:"OSS contributors with GitHub accounts older than 12 months (or GitHub Pro members) can use this to get free evaluation credits."}),H?l.jsx("div",{className:"mt-3 space-y-2",children:l.jsxs("div",{className:"border-border-medium bg-background-secondary rounded-md border p-2 text-xs",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[l.jsx("div",{className:"text-foreground font-medium",children:"Mux Gateway account"}),l.jsx(tt,{variant:"secondary",size:"sm",onClick:()=>{k()},disabled:v,children:v?"Refreshing...":"Refresh"})]}),l.jsxs("div",{className:"mt-2 space-y-1",children:[l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx("span",{className:"text-muted",children:"Balance"}),l.jsx("span",{className:"text-foreground font-mono",children:rC(y?.remaining_microdollars)})]}),l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx("span",{className:"text-muted",children:"Concurrent requests per user"}),l.jsx("span",{className:"text-foreground font-mono",children:y?.ai_gateway_concurrent_requests_per_user??""})]})]}),w&&l.jsx("div",{className:"text-destructive mt-2",children:w})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[l.jsx(tt,{onClick:()=>{Y()},disabled:G,children:D}),G&&l.jsx(tt,{variant:"secondary",onClick:L,children:"Cancel"})]}),T==="waiting"&&l.jsx("p",{className:"mt-3",children:"Finish the login flow in your browser, then return here."}),T==="error"&&j&&l.jsxs("p",{className:"mt-3",children:[l.jsx("strong",{className:"text-destructive",children:"Login failed:"})," ",j]})]}),l.jsx("p",{className:"mt-3",children:"You can also receive those credits through:"}),l.jsxs("ul",{className:"ml-4 list-disc space-y-1",children:[l.jsxs("li",{children:["early adopters can request credits tied to their GH logins on our"," ",l.jsx("a",{href:"https://discord.gg/VfZXvtnR",target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline",children:"Discord"})]}),l.jsxs("li",{children:["vouchers which you can"," ",l.jsx("a",{href:"https://gateway.mux.coder.com",target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline",children:"claim here"})]})]}),l.jsxs("p",{className:"mt-3",children:["You can enable this in"," ",l.jsx("button",{type:"button",className:"text-accent hover:underline",onClick:()=>r("providers"),children:"Settings  Providers"}),"."]})]})}),$e.push({key:"providers",title:"Choose your own AI providers",icon:l.jsx(Rd,{className:"h-4 w-4"}),body:l.jsxs(l.Fragment,{children:[l.jsx("p",{children:"Mux is provider-agnostic: bring your own keys, mix and match models, or run locally."}),U.length>0&&B?l.jsxs("p",{className:"mt-3 text-xs",children:[l.jsx("span",{className:"text-foreground font-medium",children:"Configured:"})," ",B]}):l.jsx("p",{className:"mt-3 text-xs",children:"No providers configured yet."}),l.jsxs("div",{className:"mt-3",children:[l.jsx("div",{className:"text-foreground mb-2 text-xs font-medium",children:"Available providers"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.map(Be=>{const ie=o?.[Be]?.isConfigured===!0;return l.jsxs("button",{type:"button",className:"bg-background-secondary border-border-medium text-foreground hover:bg-hover flex w-full cursor-pointer items-center justify-between rounded-md border px-2 py-1 text-left text-xs",title:ie?"Configured":"Not configured",onClick:()=>r("providers",{expandProvider:Be}),children:[l.jsx(ry,{provider:Be,displayName:!0,iconClassName:"text-accent"}),l.jsx("span",{className:`h-2 w-2 rounded-full ${ie?"bg-green-500":"bg-border-medium"}`})]},Be)})}),l.jsxs("div",{className:"text-muted mt-2 flex items-center gap-2 text-xs",children:[l.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500"}),l.jsx("span",{children:"Configured"}),l.jsx("span",{className:"bg-border-medium h-2 w-2 rounded-full"}),l.jsx("span",{children:"Not configured"})]})]}),l.jsxs("p",{className:"mt-3",children:["Configure keys and endpoints in"," ",l.jsx("button",{type:"button",className:"text-accent hover:underline",onClick:()=>r("providers"),children:"Settings  Providers"}),"."]})]})});const Qe=$e.length;return $e.push({key:"projects",title:"Add your first project",icon:l.jsx(_J,{className:"h-4 w-4"}),body:l.jsxs(l.Fragment,{children:[l.jsx("p",{children:"Projects are the folders you want Mux to work in. Choose one now, then click Next to add it."}),d.size>0?l.jsxs("p",{className:"mt-3 text-xs",children:[l.jsx("span",{className:"text-foreground font-medium",children:"Configured:"})," ",d.size," ","project",d.size===1?"":"s"]}):l.jsx("p",{className:"mt-3 text-xs",children:"No projects added yet."}),l.jsx("div",{className:"mt-3",children:l.jsx(sC,{ref:m,autoFocus:d.size===0,hideFooter:!0,onIsCreatingChange:p,onSuccess:(Be,ie)=>{u(Be,ie),rn(L_(Be),!0),g("forward"),n(Qe+1)}})}),l.jsx("p",{className:"mt-2 text-xs",children:d.size>0?"Pick another folder to add, or leave this blank and click Next to continue.":"Click Next to add the project."})]})}),$e.push({key:"agents",title:"Agents: Plan, Exec, and custom",icon:l.jsx(x1,{className:"h-4 w-4"}),body:l.jsxs(l.Fragment,{children:[l.jsxs("p",{children:["Agents are file-based definitions (system prompt + tool policy). You can create project-local agents in ",l.jsx("code",{className:"text-accent",children:".mux/agents/*.md"})," or global agents in ",l.jsx("code",{className:"text-accent",children:"~/.mux/agents/*.md"}),"."]}),l.jsxs("div",{className:"mt-3 grid gap-2",children:[l.jsx(Ui,{icon:l.jsx(Rd,{className:"h-4 w-4"}),title:"Use Plan to design the spec",children:"When the change is complex, switch to a plan-like agent first: write an explicit plan (files, steps, risks), then execute."}),l.jsx(Ui,{icon:l.jsx(x1,{className:"h-4 w-4"}),title:"Quick shortcuts",children:l.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2",children:[l.jsx("span",{children:"Agent picker"}),l.jsx("kbd",{className:r3,children:W}),l.jsx("span",{className:"text-muted mx-1",children:""}),l.jsx("span",{children:"Cycle agent"}),l.jsx("kbd",{className:r3,children:K})]})})]}),l.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[l.jsx(Up,{path:"/agents",children:"Agent docs"}),l.jsx(Up,{path:"/agents/plan-mode",children:"Plan mode"})]})]})}),$e.push({key:"runtimes",title:"Multiple runtimes",icon:l.jsx(yJ,{className:"h-4 w-4"}),body:l.jsxs(l.Fragment,{children:[l.jsx("p",{children:"Each workspace can run in the environment that fits the job: keep it local, isolate with a git worktree, run remotely over SSH, or use a per-workspace Docker container."}),l.jsxs("div",{className:"mt-3 grid gap-2",children:[l.jsx(Ui,{icon:l.jsx(FM,{size:14}),title:"Local",children:"Work directly in your project directory."}),l.jsxs(Ui,{icon:l.jsx(PM,{size:14}),title:"Worktree",children:["Isolated git worktree under ",l.jsx("code",{className:"text-accent",children:"~/.mux/src"}),"."]}),l.jsx(Ui,{icon:l.jsx(OM,{size:14}),title:"SSH",children:"Remote clone and commands run on an SSH host."}),l.jsx(Ui,{icon:l.jsx(BM,{size:14}),title:"Coder (SSH)",children:"Use Coder workspaces over SSH for a managed remote dev environment."}),l.jsx(Ui,{icon:l.jsx(zM,{size:14}),title:"Docker",children:"Isolated container per workspace."})]}),l.jsx("p",{className:"mt-3",children:"You can set a project default runtime in the workspace controls."})]})}),$e.push({key:"mcp",title:"MCP servers",icon:l.jsx(Bl,{className:"h-4 w-4"}),body:l.jsxs(l.Fragment,{children:[l.jsx("p",{children:"MCP servers extend Mux with tools (memory, ticketing, databases, internal APIs). Configure them globally, with optional repo overrides and per-workspace overrides."}),l.jsxs("div",{className:"mt-3 grid gap-2",children:[l.jsx(Ui,{icon:l.jsx(Bl,{className:"h-4 w-4"}),title:"Global config",children:l.jsx("code",{className:"text-accent",children:"~/.mux/mcp.jsonc"})}),l.jsx(Ui,{icon:l.jsx(Bl,{className:"h-4 w-4"}),title:"Repo overrides",children:l.jsx("code",{className:"text-accent",children:"./.mux/mcp.jsonc"})}),l.jsx(Ui,{icon:l.jsx(Bl,{className:"h-4 w-4"}),title:"Workspace overrides",children:l.jsx("code",{className:"text-accent",children:".mux/mcp.local.jsonc"})})]}),l.jsxs("p",{className:"mt-3",children:["Manage servers in ",l.jsx("span",{className:"text-foreground",children:"Settings  MCP"}),"."]})]})}),$e.push({key:"palette",title:"Command palette",icon:l.jsx(nee,{className:"h-4 w-4"}),body:l.jsxs(l.Fragment,{children:[l.jsx("p",{children:"The command palette is the fastest way to navigate, create workspaces, and discover features."}),l.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[l.jsx("span",{className:"text-muted text-sm",children:"Open command palette"}),l.jsx("kbd",{className:r3,children:Z})]}),l.jsx("div",{className:"mt-3",children:l.jsx(QGe,{shortcut:Z})}),l.jsxs("p",{className:"mt-3",children:["Tip: type ",l.jsx("code",{className:"text-accent",children:">"})," for commands and"," ",l.jsx("code",{className:"text-accent",children:"/"})," for slash commands."]})]})}),$e},[u,W,L,Z,U.length,B,K,q,w,v,y,H,D,j,G,T,r,d.size,o,k,Y,i]);b.useEffect(()=>{n($e=>Math.min($e,J.length-1))},[J.length]);const ee=J.length,se=J[e]??J[0];if(b.useEffect(()=>{se?.key!=="mux-gateway"&&G&&L()},[L,se?.key,G]),!se)return null;const re=q===null,ue=!re&&e>0,he=!re&&e<ee-1,ke=()=>{ue&&(g("back"),n($e=>Math.max(0,$e-1)))},je=()=>{he&&(g("forward"),n($e=>Math.min(ee-1,$e+1)))},_e=se.key==="projects",ve=_e&&h?"Adding...":re||he?"Next":"Done",De=re||_e&&h;return l.jsx(RY,{title:se.title,onDismiss:()=>{L(),t.onDismiss()},dismissLabel:null,footerClassName:"justify-between",footer:l.jsxs(l.Fragment,{children:[l.jsx("div",{children:ue&&l.jsxs(tt,{variant:"secondary",onClick:ke,className:"min-w-24",children:[l.jsx(QA,{className:"h-4 w-4"}),"Back"]})}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(tt,{className:"min-w-24",onClick:()=>{if(!De){if(_e){const $e=m.current;if(!$e){je();return}if(!$e.getTrimmedPath()&&d.size>0){je();return}$e.submit();return}if(he){je();return}t.onDismiss()}},disabled:De,children:ve}),l.jsx(tt,{variant:"secondary",onClick:t.onDismiss,className:"min-w-24",children:"Skip"})]})]}),children:l.jsxs("div",{className:"text-muted flex flex-col gap-4",children:[l.jsx(ZGe,{stepIndex:e,totalSteps:ee}),l.jsxs("div",{className:`flex flex-col gap-3 ${f==="forward"?"animate-in fade-in-0 slide-in-from-right-2":"animate-in fade-in-0 slide-in-from-left-2"}`,children:[l.jsxs("div",{className:"text-foreground flex items-center gap-2 text-sm font-medium",children:[l.jsx("span",{className:"bg-accent/10 text-accent inline-flex h-8 w-8 items-center justify-center rounded-md",children:se.icon}),l.jsx("span",{children:se.title})]}),l.jsx("div",{className:"text-muted flex flex-col gap-3 text-sm",children:se.body})]},se.key)]})})}const eVe=[{id:"onboarding-wizard-v1",priority:5,component:JGe}],tVe=typeof window<"u"&&window.api?.isE2E===!0,MY=b.createContext(!1);function nVe(){return b.useContext(MY)}function rVe({children:t}){const{api:e}=Kt(),[n,r]=b.useState([]),[a,s]=b.useState(!1);b.useEffect(()=>{if(tVe||!e){s(!0);return}(async()=>{try{const u=await e.splashScreens.getViewedSplashScreens(),d=eVe.filter(m=>m.priority===0?!1:!u.includes(m.id)).sort((m,h)=>h.priority-m.priority);r(d)}catch(u){console.error("Failed to load viewed splash screens:",u),r([])}finally{s(!0)}})()},[e]);const i=n[0]??null,o=b.useCallback(async()=>{if(!(!i||!e)){try{await e.splashScreens.markSplashScreenViewed({splashId:i.id})}catch(u){console.error("Failed to mark splash screen as viewed:",u)}r(u=>u.slice(1))}},[i,e]),c=a&&i!==null;return l.jsxs(MY.Provider,{value:c,children:[t,a&&i&&l.jsx(i.component,{onDismiss:()=>void o()})]})}const _$={creation:[{target:"model-selector",title:"Choose Your Model",content:"Select which AI model to use. Different models have different capabilities and costs.",position:"bottom"},{target:"mode-selector",title:"Exec vs Plan Mode",content:"Exec mode lets the AI edit files and run commands. Plan mode is read-only - use it to scope the agent's implementation.",position:"top"},{target:"trunk-branch",title:"Branch From",content:"Choose which branch to create your workspace from.",position:"top"},{target:"runtime-selector",title:"Runtime Environment",content:"Run locally using git worktrees, or connect via SSH to setup the worktree on a remote machine in an isolated environment.",position:"top"}],workspace:[{target:"terminal-button",title:"Terminal Access",content:"Open a terminal window in your workspace.",position:"bottom"}]},DY=b.createContext(null);function LY(){const t=b.useContext(DY);if(!t)throw new Error("useTutorial must be used within a TutorialProvider");return t}function aVe(t){const e=ae.c(32),{children:n}=t,[r,a]=b.useState(oVe),s=nVe(),[i,o]=b.useState(null),[c,u]=b.useState(0);let d,m;e[0]!==r?(d=()=>{rn(_A,r)},m=[r],e[0]=r,e[1]=d,e[2]=m):(d=e[1],m=e[2]),b.useEffect(d,m);let h;e[3]!==r.completed?(h=$=>r.completed[$]===!0,e[3]=r.completed,e[4]=h):h=e[4];const p=h;let f;e[5]!==r.disabled?(f=()=>r.disabled,e[5]=r.disabled,e[6]=f):f=e[6];const g=f;let x;e[7]!==i||e[8]!==r.completed||e[9]!==r.disabled?(x=$=>{r.disabled||r.completed[$]||i===null&&(o($),u(0))},e[7]=i,e[8]=r.completed,e[9]=r.disabled,e[10]=x):x=e[10];const y=x;let w;e[11]!==i||e[12]!==c?(w=()=>{if(i===null)return;const $=_$[i];c<$.length-1?u(iVe):(a(E=>({...E,completed:{...E.completed,[i]:!0}})),o(null),u(0))},e[11]=i,e[12]=c,e[13]=w):w=e[13];const v=w;let k;e[14]!==i?(k=()=>{i!==null&&(a($=>({...$,completed:{...$.completed,[i]:!0}})),o(null),u(0))},e[14]=i,e[15]=k):k=e[15];const C=k;let _;e[16]===Symbol.for("react.memo_cache_sentinel")?(_=()=>{a(sVe),o(null),u(0)},e[16]=_):_=e[16];const S=_;let T;e[17]!==p||e[18]!==g||e[19]!==y?(T={startSequence:y,isSequenceCompleted:p,isTutorialDisabled:g},e[17]=p,e[18]=g,e[19]=y,e[20]=T):T=e[20];const N=T,j=i?_$[i]:null,R=j?.[c];let I;e[21]!==j||e[22]!==R||e[23]!==c||e[24]!==C||e[25]!==v||e[26]!==s?(I=!s&&R&&j&&l.jsx(GGe,{step:R,currentStep:c+1,totalSteps:j.length,onNext:v,onDismiss:C,onDisableTutorial:S}),e[21]=j,e[22]=R,e[23]=c,e[24]=C,e[25]=v,e[26]=s,e[27]=I):I=e[27];let A;return e[28]!==n||e[29]!==N||e[30]!==I?(A=l.jsxs(DY.Provider,{value:N,children:[n,I]}),e[28]=n,e[29]=N,e[30]=I,e[31]=A):A=e[31],A}function sVe(t){return{...t,disabled:!0}}function iVe(t){return t+1}function oVe(){return _n(_A,hZ)}class tj{constructor(){this.canvas=null,this.ctx=null,this.particles=[],this.rafId=null,this.lastFrameTimeMs=null,this.shakeEl=null,this.shakeTimeoutId=null,this.shakePrevTranslate=null,this.shakePrevRotate=null,this.lastShakeTimeMs=0,this.audioCtx=null,this.audioMasterGain=null,this.audioNoiseBuffer=null,this.audioInitFailed=!1,this.lastSoundTimeMs=0,this.resizeListenerActive=!1,this.lastBurstTimeMs=0,this.colorSeed=Math.random(),this.frame=e=>{if(this.rafId=null,!this.ctx||this.particles.length===0){this.stopAnimation();return}const r=this.lastFrameTimeMs??=e,a=Math.min(34,Math.max(0,e-r));this.lastFrameTimeMs=e,this.step(a),this.render(),this.particles.length>0&&(this.rafId=requestAnimationFrame(this.frame))},this.handleResize=()=>{this.resizeCanvasToWindow()}}static{this.MAX_PARTICLES=500}setCanvas(e){if(this.canvas!==e){if(this.canvas=e,this.ctx=e?.getContext("2d")??null,this.setResizeListenerActive(!!(e&&this.ctx)),!e||!this.ctx){this.stop();return}this.resizeCanvasToWindow()}}setShakeElement(e){this.shakeEl!==e&&(this.clearShake(),this.shakeEl=e)}burst(e,n,r=1,a){const s=Math.max(1,Math.min(12,Math.floor(r))),i=a?.kind??"insert";if(this.maybeShake(s),this.maybePlaySounds(s,i),!this.ctx||!this.canvas)return;const o=performance.now();if(o-this.lastBurstTimeMs<25)return;this.lastBurstTimeMs=o;const c=5+Math.floor(Math.random()*11),u=this.particles.length+c-tj.MAX_PARTICLES;u>0&&this.particles.splice(0,u);for(let d=0;d<c;d++){const m=(-1+Math.random()*2)*60,h=i==="delete"?150+Math.random()*100:-(150+Math.random()*100);this.colorSeed=(this.colorSeed+.618033988749895)%1;const p=Math.floor(i==="delete"?10+Math.random()*40:this.colorSeed*360),f=i==="delete"?60:65,g=240+Math.random()*260;this.particles.push({x:e,y:n,vx:m,vy:h,size:2+Math.random()*2,ttlMs:g,lifeMs:g,color:`hsl(${p}, 100%, ${f}%)`})}this.startAnimationIfNeeded()}stop(){this.particles=[],this.stopAnimation(),this.clearShake(),this.stopAudio()}startAnimationIfNeeded(){this.rafId===null&&(this.lastFrameTimeMs=null,this.rafId=requestAnimationFrame(this.frame))}stopAnimation(){this.rafId!==null&&cancelAnimationFrame(this.rafId),this.rafId=null,this.lastFrameTimeMs=null;const e=this.ctx;e&&e.clearRect(0,0,window.innerWidth,window.innerHeight)}step(e){const n=e/1e3,r=300;let a=0;for(const s of this.particles)s.vy+=r*n,s.x+=s.vx*n,s.y+=s.vy*n,s.vx*=.985,s.vy*=.985,s.lifeMs-=e,s.lifeMs>0&&(this.particles[a]=s,a++);this.particles.length=a}render(){const e=this.ctx;if(!e)return;const n=window.innerWidth,r=window.innerHeight;e.clearRect(0,0,n,r),e.save(),e.globalCompositeOperation="lighter";for(const a of this.particles){const s=Math.max(0,Math.min(1,a.lifeMs/a.ttlMs));e.globalAlpha=s,e.fillStyle=a.color,e.fillRect(a.x,a.y,a.size,a.size)}e.restore()}maybeShake(e){const n=this.shakeEl;if(!n||typeof window<"u"&&window.matchMedia?.("(prefers-reduced-motion: reduce)")?.matches)return;const r=performance.now();if(r-this.lastShakeTimeMs<100)return;const a=Math.min(.35,.06*e);if(Math.random()>a)return;this.lastShakeTimeMs=r;const s=1+e*.7,i=(Math.random()*2-1)*s,o=(Math.random()*2-1)*s,c=(Math.random()*2-1)*(s*.15);this.shakeTimeoutId!==null&&(window.clearTimeout(this.shakeTimeoutId),this.shakeTimeoutId=null),this.shakePrevTranslate??=n.style.getPropertyValue("translate"),this.shakePrevRotate??=n.style.getPropertyValue("rotate"),n.style.setProperty("translate",`${i}px ${o}px`),n.style.setProperty("rotate",`${c}deg`),this.shakeTimeoutId=window.setTimeout(()=>{this.clearShake()},75)}clearShake(){const e=this.shakeEl;if(!e){this.shakePrevTranslate=null,this.shakePrevRotate=null;return}this.shakeTimeoutId!==null&&(window.clearTimeout(this.shakeTimeoutId),this.shakeTimeoutId=null),!(this.shakePrevTranslate===null&&this.shakePrevRotate===null)&&(this.shakePrevTranslate!==null&&(this.shakePrevTranslate?e.style.setProperty("translate",this.shakePrevTranslate):e.style.removeProperty("translate")),this.shakePrevRotate!==null&&(this.shakePrevRotate?e.style.setProperty("rotate",this.shakePrevRotate):e.style.removeProperty("rotate")),this.shakePrevTranslate=null,this.shakePrevRotate=null)}maybePlaySounds(e,n){const r=performance.now();if(r-this.lastSoundTimeMs<30)return;let a=!1;const i=Math.min(.95,(n==="delete"?.35:.55)+e*.06);Math.random()<=i&&(this.playTypewriter(e,n),a=!0);const c=Math.min(n==="delete"?.2:.12,(n==="delete"?.03:.015)*e);Math.random()<=c&&(this.playGun(e,n),a=!0),a&&(this.lastSoundTimeMs=r)}stopAudio(){const e=this.audioCtx;e&&(this.audioCtx=null,this.audioMasterGain=null,this.audioNoiseBuffer=null,e.close().catch(()=>{}))}ensureAudioContext(){if(this.audioInitFailed)return null;const e=this.audioCtx;if(e&&e.state!=="closed")return e;if(typeof window>"u")return null;const n=window.AudioContext??window.webkitAudioContext;if(!n)return this.audioInitFailed=!0,null;try{const r=new n,a=r.createGain();return a.gain.value=.12,a.connect(r.destination),this.audioCtx=r,this.audioMasterGain=a,this.audioNoiseBuffer=null,r}catch{return this.audioInitFailed=!0,null}}ensureNoiseBuffer(e){if(this.audioNoiseBuffer)return this.audioNoiseBuffer;try{const r=Math.max(1,Math.floor(e.sampleRate*.18)),a=e.createBuffer(1,r,e.sampleRate),s=a.getChannelData(0);for(let i=0;i<s.length;i++)s[i]=Math.random()*2-1;return this.audioNoiseBuffer=a,a}catch{return null}}tryResumeAudioContext(e){e.state==="suspended"&&e.resume().catch(()=>{})}safeDisconnect(...e){for(const n of e)try{n.disconnect()}catch{}}playTypewriter(e,n){const r=this.ensureAudioContext(),a=this.audioMasterGain;if(!r||!a)return;const s=this.ensureNoiseBuffer(r);if(!s)return;this.tryResumeAudioContext(r);const i=r.currentTime,o=(Math.max(1,Math.min(12,e))-1)/11,c=r.createBufferSource();c.buffer=s,c.playbackRate.value=n==="delete"?1.15:1;const u=r.createBiquadFilter();u.type="highpass",u.frequency.setValueAtTime(n==="delete"?900:1200,i),u.Q.setValueAtTime(.7,i);const d=r.createGain(),m=(n==="delete"?.55:.65)+o*.15;d.gain.setValueAtTime(1e-4,i),d.gain.linearRampToValueAtTime(m,i+.002),d.gain.exponentialRampToValueAtTime(1e-4,i+.04);const h=r.createOscillator();h.type="triangle";const p=n==="delete"?150:180;h.frequency.setValueAtTime(p+o*30,i);const f=r.createGain(),g=(n==="delete"?.18:.15)+o*.05;f.gain.setValueAtTime(1e-4,i),f.gain.linearRampToValueAtTime(g,i+.001),f.gain.exponentialRampToValueAtTime(1e-4,i+.03),c.connect(u),u.connect(d),d.connect(a),h.connect(f),f.connect(a);const x=i+.06;c.start(i),c.stop(x),h.start(i),h.stop(x),c.onended=()=>{this.safeDisconnect(c,u,d,h,f)}}playGun(e,n){const r=this.ensureAudioContext(),a=this.audioMasterGain;if(!r||!a)return;const s=this.ensureNoiseBuffer(r);if(!s)return;this.tryResumeAudioContext(r);const i=r.currentTime,o=(Math.max(1,Math.min(12,e))-1)/11,c=r.createBufferSource();c.buffer=s,c.playbackRate.value=n==="delete"?.75:.85;const u=r.createBiquadFilter();u.type="lowpass",u.frequency.setValueAtTime(n==="delete"?900:700,i),u.Q.setValueAtTime(.9,i);const d=r.createGain(),m=(n==="delete"?.38:.33)+o*.08;d.gain.setValueAtTime(1e-4,i),d.gain.linearRampToValueAtTime(m,i+.003),d.gain.exponentialRampToValueAtTime(1e-4,i+.12);const h=r.createOscillator();h.type="square";const p=(n==="delete"?220:200)+o*50,f=n==="delete"?70:90;h.frequency.setValueAtTime(p,i),h.frequency.exponentialRampToValueAtTime(f,i+.09);const g=r.createGain(),x=(n==="delete"?.18:.14)+o*.04;g.gain.setValueAtTime(1e-4,i),g.gain.linearRampToValueAtTime(x,i+.003),g.gain.exponentialRampToValueAtTime(1e-4,i+.1),c.connect(u),u.connect(d),d.connect(a),h.connect(g),g.connect(a);const y=i+.14;c.start(i),c.stop(y),h.start(i),h.stop(y),c.onended=()=>{this.safeDisconnect(c,u,d,h,g)}}setResizeListenerActive(e){if(this.resizeListenerActive!==e){if(this.resizeListenerActive=e,e){window.addEventListener("resize",this.handleResize,{passive:!0});return}window.removeEventListener("resize",this.handleResize)}}resizeCanvasToWindow(){const e=this.canvas,n=this.ctx;if(!e||!n)return;const r=window.devicePixelRatio||1,a=Math.max(1,Math.floor(window.innerWidth*r)),s=Math.max(1,Math.floor(window.innerHeight*r));(e.width!==a||e.height!==s)&&(e.width=a,e.height=s),e.style.width="100%",e.style.height="100%",n.setTransform(r,0,0,r,0,0)}}function lVe(t){const e=ae.c(4),n=b.useRef(null);let r,a;e[0]!==t.engine?(r=()=>{const i=n.current;return t.engine.setCanvas(i),t.engine.setShakeElement(document.getElementById("root")),()=>{t.engine.setCanvas(null),t.engine.setShakeElement(null)}},a=[t.engine],e[0]=t.engine,e[1]=r,e[2]=a):(r=e[1],a=e[2]),b.useEffect(r,a);let s;return e[3]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx("canvas",{ref:n,className:"pointer-events-none fixed inset-0 z-[9999] h-full w-full","data-component":"PowerModeOverlay"}),e[3]=s):s=e[3],s}const OY=b.createContext(null);function cVe(){const t=b.useContext(OY);if(!t)throw new Error("usePowerMode must be used within a PowerModeProvider");return t}function uVe(t){const e=Number.parseFloat(t.lineHeight);if(Number.isFinite(e)&&e>0)return e;const n=Number.parseFloat(t.fontSize);return Number.isFinite(n)&&n>0?n*1.2:16}function Sg(t){const e=Number.parseFloat(t);return Number.isFinite(e)?e:0}function dVe(t){if(t.current)return t.current;const e=document.createElement("div");e.setAttribute("aria-hidden","true"),e.style.position="fixed",e.style.visibility="hidden",e.style.pointerEvents="none",e.style.whiteSpace="pre-wrap",e.style.wordWrap="break-word",e.style.overflowWrap="break-word",e.style.overflow="hidden",e.style.top="0",e.style.left="0",e.style.zIndex="-1";const n=document.createTextNode(""),r=document.createElement("span");r.textContent="";const a=document.createTextNode("");return e.appendChild(n),e.appendChild(r),e.appendChild(a),document.body.appendChild(e),t.current={el:e,beforeTextNode:n,caretSpan:r,afterTextNode:a,lastStyleSignature:null,lineHeightPx:16,paddingLeftPx:0,paddingRightPx:0,paddingTopPx:0,paddingBottomPx:0,lastContentWidthPx:null,lastContentHeightPx:null,lastTopPx:null,lastLeftPx:null},t.current}function mVe(t,e){const n=window.getComputedStyle(t),r=t.getBoundingClientRect();e.lastTopPx!==r.top&&(e.el.style.top=`${r.top}px`,e.lastTopPx=r.top),e.lastLeftPx!==r.left&&(e.el.style.left=`${r.left}px`,e.lastLeftPx=r.left);const a=[n.padding,n.border,n.font,n.letterSpacing,n.lineHeight,n.tabSize,n.textTransform,n.textAlign,n.wordBreak,n.overflowWrap,n.direction].join("|");e.lastStyleSignature!==a&&(e.lastStyleSignature=a,e.el.style.boxSizing="content-box",e.el.style.padding=n.padding,e.el.style.border=n.border,e.el.style.font=n.font,e.el.style.letterSpacing=n.letterSpacing,e.el.style.lineHeight=n.lineHeight,e.el.style.tabSize=n.tabSize,e.el.style.textTransform=n.textTransform,e.el.style.textAlign=n.textAlign,e.el.style.direction=n.direction,e.el.style.whiteSpace="pre-wrap",e.el.style.wordBreak=n.wordBreak,e.el.style.overflowWrap=n.overflowWrap,e.paddingLeftPx=Sg(n.paddingLeft),e.paddingRightPx=Sg(n.paddingRight),e.paddingTopPx=Sg(n.paddingTop),e.paddingBottomPx=Sg(n.paddingBottom),e.lineHeightPx=uVe(n));const s=Math.max(0,t.clientWidth-e.paddingLeftPx-e.paddingRightPx),i=Math.max(0,t.clientHeight-e.paddingTopPx-e.paddingBottomPx);return e.lastContentWidthPx!==s&&(e.el.style.width=`${s}px`,e.lastContentWidthPx=s),e.lastContentHeightPx!==i&&(e.el.style.height=`${i}px`,e.lastContentHeightPx=i),{lineHeightPx:e.lineHeightPx}}function hVe(t,e,n){try{const r=n??t.selectionStart??t.value.length,a=Number.isFinite(r)?Math.max(0,Math.min(t.value.length,r)):t.value.length,{lineHeightPx:s}=mVe(t,e);e.beforeTextNode.textContent=t.value.slice(0,a),e.afterTextNode.textContent=t.value.slice(a);const i=e.caretSpan.getBoundingClientRect(),o=i.left-t.scrollLeft,c=i.top-t.scrollTop+s/2;return!Number.isFinite(o)||!Number.isFinite(c)?null:{x:o,y:c}}catch{return null}}function pVe(t){const[e,n]=Tt(pZ,!1,{listener:!0}),r=b.useRef(new tj),a=b.useRef(null);b.useEffect(()=>{const o=c=>{c.repeat||bn(c,st.TOGGLE_POWER_MODE)&&(c.preventDefault(),es(c),n(u=>!u))};return window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)}},[n]),b.useEffect(()=>{const o=r.current;return()=>{a.current?.el.remove(),a.current=null,o.stop()}},[]);const s=b.useCallback((o,c=1,u="insert",d)=>{if(!e)return;const m=r.current,h=o.getBoundingClientRect(),p={x:h.left+h.width-12,y:h.top+h.height-12},f=dVe(a),g=hVe(o,f,d)??p;m.burst(g.x,g.y,c,{kind:u})},[e]),i=b.useMemo(()=>({enabled:e,burstFromTextarea:s}),[e,s]);return l.jsxs(OY.Provider,{value:i,children:[t.children,e&&l.jsx(lVe,{engine:r.current})]})}function fVe(){if(typeof window>"u"||typeof navigator>"u")return!1;const t=typeof navigator.maxTouchPoints=="number"?navigator.maxTouchPoints:0;return"ontouchstart"in window||t>0}const C$=fVe(),jg=typeof window<"u"&&typeof MediaRecorder<"u",a3=typeof window<"u"&&typeof navigator<"u"&&typeof navigator.mediaDevices?.getUserMedia=="function";let m1=!1;typeof window<"u"&&typeof window.addEventListener=="function"&&(window.addEventListener("keydown",t=>{t.key===" "&&(m1=!0)},!0),window.addEventListener("keyup",t=>{t.key===" "&&(m1=!1)},!0),window.addEventListener("blur",()=>{m1=!1}));function gVe(t){const[e,n]=b.useState("idle"),r=b.useRef(null),[a,s]=b.useState(null),i=b.useRef(null),o=b.useRef([]),c=b.useRef(!1),u=b.useRef(!1),d=b.useRef(0),m=b.useRef(t);b.useEffect(()=>{m.current=t},[t]);const h=b.useCallback(async v=>{n("transcribing");const k=c.current;c.current=!1;const C=(Date.now()-d.current)/1e3;try{const _=await v.arrayBuffer(),S=btoa(new Uint8Array(_).reduce((R,I)=>R+String.fromCharCode(I),"")),T=m.current.api;if(!T){m.current.onError?.("Voice API not available"),wd(C,!1);return}const N=await T.voice.transcribe({audioBase64:S});if(!N.success){m.current.onError?.(N.error),wd(C,!1);return}const j=N.data.trim();if(!j){wd(C,!0);return}wd(C,!0),m.current.onTranscript(j),k&&setTimeout(()=>m.current.onSend?.(),0)}catch(_){const S=_ instanceof Error?_.message:String(_);m.current.onError?.(`Transcription failed: ${S}`),wd(C,!1)}finally{n("idle")}},[]),p=b.useCallback(()=>{i.current?.getTracks().forEach(v=>v.stop()),i.current=null},[]),f=b.useCallback(async()=>{if(jg&&a3&&!C$&&e==="idle"&&m.current.openAIKeySet){n("requesting");try{const k=await navigator.mediaDevices.getUserMedia({audio:!0});i.current=k;const C=MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":"audio/webm",_=new MediaRecorder(k,{mimeType:C});o.current=[],_.ondataavailable=S=>{S.data.size>0&&o.current.push(S.data)},_.onstop=()=>{const S=u.current;u.current=!1;const T=new Blob(o.current,{type:C});o.current=[],p(),S?n("idle"):h(T)},_.onerror=()=>{m.current.onError?.("Recording failed"),p(),n("idle")},r.current=_,s(_),_.start(),d.current=Date.now(),n("recording")}catch(k){const C=k instanceof Error?k.message:String(k),_=C.includes("Permission denied")||C.includes("NotAllowed");m.current.onError?.(_?"Microphone access denied. Please allow microphone access and try again.":`Failed to start recording: ${C}`),n("idle")}}},[e,h,p]),g=b.useCallback(v=>{v?.send&&(c.current=!0),r.current?.state!=="inactive"&&(r.current?.stop(),r.current=null,s(null))},[]),x=b.useCallback(()=>{u.current=!0,g()},[g]),y=b.useCallback(()=>{e==="recording"?g():e==="idle"&&f()},[e,f,g]);b.useEffect(()=>()=>{r.current?.stop(),p()},[p]);const w=b.useRef(!1);return b.useEffect(()=>{if(!t.useRecordingKeybinds||e!=="recording"){w.current=!1;return}w.current=m1;const v=C=>{C.key===" "&&(w.current=!1)},k=C=>{C.key===" "&&!w.current?(C.preventDefault(),g({send:!0})):C.key==="Escape"?(C.preventDefault(),es(C),x()):bn(C,st.TOGGLE_VOICE_INPUT)&&(C.preventDefault(),g())};return window.addEventListener("keyup",v,!0),window.addEventListener("keydown",k,!0),()=>{window.removeEventListener("keyup",v,!0),window.removeEventListener("keydown",k,!0)}},[t.useRecordingKeybinds,e,g,x]),{state:e,isSupported:jg&&a3,isApiKeySet:m.current.openAIKeySet,shouldShowUI:jg&&!C$,requiresSecureContext:jg&&!a3,mediaRecorder:a,start:()=>void f(),stop:g,cancel:x,toggle:y}}const bVe={idle:"text-muted/50 hover:text-muted",requesting:"text-amber-500 animate-pulse",transcribing:"text-amber-500"},xVe=t=>{const e=ae.c(25);if(!t.shouldShowUI)return null;const n=t.requiresSecureContext,r=!n&&!t.isApiKeySet,a=n||r,s=a?n?"Voice input (requires HTTPS)":"Voice input (requires OpenAI API key)":t.state==="recording"?"Stop recording":t.state==="transcribing"?"Transcribing...":"Voice input",i=t.state==="recording",o=t.state==="transcribing",c=a?"text-muted/50":i?"animate-pulse":bVe[t.state],u=o?pn:Jee,d=t.onToggle,m=(t.disabled??!1)||o||a;let h;e[0]!==c?(h=ce("inline-flex items-center justify-center rounded p-0.5 transition-colors duration-150","disabled:cursor-not-allowed disabled:opacity-40",c),e[0]=c,e[1]=h):h=e[1];let p;e[2]!==a||e[3]!==i||e[4]!==t.agentColor?(p=i&&!a?{color:t.agentColor}:void 0,e[2]=a,e[3]=i,e[4]=t.agentColor,e[5]=p):p=e[5];const f=o&&"animate-spin";let g;e[6]!==f?(g=ce("h-4 w-4",f),e[6]=f,e[7]=g):g=e[7];let x;e[8]!==u||e[9]!==g?(x=l.jsx(u,{className:g,strokeWidth:1.5}),e[8]=u,e[9]=g,e[10]=x):x=e[10];let y;e[11]!==i||e[12]!==s||e[13]!==t.onToggle||e[14]!==m||e[15]!==h||e[16]!==p||e[17]!==x?(y=l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",onClick:d,disabled:m,"aria-label":s,"aria-pressed":i,className:h,style:p,children:x})}),e[11]=i,e[12]=s,e[13]=t.onToggle,e[14]=m,e[15]=h,e[16]=p,e[17]=x,e[18]=y):y=e[18];let w;e[19]!==r||e[20]!==n?(w=l.jsx(Ke,{children:n?l.jsxs(l.Fragment,{children:["Voice input requires a secure connection.",l.jsx("br",{}),"Use HTTPS or access via localhost."]}):r?l.jsxs(l.Fragment,{children:["Voice input requires OpenAI API key.",l.jsx("br",{}),"Configure in Settings  Providers."]}):l.jsxs(l.Fragment,{children:[l.jsx("strong",{children:"Voice input"}),"  press space on empty input",l.jsx("br",{}),"or ",Bt(st.TOGGLE_VOICE_INPUT)," anytime",l.jsx("br",{}),l.jsx("br",{}),"While recording: space sends, esc cancels"]})}),e[19]=r,e[20]=n,e[21]=w):w=e[21];let v;return e[22]!==y||e[23]!==w?(v=l.jsxs(Ye,{children:[y,w]}),e[22]=y,e[23]=w,e[24]=v):v=e[24],v};function yVe(t){return typeof t=="object"&&t!==null}function wVe(t){return yVe(t)?typeof t.id=="string"&&typeof t.url=="string"&&typeof t.mediaType=="string"&&(t.filename===void 0||typeof t.filename=="string"):!1}function vVe(t){if(!Array.isArray(t))return[];const e=[];for(const n of t){if(!wVe(n))return[];e.push({id:n.id,url:n.url,mediaType:n.mediaType,filename:n.filename})}return e}function S$(t){return vVe(_n(t,[]))}function kVe(t){return JSON.stringify(t).length}const _Ve=1e4,PY=50,j$=_Ve/PY,s3=1e3/60;function CVe(t){if(!t.startsWith("var("))return t;const e=/^var\(([^,)]+)/.exec(t);if(!e)return t;const n=e[1].trim();return getComputedStyle(document.documentElement).getPropertyValue(n).trim()||t}const SVe=t=>{const e=ae.c(26),n=t.state==="recording",a=t.state==="requesting"?"Requesting microphone...":"Transcribing...",s=n?"cursor-pointer":"cursor-wait border-amber-500 bg-amber-500/10";let i;e[0]!==s?(i=ce("mb-1 flex w-full flex-col items-center justify-center gap-1 rounded-md border px-3 py-2 transition-all focus:outline-none",s),e[0]=s,e[1]=i):i=e[1];const o=i,c=n?t.onStop:void 0,u=!n,d=n?"Stop recording":a;let m;e[2]!==n||e[3]!==t.agentColor?(m=n?{borderColor:t.agentColor,backgroundColor:`color-mix(in srgb, ${t.agentColor}, transparent 90%)`}:void 0,e[2]=n,e[3]=t.agentColor,e[4]=m):m=e[4];let h;e[5]!==n||e[6]!==t.agentColor||e[7]!==t.mediaRecorder?(h=l.jsx("div",{className:"flex h-8 w-full items-center justify-center",children:n&&t.mediaRecorder?l.jsx(TVe,{mediaRecorder:t.mediaRecorder,color:t.agentColor,height:32}):l.jsx(pn,{className:"h-5 w-5 animate-spin text-amber-500"})}),e[5]=n,e[6]=t.agentColor,e[7]=t.mediaRecorder,e[8]=h):h=e[8];let p;e[9]!==n||e[10]!==t.agentColor?(p=n?{color:t.agentColor}:void 0,e[9]=n,e[10]=t.agentColor,e[11]=p):p=e[11];let f;e[12]!==n||e[13]!==a?(f=n?l.jsx(jVe,{}):l.jsx("span",{className:"text-amber-500",children:a}),e[12]=n,e[13]=a,e[14]=f):f=e[14];let g;e[15]!==p||e[16]!==f?(g=l.jsx("span",{className:"text-xs font-medium",style:p,children:f}),e[15]=p,e[16]=f,e[17]=g):g=e[17];let x;return e[18]!==o||e[19]!==c||e[20]!==u||e[21]!==d||e[22]!==m||e[23]!==h||e[24]!==g?(x=l.jsxs("button",{type:"button",onClick:c,disabled:u,className:o,"aria-label":d,style:m,children:[h,g]}),e[18]=o,e[19]=c,e[20]=u,e[21]=d,e[22]=m,e[23]=h,e[24]=g,e[25]=x):x=e[25],x},jVe=()=>{const t=ae.c(3);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsx("span",{className:"opacity-70",children:"space"}),t[0]=e):e=t[0];let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=l.jsx("span",{className:"opacity-70",children:Bt(st.TOGGLE_VOICE_INPUT)}),t[1]=n):n=t[1];let r;return t[2]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsxs(l.Fragment,{children:[e," send "," ",n," review "," ",l.jsx("span",{className:"opacity-70",children:"esc"})," cancel"]}),t[2]=r):r=t[2],r},TVe=t=>{const e=b.useRef(null),n=b.useRef(null),[r,a]=b.useState(600),[s,i]=b.useState(!1),o=b.useRef(null),c=b.useRef(null),u=b.useRef(new Array(j$).fill(0)),d=b.useRef(null),m=b.useRef(null),h=b.useRef(0),p=b.useRef(t.color),f=b.useRef(null);return b.useLayoutEffect(()=>{const g=n.current;if(!g)return;const x=new ResizeObserver(y=>{for(const w of y)a(w.contentRect.width)});return x.observe(g),a(g.offsetWidth),()=>x.disconnect()},[]),b.useEffect(()=>{const g=t.mediaRecorder.stream;if(g)try{const x=new AudioContext,y=x.createAnalyser();return y.fftSize=256,y.smoothingTimeConstant=.3,x.createMediaStreamSource(g).connect(y),o.current=x,c.current=y,f.current=new Uint8Array(y.frequencyBinCount),u.current=new Array(j$).fill(0),h.current=performance.now(),()=>{x.close(),o.current=null,c.current=null,f.current=null}}catch(x){console.error("Failed to initialize audio visualization:",x),i(!0)}},[t.mediaRecorder]),b.useEffect(()=>{if(s)return;p.current=CVe(t.color);const g=y=>{const w=e.current,v=c.current,k=f.current;if(!w||!v||!k)return;if(y-h.current>=PY){v.getByteTimeDomainData(k);let R=0;for(const A of k){const $=(A-128)/128;R+=$*$}const I=Math.sqrt(R/k.length);u.current.shift(),u.current.push(I),h.current=y}const C=w.getContext("2d");if(!C)return;C.clearRect(0,0,w.width,w.height);const _=u.current,S=_.length,T=w.width/(1.4*S-.4),N=T*.4,j=w.height/2;C.fillStyle=p.current;for(let R=0;R<S;R++){const I=Math.min(1,_[R]*3),A=Math.max(2,I*w.height*.9),$=R*(T+N),E=j-A/2;C.beginPath(),C.roundRect?C.roundRect($,E,T,A,1):C.rect($,E,T,A),C.fill()}},x=y=>{m.current??=y-s3;const w=y-m.current;w>=s3&&(g(y),m.current=y-w%s3),d.current=requestAnimationFrame(x)};return d.current=requestAnimationFrame(x),()=>{d.current!==null&&cancelAnimationFrame(d.current),d.current=null,m.current=null}},[t.color,s]),s?l.jsx("div",{className:"flex h-full w-full items-center justify-center gap-1",children:[0,1,2,3,4].map(g=>l.jsx("div",{className:"animate-pulse rounded-full",style:{width:4,height:12+g%3*4,backgroundColor:t.color,animationDelay:`${g*100}ms`}},g))}):l.jsx("div",{ref:n,className:"flex h-full w-full items-center justify-center",children:l.jsx("canvas",{ref:e,width:r,height:t.height,style:{width:r,height:t.height}})})},EVe=t=>{const e=ae.c(23),{reviews:n,onDetachAll:r,onDetach:a,onCheck:s,onDelete:i,onUpdateNote:o}=t;if(n.length===0)return null;const c=n.length!==1&&"s";let u;e[0]!==n.length||e[1]!==c?(u=l.jsxs("span",{className:"text-muted font-medium",children:[n.length," review",c," attached"]}),e[0]=n.length,e[1]=c,e[2]=u):u=e[2];let d;e[3]!==r||e[4]!==n.length?(d=r&&n.length>1&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsxs("button",{type:"button",onClick:r,className:"text-muted hover:text-error flex items-center gap-1 text-xs transition-colors",children:[l.jsx(ir,{className:"size-3"}),"Clear all"]})}),l.jsx(Ke,{children:"Remove all reviews from message"})]}),e[3]=r,e[4]=n.length,e[5]=d):d=e[5];let m;e[6]!==u||e[7]!==d?(m=l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u,d]}),e[6]=u,e[7]=d,e[8]=m):m=e[8];let h;if(e[9]!==s||e[10]!==i||e[11]!==a||e[12]!==o||e[13]!==n){let f;e[15]!==s||e[16]!==i||e[17]!==a||e[18]!==o?(f=g=>l.jsx(WO,{data:g.data,onComplete:s?()=>s(g.id):void 0,onDetach:a?()=>a(g.id):void 0,onDelete:i?()=>i(g.id):void 0,onEditComment:o?x=>o(g.id,x):void 0},g.id),e[15]=s,e[16]=i,e[17]=a,e[18]=o,e[19]=f):f=e[19],h=n.map(f),e[9]=s,e[10]=i,e[11]=a,e[12]=o,e[13]=n,e[14]=h}else h=e[14];let p;return e[20]!==m||e[21]!==h?(p=l.jsxs("div",{className:"border-border max-h-[50vh] space-y-2 overflow-y-auto border-b px-1.5 py-1.5",children:[m,h]}),e[20]=m,e[21]=h,e[22]=p):p=e[22],p};function NVe(t){return t!==null&&t.type==="unknown-command"}function T$(t,e){return FA({rawCommand:t,commandPrefix:`/${e.name}`,skillName:e.name,scope:e.scope})}function $Ve(t,e){return e?`Using skill ${t}: ${e}`:`Use skill ${t}`}async function AVe(t){if(!NVe(t.parsed))return null;const e=t.parsed.command,n=`/${e}`,r=t.messageText.slice(n.length);if(!(r.length===0||/^\s/.test(r)))return null;let s=t.agentSkillDescriptors.find(i=>i.name===e);if(!s&&t.api&&t.discovery)try{const i=t.discovery.kind==="project"?await t.api.agentSkills.get({projectPath:t.discovery.projectPath,skillName:e}):await t.api.agentSkills.get({workspaceId:t.discovery.workspaceId,disableWorkspaceAgents:t.discovery.disableWorkspaceAgents,skillName:e});s={name:i.frontmatter.name,description:i.frontmatter.description,scope:i.scope}}catch{}return s?{descriptor:s,userText:$Ve(s.name,r.trimStart())}:null}async function IVe(t){const e=lY(t.messageText),n=await AVe({messageText:t.messageText,parsed:e,agentSkillDescriptors:t.agentSkillDescriptors,api:t.api,discovery:t.discovery});return{parsed:n?null:e,skillInvocation:n}}function E$(t,e){if(t.mode==="docker")return t.image.trim()?null:{mode:"docker",kind:"missingImage"};if(t.mode==="ssh"){if(t.coder){if(t.coder.existingWorkspace){if(!(t.coder.workspaceName??"").trim())return{mode:"ssh",kind:"missingCoderWorkspace"}}else{if(!(t.coder.template??"").trim())return{mode:"ssh",kind:"missingCoderTemplate"};if(e>=2&&!(t.coder.preset??"").trim())return{mode:"ssh",kind:"missingCoderPreset"}}return null}return t.host.trim()?null:{mode:"ssh",kind:"missingHost"}}return null}function RVe(t,e){return t.map((n,r)=>({id:`${e}-${r}`,url:n.url,mediaType:n.mediaType,filename:n.filename}))}function FY(t){return Math.ceil(t.length/4)}function MVe(t){let e=0;for(const n of t)n.mediaType?.startsWith("image/")?e+=1500:n.url&&(e+=Math.ceil(n.url.length*.75/4));return e}function DVe(t){const e=t.toLowerCase();return e.includes("opus")?{input:15e-6,output:75e-6}:e.includes("sonnet")?{input:3e-6,output:15e-6}:e.includes("haiku")?{input:25e-8,output:125e-8}:e.includes("gpt-4o")?{input:25e-7,output:1e-5}:e.includes("gpt-4")?{input:1e-5,output:3e-5}:e.includes("gpt-3.5")?{input:5e-7,output:15e-7}:e.includes("gemini-2.0-flash")?{input:0,output:0}:e.includes("gemini-pro")?{input:125e-8,output:375e-8}:e.includes("deepseek")?{input:14e-7,output:28e-7}:{input:3e-6,output:15e-6}}const LVe=t=>{const e=ae.c(64),{text:n,attachments:r,reviews:a,model:s,loading:i,warningThreshold:o}=t;let c;e[0]!==a?(c=a===void 0?[]:a,e[0]=a,e[1]=c):c=e[1];const u=c,d=i===void 0?!1:i,m=o===void 0?.8:o,[h,p]=b.useState(null),f=b.useRef(null);let g,x;if(e[2]!==r||e[3]!==s||e[4]!==u||e[5]!==n?(g=()=>(f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{const ee=FY(n),se=MVe(r),re=u.reduce(OVe,0),ue=ee+se+re,he=Math.ceil(ue*1.2),ke=ue+he,je=DVe(s),_e=ue*je.input+he*je.output,ge=ue<50?.5:ue>1e4?.6:.8;p({inputTokens:ue,outputTokens:he,totalTokens:ke,estimatedCost:_e,confidence:ge})},500),()=>{f.current&&clearTimeout(f.current)}),x=[n,r,u,s],e[2]=r,e[3]=s,e[4]=u,e[5]=n,e[6]=g,e[7]=x):(g=e[6],x=e[7]),b.useEffect(g,x),!n.trim()&&r.length===0&&u.length===0)return null;if(!h||d){let ee;return e[8]===Symbol.for("react.memo_cache_sentinel")?(ee=l.jsx("div",{className:"text-xs text-muted-foreground px-3 py-1",children:"Calculating tokens..."}),e[8]=ee):ee=e[8],ee}const y=h.totalTokens>2e5*m,w=h.totalTokens>19e4,v=PVe,k=FVe,C=w&&"bg-destructive/10 border-destructive/30",_=y&&!w&&"bg-warning/10 border-warning/30";let S;e[9]!==C||e[10]!==_?(S=ce("flex items-center gap-2 px-3 py-1.5 text-xs border-t",C,_),e[9]=C,e[10]=_,e[11]=S):S=e[11];let T;e[12]!==y||e[13]!==w?(T=y&&l.jsx(Mr,{className:ce("h-3.5 w-3.5",w?"text-destructive":"text-warning")}),e[12]=y,e[13]=w,e[14]=T):T=e[14];let N;e[15]!==h.totalTokens?(N=v(h.totalTokens),e[15]=h.totalTokens,e[16]=N):N=e[16];let j;e[17]!==N?(j=l.jsxs("span",{className:"text-muted-foreground",children:["Est. ",N," tokens"]}),e[17]=N,e[18]=j):j=e[18];let R;e[19]!==T||e[20]!==j?(R=l.jsxs("div",{className:"flex items-center gap-1.5",children:[T,j]}),e[19]=T,e[20]=j,e[21]=R):R=e[21];const I=k(h.estimatedCost);let A;e[22]!==I?(A=l.jsxs("span",{className:"text-muted-foreground",children:["(~",I,")"]}),e[22]=I,e[23]=A):A=e[23];let $;e[24]===Symbol.for("react.memo_cache_sentinel")?($=l.jsx(Mf,{className:"h-3 w-3 text-muted-foreground"}),e[24]=$):$=e[24];let E;e[25]!==A?(E=l.jsx(Xe,{asChild:!0,children:l.jsxs("button",{className:"flex items-center gap-1 hover:text-foreground transition-colors",children:[A,$]})}),e[25]=A,e[26]=E):E=e[26];let M;e[27]===Symbol.for("react.memo_cache_sentinel")?(M=l.jsx("span",{children:"Input:"}),e[27]=M):M=e[27];let F;e[28]!==h.inputTokens?(F=v(h.inputTokens),e[28]=h.inputTokens,e[29]=F):F=e[29];let L;e[30]!==F?(L=l.jsxs("div",{className:"flex justify-between gap-4",children:[M,l.jsxs("span",{className:"font-mono",children:[F," tokens"]})]}),e[30]=F,e[31]=L):L=e[31];let Y;e[32]===Symbol.for("react.memo_cache_sentinel")?(Y=l.jsx("span",{children:"Output (est.):"}),e[32]=Y):Y=e[32];let O;e[33]!==h.outputTokens?(O=v(h.outputTokens),e[33]=h.outputTokens,e[34]=O):O=e[34];let G;e[35]!==O?(G=l.jsxs("div",{className:"flex justify-between gap-4",children:[Y,l.jsxs("span",{className:"font-mono",children:[O," tokens"]})]}),e[35]=O,e[36]=G):G=e[36];let H;e[37]===Symbol.for("react.memo_cache_sentinel")?(H=l.jsx("span",{children:"Total:"}),e[37]=H):H=e[37];let D;e[38]!==h.totalTokens?(D=v(h.totalTokens),e[38]=h.totalTokens,e[39]=D):D=e[39];let U;e[40]!==D?(U=l.jsxs("div",{className:"flex justify-between gap-4 pt-1 border-t",children:[H,l.jsxs("span",{className:"font-mono font-semibold",children:[D," tokens"]})]}),e[40]=D,e[41]=U):U=e[41];let B;e[42]!==h.estimatedCost?(B=h.estimatedCost>0&&l.jsxs("div",{className:"flex justify-between gap-4",children:[l.jsx("span",{children:"Cost:"}),l.jsx("span",{className:"font-mono",children:k(h.estimatedCost)})]}),e[42]=h.estimatedCost,e[43]=B):B=e[43];let q;e[44]!==y?(q=y&&l.jsx("div",{className:"pt-2 border-t text-warning",children:" High token usage - consider splitting message"}),e[44]=y,e[45]=q):q=e[45];let V;e[46]!==h.confidence?(V=Math.round(h.confidence*100),e[46]=h.confidence,e[47]=V):V=e[47];let Z;e[48]!==V?(Z=l.jsxs("div",{className:"pt-1 text-muted-foreground",children:["Confidence: ",V,"%"]}),e[48]=V,e[49]=Z):Z=e[49];let W;e[50]!==L||e[51]!==G||e[52]!==U||e[53]!==B||e[54]!==q||e[55]!==Z?(W=l.jsx(Ke,{side:"top",className:"max-w-xs",children:l.jsxs("div",{className:"space-y-1 text-xs",children:[L,G,U,B,q,Z]})}),e[50]=L,e[51]=G,e[52]=U,e[53]=B,e[54]=q,e[55]=Z,e[56]=W):W=e[56];let K;e[57]!==E||e[58]!==W?(K=l.jsxs(Ye,{children:[E,W]}),e[57]=E,e[58]=W,e[59]=K):K=e[59];let J;return e[60]!==R||e[61]!==K||e[62]!==S?(J=l.jsxs("div",{className:S,children:[R,K]}),e[60]=R,e[61]=K,e[62]=S,e[63]=J):J=e[63],J};function OVe(t,e){return t+FY(JSON.stringify(e))}function PVe(t){return t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toString()}function FVe(t){return t<.01?`$${(t*1e3).toFixed(2)}`:`$${t.toFixed(3)}`}const BVe="application/pdf";function zVe(t){return t.toLowerCase().trim().split(";")[0]}function HVe(t){if(!t.startsWith("data:"))return null;const e=t.indexOf(",");if(e===-1||!t.slice(5,e).includes(";base64"))return null;const r=t.slice(e+1),a=r.endsWith("==")?2:r.endsWith("=")?1:0;return Math.floor(r.length*3/4)-a}const qVe=4e6,UVe=t=>{const{api:e}=Kt(),n=Oi(),r=n.status.state==="enforced"?n.policy??null:null,a=b.useMemo(()=>TQ(r),[r]),{variant:s}=t,i=s==="creation"?t.projectPath:"",o=s==="creation"?t.pendingDraftId:null,[c]=uy(),u=s==="creation"?t.projectPath:null,d=s==="workspace"?t.workspaceId:null,m=t.disabled??!1,h=s==="workspace"?t.editingMessage:void 0,p=s==="workspace"?t.isStreamStarting??!1:!1,f=s==="workspace"?t.isCompacting??!1:!1,g=s==="workspace"?t.canInterrupt??!1:!1,x=s==="workspace"?t.hasQueuedCompaction??!1:!1,y=s==="workspace"?t.runtimeType??"worktree":"worktree",w=t.onModelChange,v=(()=>{if(s==="creation"){const Ee=typeof t.pendingDraftId=="string"&&t.pendingDraftId.trim().length>0?Pp(t.projectPath,t.pendingDraftId):Fp(t.projectPath);return{inputKey:mm(Ee),attachmentsKey:g3(Ee),modelKey:gs(ki(t.projectPath))}}return{inputKey:mm(t.workspaceId),attachmentsKey:g3(t.workspaceId),modelKey:gs(t.workspaceId)}})(),[k,C]=Tt(v.inputKey,"",{listener:!0}),_=b.useRef(k);_.current=k;const[S,T]=b.useState(0),N=S>0,[j,R]=b.useState(!1),[I,A]=b.useState(!1),[$,E]=b.useState([]),M=b.useRef(0),F=b.useRef(null),L=b.useRef(0),Y=b.useRef(null),O=b.useRef(null),G=b.useRef(k),[H,D]=b.useState(!1),[U,B]=b.useState([]),[q,V]=b.useState([]),[Z,W]=b.useState(null),[K,J]=b.useState(null),ee=b.useCallback(Ee=>{W({id:Date.now().toString(),...Ee})},[W]),se=s==="workspace"&&d?vA(d):null,[re,ue]=Tt(se??"__unused__",null,{listener:!0});b.useEffect(()=>{!se||!re||(W(O2(re)),ue(null))},[se,re,ue]);const he=b.useCallback(()=>{W(null)},[]),ke=b.useRef(null),[je,_e]=b.useState(()=>S$(v.attachmentsKey)),[ge,ve]=b.useState(null),De=b.useCallback(Ee=>{if(Ee.length===0){ke.current=null,rn(v.attachmentsKey,void 0);return}if(kVe(Ee)>qVe){rn(v.attachmentsKey,void 0),ke.current!==v.attachmentsKey&&(ke.current=v.attachmentsKey,ee({type:"error",message:"This draft attachment is too large to save. It will be lost when you switch workspaces or restart.",duration:5e3}));return}ke.current=null,rn(v.attachmentsKey,Ee)},[v.attachmentsKey,ee]);b.useEffect(()=>{ke.current=null,_e(S$(v.attachmentsKey))},[v.attachmentsKey]);const $e=b.useCallback(Ee=>{_e(kt=>{const Ut=Ee instanceof Function?Ee(kt):Ee;return De(Ut),Ut})},[De]),Qe=s==="workspace"?t.attachedReviews??[]:[],Be=b.useRef(!0);b.useEffect(()=>()=>{Be.current=!1},[]);const ie=b.useRef(null),Te=b.useRef(null),Ne=cVe(),[Re,Le]=b.useState(0),Ae=b.useRef(null),bt=b.useCallback(()=>{const Ee=ie.current;if(!Ee)return;const kt=Ee.selectionStart??k.length;Ae.current!==kt&&(Ae.current=kt,Le(Ut=>Ut+1))},[k.length]),nt=b.useCallback(Ee=>{if(Ne.enabled){const kt=_.current,Ut=Ee.length-kt.length;if(Ee!==kt){const ln=Ut>0?Math.min(6,Ut):Ut<0?Math.min(6,-Ut):1,wn=Ut<0?"delete":"insert",mr=ie.current?.selectionStart??Ee.length;requestAnimationFrame(()=>{const rr=ie.current;rr&&Ne.burstFromTextarea(rr,ln,wn,mr)})}}C(Ee)},[Ne,C]),ct=b.useCallback(()=>({text:k,attachments:je}),[k,je]),pt=b.useCallback(Ee=>{C(Ee.text),$e(Ee.attachments)},[C,$e]),be=b.useRef({text:"",attachments:[]}),We=b.useRef(null),{open:He}=as(),{selectedWorkspace:Je,beginWorkspaceCreation:ye,updateWorkspaceDraftSection:Ze}=uc(),{agentId:qe,currentAgent:ft}=Bf(),Et=ft?.uiColor??"var(--color-border-light)",{models:At,hiddenModels:dt,ensureModelInSettings:Mt,defaultModel:Gt,setDefaultModel:tn}=K_(),[It]=Tt(p1,{},{listener:!0}),zt=b.useId(),Vt=b.useId(),qt=hy(),[Pt,et]=Tt(Fm,!1,{listener:!0}),{startSequence:rt}=LY(),[jt,ze]=b.useState(!1),Ve=gVe({onTranscript:Ee=>{C(kt=>{const Ut=kt.length>0&&!kt.endsWith(" ")?" ":"";return kt+Ut+Ee})},onError:Ee=>{ee({type:"error",message:Ee})},onSend:()=>void j0(),openAIKeySet:jt,useRecordingKeybinds:!0,api:e});b.useEffect(()=>{if(s==="creation"){const Ee=setTimeout(()=>{rt("creation")},600);return()=>clearTimeout(Ee)}},[s,rt]);const $t=mC(s==="workspace"?t.workspaceId:ki(t.projectPath)),Wt=$t.model,sn=$t.baseModel,En=s==="workspace"?t.workspaceId:"",ot=If(En),{has1MContext:Ue}=Km(),Se=ot?.liveUsage??ot?.lastContextUsage,Ie=ot?.liveUsage?.model??null??sn,we=Ue(Ie),it=b.useMemo(()=>Se?wL(Se,Ie,we,!1):{segments:[],totalTokens:0,totalPercentage:0},[Se,Ie,we]),{threshold:Pe,setThreshold:yt}=fC(En,Ie),lt=b.useMemo(()=>({threshold:Pe,setThreshold:yt}),[Pe,yt]),{hours:Ot,setHours:yn}=kWe({projectPath:Je?.projectPath??null}),Zn=b.useMemo(()=>({hours:Ot,setHours:yn}),[Ot,yn]),Cn=b.useCallback(Ee=>{const kt=Vl(Ee);if(Mt(kt),w)w(kt);else{const ln=s==="creation"?ki(i):d;ln&&zp(ln,kt,"user")}if(s!=="workspace"||!d)return;const Ut=typeof qe=="string"&&qe.trim().length>0?qe.trim().toLowerCase():"exec";rn(Nf(d),ln=>({...ln&&typeof ln=="object"?ln:{},[Ut]:{model:kt,thinkingLevel:c}}),{}),e&&(q_(d,Ut,{model:kt,thinkingLevel:c}),e.workspace.updateAgentAISettings({workspaceId:d,agentId:Ut,aiSettings:{model:kt,thinkingLevel:c}}).then(ln=>{ln.success||hm(d,Ut)}).catch(()=>{hm(d,Ut)}))},[e,qe,i,Mt,w,c,s,d]),ua=At,fr=b.useCallback(()=>{if(ua.length<2)return;const Ee=ua.indexOf(sn),kt=Ee===-1?0:(Ee+1)%ua.length,Ut=ua[kt];Ut&&Cn(Ut)},[sn,ua,Cn]),ga=b.useCallback(()=>{Te.current?.open()},[]),{projects:ui}=Bm(),di=s==="creation"?t.pendingSectionId??null:null,wl=s==="creation"?ui.get(t.projectPath):void 0,vr=wl?.sections??[],[jc,E2]=b.useState(()=>di),[mX,hX]=b.useState(!1);b.useEffect(()=>{s==="creation"&&E2(di)},[di,s]),b.useEffect(()=>{if(s!=="creation"||!wl||!jc)return;(wl.sections??[]).some(kt=>kt.id===jc)||E2(null)},[wl,jc,s]);const pX=b.useCallback(Ee=>{if(E2(Ee),s==="creation"){if(typeof o=="string"&&o.trim().length>0){Ze(i,o,Ee);return}ye(i,typeof Ee=="string"&&Ee.trim().length>0?Ee:void 0)}},[ye,o,i,Ze,s]),dr=qGe(s==="creation"?{projectPath:t.projectPath,onWorkspaceCreated:t.onWorkspaceCreated,message:k,sectionId:jc,draftId:t.pendingDraftId,userModel:Wt}:{projectPath:"",onWorkspaceCreated:()=>{},message:""}),td=s==="creation"?dr.isSending:N,N2=s==="workspace"?td&&!p:td,y0=dr.selectedRuntime,kr=WGe({coderConfig:y0.mode==="ssh"?y0.coder??null:null,onCoderConfigChange:Ee=>{if(y0.mode!=="ssh")return;const kt=Ee?.workspaceName?`${Ee.workspaceName}.coder`:y0.host;dr.setSelectedRuntime({mode:"ssh",host:kt,coder:Ee??void 0})}}),fX=s==="creation"?E$(dr.selectedRuntime,kr.presets.length):null,aj=s==="creation"&&r?.runtimes!=null&&!EQ(r,dr.selectedRuntime)?dr.selectedRuntime.mode==="ssh"&&!dr.selectedRuntime.coder&&a.allowSshHost===!1&&a.allowSshCoder?"Host SSH runtimes are disabled by policy. Select the Coder runtime instead.":"Selected runtime is disabled by policy.":null,gX=s==="creation"&&mX?fX?.mode??null:null,sj=s==="creation"?{branches:dr.branches,branchesLoaded:dr.branchesLoaded,trunkBranch:dr.trunkBranch,onTrunkBranchChange:dr.setTrunkBranch,selectedRuntime:dr.selectedRuntime,coderConfigFallback:dr.coderConfigFallback,sshHostFallback:dr.sshHostFallback,defaultRuntimeMode:dr.defaultRuntimeMode,onSelectedRuntimeChange:dr.setSelectedRuntime,onSetDefaultRuntime:dr.setDefaultRuntimeChoice,disabled:td,projectPath:t.projectPath,projectName:t.projectName,nameState:dr.nameState,runtimeAvailabilityState:dr.runtimeAvailabilityState,sections:vr,selectedSectionId:jc,onSectionChange:pX,allowedRuntimeModes:a.allowedModes,allowSshHost:a.allowSshHost,allowSshCoder:a.allowSshCoder,runtimePolicyError:aj,coderInfo:kr.coderInfo,runtimeFieldError:gX,coderProps:kr.coderInfo===null||kr.enabled||kr.coderInfo?.state!=="unavailable"?{enabled:kr.enabled,onEnabledChange:kr.setEnabled,coderInfo:kr.coderInfo,coderConfig:kr.coderConfig,onCoderConfigChange:kr.setCoderConfig,templates:kr.templates,templatesError:kr.templatesError,presets:kr.presets,presetsError:kr.presetsError,existingWorkspaces:kr.existingWorkspaces,workspacesError:kr.workspacesError,loadingTemplates:kr.loadingTemplates,loadingPresets:kr.loadingPresets,loadingWorkspaces:kr.loadingWorkspaces}:void 0}:null,bX=k.trim().length>0,xX=je.length>0,jo=ge!==null,w0=ge??[],v0=jo?w0.length>0?w0:void 0:Qe.length>0?Qe.map(Ee=>Ee.data):void 0,gh=jo?[]:Qe.map(Ee=>Ee.id),yX=jo?w0.map((Ee,kt)=>({id:`draft-review-${kt}`,data:Ee,status:"attached",createdAt:0})):Qe,wX=jo?w0.length>0:Qe.length>0,vX=s==="creation"&&aj!=null,kX=kr.enabled&&!kr.coderConfig?.existingWorkspace&&kr.loadingPresets,ij=(bX||xX||wX)&&!m&&!N2&&!kX&&!vX,k0=b.useRef(null),$2=b.useRef(null);b.useEffect(()=>{if(s!=="creation"){k0.current=null,$2.current=null;return}const Ee=ki(i),kt=gs(Ee),Ut=lu(Ee),ln=Gt,wn=typeof qe=="string"&&qe.trim().length>0?qe.trim().toLowerCase():"exec",mr=k0.current!==null&&$2.current===Ee&&k0.current!==wn;k0.current=wn,$2.current=Ee;const rr=_n(kt,ln),Ua=It[wn]?.modelString??rr,Br=typeof Ua=="string"&&Ua.trim().length>0?Ua:ln,Ta=_n(Ut,"off"),ws=It[wn]?.thinkingLevel??Ta??"off",vs=g1(ws)??"off";rr!==Br&&zp(Ee,Br,mr?"agent":"sync"),Ta!==vs&&rn(Ut,vs)},[It,qe,i,Gt,s]);const A2=b.useRef(null),bh=b.useCallback(Ee=>{A2.current?.setAttribute("data-autofocus-state",Ee)},[]),os=b.useCallback(()=>{const Ee=ie.current;!Ee||Ee.disabled||(Ee.focus(),requestAnimationFrame(()=>{const kt=Ee.value.length;Ee.selectionStart=kt,Ee.selectionEnd=kt,Ee.style.height="auto",Ee.style.height=Math.min(Ee.scrollHeight,window.innerHeight*.5)+"px"}))},[]),nd=b.useCallback((Ee,kt)=>{pt({text:Ee.content,attachments:RVe(Ee.fileParts,kt)})},[pt]),_0=b.useCallback(Ee=>{nd(Ee,`restored-${Date.now()}`),ve(Ee.reviews),os()},[nd,os,ve]),oj=b.useCallback(()=>{pt(be.current),ve(We.current)},[pt,ve]),C0=b.useCallback(Ee=>{C(()=>Ee),os()},[os,C]),S0=b.useCallback(Ee=>{C(kt=>{const Ut=kt.trim()?`

`:"";return kt+Ut+Ee})},[C]),lj=b.useCallback(Ee=>{C(kt=>Ee+kt),os()},[os,C]),cj=b.useRef(()=>Promise.resolve()),uj=b.useCallback(()=>cj.current(),[]),I2=t.onReady;b.useEffect(()=>{I2&&I2({focus:os,send:uj,restoreText:C0,restoreDraft:_0,appendText:S0,prependText:lj})},[I2,os,uj,C0,_0,S0,lj]),b.useEffect(()=>{const Ee=kt=>{if(!Ax(kt.target)){if(bn(kt,st.FOCUS_INPUT_I)){kt.preventDefault(),os();return}if(bn(kt,st.FOCUS_INPUT_A)){kt.preventDefault(),os();return}bn(kt,st.CYCLE_MODEL)&&(kt.preventDefault(),os(),fr())}};return window.addEventListener("keydown",Ee),()=>{window.removeEventListener("keydown",Ee)}},[fr,os,ga]),b.useEffect(()=>{h&&(be.current=ct(),We.current=ge,nd(h.pending,`edit-${h.id}`),ve(h.pending.reviews),setTimeout(()=>{ie.current&&(ie.current.style.height="auto",ie.current.style.height=Math.min(ie.current.scrollHeight,window.innerHeight*.5)+"px",ie.current.focus())},0))},[h,nd]),b.useEffect(()=>{F.current&&(clearTimeout(F.current),F.current=null);const Ee=G.current!==k;G.current=k;const kt=s==="workspace"?d:u;if(!e||!kt){L.current++,Y.current=null,O.current=null,E([]),A(!1);return}if(k.trimStart().startsWith("/")){L.current++,Y.current=null,O.current=null,E([]),A(!1);return}const Ut=ie.current?.selectionStart??k.length,ln=u$(k,Ut);if(!ln){L.current++,Y.current=null,O.current=null,E([]),A(!1);return}if(!Ee&&!I||!Ee&&Y.current===kt&&O.current===ln.query)return;Y.current=kt,O.current=ln.query;const wn=++L.current;(()=>{(async()=>{try{const rr=s==="workspace"?await e.workspace.getFileCompletions({workspaceId:kt,query:ln.query,limit:20}):await e.projects.getFileCompletions({projectPath:kt,query:ln.query,limit:20});if(L.current!==wn)return;const Ua=rr.paths.filter(Br=>!/\s/.test(Br)).map(Br=>{const Ta=ws=>{if(ws.endsWith("/"))return"Directory";const vs=ws.lastIndexOf("."),rd=ws.lastIndexOf("/");return vs>rd&&vs<ws.length-1?ws.slice(vs+1).toUpperCase():"File"};return{id:`file:${Br}`,display:Br,description:Ta(Br),replacement:`@${Br}`}});E(Ua),A(Ua.length>0)}catch{L.current===wn&&(E([]),A(!1))}})()})()},[e,k,I,s,d,u,Re]),b.useEffect(()=>{const Ee=cY(k,{agentSkills:q,variant:s});B(Ee),D(Ee.length>0)},[k,q,s]),b.useEffect(()=>{let Ee=!0;const kt=++M.current;return(async()=>{if(!e){Ee&&M.current===kt&&V([]);return}const ln=s==="workspace"&&d?{workspaceId:d,disableWorkspaceAgents:$t.disableWorkspaceAgents}:s==="creation"&&u?{projectPath:u}:null;if(!ln){Ee&&M.current===kt&&V([]);return}try{const wn=await e.agentSkills.list(ln);if(!Ee||M.current!==kt)return;Array.isArray(wn)&&V(wn)}catch(wn){if(console.error("Failed to load agent skills:",wn),!Ee||M.current!==kt)return;V([])}})(),()=>{Ee=!1}},[e,s,d,u,$t.disableWorkspaceAgents]),b.useEffect(()=>{if(!e)return;const Ee=new AbortController,{signal:kt}=Ee;let Ut=null;const ln=async()=>{try{const wn=await e.providers.getConfig();kt.aborted||ze(wn?.openai?.apiKeySet??!1)}catch{}};return ln(),(async()=>{try{const wn=await e.providers.onConfigChanged(void 0,{signal:kt});if(kt.aborted){wn.return?.();return}Ut=wn;for await(const mr of wn){if(kt.aborted)break;ln()}}catch{}})(),()=>{Ee.abort(),Ut?.return?.()}},[e]),b.useEffect(()=>{const Ee=kt=>{const Ut=kt,{text:ln,mode:wn="append",fileParts:mr,reviews:rr}=Ut.detail,Ua=!!mr&&mr.length>0,Br=!!rr&&rr.length>0;if(wn==="replace"){if(h)return;Ua||Br?_0({content:ln,fileParts:mr??[],reviews:rr??[]}):C0(ln)}else if(Ua||Br){const Ta=ct().text,ws=Ta.trim()?`

`:"",vs=Ta+ws+ln;nd({content:vs,fileParts:mr??[],reviews:rr??[]},`restored-${Date.now()}`)}else S0(ln)};return window.addEventListener(Rn.UPDATE_CHAT_INPUT,Ee),()=>window.removeEventListener(Rn.UPDATE_CHAT_INPUT,Ee)},[S0,C0,_0,nd,ct,h]),b.useEffect(()=>{const Ee=()=>{Te.current?.open()};return window.addEventListener(Rn.OPEN_MODEL_SELECTOR,Ee),()=>window.removeEventListener(Rn.OPEN_MODEL_SELECTOR,Ee)},[]),b.useEffect(()=>{if(s!=="workspace")return;const Ee=kt=>{const Ut=kt.detail;if(Ut?.workspaceId!==t.workspaceId||!Ut.level)return;const ln=Ut.level;ee({type:"success",message:`Thinking effort set to ${{off:"Off  fastest responses",low:"Low  adds light reasoning",medium:"Medium  balanced reasoning",high:"High  maximum reasoning depth",xhigh:"Max  deepest possible reasoning",max:"Max  deepest possible reasoning"}[ln]}`})};return window.addEventListener(Rn.THINKING_LEVEL_TOAST,Ee),()=>window.removeEventListener(Rn.THINKING_LEVEL_TOAST,Ee)},[s,t,ee]),b.useEffect(()=>{if(!Ve.shouldShowUI)return;const Ee=()=>{if(!Ve.isApiKeySet){ee({type:"error",message:"Voice input requires OpenAI API key. Configure in Settings  Providers."});return}Ve.toggle()};return window.addEventListener(Rn.TOGGLE_VOICE_INPUT,Ee),()=>{window.removeEventListener(Rn.TOGGLE_VOICE_INPUT,Ee)}},[Ve,ee]);const _X=s==="workspace"?t.workspaceId:null;b.useEffect(()=>{if(s!=="workspace")return;const Ee=10;bh("pending");let kt=!1,Ut=null,ln=0;const wn=()=>{if(kt)return;ln+=1;const mr=ie.current,rr=document.activeElement;if(rr instanceof HTMLElement&&rr!==document.body&&rr!==document.documentElement&&!!!A2.current?.contains(rr)&&!(!!mr&&rr===mr)){bh("done");return}if(os(),!!mr&&document.activeElement===mr||ln>=Ee){bh("done");return}Ut=requestAnimationFrame(wn)};return Ut=requestAnimationFrame(wn),()=>{kt=!0,Ut!==null&&cancelAnimationFrame(Ut),bh("done")}},[s,_X,os,bh]);const CX=b.useCallback(Ee=>{const kt=Ee.clipboardData?.items;if(!kt)return;const Ut=hGe(kt);if(Ut.length!==0){if(h){ee({type:"error",message:"Attachments cannot be added while editing a message."});return}Ee.preventDefault(),b$(Ut).then(ln=>{$e(wn=>[...wn,...ln])}).catch(ln=>{console.error("Failed to process pasted attachment:",ln),ee({type:"error",message:ln instanceof Error?ln.message:"Failed to process attachment"})})}},[h,ee,$e]),SX=b.useCallback(Ee=>{$e(kt=>kt.filter(Ut=>Ut.id!==Ee))},[$e]),jX=s==="workspace"?t.workspaceId:void 0,TX=s==="creation"?t.projectPath:Je?.projectPath??null,EX=s==="workspace"?t.onCancelEdit:void 0,R2=async(Ee,kt,Ut)=>{if(!Ee)return!1;if(Ee.type==="model-oneshot")return s!=="workspace"?(W({id:Date.now().toString(),type:"error",message:"Model one-shot is only available in workspace view"}),!0):!1;if((Ee.type==="clear"||Ee.type==="truncate")&&s==="workspace"&&!Ut?.skipConfirmation)return J({type:Ee.type,percentage:Ee.type==="truncate"?Ee.percentage:void 0}),!0;const wn=v0,mr=Cg(je,{validate:!0}),rr={api:e,variant:s,workspaceId:jX,projectPath:TX,openSettings:He,sendMessageOptions:$t,setInput:C,setAttachments:$e,setSendingState:Br=>T(Ta=>Ta+(Br?1:-1)),setToast:W,setPreferredModel:Cn,setVimEnabled:et,onTruncateHistory:s==="workspace"?t.onTruncateHistory:void 0,resetInputHeight:()=>{ie.current&&(ie.current.style.height="")},editMessageId:h?.id,onCancelEdit:EX,reviews:wn,fileParts:mr.length>0?mr:void 0,onMessageSent:s==="workspace"?t.onMessageSent:void 0,onCheckReviews:s==="workspace"?t.onCheckReviews:void 0,attachedReviewIds:gh};return(await MQ(Ee,rr)).clearInput?(ve(null),s==="workspace"&&Ee.type==="compact"&&(gh.length>0&&t.onCheckReviews?.(gh),t.onMessageSent?.())):C(kt),!0},NX=async()=>{if(!K||s!=="workspace")return;const Ee=K.type==="clear"?{type:"clear"}:{type:"truncate",percentage:K.percentage??0};J(null),await R2(Ee,k,{skipConfirmation:!0})},$X=b.useCallback(()=>{J(null)},[]),AX=b.useCallback(Ee=>{Ee.dataTransfer.types.includes("Files")&&(Ee.preventDefault(),Ee.dataTransfer.dropEffect=h?"none":"copy")},[h]),IX=b.useCallback(Ee=>{Ee.preventDefault();const kt=pGe(Ee.dataTransfer);if(kt.length!==0){if(h){ee({type:"error",message:"Attachments cannot be added while editing a message."});return}b$(kt).then(Ut=>{$e(ln=>[...ln,...Ut])}).catch(Ut=>{console.error("Failed to process dropped attachment:",Ut),ee({type:"error",message:Ut instanceof Error?Ut.message:"Failed to process attachment"})})}},[h,ee,$e]),RX=b.useCallback(Ee=>{const kt=ie.current?.selectionStart??k.length,Ut=u$(k,kt);if(!Ut)return;const ln=k.slice(0,Ut.startIndex)+Ee.replacement+" "+k.slice(Ut.endIndex);C(ln),E([]),A(!1),requestAnimationFrame(()=>{const wn=ie.current;if(!wn||wn.disabled)return;wn.focus();const mr=Ut.startIndex+Ee.replacement.length+1;wn.selectionStart=mr,wn.selectionEnd=mr})},[k,C]),MX=b.useCallback(Ee=>{C(Ee.replacement),D(!1),ie.current?.focus()},[C]),j0=async()=>{if(!ij)return;const Ee=k.trim(),kt=s==="creation"?u?{kind:"project",projectPath:u}:null:s==="workspace"&&d?{kind:"workspace",workspaceId:d,disableWorkspaceAgents:$t.disableWorkspaceAgents}:null,{parsed:Ut,skillInvocation:ln}=await IVe({messageText:Ee,agentSkillDescriptors:q,api:e,discovery:kt});if(s==="creation"){if(await R2(Ut,k))return;let mr=Ee,rr;if(ln){if(!e){ee({type:"error",message:"Not connected to server"});return}mr=ln.userText,rr={muxMetadata:T$(Ee,ln.descriptor),...ln.descriptor.scope==="project"?{disableWorkspaceAgents:!0}:{}}}if(hX(!0),E$(dr.selectedRuntime,kr.presets.length))return;const Br=Cg(je);(await dr.handleSend(mr,Br.length>0?Br:void 0,rr)).success&&Be.current&&(C(""),$e([]),ie.current&&(ie.current.style.height=""));return}if(s==="workspace")try{const wn=Ut?.type==="model-oneshot"?Ut:null;if(wn?!1:await R2(Ut,k))return;const rr=wn?.modelString,Ua=wn?.message??ln?.userText??Ee,Br=ln?T$(Ee,ln.descriptor):void 0;if(!e){ee({type:"error",message:"Not connected to server"});return}T(zr=>zr+1);const Ta=rr??sn,ws=je.filter(zr=>zVe(zr.mediaType)===BVe);if(ws.length>0){const zr=lx(Ta);if(zr&&!zr.supportsPdfInput){const Bi=Object.values(Ou).map(_r=>_r.id).filter(_r=>lx(_r)?.supportsPdfInput),ks=Bi.slice(0,3),mi=Bi.length>ks.length?", and others.":".";ee({type:"error",title:"PDF not supported",message:`Model ${Ta} does not support PDF input.`+(ks.length>0?` Try e.g.: ${ks.join(", ")}${mi}`:" Choose a model with PDF support.")}),T(_r=>_r-1);return}if(zr?.maxPdfSizeMb!==void 0){const Bi=zr.maxPdfSizeMb*1024*1024;for(const ks of ws){const mi=HVe(ks.url);if(mi!==null&&mi>Bi){const _r=(mi/1048576).toFixed(1);ee({type:"error",title:"PDF too large",message:`${ks.filename??"PDF"} is ${_r}MB, but ${Ta} allows up to ${zr.maxPdfSizeMb}MB per PDF.`}),T(ad=>ad-1);return}}}}const vs=ct(),rd=ge;if(s==="workspace"&&KUe(t.autoCompactionCheck,f||p,!!h,x)){const zr=Cg(je),Bi=v0,ks=gh;C(""),ve(null);const mi={...$t};$e([]),R(!0);try{const _r=await Hd({api:e,workspaceId:t.workspaceId,followUpContent:{text:Ua,fileParts:zr,reviews:Bi,muxMetadata:Br},sendMessageOptions:mi});_r.success?(ks.length>0&&t.onCheckReviews?.(ks),ee({type:"success",message:"Context threshold reached - auto-compacting..."}),t.onMessageSent?.()):(pt(vs),ve(rd),ee({type:"error",title:"Auto-Compaction Failed",message:_r.error??"Failed to start auto-compaction"}))}catch(_r){pt(vs),ve(rd),ee({type:"error",title:"Auto-Compaction Failed",message:_r instanceof Error?_r.message:"Unexpected error during auto-compaction"})}finally{T(_r=>_r-1),R(!1)}return}try{const zr=Cg(je,{validate:!0}),Bi=h||zr.length>0?zr:void 0,ks=v0;let mi=Ua,_r=Br,ad={};if(h&&mi.startsWith("/")){const xh=lY(Ee);if(xh?.type==="compact"){const{messageText:UX,metadata:WX,sendOptions:GX}=AQ({api:e,workspaceId:t.workspaceId,maxOutputTokens:xh.maxOutputTokens,followUpContent:xh.continueMessage||Bi?.length||ks?.length?{text:xh.continueMessage??"",fileParts:Bi,reviews:ks}:void 0,model:xh.model,sendMessageOptions:$t});mi=UX,_r=WX,ad=GX}}const{finalText:dj,metadata:zX}=IQ({text:mi,reviews:ks},_r),HX=ad.additionalSystemInstructions??$t.additionalSystemInstructions;_r=zX;const M2=rr??ad.model??$t.model,T0=wn?Ee.trim().slice(0,Ee.trim().length-wn.message.length).trimEnd():void 0;_r=_r?{..._r,requestedModel:M2,...T0?{rawCommand:Ee.trim(),commandPrefix:T0}:{}}:{type:"normal",requestedModel:M2,...T0?{rawCommand:Ee.trim(),commandPrefix:T0}:{}};const mj=gh;C(""),ve(null),$e([]),R(!0),ie.current&&(ie.current.style.height="");const hj=wn?.thinkingLevel,pj=hj!=null?RQ(hj,Ta):void 0,qX={...$t,...ad,...rr?{model:rr}:{},...pj?{thinkingLevel:pj}:{},...wn?{skipAiSettingsPersistence:!0}:{},additionalSystemInstructions:HX,editMessageId:h?.id,fileParts:Bi,muxMetadata:_r},D2=await e.workspace.sendMessage({workspaceId:t.workspaceId,message:dj,options:qX});D2.success?(qt.messageSent(t.workspaceId,M2,$t.agentId??qe??"exec",dj.length,y,$t.thinkingLevel??"off"),wn&&$A("model"),rn(px(t.workspaceId),Date.now()),mj.length>0&&t.onCheckReviews?.(mj),h&&t.onCancelEdit&&t.onCancelEdit(),t.onMessageSent?.()):(console.error("Failed to send message:",D2.error),W(O2(D2.error)),pt(vs),ve(rd))}catch(zr){console.error("Unexpected error sending message:",zr),W(O2({type:"unknown",raw:zr instanceof Error?zr.message:"Failed to send message"})),pt(vs),ve(rd)}finally{T(zr=>zr-1),R(!1)}}finally{setTimeout(()=>{ie.current?.focus()},0)}};cj.current=j0;const DX=()=>{s==="workspace"&&h&&t.onCancelEdit&&(oj(),t.onCancelEdit(),ie.current?.blur())},LX=Ee=>{if(bn(Ee,st.TOGGLE_VOICE_INPUT)&&Ve.shouldShowUI){if(Ee.preventDefault(),!Ve.isApiKeySet){ee({type:"error",message:"Voice input requires OpenAI API key. Configure in Settings  Providers."});return}Ve.toggle();return}if(Ee.key===" "&&!Ee.repeat&&k.trim()===""&&Ve.shouldShowUI&&Ve.isApiKeySet&&Ve.state==="idle"){Ee.preventDefault(),Ve.start();return}if(bn(Ee,st.CYCLE_MODEL)){Ee.preventDefault(),fr();return}if(bn(Ee,st.CANCEL_EDIT)&&s==="workspace"&&h&&t.onCancelEdit&&!Pt){Ee.preventDefault(),es(Ee),oj(),t.onCancelEdit(),document.activeElement===ie.current&&ie.current?.blur();return}if(s==="workspace"&&Ee.key==="ArrowUp"&&!h&&k.trim()===""&&t.onEditLastUserMessage){Ee.preventDefault(),t.onEditLastUserMessage();return}const kt=H&&U.length>0,Ut=I&&$.length>0;kt&&a$.includes(Ee.key)||Ut&&s$.includes(Ee.key)||bn(Ee,st.SEND_MESSAGE)&&(Ee.preventDefault(),j0())},OX=(()=>{if(s==="creation")return`Type your first message to create a workspace... (${Bt(st.SEND_MESSAGE)} to send, ${Bt(st.CANCEL)} to cancel)`;if(h)return`Edit your message... (${Pt?`${Bt(st.CANCEL_EDIT)}2 to cancel`:`${Bt(st.CANCEL_EDIT)} to cancel`}, ${Bt(st.SEND_MESSAGE)} to send)`;if(m){const kt=t.disabledReason;if(typeof kt=="string"&&kt.trim().length>0)return kt}if(f){const kt=Pt?st.INTERRUPT_STREAM_VIM:st.INTERRUPT_STREAM_NORMAL;return`Compacting... (${Bt(kt)} cancel | ${Bt(st.SEND_MESSAGE)} to queue)`}const Ee=[];if(g){const kt=Pt?st.INTERRUPT_STREAM_VIM:st.INTERRUPT_STREAM_NORMAL;Ee.push(`${Bt(kt)} to interrupt`)}return Ee.push(`${Bt(st.SEND_MESSAGE)} to ${g?"queue":"send"}`),Ee.push(`Click model to choose, ${Bt(st.CYCLE_MODEL)} to cycle`),Ee.push(`/vim to toggle Vim mode (${Pt?"on":"off"})`),`Type a message... (${Ee.join(", ")})`})(),PX=Z??(s==="creation"?dr.toast:null),FX=xe.Fragment,BX={};return l.jsxs(FX,{...BX,children:[s==="creation"&&l.jsx(bGe,{projectName:t.projectName,isSending:td,workspaceName:td?dr.creatingWithIdentity?.name:void 0,workspaceTitle:td?dr.creatingWithIdentity?.title:void 0}),l.jsx("div",{ref:A2,className:ce("relative flex flex-col gap-1",s==="creation"?"bg-separator w-full max-w-3xl rounded-lg border border-border-light px-6 py-5 shadow-lg":"bg-separator border-border-light border-t px-[15px] pt-[5px] pb-[max(8px,min(env(safe-area-inset-bottom,0px),40px))] mb-[calc(-1*min(env(safe-area-inset-bottom,0px),40px))]"),"data-component":"ChatInputSection","data-autofocus-state":"done",children:l.jsxs("div",{className:ce("w-full",s!=="creation"&&"mx-auto max-w-4xl"),children:[l.jsxs("div",{className:"pointer-events-none absolute right-[15px] bottom-full left-[15px] z-[1000] mb-2 flex flex-col gap-2 [&>*]:pointer-events-auto",children:[l.jsx(qO,{wrap:!1}),l.jsx(NQ,{toast:PX,wrap:!1,onDismiss:()=>{he(),s==="creation"&&dr.setToast(null)}})]}),s==="workspace"&&!j&&l.jsx(EVe,{reviews:yX,onDetachAll:jo?void 0:t.onDetachAllReviews,onDetach:jo?void 0:t.onDetachReview,onCheck:jo?void 0:t.onCheckReview,onDelete:jo?void 0:t.onDeleteReview,onUpdateNote:jo?void 0:t.onUpdateReviewNote}),sj&&l.jsx(MGe,{...sj}),l.jsx(i$,{suggestions:$,onSelectSuggestion:RX,onDismiss:()=>A(!1),isVisible:I,ariaLabel:"File path suggestions",listId:zt,anchorRef:s==="creation"?ie:void 0,highlightQuery:O.current??"",isFileSuggestion:!0}),l.jsx(i$,{suggestions:U,onSelectSuggestion:MX,onDismiss:()=>D(!1),isVisible:H,ariaLabel:"Slash command suggestions",listId:Vt,anchorRef:s==="creation"?ie:void 0}),l.jsx("div",{className:"relative flex items-end pb-1","data-component":"ChatInputControls",children:Ve.state!=="idle"?l.jsx(SVe,{state:Ve.state,agentColor:Et,mediaRecorder:Ve.mediaRecorder,onStop:Ve.toggle}):l.jsxs(l.Fragment,{children:[l.jsx(TY,{ref:ie,value:k,isEditing:!!h,focusBorderColor:Et,onChange:nt,onKeyDown:LX,onPaste:CX,onKeyUp:bt,onMouseUp:bt,onSelect:bt,onDragOver:AX,onDrop:IX,onEscapeInNormalMode:DX,suppressKeys:I?s$:H?a$:void 0,placeholder:OX,disabled:!h&&(m||N2),"aria-label":h?"Edit your last message":"Message Claude","aria-autocomplete":"list","aria-controls":H&&U.length>0?Vt:I&&$.length>0?zt:void 0,"aria-expanded":H&&U.length>0||I&&$.length>0,className:s==="creation"?"min-h-24":void 0}),l.jsx("div",{className:"absolute right-2 bottom-2",children:l.jsx(xVe,{state:Ve.state,isApiKeySet:Ve.isApiKeySet,shouldShowUI:Ve.shouldShowUI,requiresSecureContext:Ve.requiresSecureContext,onToggle:Ve.toggle,disabled:m||N2,agentColor:Et})})]})}),l.jsx(cGe,{attachments:je,onRemove:SX}),l.jsx(LVe,{text:k,attachments:je,reviews:v0,model:sn}),l.jsxs("div",{className:"flex flex-col gap-0.5","data-component":"ChatModeToggles",children:[s==="workspace"&&h&&l.jsxs("div",{className:"text-edit-mode text-[11px] font-medium",children:["Editing message (",Bt(st.CANCEL_EDIT),Pt?"2":""," to cancel)"]}),l.jsxs("div",{className:"@container flex min-w-[340px] flex-nowrap items-center gap-1.5",children:[l.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-1.5",children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-1.5","data-component":"ModelSelectorGroup","data-tutorial":"model-selector",children:[l.jsx(ax,{ref:Te,value:sn,onChange:Cn,models:At,onComplete:()=>ie.current?.focus(),defaultModel:Gt,onSetDefaultModel:tn,hiddenModels:dt,onOpenSettings:()=>He("models"),className:"w-[clamp(5.5rem,28vw,8rem)] min-w-0"}),l.jsx("div",{className:"hidden [@container(min-width:500px)]:[@media(hover:hover)_and_(pointer:fine)]:block",children:l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx(hc,{children:"?"})}),l.jsxs(Ke,{align:"start",className:"max-w-80 whitespace-normal",children:[l.jsx("strong",{children:"Click to edit"}),l.jsx("br",{}),l.jsx("strong",{children:Bt(st.CYCLE_MODEL)})," to cycle models",l.jsx("br",{}),l.jsx("br",{}),l.jsx("strong",{children:"Abbreviations:"}),$Q.map(Ee=>l.jsxs(xe.Fragment,{children:[l.jsx("br",{})," ",l.jsxs("code",{children:["/model ",Ee.abbrev]})," - ",Ee.displayName]},Ee.abbrev)),l.jsx("br",{}),l.jsx("br",{}),l.jsx("strong",{children:"Full format:"}),l.jsx("br",{}),l.jsx("code",{children:"/model provider:model-name"}),l.jsx("br",{}),"(e.g., ",l.jsx("code",{children:"/model anthropic:claude-sonnet-4-5"}),")"]})]})})]}),l.jsx("div",{className:"flex shrink-0 items-center [@container(max-width:420px)]:[&_[data-thinking-paddle]]:hidden","data-component":"ThinkingSliderGroup",children:l.jsx(VUe,{modelString:sn})})]}),l.jsxs("div",{className:"flex min-w-0 items-center justify-end gap-1.5","data-component":"ModelControls","data-tutorial":"mode-selector",children:[s==="workspace"&&l.jsx(wWe,{data:it,autoCompaction:lt,idleCompaction:Zn,model:Ie}),l.jsx("div",{className:"min-w-0 [@container(max-width:340px)]:hidden",children:l.jsx(iWe,{className:"min-w-0",onComplete:()=>ie.current?.focus()})}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx(tt,{type:"button",onClick:()=>void j0(),disabled:!ij,"aria-label":"Send message",size:"xs",variant:"ghost",className:ce("text-muted hover:text-foreground hover:bg-hover inline-flex items-center justify-center rounded-sm px-1.5 py-0.5 font-medium transition-colors duration-200 disabled:opacity-50","[@media(hover:none)_and_(pointer:coarse)]:h-9 [@media(hover:none)_and_(pointer:coarse)]:w-11 [@media(hover:none)_and_(pointer:coarse)]:px-0 [@media(hover:none)_and_(pointer:coarse)]:py-0 [@media(hover:none)_and_(pointer:coarse)]:text-sm"),children:l.jsx(_te,{className:"h-3.5 w-3.5 [@media(hover:none)_and_(pointer:coarse)]:h-4 [@media(hover:none)_and_(pointer:coarse)]:w-4",strokeWidth:2.5})})}),l.jsxs(Ke,{align:"center",children:["Send message (",Bt(st.SEND_MESSAGE),")"]})]})]})]})]})]})}),l.jsx(kR,{isOpen:K!==null,title:K?.type==="clear"?"Clear Chat History?":`Truncate ${Math.round((K?.percentage??0)*100)}% of Chat History?`,description:K?.type==="clear"?"This will remove all messages from the conversation.":`This will remove approximately ${Math.round((K?.percentage??0)*100)}% of the oldest messages.`,warning:"This action cannot be undone.",confirmLabel:K?.type==="clear"?"Clear":"Truncate",onConfirm:NX,onCancel:$X})]})},nj=xe.memo(UVe);nj.displayName="ChatInput";function WVe(t){if(typeof t!="object"||t===null||!("taskId"in t))return null;const e=t.taskId;return typeof e=="string"&&e.trim().length>0?e:null}function GVe(t){if(typeof t!="object"||t===null||!("title"in t))return null;const e=t.title;return typeof e=="string"&&e.trim().length>0?e.trim():null}function VVe(t){const e=new Set,n=new Map;for(const s of t){if(s.type!=="tool"||s.toolName!=="task")continue;const i=WVe(s.result);if(!i)continue;e.add(i);const o=GVe(s.args);o&&n.set(i,o)}const r=new Map;for(const s of t){if(s.type!=="tool"||s.toolName!=="task_await")continue;const i=s.result;if(typeof i!="object"||i===null||!("results"in i))continue;const o=i.results;if(Array.isArray(o))for(const c of o){if(typeof c!="object"||c===null||c.status!=="completed")continue;const d=c.taskId;if(typeof d!="string"||d.trim().length===0)continue;const m=c.reportMarkdown;if(typeof m!="string")continue;const h=c.title;r.set(d,{taskId:d,reportMarkdown:m,title:typeof h=="string"?h:void 0})}}const a=new Set;for(const[s,i]of r)e.has(s)&&i.reportMarkdown.trim().length!==0&&a.add(s);return{reportByTaskId:r,suppressReportInAwaitTaskIds:a,spawnTitleByTaskId:n}}const KVe=t=>{const e=ae.c(14),{processId:n,collapsedCount:r,isExpanded:a,onToggle:s}=t,i=`text-border shrink-0 transition-transform ${a?"rotate-90":""}`;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx("path",{d:"M8 0 Q12 4, 8 8 Q4 12, 8 16 Q12 20, 8 24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",fill:"none"}),e[0]=o):o=e[0];let c;e[1]!==i?(c=l.jsx("svg",{className:i,width:"16",height:"24",viewBox:"0 0 16 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o}),e[1]=i,e[2]=c):c=e[2];const u=a?"Hide":"Show",d=r===1?"":"s";let m;e[3]!==n?(m=l.jsx("code",{className:"font-monospace text-text-muted",children:n}),e[3]=n,e[4]=m):m=e[4];let h;e[5]!==r||e[6]!==u||e[7]!==d||e[8]!==m?(h=l.jsxs("span",{className:"text-[10px] font-medium",children:[u," ",r," more output check",d," for"," ",m]}),e[5]=r,e[6]=u,e[7]=d,e[8]=m,e[9]=h):h=e[9];let p;return e[10]!==s||e[11]!==c||e[12]!==h?(p=l.jsx("div",{className:"px-3 py-1",children:l.jsxs("button",{onClick:s,className:"text-muted hover:bg-background-highlight inline-flex cursor-pointer items-center gap-2 rounded px-2 py-0.5 transition-colors",children:[c,h]})}),e[10]=s,e[11]=c,e[12]=h,e[13]=p):p=e[13],p};function YVe(){const[t,e]=b.useState(!0),n=b.useRef(null),r=b.useRef(0),a=b.useRef(0),s=b.useRef(!0),i=b.useRef(null),o=b.useRef(null);s.current=t;const c=b.useCallback(p=>{if(o.current!==null&&(cancelAnimationFrame(o.current),o.current=null),i.current&&(i.current.disconnect(),i.current=null),!p)return;const f=new ResizeObserver(()=>{!s.current||!n.current||(o.current??=requestAnimationFrame(()=>{o.current=null,s.current&&n.current&&(n.current.scrollTop=n.current.scrollHeight)}))});f.observe(p),i.current=f},[]),u=b.useCallback(()=>{n.current&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{n.current&&s.current&&(n.current.scrollTop=n.current.scrollHeight)})})},[]),d=b.useCallback(()=>{e(!0),s.current=!0,n.current&&(n.current.scrollTop=n.current.scrollHeight)},[]),m=b.useCallback(p=>{const f=p.currentTarget,g=f.scrollTop,y=f.scrollHeight-g-f.clientHeight<100;if(!(Date.now()-a.current<100)){r.current=g;return}const v=g<r.current,k=g>r.current;v?(e(!1),s.current=!1):k&&y&&(e(!0),s.current=!0),r.current=g},[]),h=b.useCallback(()=>{a.current=Date.now()},[]);return{contentRef:n,innerRef:c,autoScroll:t,setAutoScroll:e,performAutoScroll:u,jumpToBottom:d,handleScroll:m,markUserInteraction:h}}function BY(t){const e=ae.c(21);let n;e[0]!==t?(n=t?fZ(t):"",e[0]=t,e[1]=n):n=e[1];const r=n;let a;e[2]!==r?(a=()=>r?_n(r,{}):{},e[2]=r,e[3]=a):a=e[3];const[s,i]=b.useState(a);let o,c;e[4]!==r?(o=()=>{i(r?_n(r,{}):{})},c=[r],e[4]=r,e[5]=o,e[6]=c):(o=e[5],c=e[6]),b.useEffect(o,c);let u;e[7]!==r?(u=(w,v)=>{const k={result:v,testedAt:Date.now()};i(C=>{const _={...C,[w]:k};return r&&rn(r,_),_})},e[7]=r,e[8]=u):u=e[8];const d=u;let m;e[9]!==r?(m=w=>{i(v=>{const k={...v};return delete k[w],r&&rn(r,k),k})},e[9]=r,e[10]=m):m=e[10];const h=m;let p;e[11]!==s?(p=w=>{const v=s[w];return v?.result.success?v.result.tools:null},e[11]=s,e[12]=p):p=e[12];const f=p;let g;e[13]!==r?(g=()=>{r&&i(_n(r,{}))},e[13]=r,e[14]=g):g=e[14];const x=g;let y;return e[15]!==s||e[16]!==h||e[17]!==f||e[18]!==x||e[19]!==d?(y={cache:s,setResult:d,clearResult:h,getTools:f,reload:x},e[15]=s,e[16]=h,e[17]=f,e[18]=x,e[19]=d,e[20]=y):y=e[20],y}const zY=t=>{const e=ae.c(24),{availableTools:n,allowedTools:r,onToggle:a,onSelectAll:s,onSelectNone:i,disabled:o}=t,c=o===void 0?!1:o,u=r.length===n.length,d=r.length===0;let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx("span",{className:"text-muted-foreground text-xs",children:"Select tools to expose:"}),e[0]=m):m=e[0];const h=c||u;let p;e[1]!==s||e[2]!==h?(p=l.jsx(tt,{variant:"ghost",size:"sm",className:"h-5 px-2 text-xs",onClick:s,disabled:h,children:"All"}),e[1]=s,e[2]=h,e[3]=p):p=e[3];const f=c||d;let g;e[4]!==i||e[5]!==f?(g=l.jsx(tt,{variant:"ghost",size:"sm",className:"h-5 px-2 text-xs",onClick:i,disabled:f,children:"None"}),e[4]=i,e[5]=f,e[6]=g):g=e[6];let x;e[7]!==p||e[8]!==g?(x=l.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[m,l.jsxs("div",{className:"flex gap-1",children:[p,g]})]}),e[7]=p,e[8]=g,e[9]=x):x=e[9];let y;if(e[10]!==r||e[11]!==n||e[12]!==c||e[13]!==a){let k;e[15]!==r||e[16]!==c||e[17]!==a?(k=C=>l.jsxs("label",{className:"flex cursor-pointer items-center gap-2 py-0.5 text-xs",children:[l.jsx(Wo,{checked:r.includes(C),onCheckedChange:_=>a(C,_===!0),disabled:c}),l.jsx("span",{className:"truncate font-mono",title:C,children:C})]},C),e[15]=r,e[16]=c,e[17]=a,e[18]=k):k=e[18],y=n.map(k),e[10]=r,e[11]=n,e[12]=c,e[13]=a,e[14]=y}else y=e[14];let w;e[19]!==y?(w=l.jsx("div",{className:"grid grid-cols-2 gap-1",children:y}),e[19]=y,e[20]=w):w=e[20];let v;return e[21]!==x||e[22]!==w?(v=l.jsxs("div",{children:[x,w]}),e[21]=x,e[22]=w,e[23]=v):v=e[23],v},XVe=({workspaceId:t,projectPath:e,open:n,onOpenChange:r})=>{const a=as(),{api:s}=Kt(),[i,o]=b.useState({}),[c,u]=b.useState({}),[d,m]=b.useState({}),[h,p]=b.useState(!1),[f,g]=b.useState(!1),[x,y]=b.useState(null),{getTools:w,setResult:v,reload:k}=BY(e),C=b.useRef(k);C.current=k,b.useEffect(()=>{if(!n||!s)return;C.current(),(async()=>{p(!0),y(null);try{const[L,Y]=await Promise.all([s.mcp.list({projectPath:e}),s.workspace.mcp.get({workspaceId:t})]);o(L??{}),u(Y??{})}catch(L){y(L instanceof Error?L.message:"Failed to load MCP configuration")}finally{p(!1)}})()},[n,s,e,t]);const _=b.useCallback(async F=>{if(s){m(L=>({...L,[F]:!0}));try{const L=await s.mcp.test({projectPath:e,name:F});v(F,L),L.success||y(`Failed to fetch tools for ${F}: ${L.error}`)}catch(L){y(L instanceof Error?L.message:`Failed to fetch tools for ${F}`)}finally{m(L=>({...L,[F]:!1}))}}},[s,e,v]),S=b.useCallback((F,L)=>c.enabledServers?.includes(F)?!0:c.disabledServers?.includes(F)?!1:!L,[c.enabledServers,c.disabledServers]),T=b.useCallback((F,L,Y)=>{u(O=>{const G=O.enabledServers??[],H=O.disabledServers??[];let D,U;return L?(U=H.filter(B=>B!==F),Y?D=[...G,F]:D=G.filter(B=>B!==F)):(D=G.filter(B=>B!==F),Y?U=H.filter(B=>B!==F):U=[...H,F]),{...O,enabledServers:D.length>0?D:void 0,disabledServers:U.length>0?U:void 0}})},[]),N=b.useCallback(F=>!c.toolAllowlist?.[F],[c.toolAllowlist]),j=b.useCallback((F,L,Y)=>{const O=w(F)??[];u(G=>{const H=G.toolAllowlist??{},D=H[F];let U;if(Y){if(!D)return G;U=[...D,L]}else D?U=D.filter(q=>q!==L):U=O.filter(q=>q!==L);const B={...H};return U.length===O.length?delete B[F]:B[F]=U,{...G,toolAllowlist:Object.keys(B).length>0?B:void 0}})},[w]),R=b.useCallback(F=>{u(L=>{const Y={...L.toolAllowlist};return delete Y[F],{...L,toolAllowlist:Object.keys(Y).length>0?Y:void 0}})},[]),I=b.useCallback(F=>{u(L=>({...L,toolAllowlist:{...L.toolAllowlist,[F]:[]}}))},[]),A=b.useCallback(async()=>{if(s){g(!0),y(null);try{const F=await s.workspace.mcp.set({workspaceId:t,overrides:c});F.success?r(!1):y(F.error)}catch(F){y(F instanceof Error?F.message:"Failed to save configuration")}finally{g(!1)}}},[s,t,c,r]),$=Object.entries(i),E=b.useCallback(()=>{r(!1),a.open("mcp")},[r,a]),M=$.length>0;return l.jsx(sa,{open:n,onOpenChange:r,children:l.jsxs(ia,{className:"max-h-[80vh] max-w-2xl overflow-y-auto",children:[l.jsx(Sa,{children:l.jsxs(oa,{className:"flex items-center gap-2",children:[l.jsx(Bl,{className:"h-5 w-5"}),"Workspace MCP Configuration"]})}),h?l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(pn,{className:"text-muted h-6 w-6 animate-spin"})}):M?l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-muted text-sm",children:"Customize which MCP servers and tools are available in this workspace. Changes only affect this workspace."}),x&&l.jsx("div",{className:"bg-danger-soft/10 text-danger-soft rounded-md p-3 text-sm",children:x}),l.jsx("div",{className:"space-y-4",children:$.map(([F,L])=>{const Y=L.disabled,O=S(F,Y),G=w(F),H=d[F],D=c.toolAllowlist?.[F]??G??[];return l.jsxs("div",{className:ce("border-border rounded-lg border p-4",!O&&"opacity-50"),children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(li,{checked:O,onCheckedChange:U=>T(F,U,Y),"aria-label":`Toggle ${F} MCP server`}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:F}),Y&&l.jsx("div",{className:"text-muted text-xs",children:"(disabled at project level)"})]})]}),O&&l.jsx(tt,{variant:"ghost",size:"sm",onClick:()=>void _(F),disabled:H,children:H?l.jsx(pn,{className:"h-4 w-4 animate-spin"}):G?"Refresh Tools":"Fetch Tools"})]}),O&&G&&G.length>0&&l.jsxs("div",{className:"mt-4 border-t pt-4",children:[l.jsx(zY,{availableTools:G,allowedTools:D,onToggle:(U,B)=>j(F,U,B),onSelectAll:()=>R(F),onSelectNone:()=>I(F)}),!N(F)&&l.jsxs("div",{className:"text-muted mt-2 text-xs",children:[D.length," of ",G.length," tools enabled"]})]}),O&&G?.length===0&&l.jsx("div",{className:"text-muted mt-2 text-sm",children:"No tools available"})]},F)})}),l.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[l.jsx(tt,{variant:"ghost",onClick:()=>r(!1),children:"Cancel"}),l.jsxs(tt,{onClick:()=>void A(),disabled:f,children:[f?l.jsx(pn,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Save"]})]})]}):l.jsxs("div",{className:"text-muted py-8 text-center",children:[l.jsx("p",{children:"No MCP servers configured for this project."}),l.jsxs("p",{className:"mt-2 text-sm",children:["Configure servers in"," ",l.jsx(tt,{type:"button",variant:"link",className:"h-auto p-0 align-baseline",onClick:E,children:"Settings  MCP"})," ","to use them here."]})]})]})})},i3=t=>{const e=ae.c(2),{children:n}=t;let r;return e[0]!==n?(r=l.jsx("div",{className:"bg-code-bg text-text mt-3 w-full max-w-full min-w-0 overflow-x-auto rounded-sm",children:l.jsx("pre",{className:"min-w-max p-3 font-mono text-xs leading-relaxed whitespace-pre",children:n})}),e[0]=n,e[1]=r):r=e[1],r},ZVe=({workspaceId:t,open:e,onOpenChange:n})=>{const{api:r}=Kt(),{copied:a,copyToClipboard:s}=go(bc),[i,o]=b.useState(null),[c,u]=b.useState(!1),[d,m]=b.useState(null),h=b.useCallback(async()=>{if(r){u(!0),m(null);try{const x=await r.workspace.getLastLlmRequest({workspaceId:t});if(!x.success){m(x.error),o(null);return}o(x.data)}catch(x){m(x instanceof Error?x.message:String(x)),o(null)}finally{u(!1)}}},[r,t]);b.useEffect(()=>{!e||!r||h()},[e,r,h]);const p=i?JSON.stringify(i,null,2):"",f=i?new Date(i.capturedAt).toLocaleString():null,g=()=>{if(!i)return;const x=new Date(i.capturedAt).toISOString().replace(/[:.]/g,"-"),y=`mux-llm-request-${t}-${x}.json`,w=new Blob([p],{type:"application/json"}),v=URL.createObjectURL(w),k=document.createElement("a");k.href=v,k.download=y,document.body.appendChild(k),k.click(),k.remove(),URL.revokeObjectURL(v)};return l.jsx(sa,{open:e,onOpenChange:n,children:l.jsxs(ia,{maxWidth:"900px",maxHeight:"85vh",className:"min-w-0 gap-5 overflow-x-hidden",children:[l.jsx(Sa,{className:"min-w-0 space-y-3",children:l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx(oa,{children:"Last LLM request"}),l.jsx("div",{className:"text-muted text-xs",children:"Captures the exact payload sent to the provider for this workspace."})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(tt,{variant:"secondary",size:"sm",onClick:()=>void h(),disabled:!r||c,children:c?"Loading...":"Refresh"}),l.jsx(tt,{variant:"secondary",size:"sm",onClick:()=>void s(p),disabled:!i||c,children:a?"Copied":"Copy JSON"}),l.jsxs(tt,{variant:"secondary",size:"sm",onClick:g,disabled:!i||c,children:[l.jsx(Ix,{className:"size-3.5"}),"Download"]})]})]})}),l.jsxs("div",{className:"min-w-0 space-y-4",children:[d&&l.jsx("div",{className:"text-danger-soft text-sm",children:d}),c&&!i&&l.jsx("div",{className:"text-muted text-sm",children:"Loading last request..."}),!c&&!d&&!i&&l.jsx("div",{className:"text-muted text-sm",children:"No request captured yet. Send a message, then open this modal again."}),i&&l.jsxs("div",{className:"min-w-0 space-y-4",children:[l.jsxs("div",{className:"border-border-light bg-foreground/5 rounded-md border p-3 text-xs",children:[l.jsxs("div",{className:"text-muted flex flex-wrap items-center gap-x-2 gap-y-1",children:[l.jsx("span",{className:"text-foreground font-mono",children:i.providerName}),l.jsx("span",{children:""}),l.jsx("span",{className:"text-foreground font-mono",children:i.model}),l.jsx("span",{children:""}),l.jsxs("span",{className:"text-foreground font-mono",children:["thinking=",i.thinkingLevel]}),i.mode&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsxs("span",{className:"text-foreground font-mono",children:["mode=",i.mode]})]}),i.agentId&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsxs("span",{className:"text-foreground font-mono",children:["agent=",i.agentId]})]}),i.maxOutputTokens&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsxs("span",{className:"text-foreground font-mono",children:["maxTokens=",i.maxOutputTokens]})]})]}),f&&l.jsxs("div",{className:"text-muted mt-2 text-[11px]",children:["Captured ",f]})]}),l.jsxs("div",{className:"min-w-0 space-y-3",children:[l.jsxs("details",{open:!0,className:"border-border-light bg-modal-bg min-w-0 rounded-md border p-3",children:[l.jsx("summary",{className:"text-foreground cursor-pointer text-sm font-medium",children:"System message"}),l.jsx("pre",{className:"bg-code-bg text-text mt-3 rounded-sm p-3 font-mono text-xs leading-relaxed whitespace-pre-wrap",children:i.systemMessage})]}),l.jsxs("details",{className:"border-border-light bg-modal-bg min-w-0 rounded-md border p-3",children:[l.jsx("summary",{className:"text-foreground cursor-pointer text-sm font-medium",children:"Messages"}),l.jsx(i3,{children:JSON.stringify(i.messages,null,2)})]}),l.jsxs("details",{className:"border-border-light bg-modal-bg min-w-0 rounded-md border p-3",children:[l.jsx("summary",{className:"text-foreground cursor-pointer text-sm font-medium",children:"Response"}),i.response?l.jsx(i3,{children:JSON.stringify(i.response,null,2)}):l.jsx("div",{className:"text-muted mt-3 text-xs",children:"No response captured yet (wait for the stream to finish)."})]}),l.jsxs("details",{className:"border-border-light bg-modal-bg min-w-0 rounded-md border p-3",children:[l.jsx("summary",{className:"text-foreground cursor-pointer text-sm font-medium",children:"Full JSON"}),l.jsx(i3,{children:p})]})]})]})]})]})})},QVe=t=>{const e=ae.c(4);let n;e[0]!==t.className?(n=ce("h-4 w-4",t.className),e[0]=t.className,e[1]=n):n=e[1];let r;return e[2]!==n?(r=l.jsx(v3,{"aria-hidden":"true",className:n}),e[2]=n,e[3]=r):r=e[3],r},N$=[{scope:"project",label:"Project"},{scope:"global",label:"Global"},{scope:"built-in",label:"Built-in"}],JVe=t=>{const e=ae.c(15);let n;e[0]!==t.loadedSkills?(n=new Set(t.loadedSkills.map(tKe)),e[0]=t.loadedSkills,e[1]=n):n=e[1];const r=n;let a,s,i;if(e[2]!==r||e[3]!==t.availableSkills||e[4]!==t.invalidSkills){const u=new Map;for(const m of t.availableSkills){const h=u.get(m.scope)??[];h.push(m),u.set(m.scope,h)}const d=new Map;for(const m of t.invalidSkills){const h=d.get(m.scope)??[];h.push(m),d.set(m.scope,h)}a="flex flex-col gap-3",s=N$.map(m=>{const{scope:h,label:p}=m,f=u.get(h);return!f||f.length===0?null:l.jsxs("div",{className:"flex flex-col gap-1.5",children:[l.jsxs("div",{className:"text-muted-foreground text-[10px] font-medium tracking-wider uppercase",children:[p," skills"]}),f.map(g=>{const x=r.has(g.name),y=g.advertise===!1;return l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("div",{className:"bg-muted-foreground/30 mt-1.5 h-1 w-1 shrink-0 rounded-full"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("span",{className:ce("text-xs font-medium",x?"text-foreground":"text-muted-foreground"),children:[g.name,y&&l.jsx(Gd,{className:"text-muted-foreground ml-1 inline h-3 w-3","aria-label":"Not advertised in system prompt"}),x&&l.jsx(Hn,{className:"text-success ml-1 inline h-3 w-3"})]}),l.jsx("span",{className:"text-muted-foreground text-[11px] leading-snug",children:g.description})]})]},g.name)})]},h)}),i=t.invalidSkills.length>0&&l.jsxs("div",{className:"border-separator-light border-t pt-2",children:[l.jsxs("div",{className:"text-danger-soft flex items-center gap-1 text-[10px] font-medium tracking-wider uppercase",children:[l.jsx(Mr,{className:"h-3 w-3"}),"Invalid skills"]}),l.jsx("div",{className:"mt-2 flex flex-col gap-3",children:N$.map(m=>{const{scope:h,label:p}=m,f=d.get(h);return!f||f.length===0?null:l.jsxs("div",{className:"flex flex-col gap-1.5",children:[l.jsx("div",{className:"text-muted-foreground text-[10px] font-medium tracking-wider uppercase",children:p}),f.map(nKe)]},`invalid-${h}`)})})]}),e[2]=r,e[3]=t.availableSkills,e[4]=t.invalidSkills,e[5]=a,e[6]=s,e[7]=i}else a=e[5],s=e[6],i=e[7];let o;e[8]!==t.skillLoadErrors?(o=t.skillLoadErrors.length>0&&l.jsxs("div",{className:"border-separator-light border-t pt-2",children:[l.jsxs("div",{className:"text-danger-soft flex items-center gap-1 text-[10px] font-medium tracking-wider uppercase",children:[l.jsx(Wd,{className:"h-3 w-3"}),"Load errors"]}),l.jsx("div",{className:"mt-1.5 flex flex-col gap-1.5",children:t.skillLoadErrors.map(rKe)})]}),e[8]=t.skillLoadErrors,e[9]=o):o=e[9];let c;return e[10]!==a||e[11]!==s||e[12]!==i||e[13]!==o?(c=l.jsxs("div",{className:a,children:[s,i,o]}),e[10]=a,e[11]=s,e[12]=i,e[13]=o,e[14]=c):c=e[14],c},eKe=t=>{const e=ae.c(31),n=t.loadedSkills.length,r=t.availableSkills.length,a=t.invalidSkills?.length??0,s=t.skillLoadErrors?.length??0,i=a+s;if(r===0&&i===0)return null;let o;e[0]!==a||e[1]!==s||e[2]!==n||e[3]!==r?(o=[],r>0&&o.push(`${n} of ${r} skill${r===1?"":"s"} loaded`),a>0&&o.push(`${a} invalid`),s>0&&o.push(`${s} load error${s===1?"":"s"}`),e[0]=a,e[1]=s,e[2]=n,e[3]=r,e[4]=o):o=e[4];const c=o.join(", ");let u;e[5]!==t.invalidSkills?(u=t.invalidSkills??[],e[5]=t.invalidSkills,e[6]=u):u=e[6];let d;e[7]!==t.skillLoadErrors?(d=t.skillLoadErrors??[],e[7]=t.skillLoadErrors,e[8]=d):d=e[8];let m;e[9]!==t.availableSkills||e[10]!==t.loadedSkills||e[11]!==u||e[12]!==d?(m=l.jsx(JVe,{loadedSkills:t.loadedSkills,availableSkills:t.availableSkills,invalidSkills:u,skillLoadErrors:d}),e[9]=t.availableSkills,e[10]=t.loadedSkills,e[11]=u,e[12]=d,e[13]=m):m=e[13];let h;e[14]===Symbol.for("react.memo_cache_sentinel")?(h=ce("bg-modal-bg text-foreground z-[9999] rounded px-[10px] py-[6px]","text-[11px] font-normal font-sans text-left","border border-separator-light shadow-[0_2px_8px_rgba(0,0,0,0.4)]","animate-in fade-in-0 zoom-in-95","data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","max-w-[280px] w-auto min-w-0"),e[14]=h):h=e[14];let p;e[15]!==t.className?(p=ce("relative flex h-6 w-6 shrink-0 items-center justify-center rounded","text-muted hover:bg-sidebar-hover hover:text-foreground",t.className),e[15]=t.className,e[16]=p):p=e[16];let f;e[17]===Symbol.for("react.memo_cache_sentinel")?(f=l.jsx(QVe,{className:"h-4.5 w-4.5"}),e[17]=f):f=e[17];const g=i>0?"border-danger bg-danger text-on-danger":"border-border bg-sidebar",x=i===0&&(n>0?"text-foreground":"text-muted");let y;e[18]!==g||e[19]!==x?(y=ce("absolute -bottom-1 -right-1 flex h-3.5 min-w-3.5 items-center justify-center","rounded-full border px-0.5 text-[9px] font-medium",g,x),e[18]=g,e[19]=x,e[20]=y):y=e[20];let w;e[21]!==n||e[22]!==y?(w=l.jsxs("span",{className:"relative flex h-6 w-6 items-center justify-center",children:[f,l.jsx("span",{className:y,children:n})]}),e[21]=n,e[22]=y,e[23]=w):w=e[23];let v;e[24]!==c||e[25]!==p||e[26]!==w?(v=l.jsx("button",{type:"button",className:p,"aria-label":c,children:w}),e[24]=c,e[25]=p,e[26]=w,e[27]=v):v=e[27];let k;return e[28]!==v||e[29]!==m?(k=l.jsx(uY,{content:m,side:"bottom",align:"end",sideOffset:8,contentClassName:h,children:v}),e[28]=v,e[29]=m,e[30]=k):k=e[30],k};function tKe(t){return t.name}function nKe(t){return l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("div",{className:"bg-muted-foreground/30 mt-1.5 h-1 w-1 shrink-0 rounded-full"}),l.jsxs("div",{className:"flex flex-col gap-0.5",children:[l.jsx("span",{className:"text-xs font-medium",children:t.directoryName}),l.jsx("span",{className:"text-muted-foreground font-mono text-[10px] break-all",children:t.displayPath}),l.jsx("span",{className:"text-muted-foreground text-[11px] leading-snug",children:t.message}),t.hint&&l.jsxs("span",{className:"text-muted-foreground text-[11px] leading-snug",children:["Hint: ",t.hint]})]})]},`${t.scope}:${t.directoryName}:${t.displayPath}`)}function rKe(t){return l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("div",{className:"bg-muted-foreground/30 mt-1.5 h-1 w-1 shrink-0 rounded-full"}),l.jsxs("div",{className:"flex flex-col gap-0.5",children:[l.jsx("span",{className:"text-xs font-medium",children:t.name}),l.jsx("span",{className:"text-muted-foreground text-[11px] leading-snug",children:t.error})]})]},t.name)}const aKe=({workspaceId:t,projectName:e,projectPath:n,workspaceName:r,namedWorkspacePath:a,runtimeConfig:s,leftSidebarCollapsed:i,onToggleLeftSidebarCollapsed:o,onOpenTerminal:c})=>{const{api:u}=Kt(),{disableWorkspaceAgents:d}=Bf(),m=cC(),h=dy(),p=z_(t),{canInterrupt:f,isStarting:g,awaitingUserQuestion:x,loadedSkills:y,skillLoadErrors:w}=_x(t),v=(f||g)&&!x,{startSequence:k}=LY(),[C,_]=b.useState(null),[S,T]=b.useState(!1),[N,j]=b.useState(!1),[R,I]=b.useState([]),[A,$]=b.useState([]),[E]=Tt(yx,!1,{listener:!0}),[M,F]=Tt(D_(t),!1),[L,Y]=Tt(kA(n),!1),[O,G]=b.useState(!1),H=b.useCallback(()=>{const V=window.matchMedia("(max-width: 768px) and (pointer: coarse)").matches;c&&!V?c():m(t,s)},[t,m,s,c]),D=b.useCallback(async()=>{_(null);const V=await h(t,a,s);!V.success&&V.error&&(_(V.error),setTimeout(()=>_(null),3e3))},[t,a,h,s]);b.useEffect(()=>{const V=setTimeout(()=>{k("workspace")},300);return()=>clearTimeout(V)},[k]),b.useEffect(()=>{const V=()=>T(!0);return window.addEventListener(Rn.OPEN_DEBUG_LLM_REQUEST,V),()=>window.removeEventListener(Rn.OPEN_DEBUG_LLM_REQUEST,V)},[]),b.useEffect(()=>{const V=Z=>{bn(Z,st.TOGGLE_NOTIFICATIONS)&&(Z.preventDefault(),F(W=>!W))};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[F]),b.useEffect(()=>{if(!u){I([]),$([]);return}let V=!0;return(async()=>{try{const W=await u.agentSkills.listDiagnostics({workspaceId:t,disableWorkspaceAgents:d||void 0});if(!V)return;I(Array.isArray(W.skills)?W.skills:[]),$(Array.isArray(W.invalidSkills)?W.invalidSkills:[])}catch(W){console.error("Failed to load available skills:",W),V&&(I([]),$([]))}})(),()=>{V=!1}},[u,t,d]);const U=AA(),B=E&&U>0?Math.max(0,U-20):0,q=$i();return l.jsxs("div",{style:B>0?{paddingRight:B}:void 0,"data-testid":"workspace-header",className:ce("bg-sidebar border-border-light flex items-center justify-between border-b px-2",q?NA:"h-8",q&&"titlebar-drag","mobile-sticky-header"),children:[l.jsxs("div",{className:ce("text-foreground flex min-w-0 items-center gap-2.5 overflow-hidden font-semibold",q&&"titlebar-no-drag"),children:[i&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx(tt,{variant:"ghost",size:"icon",onClick:o,"aria-label":"Open sidebar menu",className:"mobile-menu-btn text-muted hover:text-foreground hidden h-6 w-6 shrink-0",children:l.jsx(pee,{className:"h-3.5 w-3.5 shrink-0 select-none"})})}),l.jsxs(Ke,{children:["Open sidebar (",Bt(st.TOGGLE_SIDEBAR),")"]})]}),l.jsx(ty,{runtimeConfig:s,isWorking:v,workspacePath:a,workspaceName:r,tooltipSide:"bottom"}),l.jsx("span",{className:"min-w-0 truncate font-mono text-xs",children:e}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(nD,{workspaceId:t,workspaceName:r}),l.jsx(LM,{gitStatus:p,workspaceId:t,projectPath:n,tooltipPosition:"bottom",isWorking:v})]})]}),l.jsxs("div",{className:ce("flex items-center gap-2",q&&"titlebar-no-drag"),children:[l.jsx(rD,{workspaceId:t}),l.jsxs(yc,{open:O,onOpenChange:G,children:[l.jsxs(Ye,{...O?{open:!1}:{},children:[l.jsx(Xe,{asChild:!0,children:l.jsx(Vm,{asChild:!0,children:l.jsx("button",{type:"button",onClick:()=>F(V=>!V),className:ce("flex h-6 w-6 shrink-0 items-center justify-center rounded",M?"text-foreground":"text-muted hover:bg-sidebar-hover hover:text-foreground"),"data-testid":"notify-on-response-button","aria-pressed":M,children:l.jsx(n5,{className:"h-3.5 w-3.5 shrink-0 select-none",style:{opacity:M?1:.5}})})})}),l.jsx(Ke,{side:"bottom",align:"end",children:l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[l.jsx(Wo,{checked:M,onCheckedChange:V=>F(V===!0)}),l.jsxs("span",{className:"text-foreground",children:["Notify on all responses"," ",l.jsxs("span",{className:"text-muted-foreground",children:["(",Bt(st.TOGGLE_NOTIFICATIONS),")"]})]})]}),l.jsxs("label",{className:"flex cursor-pointer items-start gap-2",children:[l.jsx(Wo,{checked:L,onCheckedChange:V=>Y(V===!0)}),l.jsx("span",{className:"text-muted-foreground",children:"Auto-enable for new workspaces in this project"})]}),l.jsxs("p",{className:"text-muted-foreground border-separator-light border-t pt-2",children:["Agents can also notify on specific events."," ",l.jsx("a",{href:"https://mux.coder.com/config/notifications",target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline",children:"Learn more"})]})]})})]}),l.jsx(gl,{side:"bottom",align:"end",className:"bg-modal-bg border-separator-light w-64 overflow-visible rounded px-[10px] py-[6px] text-[11px] font-normal shadow-[0_2px_8px_rgba(0,0,0,0.4)]",children:l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[l.jsx(Wo,{checked:M,onCheckedChange:V=>F(V===!0)}),l.jsxs("span",{className:"text-foreground",children:["Notify on all responses"," ",l.jsxs("span",{className:"text-muted-foreground",children:["(",Bt(st.TOGGLE_NOTIFICATIONS),")"]})]})]}),l.jsxs("label",{className:"flex cursor-pointer items-start gap-2",children:[l.jsx(Wo,{checked:L,onCheckedChange:V=>Y(V===!0)}),l.jsx("span",{className:"text-muted-foreground",children:"Auto-enable for new workspaces in this project"})]}),l.jsxs("p",{className:"text-muted-foreground border-separator-light border-t pt-2",children:["Agents can also notify on specific events."," ",l.jsx("a",{href:"https://mux.coder.com/config/notifications",target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:underline",children:"Learn more"})]})]})})]}),l.jsx(eKe,{loadedSkills:y,availableSkills:R,invalidSkills:A,skillLoadErrors:w}),C&&l.jsx("span",{className:"text-danger-soft text-xs",children:C}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx(tt,{variant:"ghost",size:"icon",onClick:()=>j(!0),className:"text-muted hover:text-foreground h-6 w-6 shrink-0","data-testid":"workspace-mcp-button",children:l.jsx(Rx,{className:"h-3.5 w-3.5 shrink-0 select-none"})})}),l.jsx(Ke,{side:"bottom",align:"center",children:"Configure MCP servers for this workspace"})]}),l.jsx("div",{className:"max-[480px]:hidden",children:l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx(tt,{variant:"ghost",size:"icon",onClick:()=>void D(),className:"text-muted hover:text-foreground ml-1 h-6 w-6 shrink-0",children:l.jsx(Hm,{className:"h-3.5 w-3.5 shrink-0 select-none"})})}),l.jsxs(Ke,{side:"bottom",align:"center",children:["Open in editor (",Bt(st.OPEN_IN_EDITOR),")"]})]})}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx(tt,{variant:"ghost",size:"icon",onClick:H,className:"text-muted hover:text-foreground ml-1 h-6 w-6 shrink-0 [&_svg]:h-4 [&_svg]:w-4","data-tutorial":"terminal-button",children:l.jsx(r5,{className:"h-4 w-4 shrink-0 select-none"})})}),l.jsxs(Ke,{side:"bottom",align:"center",children:["New terminal (",Bt(st.OPEN_TERMINAL),")"]})]})]}),l.jsx(XVe,{workspaceId:t,projectPath:n,open:N,onOpenChange:j}),l.jsx(ZVe,{workspaceId:t,open:S,onOpenChange:T})]})};function sKe(t){return t.isCompacting()}function HY(t){return[...t.getAllMessages()].reverse().find(n=>n.role==="user"&&n.metadata?.muxMetadata?.type==="compaction-request")??null}function iKe(t){const e=HY(t);if(!e)return null;const n=e.metadata?.muxMetadata;if(n?.type!=="compaction-request")return null;const r=PA(qA(n));return r&&!n.rawCommand.includes(`
`)?`${n.rawCommand}
${r}`:n.rawCommand}async function oKe(t,e,n,r){const a=HY(n);if(!a)return!1;const s=iKe(n);if(!s)return!1;const i=qA(a.metadata?.muxMetadata);return r(gze(a.id,s,i)),await t.workspace.interruptStream({workspaceId:e,options:{abandonPartial:!0}}),!0}function lKe(t){const e=ae.c(13),{workspaceId:n,canInterrupt:r,showRetryBarrier:a,chatInputAPI:s,jumpToBottom:i,handleOpenTerminal:o,handleOpenInEditor:c,aggregator:u,setEditingMessage:d,vimEnabled:m}=t,{api:h}=Kt();let p,f;e[0]!==u||e[1]!==h||e[2]!==r||e[3]!==s||e[4]!==c||e[5]!==o||e[6]!==i||e[7]!==d||e[8]!==a||e[9]!==m||e[10]!==n?(p=()=>{const g=y=>{const w=m?st.INTERRUPT_STREAM_VIM:st.INTERRUPT_STREAM_NORMAL;if(bn(y,w)&&!XA(y.target)){if(u?.hasAwaitingUserQuestion())return;if(r&&u&&sKe(u)){y.preventDefault(),h&&oKe(h,n,u,d),rx(n);return}if(r||a){y.preventDefault(),rx(n),h?.workspace.interruptStream({workspaceId:n});return}}},x=y=>{if(bn(y,st.FOCUS_CHAT)){y.preventDefault(),s.current?.focus();return}if(bn(y,st.OPEN_IN_EDITOR)){y.preventDefault(),c();return}if(bn(y,st.OPEN_TERMINAL)){y.preventDefault(),o();return}Ax(y.target)||bn(y,st.JUMP_TO_BOTTOM)&&(y.preventDefault(),i())};return window.addEventListener("keydown",x,{capture:!0}),window.addEventListener("keydown",g),()=>{window.removeEventListener("keydown",x,{capture:!0}),window.removeEventListener("keydown",g)}},f=[i,o,c,n,r,a,s,u,d,m,h],e[0]=u,e[1]=h,e[2]=r,e[3]=s,e[4]=c,e[5]=o,e[6]=i,e[7]=d,e[8]=a,e[9]=m,e[10]=n,e[11]=p,e[12]=f):(p=e[11],f=e[12]),b.useEffect(p,f)}const $$=({message:t,className:e,onEdit:n,onSendImmediately:r})=>{const{content:a}=t,[s,i]=b.useState(!1),o=b.useCallback(async()=>{if(!(s||!r)){i(!0);try{await r()}finally{i(!1)}}},[s,r]),c=n?[{label:"Edit",onClick:n,icon:l.jsx(Rs,{})}]:[],u=r?l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",onClick:()=>void o(),disabled:s,className:"cursor-pointer hover:underline disabled:cursor-not-allowed disabled:opacity-50",children:"Queued"})}),l.jsx(Ke,{align:"center",children:"Click to send immediately"})]}):"Queued";return l.jsx(ab,{label:u,variant:"user",message:t,className:e,buttons:c,children:l.jsx(MK,{content:a,reviews:t.reviews,fileParts:t.fileParts,variant:"queued"})})},cKe=t=>{const e=ae.c(8),n=t.usagePercentage>=t.thresholdPercentage,r=t.thresholdPercentage-t.usagePercentage,a=t.thresholdPercentage+UA,s=t.isStreaming&&n&&t.usagePercentage<a,i=a-t.usagePercentage;let o,c;if(s){let m;e[0]!==i?(m=Math.round(i),e[0]=i,e[1]=m):m=e[1],o=`Force-compacting in ${m}%`,c=!1}else if(n)o="Next message will Auto-Compact",c=!0;else{let m;e[2]!==r?(m=Math.round(r),e[2]=r,e[3]=m):m=e[3],o=`Auto-Compact in ${m}% usage`,c=!1}const u=`cursor-pointer hover:underline ${c?"text-plan-mode font-semibold":"text-muted"}`;let d;return e[4]!==t.onCompactClick||e[5]!==u||e[6]!==o?(d=l.jsx("div",{className:"mx-4 mt-2 mb-1 text-right text-[10px]",children:l.jsx("button",{type:"button",onClick:t.onCompactClick,className:u,title:"Click to insert /compact command",children:o})}),e[4]=t.onCompactClick,e[5]=u,e[6]=o,e[7]=d):d=e[7],d};function A$(t){return t>=1e6?`${(t/1e6).toFixed(1).replace(".0","")}M`:t>=1e3?`${Math.round(t/1e3)}K`:String(t)}const uKe=t=>{const e=ae.c(28);let n;e[0]!==t.warning.targetModel?(n=nu(t.warning.targetModel),e[0]=t.warning.targetModel,e[1]=n):n=e[1];const r=n;let a;e[2]!==t.warning.compactionModel?(a=t.warning.compactionModel?nu(t.warning.compactionModel):null,e[2]=t.warning.compactionModel,e[3]=a):a=e[3];const s=a;let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsxs("div",{className:"text-plan-mode mb-1 flex items-center gap-2 text-[13px] font-medium",children:[l.jsx(Mr,{"aria-hidden":"true",className:"h-4 w-4"}),l.jsx("span",{children:"Context May Exceed Model Limit"})]}),e[4]=i):i=e[4];let o;e[5]!==t.warning.currentTokens?(o=A$(t.warning.currentTokens),e[5]=t.warning.currentTokens,e[6]=o):o=e[6];let c;e[7]!==r?(c=l.jsx("span",{className:"font-medium",children:r}),e[7]=r,e[8]=c):c=e[8];let u;e[9]!==t.warning.targetLimit?(u=A$(t.warning.targetLimit),e[9]=t.warning.targetLimit,e[10]=u):u=e[10];let d;e[11]!==o||e[12]!==c||e[13]!==u?(d=l.jsxs("div",{className:"flex-1",children:[i,l.jsxs("p",{className:"text-foreground/80 text-[12px] leading-relaxed",children:["Current context (",o," tokens) may exceed the"," ",c," limit (",u,"). Consider compacting before sending."]})]}),e[11]=o,e[12]=c,e[13]=u,e[14]=d):d=e[14];let m;e[15]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx(ir,{size:14,"aria-hidden":"true"}),e[15]=m):m=e[15];let h;e[16]!==t.onDismiss?(h=l.jsx("button",{type:"button",onClick:t.onDismiss,className:"text-muted hover:text-foreground -mt-1 -mr-1 cursor-pointer p-1",title:"Dismiss","aria-label":"Dismiss context limit warning",children:m}),e[16]=t.onDismiss,e[17]=h):h=e[17];let p;e[18]!==d||e[19]!==h?(p=l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[d,h]}),e[18]=d,e[19]=h,e[20]=p):p=e[20];let f;e[21]!==s||e[22]!==t.onCompact||e[23]!==t.warning.errorMessage?(f=l.jsx("div",{className:"mt-2.5 flex items-center gap-3",children:t.warning.errorMessage?l.jsx("span",{className:"text-error text-[12px]",children:t.warning.errorMessage}):l.jsxs("button",{type:"button",onClick:t.onCompact,className:"bg-plan-mode/20 hover:bg-plan-mode/30 text-plan-mode cursor-pointer rounded px-3 py-1.5 text-[12px] font-medium transition-colors",children:["Compact with ",s]})}),e[21]=s,e[22]=t.onCompact,e[23]=t.warning.errorMessage,e[24]=f):f=e[24];let g;return e[25]!==f||e[26]!==p?(g=l.jsxs("div",{"data-testid":"context-switch-warning",className:"bg-plan-mode/10 border-plan-mode/30 mx-4 my-2 rounded-md border px-4 py-3",children:[p,f]}),e[25]=f,e[26]=p,e[27]=g):g=e[27],g},dKe=t=>{const e=x3(t.runtimeConfig),{workspaceMetadata:n}=uc(),r=Du(),a=b.useMemo(()=>{if(!e)return[];const i=[];for(const[o,c]of n)o!==t.workspaceId&&c.projectPath===t.projectPath&&x3(c.runtimeConfig)&&i.push(o);return i},[e,n,t.workspaceId,t.projectPath]),s=b.useSyncExternalStore(i=>{const o=a.map(c=>r.subscribeKey(c,i));return()=>o.forEach(c=>c())},()=>{for(const i of a)try{if(r.getWorkspaceSidebarState(i).canInterrupt)return n.get(i)?.name??i}catch{}return null});return!e||!s?null:l.jsxs("div",{className:"text-center text-xs text-yellow-600/80",children:[l.jsx(Mr,{"aria-hidden":"true",className:"mr-1 inline-block h-3 w-3 align-[-2px]"}),l.jsx("span",{className:"text-yellow-500",children:s})," is also running in this project directory  agents may interfere"]})};function mKe(t,e=60){const n=t.split(`
`)[0]??t;return n.length<=e?n:n.slice(0,e-3)+"..."}const hKe=t=>{const e=ae.c(21),[n,r]=b.useState(null),[a,s]=b.useState(!1),[,i]=b.useState(0),o=DA(t.workspaceId),c=DQ(t.workspaceId),{terminate:u}=oC(),d=o.filter(pKe);let m;e[0]!==o||e[1]!==n?(m=o.find(N=>N.id===n)??null,e[0]=o,e[1]=n,e[2]=m):m=e[2];const h=m,p=d.length;let f;e[3]!==p||e[4]!==a||e[5]!==i?(f=()=>{if(!a||p===0)return;const N=setInterval(()=>i(fKe),1e3);return()=>clearInterval(N)},e[3]=p,e[4]=a,e[5]=i,e[6]=f):f=e[6];let g;e[7]!==p||e[8]!==a?(g=[a,p],e[7]=p,e[8]=a,e[9]=g):g=e[9],b.useEffect(f,g);let x;e[10]===Symbol.for("react.memo_cache_sentinel")?(x=(N,j)=>{j.stopPropagation(),r(N)},e[10]=x):x=e[10];const y=x;let w;e[11]!==u?(w=(N,j)=>{j.stopPropagation(),u(N)},e[11]=u,e[12]=w):w=e[12];const v=w;let k;e[13]===Symbol.for("react.memo_cache_sentinel")?(k=()=>{s(gKe)},e[13]=k):k=e[13];const C=k;if(p===0&&!n)return null;const _=p>0&&l.jsxs("div",{className:"border-border bg-dark border-t px-[15px]",children:[l.jsxs("button",{type:"button",onClick:C,className:"group mx-auto flex w-full max-w-4xl items-center gap-2 px-2 py-1 text-xs transition-colors",children:[l.jsx(r5,{className:"text-muted group-hover:text-secondary size-3.5 transition-colors"}),l.jsxs("span",{className:"text-muted group-hover:text-secondary transition-colors",children:[l.jsx("span",{className:"font-medium",children:p})," background bash",p!==1&&"es"]}),l.jsx("div",{className:"ml-auto",children:a?l.jsx(Fs,{className:"text-muted group-hover:text-secondary size-3.5 transition-colors"}):l.jsx(na,{className:"text-muted group-hover:text-secondary size-3.5 transition-colors"})})]}),a&&l.jsx("div",{className:"border-border mx-auto max-h-48 max-w-4xl space-y-1.5 overflow-y-auto border-t py-2",children:d.map(N=>{const j=c.has(N.id);return l.jsxs("div",{className:ce("hover:bg-hover flex items-center justify-between gap-3 rounded px-2 py-1.5","transition-colors",j&&"pointer-events-none opacity-50"),children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"text-foreground truncate font-mono text-xs",title:N.script,children:N.displayName??mKe(N.script)}),l.jsxs("div",{className:"text-muted font-mono text-[10px]",children:["pid ",N.pid]})]}),l.jsxs("div",{className:"flex shrink-0 items-center gap-2",children:[l.jsx("span",{className:"text-muted text-[10px]",children:v2(Date.now()-N.startTime)}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",disabled:j,onClick:R=>y(N.id,R),className:ce("text-muted hover:text-secondary rounded p-1 transition-colors",j&&"cursor-not-allowed"),children:l.jsx(dc,{size:14})})}),l.jsx(Ke,{children:"View output"})]}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",disabled:j,onClick:R=>v(N.id,R),className:ce("text-muted hover:text-error rounded p-1 transition-colors",j&&"cursor-not-allowed"),children:j?l.jsx(pn,{size:14,className:"animate-spin"}):l.jsx(ir,{size:14})})}),l.jsx(Ke,{children:"Terminate process"})]})]})]},N.id)})})]});let S;e[14]!==t.workspaceId||e[15]!==h?.displayName||e[16]!==n?(S=n&&l.jsx(WK,{open:!0,onOpenChange:N=>{N||r(null)},workspaceId:t.workspaceId,processId:n,displayName:h?.displayName}),e[14]=t.workspaceId,e[15]=h?.displayName,e[16]=n,e[17]=S):S=e[17];let T;return e[18]!==_||e[19]!==S?(T=l.jsxs(l.Fragment,{children:[_,S]}),e[18]=_,e[19]=S,e[20]=T):T=e[20],T};function pKe(t){return t.status==="running"}function fKe(t){return t+1}function gKe(t){return!t}function ou(t,e){const n=Yl(t);return n?.max_input_tokens?Kl(t)&&e?1e6:n.max_input_tokens:null}function I$(t){return t.input.tokens+t.cached.tokens+t.cacheCreate.tokens}const bKe=10;function xKe(t,e,n,r=LQ,a=bKe){const s=r*100;if(!(r<1)||!e||!t)return{shouldShowWarning:!1,shouldForceCompact:!1,usagePercentage:0,thresholdPercentage:s};const o=ou(e,n);if(!o)return{shouldShowWarning:!1,shouldForceCompact:!1,usagePercentage:0,thresholdPercentage:s};const c=t.lastContextUsage,u=t.liveUsage??c,d=u?I$(u)/o*100:0,m=s+UA,h=d>=m,p=c?I$(c)/o*100:0;return{shouldShowWarning:Math.max(p,d)>=s-a,shouldForceCompact:h,usagePercentage:d,thresholdPercentage:s}}const yKe=.9;function R$(t){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n.type==="assistant"&&n.model)return n.model}return null}function wKe(t,e,n,r){const a=OQ();if(a){const s=c_({modelId:a,providersConfig:r.providersConfig,policy:r.policy}),i=ou(a,n);if(s&&i&&i>t)return a}if(e){const s=c_({modelId:e,providersConfig:r.providersConfig,policy:r.policy}),i=ou(e,n);if(s&&i&&i>t)return e}return null}function vKe(t,e,n,r,a,s){if(!s?.allowSameModel&&n&&gm(e)===gm(n))return null;const i=ou(e,r);if(!i||t<=i*yKe)return null;const o=wKe(t,n,r,a);return{currentTokens:t,targetLimit:i,targetModel:e,compactionModel:o,errorMessage:o?null:"Context too large. Use `/compact -m <model>` with a 1M context model."}}const qY=t=>({currentModel:t,pending:null,warning:null}),M$=(t,e)=>t===e?!0:!t||!e?!1:t.currentTokens===e.currentTokens&&t.targetLimit===e.targetLimit&&t.targetModel===e.targetModel&&t.compactionModel===e.compactionModel&&t.errorMessage===e.errorMessage;function kKe(t,e){switch(e.type){case"RESET":return qY(e.model);case"USER_REQUESTED_MODEL":return{...t,pending:e.pending};case"MODEL_APPLIED":return t.pending&&t.pending.model!==e.model?{currentModel:e.model,pending:null,warning:null}:t.pending&&!t.pending.deferred&&t.pending.model===e.model?{...t,currentModel:e.model,pending:null}:!t.pending&&t.warning?{currentModel:e.model,pending:null,warning:null}:{...t,currentModel:e.model};case"WARNING_EVALUATED":return{...t,warning:e.warning,pending:null};case"WARNING_UPDATED":return{...t,warning:e.warning};case"CLEAR_WARNING":return{...t,warning:null};case"CLEAR_PENDING":return{...t,pending:null};default:return t}}function _Ke(t){const e=ae.c(64),{workspaceId:n,messages:r,pendingModel:a,use1M:s,workspaceUsage:i,api:o,pendingSendOptions:c}=t,[u,d]=b.useReducer(kKe,a,qY),m=u.warning,h=b.useRef(s),{config:p}=Pu(),f=Oi(),g=f.status.state==="enforced"?f.policy??null:null;let x;e[0]!==g||e[1]!==p?(x={providersConfig:p,policy:g},e[0]=g,e[1]=p,e[2]=x):x=e[2];const y=x,w=b.useRef(y),v=b.useRef(null),k=b.useRef(n);let C,_;e[3]!==y||e[4]!==a||e[5]!==s||e[6]!==n?(C=()=>{k.current!==n&&(k.current=n,h.current=s,w.current=y,v.current=null,d({type:"RESET",model:a}))},_=[n,a,s,y],e[3]=y,e[4]=a,e[5]=s,e[6]=n,e[7]=C,e[8]=_):(C=e[7],_=e[8]),b.useLayoutEffect(C,_);let S;e[9]!==i?.lastContextUsage||e[10]!==i?.liveUsage?(S=()=>{const J=i?.liveUsage??i?.lastContextUsage;return J?J.input.tokens+J.cached.tokens+J.cacheCreate.tokens:0},e[9]=i?.lastContextUsage,e[10]=i?.liveUsage,e[11]=S):S=e[11];const N=S();let j;e[12]!==g||e[13]!==p||e[14]!==s?(j=J=>{if(!J||J.compactionModel)return J;const ee=u_({currentModel:J.targetModel,providersConfig:p,policy:g});if(ee){const se=ou(ee.modelId,s);if(se&&se>J.currentTokens)return{...J,compactionModel:ee.modelId,errorMessage:null}}return J},e[12]=g,e[13]=p,e[14]=s,e[15]=j):j=e[15];const R=j;let I;e[16]!==y||e[17]!==R||e[18]!==r||e[19]!==s?(I=J=>{if(J.tokens===0)return null;const ee=J.previousModel??R$(r);v.current=ee;const se=vKe(J.tokens,J.targetModel,ee,s,y,{allowSameModel:J.allowSameModel});return R(se)},e[16]=y,e[17]=R,e[18]=r,e[19]=s,e[20]=I):I=e[20];const A=I;let $;e[21]!==A||e[22]!==N?($=J=>{if(J.previousModel===J.model){d({type:"CLEAR_PENDING"});return}const ee={model:J.model,previousModel:J.previousModel,deferred:N===0};if(d({type:"USER_REQUESTED_MODEL",pending:ee}),ee.deferred){d({type:"CLEAR_WARNING"});return}const se=A({tokens:N,targetModel:J.model,previousModel:J.previousModel});d({type:"WARNING_UPDATED",warning:se})},e[21]=A,e[22]=N,e[23]=$):$=e[23];const E=$;let M;e[24]!==a||e[25]!==n?(M=J=>{gm(J).trim()!==gm(a).trim()&&zp(n,J,"user")},e[24]=a,e[25]=n,e[26]=M):M=e[26];const F=M;let L;e[27]!==o||e[28]!==c||e[29]!==m||e[30]!==n?(L=()=>{!o||!m?.compactionModel||(Hd({api:o,workspaceId:n,model:m.compactionModel,sendMessageOptions:c}),d({type:"CLEAR_WARNING"}))},e[27]=o,e[28]=c,e[29]=m,e[30]=n,e[31]=L):L=e[31];const Y=L;let O;e[32]===Symbol.for("react.memo_cache_sentinel")?(O=()=>{d({type:"CLEAR_WARNING"})},e[32]=O):O=e[32];const G=O;let H,D;e[33]!==a||e[34]!==E||e[35]!==u.currentModel||e[36]!==n?(H=()=>{if(u.currentModel===a)return;const J=PQ(n,a);(J==="user"||J==="agent")&&E({model:a,previousModel:u.currentModel}),d({type:"MODEL_APPLIED",model:a})},D=[a,E,u.currentModel,n],e[33]=a,e[34]=E,e[35]=u.currentModel,e[36]=n,e[37]=H,e[38]=D):(H=e[37],D=e[38]),b.useEffect(H,D);let U,B;e[39]!==A||e[40]!==a||e[41]!==u.pending||e[42]!==N?(U=()=>{const J=u.pending;if(!J?.deferred)return;if(J.model!==a){d({type:"CLEAR_PENDING"});return}if(N===0)return;const ee=A({tokens:N,targetModel:J.model,previousModel:J.previousModel});d({type:"WARNING_EVALUATED",warning:ee})},B=[a,N,u.pending,A],e[39]=A,e[40]=a,e[41]=u.pending,e[42]=N,e[43]=U,e[44]=B):(U=e[43],B=e[44]),b.useEffect(U,B);let q,V;e[45]!==y||e[46]!==A||e[47]!==a||e[48]!==N||e[49]!==m?(q=()=>{const ee=w.current!==y;if(w.current=y,!ee||!m||m.targetModel!==a)return;const se=A({tokens:N,targetModel:a,previousModel:v.current,allowSameModel:!0});M$(m,se)||d({type:"WARNING_UPDATED",warning:se})},V=[y,m,N,a,A],e[45]=y,e[46]=A,e[47]=a,e[48]=N,e[49]=m,e[50]=q,e[51]=V):(q=e[50],V=e[51]),b.useEffect(q,V);let Z,W;e[52]!==A||e[53]!==r||e[54]!==a||e[55]!==N||e[56]!==s||e[57]!==m?(Z=()=>{const J=h.current;if(h.current=s,J!==s){const ee=ou(a,J),se=ou(a,s);if(ee===se){s&&N===0&&d({type:"CLEAR_WARNING"});return}if(N>0){const re=A({tokens:N,targetModel:a,previousModel:R$(r),allowSameModel:!0});if(M$(m,re))return;d({type:"WARNING_UPDATED",warning:re})}else s&&d({type:"CLEAR_WARNING"})}},W=[s,a,N,r,A,m],e[52]=A,e[53]=r,e[54]=a,e[55]=N,e[56]=s,e[57]=m,e[58]=Z,e[59]=W):(Z=e[58],W=e[59]),b.useEffect(Z,W);let K;return e[60]!==Y||e[61]!==F||e[62]!==m?(K={warning:m,handleModelChange:F,handleCompact:Y,handleDismiss:G},e[60]=Y,e[61]=F,e[62]=m,e[63]=K):K=e[63],K}function CKe(t){const{shouldForceCompact:e,canInterrupt:n,isCompacting:r,onTrigger:a}=t,s=b.useRef(!1);return b.useEffect(()=>{!e||!n||r||s.current||(s.current=!0,a())},[e,n,r,a]),b.useEffect(()=>{e||(s.current=!1)},[e]),s.current}class SKe extends b.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?l.jsxs("div",{className:"border-border bg-dark flex items-center gap-2 border-t px-3 py-1.5 text-xs",children:[l.jsx(Mr,{className:"text-warning size-3.5"}),l.jsx("span",{className:"text-muted",children:"Reviews data corrupted"}),l.jsxs(tt,{variant:"ghost",size:"sm",className:"text-error h-5 px-2 text-xs",onClick:()=>{this.props.onClear(),this.setState({hasError:!1})},children:[l.jsx(fa,{className:"mr-1 size-3"}),"Clear all"]})]}):this.props.children}}const D$=t=>{const e=ae.c(77),{review:n,onCheck:r,onUncheck:a,onSendToChat:s,onRemove:i,onUpdateNote:o}=t,c=n.status==="checked",[u,d]=b.useState(!1),[m,h]=b.useState(!1),[p,f]=b.useState(n.data.userNote),g=b.useRef(null);let x;e[0]===Symbol.for("react.memo_cache_sentinel")?(x=()=>{d(EKe)},e[0]=x):x=e[0];const y=x;let w;e[1]!==n.data.userNote?(w=()=>{f(n.data.userNote),h(!0),setTimeout(()=>g.current?.focus(),0)},e[1]=n.data.userNote,e[2]=w):w=e[2];const v=w;let k;e[3]!==p||e[4]!==o||e[5]!==n.data.userNote?(k=()=>{p.trim()!==n.data.userNote&&o(p.trim()),h(!1)},e[3]=p,e[4]=o,e[5]=n.data.userNote,e[6]=k):k=e[6];const C=k;let _;e[7]!==n.data.userNote?(_=()=>{f(n.data.userNote),h(!1)},e[7]=n.data.userNote,e[8]=_):_=e[8];const S=_;let T;e[9]!==S||e[10]!==C?(T=ke=>{bn(ke,st.SAVE_EDIT)?(ke.preventDefault(),C()):bn(ke,st.CANCEL_EDIT)&&(ke.preventDefault(),S())},e[9]=S,e[10]=C,e[11]=T):T=e[11];const N=T;let j;if(e[12]!==n.data.selectedCode||e[13]!==n.data.selectedDiff){e:{if(n.data.selectedDiff){j=n.data.selectedDiff;break e}const ke=n.data.selectedCode.split(`
`);if(ke.some(NKe)){j=n.data.selectedCode;break e}j=ke.map($Ke).join(`
`)}e[12]=n.data.selectedCode,e[13]=n.data.selectedDiff,e[14]=j}else j=e[14];const R=j;let I;e[15]!==n.createdAt?(I=qf(n.createdAt),e[15]=n.createdAt,e[16]=I):I=e[16];const A=I,$=c?"border-border-light bg-hover/50 opacity-70":"border-border-medium bg-border-medium/20";let E;e[17]!==$?(E=ce("group rounded border transition-colors",$),e[17]=$,e[18]=E):E=e[18];let M;e[19]!==u?(M=l.jsx("button",{type:"button",onClick:y,className:"text-muted hover:text-secondary shrink-0",children:u?l.jsx(Fs,{className:"size-3.5"}):l.jsx(na,{className:"size-3.5"})}),e[19]=u,e[20]=M):M=e[20];const F=c&&"text-success";let L;e[21]!==F?(L=ce("size-5 shrink-0 [&_svg]:size-3",F),e[21]=F,e[22]=L):L=e[22];const Y=c?a:r;let O;e[23]!==c?(O=c?l.jsx(Lte,{}):l.jsx(Hn,{}),e[23]=c,e[24]=O):O=e[24];let G;e[25]!==L||e[26]!==Y||e[27]!==O?(G=l.jsx(Xe,{asChild:!0,children:l.jsx(tt,{variant:"ghost",size:"icon",className:L,onClick:Y,children:O})}),e[25]=L,e[26]=Y,e[27]=O,e[28]=G):G=e[28];const H=c?"Mark as pending":"Mark as done";let D;e[29]!==H?(D=l.jsx(Ke,{children:H}),e[29]=H,e[30]=D):D=e[30];let U;e[31]!==G||e[32]!==D?(U=l.jsxs(Ye,{children:[G,D]}),e[31]=G,e[32]=D,e[33]=U):U=e[33];let B;e[34]!==c||e[35]!==s?(B=!c&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx(tt,{variant:"ghost",size:"icon",className:"size-5 shrink-0 [&_svg]:size-3",onClick:s,children:l.jsx(mI,{})})}),l.jsx(Ke,{children:"Send to chat"})]}),e[34]=c,e[35]=s,e[36]=B):B=e[36];let q;e[37]!==n.data.filePath||e[38]!==n.data.lineRange?(q=l.jsxs("span",{className:"shrink-0 truncate font-mono text-[var(--color-review-accent)]",children:[n.data.filePath,":",n.data.lineRange]}),e[37]=n.data.filePath,e[38]=n.data.lineRange,e[39]=q):q=e[39];let V;e[40]!==n.data.userNote?(V=n.data.userNote&&l.jsx("span",{className:"text-secondary min-w-0 flex-1 truncate italic",children:n.data.userNote.split(`
`)[0]}),e[40]=n.data.userNote,e[41]=V):V=e[41];let Z;e[42]!==A?(Z=l.jsx("span",{className:"text-muted shrink-0 text-[10px]",children:A}),e[42]=A,e[43]=Z):Z=e[43];let W;e[44]!==q||e[45]!==V||e[46]!==Z?(W=l.jsxs("button",{type:"button",onClick:y,className:"flex min-w-0 flex-1 items-center gap-2 text-left",children:[q,V,Z]}),e[44]=q,e[45]=V,e[46]=Z,e[47]=W):W=e[47];let K;e[48]===Symbol.for("react.memo_cache_sentinel")?(K=l.jsx(fa,{}),e[48]=K):K=e[48];let J;e[49]!==i?(J=l.jsx(Xe,{asChild:!0,children:l.jsx(tt,{variant:"ghost",size:"icon",className:"text-error size-5 shrink-0 opacity-0 transition-opacity group-hover:opacity-100 [&_svg]:size-3",onClick:i,children:K})}),e[49]=i,e[50]=J):J=e[50];let ee;e[51]===Symbol.for("react.memo_cache_sentinel")?(ee=l.jsx(Ke,{children:"Remove"}),e[51]=ee):ee=e[51];let se;e[52]!==J?(se=l.jsxs(Ye,{children:[J,ee]}),e[52]=J,e[53]=se):se=e[53];let re;e[54]!==M||e[55]!==U||e[56]!==B||e[57]!==W||e[58]!==se?(re=l.jsxs("div",{className:"flex items-center gap-2 px-2 py-1.5 text-xs",children:[M,U,B,W,se]}),e[54]=M,e[55]=U,e[56]=B,e[57]=W,e[58]=se,e[59]=re):re=e[59];let ue;e[60]!==R||e[61]!==p||e[62]!==S||e[63]!==N||e[64]!==C||e[65]!==v||e[66]!==m||e[67]!==u||e[68]!==n.data.newStart||e[69]!==n.data.oldStart||e[70]!==n.data.selectedDiff||e[71]!==n.data.userNote?(ue=u&&l.jsxs("div",{className:"border-border-light border-t",children:[l.jsx("div",{className:"max-h-32 overflow-auto text-[11px]",children:l.jsx(Jp,{content:R,showLineNumbers:!!n.data.selectedDiff,oldStart:n.data.oldStart??1,newStart:n.data.newStart??1,fontSize:"11px"})}),l.jsx("div",{className:"border-border-light border-t p-2",children:m?l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("textarea",{ref:g,value:p,onChange:ke=>f(ke.target.value),onKeyDown:N,className:"bg-dark border-border text-secondary w-full resize-none rounded border p-2 text-xs focus:border-[var(--color-review-accent)] focus:outline-none",rows:2,placeholder:"Your comment..."}),l.jsxs("div",{className:"flex items-center justify-end gap-1",children:[l.jsxs("span",{className:"text-muted mr-2 text-[10px]",children:[Bt(st.SAVE_EDIT)," to save, Esc to cancel"]}),l.jsxs(tt,{variant:"ghost",size:"sm",className:"h-5 px-2 text-xs",onClick:S,children:[l.jsx(ir,{className:"mr-1 size-3"}),"Cancel"]}),l.jsxs(tt,{variant:"secondary",size:"sm",className:"h-5 px-2 text-xs",onClick:C,children:[l.jsx(Hn,{className:"mr-1 size-3"}),"Save"]})]})]}):l.jsxs("div",{className:"group/comment flex items-start gap-2",children:[l.jsx("blockquote",{className:"text-primary flex-1 border-l-2 border-[var(--color-review-accent)] pl-2 text-xs italic",children:n.data.userNote||l.jsx("span",{className:"text-muted",children:"No comment"})}),l.jsx(tt,{variant:"ghost",size:"icon",className:"size-5 shrink-0 opacity-0 transition-opacity group-hover/comment:opacity-100 [&_svg]:size-3",onClick:v,children:l.jsx(Rs,{})})]})})]}),e[60]=R,e[61]=p,e[62]=S,e[63]=N,e[64]=C,e[65]=v,e[66]=m,e[67]=u,e[68]=n.data.newStart,e[69]=n.data.oldStart,e[70]=n.data.selectedDiff,e[71]=n.data.userNote,e[72]=ue):ue=e[72];let he;return e[73]!==re||e[74]!==ue||e[75]!==E?(he=l.jsxs("div",{className:E,children:[re,ue]}),e[73]=re,e[74]=ue,e[75]=E,e[76]=he):he=e[76],he},jKe=t=>{const e=ae.c(44),{workspaceId:n}=t,r=Xm(n),[a,s]=b.useState(!1),[i,o]=b.useState(!1);let c;e[0]!==r.reviews?(c=r.reviews.filter(AKe),e[0]=r.reviews,e[1]=c):c=e[1];const u=c;let d;e[2]!==r.reviews?(d=r.reviews.filter(IKe).sort(RKe),e[2]=r.reviews,e[3]=d):d=e[3];const m=d;let h;e[4]!==m||e[5]!==u?(h={pendingList:u,completedList:m},e[4]=m,e[5]=u,e[6]=h):h=e[6];const{pendingList:p,completedList:f}=h;let g;e:{if(i){g=f;break e}let L;e[7]!==f?(L=f.slice(0,3),e[7]=f,e[8]=L):L=e[8],g=L}const x=g,y=f.length-3;let w;e[9]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{s(MKe)},e[9]=w):w=e[9];const v=w;let k;e[10]!==r?(k=L=>{r.attachReview(L)},e[10]=r,e[11]=k):k=e[11];const C=k;let _;e[12]!==r?(_=(L,Y)=>{r.updateReviewNote(L,Y)},e[12]=r,e[13]=_):_=e[13];const S=_;if(r.reviews.length===0)return null;const T=r.pendingCount>0?"text-[var(--color-review-accent)]":"text-muted group-hover:text-secondary";let N;e[14]!==T?(N=ce("size-3.5 transition-colors",T),e[14]=T,e[15]=N):N=e[15];let j;e[16]!==N?(j=l.jsx(k1,{className:N}),e[16]=N,e[17]=j):j=e[17];let R;e[18]!==r.pendingCount?(R=r.pendingCount>0?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"font-medium text-[var(--color-review-accent)]",children:r.pendingCount})," pending review",r.pendingCount!==1&&"s"]}):l.jsx(l.Fragment,{children:"No pending reviews"}),e[18]=r.pendingCount,e[19]=R):R=e[19];let I;e[20]!==r.checkedCount?(I=r.checkedCount>0&&l.jsxs(l.Fragment,{children:["  ",r.checkedCount," completed"]}),e[20]=r.checkedCount,e[21]=I):I=e[21];let A;e[22]!==R||e[23]!==I?(A=l.jsxs("span",{className:"text-muted group-hover:text-secondary transition-colors",children:[R,I]}),e[22]=R,e[23]=I,e[24]=A):A=e[24];let $;e[25]!==a?($=l.jsx("div",{className:"ml-auto",children:a?l.jsx(Fs,{className:"text-muted group-hover:text-secondary size-3.5 transition-colors"}):l.jsx(na,{className:"text-muted group-hover:text-secondary size-3.5 transition-colors"})}),e[25]=a,e[26]=$):$=e[26];let E;e[27]!==j||e[28]!==A||e[29]!==$?(E=l.jsxs("button",{type:"button",onClick:v,className:"group mx-auto flex w-full max-w-4xl items-center gap-2 px-2 py-1 text-xs transition-colors",children:[j,A,$]}),e[27]=j,e[28]=A,e[29]=$,e[30]=E):E=e[30];let M;e[31]!==f.length||e[32]!==x||e[33]!==C||e[34]!==S||e[35]!==y||e[36]!==a||e[37]!==p||e[38]!==r||e[39]!==i?(M=a&&l.jsxs("div",{className:"border-border mx-auto max-h-80 max-w-4xl space-y-3 overflow-y-auto border-t py-2",children:[p.length>0&&l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-muted text-[10px]",children:["Pending (",p.length,")"]}),p.length>1&&l.jsxs("button",{type:"button",onClick:r.attachAllPending,className:"text-muted flex items-center gap-1 text-[10px] transition-colors hover:text-[var(--color-review-accent)]",children:[l.jsx(mI,{className:"size-3"}),"Attach all"]})]}),p.map(L=>l.jsx(D$,{review:L,onCheck:()=>r.checkReview(L.id),onUncheck:()=>r.uncheckReview(L.id),onSendToChat:()=>C(L.id),onRemove:()=>r.removeReview(L.id),onUpdateNote:Y=>S(L.id,Y)},L.id))]}),f.length>0&&l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-muted text-[10px]",children:["Completed (",f.length,")"]}),f.length>0&&l.jsx("button",{type:"button",onClick:r.clearChecked,className:"text-muted hover:text-error text-[10px] transition-colors",children:"Clear"})]}),x.map(L=>l.jsx(D$,{review:L,onCheck:()=>r.checkReview(L.id),onUncheck:()=>r.uncheckReview(L.id),onSendToChat:()=>C(L.id),onRemove:()=>r.removeReview(L.id),onUpdateNote:Y=>S(L.id,Y)},L.id)),y>0&&!i&&l.jsxs("button",{type:"button",onClick:()=>o(!0),className:"text-muted hover:text-secondary w-full py-1 text-center text-xs transition-colors",children:["Show ",y," more completed review",y!==1&&"s"]})]}),p.length===0&&f.length===0&&l.jsx("div",{className:"text-muted py-3 text-center text-xs",children:"No reviews yet"})]}),e[31]=f.length,e[32]=x,e[33]=C,e[34]=S,e[35]=y,e[36]=a,e[37]=p,e[38]=r,e[39]=i,e[40]=M):M=e[40];let F;return e[41]!==E||e[42]!==M?(F=l.jsxs("div",{className:"border-border bg-dark border-t px-[15px]",children:[E,M]}),e[41]=E,e[42]=M,e[43]=F):F=e[43],F},TKe=t=>{const e=ae.c(5),{workspaceId:n}=t,r=Xm(n);let a;e[0]!==n?(a=l.jsx(jKe,{workspaceId:n}),e[0]=n,e[1]=a):a=e[1];let s;return e[2]!==r.clearAll||e[3]!==a?(s=l.jsx(SKe,{onClear:r.clearAll,children:a}),e[2]=r.clearAll,e[3]=a,e[4]=s):s=e[4],s};function EKe(t){return!t}function NKe(t){return/^[+-\s]/.test(t)}function $Ke(t){return` ${t}`}function AKe(t){return t.status==="pending"}function IKe(t){return t.status==="checked"}function RKe(t,e){return(e.statusChangedAt??e.createdAt)-(t.statusChangedAt??t.createdAt)}function MKe(t){return!t}const DKe=t=>{const{workspaceId:e,projectPath:n,projectName:r,workspaceName:a,namedWorkspacePath:s,leftSidebarCollapsed:i,onToggleLeftSidebarCollapsed:o,runtimeConfig:c,onOpenTerminal:u,workspaceState:d}=t,{api:m}=Kt(),{workspaceMetadata:h}=uc(),p=b.useRef(null),f=Du(),g=BA(e),x=If(e),y=Xm(e),{autoBackgroundOnSend:w}=oC(),{clearError:v}=pL(),k=h.get(e),C=!!k?.parentWorkspaceId&&k?.taskStatus==="queued",_=C&&typeof k?.taskPrompt=="string"&&k.taskPrompt.trim().length>0?k.taskPrompt:null,S=!!_&&(d?.messages.length??0)===0,{has1MContext:T}=Km(),N=mC(e),j=N.model,R=T(j),{threshold:I}=fC(e,j),[A,$]=b.useState(()=>({workspaceId:e,message:void 0})),E=A.workspaceId===e?A.message:void 0,M=b.useCallback(et=>{$({workspaceId:e,message:et})},[e]),[F,L]=b.useState(new Set),Y=b.useRef(d);b.useEffect(()=>{Y.current=d},[d]);const{messages:O,canInterrupt:G,isCompacting:H,isStreamStarting:D,loading:U}=d,{warning:B,handleModelChange:q,handleCompact:V,handleDismiss:Z}=_Ke({workspaceId:e,messages:O,pendingModel:j,use1M:R,workspaceUsage:x,api:m??void 0,pendingSendOptions:N}),W=b.useMemo(()=>Uv(O),[O]),K=b.useDeferredValue(W),ee=W.some(et=>"isStreaming"in et&&et.isStreaming)||W.length!==K.length?W:K,se=Tf(ee)?.id??null,re=b.useMemo(()=>({workspaceId:e,latestMessageId:se,openTerminal:u}),[e,se,u]),ue=b.useMemo(()=>{const et=ee.filter(jt=>jt.type==="user");if(et.length<2)return null;const rt=new Map;for(let jt=0;jt<et.length;jt++){const ze=et[jt];rt.set(ze.historyId,{prev:jt>0?et[jt-1].historyId:void 0,next:jt<et.length-1?et[jt+1].historyId:void 0})}return rt},[ee]),he=b.useMemo(()=>VVe(ee),[ee]),ke=b.useMemo(()=>xKe(x,j,R,I/100),[x,j,R,I]),je=!H&&ke.shouldShowWarning&&!B,_e=b.useCallback(()=>{m&&(w(),Hd({api:m,workspaceId:e,sendMessageOptions:N,followUpContent:{text:"Continue"}}))},[m,e,N,w]);CKe({shouldForceCompact:ke.shouldForceCompact,canInterrupt:G,isCompacting:H,onTrigger:_e});const[ge]=Tt(Fm,!1,{listener:!0}),{contentRef:ve,innerRef:De,autoScroll:$e,setAutoScroll:Qe,performAutoScroll:Be,jumpToBottom:ie,handleScroll:Te,markUserInteraction:Ne}=YVe(),Re=b.useCallback(et=>{Qe(!1),requestAnimationFrame(()=>{ve.current?.querySelector(`[data-message-id="${et}"]`)?.scrollIntoView({behavior:"smooth",block:"center"})})},[ve,Qe]),Le=b.useRef(null);b.useEffect(()=>{v()},[v]);const Ae=b.useCallback(et=>{Le.current=et},[]),{addReview:bt,checkReview:nt}=y,ct=b.useCallback(et=>{for(const rt of et)nt(rt)},[nt]),pt=b.useCallback(et=>{bt(et)},[bt]),be=b.useCallback(()=>{Le.current?.prependText(`/compact
`)},[]),We=b.useCallback(et=>{M(et)},[M]),He=b.useCallback(async et=>{const rt=Le.current;rt&&(await m?.workspace.clearQueue({workspaceId:e}),rt.restoreDraft(pze(et)))},[m,e]),Je=b.useCallback(async()=>{const et=d?.queuedMessage;et&&await He(et)},[He,d?.queuedMessage]),ye=b.useCallback(async()=>{!d?.queuedMessage||!d.canInterrupt||(f.setInterrupting(e),await m?.workspace.interruptStream({workspaceId:e,options:{sendQueuedImmediately:!0}}))},[m,e,d?.queuedMessage,d?.canInterrupt,f]),Ze=b.useCallback(async()=>{const et=Y.current;if(!et)return;if(et.queuedMessage){await He(et.queuedMessage);return}const jt=[...Uv(et.messages)].reverse().find(ze=>ze.type==="user");jt&&(M(DK(jt)),Qe(!1),requestAnimationFrame(()=>{ve.current?.querySelector(`[data-message-id="${jt.historyId}"]`)?.scrollIntoView({behavior:"smooth",block:"center"})}))},[He,ve,Qe,M]),qe=b.useCallback(()=>{Ze()},[Ze]),ft=b.useCallback(()=>{M(void 0)},[M]),Et=b.useCallback(()=>{w(),Qe(!0),aY(e)},[Qe,w,e]),At=b.useCallback(async(et=1)=>{Qe(!0),await m?.workspace.truncateHistory({workspaceId:e,percentage:et})},[e,Qe,m]),dt=dy(),Mt=b.useCallback(()=>{dt(e,s,c)},[e,s,dt,c]);b.useEffect(()=>{d&&$e&&Be()},[d?.messages,d?.todos,$e,Be,d]),b.useLayoutEffect(()=>{d&&!d.loading&&d.messages.length>0&&ie()},[e,d?.loading]);const Gt=d?YS(d.messages,d.pendingStreamStartTime,d.runtimeStatus,d.lastAbortReason):null,tn=d?!d.canInterrupt&&(Gt?.hasInterruptedStream??!1):!1,It=Tf(d.messages),zt=It?.type==="stream-error"&&It.errorType==="context_exceeded",Vt=tn&&!zt;lKe({workspaceId:e,canInterrupt:(d?.canInterrupt??!1)||typeof d?.pendingStreamStartTime=="number",showRetryBarrier:tn,chatInputAPI:Le,jumpToBottom:ie,handleOpenTerminal:u,handleOpenInEditor:Mt,aggregator:g,setEditingMessage:M,vimEnabled:ge}),b.useEffect(()=>{if(!d||!E)return;Uv(d.messages).find(jt=>jt.type!=="history-hidden"&&jt.type!=="workspace-init"&&jt.type!=="compaction-boundary"&&jt.historyId===E.id)?.historyId||M(void 0)},[d,E,M]);const qt=E?W.find(et=>et.type!=="history-hidden"&&et.type!=="workspace-init"&&et.type!=="compaction-boundary"&&et.historyId===E.id)?.historyId:void 0;let Pt=null;for(let et=W.length-1;et>=0;et--){const rt=W[et];if(rt.type==="tool"&&rt.toolName==="propose_plan"){Pt=rt.id;break}}return l.jsxs("div",{ref:p,className:"flex min-w-96 flex-1 flex-col [@media(max-width:768px)]:max-h-full [@media(max-width:768px)]:w-full [@media(max-width:768px)]:min-w-0",children:[l.jsx(aKe,{workspaceId:e,projectName:r,projectPath:n,workspaceName:a,leftSidebarCollapsed:i,onToggleLeftSidebarCollapsed:o,namedWorkspacePath:s,runtimeConfig:c,onOpenTerminal:u}),l.jsxs("div",{className:"mobile-header-spacer relative flex-1 overflow-hidden",children:[l.jsx("div",{ref:ve,onWheel:Ne,onTouchMove:Ne,onScroll:Te,role:"log","aria-live":G?"polite":"off","aria-busy":G,"aria-label":"Conversation transcript",tabIndex:0,"data-testid":"message-window","data-loaded":!U,className:"h-full overflow-x-hidden overflow-y-auto p-[15px] leading-[1.5] break-words whitespace-pre-wrap",children:l.jsxs("div",{ref:De,className:ce("max-w-4xl mx-auto",ee.length===0&&"h-full"),children:[ee.length===0?l.jsxs("div",{className:"text-placeholder flex h-full flex-1 flex-col items-center justify-center text-center [&_h3]:m-0 [&_h3]:mb-2.5 [&_h3]:text-base [&_h3]:font-medium [&_p]:m-0 [&_p]:text-[13px]",children:[l.jsx("h3",{children:"No Messages Yet"}),l.jsx("p",{children:"Send a message below to begin"}),l.jsxs("p",{className:"text-muted mt-5 flex items-start gap-2 text-xs",children:[l.jsx("img",{src:U_("readme.svg"),alt:"Tip",className:"mt-0.5 h-4 w-4 shrink-0 select-none",draggable:!1}),l.jsxs("span",{children:["Tip: Add a"," ",l.jsx("code",{className:"bg-inline-code-dark-bg text-code-string rounded-[3px] px-1.5 py-0.5 font-mono text-[11px]",children:".mux/init"})," ","hook to your project to run setup commands",l.jsx("br",{}),"(e.g., install dependencies, build) when creating new workspaces"]})]}),l.jsx(qbe,{projectPath:n})]}):l.jsx(Vbe,{value:re,children:l.jsxs(l.Fragment,{children:[ee.map((et,rt)=>{const jt=hze(ee,rt),ze=jt?ee[jt.firstIndex]?.id:void 0,Ve=ze?F.has(ze):!1;if(jt?.position==="middle"&&!Ve)return null;const $t=qt!==void 0&&et.type!=="history-hidden"&&et.type!=="workspace-init"&&et.type!=="compaction-boundary"&&et.historyId===qt;return l.jsxs(xe.Fragment,{children:[l.jsx("div",{"data-testid":"chat-message","data-message-id":et.type!=="history-hidden"&&et.type!=="workspace-init"&&et.type!=="compaction-boundary"?et.historyId:void 0,children:l.jsx(KS,{message:et,onEditUserMessage:We,workspaceId:e,isCompacting:H,onReviewNote:pt,isLatestProposePlan:et.type==="tool"&&et.toolName==="propose_plan"&&et.id===Pt,bashOutputGroup:jt,taskReportLinking:he,userMessageNavigation:et.type==="user"&&ue?{prevUserMessageId:ue.get(et.historyId)?.prev,nextUserMessageId:ue.get(et.historyId)?.next,onNavigate:Re}:void 0})}),jt?.position==="first"&&ze&&l.jsx(KVe,{processId:jt.processId,collapsedCount:jt.collapsedCount,isExpanded:Ve,onToggle:()=>{L(Wt=>{const sn=new Set(Wt);return sn.has(ze)?sn.delete(ze):sn.add(ze),sn})}}),$t&&l.jsx(gUe,{}),mze(et)&&l.jsx(fUe,{})]},et.id)}),Vt&&l.jsx(jUe,{workspaceId:e})]})}),l.jsx(EUe,{workspaceId:e}),l.jsx(xUe,{workspaceId:e}),S&&l.jsx($$,{message:{id:`queued-agent-task-${e}`,content:_??""}}),d?.queuedMessage&&l.jsx($$,{message:d.queuedMessage,onEdit:()=>void Je(),onSendImmediately:d.canInterrupt?ye:void 0}),l.jsx(dKe,{workspaceId:e,projectPath:n,runtimeConfig:c})]})}),!$e&&l.jsxs("button",{onClick:ie,type:"button",className:"assistant-chip font-primary text-foreground hover:assistant-chip-hover absolute bottom-2 left-1/2 z-20 -translate-x-1/2 cursor-pointer rounded-[20px] px-2 py-1 text-xs font-medium shadow-[0_4px_12px_rgba(0,0,0,0.3)] backdrop-blur-[1px] transition-all duration-200 hover:scale-105 active:scale-95",children:["Press ",Bt(st.JUMP_TO_BOTTOM)," to jump to bottom"]})]}),l.jsx(LKe,{workspaceId:e,projectName:r,workspaceName:a,isStreamStarting:D,runtimeConfig:c,isQueuedAgentTask:C,isCompacting:H,canInterrupt:G,autoCompactionResult:ke,shouldShowCompactionWarning:je,contextSwitchWarning:B,onContextSwitchCompact:V,onContextSwitchDismiss:Z,onModelChange:q,onCompactClick:be,onMessageSent:Et,onTruncateHistory:At,editingMessage:E,onCancelEdit:ft,onEditLastUserMessage:qe,onChatInputReady:Ae,hasQueuedCompaction:!!d.queuedMessage?.hasCompactionRequest,reviews:y,onCheckReviews:ct})]})},LKe=t=>{const e=ae.c(47),{reviews:n}=t;let r;e[0]!==t.autoCompactionResult||e[1]!==t.canInterrupt||e[2]!==t.onCompactClick||e[3]!==t.shouldShowCompactionWarning?(r=t.shouldShowCompactionWarning&&l.jsx(cKe,{usagePercentage:t.autoCompactionResult.usagePercentage,thresholdPercentage:t.autoCompactionResult.thresholdPercentage,isStreaming:t.canInterrupt,onCompactClick:t.onCompactClick}),e[0]=t.autoCompactionResult,e[1]=t.canInterrupt,e[2]=t.onCompactClick,e[3]=t.shouldShowCompactionWarning,e[4]=r):r=e[4];let a;e[5]!==t.contextSwitchWarning||e[6]!==t.onContextSwitchCompact||e[7]!==t.onContextSwitchDismiss?(a=t.contextSwitchWarning&&l.jsx(uKe,{warning:t.contextSwitchWarning,onCompact:t.onContextSwitchCompact,onDismiss:t.onContextSwitchDismiss}),e[5]=t.contextSwitchWarning,e[6]=t.onContextSwitchCompact,e[7]=t.onContextSwitchDismiss,e[8]=a):a=e[8];let s,i;e[9]!==t.workspaceId?(s=l.jsx(hKe,{workspaceId:t.workspaceId}),i=l.jsx(TKe,{workspaceId:t.workspaceId}),e[9]=t.workspaceId,e[10]=s,e[11]=i):(s=e[10],i=e[11]);let o;e[12]!==t.isQueuedAgentTask?(o=t.isQueuedAgentTask&&l.jsx("div",{className:"border-border-medium bg-background-secondary text-muted mb-2 rounded-md border px-3 py-2 text-xs",children:"This agent task is queued and will start automatically when a parallel slot is available."}),e[12]=t.isQueuedAgentTask,e[13]=o):o=e[13];const c=t.workspaceId,u=t.workspaceId;let d;e[14]!==t.runtimeConfig?(d=WA(t.runtimeConfig),e[14]=t.runtimeConfig,e[15]=d):d=e[15];const m=!t.projectName||!t.workspaceName||t.isQueuedAgentTask,h=t.isQueuedAgentTask?"Queued  waiting for an available parallel task slot. This will start automatically.":void 0;let p;e[16]!==t.autoCompactionResult||e[17]!==t.canInterrupt||e[18]!==t.editingMessage||e[19]!==t.hasQueuedCompaction||e[20]!==t.isCompacting||e[21]!==t.isStreamStarting||e[22]!==t.onCancelEdit||e[23]!==t.onChatInputReady||e[24]!==t.onCheckReviews||e[25]!==t.onEditLastUserMessage||e[26]!==t.onMessageSent||e[27]!==t.onModelChange||e[28]!==t.onTruncateHistory||e[29]!==t.workspaceId||e[30]!==n.attachedReviews||e[31]!==n.checkReview||e[32]!==n.detachAllAttached||e[33]!==n.detachReview||e[34]!==n.removeReview||e[35]!==n.updateReviewNote||e[36]!==d||e[37]!==m||e[38]!==h?(p=l.jsx(nj,{variant:"workspace",workspaceId:u,runtimeType:d,onMessageSent:t.onMessageSent,onTruncateHistory:t.onTruncateHistory,onModelChange:t.onModelChange,disabled:m,disabledReason:h,isStreamStarting:t.isStreamStarting,isCompacting:t.isCompacting,editingMessage:t.editingMessage,onCancelEdit:t.onCancelEdit,onEditLastUserMessage:t.onEditLastUserMessage,canInterrupt:t.canInterrupt,onReady:t.onChatInputReady,autoCompactionCheck:t.autoCompactionResult,hasQueuedCompaction:t.hasQueuedCompaction,attachedReviews:n.attachedReviews,onDetachReview:n.detachReview,onDetachAllReviews:n.detachAllAttached,onCheckReview:n.checkReview,onCheckReviews:t.onCheckReviews,onDeleteReview:n.removeReview,onUpdateReviewNote:n.updateReviewNote},c),e[16]=t.autoCompactionResult,e[17]=t.canInterrupt,e[18]=t.editingMessage,e[19]=t.hasQueuedCompaction,e[20]=t.isCompacting,e[21]=t.isStreamStarting,e[22]=t.onCancelEdit,e[23]=t.onChatInputReady,e[24]=t.onCheckReviews,e[25]=t.onEditLastUserMessage,e[26]=t.onMessageSent,e[27]=t.onModelChange,e[28]=t.onTruncateHistory,e[29]=t.workspaceId,e[30]=n.attachedReviews,e[31]=n.checkReview,e[32]=n.detachAllAttached,e[33]=n.detachReview,e[34]=n.removeReview,e[35]=n.updateReviewNote,e[36]=d,e[37]=m,e[38]=h,e[39]=p):p=e[39];let f;return e[40]!==r||e[41]!==a||e[42]!==p||e[43]!==s||e[44]!==i||e[45]!==o?(f=l.jsxs(l.Fragment,{children:[r,a,s,i,o,p]}),e[40]=r,e[41]=a,e[42]=p,e[43]=s,e[44]=i,e[45]=o,e[46]=f):f=e[46],f},OKe=384,PKe=400,L$=300,O$=1200,FKe=1,P$=t=>{const e=ae.c(14);let n;e[0]!==t.className?(n=ce("relative flex flex-1 flex-row bg-dark text-light overflow-x-auto overflow-y-hidden [@media(max-width:768px)]:flex-col",t.className),e[0]=t.className,e[1]=n):n=e[1];let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r={containerType:"inline-size"},e[2]=r):r=e[2];let a;e[3]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx("div",{className:"pointer-events-none absolute right-[15px] bottom-[15px] left-[15px] z-[1000] [&>*]:pointer-events-auto",children:l.jsx(qO,{wrap:!1})}),e[3]=a):a=e[3];let s;e[4]!==t.title?(s=l.jsx("h3",{className:"m-0 mb-2.5 text-base font-medium",children:t.title}),e[4]=t.title,e[5]=s):s=e[5];let i;e[6]!==t.description?(i=t.description&&l.jsx("p",{className:"m-0 text-[13px]",children:t.description}),e[6]=t.description,e[7]=i):i=e[7];let o;e[8]!==s||e[9]!==i?(o=l.jsxs("div",{className:"text-placeholder flex h-full flex-1 flex-col items-center justify-center text-center",children:[s,i]}),e[8]=s,e[9]=i,e[10]=o):o=e[10];let c;return e[11]!==n||e[12]!==o?(c=l.jsxs("div",{className:n,style:r,children:[a,o]}),e[11]=n,e[12]=o,e[13]=c):c=e[13],c},BKe=t=>{const e=ae.c(44),n=b.useRef(null),r=hhe(n),a=typeof window<"u"&&window.matchMedia("(max-width: 768px)").matches,s=r?.width??0,i=s>0?s:typeof window<"u"?window.innerWidth:1200,o=a?O$:Math.min(O$,Math.max(L$,i-OKe-FKe));let c;e[0]!==o?(c={enabled:!0,defaultWidth:PKe,minWidth:L$,maxWidth:o,storageKey:O_},e[0]=o,e[1]=c):c=e[1];const u=fL(c),{width:d,isResizing:m,startResize:h}=u,p=b.useRef(null),f=cC();let g;e[2]!==f||e[3]!==t.runtimeConfig||e[4]!==t.workspaceId?(g=E=>{window.matchMedia("(max-width: 768px) and (pointer: coarse)").matches?f(t.workspaceId,t.runtimeConfig,E):p.current?.(E)},e[2]=f,e[3]=t.runtimeConfig,e[4]=t.workspaceId,e[5]=g):g=e[5];const x=g,y=Xm(t.workspaceId),{addReview:w}=y;let v;e[6]!==w?(v=E=>{w(E)},e[6]=w,e[7]=v):v=e[7];const k=v,C=Rf(t.workspaceId),_=pL();if(!C||C.loading){let E;return e[8]!==t.className?(E=l.jsx(P$,{title:"Loading workspace...",className:t.className}),e[8]=t.className,e[9]=E):E=e[9],E}if(!t.projectName||!t.workspaceName){let E;return e[10]!==t.className?(E=l.jsx(P$,{title:"No Workspace Selected",description:"Select a workspace from the sidebar to view and interact with Claude",className:t.className}),e[10]=t.className,e[11]=E):E=e[11],E}let S;e[12]!==t.className?(S=ce("flex flex-1 flex-row bg-dark text-light overflow-x-auto overflow-y-hidden [@media(max-width:768px)]:flex-col",t.className),e[12]=t.className,e[13]=S):S=e[13];let T;e[14]===Symbol.for("react.memo_cache_sentinel")?(T={containerType:"inline-size"},e[14]=T):T=e[14];const N=`chat-${t.workspaceId}`;let j;e[15]!==x||e[16]!==t.leftSidebarCollapsed||e[17]!==t.namedWorkspacePath||e[18]!==t.onToggleLeftSidebarCollapsed||e[19]!==t.projectName||e[20]!==t.projectPath||e[21]!==t.runtimeConfig||e[22]!==t.workspaceId||e[23]!==t.workspaceName||e[24]!==N||e[25]!==C?(j=l.jsx(DKe,{workspaceId:t.workspaceId,workspaceState:C,projectPath:t.projectPath,projectName:t.projectName,workspaceName:t.workspaceName,namedWorkspacePath:t.namedWorkspacePath,leftSidebarCollapsed:t.leftSidebarCollapsed,onToggleLeftSidebarCollapsed:t.onToggleLeftSidebarCollapsed,runtimeConfig:t.runtimeConfig,onOpenTerminal:x},N),e[15]=x,e[16]=t.leftSidebarCollapsed,e[17]=t.namedWorkspacePath,e[18]=t.onToggleLeftSidebarCollapsed,e[19]=t.projectName,e[20]=t.projectPath,e[21]=t.runtimeConfig,e[22]=t.workspaceId,e[23]=t.workspaceName,e[24]=N,e[25]=C,e[26]=j):j=e[26];const R=t.isInitializing===!0;let I;e[27]!==k||e[28]!==m||e[29]!==t.namedWorkspacePath||e[30]!==t.projectPath||e[31]!==t.workspaceId||e[32]!==d||e[33]!==h||e[34]!==R?(I=l.jsx(Hbe,{workspaceId:t.workspaceId,workspacePath:t.namedWorkspacePath,projectPath:t.projectPath,width:d,onStartResize:h,isResizing:m,onReviewNote:k,isCreating:R,addTerminalRef:p},t.workspaceId),e[27]=k,e[28]=m,e[29]=t.namedWorkspacePath,e[30]=t.projectPath,e[31]=t.workspaceId,e[32]=d,e[33]=h,e[34]=R,e[35]=I):I=e[35];let A;e[36]!==_.clearError||e[37]!==_.error?(A=l.jsx(Vc,{error:_.error,prefix:"Failed to terminate:",onDismiss:_.clearError}),e[36]=_.clearError,e[37]=_.error,e[38]=A):A=e[38];let $;return e[39]!==S||e[40]!==j||e[41]!==I||e[42]!==A?($=l.jsxs("div",{ref:n,className:S,style:T,children:[j,I,A]}),e[39]=S,e[40]=j,e[41]=I,e[42]=A,e[43]=$):$=e[43],$},zKe=t=>{const e=ae.c(12),{message:n,className:r}=t;let a;e[0]!==r?(a=ce("flex h-full w-full flex-col items-center justify-center p-8",r),e[0]=r,e[1]=a):a=e[1];let s,i;e[2]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx("div",{className:"mb-4 flex justify-center",children:l.jsx(Mr,{"aria-hidden":"true",className:"text-warning h-10 w-10"})}),i=l.jsx("h2",{className:"mb-2 text-xl font-semibold text-[var(--color-text-primary)]",children:"Incompatible Workspace"}),e[2]=s,e[3]=i):(s=e[2],i=e[3]);let o;e[4]!==n?(o=l.jsx("p",{className:"mb-4 text-[var(--color-text-secondary)]",children:n}),e[4]=n,e[5]=o):o=e[5];let c;e[6]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx("p",{className:"text-sm text-[var(--color-text-tertiary)]",children:"You can delete this workspace and create a new one, or upgrade mux to use it."}),e[6]=c):c=e[6];let u;e[7]!==o?(u=l.jsxs("div",{className:"max-w-md text-center",children:[s,i,o,c]}),e[7]=o,e[8]=u):u=e[8];let d;return e[9]!==a||e[10]!==u?(d=l.jsx("div",{className:a,children:u}),e[9]=a,e[10]=u,e[11]=d):d=e[11],d},HKe=t=>{const e=ae.c(18);if(t.incompatibleRuntime){let o;return e[0]!==t.className||e[1]!==t.incompatibleRuntime?(o=l.jsx(zKe,{message:t.incompatibleRuntime,className:t.className}),e[0]=t.className,e[1]=t.incompatibleRuntime,e[2]=o):o=e[2],o}let n;e[3]!==t.workspaceId?(n=l.jsx(ohe,{workspaceId:t.workspaceId}),e[3]=t.workspaceId,e[4]=n):n=e[4];let r;e[5]!==t?(r=l.jsx(BKe,{...t}),e[5]=t,e[6]=r):r=e[6];let a;e[7]!==t.workspaceId||e[8]!==r?(a=l.jsx(mhe,{workspaceId:t.workspaceId,children:r}),e[7]=t.workspaceId,e[8]=r,e[9]=a):a=e[9];let s;e[10]!==t.workspaceId||e[11]!==a?(s=l.jsx(cL,{workspaceId:t.workspaceId,children:a}),e[10]=t.workspaceId,e[11]=a,e[12]=s):s=e[12];let i;return e[13]!==t.projectPath||e[14]!==t.workspaceId||e[15]!==n||e[16]!==s?(i=l.jsxs(dL,{workspaceId:t.workspaceId,projectPath:t.projectPath,children:[n,s]}),e[13]=t.projectPath,e[14]=t.workspaceId,e[15]=n,e[16]=s,e[17]=i):i=e[17],i};function UY(t){return[t.ctrl,t.shift,t.alt,t.meta].some(e=>e===!0)}function WY(t){if(!t||typeof t!="object")return;const e=t,n=typeof e.key=="string"?e.key:"",r=n===" "?n:n.trim();if(!r)return;const a=typeof e.allowShift=="boolean"?e.allowShift:void 0,s=typeof e.ctrl=="boolean"?e.ctrl:void 0,i=typeof e.shift=="boolean"?e.shift:void 0,o=typeof e.alt=="boolean"?e.alt:void 0,c=typeof e.meta=="boolean"?e.meta:void 0,u=e.macCtrlBehavior==="either"||e.macCtrlBehavior==="command"||e.macCtrlBehavior==="control"?e.macCtrlBehavior:void 0,d={key:r,allowShift:a,ctrl:s,shift:i,alt:o,meta:c,macCtrlBehavior:u};return mt(typeof d.key=="string"&&d.key.length>0,"Keybind.key must be non-empty"),d}const Op={version:2,slots:[]};function GY(t){return typeof t=="number"&&Number.isInteger(t)&&t>=1}function g_(t){if(typeof t!="string")return;const e=t.trim();return e||void 0}function qKe(t){if(!t||typeof t!="object")return{mode:"px",value:400};const e=t;if(e.mode==="fraction"){const i=typeof e.value=="number"&&Number.isFinite(e.value)?e.value:.3;return{mode:"fraction",value:Math.min(.9,Math.max(.1,i))}}const r=typeof e.value=="number"&&Number.isFinite(e.value)?e.value:400,a=Math.floor(r);return{mode:"px",value:Math.min(1200,Math.max(300,a))}}function F$(t){return typeof t!="string"?!1:t==="costs"||t==="review"||t==="explorer"||t==="stats"?!0:t.startsWith("terminal_new:")&&t.length>13}function b_(t){if(!t||typeof t!="object")return!1;const e=t;return e.type==="tabset"?typeof e.id=="string"&&Array.isArray(e.tabs)&&e.tabs.every(n=>F$(n))&&F$(e.activeTab):e.type==="split"?typeof e.id!="string"||e.direction!=="horizontal"&&e.direction!=="vertical"||!Array.isArray(e.sizes)||e.sizes.length!==2||typeof e.sizes[0]!="number"||typeof e.sizes[1]!="number"||!Array.isArray(e.children)||e.children.length!==2?!1:b_(e.children[0])&&b_(e.children[1]):!1}function x_(t,e){return t.type==="tabset"?t.id===e?t:null:x_(t.children[0],e)??x_(t.children[1],e)}function UKe(t){if(!t||typeof t!="object")return!1;const e=t;return e.version!==1||typeof e.nextId!="number"||typeof e.focusedTabsetId!="string"||!b_(e.root)?!1:x_(e.root,e.focusedTabsetId)!==null}function WKe(t){if(!t||typeof t!="object")return;const e=t;if(!GY(e.slot))return;const n=VY(e.preset),r=WY(e.keybindOverride),a=r&&UY(r)?r:void 0;if(!(!n&&!a))return{slot:e.slot,preset:n??void 0,keybindOverride:a}}function GKe(t){if(!t||typeof t!="object")return;const e=t;if(!GY(e.slot))return;const n=g_(e.presetId),r=WY(e.keybindOverride),a=r&&UY(r)?r:void 0;if(!(!n&&!a))return{slot:e.slot,presetId:n,keybindOverride:a}}function VY(t){if(!t||typeof t!="object")return;const e=t,n=g_(e.id),r=g_(e.name);if(!n||!r)return;const a=typeof e.leftSidebarCollapsed=="boolean"?e.leftSidebarCollapsed:!1,s=typeof e.leftSidebarWidthPx=="number"&&Number.isFinite(e.leftSidebarWidthPx)?Math.min(600,Math.max(200,Math.floor(e.leftSidebarWidthPx))):void 0;if(!e.rightSidebar||typeof e.rightSidebar!="object")return;const i=e.rightSidebar,o=typeof i.collapsed=="boolean"?i.collapsed:!1,c=qKe(i.width),u=i.layout;return UKe(u)?{id:n,name:r,leftSidebarCollapsed:a,leftSidebarWidthPx:s,rightSidebar:{collapsed:o,width:c,layout:u}}:void 0}function Pm(t){if(!t||typeof t!="object")return Op;const e=t;return e.version===2?VKe(e):e.version===1?KKe(e):Op}function VKe(t){const e=Array.isArray(t.slots)?t.slots:[],n=new Map;for(const s of e){const i=WKe(s);i&&n.set(i.slot,i)}const a={version:2,slots:Array.from(n.values()).sort((s,i)=>s.slot-i.slot)};return mt(a.version===2,"normalizeLayoutPresetsConfig: version must be 2"),mt(Array.isArray(a.slots),"normalizeLayoutPresetsConfig: slots must be an array"),a}function KKe(t){const e=Array.isArray(t.presets)?t.presets:[],n=new Map;for(const o of e){const c=VY(o);c&&n.set(c.id,c)}const r=Array.isArray(t.slots)?t.slots:[],a=new Map;for(const o of r){const c=GKe(o);if(!c)continue;const u=c.presetId?n.get(c.presetId):void 0;!u&&!c.keybindOverride||a.set(c.slot,{slot:c.slot,preset:u,keybindOverride:c.keybindOverride})}const i={version:2,slots:Array.from(a.values()).sort((o,c)=>o.slot-c.slot)};return mt(i.version===2,"migrateLayoutPresetsConfigV1: version must be 2"),mt(Array.isArray(i.slots),"migrateLayoutPresetsConfigV1: slots must be an array"),i}function YKe(){const t=globalThis.crypto;if(t&&typeof t.randomUUID=="function"){const n=t.randomUUID();return mt(typeof n=="string"&&n.length>0,"randomUUID() must return a non-empty string"),n}const e=`layout_preset_${Date.now()}_${Math.random().toString(16).slice(2)}`;return mt(e.length>0,"generated id must be non-empty"),e}function XKe(t){if(t>=1&&t<=9)return{key:String(t),ctrl:!0,alt:!0}}function cx(t,e){return t.slots.find(r=>r.slot===e)?.keybindOverride??XKe(e)}function cm(t,e){return t.slots.find(n=>n.slot===e)?.preset}function Ef(t,e,n){const r=Math.floor(t);return Math.max(e,Math.min(n,r))}function ZKe(t){if(t.mode==="px")return Ef(t.value,300,1200);const e=typeof window<"u"?window.innerWidth:1200;return Ef(e*t.value,300,1200)}function QKe(){const t=_n(R_,"costs");return yu(t)?t:"costs"}function JKe(t){const e=QKe(),n=Hu(e),r=_n(wx(t),n);return Rl(r,e)}function eYe(){return _n(yx,!1)}function tYe(){const t=bx(O_);if(!t)return 400;const e=parseInt(t,10);return Number.isFinite(e)?Ef(e,300,1200):400}function nYe(){const t=typeof window<"u"&&window.innerWidth<=768;return _n(P_,t)}function rYe(){const t=bx(F_);if(!t)return 288;const e=parseInt(t,10);return Number.isFinite(e)?Ef(e,200,600):288}function aYe(t){return`terminal_new:${`t${t}`}`}function sYe(t,e){return t.startsWith("file:")?null:t==="terminal"||t.startsWith("terminal:")?(e.terminalCounter+=1,aYe(e.terminalCounter)):t==="costs"||t==="review"||t==="explorer"||t==="stats"?t:null}function ux(t,e){if(t.type==="tabset"){const a=[];let s=null;for(const i of t.tabs){const o=sYe(i,e);o&&(a.push(o),i===t.activeTab&&(s=o))}return a.length===0?null:{type:"tabset",id:t.id,tabs:a,activeTab:s??a[0]}}const n=ux(t.children[0],e),r=ux(t.children[1],e);return!n&&!r?null:n?r?{type:"split",id:t.id,direction:t.direction,sizes:t.sizes,children:[n,r]}:n:r}function y_(t,e){return t.type==="tabset"?t.id===e?t:null:y_(t.children[0],e)??y_(t.children[1],e)}function w_(t){return t.type==="tabset"?t.id:w_(t.children[0])??w_(t.children[1])}function iYe(t){const e={terminalCounter:0},n=ux(t.root,e);if(!n){const a=Hu("costs"),s=ux(a.root,{terminalCounter:0});return mt(s!==null,"default right sidebar layout must convert"),{version:1,nextId:a.nextId,focusedTabsetId:a.focusedTabsetId,root:s}}const r=y_(n,t.focusedTabsetId)?.id??w_(n)??"tabset-1";return{version:1,nextId:t.nextId,focusedTabsetId:r,root:n}}function oYe(t,e,n){const r=e.trim();mt(r.length>0,"preset name must be non-empty");const a=nYe(),s=rYe(),i=eYe(),o=tYe(),c=JKe(t),u=iYe(c);return{id:n??YKe(),name:r,leftSidebarCollapsed:a,leftSidebarWidthPx:s,rightSidebar:{collapsed:i,width:{mode:"px",value:o},layout:u}}}function v_(t,e){if(t.type==="tabset"){for(const n of t.tabs)n.startsWith("terminal_new:")&&e.push(n);return}v_(t.children[0],e),v_(t.children[1],e)}async function lYe(t,e,n){const r=new Map,a=await t.terminal.listSessions({workspaceId:e}).catch(()=>[]);let s=0;for(const i of n){let o=a[s];if(o)s+=1;else try{o=(await lC(t,e)).sessionId}catch{o=void 0}o&&r.set(i,o)}return r}function cYe(t){return t.startsWith("terminal_new:")}function B$(t,e){if(cYe(t)){const n=e.get(t);return n?`terminal:${n}`:null}return t}function k_(t,e){if(t.type==="tabset"){const a=t.tabs.map(o=>B$(o,e)).filter(o=>!!o&&yu(o));if(a.length===0)return null;const s=B$(t.activeTab,e),i=s&&a.includes(s)?s:a[0];return{type:"tabset",id:t.id,tabs:a,activeTab:i}}const n=k_(t.children[0],e),r=k_(t.children[1],e);return!n&&!r?null:n?r?{type:"split",id:t.id,direction:t.direction,sizes:t.sizes,children:[n,r]}:n:r}function uYe(t,e){const n=k_(t.root,e);if(!n)return Hu("costs");const r=pa(n,t.focusedTabsetId)?.id??nf(n)??"tabset-1";return{version:1,nextId:t.nextId,focusedTabsetId:r,root:n}}async function dYe(t,e,n){if(mt(typeof e=="string"&&e.length>0,"workspaceId must be non-empty"),rn(P_,n.leftSidebarCollapsed),n.leftSidebarWidthPx!==void 0&&rn(F_,Ef(n.leftSidebarWidthPx,200,600)),rn(yx,n.rightSidebar.collapsed),rn(O_,ZKe(n.rightSidebar.width)),!t)return;const r=[];v_(n.rightSidebar.layout.root,r);const a=await lYe(t,e,r);let s=uYe(n.rightSidebar.layout,a);const i=await t.terminal.listSessions({workspaceId:e}).catch(()=>[]);if(i.length>0){const o=Qd(s.root),c=new Set(o.filter(u=>u.startsWith("terminal:")).map(u=>u.slice(9)));for(const u of i)c.has(u)||(s=Xh(s,ck(u),!1),c.add(u))}rn(wx(e),s)}function z$(t,e,n){const r=Pm(t),a=r.slots.find(o=>o.slot===e),s=r.slots.filter(o=>o.slot!==e),i=a?.keybindOverride;return(n||i)&&s.push({slot:e,...n?{preset:n}:{},...i?{keybindOverride:i}:{}}),{...r,slots:s.sort((o,c)=>o.slot-c.slot)}}function mYe(t,e,n){const r=Pm(t),s=r.slots.find(o=>o.slot===e)?.preset,i=r.slots.filter(o=>o.slot!==e);return(s||n)&&i.push({slot:e,...s?{preset:s}:{},...n?{keybindOverride:n}:{}}),{...r,slots:i.sort((o,c)=>o.slot-c.slot)}}function __(t){return Pm(t)}function hYe(t,e){mt(Number.isInteger(e)&&e>=1,"deleteSlotAndShiftFollowingSlots: slot must be a positive integer");const n=Pm(t);if(!n.slots.some(s=>s.slot===e))return n;const a=n.slots.filter(s=>s.slot!==e).map(s=>s.slot>e?{...s,slot:s.slot-1}:s);return Pm({...n,slots:a})}function pYe(t,e){if(e.isCommandPaletteOpen||e.isSettingsOpen)return!1;const n=e.selectedWorkspaceId;if(!n||XA(t.target)||typeof t.getModifierState=="function"&&t.getModifierState("AltGraph"))return!1;for(const r of[1,2,3,4,5,6,7,8,9]){if(!cm(e.layoutPresets,r))continue;const s=cx(e.layoutPresets,r);if(!(!s||!bn(t,s)))return t.preventDefault(),e.applySlotToWorkspace(n,r).catch(()=>{}),!0}for(const r of e.layoutPresets.slots)if(!(r.slot<=9)&&!(!r.preset||!r.keybindOverride)&&bn(t,r.keybindOverride))return t.preventDefault(),e.applySlotToWorkspace(n,r.slot).catch(()=>{}),!0;return!1}function fYe(){const{api:t}=Kt(),e=Du(),n=b.useRef(new Map);b.useEffect(()=>{const i=()=>{n.current=e.getAllStates()};return i(),e.subscribe(()=>{i()})},[e]);const r=b.useRef(new Set),a=i=>{const o=n.current.get(i);if(!o||o.canInterrupt)return!1;const{isEligibleForAutoRetry:c}=YS(o.messages,o.pendingStreamStartTime,o.runtimeStatus,o.lastAbortReason);if(!c||!wUe(i)||r.current.has(i))return!1;const d=_n(Ad(i),{attempt:0,retryStartTime:Date.now()-BQ});if(d.lastError&&iY(d.lastError))return!1;const{attempt:m,retryStartTime:h}=d,p=zA(m);return!(Date.now()-h<p)},s=async(i,o=!1)=>{if(o&&e.clearLastAbortReason(i),!o&&!a(i))return;r.current.add(i);const c=_n(Ad(i),{attempt:0,retryStartTime:Date.now()}),{attempt:u}=c;console.debug(`[retry] ${i} attemptResume: current attempt=${u}, isManual=${o}`);try{let d=cu(i);const m=n.current.get(i);if(m){const p=[...m.messages].reverse().find(f=>f.type==="user");if(p?.compactionRequest){const f=p.compactionRequest.parsed;d=FQ(d,f)}}if(!t){r.current.delete(i);return}const h=await t.workspace.resumeStream({workspaceId:i,options:d});if(!h.success){const p=kj(u,h.error);console.debug(`[retry] ${i} resumeStream failed: attempt ${u}  ${p.attempt}`),rn(Ad(i),p)}}catch(d){const m={type:"unknown",raw:d instanceof Error?d.message:"Failed to resume stream"},h=kj(u,m);console.debug(`[retry] ${i} resumeStream exception: attempt ${u}  ${h.attempt}`),rn(Ad(i),h)}finally{r.current.delete(i)}};b.useEffect(()=>{for(const[c]of n.current)s(c);const i=c=>{const u=c,{workspaceId:d,isManual:m=!1}=u.detail;s(d,m)};window.addEventListener(Rn.RESUME_CHECK_REQUESTED,i);const o=setInterval(()=>{for(const[c]of n.current)s(c)},1e3);return()=>{window.removeEventListener(Rn.RESUME_CHECK_REQUESTED,i),clearInterval(o)}},[])}const H$="workspaceLastRead";function gYe(t){const e=ae.c(5),n=b.useRef(!1);let r,a;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{if(n.current)return;n.current=!0;const c=_n(H$,{}),u=Object.entries(c);if(u.length!==0){for(const[d,m]of u){if(!Number.isFinite(m))continue;const h=px(d);_n(h,void 0)===void 0&&rn(h,m)}rn(H$,null)}},a=[],e[0]=r,e[1]=a):(r=e[0],a=e[1]),b.useEffect(r,a);const s=bYe;let i,o;e[2]!==t?(i=()=>{t&&s(t.workspaceId)},o=[t,s],e[2]=t,e[3]=i,e[4]=o):(i=e[3],o=e[4]),b.useEffect(i,o)}function bYe(t){rn(px(t),Date.now())}function xYe(t,e,n=(r,a)=>r===a){if(t.size!==e.size)return!1;for(const[r,a]of e)if(!t.has(r)||!n(t.get(r),a))return!1;return!0}function yYe(t,e,n){const r=b.useRef(void 0);return b.useMemo(()=>{const a=t();return r.current===void 0?(r.current=a,a):e(r.current,a)?r.current:(r.current=a,a)},n)}const KY=b.createContext(null);function YY(){const t=b.useContext(KY);if(!t)throw new Error("useCommandRegistry must be used within CommandRegistryProvider");return t}const q$="commandPalette:recent",wYe=({children:t})=>{const[e,n]=b.useState(!1),[r,a]=b.useState(new Set),[s,i]=b.useState(()=>{try{const g=localStorage.getItem(q$),x=g?JSON.parse(g):[];return Array.isArray(x)?x.slice(0,20):[]}catch{return[]}}),o=b.useCallback(g=>{i(g);try{localStorage.setItem(q$,JSON.stringify(g.slice(0,20)))}catch{}},[]),c=b.useCallback(g=>{const x=[g,...s.filter(y=>y!==g)].slice(0,20);o(x)},[s,o]),u=b.useCallback(()=>n(!0),[]),d=b.useCallback(()=>n(!1),[]),m=b.useCallback(()=>n(g=>!g),[]),h=b.useCallback(g=>(a(x=>new Set(x).add(g)),()=>a(x=>{const y=new Set(x);return y.delete(g),y})),[]),p=b.useCallback(()=>{const g=[];for(const x of r)try{const y=x();for(const w of y)w.visible&&!w.visible()||g.push(w)}catch(y){console.error("Command source error:",y)}return g},[r]),f=b.useMemo(()=>({isOpen:e,open:u,close:d,toggle:m,registerSource:h,getActions:p,addRecent:c,recent:s}),[e,u,d,m,h,p,c,s]);return l.jsx(KY.Provider,{value:f,children:t})};var U$=1,vYe=.9,kYe=.8,_Ye=.17,o3=.1,l3=.999,CYe=.9999,SYe=.99,jYe=/[\\\/_+.#"@\[\(\{&]/,TYe=/[\\\/_+.#"@\[\(\{&]/g,EYe=/[\s-]/,XY=/[\s-]/g;function C_(t,e,n,r,a,s,i){if(s===e.length)return a===t.length?U$:SYe;var o=`${a},${s}`;if(i[o]!==void 0)return i[o];for(var c=r.charAt(s),u=n.indexOf(c,a),d=0,m,h,p,f;u>=0;)m=C_(t,e,n,r,u+1,s+1,i),m>d&&(u===a?m*=U$:jYe.test(t.charAt(u-1))?(m*=kYe,p=t.slice(a,u-1).match(TYe),p&&a>0&&(m*=Math.pow(l3,p.length))):EYe.test(t.charAt(u-1))?(m*=vYe,f=t.slice(a,u-1).match(XY),f&&a>0&&(m*=Math.pow(l3,f.length))):(m*=_Ye,a>0&&(m*=Math.pow(l3,u-a))),t.charAt(u)!==e.charAt(s)&&(m*=CYe)),(m<o3&&n.charAt(u-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(u-1)!==r.charAt(s))&&(h=C_(t,e,n,r,u+1,s+2,i),h*o3>m&&(m=h*o3)),m>d&&(d=m),u=n.indexOf(c,u+1);return i[o]=d,d}function W$(t){return t.toLowerCase().replace(XY," ")}function NYe(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,C_(t,e,W$(t),W$(e),0,0,{})}var Bh='[cmdk-group=""]',c3='[cmdk-group-items=""]',$Ye='[cmdk-group-heading=""]',ZY='[cmdk-item=""]',G$=`${ZY}:not([aria-disabled="true"])`,S_="cmdk-item-select",Ed="data-value",AYe=(t,e,n)=>NYe(t,e,n),QY=b.createContext(void 0),x0=()=>b.useContext(QY),JY=b.createContext(void 0),rj=()=>b.useContext(JY),eX=b.createContext(void 0),tX=b.forwardRef((t,e)=>{let n=Nd(()=>{var H,D;return{search:"",value:(D=(H=t.value)!=null?H:t.defaultValue)!=null?D:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Nd(()=>new Set),a=Nd(()=>new Map),s=Nd(()=>new Map),i=Nd(()=>new Set),o=nX(t),{label:c,children:u,value:d,onValueChange:m,filter:h,shouldFilter:p,loop:f,disablePointerSelection:g=!1,vimBindings:x=!0,...y}=t,w=Qs(),v=Qs(),k=Qs(),C=b.useRef(null),_=HYe();Iu(()=>{if(d!==void 0){let H=d.trim();n.current.value=H,S.emit()}},[d]),Iu(()=>{_(6,A)},[]);let S=b.useMemo(()=>({subscribe:H=>(i.current.add(H),()=>i.current.delete(H)),snapshot:()=>n.current,setState:(H,D,U)=>{var B,q,V,Z;if(!Object.is(n.current[H],D)){if(n.current[H]=D,H==="search")I(),j(),_(1,R);else if(H==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let W=document.getElementById(k);W?W.focus():(B=document.getElementById(w))==null||B.focus()}if(_(7,()=>{var W;n.current.selectedItemId=(W=$())==null?void 0:W.id,S.emit()}),U||_(5,A),((q=o.current)==null?void 0:q.value)!==void 0){let W=D??"";(Z=(V=o.current).onValueChange)==null||Z.call(V,W);return}}S.emit()}},emit:()=>{i.current.forEach(H=>H())}}),[]),T=b.useMemo(()=>({value:(H,D,U)=>{var B;D!==((B=s.current.get(H))==null?void 0:B.value)&&(s.current.set(H,{value:D,keywords:U}),n.current.filtered.items.set(H,N(D,U)),_(2,()=>{j(),S.emit()}))},item:(H,D)=>(r.current.add(H),D&&(a.current.has(D)?a.current.get(D).add(H):a.current.set(D,new Set([H]))),_(3,()=>{I(),j(),n.current.value||R(),S.emit()}),()=>{s.current.delete(H),r.current.delete(H),n.current.filtered.items.delete(H);let U=$();_(4,()=>{I(),U?.getAttribute("id")===H&&R(),S.emit()})}),group:H=>(a.current.has(H)||a.current.set(H,new Set),()=>{s.current.delete(H),a.current.delete(H)}),filter:()=>o.current.shouldFilter,label:c||t["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:w,inputId:k,labelId:v,listInnerRef:C}),[]);function N(H,D){var U,B;let q=(B=(U=o.current)==null?void 0:U.filter)!=null?B:AYe;return H?q(H,n.current.search,D):0}function j(){if(!n.current.search||o.current.shouldFilter===!1)return;let H=n.current.filtered.items,D=[];n.current.filtered.groups.forEach(B=>{let q=a.current.get(B),V=0;q.forEach(Z=>{let W=H.get(Z);V=Math.max(W,V)}),D.push([B,V])});let U=C.current;E().sort((B,q)=>{var V,Z;let W=B.getAttribute("id"),K=q.getAttribute("id");return((V=H.get(K))!=null?V:0)-((Z=H.get(W))!=null?Z:0)}).forEach(B=>{let q=B.closest(c3);q?q.appendChild(B.parentElement===q?B:B.closest(`${c3} > *`)):U.appendChild(B.parentElement===U?B:B.closest(`${c3} > *`))}),D.sort((B,q)=>q[1]-B[1]).forEach(B=>{var q;let V=(q=C.current)==null?void 0:q.querySelector(`${Bh}[${Ed}="${encodeURIComponent(B[0])}"]`);V?.parentElement.appendChild(V)})}function R(){let H=E().find(U=>U.getAttribute("aria-disabled")!=="true"),D=H?.getAttribute(Ed);S.setState("value",D||void 0)}function I(){var H,D,U,B;if(!n.current.search||o.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let q=0;for(let V of r.current){let Z=(D=(H=s.current.get(V))==null?void 0:H.value)!=null?D:"",W=(B=(U=s.current.get(V))==null?void 0:U.keywords)!=null?B:[],K=N(Z,W);n.current.filtered.items.set(V,K),K>0&&q++}for(let[V,Z]of a.current)for(let W of Z)if(n.current.filtered.items.get(W)>0){n.current.filtered.groups.add(V);break}n.current.filtered.count=q}function A(){var H,D,U;let B=$();B&&(((H=B.parentElement)==null?void 0:H.firstChild)===B&&((U=(D=B.closest(Bh))==null?void 0:D.querySelector($Ye))==null||U.scrollIntoView({block:"nearest"})),B.scrollIntoView({block:"nearest"}))}function $(){var H;return(H=C.current)==null?void 0:H.querySelector(`${ZY}[aria-selected="true"]`)}function E(){var H;return Array.from(((H=C.current)==null?void 0:H.querySelectorAll(G$))||[])}function M(H){let D=E()[H];D&&S.setState("value",D.getAttribute(Ed))}function F(H){var D;let U=$(),B=E(),q=B.findIndex(Z=>Z===U),V=B[q+H];(D=o.current)!=null&&D.loop&&(V=q+H<0?B[B.length-1]:q+H===B.length?B[0]:B[q+H]),V&&S.setState("value",V.getAttribute(Ed))}function L(H){let D=$(),U=D?.closest(Bh),B;for(;U&&!B;)U=H>0?BYe(U,Bh):zYe(U,Bh),B=U?.querySelector(G$);B?S.setState("value",B.getAttribute(Ed)):F(H)}let Y=()=>M(E().length-1),O=H=>{H.preventDefault(),H.metaKey?Y():H.altKey?L(1):F(1)},G=H=>{H.preventDefault(),H.metaKey?M(0):H.altKey?L(-1):F(-1)};return b.createElement(hl.div,{ref:e,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:H=>{var D;(D=y.onKeyDown)==null||D.call(y,H);let U=H.nativeEvent.isComposing||H.keyCode===229;if(!(H.defaultPrevented||U))switch(H.key){case"n":case"j":{x&&H.ctrlKey&&O(H);break}case"ArrowDown":{O(H);break}case"p":case"k":{x&&H.ctrlKey&&G(H);break}case"ArrowUp":{G(H);break}case"Home":{H.preventDefault(),M(0);break}case"End":{H.preventDefault(),Y();break}case"Enter":{H.preventDefault();let B=$();if(B){let q=new Event(S_);B.dispatchEvent(q)}}}}},b.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:UYe},c),T2(t,H=>b.createElement(JY.Provider,{value:S},b.createElement(QY.Provider,{value:T},H))))}),IYe=b.forwardRef((t,e)=>{var n,r;let a=Qs(),s=b.useRef(null),i=b.useContext(eX),o=x0(),c=nX(t),u=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:i?.forceMount;Iu(()=>{if(!u)return o.item(a,i?.id)},[u]);let d=rX(a,s,[t.value,t.children,s],t.keywords),m=rj(),h=lc(_=>_.value&&_.value===d.current),p=lc(_=>u||o.filter()===!1?!0:_.search?_.filtered.items.get(a)>0:!0);b.useEffect(()=>{let _=s.current;if(!(!_||t.disabled))return _.addEventListener(S_,f),()=>_.removeEventListener(S_,f)},[p,t.onSelect,t.disabled]);function f(){var _,S;g(),(S=(_=c.current).onSelect)==null||S.call(_,d.current)}function g(){m.setState("value",d.current,!0)}if(!p)return null;let{disabled:x,value:y,onSelect:w,forceMount:v,keywords:k,...C}=t;return b.createElement(hl.div,{ref:Fa(s,e),...C,id:a,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!h,"data-disabled":!!x,"data-selected":!!h,onPointerMove:x||o.getDisablePointerSelection()?void 0:g,onClick:x?void 0:f},t.children)}),RYe=b.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:a,...s}=t,i=Qs(),o=b.useRef(null),c=b.useRef(null),u=Qs(),d=x0(),m=lc(p=>a||d.filter()===!1?!0:p.search?p.filtered.groups.has(i):!0);Iu(()=>d.group(i),[]),rX(i,o,[t.value,t.heading,c]);let h=b.useMemo(()=>({id:i,forceMount:a}),[a]);return b.createElement(hl.div,{ref:Fa(o,e),...s,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},n&&b.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),T2(t,p=>b.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},b.createElement(eX.Provider,{value:h},p))))}),MYe=b.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,a=b.useRef(null),s=lc(i=>!i.search);return!n&&!s?null:b.createElement(hl.div,{ref:Fa(a,e),...r,"cmdk-separator":"",role:"separator"})}),DYe=b.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,a=t.value!=null,s=rj(),i=lc(u=>u.search),o=lc(u=>u.selectedItemId),c=x0();return b.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),b.createElement(hl.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":o,id:c.inputId,type:"text",value:a?t.value:i,onChange:u=>{a||s.setState("search",u.target.value),n?.(u.target.value)}})}),LYe=b.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...a}=t,s=b.useRef(null),i=b.useRef(null),o=lc(u=>u.selectedItemId),c=x0();return b.useEffect(()=>{if(i.current&&s.current){let u=i.current,d=s.current,m,h=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let p=u.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(m),h.unobserve(u)}}},[]),b.createElement(hl.div,{ref:Fa(s,e),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":r,id:c.listId},T2(t,u=>b.createElement("div",{ref:Fa(i,c.listInnerRef),"cmdk-list-sizer":""},u)))}),OYe=b.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:a,contentClassName:s,container:i,...o}=t;return b.createElement(gZ,{open:n,onOpenChange:r},b.createElement(bZ,{container:i},b.createElement(xZ,{"cmdk-overlay":"",className:a}),b.createElement(yZ,{"aria-label":t.label,"cmdk-dialog":"",className:s},b.createElement(tX,{ref:e,...o}))))}),PYe=b.forwardRef((t,e)=>lc(n=>n.filtered.count===0)?b.createElement(hl.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),FYe=b.forwardRef((t,e)=>{let{progress:n,children:r,label:a="Loading...",...s}=t;return b.createElement(hl.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},T2(t,i=>b.createElement("div",{"aria-hidden":!0},i)))}),zh=Object.assign(tX,{List:LYe,Item:IYe,Input:DYe,Group:RYe,Separator:MYe,Dialog:OYe,Empty:PYe,Loading:FYe});function BYe(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function zYe(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function nX(t){let e=b.useRef(t);return Iu(()=>{e.current=t}),e}var Iu=typeof window>"u"?b.useEffect:b.useLayoutEffect;function Nd(t){let e=b.useRef();return e.current===void 0&&(e.current=t()),e}function lc(t){let e=rj(),n=()=>t(e.snapshot());return b.useSyncExternalStore(e.subscribe,n,n)}function rX(t,e,n,r=[]){let a=b.useRef(),s=x0();return Iu(()=>{var i;let o=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=r.map(u=>u.trim());s.value(t,o,c),(i=e.current)==null||i.setAttribute(Ed,o),a.current=o}),a}var HYe=()=>{let[t,e]=b.useState(),n=Nd(()=>new Map);return Iu(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,a)=>{n.current.set(r,a),e({})}};function qYe(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function T2({asChild:t,children:e},n){return t&&b.isValidElement(e)?b.cloneElement(qYe(e),{ref:e.ref},n(e.props.children)):n(e)}var UYe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const um={WS_SWITCH:"ws:switch:",CHAT_TRUNCATE:"chat:truncate:",PROJECT_REMOVE:"project:remove:"},zn={workspaceSwitch:t=>`${um.WS_SWITCH}${t}`,workspaceNew:()=>"ws:new",workspaceNewInProject:()=>"ws:new-in-project",workspaceRemove:()=>"ws:remove",workspaceRemoveAny:()=>"ws:remove-any",workspaceRename:()=>"ws:rename",workspaceRenameAny:()=>"ws:rename-any",workspaceOpenTerminal:()=>"ws:open-terminal",workspaceOpenTerminalCurrent:()=>"ws:open-terminal-current",workspaceArchiveMergedInProject:()=>"ws:archive-merged-in-project",navNext:()=>"nav:next",navPrev:()=>"nav:prev",navToggleSidebar:()=>"nav:toggleSidebar",navRightSidebarFocusTerminal:()=>"nav:rightSidebar:focusTerminal",navRightSidebarSplitHorizontal:()=>"nav:rightSidebar:splitHorizontal",navRightSidebarSplitVertical:()=>"nav:rightSidebar:splitVertical",navRightSidebarAddTool:()=>"nav:rightSidebar:addTool",chatClear:()=>"chat:clear",chatTruncate:t=>`${um.CHAT_TRUNCATE}${t}`,chatInterrupt:()=>"chat:interrupt",chatJumpBottom:()=>"chat:jumpBottom",chatVoiceInput:()=>"chat:voiceInput",chatClearTimingStats:()=>"chat:clearTimingStats",modeToggle:()=>"mode:toggle",modelChange:()=>"model:change",thinkingSetLevel:()=>"thinking:set-level",projectAdd:()=>"project:add",projectRemove:t=>`${um.PROJECT_REMOVE}${t}`,themeToggle:()=>"appearance:theme:toggle",themeSet:t=>`appearance:theme:set:${t}`,layoutApplySlot:t=>`layout:apply-slot:${t}`,layoutCaptureSlot:t=>`layout:capture-slot:${t}`,settingsOpen:()=>"settings:open",settingsOpenSection:t=>`settings:open:${t}`,helpKeybinds:()=>"help:keybinds"},V$={isWorkspaceSwitch:t=>t.startsWith(um.WS_SWITCH),isChatTruncate:t=>t.startsWith(um.CHAT_TRUNCATE),isProjectRemove:t=>t.startsWith(um.PROJECT_REMOVE)};function WYe(t,e){const n=t.trim();return n.startsWith("/")?[]:n.startsWith(">")?e.filter(a=>!V$.isWorkspaceSwitch(a.id)):e.filter(a=>V$.isWorkspaceSwitch(a.id))}const GYe=/[:/\\\-_]+/g;function aX(t){return mt(typeof t=="string","normalizeFuzzyText: text must be a string"),t.toLowerCase().replace(GYe," ").replace(/\s+/g," ").trim()}function VYe(t){mt(typeof t=="string","splitQueryIntoTerms: query must be a string");const e=aX(t);return e?e.split(" ").filter(n=>n.length>0):[]}function KYe(t,e){if(!e)return!0;if(!t)return!1;let n=0;for(const r of t)if(r===e[n]&&(n++,n>=e.length))return!0;return!1}function K$(t,e){mt(typeof t=="string","matchesAllTerms: haystack must be a string"),mt(typeof e=="string","matchesAllTerms: query must be a string");const n=VYe(e);if(n.length===0)return!0;const r=aX(t);for(const a of n)if(!KYe(r,a))return!1;return!0}const YYe=({getSlashContext:t})=>{const{api:e}=Kt(),r=t?.()?.workspaceId,[a]=Tt(gA(r??I_),!1,{listener:!0}),[s,i]=b.useState([]),o=b.useRef(new Map),{isOpen:c,close:u,getActions:d,addRecent:m,recent:h}=YY(),[p,f]=b.useState(""),[g,x]=b.useState(null),[y,w]=b.useState(null),v=b.useCallback(()=>{x(null),w(null),f("")},[]);b.useEffect(()=>{const D=U=>{bn(U,st.CANCEL)&&c&&(U.preventDefault(),v(),u())};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[c,u,v]),b.useEffect(()=>{c?(w(null),f("")):v()},[c,v]),b.useEffect(()=>{if(!c||!e||!r){i([]);return}const D=`${r}:${a?"project":"worktree"}`,U=o.current.get(D);if(U){i(U);return}let B=!1;return e.agentSkills.list({workspaceId:r,disableWorkspaceAgents:a||void 0}).then(q=>{B||(o.current.set(D,q),i(q))}).catch(()=>{B||i([])}),()=>{B=!0}},[e,c,r,a]);const k=d(),C=b.useMemo(()=>{const D=new Map;return h.forEach((U,B)=>D.set(U,B)),D},[h]),_=b.useCallback(D=>{D.prompt&&(w(null),f(""),x({title:D.prompt.title??D.title,fields:D.prompt.fields,onSubmit:D.prompt.onSubmit,idx:0,values:{}}))},[]);b.useEffect(()=>{const D=U=>{const B=U,{commandId:q}=B.detail,V=d().find(Z=>Z.id===q);if(!V){console.warn(`Command not found: ${q}`);return}V.run(),m(V.id)};return window.addEventListener(Rn.EXECUTE_COMMAND,D),()=>window.removeEventListener(Rn.EXECUTE_COMMAND,D)},[d,_,m]);const S=b.useCallback(D=>{let U=null;if(w(null),x(B=>{if(!B)return B;const q=B.fields[B.idx];if(!q)return B;const V={...B.values,[q.name]:D},Z=B.idx+1;if(Z<B.fields.length){const K=B.fields[Z];return K.type==="text"?U=K.getInitialValue?.(V)??K.initialValue??"":U="",{...B,idx:Z,values:V}}const W=B.onSubmit;return setTimeout(()=>void W(V),0),u(),f(""),null}),U!==null){const B=U;setTimeout(()=>f(B),0)}},[u]),T=b.useCallback(()=>{if(!g)return;const D=g.fields[g.idx];if(D?.type!=="text")return;const U=p.trim(),B=D.validate?.(U)??null;if(B){w(B);return}S(U)},[g,p,S]),N=b.useCallback(D=>{f(D),g&&w(null)},[g]),j=b.useMemo(()=>{const D=p.trim();if(D.startsWith("/")){const Z=t?.()??{},W=cY(D,{agentSkills:s,variant:Z.workspaceId?"workspace":"creation"}),K="Slash Commands";return{groups:[{name:K,items:W.map(ee=>({id:`slash:${ee.id}`,title:ee.display,subtitle:ee.description,section:K,shortcutHint:`${Bt(st.SEND_MESSAGE)} to insert`,run:()=>{const se=ee.replacement;window.dispatchEvent(_i(Rn.UPDATE_CHAT_INPUT,{text:se,mode:"append"}))}}))}],emptyText:W.length?void 0:"No command suggestions"}}const B=[...WYe(D,k)].sort((Z,W)=>{const K=C.has(Z.id)?C.get(Z.id):9999,J=C.has(W.id)?C.get(W.id):9999;return K!==J?K-J:Z.title.localeCompare(W.title)}),q=new Map;for(const Z of B){const W=Z.section||"Other",K=q.get(W)??[];K.push(Z),q.set(W,K)}return{groups:Array.from(q.entries()).map(([Z,W])=>({name:Z,items:W})),emptyText:B.length?void 0:"No results"}},[p,k,C,t,s]);b.useEffect(()=>{if(!g)return;const D=g.fields[g.idx];if(D)if(D.type==="text"){const U=D.getInitialValue?.(g.values)??D.initialValue??"";f(U)}else f("")},[g]);const[R,I]=b.useState([]),[A,$]=b.useState(!1),E=g?g.fields[g.idx]??null:null;b.useEffect(()=>{let D=!1;const U=()=>{D||(I([]),$(!1))};return(async()=>{if(E?.type!=="select"){U();return}$(!0);try{const q=await Promise.resolve(E.getOptions(g?.values??{}));if(!Array.isArray(q))throw new Error("Prompt select options must resolve to an array");D||I(q)}catch(q){D||(console.error("Failed to resolve prompt select options",q),I([]))}finally{D||$(!1)}})(),()=>{D=!0}},[E,g]);const M=!E&&p.trim().startsWith("/"),F=!E&&p.trim().startsWith(">"),L=E?E.type==="select":!M;let Y=j.groups,O=j.emptyText;if(E){const D=g?.title??E.label??"Provide details";if(E.type==="select"){const U=R;Y=[{name:D,items:U.map(B=>({id:`prompt-select:${E.name}:${B.id}`,title:B.label,section:D,keywords:B.keywords,run:()=>S(B.id)}))}],O=A?"Loading options...":U.length?void 0:"No options"}else{const U=p.trim(),B=E.placeholder??"Type value and press Enter",q=y??(U.length>0?`Press Enter to use ${U}`:B);Y=[{name:D,items:[{id:`prompt-text:${E.name}`,title:q,section:D,run:T}]}],O=void 0}}if(!c)return null;const G=Y.filter(D=>D.items.length>0),H=G.length>0;return l.jsx("div",{className:"fixed inset-0 z-[2000] flex items-start justify-center bg-black/40 pt-[10vh]",onMouseDown:()=>{v(),u()},children:l.jsxs(zh,{className:"font-primary w-[min(720px,92vw)] overflow-hidden rounded-lg border border-[var(--color-command-border)] bg-[var(--color-command-surface)] text-[var(--color-command-foreground)] shadow-[0_10px_40px_rgba(0,0,0,0.4)]",onMouseDown:D=>D.stopPropagation(),shouldFilter:L,filter:(D,U,B)=>{const q=B?`${D} ${B.join(" ")}`:D;return F&&U.startsWith(">")?K$(q,U.slice(1).trim())?1:0:K$(q,U)?1:0},children:[l.jsx(zh.Input,{className:"w-full border-b border-[var(--color-command-input-border)] bg-[var(--color-command-input)] px-3.5 py-3 text-sm text-[var(--color-command-foreground)] outline-none placeholder:text-[var(--color-command-subdued)]",value:p,onValueChange:N,placeholder:E?E.type==="text"?E.placeholder??"Type value":E.placeholder??"Search options":"Switch workspaces or type > for all commands, / for slash commands",autoFocus:!0,onKeyDown:D=>{if(!(!E&&Ax(D.target))&&E){D.key==="Enter"&&E.type==="text"?(D.preventDefault(),es(D),T()):D.key==="Escape"&&(D.preventDefault(),es(D),v(),u());return}}}),l.jsxs(zh.List,{className:"max-h-[420px] overflow-auto",children:[G.map(D=>l.jsx(zh.Group,{heading:l.jsx("div",{className:"px-2.5 py-1 text-[11px] tracking-[0.08em] text-[var(--color-command-subdued)] uppercase",children:D.name}),className:"px-1.5 py-2",children:D.items.map(U=>{const B=(()=>{const q=[...U.keywords??[],...U.subtitle?[U.subtitle]:[]].map(V=>V.trim()).filter(V=>V.length>0);if(q.length!==0)return Array.from(new Set(q))})();return l.jsxs(zh.Item,{value:U.title,keywords:B,className:"hover:bg-hover aria-selected:bg-hover mx-1 my-0.5 grid cursor-pointer grid-cols-[1fr_auto] items-center gap-2 rounded-md px-3 py-2 text-[13px] aria-selected:text-[var(--color-command-foreground)]",onSelect:()=>{if("prompt"in U&&U.prompt){m(U.id),_(U);return}if(E){U.run();return}m(U.id),u(),setTimeout(()=>{U.run()},0)},children:[l.jsxs("div",{children:[U.title,"subtitle"in U&&U.subtitle&&l.jsxs(l.Fragment,{children:[l.jsx("br",{}),l.jsx("span",{className:"text-xs text-[var(--color-command-subdued)]",children:U.subtitle})]})]}),"shortcutHint"in U&&U.shortcutHint&&l.jsx("span",{className:"font-monospace text-[11px] text-[var(--color-command-subdued)]",children:U.shortcutHint})]},U.id)})},D.name)),!H&&l.jsx("div",{className:"p-4 text-[13px] text-[var(--color-command-subdued)]",children:O??"No results"})]})]})})},Do={WORKSPACES:"Workspaces",LAYOUTS:"Layouts",NAVIGATION:"Navigation",CHAT:"Chat",MODE:"Modes & Model",HELP:"Help",PROJECTS:"Projects",APPEARANCE:"Appearance",SETTINGS:"Settings"},Ln={layouts:Do.LAYOUTS,workspaces:Do.WORKSPACES,navigation:Do.NAVIGATION,chat:Do.CHAT,appearance:Do.APPEARANCE,mode:Do.MODE,help:Do.HELP,projects:Do.PROJECTS,settings:Do.SETTINGS},XYe=()=>{const t=_n(R_,"costs");return yu(t)?t:"costs"},Hh=(t,e)=>{const n=XYe(),r=Hu(n);rn(wx(t),a=>e(Rl(a,n)),r)},dx=t=>{if(t.type==="tabset"){const e=t.tabs.find(n=>n.startsWith("terminal:")&&n!=="terminal");return e?{tabsetId:t.id,tab:e}:null}return dx(t.children[0])??dx(t.children[1])};function ZYe(t){const e=[],n=r=>({id:zn.workspaceNew(),title:"Create New Workspace",subtitle:`for ${r.projectName}`,section:Ln.workspaces,shortcutHint:Bt(st.NEW_WORKSPACE),run:()=>t.onStartWorkspaceCreation(r.projectPath)});if(e.push(()=>{const r=[],a=t.selectedWorkspace;a&&r.push(n(a));for(const s of t.workspaceMetadata.values()){const i=a?.workspaceId===s.id,o=t.streamingModels?.has(s.id)??!1,c=s.title??s.name,u=[s.name,s.projectName];o&&u.push("streaming"),r.push({id:zn.workspaceSwitch(s.id),title:`${i?" ":""}${c}`,subtitle:u.join("  "),section:Ln.workspaces,keywords:[s.name,s.projectName,s.namedWorkspacePath,s.title].filter(d=>!!d),run:()=>t.onSelectWorkspace({projectPath:s.projectPath,projectName:s.projectName,namedWorkspacePath:s.namedWorkspacePath,workspaceId:s.id})})}if(a?.namedWorkspacePath){const s=`${a.projectName}/${a.namedWorkspacePath.split("/").pop()??a.namedWorkspacePath}`,i=t.workspaceMetadata.get(a.workspaceId);r.push({id:zn.workspaceOpenTerminalCurrent(),title:"New Terminal Window",subtitle:s,section:Ln.workspaces,run:()=>{t.onOpenWorkspaceInTerminal(a.workspaceId,i?.runtimeConfig)}}),r.push({id:zn.workspaceRemove(),title:"Remove Current Workspace",subtitle:s,section:Ln.workspaces,run:async()=>{const o=i?.name??a.namedWorkspacePath.split("/").pop()??a.namedWorkspacePath;confirm(`Remove current workspace? This will delete the worktree and local branch "${o}". This cannot be undone.`)&&await t.onRemoveWorkspace(a.workspaceId)}}),r.push({id:zn.workspaceRename(),title:"Rename Current Workspace",subtitle:s,section:Ln.workspaces,run:()=>{},prompt:{title:"Rename Workspace",fields:[{type:"text",name:"newName",label:"New name",placeholder:"Enter new workspace name",initialValue:t.workspaceMetadata.get(a.workspaceId)?.name??"",getInitialValue:()=>t.workspaceMetadata.get(a.workspaceId)?.name??"",validate:o=>o.trim()?null:"Name is required"}],onSubmit:async o=>{await t.onRenameWorkspace(a.workspaceId,o.newName.trim())}}})}return t.workspaceMetadata.size>0&&(r.push({id:zn.workspaceOpenTerminal(),title:"Open Terminal Window for Workspace",section:Ln.workspaces,run:()=>{},prompt:{title:"Open Terminal Window",fields:[{type:"select",name:"workspaceId",label:"Workspace",placeholder:"Search workspaces",getOptions:()=>Array.from(t.workspaceMetadata.values()).map(s=>{const i=`${s.projectName} / ${s.name}`;return{id:s.id,label:i,keywords:[s.name,s.projectName,s.namedWorkspacePath,s.id,s.title].filter(o=>!!o)}})}],onSubmit:s=>{const i=t.workspaceMetadata.get(s.workspaceId);t.onOpenWorkspaceInTerminal(s.workspaceId,i?.runtimeConfig)}}}),r.push({id:zn.workspaceRenameAny(),title:"Rename Workspace",section:Ln.workspaces,run:()=>{},prompt:{title:"Rename Workspace",fields:[{type:"select",name:"workspaceId",label:"Select workspace",placeholder:"Search workspaces",getOptions:()=>Array.from(t.workspaceMetadata.values()).map(s=>{const i=`${s.projectName} / ${s.name}`;return{id:s.id,label:i,keywords:[s.name,s.projectName,s.namedWorkspacePath,s.id,s.title].filter(o=>!!o)}})},{type:"text",name:"newName",label:"New name",placeholder:"Enter new workspace name",getInitialValue:s=>{const i=Array.from(t.workspaceMetadata.values()).find(o=>o.id===s.workspaceId);return i?i.name:""},validate:s=>s.trim()?null:"Name is required"}],onSubmit:async s=>{await t.onRenameWorkspace(s.workspaceId,s.newName.trim())}}}),r.push({id:zn.workspaceRemoveAny(),title:"Remove Workspace",section:Ln.workspaces,run:()=>{},prompt:{title:"Remove Workspace",fields:[{type:"select",name:"workspaceId",label:"Select workspace",placeholder:"Search workspaces",getOptions:()=>Array.from(t.workspaceMetadata.values()).map(s=>{const i=`${s.projectName}/${s.name}`;return{id:s.id,label:i,keywords:[s.name,s.projectName,s.namedWorkspacePath,s.id,s.title].filter(o=>!!o)}})}],onSubmit:async s=>{const i=Array.from(t.workspaceMetadata.values()).find(d=>d.id===s.workspaceId),o=i?`${i.projectName}/${i.name}`:s.workspaceId,c=i?.name??o.split("/").pop()??o;confirm(`Remove workspace ${o}? This will delete the worktree and local branch "${c}". This cannot be undone.`)&&await t.onRemoveWorkspace(s.workspaceId)}}})),r}),e.push(()=>{const r=[{id:zn.navNext(),title:"Next Workspace",section:Ln.navigation,shortcutHint:Bt(st.NEXT_WORKSPACE),run:()=>t.onNavigateWorkspace("next")},{id:zn.navPrev(),title:"Previous Workspace",section:Ln.navigation,shortcutHint:Bt(st.PREV_WORKSPACE),run:()=>t.onNavigateWorkspace("prev")},{id:zn.navToggleSidebar(),title:"Toggle Sidebar",section:Ln.navigation,shortcutHint:Bt(st.TOGGLE_SIDEBAR),run:()=>t.onToggleSidebar()}],a=t.selectedWorkspace?.workspaceId;return a&&r.push({id:zn.navRightSidebarFocusTerminal(),title:"Right Sidebar: Focus Terminal",section:Ln.navigation,run:()=>Hh(a,s=>{const i=dx(s.root);return i?_m(km(s,i.tabsetId),i.tabsetId,i.tab):s})},{id:zn.navRightSidebarSplitHorizontal(),title:"Right Sidebar: Split Horizontally",section:Ln.navigation,run:()=>Hh(a,s=>kT(s,"horizontal"))},{id:zn.navRightSidebarSplitVertical(),title:"Right Sidebar: Split Vertically",section:Ln.navigation,run:()=>Hh(a,s=>kT(s,"vertical"))},{id:zn.navRightSidebarAddTool(),title:"Right Sidebar: Add Tool",section:Ln.navigation,run:()=>{},prompt:{title:"Add Right Sidebar Tool",fields:[{type:"select",name:"tool",label:"Tool",placeholder:"Select a tool",getOptions:()=>["costs","review","terminal"].map(s=>({id:s,label:s==="costs"?"Costs":s==="review"?"Review":"Terminal",keywords:[s]}))}],onSubmit:s=>{const i=s.tool;if(yu(i)){if(i==="terminal"){Hh(a,o=>{const c=dx(o.root);return c?_m(km(o,c.tabsetId),c.tabsetId,c.tab):o});return}Hh(a,o=>z0e(o,i))}}}}),r}),e.push(()=>{const r=[],a=t.selectedWorkspace;if(!a)return r;const s=__(t.layoutPresets);for(const i of[1,2,3,4,5,6,7,8,9]){const o=cm(s,i),c=cx(s,i);mt(c,`Slot ${i} must have a default keybind`);const u=Bt(c);r.push({id:zn.layoutApplySlot(i),title:`Layout: Apply Slot ${i}`,subtitle:o?o.name:"Empty",section:Ln.layouts,shortcutHint:u,enabled:()=>!!o&&!!t.onApplyLayoutSlot,run:()=>{o&&t.onApplyLayoutSlot?.(a.workspaceId,i)}}),t.onCaptureLayoutSlot&&r.push({id:zn.layoutCaptureSlot(i),title:`Layout: Capture current to Slot ${i}`,subtitle:o?o.name:"Empty",section:Ln.layouts,run:()=>{},prompt:{title:`Capture Layout Slot ${i}`,fields:[{type:"text",name:"name",label:"Name",placeholder:`Slot ${i}`,initialValue:o?o.name:`Slot ${i}`,getInitialValue:()=>cm(s,i)?.name??`Slot ${i}`,validate:d=>d.trim()?null:"Name is required"}],onSubmit:async d=>{await t.onCaptureLayoutSlot?.(a.workspaceId,i,d.name.trim())}}})}return r}),e.push(()=>{const r=[{id:zn.themeToggle(),title:"Cycle Theme",section:Ln.appearance,run:()=>t.onToggleTheme()}];for(const a of GA)t.theme!==a.value&&r.push({id:zn.themeSet(a.value),title:`Use ${a.label} Theme`,section:Ln.appearance,run:()=>t.onSetTheme(a.value)});return r}),e.push(()=>{const r=[];if(t.selectedWorkspace){const a=t.selectedWorkspace.workspaceId;r.push({id:zn.chatClear(),title:"Clear History",section:Ln.chat,run:async()=>{await t.api?.workspace.truncateHistory({workspaceId:a,percentage:1})}});for(const s of[.75,.5,.25])r.push({id:zn.chatTruncate(s),title:`Truncate History to ${Math.round((1-s)*100)}%`,section:Ln.chat,run:async()=>{await t.api?.workspace.truncateHistory({workspaceId:a,percentage:s})}});r.push({id:zn.chatInterrupt(),title:"Interrupt Streaming",section:Ln.chat,shortcutHint:Bt(st.INTERRUPT_STREAM_NORMAL),run:async()=>{t.selectedWorkspaceState?.awaitingUserQuestion||(rx(a),await t.api?.workspace.interruptStream({workspaceId:a}))}}),r.push({id:zn.chatJumpBottom(),title:"Jump to Bottom",section:Ln.chat,shortcutHint:Bt(st.JUMP_TO_BOTTOM),run:()=>{const s=new KeyboardEvent("keydown",{key:"G",shiftKey:!0});window.dispatchEvent(s)}}),r.push({id:zn.chatVoiceInput(),title:"Toggle Voice Input",subtitle:"Dictate instead of typing",section:Ln.chat,shortcutHint:Bt(st.TOGGLE_VOICE_INPUT),run:()=>{window.dispatchEvent(_i(Rn.TOGGLE_VOICE_INPUT))}}),r.push({id:zn.chatClearTimingStats(),title:"Clear Timing Stats",subtitle:"Reset session timing data for this workspace",section:Ln.chat,run:()=>{t.onClearTimingStats?.(a)}})}return r}),e.push(()=>{const r=[{id:zn.modeToggle(),title:"Open Agent Picker",section:Ln.mode,shortcutHint:Bt(st.TOGGLE_AGENT),run:()=>{window.dispatchEvent(_i(Rn.OPEN_AGENT_PICKER))}},{id:"cycle-agent",title:"Cycle Agent",section:Ln.mode,shortcutHint:Bt(st.CYCLE_AGENT),run:()=>{const s=new KeyboardEvent("keydown",{key:".",ctrlKey:!0});window.dispatchEvent(s)}},{id:zn.modelChange(),title:"Change Model",section:Ln.mode,run:()=>{window.dispatchEvent(_i(Rn.OPEN_MODEL_SELECTOR))}}],a=t.selectedWorkspace;if(a){const{workspaceId:s}=a,i={off:"Off  fastest responses",low:"Low  add a bit of reasoning",medium:"Medium  balanced reasoning",high:"High  maximum reasoning depth",xhigh:"Max  deepest possible reasoning",max:"Max  deepest possible reasoning"},o=t.getThinkingLevel(s);r.push({id:zn.thinkingSetLevel(),title:"Set Thinking Effort",subtitle:`Current: ${i[o]??o}`,section:Ln.mode,run:()=>{},prompt:{title:"Select Thinking Effort",fields:[{type:"select",name:"thinkingLevel",label:"Thinking effort",placeholder:"Choose effort level",getOptions:()=>{const c=t.selectedWorkspaceState?.currentModel;return(c?pm(c):ru).map(d=>({id:d,label:i[d],keywords:[d,i[d].toLowerCase(),"thinking","reasoning"]}))}}],onSubmit:c=>{const u=c.thinkingLevel,d=ru.includes(u)?u:"off";t.onSetThinkingLevel(s,d)}}})}return r}),e.push(()=>[{id:zn.helpKeybinds(),title:"Show Keyboard Shortcuts",section:Ln.help,run:()=>{try{window.open("https://mux.coder.com/config/keybinds","_blank")}catch{}}}]),e.push(()=>{const r=[{id:zn.projectAdd(),title:"Add Project",section:Ln.projects,run:()=>t.onAddProject()},{id:zn.workspaceNewInProject(),title:"Create New Workspace in Project",section:Ln.projects,run:()=>{},prompt:{title:"New Workspace in Project",fields:[{type:"select",name:"projectPath",label:"Select project",placeholder:"Search projects",getOptions:a=>Array.from(t.projects.keys()).map(s=>({id:s,label:s.split("/").pop()??s,keywords:[s]}))}],onSubmit:a=>{const s=a.projectPath;t.onStartWorkspaceCreation(s)}}},{id:zn.workspaceArchiveMergedInProject(),title:"Archive Merged Workspaces in Project",section:Ln.projects,keywords:["archive","merged","pr","github","gh","cleanup"],run:()=>{},prompt:{title:"Archive Merged Workspaces in Project",fields:[{type:"select",name:"projectPath",label:"Select project",placeholder:"Search projects",getOptions:a=>Array.from(t.projects.keys()).map(s=>({id:s,label:s.split("/").pop()??s,keywords:[s]}))}],onSubmit:async a=>{const s=a.projectPath,i=s.split("/").pop()??s;confirm(`Archive merged workspaces in ${i}?

This will archive (not delete) workspaces in this project whose GitHub PR is merged. This is reversible.

This may start/wake workspace runtimes and can take a while.

This uses GitHub via the gh CLI. Make sure gh is installed and authenticated.`)&&await t.onArchiveMergedWorkspacesInProject(s)}}}];for(const[a]of t.projects.entries()){const s=a.split("/").pop()??a;r.push({id:zn.projectRemove(a),title:`Remove Project ${s}`,section:Ln.projects,run:()=>t.onRemoveProject(a)})}return r}),t.onOpenSettings){const r=t.onOpenSettings;e.push(()=>[{id:zn.settingsOpen(),title:"Open Settings",section:Ln.settings,keywords:["preferences","config","configuration"],shortcutHint:Bt(st.OPEN_SETTINGS),run:()=>r()},{id:zn.settingsOpenSection("providers"),title:"Settings: Providers",subtitle:"Configure API keys and endpoints",section:Ln.settings,keywords:["api","key","anthropic","openai","google"],run:()=>r("providers")},{id:zn.settingsOpenSection("models"),title:"Settings: Models",subtitle:"Manage custom models",section:Ln.settings,keywords:["model","custom","add"],run:()=>r("models")}])}return e}function sX(t){const e=t.keys().next();return e.done?null:e.value}function QYe(t,e,n=rn){if(e&&(e.startMessage!==void 0&&n(mm(Fp(t)),e.startMessage),e.model!==void 0&&n(gs(ki(t)),e.model),e.trunkBranch!==void 0)){const r=e.trunkBranch.trim();n(wA(t),r.length>0?r:void 0)}}function JYe(t,e){return t.has(e)?e:sX(t)}function eXe(t){const e=ae.c(6),{projects:n,beginWorkspaceCreation:r}=t;let a;e[0]!==r||e[1]!==n?(a=(c,u)=>{const d=JYe(n,c);if(!d){console.warn("No projects available for workspace creation");return}QYe(d,u),r(d)},e[0]=r,e[1]=n,e[2]=a):a=e[2];const s=a;let i,o;return e[3]!==s?(i=()=>{const c=u=>{const m=u.detail;if(!m?.projectPath){console.warn("START_WORKSPACE_CREATION event missing projectPath detail");return}s(m.projectPath,m)};return window.addEventListener(Rn.START_WORKSPACE_CREATION,c),()=>window.removeEventListener(Rn.START_WORKSPACE_CREATION,c)},o=[s],e[3]=s,e[4]=i,e[5]=o):(i=e[4],o=e[5]),b.useEffect(i,o),s}const tXe=t=>{const e=ae.c(36),n=t.projectPath,{api:r}=Kt(),a=as(),[s,i]=xe.useState(!1),[o,c]=xe.useState(null);let u;e[0]!==n?(u=()=>_n(f1(n),{}),e[0]=n,e[1]=u):u=e[1];const[d,m]=xe.useState(u);let h,p;e[2]!==r||e[3]!==n||e[4]!==a.isOpen?(h=()=>{if(!r||a.isOpen)return;let j=!1;return i(!0),r.mcp.list({projectPath:n}).then(R=>{if(j)return;const I=R??{};m(I),rn(f1(n),I),c(null)}).catch(R=>{j||(m({}),c(R instanceof Error?R.message:"Failed to load MCP servers"))}).finally(()=>{j||i(!1)}),()=>{j=!0}},p=[r,n,a.isOpen],e[2]=r,e[3]=n,e[4]=a.isOpen,e[5]=h,e[6]=p):(h=e[5],p=e[6]),xe.useEffect(h,p);let f,g,x,y,w,v;if(e[7]!==o||e[8]!==s||e[9]!==d){const j=Object.entries(d).filter(nXe).map(rXe).sort(aXe),R=j.slice(0,3),I=j.length-R.length;v="border-border rounded-lg border",y="flex items-start gap-3 px-4 py-3",e[16]===Symbol.for("react.memo_cache_sentinel")?(w=l.jsx(Bl,{className:"text-muted mt-0.5 h-4 w-4"}),e[16]=w):w=e[16],f="min-w-0 flex-1";let A;e[17]!==s?(A=s&&l.jsx(pn,{className:"text-muted h-4 w-4 animate-spin"}),e[17]=s,e[18]=A):A=e[18],g=l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-foreground font-medium",children:["MCP Servers (",j.length," enabled)"]}),A]}),x=o?l.jsx("div",{className:"text-error mt-1 text-xs",children:o}):j.length===0?l.jsx("div",{className:"text-muted mt-1 text-xs",children:"No MCP servers enabled for this project."}):l.jsxs("div",{className:"text-muted mt-1 text-xs",children:[R.join(", "),I>0&&l.jsxs("span",{className:"text-muted/60",children:[" +",I," more"]})]}),e[7]=o,e[8]=s,e[9]=d,e[10]=f,e[11]=g,e[12]=x,e[13]=y,e[14]=w,e[15]=v}else f=e[10],g=e[11],x=e[12],y=e[13],w=e[14],v=e[15];let k;e[19]!==f||e[20]!==g||e[21]!==x?(k=l.jsxs("div",{className:f,children:[g,x]}),e[19]=f,e[20]=g,e[21]=x,e[22]=k):k=e[22];let C;e[23]!==a?(C=()=>a.open("mcp"),e[23]=a,e[24]=C):C=e[24];let _;e[25]===Symbol.for("react.memo_cache_sentinel")?(_=l.jsx(uu,{}),e[25]=_):_=e[25];let S;e[26]!==C?(S=l.jsxs(tt,{type:"button",variant:"secondary",size:"sm",className:"shrink-0",onClick:C,children:[_,"Add MCP server"]}),e[26]=C,e[27]=S):S=e[27];let T;e[28]!==S||e[29]!==y||e[30]!==w||e[31]!==k?(T=l.jsxs("div",{className:y,children:[w,k,S]}),e[28]=S,e[29]=y,e[30]=w,e[31]=k,e[32]=T):T=e[32];let N;return e[33]!==T||e[34]!==v?(N=l.jsx("div",{className:v,children:T}),e[33]=T,e[34]=v,e[35]=N):N=e[35],N};function nXe(t){const[,e]=t;return!e.disabled}function rXe(t){const[e]=t;return e}function aXe(t,e){return t.localeCompare(e)}const sXe=({isOpen:t,workspaceId:e,error:n,onClose:r,onForceDelete:a})=>{const[s,i]=b.useState(!1),o=()=>{i(!0),(async()=>{try{await a(e),r()}catch(u){console.error("Force delete failed:",u)}finally{i(!1)}})()},c=b.useCallback(u=>{!u&&!s&&r()},[s,r]);return l.jsx(sa,{open:t,onOpenChange:c,children:l.jsxs(ia,{maxWidth:"600px",maxHeight:"90vh",showCloseButton:!1,children:[l.jsxs(Sa,{children:[l.jsx(oa,{children:"Force Delete Workspace?"}),l.jsx(ml,{children:"The workspace could not be removed normally"})]}),l.jsxs(wZ,{children:[l.jsx(vZ,{children:"Git Error"}),l.jsx(kZ,{children:n})]}),l.jsxs(iA,{children:[l.jsx(oA,{children:"This action cannot be undone"}),l.jsxs(lA,{children:["Force deleting will permanently remove the workspace and its local branch, and"," ",n.includes("unpushed commits:")?"discard the unpushed commits shown above":"may discard uncommitted work or lose data",". This action cannot be undone."]})]}),l.jsxs(Li,{className:"justify-center",children:[l.jsx(tt,{variant:"secondary",onClick:r,disabled:s,children:"Cancel"}),l.jsx(tt,{variant:"destructive",onClick:o,disabled:s,children:s?"Deleting...":"Force Delete"})]})]})})};function iXe({keys:t,cache:e,fetchBatch:n,skip:r=!1}){const[a,s]=xe.useState(()=>{const g={};for(const x of t){const y=e.get(x);y!==null&&(g[x]=y)}return g}),[i,o]=xe.useState("idle"),c=xe.useRef(n);c.current=n;const u=xe.useRef(0),d=xe.useMemo(()=>t.join("\0"),[t]),m=xe.useRef(d),h=xe.useRef(t);m.current!==d&&(m.current=d,h.current=t);const p=xe.useCallback(async()=>{const g=++u.current,x=h.current;if(x.length===0){o("loaded");return}o("loading");try{const y=await c.current(x);if(g!==u.current)return;const w=[];for(const v of x)Object.prototype.hasOwnProperty.call(y,v)&&w.push({key:v,value:y[v]});for(const{key:v,value:k}of w)k!==void 0?e.set(v,k):e.remove(v);s(v=>{const k={...v};for(const{key:C,value:_}of w)_!==void 0?k[C]=_:delete k[C];return k}),o("loaded")}catch{if(g!==u.current)return;o("error")}},[e]);xe.useEffect(()=>{if(r)return;const g=h.current;s(x=>{const y={};for(const w of g){const v=x[w];if(v!==void 0){y[w]=v;continue}const k=e.get(w);k!==null&&(y[w]=k)}return y}),p()},[r,d,e,p]);const f=xe.useCallback(()=>{p()},[p]);return{values:a,status:i,refresh:f}}const oXe=10080*60*1e3,lXe=Cx({entryPrefix:"session-cost:",indexKey:"session-cost-index",maxEntries:500,ttlMs:oXe});function cXe(t){const e=new Map,n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),a=new Date(r.getTime()-864e5),s=new Date(r.getTime()-7*864e5),i=new Date(r.getTime()-30*864e5),o=[...t].sort((c,u)=>{const d=c.archivedAt?new Date(c.archivedAt).getTime():0;return(u.archivedAt?new Date(u.archivedAt).getTime():0)-d});for(const c of o){const u=c.archivedAt?new Date(c.archivedAt):null;let d;u?u>=r?d="Today":u>=a?d="Yesterday":u>=s?d="This Week":u>=i?d="This Month":d=u.toLocaleDateString(void 0,{month:"long",year:"numeric"}):d="Unknown";const m=e.get(d)??[];m.push(c),e.set(d,m)}return e}function uXe(t){const e=[];for(const n of t.values())e.push(...n);return e}function dXe(t){if(!t)return;const e=Ex(Object.values(t.byModel));return zQ(e)}const u3=t=>{const e=ae.c(11),{cost:n,loading:r,size:a,className:s}=t,i=r===void 0?!1:r,o=a===void 0?"md":a;let c,u;if(e[0]!==s||e[1]!==n||e[2]!==i||e[3]!==o){u=Symbol.for("react.early_return_sentinel");e:{const h={sm:"px-1 py-0.5 text-[10px]",md:"px-1.5 py-0.5 text-xs",lg:"px-2 py-0.5 text-sm"},p={sm:"h-4 w-[5ch]",md:"h-5 w-[6ch]",lg:"h-6 w-[7ch]"};if(n===void 0){if(!i){u=null;break e}u=l.jsx(ej,{variant:"shimmer",className:ce(p[o],h[o],s)});break e}c=ce("text-muted inline-flex items-center rounded bg-white/5 tabular-nums",h[o],s)}e[0]=s,e[1]=n,e[2]=i,e[3]=o,e[4]=c,e[5]=u}else c=e[4],u=e[5];if(u!==Symbol.for("react.early_return_sentinel"))return u;let d;e[6]!==n?(d=jx(n),e[6]=n,e[7]=d):d=e[7];let m;return e[8]!==c||e[9]!==d?(m=l.jsx("span",{className:c,children:d}),e[8]=c,e[9]=d,e[10]=m):m=e[10],m},mXe=t=>{const e=ae.c(39),{operation:n,onClose:r}=t;let a;e[0]!==n.completed||e[1]!==n.total?(a=Math.round(n.completed/n.total*100),e[0]=n.completed,e[1]=n.total,e[2]=a):a=e[2];const s=a,i=n.completed===n.total,o=n.type==="restore"?"Restoring":"Deleting",c=n.type==="restore"?"restored":"deleted";let u;e[3]!==i||e[4]!==r?(u=S=>!S&&i&&r(),e[3]=i,e[4]=r,e[5]=u):u=e[5];const d=i?"Complete":`${o} Workspaces`;let m;e[6]!==d?(m=l.jsx(oa,{children:d}),e[6]=d,e[7]=m):m=e[7];let h;e[8]!==c||e[9]!==i||e[10]!==n.completed||e[11]!==n.current||e[12]!==n.errors.length||e[13]!==n.total?(h=l.jsx(ml,{children:i?l.jsxs(l.Fragment,{children:["Successfully ",c," ",n.completed," workspace",n.completed!==1&&"s",n.errors.length>0&&` (${n.errors.length} failed)`]}):l.jsxs(l.Fragment,{children:[n.completed," of ",n.total," complete",n.current&&l.jsxs(l.Fragment,{children:["  ",n.current]})]})}),e[8]=c,e[9]=i,e[10]=n.completed,e[11]=n.current,e[12]=n.errors.length,e[13]=n.total,e[14]=h):h=e[14];let p;e[15]!==m||e[16]!==h?(p=l.jsxs(Sa,{children:[m,h]}),e[15]=m,e[16]=h,e[17]=p):p=e[17];const f=n.type==="restore"?"bg-green-500":"bg-red-500";let g;e[18]!==f?(g=ce("h-full transition-all duration-300",f),e[18]=f,e[19]=g):g=e[19];const x=`${s}%`;let y;e[20]!==x?(y={width:x},e[20]=x,e[21]=y):y=e[21];let w;e[22]!==y||e[23]!==g?(w=l.jsx("div",{className:"bg-separator h-2 overflow-hidden rounded-full",children:l.jsx("div",{className:g,style:y})}),e[22]=y,e[23]=g,e[24]=w):w=e[24];let v;e[25]!==n.errors?(v=n.errors.length>0&&l.jsx("div",{className:"max-h-32 overflow-y-auto rounded bg-red-500/10 p-2 text-xs text-red-400",children:n.errors.map(pXe)}),e[25]=n.errors,e[26]=v):v=e[26];let k;e[27]!==i||e[28]!==r?(k=i&&l.jsx(Li,{className:"justify-center",children:l.jsx(tt,{variant:"secondary",onClick:r,className:"w-full",children:"Done"})}),e[27]=i,e[28]=r,e[29]=k):k=e[29];let C;e[30]!==i||e[31]!==w||e[32]!==v||e[33]!==k||e[34]!==p?(C=l.jsxs(ia,{maxWidth:"400px",showCloseButton:i,children:[p,w,v,k]}),e[30]=i,e[31]=w,e[32]=v,e[33]=k,e[34]=p,e[35]=C):C=e[35];let _;return e[36]!==C||e[37]!==u?(_=l.jsx(sa,{open:!0,onOpenChange:u,children:C}),e[36]=C,e[37]=u,e[38]=_):_=e[38],_},hXe=({projectPath:t,projectName:e,workspaces:n,onWorkspacesChanged:r})=>{const[a,s]=Tt(`archivedWorkspacesExpanded:${t}`,!1),i=xe.useId(),{unarchiveWorkspace:o,removeWorkspace:c,setSelectedWorkspace:u}=uc(),{api:d}=Kt(),[m,h]=xe.useState(""),[p,f]=xe.useState(new Set),[g,x]=xe.useState(null),[y,w]=xe.useState(new Set),[v,k]=xe.useState(null),[C,_]=xe.useState(null),[S,T]=xe.useState(!1),N=()=>{s(Z=>{const W=!Z;return W||(w(new Set),k(null),T(!1)),W})},j=xe.useMemo(()=>n.map(Z=>Z.id),[n]),R=xe.useCallback(async Z=>{if(!d)return{};const W=await d.workspace.getSessionUsageBatch({workspaceIds:Z}),K={};for(const J of Z)K[J]=dXe(W[J]);return K},[d]),{values:I,status:A}=iXe({keys:j,cache:lXe,skip:!d,fetchBatch:R}),$=A==="idle"||A==="loading",E=m.trim()?n.filter(Z=>{const W=m.toLowerCase(),K=(Z.title??Z.name).toLowerCase(),J=Z.name.toLowerCase();return K.includes(W)||J.includes(W)}):n,M=cXe(E),F=uXe(M),L=xe.useMemo(()=>{let Z=0,W=!1;for(const K of n){const J=I[K.id];J!==void 0&&(Z+=J,W=!0)}return W?Z:void 0},[n,I]),Y=xe.useMemo(()=>{const Z=new Map;for(const[W,K]of M){let J=0,ee=!1;for(const se of K){const re=I[se.id];re!==void 0&&(J+=re,ee=!0)}Z.set(W,ee?J:void 0)}return Z},[M,I]);if(n.length===0)return null;const O=(Z,W)=>{const K=W.shiftKey;w(J=>{const ee=new Set(J);if(K&&v){const se=F.findIndex(ue=>ue.id===v),re=F.findIndex(ue=>ue.id===Z);if(se!==-1&&re!==-1){const ue=Math.min(se,re),he=Math.max(se,re);for(let ke=ue;ke<=he;ke++)ee.add(F[ke].id)}}else ee.has(Z)?ee.delete(Z):ee.add(Z);return ee}),k(Z),T(!1)},G=()=>{const Z=new Set(E.map(K=>K.id)),W=E.every(K=>y.has(K.id));w(W?K=>{const J=new Set(K);for(const ee of Z)J.delete(ee);return J}:K=>new Set([...K,...Z])),T(!1)},H=async()=>{const Z=Array.from(y);_({type:"restore",total:Z.length,completed:0,current:null,errors:[]});for(let W=0;W<Z.length;W++){const K=Z[W],J=n.find(ee=>ee.id===K);_(ee=>ee&&{...ee,current:J?.title??J?.name??K});try{const ee=await o(K);ee.success||_(se=>se&&{...se,errors:[...se.errors,`Failed to restore ${J?.name??K}${ee.error?`: ${ee.error}`:""}`]})}catch{_(ee=>ee&&{...ee,errors:[...ee.errors,`Failed to restore ${J?.name??K}`]})}_(ee=>ee&&{...ee,completed:W+1})}w(new Set),r?.()},D=async()=>{T(!1);const Z=Array.from(y);_({type:"delete",total:Z.length,completed:0,current:null,errors:[]});for(let W=0;W<Z.length;W++){const K=Z[W],J=n.find(ee=>ee.id===K);_(ee=>ee&&{...ee,current:J?.title??J?.name??K});try{const ee=await c(K,{force:!0});ee.success||_(se=>se&&{...se,errors:[...se.errors,`Failed to delete ${J?.name??K}${ee.error?`: ${ee.error}`:""}`]})}catch{_(ee=>ee&&{...ee,errors:[...ee.errors,`Failed to delete ${J?.name??K}`]})}_(ee=>ee&&{...ee,completed:W+1})}w(new Set),r?.()},U=async Z=>{f(W=>new Set(W).add(Z));try{if((await o(Z)).success){const K=n.find(J=>J.id===Z);K&&u({workspaceId:K.id,projectPath:K.projectPath,projectName:K.projectName,namedWorkspacePath:K.namedWorkspacePath}),r?.()}}finally{f(W=>{const K=new Set(W);return K.delete(Z),K})}},B=async Z=>{f(W=>new Set(W).add(Z));try{const W=await c(Z);W.success?r?.():x({workspaceId:Z,error:W.error??"Failed to remove workspace"})}finally{f(W=>{const K=new Set(W);return K.delete(Z),K})}},q=y.size>0,V=E.length>0&&E.every(Z=>y.has(Z.id));return l.jsxs(l.Fragment,{children:[l.jsx(sXe,{isOpen:g!==null,workspaceId:g?.workspaceId??"",error:g?.error??"",onClose:()=>x(null),onForceDelete:async Z=>{const W=await c(Z,{force:!0});if(!W.success)throw new Error(W.error??"Force delete failed");r?.()}}),C&&l.jsx(mXe,{operation:C,onClose:()=>_(null)}),l.jsxs("div",{className:"border-border rounded-lg border",children:[l.jsxs("div",{className:"flex items-center gap-2 px-4 py-3",children:[l.jsx("button",{type:"button",onClick:N,className:"text-muted hover:text-foreground rounded p-1 transition-colors hover:bg-white/10","aria-label":a?"Collapse archived workspaces":"Expand archived workspaces","aria-expanded":a,"aria-controls":i,children:a?l.jsx(Fs,{className:"h-4 w-4"}):l.jsx(na,{className:"h-4 w-4"})}),l.jsx(z3,{className:"text-muted h-4 w-4"}),l.jsxs("span",{className:"text-foreground font-medium",children:["Archived Workspaces (",n.length,")"]}),l.jsx(u3,{cost:L,loading:$,size:"lg"}),l.jsx("span",{className:"flex-1"}),a&&q&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-muted text-xs",children:[y.size," selected"]}),S?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-muted text-xs",children:"Delete permanently (also deletes local branches)?"}),l.jsxs("button",{onClick:()=>void D(),className:"rounded bg-red-600 px-2 py-0.5 text-xs text-white hover:bg-red-700",children:["Yes, delete ",y.size]}),l.jsx("button",{onClick:()=>T(!1),className:"text-muted hover:text-foreground text-xs",children:"Cancel"})]}):l.jsxs(l.Fragment,{children:[l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:()=>void H(),className:"text-muted hover:text-foreground rounded p-1 transition-colors hover:bg-white/10","aria-label":"Restore selected",children:l.jsx(c9,{className:"h-4 w-4"})})}),l.jsx(Ke,{children:"Restore selected"})]}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:()=>T(!0),className:"text-muted rounded p-1 transition-colors hover:bg-white/10 hover:text-red-400","aria-label":"Delete selected",children:l.jsx(fa,{className:"h-4 w-4"})})}),l.jsx(Ke,{children:"Delete selected permanently (local branches too)"})]}),l.jsx("button",{onClick:()=>w(new Set),className:"text-muted hover:text-foreground ml-1 text-xs",children:"Clear"})]})]})]}),a&&l.jsxs("div",{id:i,role:"region","aria-label":"Archived workspaces",className:"border-border border-t",children:[n.length>1&&l.jsxs("div",{className:"border-border flex items-center gap-2 border-b px-4 py-2",children:[l.jsx("input",{type:"checkbox",checked:V,onChange:G,className:"h-4 w-4 rounded border-gray-600 bg-transparent","aria-label":"Select all"}),n.length>3&&l.jsxs("div",{className:"relative flex-1",children:[l.jsx(n5,{className:"text-muted pointer-events-none absolute top-1/2 left-2 h-4 w-4 -translate-y-1/2"}),l.jsx("input",{type:"text",placeholder:"Search archived workspaces or branches...",value:m,onChange:Z=>h(Z.target.value),className:"bg-bg-dark placeholder:text-muted text-foreground focus:border-border-light w-full rounded border border-transparent py-1.5 pr-3 pl-8 text-sm focus:outline-none"})]})]}),l.jsx("div",{children:E.length===0?l.jsxs("div",{className:"text-muted px-4 py-6 text-center text-sm",children:["No workspaces match ",`"${m}"`]}):Array.from(M.entries()).map(([Z,W])=>l.jsxs("div",{children:[l.jsxs("div",{className:"bg-bg-dark text-muted flex items-center gap-2 px-4 py-1.5 text-xs font-medium",children:[l.jsx("span",{children:Z}),l.jsx(u3,{cost:Y.get(Z),loading:$})]}),W.map(K=>{const J=p.has(K.id)||K.isRemoving,ee=y.has(K.id),se=K.title&&K.title!==K.name?K.name:void 0,re=K.title??K.name;return l.jsxs("div",{className:ce("border-border flex items-center gap-3 border-b px-4 py-2.5 last:border-b-0",J&&"opacity-50",ee&&"bg-white/5"),children:[l.jsx("input",{type:"checkbox",checked:ee,onClick:ue=>O(K.id,ue),onChange:()=>{},className:"h-4 w-4 rounded border-gray-600 bg-transparent","aria-label":`Select ${re}`}),l.jsx(ty,{runtimeConfig:K.runtimeConfig,isWorking:!1,workspacePath:K.namedWorkspacePath,workspaceName:se}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"text-foreground truncate text-sm font-medium",children:re}),l.jsxs("div",{className:"flex items-center gap-2",children:[K.archivedAt&&l.jsx("span",{className:"text-muted text-xs",children:new Date(K.archivedAt).toLocaleString(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}),l.jsx(u3,{cost:I[K.id],loading:$,size:"sm"})]})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:()=>void U(K.id),disabled:J,className:"text-muted hover:text-foreground rounded p-1.5 transition-colors hover:bg-white/10 disabled:opacity-50","aria-label":`Restore workspace ${re}`,children:l.jsx(c9,{className:"h-4 w-4"})})}),l.jsx(Ke,{children:"Restore to sidebar"})]}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{onClick:()=>void B(K.id),disabled:J,className:"text-muted rounded p-1.5 transition-colors hover:bg-white/10 hover:text-red-400 disabled:opacity-50","aria-label":`Delete workspace ${re}`,children:J?l.jsx(pn,{className:"h-4 w-4 animate-spin"}):l.jsx(fa,{className:"h-4 w-4"})})}),l.jsx(Ke,{children:"Delete permanently (local branch too)"})]})]})]},K.id)})]},Z))})]})]})]})};function pXe(t,e){return l.jsx("div",{children:t},e)}function fXe(t){const{api:e}=Kt(),[n,r]=b.useState(!1),[a,s]=b.useState(!1),[i,o]=b.useState(null),c=b.useCallback(async()=>{if(!(!e||n||a)){r(!0),o(null);try{const u=await e.projects.gitInit({projectPath:t.projectPath});u.success?(s(!0),setTimeout(()=>{t.onSuccess()},1500)):o(u.error)}catch(u){o(u instanceof Error?u.message:"Failed to initialize git repository")}finally{r(!1)}}},[e,n,a,t]);return a?l.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-green-500/30 bg-green-500/10 px-4 py-3","data-testid":"git-init-banner",children:[l.jsx(Hn,{className:"h-5 w-5 shrink-0 text-green-500"}),l.jsxs("div",{className:"flex flex-1 flex-col gap-0.5",children:[l.jsx("span",{className:"text-sm font-medium text-green-500","data-testid":"git-init-success",children:"Git repository initialized"}),l.jsx("span",{className:"text-muted-foreground text-xs",children:"You can now use Worktree and Remote runtimes for isolated workspaces"})]})]}):l.jsxs("div",{className:"bg-bg-dark border-border-medium flex items-center gap-3 rounded-lg border px-4 py-3","data-testid":"git-init-banner",children:[l.jsx(rI,{className:"text-muted-foreground h-5 w-5 shrink-0"}),l.jsxs("div",{className:"flex flex-1 flex-col gap-0.5",children:[l.jsx("span",{className:"text-foreground text-sm font-medium",children:"This directory is not a git repository"}),l.jsxs("span",{className:"text-muted-foreground text-xs",children:["Run ",l.jsx("code",{className:"bg-bg-dark-hover rounded px-1 font-mono",children:"git init"})," to enable Worktree and Remote runtimes"]}),i&&l.jsx("span",{className:"text-xs text-red-500","data-testid":"git-init-error",children:i})]}),l.jsx("button",{type:"button",onClick:()=>void c(),disabled:n,className:"bg-accent hover:bg-accent/80 text-accent-foreground inline-flex items-center gap-1.5 rounded-md px-3 py-1.5 text-sm font-medium transition-colors disabled:opacity-50","data-testid":"git-init-button",children:n?l.jsxs(l.Fragment,{children:[l.jsx(pn,{className:"h-4 w-4 animate-spin"}),"Running..."]}):"Run git init"})]})}function gXe(t){const e=ae.c(26),n=Oi(),r=n.status.state==="enforced"?n.policy??null:null,a=$x(r),s=as();let i;e[0]!==t.providersConfig?(i=I=>t.providersConfig[I]?.isConfigured,e[0]=t.providersConfig,e[1]=i):i=e[1];const o=a.filter(i);let c;e[2]!==s?(c=()=>{s.open("providers")},e[2]=s,e[3]=c):c=e[3];const u=c,d=o.map(xXe).join(", "),m="text-muted-foreground flex items-center justify-center gap-2 py-1.5 text-sm",h=Ye,p=Xe,f=!0,g="border-border/50 hover:border-border inline-flex items-center gap-1.5 rounded border px-2 py-1 text-sm transition-colors";let x;e[4]===Symbol.for("react.memo_cache_sentinel")?(x=l.jsx(Hn,{className:"text-success h-3.5 w-3.5"}),e[4]=x):x=e[4];const y="flex items-center gap-1",w=o.map(bXe);let v;e[5]!==w?(v=l.jsx("span",{className:y,children:w}),e[5]=w,e[6]=v):v=e[6];let k;e[7]!==x||e[8]!==v?(k=l.jsxs("span",{className:g,children:[x,v]}),e[7]=x,e[8]=v,e[9]=k):k=e[9];let C;e[10]!==p||e[11]!==k?(C=l.jsx(p,{asChild:f,children:k}),e[10]=p,e[11]=k,e[12]=C):C=e[12];let _;e[13]!==d?(_=l.jsx(Ke,{side:"top",children:d}),e[13]=d,e[14]=_):_=e[14];let S;e[15]!==h||e[16]!==C||e[17]!==_?(S=l.jsxs(h,{children:[C,_]}),e[15]=h,e[16]=C,e[17]=_,e[18]=S):S=e[18];let T,N;e[19]===Symbol.for("react.memo_cache_sentinel")?(T=l.jsx(Hm,{className:"h-3 w-3"}),N=l.jsx("span",{children:"Providers"}),e[19]=T,e[20]=N):(T=e[19],N=e[20]);let j;e[21]!==u?(j=l.jsxs("button",{type:"button",onClick:u,className:"text-muted-foreground/70 hover:text-foreground inline-flex items-center gap-1 text-xs transition-colors",children:[T,N]}),e[21]=u,e[22]=j):j=e[22];let R;return e[23]!==S||e[24]!==j?(R=l.jsxs("div",{className:m,children:[S,j]}),e[23]=S,e[24]=j,e[25]=R):R=e[25],R}function bXe(t){return Nce(t)?l.jsx(gu,{provider:t},t):l.jsx("span",{className:"text-muted-foreground text-xs font-medium",children:Sx[t]},t)}function xXe(t){return Sx[t]}function yXe(){const t=ae.c(7),e=as();let n;t[0]!==e?(n=()=>{e.open("providers")},t[0]=e,t[1]=n):n=t[1];const r=n;let a;t[2]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx("div",{className:"bg-primary/10 flex h-12 w-12 items-center justify-center rounded-full",children:l.jsx(Rx,{className:"text-primary h-6 w-6"})}),t[2]=a):a=t[2];let s;t[3]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsxs("div",{className:"space-y-2",children:[l.jsx("h2",{className:"text-foreground text-lg font-semibold",children:"Configure an LLM Provider"}),l.jsx("p",{className:"text-muted-foreground max-w-sm text-sm",children:"To start a workspace, you'll need to configure at least one LLM provider with API credentials."})]}),t[3]=s):s=t[3];let i;t[4]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx(Hm,{className:"h-4 w-4"}),t[4]=i):i=t[4];let o;return t[5]!==r?(o=l.jsxs("div",{className:"border-border bg-card/50 flex flex-col items-center justify-center gap-4 rounded-lg border p-8 text-center","data-testid":"configure-providers-prompt",children:[a,s,l.jsxs(tt,{onClick:r,className:"gap-2",children:[i,"Open Provider Settings"]})]}),t[5]=r,t[6]=o):o=t[6],o}function wXe(t){const e=ae.c(11);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=l.jsx(x1,{className:"text-muted-foreground h-5 w-5 shrink-0"}),e[0]=n):n=e[0];let r;e[1]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx("span",{className:"text-foreground text-sm font-medium",children:"Initialize this repo for better results"}),e[1]=r):r=e[1];let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsxs("div",{className:"flex flex-1 flex-col gap-0.5",children:[r,l.jsxs("span",{className:"text-muted-foreground text-xs",children:["Add or improve an"," ",l.jsx("code",{className:"bg-bg-dark-hover rounded px-1 font-mono",children:"AGENTS.md"}),"so Mux learns your repos commands, conventions, and constraints."]})]}),e[2]=a):a=e[2];let s;e[3]!==t?(s=l.jsx("button",{type:"button",onClick:()=>void t.onRunInit(),className:"bg-accent hover:bg-accent/80 text-accent-foreground inline-flex items-center gap-1.5 rounded-md px-3 py-1.5 text-sm font-medium transition-colors","data-testid":"agents-init-run",children:"Run /init"}),e[3]=t,e[4]=s):s=e[4];let i;e[5]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx(ir,{className:"h-4 w-4"}),e[5]=i):i=e[5];let o;e[6]!==t.onDismiss?(o=l.jsx("button",{type:"button",onClick:t.onDismiss,"aria-label":"Dismiss",className:"text-muted-foreground hover:text-foreground inline-flex items-center rounded p-1 transition-colors","data-testid":"agents-init-dismiss",children:i}),e[6]=t.onDismiss,e[7]=o):o=e[7];let c;return e[8]!==s||e[9]!==o?(c=l.jsxs("div",{className:"bg-bg-dark border-border-medium flex items-center gap-3 rounded-lg border px-4 py-3","data-testid":"agents-init-banner",children:[n,a,l.jsxs("div",{className:"flex items-center gap-2",children:[s,o]})]}),e[8]=s,e[9]=o,e[10]=c):c=e[10],c}function vXe(t,e){if(t.length!==e.length)return!1;const n=new Set(t.map(r=>r.id));return e.every(r=>n.has(r.id))}function kXe(t){return t?Object.values(t).some(e=>e?.isConfigured):!1}const _Xe=({projectPath:t,projectName:e,leftSidebarCollapsed:n,onToggleLeftSidebarCollapsed:r,pendingDraftId:a,pendingSectionId:s,onWorkspaceCreated:i})=>{const{api:o}=Kt(),c=b.useRef(null),u=b.useRef(!1),[d,m]=b.useState(()=>_n(gj(t),[])),[h,p]=Tt(L_(t),!1,{listener:!0}),{config:f,loading:g}=Pu(),x=kXe(f),y=!g&&x&&h,[w,v]=b.useState(!1),[k,C]=b.useState(!0),[_,S]=b.useState(0);b.useEffect(()=>{if(!o)return;let M=!1;return(async()=>{try{const F=await o.projects.listBranches({projectPath:t});if(M)return;C(F.branches.length>0)}catch(F){if(console.error("Failed to load branches:",F),M)return;C(!0)}finally{M||v(!0)}})(),()=>{M=!0}},[o,t,_]);const T=w&&!k,N=b.useCallback(()=>{S(M=>M+1)},[]),j=b.useRef(new Map),R=b.useCallback(()=>{const M=Array.from(j.current.values());m(F=>vXe(F,M)?F:(rn(gj(t),M),M))},[t]);b.useEffect(()=>{if(!o)return;let M=!1;return(async()=>{try{const L=await o.workspace.list({archived:!0});if(M)return;const Y=L.filter(O=>O.projectPath===t);j.current=new Map(Y.map(O=>[O.id,O])),R()}catch(L){console.error("Failed to load archived workspaces:",L)}})(),()=>{M=!0}},[o,t,R]),b.useEffect(()=>{if(!o)return;const M=new AbortController;return(async()=>{try{const F=await o.workspace.onMetadata(void 0,{signal:M.signal});for await(const L of F){if(M.signal.aborted)break;const Y=L.metadata;if(Y&&Y.projectPath!==t||!Y&&!j.current.has(L.workspaceId))continue;Y&&HQ(Y.archivedAt,Y.unarchivedAt)?j.current.set(Y.id,Y):j.current.delete(L.workspaceId),R()}}catch(F){M.signal.aborted||console.error("Failed to subscribe to metadata for archived workspaces:",F)}})(),()=>M.abort()},[o,t,R]);const I=b.useRef(!1),A=b.useCallback(()=>{p(!1)},[p]),$=b.useCallback(()=>{if(rn(tl(ki(t)),"exec"),c.current)c.current.restoreText("/init"),requestAnimationFrame(()=>{c.current?.send()});else{u.current=!0;const M=typeof a=="string"&&a.trim().length>0?Pp(t,a):Fp(t);rn(mm(M),"/init")}p(!1)},[t,a,p]),E=b.useCallback(M=>{if(c.current=M,u.current){u.current=!1,I.current=!0,M.restoreText("/init"),requestAnimationFrame(()=>{M.send()});return}I.current||(I.current=!0,M.focus())},[]);return l.jsx(dL,{projectPath:t,children:l.jsx(cL,{projectPath:t,children:l.jsxs("div",{className:"bg-dark flex flex-1 flex-col overflow-hidden",children:[l.jsx("div",{className:ce("bg-sidebar border-border-light mobile-sticky-header flex shrink-0 items-center border-b px-2 [@media(max-width:768px)]:h-auto [@media(max-width:768px)]:py-2",$i()?"h-10 titlebar-drag":"h-8"),children:n&&l.jsx(tt,{variant:"ghost",size:"icon",onClick:r,title:"Open sidebar","aria-label":"Open sidebar menu",className:ce("hidden mobile-menu-btn h-6 w-6 shrink-0 text-muted hover:text-foreground",$i()&&"titlebar-no-drag"),children:l.jsx(lI,{className:"h-4 w-4"})})}),l.jsxs("div",{className:"min-h-0 flex-1 overflow-y-auto",children:[l.jsx("div",{className:"flex min-h-[50vh] flex-col items-center justify-center px-4 py-6",children:l.jsxs("div",{className:"flex w-full max-w-3xl flex-col gap-4",children:[T&&l.jsx(fXe,{projectPath:t,onSuccess:N}),!g&&!x?l.jsx(yXe,{}):l.jsxs(l.Fragment,{children:[y&&l.jsx(wXe,{onRunInit:$,onDismiss:A}),g?l.jsx("div",{className:"flex items-center justify-center gap-2 py-1.5",children:l.jsx(ej,{className:"h-7 w-32"})}):x&&f&&l.jsx(gXe,{providersConfig:f}),l.jsx(nj,{variant:"creation",projectPath:t,projectName:e,pendingSectionId:s,pendingDraftId:a,onReady:E,onWorkspaceCreated:i},a??"__pending__")]})]})}),l.jsx("div",{className:"flex justify-center px-4 pb-4",children:l.jsx("div",{className:"w-full max-w-3xl",children:l.jsx(tXe,{projectPath:t})})}),d.length>0&&l.jsx("div",{className:"flex justify-center px-4 pb-4",children:l.jsx("div",{className:"w-full max-w-3xl",children:l.jsx(hXe,{projectPath:t,projectName:e,workspaces:d,onWorkspacesChanged:()=>{o&&o.workspace.list({archived:!0}).then(M=>{m(M.filter(F=>F.projectPath===t))})}})})})]})]})})})},CXe=new Set(["vscode","cursor","zed","custom"]);function d3(t){if(!t||typeof t!="object")return b3;const e=t,n=typeof e.editor=="string"&&CXe.has(e.editor)?e.editor:b3.editor,r=typeof e.customCommand=="string"&&e.customCommand.trim()?e.customCommand:void 0;return{editor:n,customCommand:r}}function SXe(t){if(typeof document>"u")return;const e=tJ(t.fontFamily);if(!e)return;const n=e.trim();if(!n||n.toLowerCase()==="geist mono"||nJ(n))return;if(!_j(n,t.fontSize)){if(n.endsWith("Nerd Font")&&!n.endsWith("Nerd Font Mono")){const a=`${n} Mono`;if(_j(a,t.fontSize))return`Font "${n}" not found. Try "${a}".`}return`Font "${n}" not found in this browser.`}}function m3(t){if(!t||typeof t!="object")return up;const e=t,n=typeof e.fontFamily=="string"&&e.fontFamily.trim()?e.fontFamily:up.fontFamily,r=Number(e.fontSize),a=Number.isFinite(r)&&r>0?r:up.fontSize;return{fontFamily:n,fontSize:a}}const jXe=[{value:"vscode",label:"VS Code"},{value:"cursor",label:"Cursor"},{value:"zed",label:"Zed"},{value:"custom",label:"Custom"}],h3=typeof window<"u"&&!window.api;function TXe(){const{theme:t,setTheme:e}=Lu(),{api:n}=Kt(),[r,a]=Tt(_Z,up),s=m3(r),i=SXe(s),o=eJ(s.fontFamily),c=[String.fromCodePoint(983627),String.fromCodePoint(983572),String.fromCodePoint(983714),String.fromCodePoint(60037),String.fromCodePoint(59173),String.fromCodePoint(61749)].join(" "),[u,d]=Tt(CZ,b3),m=d3(u),[h,p]=b.useState(""),[f,g]=b.useState(!1),[x,y]=b.useState(!0),w=b.useRef(0),v=b.useRef(Promise.resolve()),k=b.useRef(void 0);b.useEffect(()=>{if(!n)return;const $=++w.current;n.config.getConfig().then(E=>{$===w.current&&y(E.stopCoderWorkspaceOnArchive)}).catch(()=>{})},[n]);const C=b.useCallback($=>{w.current++,y($),n?.config?.updateCoderPrefs&&(k.current=$,v.current=v.current.then(async()=>{for(;;){const E=k.current;if(E===void 0)return;k.current=void 0;try{await n.config.updateCoderPrefs({stopCoderWorkspaceOnArchive:E})}catch{}}}).catch(()=>{}))},[n]),{statsTabState:_,setStatsTabEnabled:S}=uC(),T=b.useCallback($=>{S($).catch(()=>{})},[S]);b.useEffect(()=>{h3&&n&&n.server.getSshHost().then($=>{p($??""),g(!0)})},[n]);const N=$=>{d(E=>({...d3(E),editor:$}))},j=$=>{a(E=>({...m3(E),fontFamily:$}))},R=$=>{const E=Number($);!Number.isFinite(E)||E<=0||a(M=>({...m3(M),fontSize:E}))},I=$=>{d(E=>({...d3(E),customCommand:$}))},A=b.useCallback($=>{p($),n?.server.setSshHost({sshHost:$||null})},[n]);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-foreground mb-4 text-sm font-medium",children:"Appearance"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-foreground text-sm",children:"Theme"}),l.jsx("div",{className:"text-muted text-xs",children:"Choose your preferred theme"})]}),l.jsxs(Ar,{value:t,onValueChange:$=>e($),children:[l.jsx(Tr,{className:"border-border-medium bg-background-secondary hover:bg-hover h-9 w-auto cursor-pointer rounded-md border px-3 text-sm transition-colors",children:l.jsx(Ir,{})}),l.jsx(Er,{children:GA.map($=>l.jsx(Un,{value:$.value,children:$.label},$.value))})]})]}),l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-foreground text-sm",children:"Terminal Font"}),i?l.jsx("div",{className:"text-warning text-xs",children:i}):null,l.jsx("div",{className:"text-muted text-xs",children:"Set this to a monospace font you like."}),l.jsxs("div",{className:"text-muted text-xs",children:["Preview:"," ",l.jsx("span",{className:"text-foreground",style:{fontFamily:o},children:c})]})]}),l.jsx("div",{className:"flex flex-col items-end gap-2",children:l.jsx(xr,{value:s.fontFamily,onChange:$=>j($.target.value),placeholder:up.fontFamily,className:"border-border-medium bg-background-secondary h-9 w-80"})})]}),l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-foreground text-sm",children:"Terminal Font Size"}),l.jsx("div",{className:"text-muted text-xs",children:"Font size for the integrated terminal"})]}),l.jsx(xr,{type:"number",value:s.fontSize,min:6,onChange:$=>R($.target.value),className:"border-border-medium bg-background-secondary h-9 w-28"})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-foreground mb-4 text-sm font-medium",children:"Workspace insights"}),l.jsx("div",{className:"divide-border-light divide-y",children:l.jsxs("div",{className:"flex items-center justify-between py-3",children:[l.jsxs("div",{className:"flex-1 pr-4",children:[l.jsx("div",{className:"text-foreground text-sm",children:"Stats tab"}),l.jsx("div",{className:"text-muted mt-0.5 text-xs",children:"Show timing statistics in the right sidebar"})]}),l.jsx(li,{checked:_?.enabled??!0,onCheckedChange:T,"aria-label":"Toggle Stats tab"})]})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-foreground text-sm",children:"Editor"}),l.jsx("div",{className:"text-muted text-xs",children:"Editor to open files in"})]}),l.jsxs(Ar,{value:m.editor,onValueChange:N,children:[l.jsx(Tr,{className:"border-border-medium bg-background-secondary hover:bg-hover h-9 w-auto cursor-pointer rounded-md border px-3 text-sm transition-colors",children:l.jsx(Ir,{})}),l.jsx(Er,{children:jXe.map($=>l.jsx(Un,{value:$.value,children:$.label},$.value))})]})]}),m.editor==="custom"&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-foreground text-sm",children:"Custom Command"}),l.jsx("div",{className:"text-muted text-xs",children:"Command to run (path will be appended)"})]}),l.jsx(xr,{value:m.customCommand??"",onChange:$=>I($.target.value),placeholder:"e.g., nvim",className:"border-border-medium bg-background-secondary h-9 w-40"})]}),h3&&l.jsx("div",{className:"text-warning text-xs",children:"Custom editors are not supported in browser mode. Use VS Code or Cursor instead."})]}),l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-foreground text-sm",children:"Stop Coder workspace when archiving"}),l.jsx("div",{className:"text-muted text-xs",children:"When enabled, archiving a Mux workspace will stop its dedicated Coder workspace first."})]}),l.jsx(li,{checked:x,onCheckedChange:C,disabled:!n?.config?.updateCoderPrefs,"aria-label":"Toggle stopping the dedicated Coder workspace when archiving a Mux workspace"})]}),h3&&f&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-foreground text-sm",children:"SSH Host"}),l.jsx("div",{className:"text-muted text-xs",children:"SSH hostname for 'Open in Editor' deep links"})]}),l.jsx(xr,{value:h,onChange:$=>A($.target.value),placeholder:window.location.hostname,className:"border-border-medium bg-background-secondary h-9 w-40"})]})]})}const $a="__inherit__",Tg=[{id:"plan",scope:"built-in",name:"Plan",description:"Create a plan before coding",uiSelectable:!0,subagentRunnable:!1,base:"plan"},{id:"exec",scope:"built-in",name:"Exec",description:"Implement changes in the repository",uiSelectable:!0,subagentRunnable:!0},{id:"compact",scope:"built-in",name:"Compact",description:"History compaction (internal)",uiSelectable:!1,subagentRunnable:!1},{id:"explore",scope:"built-in",name:"Explore",description:"Read-only repository exploration",uiSelectable:!1,subagentRunnable:!0,base:"exec"}];function EXe(t){switch(t.scope){case"project":return`.mux/agents/${t.id}.md`;case"global":return`~/.mux/agents/${t.id}.md`;default:return null}}function Eg(t,e,n){const r=e.trim().toLowerCase(),a={...t},i={...a[r]??{}};return n(i),i.modelString&&i.thinkingLevel&&(i.thinkingLevel=Tx(i.modelString,i.thinkingLevel)),!i.modelString&&!i.thinkingLevel&&i.enabled===void 0?delete a[r]:a[r]=i,a}function NXe(t){const e=t.id==="compact",n=e?{title:"Base: compact",note:"Internal no-tools mode."}:t.base?{title:`Base: ${t.base}`,note:"Inherits prompt/tools from base."}:{title:"Base: (none)",note:"No base agent configured."},r=[l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("span",{className:"cursor-help underline decoration-dotted underline-offset-2",children:n.title.toLowerCase()})}),l.jsxs(Ke,{align:"start",className:"max-w-80 whitespace-normal",children:[l.jsx("div",{className:"font-medium",children:n.title}),l.jsx("div",{className:"text-muted mt-2 text-xs",children:n.note})]})]},"base-policy")],a=t.tools?.add??[],s=t.tools?.remove??[],i=a.length+s.length;return(i>0||t.base)&&r.push(l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("span",{className:"cursor-help underline decoration-dotted underline-offset-2",children:i>0?`tools: ${i}`:"tools: inherited"})}),l.jsxs(Ke,{align:"start",className:"max-w-80 whitespace-normal",children:[l.jsx("div",{className:"font-medium",children:"Tools"}),i>0?l.jsxs("ul",{className:"mt-1 space-y-0.5",children:[a.map(o=>l.jsxs("li",{children:[l.jsx("span",{className:"text-green-500",children:"+"})," ",l.jsx("code",{children:o})]},`add:${o}`)),s.map(o=>l.jsxs("li",{children:[l.jsx("span",{className:"text-red-500",children:""})," ",l.jsx("code",{children:o})]},`remove:${o}`))]}):l.jsx("div",{className:"text-muted mt-1 text-xs",children:"Inherited from base."})]})]},"tools")),l.jsx(l.Fragment,{children:r.map((o,c)=>l.jsxs(xe.Fragment,{children:[c>0?"  ":null,o]},c))})}function $Xe(t,e){return t.maxParallelAgentTasks===e.maxParallelAgentTasks&&t.maxTaskNestingDepth===e.maxTaskNestingDepth&&t.proposePlanImplementReplacesChatHistory===e.proposePlanImplementReplacesChatHistory&&t.bashOutputCompactionMinLines===e.bashOutputCompactionMinLines&&t.bashOutputCompactionMinTotalBytes===e.bashOutputCompactionMinTotalBytes&&t.bashOutputCompactionMaxKeptLines===e.bashOutputCompactionMaxKeptLines&&t.bashOutputCompactionTimeoutMs===e.bashOutputCompactionTimeoutMs&&t.bashOutputCompactionHeuristicFallback===e.bashOutputCompactionHeuristicFallback}function Y$(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let a=0;a<n.length;a+=1){const s=n[a];if(s!==r[a])return!1;const i=t[s],o=e[s];if((i?.modelString??void 0)!==(o?.modelString??void 0)||(i?.thinkingLevel??void 0)!==(o?.thinkingLevel??void 0)||(i?.enabled??void 0)!==(o?.enabled??void 0))return!1}return!0}function AXe(){const t=ae.c(115),{api:e}=Kt(),{selectedWorkspace:n}=uc(),r=b.useRef(n);let a,s;t[0]!==n?(a=()=>{r.current=n},s=[n],t[0]=n,t[1]=a,t[2]=s):(a=t[1],s=t[2]),b.useEffect(a,s);const[i,o]=b.useState(eu);let c;t[3]===Symbol.for("react.memo_cache_sentinel")?(c={},t[3]=c):c=t[3];const[u,d]=b.useState(c);let m;t[4]===Symbol.for("react.memo_cache_sentinel")?(m=[],t[4]=m):m=t[4];const[h,p]=b.useState(m);let f;t[5]===Symbol.for("react.memo_cache_sentinel")?(f=[],t[5]=f):f=t[5];const[g,x]=b.useState(f),[y,w]=b.useState(!1),[v,k]=b.useState(!1),[C,_]=b.useState(!1),[S,T]=b.useState(!1),[N,j]=b.useState(null),R=b.useRef(null),I=b.useRef(!1),A=b.useRef(null),{models:$,hiddenModels:E}=K_(),M=n?.workspaceId??null;let F;t[6]===Symbol.for("react.memo_cache_sentinel")?(F=zm(),t[6]=F):F=t[6];const L=F;let Y;t[7]!==M?(Y=M?gs(M):"__tasks_workspace_model_fallback__",t[7]=M,t[8]=Y):Y=t[8];const O=Y;let G;t[9]===Symbol.for("react.memo_cache_sentinel")?(G={listener:!0},t[9]=G):G=t[9];const[H]=Tt(O,L,G);let D;t[10]!==H?(D=(typeof H=="string"?H.trim():"")||L,t[10]=H,t[11]=D):D=t[11];const U=D,B=b.useRef(null),q=b.useRef(null);let V,Z;t[12]!==e?(Z=()=>{e&&(_(!1),T(!1),j(null),e.config.getConfig().then(Pe=>{const yt=eo(Pe.taskSettings);o(yt);const lt=qQ(Pe.agentAiDefaults);d(lt),rn(p1,lt),T(!1),B.current=yt,q.current=lt,_(!0)}).catch(Pe=>{j(Pe instanceof Error?Pe.message:String(Pe)),T(!0),_(!0)}))},V=[e],t[12]=e,t[13]=V,t[14]=Z):(V=t[13],Z=t[14]),b.useEffect(Z,V);let W;t[15]!==e||t[16]!==n?.projectPath||t[17]!==n?.workspaceId?(W=()=>{if(!e)return;const Pe=n?.projectPath,yt=n?.workspaceId;if(!Pe){p([]),x(Tg.map(GXe)),w(!0),k(!1);return}let lt=!1;return w(!1),k(!1),Promise.all([e.agents.list({projectPath:Pe,workspaceId:yt}),e.agents.list({projectPath:Pe,workspaceId:yt,includeDisabled:!0})]).then(Ot=>{const[yn,Zn]=Ot;lt||(p(Zn),x(yn.map(WXe)),k(!1),w(!0))}).catch(()=>{lt||(p([]),x(Tg.map(UXe)),k(!0),w(!0))}),()=>{lt=!0}},t[15]=e,t[16]=n?.projectPath,t[17]=n?.workspaceId,t[18]=W):W=t[18];const K=n?.projectPath,J=n?.workspaceId;let ee;t[19]!==e||t[20]!==K||t[21]!==J?(ee=[e,K,J],t[19]=e,t[20]=K,t[21]=J,t[22]=ee):ee=t[22],b.useEffect(W,ee);let se,re;t[23]!==u||t[24]!==e||t[25]!==S||t[26]!==C||t[27]!==i?(se=()=>{if(!e||!C||S)return;A.current={taskSettings:i,agentAiDefaults:u};const Pe=B.current,yt=q.current;if(Pe&&yt&&$Xe(Pe,i)&&Y$(yt,u)){A.current=null,R.current&&(clearTimeout(R.current),R.current=null);return}return rn(p1,u),R.current&&(clearTimeout(R.current),R.current=null),R.current=setTimeout(()=>{const lt=()=>{if(I.current||!e)return;const Ot=A.current;Ot&&(A.current=null,I.current=!0,e.config.saveConfig({taskSettings:Ot.taskSettings,agentAiDefaults:Ot.agentAiDefaults}).then(()=>{const yn=q.current,Zn=!yn||!Y$(yn,Ot.agentAiDefaults);if(B.current=Ot.taskSettings,q.current=Ot.agentAiDefaults,j(null),Zn){window.dispatchEvent(_i(Rn.AGENTS_REFRESH_REQUESTED));const Cn=r.current?.projectPath,ua=r.current?.workspaceId;if(!Cn)return;k(!1),Promise.all([e.agents.list({projectPath:Cn,workspaceId:ua}),e.agents.list({projectPath:Cn,workspaceId:ua,includeDisabled:!0})]).then(fr=>{const[ga,ui]=fr;p(ui),x(ga.map(qXe)),k(!1),w(!0)}).catch(()=>{p([]),x(Tg.map(HXe)),k(!0),w(!0)})}}).catch(yn=>{j(yn instanceof Error?yn.message:String(yn))}).finally(()=>{I.current=!1,lt()}))};lt()},400),()=>{R.current&&(clearTimeout(R.current),R.current=null)}},re=[e,u,C,S,i],t[23]=u,t[24]=e,t[25]=S,t[26]=C,t[27]=i,t[28]=se,t[29]=re):(se=t[28],re=t[29]),b.useEffect(se,re);let ue,he;t[30]!==e||t[31]!==S||t[32]!==C?(ue=()=>{if(e&&C&&!S)return()=>{if(R.current&&(clearTimeout(R.current),R.current=null),I.current)return;const Pe=A.current;Pe&&(A.current=null,I.current=!0,e.config.saveConfig({taskSettings:Pe.taskSettings,agentAiDefaults:Pe.agentAiDefaults}).catch(zXe).finally(()=>{I.current=!1}))}},he=[e,C,S],t[30]=e,t[31]=S,t[32]=C,t[33]=ue,t[34]=he):(ue=t[33],he=t[34]),b.useEffect(ue,he);let ke;t[35]===Symbol.for("react.memo_cache_sentinel")?(ke=Pe=>{const yt=Number(Pe);o(lt=>eo({...lt,maxParallelAgentTasks:yt}))},t[35]=ke):ke=t[35];const je=ke;let _e;t[36]===Symbol.for("react.memo_cache_sentinel")?(_e=Pe=>{const yt=Number(Pe);o(lt=>eo({...lt,maxTaskNestingDepth:yt}))},t[36]=_e):_e=t[36];const ge=_e;let ve;t[37]===Symbol.for("react.memo_cache_sentinel")?(ve=Pe=>{o(yt=>eo({...yt,proposePlanImplementReplacesChatHistory:Pe}))},t[37]=ve):ve=t[37];const De=ve;let $e;t[38]===Symbol.for("react.memo_cache_sentinel")?($e=(Pe,yt)=>{d(lt=>Eg(lt,Pe,Ot=>{yt===$a?delete Ot.modelString:Ot.modelString=yt}))},t[38]=$e):$e=t[38];const Qe=$e;let Be;t[39]===Symbol.for("react.memo_cache_sentinel")?(Be=(Pe,yt)=>{d(lt=>Eg(lt,Pe,Ot=>{if(yt===$a){delete Ot.thinkingLevel;return}Ot.thinkingLevel=yt}))},t[39]=Be):Be=t[39];const ie=Be;let Te;t[40]===Symbol.for("react.memo_cache_sentinel")?(Te=(Pe,yt)=>{d(lt=>Eg(lt,Pe,Ot=>{Ot.enabled=yt}))},t[40]=Te):Te=t[40];const Ne=Te;let Re;t[41]===Symbol.for("react.memo_cache_sentinel")?(Re=Pe=>{d(yt=>Eg(yt,Pe,BXe))},t[41]=Re):Re=t[41];const Le=Re,Ae=h.length>0?h:Tg;let bt;t[42]!==g?(bt=new Set(g),t[42]=g,t[43]=bt):bt=t[43];const nt=bt;let ct;t[44]!==Ae?(ct=[...Ae].filter(FXe).sort(PXe),t[44]=Ae,t[45]=ct):ct=t[45];const pt=ct;let be;t[46]!==Ae?(be=[...Ae].filter(OXe).sort(LXe),t[46]=Ae,t[47]=be):be=t[47];const We=be;let He;t[48]!==Ae?(He=[...Ae].filter(DXe).sort(MXe),t[48]=Ae,t[49]=He):He=t[49];const Je=He;let ye;t[50]!==Ae?(ye=new Set(Ae.map(RXe)),t[50]=Ae,t[51]=ye):ye=t[51];const Ze=ye;let qe;t[52]!==u||t[53]!==Ze?(qe=Object.keys(u).filter(Pe=>!Ze.has(Pe)).sort(IXe),t[52]=u,t[53]=Ze,t[54]=qe):qe=t[54];const ft=qe;let Et;t[55]!==u||t[56]!==nt||t[57]!==E||t[58]!==U||t[59]!==$?(Et=Pe=>{const yt=u[Pe.id],lt=yt?.modelString??$a,Ot=yt?.thinkingLevel??$a,yn=yt?.enabled,Zn=Pe.id==="exec"||Pe.id==="plan"||Pe.id==="compact"||Pe.id==="mux",Cn=Zn?!0:typeof yn=="boolean"?yn:nt.has(Pe.id),ua=Zn?"Core agent. Can't be disabled.":yn===void 0?Cn?"Enabled by agent definition.":"Disabled by agent definition.":yn?"Enabled (local override).":"Disabled (local override).",fr=!Zn&&yn===void 0&&!Cn?"Disabled by default":null,ga=lt!==$a?lt:U,ui=pm(ga),di=EXe(Pe),wl=di?l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",className:"hover:text-foreground cursor-copy bg-transparent p-0 underline decoration-dotted underline-offset-2",onClick:vr=>{vr.stopPropagation(),bc(di)},children:Pe.scope})}),l.jsxs(Ke,{align:"start",className:"max-w-80 whitespace-normal",children:[l.jsx("div",{className:"font-medium",children:"Agent file"}),l.jsx("div",{className:"mt-1",children:l.jsx("code",{children:di})}),l.jsx("div",{className:"text-muted mt-2 text-xs",children:"Click to copy"})]})]}):l.jsx("span",{children:Pe.scope});return l.jsxs("div",{className:"border-border-medium bg-background-secondary rounded-md border p-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"text-foreground text-sm font-medium",children:Pe.name}),l.jsxs("div",{className:"text-muted text-xs",children:[Pe.id,"  ",wl,"  ",NXe(Pe),Pe.uiSelectable&&Pe.subagentRunnable?l.jsxs(l.Fragment,{children:[" ",""," ",l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("span",{className:"cursor-help underline decoration-dotted underline-offset-2",children:"sub-agent"})}),l.jsx(Ke,{align:"start",className:"max-w-80 whitespace-normal",children:"Can be invoked as a sub-agent."})]})]}):null]}),Pe.description?l.jsx("div",{className:"text-muted mt-1 text-xs",children:Pe.description}):null]}),l.jsxs("div",{className:"flex shrink-0 items-center gap-3",children:[fr?l.jsx("div",{className:"text-muted text-xs",children:fr}):null,l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"text-muted text-xs",children:"Enabled"}),l.jsx(li,{checked:Cn,disabled:Zn,onCheckedChange:vr=>Ne(Pe.id,vr),"aria-label":`Toggle ${Pe.id} enabled`})]})}),l.jsx(Ke,{children:ua})]}),yn!==void 0?l.jsx(tt,{type:"button",variant:"ghost",size:"sm",className:"px-2",onClick:()=>Le(Pe.id),children:"Reset"}):null]})]}),l.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"text-muted text-xs",children:"Model"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ax,{value:lt===$a?"":lt,emptyLabel:"Inherit",onChange:vr=>Qe(Pe.id,vr),models:$,hiddenModels:E,variant:"box",className:"bg-modal-bg"}),lt!==$a?l.jsx(tt,{type:"button",variant:"ghost",size:"sm",className:"h-9 px-2",onClick:()=>Qe(Pe.id,$a),children:"Reset"}):null]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"text-muted text-xs",children:"Reasoning"}),l.jsxs(Ar,{value:Ot,onValueChange:vr=>ie(Pe.id,vr),children:[l.jsx(Tr,{className:"border-border-medium bg-modal-bg h-9",children:l.jsx(Ir,{})}),l.jsxs(Er,{children:[l.jsx(Un,{value:$a,children:"Inherit"}),ui.map(vr=>l.jsx(Un,{value:vr,children:y3(vr,ga)},vr))]})]})]})]})]},Pe.id)},t[55]=u,t[56]=nt,t[57]=E,t[58]=U,t[59]=$,t[60]=Et):Et=t[60];const At=Et;let dt;t[61]!==u||t[62]!==E||t[63]!==U||t[64]!==$?(dt=Pe=>{const yt=u[Pe],lt=yt?.modelString??$a,Ot=yt?.thinkingLevel??$a,yn=lt!==$a?lt:U,Zn=pm(yn);return l.jsxs("div",{className:"border-border-medium bg-background-secondary rounded-md border p-3",children:[l.jsx("div",{className:"text-foreground text-sm font-medium",children:Pe}),l.jsx("div",{className:"text-muted text-xs",children:"Not discovered in the current workspace"}),l.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-3 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"text-muted text-xs",children:"Model"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ax,{value:lt===$a?"":lt,emptyLabel:"Inherit",onChange:Cn=>Qe(Pe,Cn),models:$,hiddenModels:E,variant:"box",className:"bg-modal-bg"}),lt!==$a?l.jsx(tt,{type:"button",variant:"ghost",size:"sm",className:"h-9 px-2",onClick:()=>Qe(Pe,$a),children:"Reset"}):null]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"text-muted text-xs",children:"Reasoning"}),l.jsxs(Ar,{value:Ot,onValueChange:Cn=>ie(Pe,Cn),children:[l.jsx(Tr,{className:"border-border-medium bg-modal-bg h-9",children:l.jsx(Ir,{})}),l.jsxs(Er,{children:[l.jsx(Un,{value:$a,children:"Inherit"}),Zn.map(Cn=>l.jsx(Un,{value:Cn,children:y3(Cn,yn)},Cn))]})]})]})]})]},Pe)},t[61]=u,t[62]=E,t[63]=U,t[64]=$,t[65]=dt):dt=t[65];const Mt=dt;let Gt;t[66]===Symbol.for("react.memo_cache_sentinel")?(Gt=l.jsx("h3",{className:"text-foreground mb-4 text-sm font-medium",children:"Task Settings"}),t[66]=Gt):Gt=t[66];let tn;t[67]===Symbol.for("react.memo_cache_sentinel")?(tn=l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-foreground text-sm",children:"Max Parallel Agent Tasks"}),l.jsxs("div",{className:"text-muted text-xs",children:["Default ",Ma.maxParallelAgentTasks.default,", range"," ",Ma.maxParallelAgentTasks.min,"",Ma.maxParallelAgentTasks.max]})]}),t[67]=tn):tn=t[67];let It;t[68]===Symbol.for("react.memo_cache_sentinel")?(It=Pe=>je(Pe.target.value),t[68]=It):It=t[68];let zt;t[69]!==i.maxParallelAgentTasks?(zt=l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[tn,l.jsx(xr,{type:"number",value:i.maxParallelAgentTasks,min:Ma.maxParallelAgentTasks.min,max:Ma.maxParallelAgentTasks.max,onChange:It,className:"border-border-medium bg-background-secondary h-9 w-28"})]}),t[69]=i.maxParallelAgentTasks,t[70]=zt):zt=t[70];let Vt;t[71]===Symbol.for("react.memo_cache_sentinel")?(Vt=l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-foreground text-sm",children:"Max Task Nesting Depth"}),l.jsxs("div",{className:"text-muted text-xs",children:["Default ",Ma.maxTaskNestingDepth.default,", range"," ",Ma.maxTaskNestingDepth.min,"",Ma.maxTaskNestingDepth.max]})]}),t[71]=Vt):Vt=t[71];let qt;t[72]===Symbol.for("react.memo_cache_sentinel")?(qt=Pe=>ge(Pe.target.value),t[72]=qt):qt=t[72];let Pt;t[73]!==i.maxTaskNestingDepth?(Pt=l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[Vt,l.jsx(xr,{type:"number",value:i.maxTaskNestingDepth,min:Ma.maxTaskNestingDepth.min,max:Ma.maxTaskNestingDepth.max,onChange:qt,className:"border-border-medium bg-background-secondary h-9 w-28"})]}),t[73]=i.maxTaskNestingDepth,t[74]=Pt):Pt=t[74];let et;t[75]===Symbol.for("react.memo_cache_sentinel")?(et=l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-foreground text-sm",children:"Plan: Implement replaces conversation with plan"}),l.jsx("div",{className:"text-muted text-xs",children:"When enabled, clicking Implement on a plan proposal clears previous messages and shows the plan before switching to Exec."})]}),t[75]=et):et=t[75];const rt=i.proposePlanImplementReplacesChatHistory??!1;let jt;t[76]!==rt?(jt=l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[et,l.jsx(li,{checked:rt,onCheckedChange:De,"aria-label":"Toggle plan Implement replaces conversation with plan"})]}),t[76]=rt,t[77]=jt):jt=t[77];let ze;t[78]!==zt||t[79]!==Pt||t[80]!==jt?(ze=l.jsxs("div",{className:"space-y-4",children:[zt,Pt,jt]}),t[78]=zt,t[79]=Pt,t[80]=jt,t[81]=ze):ze=t[81];let Ve;t[82]!==N?(Ve=N?l.jsx("div",{className:"text-danger-light mt-4 text-xs",children:N}):null,t[82]=N,t[83]=Ve):Ve=t[83];let $t;t[84]!==ze||t[85]!==Ve?($t=l.jsxs("div",{children:[Gt,ze,Ve]}),t[84]=ze,t[85]=Ve,t[86]=$t):$t=t[86];let Wt,sn;t[87]===Symbol.for("react.memo_cache_sentinel")?(Wt=l.jsx("h3",{className:"text-foreground mb-1 text-sm font-medium",children:"Agent Defaults"}),sn=l.jsx("div",{className:"text-muted text-xs",children:"Defaults apply globally. Changing model/reasoning in a workspace creates a workspace override."}),t[87]=Wt,t[88]=sn):(Wt=t[87],sn=t[88]);let En;t[89]!==v?(En=v?l.jsx("div",{className:"text-danger-light mt-3 text-xs",children:"Failed to load agent definitions for this workspace."}):null,t[89]=v,t[90]=En):En=t[90];let ot;t[91]!==y?(ot=y?null:l.jsx("div",{className:"text-muted mt-3 text-xs",children:"Loading agents"}),t[91]=y,t[92]=ot):ot=t[92];let Ue;t[93]!==En||t[94]!==ot?(Ue=l.jsxs("div",{children:[Wt,sn,En,ot]}),t[93]=En,t[94]=ot,t[95]=Ue):Ue=t[95];let Se;t[96]!==At||t[97]!==pt?(Se=pt.length>0?l.jsxs("div",{children:[l.jsx("h4",{className:"text-foreground mb-3 text-sm font-medium",children:"UI agents"}),l.jsx("div",{className:"space-y-4",children:pt.map(At)})]}):null,t[96]=At,t[97]=pt,t[98]=Se):Se=t[98];let le;t[99]!==At||t[100]!==We?(le=We.length>0?l.jsxs("div",{children:[l.jsx("h4",{className:"text-foreground mb-3 text-sm font-medium",children:"Sub-agents"}),l.jsx("div",{className:"space-y-4",children:We.map(At)})]}):null,t[99]=At,t[100]=We,t[101]=le):le=t[101];let Ie;t[102]!==Je||t[103]!==At?(Ie=Je.length>0?l.jsxs("div",{children:[l.jsx("h4",{className:"text-foreground mb-3 text-sm font-medium",children:"Internal"}),l.jsx("div",{className:"space-y-4",children:Je.map(At)})]}):null,t[102]=Je,t[103]=At,t[104]=Ie):Ie=t[104];let we;t[105]!==Mt||t[106]!==ft?(we=ft.length>0?l.jsxs("div",{children:[l.jsx("h4",{className:"text-foreground mb-3 text-sm font-medium",children:"Unknown agents"}),l.jsx("div",{className:"space-y-4",children:ft.map(Mt)})]}):null,t[105]=Mt,t[106]=ft,t[107]=we):we=t[107];let it;return t[108]!==$t||t[109]!==Ue||t[110]!==Se||t[111]!==le||t[112]!==Ie||t[113]!==we?(it=l.jsxs("div",{className:"space-y-6",children:[$t,Ue,Se,le,Ie,we]}),t[108]=$t,t[109]=Ue,t[110]=Se,t[111]=le,t[112]=Ie,t[113]=we,t[114]=it):it=t[114],it}function IXe(t,e){return t.localeCompare(e)}function RXe(t){return t.id}function MXe(t,e){return t.name.localeCompare(e.name)}function DXe(t){return!t.uiSelectable&&!t.subagentRunnable}function LXe(t,e){return t.name.localeCompare(e.name)}function OXe(t){return t.subagentRunnable&&!t.uiSelectable}function PXe(t,e){return t.name.localeCompare(e.name)}function FXe(t){return t.uiSelectable}function BXe(t){delete t.enabled}function zXe(){}function HXe(t){return t.id}function qXe(t){return t.id}function UXe(t){return t.id}function WXe(t){return t.id}function GXe(t){return t.id}function VXe(){const t=new URLSearchParams(window.location.search).get("token")?.trim();return t?.length?t:kx()}const KXe="gateway-models";function YXe(t){return t==="bedrock"?[{key:"region",label:"Region",placeholder:"us-east-1",type:"text"},{key:"profile",label:"AWS Profile",placeholder:"my-sso-profile",type:"text",optional:!0},{key:"bearerToken",label:"Bearer Token",placeholder:"AWS_BEARER_TOKEN_BEDROCK",type:"secret",optional:!0},{key:"accessKeyId",label:"Access Key ID",placeholder:"AWS Access Key ID",type:"secret",optional:!0},{key:"secretAccessKey",label:"Secret Access Key",placeholder:"AWS Secret Access Key",type:"secret",optional:!0}]:t==="mux-gateway"?[]:t==="github-copilot"?[]:[{key:"apiKey",label:"API Key",placeholder:"Enter API key",type:"secret"},{key:"baseUrl",label:"Base URL",placeholder:"https://api.example.com",type:"text",optional:!0}]}const X$={anthropic:"https://console.anthropic.com/settings/keys",openai:"https://platform.openai.com/api-keys",google:"https://aistudio.google.com/app/apikey",xai:"https://console.x.ai/team/default/api-keys",deepseek:"https://platform.deepseek.com/api_keys",openrouter:"https://openrouter.ai/settings/keys"};function XXe(){const t=Oi(),e=t.status.state==="enforced"?t.policy??null:null,n=b.useMemo(()=>$x(e),[e]),{providersExpandedProvider:r,setProvidersExpandedProvider:a}=as(),{api:s}=Kt(),{config:i,refresh:o,updateOptimistically:c}=Pu(),{data:u,error:d,isLoading:m,refresh:h}=aC(),p=$f(),[f,g]=Tt(KXe,[],{listener:!0}),x=b.useMemo(()=>Lp(i),[i]),y=b.useMemo(()=>x.length>0&&!x.every(Ue=>f.includes(Ue)),[x,f]),w=b.useCallback(Ue=>{s?.config?.updateMuxGatewayPrefs&&s.config.updateMuxGatewayPrefs({muxGatewayEnabled:p.isEnabled,muxGatewayModels:Ue}).catch(()=>{})},[s,p.isEnabled]),v=b.useCallback(Ue=>{g(Ue),w(Ue)},[w,g]),k=b.useCallback(()=>{y&&v(x)},[v,y,x]),C=vx(),_=(()=>{try{return new URL(C).origin}catch{return window.location.origin}})(),S=!!window.api,T=!S&&!["localhost","127.0.0.1","::1"].includes(window.location.hostname),[N,j]=b.useState("idle"),[R,I]=b.useState(null),A=b.useRef(0),[$,E]=b.useState(null),[M,F]=b.useState(null),[L,Y]=b.useState(!1),O=b.useRef(null);b.useEffect(()=>()=>{O.current!==null&&clearTimeout(O.current)},[]);const G=i?.openai?.codexOauthSet===!0,H=i?.openai?.apiKeySet===!0,D=i?.openai?.codexOauthDefaultAuth==="apiKey"?"apiKey":"oauth",U=G&&H,B=N==="starting"||N==="waiting",q=async()=>{const Ue=++A.current;if(!s){j("error"),I("Mux API not connected.");return}$&&s.codexOauth.cancelDesktopFlow({flowId:$}),M&&s.codexOauth.cancelDeviceFlow({flowId:M.flowId}),I(null),E(null),F(null);let Se=null;try{if(!S&&(Se=window.open("about:blank","_blank"),!Se))throw new Error("Popup blocked - please allow popups and try again.");if(j("starting"),!S){const Pe=await s.codexOauth.startDeviceFlow();if(Ue!==A.current){Pe.success&&s.codexOauth.cancelDeviceFlow({flowId:Pe.data.flowId}),Se?.close();return}if(!Pe.success){Se?.close(),j("error"),I(Pe.error);return}F({flowId:Pe.data.flowId,userCode:Pe.data.userCode,verifyUrl:Pe.data.verifyUrl}),j("waiting"),Se&&(Se.location.href=Pe.data.verifyUrl);const yt=await s.codexOauth.waitForDeviceFlow({flowId:Pe.data.flowId});if(Ue!==A.current)return;if(!yt.success){j("error"),I(yt.error);return}j("idle"),F(null),await o();return}const le=await s.codexOauth.startDesktopFlow();if(Ue!==A.current){le.success&&s.codexOauth.cancelDesktopFlow({flowId:le.data.flowId}),Se?.close();return}if(!le.success){Se?.close(),j("error"),I(le.error);return}const{flowId:Ie,authorizeUrl:we}=le.data;E(Ie),j("waiting"),window.open(we,"_blank","noopener");const it=await s.codexOauth.waitForDesktopFlow({flowId:Ie});if(Ue!==A.current)return;if(!it.success){j("error"),I(it.error);return}j("idle"),E(null),await o()}catch(le){if(Se?.close(),Ue!==A.current)return;j("error"),I(le instanceof Error?le.message:String(le))}},V=async()=>{const Ue=++A.current;if(!s){j("error"),I("Mux API not connected.");return}$&&s.codexOauth.cancelDesktopFlow({flowId:$}),M&&s.codexOauth.cancelDeviceFlow({flowId:M.flowId}),I(null),E(null),F(null);try{j("starting");const Se=await s.codexOauth.startDeviceFlow();if(Ue!==A.current){Se.success&&s.codexOauth.cancelDeviceFlow({flowId:Se.data.flowId});return}if(!Se.success){j("error"),I(Se.error);return}F({flowId:Se.data.flowId,userCode:Se.data.userCode,verifyUrl:Se.data.verifyUrl}),j("waiting");const le=await s.codexOauth.waitForDeviceFlow({flowId:Se.data.flowId});if(Ue!==A.current)return;if(!le.success){j("error"),I(le.error);return}j("idle"),F(null),await o()}catch(Se){if(Ue!==A.current)return;j("error"),I(Se instanceof Error?Se.message:String(Se))}},Z=async()=>{const Ue=++A.current;if(!s){j("error"),I("Mux API not connected.");return}$&&s.codexOauth.cancelDesktopFlow({flowId:$}),M&&s.codexOauth.cancelDeviceFlow({flowId:M.flowId}),I(null),E(null),F(null);try{j("starting");const Se=await s.codexOauth.disconnect();if(Ue!==A.current)return;if(!Se.success){j("error"),I(Se.error);return}c("openai",{codexOauthSet:!1}),j("idle"),await o()}catch(Se){if(Ue!==A.current)return;j("error"),I(Se instanceof Error?Se.message:String(Se))}},[W,K]=b.useState("idle"),J=()=>{A.current++,s&&($&&s.codexOauth.cancelDesktopFlow({flowId:$}),M&&s.codexOauth.cancelDeviceFlow({flowId:M.flowId})),E(null),F(null),j("idle"),I(null)},[ee,se]=b.useState(null),re=b.useRef(!1),ue=b.useRef(0),[he,ke]=b.useState(null),[je,_e]=b.useState(null),ge=()=>{re.current=!1,ue.current++,S&&s&&he&&s.muxGatewayOauth.cancelDesktopFlow({flowId:he}),ke(null),_e(null),K("idle"),se(null)},ve=()=>{s&&(ge(),c("mux-gateway",{couponCodeSet:!1}),s.providers.setProviderConfig({provider:"mux-gateway",keyPath:["couponCode"],value:""}),s.providers.setProviderConfig({provider:"mux-gateway",keyPath:["voucher"],value:""}))},De=async()=>{const Ue=++ue.current,Se=i?.["mux-gateway"]?.couponCodeSet??p.isConfigured;re.current=!Se;try{if(se(null),ke(null),_e(null),S){if(!s){K("error"),se("Mux API not connected.");return}K("starting");const Pe=await s.muxGatewayOauth.startDesktopFlow();if(Ue!==ue.current){Pe.success&&s.muxGatewayOauth.cancelDesktopFlow({flowId:Pe.data.flowId});return}if(!Pe.success){K("error"),se(Pe.error);return}const{flowId:yt,authorizeUrl:lt}=Pe.data;if(ke(yt),K("waiting"),window.open(lt,"_blank","noopener"),Ue!==ue.current)return;const Ot=await s.muxGatewayOauth.waitForDesktopFlow({flowId:yt});if(Ue!==ue.current)return;if(Ot.success){if(re.current){let yn=i;try{yn=await s.providers.getConfig()}catch{}if(Ue!==ue.current)return;v(Lp(yn)),re.current=!1}K("success"),h();return}K("error"),se(Ot.error);return}const le=window.open("about:blank","_blank");if(!le)throw new Error("Popup blocked - please allow popups and try again.");K("starting");const Ie=new URL(`${C}/auth/mux-gateway/start`),we=VXe();let it;try{const Pe=await fetch(Ie,{headers:we?{Authorization:`Bearer ${we}`}:void 0}),yt=Pe.headers.get("content-type")??"";if(!yt.includes("application/json")){const Ot=(await Pe.text()).trim().slice(0,80);throw new Error(`Unexpected response from ${Ie.toString()} (expected JSON, got ${yt||"unknown"}): ${Ot}`)}if(it=await Pe.json(),!Pe.ok){const lt=typeof it.error=="string"?it.error:`HTTP ${Pe.status}`;throw new Error(lt)}}catch(Pe){throw le.close(),Pe}if(Ue!==ue.current){le.close();return}if(typeof it.authorizeUrl!="string"||typeof it.state!="string")throw le.close(),new Error(`Invalid response from ${Ie.pathname}`);_e(it.state),le.location.href=it.authorizeUrl,K("waiting")}catch(le){if(Ue!==ue.current)return;const Ie=le instanceof Error?le.message:String(le);K("error"),se(Ie)}};b.useEffect(()=>{const Ue=ue.current;if(S||W!=="waiting"||!je)return;const Se=le=>{if(le.origin!==_||ue.current!==Ue)return;const Ie=le.data;if(!Ie||typeof Ie!="object"||Ie.type!=="mux-gateway-oauth"||Ie.state!==je)return;if(Ie.ok===!0){if(re.current){re.current=!1;const it=Pe=>{ue.current===Ue&&v(Lp(Pe))};s?s.providers.getConfig().then(it).catch(()=>it(i)):it(i)}K("success"),h();return}const we=typeof Ie.error=="string"?Ie.error:"Login failed";K("error"),se(we)};return window.addEventListener("message",Se),()=>window.removeEventListener("message",Se)},[S,W,je,_,s,i,v,h]);const $e=i?.["mux-gateway"]?.couponCodeSet??!1,Qe=W==="waiting"||W==="starting",Be=$e||W==="success",ie=Be?"Logged in":"Not logged in",Te=W==="error"?"Try again":Qe?"Waiting for login...":Be?"Re-login to Mux Gateway":"Login to Mux Gateway",[Ne,Re]=b.useState("idle"),[Le,Ae]=b.useState(null),[bt,nt]=b.useState(null),[ct,pt]=b.useState(null),[be,We]=b.useState(null),[He,Je]=b.useState(!1),ye=b.useRef(0),Ze=b.useRef(null),qe=b.useRef(null);b.useEffect(()=>()=>{qe.current!==null&&clearTimeout(qe.current)},[]);const ft=i?.["github-copilot"]?.apiKeySet??!1,Et=Ne==="waiting"||Ne==="starting",At=ft||Ne==="success",dt=()=>{ye.current++,s&&bt&&s.copilotOauth.cancelDeviceFlow({flowId:bt}),nt(null),Ze.current=null,pt(null),We(null),Re("idle"),Ae(null)};b.useEffect(()=>()=>{Ze.current&&s&&s.copilotOauth.cancelDeviceFlow({flowId:Ze.current})},[s]);const Mt=()=>{s&&(dt(),c("github-copilot",{apiKeySet:!1}),s.providers.setProviderConfig({provider:"github-copilot",keyPath:["apiKey"],value:""}))},Gt=async()=>{const Ue=++ye.current;try{if(Ae(null),Re("starting"),!s){Re("error"),Ae("API not connected.");return}const Se=await s.copilotOauth.startDeviceFlow();if(Ue!==ye.current)return;if(!Se.success){Re("error"),Ae(Se.error);return}const{flowId:le,verificationUri:Ie,userCode:we}=Se.data;nt(le),Ze.current=le,pt(we),We(Ie),Re("waiting"),window.open(Ie,"_blank","noopener");const it=await s.copilotOauth.waitForDeviceFlow({flowId:le});if(Ue!==ye.current)return;if(it.success){Re("success");return}Re("error"),Ae(it.error)}catch(Se){if(Ue!==ye.current)return;const le=Se instanceof Error?Se.message:String(Se);Re("error"),Ae(le)}},[tn,It]=b.useState(null);b.useEffect(()=>{r&&(It(r),a(null))},[r,a]),b.useEffect(()=>{tn!=="mux-gateway"||!Be||u||m||d||h()},[tn,d,m,u,Be,h]);const[zt,Vt]=b.useState(null),[qt,Pt]=b.useState(""),[et,rt]=b.useState(!1),jt=Ue=>{It(Se=>{const le=Se===Ue?null:Ue;return Se==="mux-gateway"&&le!=="mux-gateway"&&ge(),Se==="github-copilot"&&le!=="github-copilot"&&dt(),le}),Vt(null)},ze=(Ue,Se,le)=>{Vt({provider:Ue,field:Se});const Ie=En(Ue,Se);Pt(le.type==="text"&&Ie?Ie:"")},Ve=()=>{Vt(null),Pt(""),rt(!1)},$t=b.useCallback(()=>{if(!zt||!s)return;const{provider:Ue,field:Se}=zt;Se==="apiKey"?c(Ue,{apiKeySet:qt!==""}):Se==="baseUrl"&&c(Ue,{baseUrl:qt||void 0}),Vt(null),Pt(""),rt(!1),s.providers.setProviderConfig({provider:Ue,keyPath:[Se],value:qt})},[s,zt,qt,c]),Wt=b.useCallback((Ue,Se)=>{s&&(Se==="apiKey"?c(Ue,{apiKeySet:!1}):Se==="baseUrl"&&c(Ue,{baseUrl:void 0}),s.providers.setProviderConfig({provider:Ue,keyPath:[Se],value:""}))},[s,c]),sn=Ue=>i?.[Ue]?.isConfigured??!1,En=(Ue,Se)=>{const le=i?.[Ue];if(!le)return;if(Ue==="bedrock"&&(Se==="region"||Se==="profile"))return Se==="region"?le.aws?.region:le.aws?.profile;const Ie=le[Se];return typeof Ie=="string"?Ie:void 0},ot=(Ue,Se,le)=>{const Ie=i?.[Ue];if(!Ie)return!1;if(le.type==="secret"){if(Se==="apiKey")return Ie.apiKeySet??!1;if(Ue==="bedrock"&&Ie.aws){const{aws:we}=Ie;switch(Se){case"bearerToken":return we.bearerTokenSet??!1;case"accessKeyId":return we.accessKeyIdSet??!1;case"secretAccessKey":return we.secretAccessKeySet??!1}}return!1}return!!En(Ue,Se)};return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-muted mb-4 text-xs",children:["Configure API keys and endpoints for AI providers. Keys are stored in"," ",l.jsx("code",{className:"text-accent",children:"~/.mux/providers.jsonc"})]}),t.status.state==="enforced"&&l.jsxs("div",{className:"border-border-medium bg-background-secondary/50 text-muted flex items-center gap-2 rounded-md border px-3 py-2 text-xs",children:[l.jsx(qm,{className:"h-4 w-4","aria-hidden":!0}),l.jsx("span",{children:"Your settings are controlled by a policy."})]}),n.map(Ue=>{const Se=tn===Ue,le=sn(Ue),Ie=YXe(Ue);return l.jsxs("div",{className:"border-border-medium bg-background-secondary overflow-hidden rounded-md border",children:[l.jsxs(tt,{variant:"ghost",onClick:()=>jt(Ue),className:"flex h-auto w-full items-center justify-between rounded-none px-4 py-3 text-left",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[Se?l.jsx(Fs,{className:"text-muted h-4 w-4"}):l.jsx(na,{className:"text-muted h-4 w-4"}),l.jsx(ry,{provider:Ue,displayName:!0,className:"text-foreground text-sm font-medium"})]}),l.jsx("div",{className:`h-2 w-2 rounded-full ${le?"bg-green-500":"bg-border-medium"}`,title:le?"Configured":"Not configured"})]}),Se&&l.jsxs("div",{className:"border-border-medium space-y-3 border-t px-4 py-3",children:[X$[Ue]&&l.jsxs("div",{className:"space-y-1",children:[l.jsxs("a",{href:X$[Ue],target:"_blank",rel:"noopener noreferrer",className:"text-muted hover:text-accent inline-flex items-center gap-1 text-xs transition-colors",children:["Get API Key",l.jsx(pl,{className:"h-2.5 w-2.5"})]}),Ue==="anthropic"&&le&&i?.[Ue]?.apiKeySet===!1&&l.jsx("div",{className:"text-muted text-xs",children:"Configured via environment variables."})]}),Ue==="mux-gateway"&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-foreground block text-xs font-medium",children:"Authentication"}),l.jsx("span",{className:"text-muted text-xs",children:ie})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(tt,{size:"sm",onClick:()=>{De()},disabled:Qe,children:Te}),Qe&&l.jsx(tt,{variant:"secondary",size:"sm",onClick:ge,children:"Cancel"}),Be&&l.jsx(tt,{variant:"ghost",size:"sm",onClick:ve,children:"Log out"})]}),W==="waiting"&&l.jsx("p",{className:"text-muted text-xs",children:"Finish the login flow in your browser, then return here."}),W==="error"&&ee&&l.jsxs("p",{className:"text-destructive text-xs",children:["Login failed: ",ee]})]})]}),Ue==="mux-gateway"&&Be&&l.jsxs("div",{className:"border-border-light space-y-2 border-t pt-3",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-foreground block text-xs font-medium",children:"Account"}),l.jsx("span",{className:"text-muted text-xs",children:"Balance and limits from Mux Gateway"})]}),l.jsx(tt,{variant:"outline",size:"sm",onClick:()=>{h()},disabled:m,children:m?"Refreshing...":"Refresh"})]}),l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx("span",{className:"text-muted text-xs",children:"Balance"}),l.jsx("span",{className:"text-foreground font-mono text-xs",children:rC(u?.remaining_microdollars)})]}),l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx("span",{className:"text-muted text-xs",children:"Concurrent requests per user"}),l.jsx("span",{className:"text-foreground font-mono text-xs",children:u?.ai_gateway_concurrent_requests_per_user??""})]}),d&&l.jsx("p",{className:"text-destructive text-xs",children:d})]}),Ue==="github-copilot"&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-foreground block text-xs font-medium",children:"Authentication"}),l.jsx("span",{className:"text-muted text-xs",children:At?"Logged in":"Not logged in"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(tt,{size:"sm",onClick:()=>{Gt()},disabled:Et,children:Ne==="error"?"Try again":Et?"Waiting for authorization...":At?"Re-login with GitHub":"Login with GitHub"}),Et&&l.jsx(tt,{variant:"secondary",size:"sm",onClick:dt,children:"Cancel"}),At&&l.jsx(tt,{variant:"ghost",size:"sm",onClick:Mt,children:"Log out"})]}),Ne==="waiting"&&ct&&l.jsxs("div",{className:"bg-background-tertiary space-y-2 rounded-md p-3",children:[l.jsx("p",{className:"text-muted text-xs",children:"Enter this code on GitHub:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("code",{className:"text-accent text-lg font-bold tracking-widest",children:ct}),l.jsx(tt,{variant:"ghost",size:"sm","aria-label":"Copy verification code",onClick:()=>{navigator.clipboard.writeText(ct),Je(!0),qe.current!==null&&clearTimeout(qe.current),qe.current=setTimeout(()=>Je(!1),2e3)},className:"text-muted hover:text-foreground h-auto px-1 py-0 text-xs",children:He?"Copied!":"Copy"})]}),be&&l.jsxs("p",{className:"text-muted text-xs",children:["If the browser didn't open,"," ",l.jsx("a",{href:be,target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:text-accent-light underline",children:"open the verification page"}),"."]})]}),Ne==="error"&&Le&&l.jsxs("p",{className:"text-destructive text-xs",children:["Login failed: ",Le]})]})]}),Ie.map(we=>{const it=zt?.provider===Ue&&zt?.field===we.key,Pe=En(Ue,we.key),yt=ot(Ue,we.key,we);return l.jsxs("div",{children:[l.jsxs("label",{className:"text-muted mb-1 block text-xs",children:[we.label,we.optional&&l.jsx("span",{className:"text-dim",children:" (optional)"})]}),it?l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:we.type==="secret"&&!et?"password":"text",value:qt,onChange:lt=>Pt(lt.target.value),placeholder:we.placeholder,className:"bg-modal-bg border-border-medium focus:border-accent flex-1 rounded border px-2 py-1.5 font-mono text-xs focus:outline-none",autoFocus:!0,onKeyDown:ZA({onSave:$t,onCancel:Ve})}),we.type==="secret"&&l.jsx(tt,{variant:"ghost",size:"icon",onClick:()=>rt(!et),className:"text-muted hover:text-foreground h-6 w-6",title:et?"Hide password":"Show password",children:et?l.jsx(Gd,{className:"h-4 w-4"}):l.jsx(Vd,{className:"h-4 w-4"})}),l.jsx(tt,{variant:"ghost",size:"icon",onClick:$t,className:"h-6 w-6 text-green-500 hover:text-green-400",children:l.jsx(Hn,{className:"h-4 w-4"})}),l.jsx(tt,{variant:"ghost",size:"icon",onClick:Ve,className:"text-muted hover:text-foreground h-6 w-6",children:l.jsx(ir,{className:"h-4 w-4"})})]}):l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-foreground font-mono text-xs",children:we.type==="secret"?yt?"":"Not set":Pe??"Default"}),l.jsxs("div",{className:"flex gap-2",children:[(we.type==="text"?!!Pe:we.type==="secret"&&yt)&&l.jsx(tt,{variant:"ghost",size:"sm",onClick:()=>Wt(Ue,we.key),className:"text-muted hover:text-error h-auto px-1 py-0 text-xs",children:"Clear"}),l.jsx(tt,{variant:"ghost",size:"sm",onClick:()=>ze(Ue,we.key,we),className:"text-accent hover:text-accent-light h-auto px-1 py-0 text-xs",children:yt||Pe?"Change":"Set"})]})]})]},we.key)}),Ue==="openai"&&l.jsxs("div",{className:"border-border-light space-y-3 border-t pt-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-foreground block text-xs font-medium",children:"ChatGPT (Codex) OAuth"}),l.jsx("span",{className:"text-muted text-xs",children:N==="starting"?"Starting...":N==="waiting"?"Waiting for login...":G?"Connected":"Not connected"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[!T&&l.jsx(tt,{size:"sm",onClick:()=>{q()},disabled:!s||B,children:"Connect (Browser)"}),l.jsx(tt,{size:"sm",variant:"secondary",onClick:()=>{V()},disabled:!s||B,children:"Connect (Device)"}),B&&l.jsx(tt,{variant:"secondary",size:"sm",onClick:J,children:"Cancel"}),G&&l.jsx(tt,{size:"sm",variant:"ghost",onClick:()=>{Z()},disabled:!s||B,children:"Disconnect"})]}),M&&l.jsxs("div",{className:"bg-background-tertiary space-y-2 rounded-md p-3",children:[l.jsx("p",{className:"text-muted text-xs",children:"Enter this code on the OpenAI verification page:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("code",{className:"text-accent text-lg font-bold tracking-widest",children:M.userCode}),l.jsx(tt,{variant:"ghost",size:"sm","aria-label":"Copy verification code",onClick:()=>{navigator.clipboard.writeText(M.userCode),Y(!0),O.current!==null&&clearTimeout(O.current),O.current=setTimeout(()=>Y(!1),2e3)},className:"text-muted hover:text-foreground h-auto px-1 py-0 text-xs",children:L?"Copied!":"Copy"})]}),l.jsxs("p",{className:"text-muted text-xs",children:["If the browser didn't open,"," ",l.jsx("a",{href:M.verifyUrl,target:"_blank",rel:"noopener noreferrer",className:"text-accent hover:text-accent-light underline",children:"open the verification page"}),"."]})]}),N==="waiting"&&!M&&l.jsx("p",{className:"text-muted text-xs",children:"Finish the login flow in your browser, then return here."}),N==="error"&&R&&l.jsx("p",{className:"text-destructive text-xs",children:R}),l.jsxs("div",{className:"border-border-light space-y-2 border-t pt-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-muted block text-xs",children:"Default auth (when both are set)"}),l.jsxs("p",{className:"text-muted text-xs",children:["Applies to models that support both ChatGPT OAuth and API keys (e.g."," ",l.jsx("code",{className:"text-accent",children:"gpt-5.2"}),")."]})]}),l.jsxs(fu,{type:"single",value:D,onValueChange:we=>{s&&(we!=="oauth"&&we!=="apiKey"||(c("openai",{codexOauthDefaultAuth:we}),s.providers.setProviderConfig({provider:"openai",keyPath:["codexOauthDefaultAuth"],value:we})))},size:"sm",className:"h-9",disabled:!s||!U,children:[l.jsx(As,{value:"oauth",size:"sm",className:"h-7 px-3 text-[13px]",children:"Use ChatGPT OAuth by default"}),l.jsx(As,{value:"apiKey",size:"sm",className:"h-7 px-3 text-[13px]",children:"Use OpenAI API key by default"})]}),l.jsx("p",{className:"text-muted text-xs",children:"ChatGPT OAuth uses subscription billing (costs included). API key uses OpenAI platform billing."}),!U&&l.jsx("p",{className:"text-muted text-xs",children:"Connect ChatGPT OAuth and set an OpenAI API key to change this setting."})]}),l.jsxs("div",{className:"border-border-light border-t pt-3",children:[l.jsxs("div",{className:"mb-1 flex items-center gap-1",children:[l.jsx("label",{className:"text-muted block text-xs",children:"Service tier"}),l.jsx(I3,{children:l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx(hc,{"aria-label":"OpenAI service tier help",children:"?"})}),l.jsx(Ke,{children:l.jsxs("div",{className:"max-w-[260px]",children:[l.jsx("div",{className:"font-semibold",children:"OpenAI service tier"}),l.jsxs("div",{className:"mt-1",children:[l.jsx("span",{className:"font-semibold",children:"auto"}),": standard behavior."]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"priority"}),": lower latency, higher cost."]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"flex"}),": lower cost, higher latency."]})]})})]})})]}),l.jsxs(Ar,{value:i?.openai?.serviceTier??"auto",onValueChange:we=>{s&&(we!=="auto"&&we!=="default"&&we!=="flex"&&we!=="priority"||(c("openai",{serviceTier:we}),s.providers.setProviderConfig({provider:"openai",keyPath:["serviceTier"],value:we})))},children:[l.jsx(Tr,{className:"w-40",children:l.jsx(Ir,{})}),l.jsxs(Er,{children:[l.jsx(Un,{value:"auto",children:"auto"}),l.jsx(Un,{value:"default",children:"default"}),l.jsx(Un,{value:"flex",children:"flex"}),l.jsx(Un,{value:"priority",children:"priority"})]})]})]})]}),Ue==="mux-gateway"&&p.isConfigured&&l.jsxs("div",{className:"border-border-light space-y-3 border-t pt-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-foreground block text-xs font-medium",children:"Enabled"}),l.jsx("span",{className:"text-muted text-xs",children:"Route requests through Mux Gateway"})]}),l.jsx(li,{checked:p.isEnabled,onCheckedChange:()=>p.toggleEnabled(),"aria-label":"Toggle Mux Gateway"})]}),l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-foreground block text-xs font-medium",children:"Enable for all models"}),l.jsx("span",{className:"text-muted text-xs",children:"Turn on Mux Gateway for every eligible model."})]}),y?l.jsx(tt,{size:"sm",variant:"secondary",onClick:k,"aria-label":"Enable Mux Gateway for all models",children:"Enable all"}):l.jsx(I3,{children:l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(tt,{size:"sm",variant:"secondary",onClick:k,disabled:!0,"aria-label":"Enable Mux Gateway for all models",children:"Enable all"})})}),l.jsx(Ke,{children:"All eligible models are already enabled."})]})})]})]})]})]},Ue)})]})}function j_(t){const e=ae.c(57),[n,r]=b.useState(!1),[a,s]=b.useState(""),[i,o]=b.useState(0),c=b.useRef(null),u=b.useRef(null);let d;e[0]!==t.emptyOption||e[1]!==t.placeholder||e[2]!==t.value?(d=t.emptyOption&&!t.value?t.emptyOption.label:nu(t.value)??t.placeholder??"Select model",e[0]=t.emptyOption,e[1]=t.placeholder,e[2]=t.value,e[3]=d):d=e[3];const m=d;let h;e[4]!==t.value?(h=t.value?Hp(t.value):"",e[4]=t.value,e[5]=h):h=e[5];const p=h;let f;if(e[6]!==t.emptyOption||e[7]!==t.models||e[8]!==a){const G=a.toLowerCase(),H=t.models.filter(D=>D.toLowerCase().includes(G)||(nu(D)?.toLowerCase().includes(G)??!1));if(f=[],t.emptyOption){let D;e[10]!==t.emptyOption.label||e[11]!==t.emptyOption.value?(D={value:t.emptyOption.value,label:t.emptyOption.label,isMuted:!0},e[10]=t.emptyOption.label,e[11]=t.emptyOption.value,e[12]=D):D=e[12],f.push(D)}for(const D of H)f.push({value:D,label:nu(D)??D,provider:Hp(D)});e[6]=t.emptyOption,e[7]=t.models,e[8]=a,e[9]=f}else f=e[9];let g;e[13]===Symbol.for("react.memo_cache_sentinel")?(g=()=>{o(0)},e[13]=g):g=e[13];let x;e[14]!==a?(x=[a],e[14]=a,e[15]=x):x=e[15],b.useEffect(g,x);let y,w;e[16]!==n?(y=()=>{if(!n)return;s(""),o(0);const G=setTimeout(()=>c.current?.focus(),10);return()=>clearTimeout(G)},w=[n],e[16]=n,e[17]=y,e[18]=w):(y=e[17],w=e[18]),b.useEffect(y,w);let v;e[19]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{if(!u.current)return;const G=u.current.querySelector("[data-highlighted=true]");G&&G.scrollIntoView({block:"nearest"})},e[19]=v):v=e[19];let k;e[20]!==i?(k=[i],e[20]=i,e[21]=k):k=e[21],b.useEffect(v,k);let C;e[22]!==t?(C=G=>{t.onChange(G),r(!1)},e[22]=t,e[23]=C):C=e[23];const _=C;let S;e[24]!==_||e[25]!==i||e[26]!==f?(S=G=>{e:switch(G.key){case"ArrowDown":{G.preventDefault(),o(H=>Math.min(H+1,f.length-1));break e}case"ArrowUp":{G.preventDefault(),o(ZXe);break e}case"Enter":{G.preventDefault(),f[i]&&_(f[i].value);break e}case"Escape":G.preventDefault(),es(G),r(!1)}},e[24]=_,e[25]=i,e[26]=f,e[27]=S):S=e[27];const T=S,N=!t.value&&t.emptyOption&&"text-muted";let j;e[28]!==N?(j=ce("flex items-center gap-1.5 truncate",N),e[28]=N,e[29]=j):j=e[29];let R;e[30]!==p?(R=p&&l.jsx(gu,{provider:p,className:"text-muted shrink-0"}),e[30]=p,e[31]=R):R=e[31];let I;e[32]!==m||e[33]!==j||e[34]!==R?(I=l.jsxs("span",{className:j,children:[R,m]}),e[32]=m,e[33]=j,e[34]=R,e[35]=I):I=e[35];let A;e[36]===Symbol.for("react.memo_cache_sentinel")?(A=l.jsx(Fs,{className:"text-muted h-3 w-3 shrink-0"}),e[36]=A):A=e[36];let $;e[37]!==I?($=l.jsx(Vm,{asChild:!0,children:l.jsxs("button",{className:"bg-background-secondary border-border-medium focus:border-accent flex h-8 w-full items-center justify-between rounded border px-2 text-xs",children:[I,A]})}),e[37]=I,e[38]=$):$=e[38];let E;e[39]===Symbol.for("react.memo_cache_sentinel")?(E=G=>s(G.target.value),e[39]=E):E=e[39];let M;e[40]!==T||e[41]!==a?(M=l.jsx("div",{className:"border-border border-b px-2 py-1.5",children:l.jsx("input",{ref:c,type:"text",value:a,onChange:E,onKeyDown:T,placeholder:"Search models...",className:"text-foreground placeholder:text-muted w-full bg-transparent text-xs outline-none"})}),e[40]=T,e[41]=a,e[42]=M):M=e[42];let F;e[43]!==_||e[44]!==i||e[45]!==f||e[46]!==t.value?(F=f.length===0?l.jsx("div",{className:"text-muted py-2 text-center text-[10px]",children:"No matching models"}):f.map((G,H)=>l.jsxs("button",{"data-highlighted":H===i,onClick:()=>_(G.value),onMouseEnter:()=>o(H),className:ce("flex w-full items-center gap-1.5 rounded-sm px-2 py-1 text-xs",H===i?"bg-hover":"hover:bg-hover"),children:[l.jsx(Hn,{className:ce("h-3 w-3 shrink-0",t.value===G.value||!t.value&&!G.value?"opacity-100":"opacity-0")}),G.provider&&l.jsx(gu,{provider:G.provider,className:"text-muted shrink-0"}),l.jsx("span",{className:ce("truncate",G.isMuted&&"text-muted"),children:G.label})]},G.value||"__empty__")),e[43]=_,e[44]=i,e[45]=f,e[46]=t.value,e[47]=F):F=e[47];let L;e[48]!==F?(L=l.jsx("div",{ref:u,className:"max-h-[280px] overflow-y-auto p-1",children:F}),e[48]=F,e[49]=L):L=e[49];let Y;e[50]!==M||e[51]!==L?(Y=l.jsxs(gl,{align:"start",className:"max-h-[350px] w-[320px] p-0",children:[M,L]}),e[50]=M,e[51]=L,e[52]=Y):Y=e[52];let O;return e[53]!==n||e[54]!==$||e[55]!==Y?(O=l.jsxs(yc,{open:n,onOpenChange:r,modal:!0,children:[$,Y]}),e[53]=n,e[54]=$,e[55]=Y,e[56]=O):O=e[56],O}function ZXe(t){return Math.max(t-1,0)}function mx(t){if(t>=1e6){const e=t/1e6;return e%1===0?`${e}M`:`${e.toFixed(1)}M`}if(t>=1e3){const e=t/1e3;return e%1===0?`${e}k`:`${e.toFixed(1)}k`}return t.toString()}function Ng(t){const e=t*1e6;return e<.01?"~$0.00":`$${e.toFixed(2)}`}function QXe(t){const e=ae.c(13);let n;e[0]!==t.fullId?(n=l.jsx("div",{className:"text-foreground font-mono",children:t.fullId}),e[0]=t.fullId,e[1]=n):n=e[1];let r;e[2]!==t.aliases?(r=t.aliases&&t.aliases.length>0&&l.jsxs("div",{className:"text-muted",children:[l.jsx("span",{className:"text-muted-light",children:"Aliases: "}),t.aliases.join(", ")]}),e[2]=t.aliases,e[3]=r):r=e[3];let a;e[4]!==t.stats?(a=t.stats&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"border-separator-light border-t pt-2",children:l.jsxs("div",{className:"grid grid-cols-2 gap-x-3 gap-y-1",children:[l.jsx("div",{className:"text-muted-light",children:"Context Window"}),l.jsx("div",{className:"text-foreground",children:mx(t.stats.max_input_tokens)}),t.stats.max_output_tokens&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-muted-light",children:"Max Output"}),l.jsx("div",{className:"text-foreground",children:mx(t.stats.max_output_tokens)})]})]})}),l.jsxs("div",{className:"border-separator-light border-t pt-2",children:[l.jsx("div",{className:"text-muted-light mb-1",children:"Pricing (per 1M tokens)"}),l.jsxs("div",{className:"grid grid-cols-2 gap-x-3 gap-y-1",children:[l.jsx("div",{className:"text-muted-light",children:"Input"}),l.jsx("div",{className:"text-foreground",children:Ng(t.stats.input_cost_per_token)}),l.jsx("div",{className:"text-muted-light",children:"Output"}),l.jsx("div",{className:"text-foreground",children:Ng(t.stats.output_cost_per_token)}),t.stats.cache_read_input_token_cost!==void 0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-muted-light",children:"Cache Read"}),l.jsx("div",{className:"text-foreground",children:Ng(t.stats.cache_read_input_token_cost)})]}),t.stats.cache_creation_input_token_cost!==void 0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-muted-light",children:"Cache Write"}),l.jsx("div",{className:"text-foreground",children:Ng(t.stats.cache_creation_input_token_cost)})]})]})]})]}),e[4]=t.stats,e[5]=a):a=e[5];let s;e[6]!==t.stats?(s=!t.stats&&l.jsx("div",{className:"text-muted-light italic",children:"No pricing data available"}),e[6]=t.stats,e[7]=s):s=e[7];let i;return e[8]!==n||e[9]!==r||e[10]!==a||e[11]!==s?(i=l.jsxs("div",{className:"max-w-xs space-y-2 text-xs",children:[n,r,a,s]}),e[8]=n,e[9]=r,e[10]=a,e[11]=s,e[12]=i):i=e[12],i}function JXe(t){const e=ae.c(23);let n;e[0]!==t.baseTokens?(n=mx(t.baseTokens),e[0]=t.baseTokens,e[1]=n):n=e[1];const r=n;let a;e[2]!==t?(a=x=>{x.stopPropagation(),t.onToggle()},e[2]=t,e[3]=a):a=e[3];const s=t.enabled?"Disable 1M context (beta)":"Enable 1M context (beta)",i=t.enabled?"text-muted":"bg-background-secondary text-foreground";let o;e[4]!==i?(o=ce("rounded-full px-1.5 py-0.5 text-[10px] leading-none font-medium transition-colors",i),e[4]=i,e[5]=o):o=e[5];let c;e[6]!==r||e[7]!==o?(c=l.jsx("span",{className:o,children:r}),e[6]=r,e[7]=o,e[8]=c):c=e[8];const u=t.enabled?"bg-accent/20 text-accent":"text-muted";let d;e[9]!==u?(d=ce("rounded-full px-1.5 py-0.5 font-mono text-[10px] leading-none font-bold transition-colors",u),e[9]=u,e[10]=d):d=e[10];let m;e[11]!==d?(m=l.jsx("span",{className:d,children:"1M"}),e[11]=d,e[12]=m):m=e[12];let h;e[13]!==a||e[14]!==s||e[15]!==c||e[16]!==m?(h=l.jsx(Xe,{asChild:!0,children:l.jsxs("button",{type:"button",onClick:a,className:"border-border-medium bg-background-tertiary flex items-center gap-px rounded-full border px-0.5 py-px","aria-label":s,children:[c,m]})}),e[13]=a,e[14]=s,e[15]=c,e[16]=m,e[17]=h):h=e[17];const p=t.enabled?"1M context enabled (beta)":"Enable 1M context (beta)";let f;e[18]!==p?(f=l.jsx(Ke,{side:"top",children:p}),e[18]=p,e[19]=f):f=e[19];let g;return e[20]!==f||e[21]!==h?(g=l.jsxs(Ye,{children:[h,f]}),e[20]=f,e[21]=h,e[22]=g):g=e[22],g}function Z$(t){const e=ae.c(68);let n,r,a,s,i,o;if(e[0]!==t.aliases||e[1]!==t.customMetadata||e[2]!==t.fullId||e[3]!==t.is1MContextEnabled||e[4]!==t.isHiddenFromSelector||e[5]!==t.modelId||e[6]!==t.onToggle1MContext||e[7]!==t.provider){n=Yl(t.fullId,t.customMetadata);const j=t.isHiddenFromSelector&&"opacity-50";e[14]!==j?(s=ce("border-border-medium hover:bg-background-secondary/50 group border-b transition-colors",j),e[14]=j,e[15]=s):s=e[15],e[16]!==t.provider?(i=l.jsx("td",{className:"w-20 py-1.5 pr-2 pl-2 md:w-24 md:pl-3",children:l.jsx(ry,{provider:t.provider,displayName:!0,className:"text-muted overflow-hidden text-xs"})}),e[16]=t.provider,e[17]=i):i=e[17];let R;e[18]!==t.modelId?(R=l.jsx("span",{className:"text-foreground min-w-0 truncate font-mono text-xs",children:t.modelId}),e[18]=t.modelId,e[19]=R):R=e[19];let I;e[20]!==t.aliases?(I=t.aliases&&t.aliases.length>0&&l.jsxs("span",{className:"text-muted-light shrink-0 text-xs",children:["(",t.aliases[0],")"]}),e[20]=t.aliases,e[21]=I):I=e[21],e[22]!==R||e[23]!==I?(o=l.jsx("td",{className:"min-w-0 py-1.5 pr-2",children:l.jsxs("div",{className:"flex min-w-0 items-center gap-2",children:[R,I]})}),e[22]=R,e[23]=I,e[24]=o):o=e[24],r="w-16 py-1.5 pr-2 md:w-20",a=t.onToggle1MContext&&n?l.jsx(JXe,{baseTokens:n.max_input_tokens,enabled:t.is1MContextEnabled??!1,onToggle:t.onToggle1MContext}):l.jsx("span",{className:"text-muted block text-right text-xs",children:n?mx(n.max_input_tokens):""}),e[0]=t.aliases,e[1]=t.customMetadata,e[2]=t.fullId,e[3]=t.is1MContextEnabled,e[4]=t.isHiddenFromSelector,e[5]=t.modelId,e[6]=t.onToggle1MContext,e[7]=t.provider,e[8]=n,e[9]=r,e[10]=a,e[11]=s,e[12]=i,e[13]=o}else n=e[8],r=e[9],a=e[10],s=e[11],i=e[12],o=e[13];let c;e[25]!==r||e[26]!==a?(c=l.jsx("td",{className:r,children:a}),e[25]=r,e[26]=a,e[27]=c):c=e[27];let u;e[28]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx(Xe,{asChild:!0,children:l.jsx("button",{type:"button",className:"text-muted hover:text-foreground p-0.5 transition-colors","aria-label":"Model details",children:l.jsx(Mf,{className:"h-3.5 w-3.5"})})}),e[28]=u):u=e[28];let d;e[29]!==t.aliases||e[30]!==t.fullId||e[31]!==n?(d=l.jsxs(Ye,{children:[u,l.jsx(Ke,{side:"top",align:"end",className:"p-3",children:l.jsx(QXe,{fullId:t.fullId,aliases:t.aliases,stats:n})})]}),e[29]=t.aliases,e[30]=t.fullId,e[31]=n,e[32]=d):d=e[32];let m;e[33]!==t?(m=t.onHealthCheck&&l.jsx("button",{type:"button",onClick:j=>{j.stopPropagation(),t.onHealthCheck?.()},className:"text-muted hover:text-accent p-0.5 transition-colors","aria-label":"Run health check",children:l.jsx(Ud,{className:"h-3.5 w-3.5"})}),e[33]=t,e[34]=m):m=e[34];let h;e[35]!==t?(h=t.onToggleVisibility&&l.jsxs("button",{type:"button",onClick:j=>{j.stopPropagation(),t.onToggleVisibility?.()},className:ce("relative p-0.5 transition-colors",t.isHiddenFromSelector?"text-muted-light":"text-muted hover:text-foreground"),"aria-label":t.isHiddenFromSelector?"Show in model selector":"Hide from model selector",children:[l.jsx(Vd,{className:ce("h-3.5 w-3.5",t.isHiddenFromSelector?"opacity-30":"opacity-70")}),t.isHiddenFromSelector&&l.jsx("span",{className:"bg-muted-light absolute inset-0 m-auto h-px w-4 rotate-45"})]}),e[35]=t,e[36]=h):h=e[36];let p;e[37]!==t?(p=t.onToggleGateway&&l.jsx(dY,{active:t.isGatewayEnabled??!1,onToggle:()=>t.onToggleGateway?.()}),e[37]=t,e[38]=p):p=e[38];let f;e[39]!==t?(f=j=>{j.stopPropagation(),t.isDefault||t.onSetDefault()},e[39]=t,e[40]=f):f=e[40];const g=t.isDefault?"cursor-default text-yellow-400":"text-muted hover:text-yellow-400";let x;e[41]!==g?(x=ce("p-0.5 transition-colors",g),e[41]=g,e[42]=x):x=e[42];const y=t.isDefault,w=t.isDefault?"Current default model":"Set as default model",v=t.isDefault&&"fill-current";let k;e[43]!==v?(k=ce("h-3.5 w-3.5",v),e[43]=v,e[44]=k):k=e[44];let C;e[45]!==k?(C=l.jsx(pI,{className:k}),e[45]=k,e[46]=C):C=e[46];let _;e[47]!==t.isDefault||e[48]!==f||e[49]!==x||e[50]!==w||e[51]!==C?(_=l.jsx("button",{type:"button",onClick:f,className:x,disabled:y,"aria-label":w,children:C}),e[47]=t.isDefault,e[48]=f,e[49]=x,e[50]=w,e[51]=C,e[52]=_):_=e[52];let S;e[53]!==t?(S=t.isCustom&&l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",onClick:j=>{j.stopPropagation(),t.onStartEdit?.()},className:"text-muted hover:text-foreground p-0.5 transition-colors","aria-label":"Edit model",children:l.jsx(Rs,{className:"h-3.5 w-3.5"})}),l.jsx("button",{type:"button",onClick:j=>{j.stopPropagation(),t.onRemove?.()},className:"text-muted hover:text-error p-0.5 transition-colors","aria-label":"Remove model",children:l.jsx(fa,{className:"h-3.5 w-3.5"})})]}),e[53]=t,e[54]=S):S=e[54];let T;e[55]!==p||e[56]!==_||e[57]!==S||e[58]!==d||e[59]!==m||e[60]!==h?(T=l.jsx("td",{className:"w-28 py-1.5 pr-2 md:w-32 md:pr-3",children:l.jsxs("div",{className:"flex items-center justify-end gap-0.5",children:[d,m,h,p,_,S]})}),e[55]=p,e[56]=_,e[57]=S,e[58]=d,e[59]=m,e[60]=h,e[61]=T):T=e[61];let N;return e[62]!==s||e[63]!==T||e[64]!==i||e[65]!==o||e[66]!==c?(N=l.jsxs("tr",{className:s,children:[i,o,c,T]}),e[62]=s,e[63]=T,e[64]=i,e[65]=o,e[66]=c,e[67]=N):N=e[67],N}var eZe="Label",iX=b.forwardRef((t,e)=>l.jsx(hl.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));iX.displayName=eZe;var oX=iX;const tZe=A_("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Zi=b.forwardRef((t,e)=>{const n=ae.c(9);let r,a;n[0]!==t?({className:r,...a}=t,n[0]=t,n[1]=r,n[2]=a):(r=n[1],a=n[2]);let s;n[3]!==r?(s=ce(tZe(),r),n[3]=r,n[4]=s):s=n[4];let i;return n[5]!==a||n[6]!==e||n[7]!==s?(i=l.jsx(oX,{ref:e,className:s,...a}),n[5]=a,n[6]=e,n[7]=s,n[8]=i):i=n[8],i});Zi.displayName=oX.displayName;function nZe(t){const e=ae.c(70),{open:n,onOpenChange:r,modelId:a,initialMetadata:s,onSave:i}=t,[o,c]=b.useState(a),[u,d]=b.useState(""),[m,h]=b.useState(""),[p,f]=b.useState(""),[g,x]=b.useState(""),[y,w]=b.useState(""),[v,k]=b.useState("");let C;e[0]!==s?.cacheCreationInputTokenCost||e[1]!==s?.cacheReadInputTokenCost||e[2]!==s?.inputCostPerToken||e[3]!==s?.maxInputTokens||e[4]!==s?.maxOutputTokens||e[5]!==s?.outputCostPerToken||e[6]!==a||e[7]!==n?(C=()=>{n&&(c(a),d(s?.maxInputTokens?.toString()??""),h(s?.maxOutputTokens?.toString()??""),f(s?.inputCostPerToken?.toString()??""),x(s?.outputCostPerToken?.toString()??""),w(s?.cacheCreationInputTokenCost?.toString()??""),k(s?.cacheReadInputTokenCost?.toString()??""))},e[0]=s?.cacheCreationInputTokenCost,e[1]=s?.cacheReadInputTokenCost,e[2]=s?.inputCostPerToken,e[3]=s?.maxInputTokens,e[4]=s?.maxOutputTokens,e[5]=s?.outputCostPerToken,e[6]=a,e[7]=n,e[8]=C):C=e[8];let _;e[9]!==s||e[10]!==a||e[11]!==n?(_=[n,a,s],e[9]=s,e[10]=a,e[11]=n,e[12]=_):_=e[12],b.useEffect(C,_);let S;e[13]!==y||e[14]!==v||e[15]!==o||e[16]!==p||e[17]!==u||e[18]!==m||e[19]!==r||e[20]!==i||e[21]!==g?(S=()=>{const he={maxInputTokens:u?parseInt(u,10):void 0,maxOutputTokens:m?parseInt(m,10):void 0,inputCostPerToken:p?parseFloat(p):void 0,outputCostPerToken:g?parseFloat(g):void 0,cacheCreationInputTokenCost:y?parseFloat(y):void 0,cacheReadInputTokenCost:v?parseFloat(v):void 0};i(o,he),r(!1)},e[13]=y,e[14]=v,e[15]=o,e[16]=p,e[17]=u,e[18]=m,e[19]=r,e[20]=i,e[21]=g,e[22]=S):S=e[22];const T=S;let N;e[23]===Symbol.for("react.memo_cache_sentinel")?(N=l.jsx(Sa,{children:l.jsx(oa,{children:"Edit Model Configuration"})}),e[23]=N):N=e[23];let j;e[24]===Symbol.for("react.memo_cache_sentinel")?(j=l.jsx(Zi,{htmlFor:"modelId",className:"text-right",children:"Model ID"}),e[24]=j):j=e[24];let R;e[25]===Symbol.for("react.memo_cache_sentinel")?(R=he=>c(he.target.value),e[25]=R):R=e[25];let I;e[26]!==o?(I=l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[j,l.jsx(xr,{id:"modelId",value:o,onChange:R,className:"col-span-3"})]}),e[26]=o,e[27]=I):I=e[27];let A;e[28]===Symbol.for("react.memo_cache_sentinel")?(A=l.jsx(Zi,{htmlFor:"maxInput",className:"text-right",children:"Max Input"}),e[28]=A):A=e[28];let $;e[29]===Symbol.for("react.memo_cache_sentinel")?($=he=>d(he.target.value),e[29]=$):$=e[29];let E;e[30]!==u?(E=l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[A,l.jsx(xr,{id:"maxInput",type:"number",value:u,onChange:$,placeholder:"e.g. 128000",className:"col-span-3"})]}),e[30]=u,e[31]=E):E=e[31];let M;e[32]===Symbol.for("react.memo_cache_sentinel")?(M=l.jsx(Zi,{htmlFor:"maxOutput",className:"text-right",children:"Max Output"}),e[32]=M):M=e[32];let F;e[33]===Symbol.for("react.memo_cache_sentinel")?(F=he=>h(he.target.value),e[33]=F):F=e[33];let L;e[34]!==m?(L=l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[M,l.jsx(xr,{id:"maxOutput",type:"number",value:m,onChange:F,placeholder:"e.g. 4096",className:"col-span-3"})]}),e[34]=m,e[35]=L):L=e[35];let Y;e[36]===Symbol.for("react.memo_cache_sentinel")?(Y=l.jsx(Zi,{htmlFor:"inputCost",className:"text-right",children:"Input Cost"}),e[36]=Y):Y=e[36];let O;e[37]===Symbol.for("react.memo_cache_sentinel")?(O=he=>f(he.target.value),e[37]=O):O=e[37];let G;e[38]!==p?(G=l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[Y,l.jsx(xr,{id:"inputCost",type:"number",step:"0.0000001",value:p,onChange:O,placeholder:"$/token",className:"col-span-3"})]}),e[38]=p,e[39]=G):G=e[39];let H;e[40]===Symbol.for("react.memo_cache_sentinel")?(H=l.jsx(Zi,{htmlFor:"outputCost",className:"text-right",children:"Output Cost"}),e[40]=H):H=e[40];let D;e[41]===Symbol.for("react.memo_cache_sentinel")?(D=he=>x(he.target.value),e[41]=D):D=e[41];let U;e[42]!==g?(U=l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[H,l.jsx(xr,{id:"outputCost",type:"number",step:"0.0000001",value:g,onChange:D,placeholder:"$/token",className:"col-span-3"})]}),e[42]=g,e[43]=U):U=e[43];let B;e[44]===Symbol.for("react.memo_cache_sentinel")?(B=l.jsx(Zi,{htmlFor:"cacheCreationCost",className:"text-right",children:"Cache Create"}),e[44]=B):B=e[44];let q;e[45]===Symbol.for("react.memo_cache_sentinel")?(q=he=>w(he.target.value),e[45]=q):q=e[45];let V;e[46]!==y?(V=l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[B,l.jsx(xr,{id:"cacheCreationCost",type:"number",step:"0.0000001",value:y,onChange:q,placeholder:"$/token",className:"col-span-3"})]}),e[46]=y,e[47]=V):V=e[47];let Z;e[48]===Symbol.for("react.memo_cache_sentinel")?(Z=l.jsx(Zi,{htmlFor:"cacheReadCost",className:"text-right",children:"Cache Read"}),e[48]=Z):Z=e[48];let W;e[49]===Symbol.for("react.memo_cache_sentinel")?(W=he=>k(he.target.value),e[49]=W):W=e[49];let K;e[50]!==v?(K=l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[Z,l.jsx(xr,{id:"cacheReadCost",type:"number",step:"0.0000001",value:v,onChange:W,placeholder:"$/token",className:"col-span-3"})]}),e[50]=v,e[51]=K):K=e[51];let J;e[52]!==E||e[53]!==L||e[54]!==G||e[55]!==U||e[56]!==V||e[57]!==K||e[58]!==I?(J=l.jsxs("div",{className:"grid gap-4 py-4",children:[I,E,L,G,U,V,K]}),e[52]=E,e[53]=L,e[54]=G,e[55]=U,e[56]=V,e[57]=K,e[58]=I,e[59]=J):J=e[59];let ee;e[60]===Symbol.for("react.memo_cache_sentinel")?(ee=l.jsx(B_,{asChild:!0,children:l.jsx(tt,{variant:"outline",children:"Cancel"})}),e[60]=ee):ee=e[60];let se;e[61]!==T?(se=l.jsxs(Li,{children:[ee,l.jsx(tt,{onClick:T,children:"Save changes"})]}),e[61]=T,e[62]=se):se=e[62];let re;e[63]!==J||e[64]!==se?(re=l.jsxs(ia,{className:"sm:max-w-[425px]",children:[N,J,se]}),e[63]=J,e[64]=se,e[65]=re):re=e[65];let ue;return e[66]!==r||e[67]!==n||e[68]!==re?(ue=l.jsx(sa,{open:n,onOpenChange:r,children:re}),e[66]=r,e[67]=n,e[68]=re,e[69]=ue):ue=e[69],ue}const rZe=[{id:"save",label:"Save",icon:dI},{id:"load",label:"Load",icon:y1},{id:"export",label:"Export",icon:Ix},{id:"import",label:"Import",icon:a5}];function aZe({open:t,onOpenChange:e,currentModels:n,onApplyPreset:r}){const{api:a}=Kt(),[s,i]=b.useState("save"),[o,c]=b.useState([]),[u,d]=b.useState(!1),[m,h]=b.useState(null),[p,f]=b.useState(null),[g,x]=b.useState(""),[y,w]=b.useState(""),[v,k]=b.useState(""),[C,_]=b.useState(""),S=b.useCallback(()=>{h(null),f(null)},[]),T=b.useCallback(async()=>{if(a){d(!0);try{const M=await a.modelPresets.list();c(M)}catch{h("Failed to load presets")}finally{d(!1)}}},[a]);b.useEffect(()=>{t&&(S(),x(""),w(""),k(""),_(""),T())},[t,T,S]),b.useEffect(()=>{S()},[s,S]);const N=async()=>{if(!(!a||!g.trim())){S(),d(!0);try{await a.modelPresets.save({name:g.trim(),description:y.trim()||void 0,models:n}),f(`Preset "${g.trim()}" saved with ${n.length} model(s)`),x(""),w(""),await T()}catch{h("Failed to save preset")}finally{d(!1)}}},j=async M=>{S(),r(M.models),f(`Applied preset "${M.name}" with ${M.models.length} model(s)`)},R=async M=>{if(a){S();try{await a.modelPresets.delete({id:M.id}),f(`Deleted preset "${M.name}"`),await T()}catch{h("Failed to delete preset")}}},I=async()=>{if(a){S(),d(!0);try{const M=await a.modelPresets.export({});_(M),f("Presets exported  copy the JSON below")}catch{h("Failed to export presets")}finally{d(!1)}}},A=async()=>{try{await navigator.clipboard.writeText(C),f("Copied to clipboard")}catch{h("Failed to copy to clipboard")}},$=async()=>{if(!(!a||!v.trim())){S(),d(!0);try{const M=await a.modelPresets.import({json:v.trim()});M.success?(f(`Imported ${M.data.length} preset(s)`),k(""),await T()):h(M.error)}catch{h("Failed to import presets")}finally{d(!1)}}},E=M=>new Date(M).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return l.jsx(sa,{open:t,onOpenChange:e,children:l.jsxs(ia,{className:"max-w-lg",children:[l.jsxs(Sa,{children:[l.jsx(oa,{children:"Model Presets"}),l.jsx(ml,{className:"sr-only",children:"Save, load, export, and import model presets"})]}),l.jsx("div",{className:"border-border-medium flex gap-0.5 rounded-md border p-0.5",children:rZe.map(({id:M,label:F,icon:L})=>l.jsxs("button",{onClick:()=>i(M),className:`flex flex-1 items-center justify-center gap-1.5 rounded px-2 py-1.5 text-xs font-medium transition-colors ${s===M?"bg-accent text-accent-foreground":"text-muted hover:text-foreground hover:bg-background-secondary"}`,children:[l.jsx(L,{className:"h-3.5 w-3.5"}),F]},M))}),m&&l.jsx("div",{className:"text-error rounded-md bg-red-500/10 px-3 py-2 text-xs",children:m}),p&&l.jsx("div",{className:"rounded-md bg-green-500/10 px-3 py-2 text-xs text-green-400",children:p}),l.jsxs("div",{className:"min-h-[160px]",children:[s==="save"&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"text-muted mb-2 text-xs",children:["Save current ",n.length," custom model(s) as a preset"]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(Zi,{className:"text-xs",children:"Preset Name"}),l.jsx(xr,{value:g,onChange:M=>x(M.target.value),placeholder:"e.g. My Production Setup",className:"h-8 text-xs",onKeyDown:M=>M.key==="Enter"&&N()})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx(Zi,{className:"text-xs",children:"Description (optional)"}),l.jsx(xr,{value:y,onChange:M=>w(M.target.value),placeholder:"Add a note about this preset",className:"h-8 text-xs"})]}),l.jsxs(tt,{onClick:N,disabled:u||!g.trim()||n.length===0,size:"sm",className:"w-full gap-1.5",children:[u?l.jsx(pn,{className:"h-3.5 w-3.5 animate-spin"}):l.jsx(dI,{className:"h-3.5 w-3.5"}),"Save Preset"]})]}),s==="load"&&l.jsx("div",{className:"space-y-2",children:u?l.jsxs("div",{className:"flex items-center justify-center gap-2 py-6",children:[l.jsx(pn,{className:"text-muted h-4 w-4 animate-spin"}),l.jsx("span",{className:"text-muted text-xs",children:"Loading presets..."})]}):o.length===0?l.jsx("div",{className:"text-muted py-6 text-center text-xs",children:"No presets saved yet. Save your current models first."}):l.jsx("div",{className:"max-h-[240px] space-y-1.5 overflow-y-auto pr-1",children:o.map(M=>l.jsxs("div",{className:"border-border-medium hover:bg-background-secondary/50 group flex items-center gap-2 rounded-md border px-3 py-2 transition-colors",children:[l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"text-foreground truncate text-xs font-medium",children:M.name}),M.description&&l.jsx("div",{className:"text-muted truncate text-[10px]",children:M.description}),l.jsxs("div",{className:"text-muted-light text-[10px]",children:[M.models.length," model(s)  ",E(M.updatedAt)]})]}),l.jsxs("div",{className:"flex shrink-0 gap-1",children:[l.jsxs(tt,{size:"sm",variant:"default",className:"h-6 gap-1 px-2 text-[10px]",onClick:()=>j(M),children:[l.jsx(y1,{className:"h-3 w-3"}),"Apply"]}),l.jsx(tt,{size:"sm",variant:"ghost",className:"text-muted hover:text-error h-6 w-6 p-0",onClick:()=>R(M),children:l.jsx(fa,{className:"h-3 w-3"})})]})]},M.id))})}),s==="export"&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-muted text-xs",children:"Export all saved presets as JSON for backup or sharing"}),C?l.jsxs(l.Fragment,{children:[l.jsx("textarea",{readOnly:!0,value:C,className:"bg-background border-border-medium h-[160px] w-full resize-none rounded-md border p-2 font-mono text-[10px]"}),l.jsx(tt,{onClick:A,size:"sm",variant:"outline",className:"w-full gap-1.5",children:"Copy to Clipboard"})]}):l.jsxs(tt,{onClick:I,disabled:u,size:"sm",className:"w-full gap-1.5",children:[u?l.jsx(pn,{className:"h-3.5 w-3.5 animate-spin"}):l.jsx(Ix,{className:"h-3.5 w-3.5"}),"Export All Presets"]})]}),s==="import"&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-muted text-xs",children:"Paste exported preset JSON below to import"}),l.jsx("textarea",{value:v,onChange:M=>k(M.target.value),placeholder:'{"version":1,"presets":[...]}',className:"bg-background border-border-medium focus:border-accent h-[160px] w-full resize-none rounded-md border p-2 font-mono text-[10px] focus:outline-none"}),l.jsxs(tt,{onClick:$,disabled:u||!v.trim(),size:"sm",className:"w-full gap-1.5",children:[u?l.jsx(pn,{className:"h-3.5 w-3.5 animate-spin"}):l.jsx(a5,{className:"h-3.5 w-3.5"}),"Import Presets"]})]})]}),l.jsx(Li,{children:l.jsx(B_,{asChild:!0,children:l.jsx(tt,{variant:"outline",size:"sm",children:"Close"})})})]})})}const sZe={authentication:"Authentication",modelExists:"Model Exists",tokenLimits:"Token Limits",pricing:"Pricing",connectivity:"Connectivity"},iZe={pass:{icon:Y_,color:"text-green-400",bg:"bg-green-500/10",label:"Pass"},warn:{icon:Mr,color:"text-yellow-400",bg:"bg-yellow-500/10",label:"Warning"},fail:{icon:Wd,color:"text-red-400",bg:"bg-red-500/10",label:"Fail"},skip:{icon:FJ,color:"text-muted",bg:"bg-background-secondary",label:"Skipped"}},Q$={healthy:{color:"text-green-400",label:"Healthy"},warning:{color:"text-yellow-400",label:"Warning"},error:{color:"text-red-400",label:"Error"}};function oZe({open:t,onOpenChange:e,provider:n,modelId:r,metadata:a}){const{api:s}=Kt(),[i,o]=b.useState(!1),[c,u]=b.useState(null),[d,m]=b.useState(null),h=b.useCallback(async()=>{if(s){o(!0),m(null),u(null);try{const f=await s.modelHealth.checkModel({provider:n,modelId:r,metadata:a});u(f)}catch{m("Failed to run health check. Make sure the backend is reachable.")}finally{o(!1)}}},[s,n,r,a]),p=b.useCallback(f=>{e(f),f&&(u(null),m(null),h())},[e,h]);return l.jsx(sa,{open:t,onOpenChange:p,children:l.jsxs(ia,{className:"max-w-md",children:[l.jsxs(Sa,{children:[l.jsxs(oa,{className:"flex items-center gap-2",children:[l.jsx(Ud,{className:"h-4 w-4"}),"Health Check"]}),l.jsxs(ml,{className:"sr-only",children:["Health check results for ",n,"/",r]})]}),l.jsxs("div",{className:"text-muted mb-1 text-xs",children:[l.jsx("span",{className:"text-foreground font-mono",children:r}),l.jsx("span",{className:"mx-1",children:""}),l.jsx("span",{children:n})]}),i&&l.jsxs("div",{className:"flex items-center justify-center gap-2 py-8",children:[l.jsx(pn,{className:"text-accent h-5 w-5 animate-spin"}),l.jsx("span",{className:"text-muted text-xs",children:"Running health checks"})]}),d&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"text-error rounded-md bg-red-500/10 px-3 py-2 text-xs",children:d}),l.jsxs(tt,{onClick:h,size:"sm",variant:"outline",className:"w-full gap-1.5",children:[l.jsx(Ud,{className:"h-3.5 w-3.5"}),"Retry"]})]}),c&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:ce("flex items-center justify-between rounded-md px-3 py-2",c.status==="healthy"?"bg-green-500/10":c.status==="warning"?"bg-yellow-500/10":"bg-red-500/10"),children:[l.jsx("span",{className:"text-xs font-medium",children:"Overall Status"}),l.jsx("span",{className:ce("text-xs font-bold",Q$[c.status].color),children:Q$[c.status].label})]}),l.jsx("div",{className:"space-y-1.5",children:Object.entries(c.checks).map(([f,g])=>{const x=iZe[g.status],y=x.icon;return l.jsxs("div",{className:ce("flex items-start gap-2 rounded-md px-3 py-1.5",x.bg),children:[l.jsx(y,{className:ce("mt-0.5 h-3.5 w-3.5 shrink-0",x.color)}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[l.jsx("span",{className:"text-foreground text-xs font-medium",children:sZe[f]??f}),l.jsx("span",{className:ce("shrink-0 text-[10px] font-medium",x.color),children:x.label})]}),l.jsx("div",{className:"text-muted text-[10px] leading-tight",children:g.message}),g.details&&l.jsx("div",{className:"text-muted-light mt-0.5 text-[10px] leading-tight",children:g.details})]})]},f)})}),l.jsxs("div",{className:"text-muted-light text-right text-[10px]",children:["Checked at"," ",new Date(c.timestamp).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"})]}),l.jsxs(tt,{onClick:h,disabled:i,size:"sm",variant:"outline",className:"w-full gap-1.5",children:[i?l.jsx(pn,{className:"h-3.5 w-3.5 animate-spin"}):l.jsx(Ud,{className:"h-3.5 w-3.5"}),"Re-check"]})]}),l.jsx(Li,{children:l.jsx(B_,{asChild:!0,children:l.jsx(tt,{variant:"outline",size:"sm",children:"Close"})})})]})})}const T_=new Set(["mux-gateway"]),$g="py-1.5 pr-2 text-xs font-medium text-muted";function J$(){const t=ae.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsx("thead",{children:l.jsxs("tr",{className:"border-border-medium bg-background-secondary/50 border-b",children:[l.jsx("th",{className:`${$g} pl-2 text-left md:pl-3`,children:"Provider"}),l.jsx("th",{className:`${$g} text-left`,children:"Model"}),l.jsx("th",{className:`${$g} w-16 text-right md:w-20`,children:"Context"}),l.jsx("th",{className:`${$g} w-28 text-right md:w-32 md:pr-3`,children:"Actions"})]})}),t[0]=e):e=t[0],e}function lZe(){const t=ae.c(119),e=Oi(),n=e.status.state==="enforced"?e.policy??null:null;let r;t[0]!==n?(r=$x(n),t[0]=n,t[1]=r):r=t[1];const a=r,{api:s}=Kt(),{config:i,loading:o,updateModelsOptimistically:c}=Pu(),[u,d]=Tt(SZ,""),[m,h]=b.useState(""),[p,f]=b.useState(null),[g,x]=b.useState(null),[y,w]=b.useState(!1),[v,k]=b.useState(null),C=a.filter(pZe),{defaultModel:_,setDefaultModel:S,hiddenModels:T,hideModel:N,unhideModel:j}=K_(),R=$f(),{has1MContext:I,toggle1MContext:A}=Km();let $;t[2]===Symbol.for("react.memo_cache_sentinel")?($={listener:!0},t[2]=$):$=t[2];const[E,M]=Tt(xx,"",$);let F;t[3]!==s||t[4]!==M?(F=ot=>{const Ue=Vl(ot).trim();M(Ue),s?.config?.updateModelPreferences&&s.config.updateModelPreferences({preferredCompactionModel:Ue}).catch(hZe)},t[3]=s,t[4]=M,t[5]=F):F=t[5];const L=F;let Y;if(t[6]!==i||t[7]!==n){const ot=VA(i);Y=n?ot.filter(Ue=>b1(n,Ue)):ot,t[6]=i,t[7]=n,t[8]=Y}else Y=t[8];const O=Y;let G;t[9]!==i?(G=(ot,Ue,Se)=>i?(i[ot]?.models??[]).some(Ie=>Ie===Ue&&Ie!==Se):!1,t[9]=i,t[10]=G):G=t[10];const H=G;let D;t[11]!==s||t[12]!==i||t[13]!==u||t[14]!==H||t[15]!==m||t[16]!==c?(D=()=>{if(!i||!u||!m.trim())return;if(T_.has(u)){x("Mux Gateway models can't be added directly. Enable Gateway per-model instead.");return}const ot=m.trim();if(H(u,ot)){x(`Model "${ot}" already exists for this provider`);return}if(!s)return;x(null);const Ue=c(u,Se=>[...Se,ot]);h(""),s.providers.setModels({provider:u,models:Ue})},t[11]=s,t[12]=i,t[13]=u,t[14]=H,t[15]=m,t[16]=c,t[17]=D):D=t[17];const U=D,B=(ot,Ue)=>{if(!i||!s)return;const Se=c(ot,le=>le.filter(Ie=>Ie!==Ue));s.providers.setModels({provider:ot,models:Se})},q=(ot,Ue)=>{const Se=i?.[ot]?.modelMetadata?.[Ue];f({provider:ot,originalModelId:Ue,metadata:Se}),x(null)};let V;t[18]!==s||t[19]!==i||t[20]!==p||t[21]!==H||t[22]!==c?(V=(ot,Ue)=>{if(!i||!p||!s)return;const Se=ot.trim();if(!Se){x("Model ID cannot be empty");return}if(Se!==p.originalModelId&&H(p.provider,Se)){console.error(`Model "${Se}" already exists for this provider`);return}if(x(null),Se!==p.originalModelId){const le=c(p.provider,Ie=>Ie.map(we=>we===p.originalModelId?Se:we));s.providers.setModels({provider:p.provider,models:le})}s.providers.setModelMetadata({provider:p.provider,modelId:Se,metadata:Ue}),f(null)},t[18]=s,t[19]=i,t[20]=p,t[21]=H,t[22]=c,t[23]=V):V=t[23];const Z=V;if(o||!i){let ot;return t[24]===Symbol.for("react.memo_cache_sentinel")?(ot=l.jsxs("div",{className:"flex items-center justify-center gap-2 py-12",children:[l.jsx(pn,{className:"text-muted h-5 w-5 animate-spin"}),l.jsx("span",{className:"text-muted text-sm",children:"Loading settings..."})]}),t[24]=ot):ot=t[24],ot}let W;t[25]!==i?(W=()=>{const ot=[];for(const[Ue,Se]of Object.entries(i))if(!T_.has(Ue)&&Se.models)for(const le of Se.models)ot.push({provider:Ue,modelId:le,fullId:`${Ue}:${le}`,metadata:Se.modelMetadata?.[le]});return ot},t[25]=i,t[26]=W):W=t[26];const K=W,J=Object.values(Ou).map(mZe).filter(ot=>b1(n,ot.fullId)),ee=K(),se="space-y-4";let re;t[27]!==e.status.state?(re=e.status.state==="enforced"&&l.jsxs("div",{className:"border-border-medium bg-background-secondary/50 text-muted flex items-center gap-2 rounded-md border px-3 py-2 text-xs",children:[l.jsx(qm,{className:"h-4 w-4","aria-hidden":!0}),l.jsx("span",{children:"Your settings are controlled by a policy."})]}),t[27]=e.status.state,t[28]=re):re=t[28];let ue;t[29]===Symbol.for("react.memo_cache_sentinel")?(ue=l.jsx("div",{className:"border-border-medium bg-background-secondary/50 border-b px-2 py-1.5 md:px-3",children:l.jsx("span",{className:"text-muted text-xs font-medium",children:"Model Defaults"})}),t[29]=ue):ue=t[29];let he;t[30]===Symbol.for("react.memo_cache_sentinel")?(he=l.jsxs("div",{className:"w-28 shrink-0 md:w-32",children:[l.jsx("div",{className:"text-muted text-xs",children:"Default Model"}),l.jsx("div",{className:"text-muted-light text-[10px]",children:"New workspaces"})]}),t[30]=he):he=t[30];let ke;t[31]!==_||t[32]!==O||t[33]!==S?(ke=l.jsxs("div",{className:"flex items-center gap-4 px-2 py-2 md:px-3",children:[he,l.jsx("div",{className:"min-w-0 flex-1",children:l.jsx(j_,{value:_,onChange:S,models:O,placeholder:"Select model"})})]}),t[31]=_,t[32]=O,t[33]=S,t[34]=ke):ke=t[34];let je;t[35]===Symbol.for("react.memo_cache_sentinel")?(je=l.jsxs("div",{className:"w-28 shrink-0 md:w-32",children:[l.jsx("div",{className:"text-muted text-xs",children:"Compaction Model"}),l.jsx("div",{className:"text-muted-light text-[10px]",children:"History summary"})]}),t[35]=je):je=t[35];let _e;t[36]===Symbol.for("react.memo_cache_sentinel")?(_e={value:"",label:"Use workspace model"},t[36]=_e):_e=t[36];let ge;t[37]!==E||t[38]!==O||t[39]!==L?(ge=l.jsxs("div",{className:"flex items-center gap-4 px-2 py-2 md:px-3",children:[je,l.jsx("div",{className:"min-w-0 flex-1",children:l.jsx(j_,{value:E,onChange:L,models:O,emptyOption:_e})})]}),t[37]=E,t[38]=O,t[39]=L,t[40]=ge):ge=t[40];let ve;t[41]!==ke||t[42]!==ge?(ve=l.jsxs("div",{className:"border-border-medium overflow-hidden rounded-md border",children:[ue,l.jsxs("div",{className:"divide-border-medium divide-y",children:[ke,ge]})]}),t[41]=ke,t[42]=ge,t[43]=ve):ve=t[43];let De;t[44]===Symbol.for("react.memo_cache_sentinel")?(De=l.jsx("div",{className:"text-muted text-xs font-medium tracking-wide uppercase",children:"Custom Models"}),t[44]=De):De=t[44];let $e;t[45]===Symbol.for("react.memo_cache_sentinel")?($e=l.jsxs("div",{className:"flex items-center justify-between",children:[De,l.jsxs(tt,{variant:"outline",size:"sm",className:"h-6 gap-1 px-2 text-[10px]",onClick:()=>w(!0),children:[l.jsx(gJ,{className:"h-3 w-3"}),"Presets"]})]}),t[45]=$e):$e=t[45];let Qe;t[46]===Symbol.for("react.memo_cache_sentinel")?(Qe=l.jsx(Tr,{className:"bg-background border-border-medium focus:border-accent h-7 w-auto shrink-0 rounded border px-2 text-xs",children:l.jsx(Ir,{placeholder:"Provider"})}),t[46]=Qe):Qe=t[46];const Be=C.map(dZe);let ie;t[47]!==Be?(ie=l.jsx(Er,{children:Be}),t[47]=Be,t[48]=ie):ie=t[48];let Te;t[49]!==u||t[50]!==d||t[51]!==ie?(Te=l.jsxs(Ar,{value:u,onValueChange:d,children:[Qe,ie]}),t[49]=u,t[50]=d,t[51]=ie,t[52]=Te):Te=t[52];let Ne;t[53]===Symbol.for("react.memo_cache_sentinel")?(Ne=ot=>h(ot.target.value),t[53]=Ne):Ne=t[53];let Re;t[54]!==U?(Re=ot=>{ot.key==="Enter"&&U()},t[54]=U,t[55]=Re):Re=t[55];let Le;t[56]!==m||t[57]!==Re?(Le=l.jsx("input",{type:"text",value:m,onChange:Ne,placeholder:"model-id",className:"bg-background border-border-medium focus:border-accent min-w-0 flex-1 rounded border px-2 py-1 font-mono text-xs focus:outline-none",onKeyDown:Re}),t[56]=m,t[57]=Re,t[58]=Le):Le=t[58];let Ae;t[59]!==u||t[60]!==m?(Ae=!u||!m.trim(),t[59]=u,t[60]=m,t[61]=Ae):Ae=t[61];let bt;t[62]===Symbol.for("react.memo_cache_sentinel")?(bt=l.jsx(uu,{className:"h-3.5 w-3.5"}),t[62]=bt):bt=t[62];let nt;t[63]!==U||t[64]!==Ae?(nt=l.jsxs(tt,{type:"button",size:"sm",onClick:U,disabled:Ae,className:"h-7 shrink-0 gap-1 px-2 text-xs",children:[bt,"Add"]}),t[63]=U,t[64]=Ae,t[65]=nt):nt=t[65];let ct;t[66]!==Te||t[67]!==Le||t[68]!==nt?(ct=l.jsxs("div",{className:"border-border-medium bg-background-secondary/50 flex flex-wrap items-center gap-1.5 border-b px-2 py-1.5 md:px-3",children:[Te,Le,nt]}),t[66]=Te,t[67]=Le,t[68]=nt,t[69]=ct):ct=t[69];let pt;t[70]!==g?(pt=g&&l.jsx("div",{className:"text-error px-2 py-1.5 text-xs md:px-3",children:g}),t[70]=g,t[71]=pt):pt=t[71];let be;t[72]!==ct||t[73]!==pt?(be=l.jsxs("div",{className:"border-border-medium overflow-hidden rounded-md border",children:[ct,pt]}),t[72]=ct,t[73]=pt,t[74]=be):be=t[74];const We=ee.length>0&&l.jsx("div",{className:"border-border-medium overflow-hidden rounded-md border",children:l.jsxs("table",{className:"w-full",children:[l.jsx(J$,{}),l.jsx("tbody",{children:ee.map(ot=>l.jsx(Z$,{provider:ot.provider,modelId:ot.modelId,fullId:ot.fullId,isCustom:!0,isDefault:_===ot.fullId,customMetadata:ot.metadata,isGatewayEnabled:R.modelUsesGateway(ot.fullId),is1MContextEnabled:I(ot.fullId),onSetDefault:()=>S(ot.fullId),onStartEdit:()=>q(ot.provider,ot.modelId),onRemove:()=>B(ot.provider,ot.modelId),isHiddenFromSelector:T.includes(ot.fullId),onToggleVisibility:()=>T.includes(ot.fullId)?j(ot.fullId):N(ot.fullId),onToggleGateway:R.canToggleModel(ot.fullId)?()=>R.toggleModelGateway(ot.fullId):void 0,onToggle1MContext:Kl(ot.fullId)?()=>A(ot.fullId):void 0,onHealthCheck:()=>k({provider:ot.provider,modelId:ot.modelId,metadata:ot.metadata})},ot.fullId))})]})});let He;t[75]!==be||t[76]!==We?(He=l.jsxs("div",{className:"space-y-3",children:[$e,be,We]}),t[75]=be,t[76]=We,t[77]=He):He=t[77];let Je;t[78]!==p||t[79]!==Z?(Je=p&&l.jsx(nZe,{open:!!p,onOpenChange:ot=>!ot&&f(null),provider:p.provider,modelId:p.originalModelId,initialMetadata:p.metadata,onSave:Z}),t[78]=p,t[79]=Z,t[80]=Je):Je=t[80];let ye;t[81]!==ee?(ye=ee.map(uZe),t[81]=ee,t[82]=ye):ye=t[82];let Ze;t[83]!==s?(Ze=ot=>{if(!s)return;const Ue=new Map;for(const Se of ot){const le=Ue.get(Se.provider)??[];le.push({modelId:Se.modelId,metadata:Se.metadata}),Ue.set(Se.provider,le)}for(const[Se,le]of Ue){const Ie=le.map(cZe);s.providers.setModels({provider:Se,models:Ie});for(const we of le)we.metadata&&s.providers.setModelMetadata({provider:Se,modelId:we.modelId,metadata:we.metadata})}},t[83]=s,t[84]=Ze):Ze=t[84];let qe;t[85]!==y||t[86]!==ye||t[87]!==Ze?(qe=l.jsx(aZe,{open:y,onOpenChange:w,currentModels:ye,onApplyPreset:Ze}),t[85]=y,t[86]=ye,t[87]=Ze,t[88]=qe):qe=t[88];let ft;t[89]!==v?(ft=v&&l.jsx(oZe,{open:!!v,onOpenChange:ot=>!ot&&k(null),provider:v.provider,modelId:v.modelId,metadata:v.metadata}),t[89]=v,t[90]=ft):ft=t[90];const Et="space-y-3";let At;t[91]===Symbol.for("react.memo_cache_sentinel")?(At=l.jsx("div",{className:"text-muted text-xs font-medium tracking-wide uppercase",children:"Built-in Models"}),t[91]=At):At=t[91];const dt="border-border-medium overflow-hidden rounded-md border",Mt="w-full";let Gt;t[92]===Symbol.for("react.memo_cache_sentinel")?(Gt=l.jsx(J$,{}),t[92]=Gt):Gt=t[92];const tn=J.map(ot=>l.jsx(Z$,{provider:ot.provider,modelId:ot.modelId,fullId:ot.fullId,aliases:ot.aliases,isCustom:!1,isDefault:_===ot.fullId,isGatewayEnabled:R.modelUsesGateway(ot.fullId),is1MContextEnabled:I(ot.fullId),onSetDefault:()=>S(ot.fullId),isHiddenFromSelector:T.includes(ot.fullId),onToggleVisibility:()=>T.includes(ot.fullId)?j(ot.fullId):N(ot.fullId),onToggleGateway:R.canToggleModel(ot.fullId)?()=>R.toggleModelGateway(ot.fullId):void 0,onToggle1MContext:Kl(ot.fullId)?()=>A(ot.fullId):void 0,onHealthCheck:()=>k({provider:ot.provider,modelId:ot.modelId})},ot.fullId));let It;t[93]!==tn?(It=l.jsx("tbody",{children:tn}),t[93]=tn,t[94]=It):It=t[94];let zt;t[95]!==Gt||t[96]!==It?(zt=l.jsx("div",{className:dt,children:l.jsxs("table",{className:Mt,children:[Gt,It]})}),t[95]=Gt,t[96]=It,t[97]=zt):zt=t[97];let Vt;t[98]!==At||t[99]!==zt?(Vt=l.jsxs("div",{className:Et,children:[At,zt]}),t[98]=At,t[99]=zt,t[100]=Vt):Vt=t[100];let qt;t[101]===Symbol.for("react.memo_cache_sentinel")?(qt=l.jsx("div",{className:"text-muted text-xs font-medium tracking-wide uppercase",children:"Quick Shortcuts"}),t[101]=qt):qt=t[101];let Pt;t[102]===Symbol.for("react.memo_cache_sentinel")?(Pt=l.jsx("p",{className:"text-foreground mb-1.5 font-medium",children:"Use model aliases as slash commands for one-shot overrides:"}),t[102]=Pt):Pt=t[102];let et;t[103]===Symbol.for("react.memo_cache_sentinel")?(et=l.jsx("span",{className:"text-accent",children:"/sonnet"}),t[103]=et):et=t[103];let rt,jt;t[104]===Symbol.for("react.memo_cache_sentinel")?(rt=l.jsxs("div",{children:[et," explain this code",l.jsx("span",{className:"text-muted/60 ml-2",children:" send one message with Sonnet"})]}),jt=l.jsx("span",{className:"text-accent",children:"/opus+high"}),t[104]=rt,t[105]=jt):(rt=t[104],jt=t[105]);let ze,Ve;t[106]===Symbol.for("react.memo_cache_sentinel")?(ze=l.jsxs("div",{children:[jt," deep review",l.jsx("span",{className:"text-muted/60 ml-2",children:" Opus with high thinking"})]}),Ve=l.jsx("span",{className:"text-accent",children:"/haiku+0"}),t[106]=ze,t[107]=Ve):(ze=t[106],Ve=t[107]);let $t,Wt;t[108]===Symbol.for("react.memo_cache_sentinel")?($t=l.jsxs("div",{children:[Ve," quick answer",l.jsx("span",{className:"text-muted/60 ml-2",children:" Haiku with thinking off"})]}),Wt=l.jsx("span",{className:"text-accent",children:"/+2"}),t[108]=$t,t[109]=Wt):($t=t[108],Wt=t[109]);let sn;t[110]===Symbol.for("react.memo_cache_sentinel")?(sn=l.jsxs("div",{className:"space-y-2",children:[qt,l.jsxs("div",{className:"border-border-medium bg-background-secondary/50 rounded-md border px-3 py-2.5 text-xs leading-relaxed",children:[Pt,l.jsxs("div",{className:"text-muted space-y-0.5 font-mono",children:[rt,ze,$t,l.jsxs("div",{children:[Wt," analyze this",l.jsx("span",{className:"text-muted/60 ml-2",children:" current model, thinking level 2"})]})]}),l.jsx("p",{className:"text-muted mt-1.5",children:"Numeric levels are relative to each model (0=lowest allowed, 1=next, etc.). Named levels: off, low, med, high, max."})]})]}),t[110]=sn):sn=t[110];let En;return t[111]!==ve||t[112]!==He||t[113]!==Je||t[114]!==qe||t[115]!==ft||t[116]!==Vt||t[117]!==re?(En=l.jsxs("div",{className:se,children:[re,ve,He,Je,qe,ft,Vt,sn]}),t[111]=ve,t[112]=He,t[113]=Je,t[114]=qe,t[115]=ft,t[116]=Vt,t[117]=re,t[118]=En):En=t[118],En}function cZe(t){return t.modelId}function uZe(t){return{provider:t.provider,modelId:t.modelId,metadata:t.metadata}}function dZe(t){return l.jsx(Un,{value:t,children:l.jsx(ry,{provider:t,displayName:!0})},t)}function mZe(t){return{provider:t.provider,modelId:t.providerModelId,fullId:t.id,aliases:t.aliases}}function hZe(){}function pZe(t){return!T_.has(t)}function fZe(){const t=ae.c(103),{api:e}=Kt(),{config:n,loading:r}=Pu(),[a,s]=b.useState(eu),[i,o]=b.useState(!1),[c,u]=b.useState(!1),[d,m]=b.useState(null),h=b.useRef(null),p=b.useRef(!1),f=b.useRef(null),g=b.useRef(null);let x;t[0]===Symbol.for("react.memo_cache_sentinel")?(x={listener:!0},t[0]=x):x=t[0];const[y,w]=Tt(bA,"",x),v=typeof y=="string"?y:"";let k;t[1]!==w?(k=it=>{w(it)},t[1]=w,t[2]=k):k=t[2];const C=k;let _;t[3]===Symbol.for("react.memo_cache_sentinel")?(_={listener:!0},t[3]=_):_=t[3];const[S,T]=Tt(xA,"off",_),N=g1(S)??"off",R=Fu()?.selectedWorkspace?.workspaceId??null;let I;t[4]===Symbol.for("react.memo_cache_sentinel")?(I=zm(),t[4]=I):I=t[4];const A=I;let $;t[5]!==R?($=R?gs(R):"__system1_workspace_model_fallback__",t[5]=R,t[6]=$):$=t[6];const E=$;let M;t[7]===Symbol.for("react.memo_cache_sentinel")?(M={listener:!0},t[7]=M):M=t[7];const[F]=Tt(E,A,M),L=v.trim(),Y=typeof F=="string"?F.trim():"",O=L||Y||A,G=pm(O),H=G.length>0?G:ru,D=Tx(O,N);let U;t[8]!==T?(U=it=>{T(g1(it)??"off")},t[8]=T,t[9]=U):U=t[9];const B=U;let q,V;t[10]!==e?(q=()=>{e&&(o(!1),u(!1),m(null),e.config.getConfig().then(it=>{const Pe=eo(it.taskSettings);s(Pe),f.current=Pe,u(!1),o(!0)}).catch(it=>{m(it instanceof Error?it.message:String(it)),u(!0),o(!0)}))},V=[e],t[10]=e,t[11]=q,t[12]=V):(q=t[11],V=t[12]),b.useEffect(q,V);let Z,W;t[13]!==e||t[14]!==c||t[15]!==i||t[16]!==a?(W=()=>{if(!e||!i||c)return;const it=f.current;if(it&&bZe(it,a)){g.current=null,h.current&&(clearTimeout(h.current),h.current=null);return}return g.current=a,h.current&&(clearTimeout(h.current),h.current=null),h.current=setTimeout(()=>{const Pe=()=>{if(p.current)return;const yt=g.current;yt&&(g.current=null,p.current=!0,e.config.saveConfig({taskSettings:yt}).then(()=>{f.current=yt,m(null)}).catch(lt=>{m(lt instanceof Error?lt.message:String(lt))}).finally(()=>{p.current=!1,Pe()}))};Pe()},400),()=>{h.current&&(clearTimeout(h.current),h.current=null)}},Z=[e,i,c,a],t[13]=e,t[14]=c,t[15]=i,t[16]=a,t[17]=Z,t[18]=W):(Z=t[17],W=t[18]),b.useEffect(W,Z);let K,J;t[19]!==e||t[20]!==c||t[21]!==i?(K=()=>{if(e&&i&&!c)return()=>{if(h.current&&(clearTimeout(h.current),h.current=null),p.current)return;const it=g.current;it&&(g.current=null,p.current=!0,e.config.saveConfig({taskSettings:it}).catch(gZe).finally(()=>{p.current=!1}))}},J=[e,i,c],t[19]=e,t[20]=c,t[21]=i,t[22]=K,t[23]=J):(K=t[22],J=t[23]),b.useEffect(K,J);let ee;t[24]===Symbol.for("react.memo_cache_sentinel")?(ee=it=>{const Pe=Number(it);s(yt=>eo({...yt,bashOutputCompactionMinLines:Pe}))},t[24]=ee):ee=t[24];const se=ee;let re;t[25]===Symbol.for("react.memo_cache_sentinel")?(re=it=>{const yt=Math.floor(Number(it))*1024;s(lt=>eo({...lt,bashOutputCompactionMinTotalBytes:yt}))},t[25]=re):re=t[25];const ue=re;let he;t[26]===Symbol.for("react.memo_cache_sentinel")?(he=it=>{const Pe=Number(it);s(yt=>eo({...yt,bashOutputCompactionMaxKeptLines:Pe}))},t[26]=he):he=t[26];const ke=he;let je;t[27]===Symbol.for("react.memo_cache_sentinel")?(je=it=>{s(Pe=>eo({...Pe,bashOutputCompactionHeuristicFallback:it}))},t[27]=je):je=t[27];const _e=je;let ge;t[28]===Symbol.for("react.memo_cache_sentinel")?(ge=it=>{const yt=Math.floor(Number(it))*1e3;s(lt=>eo({...lt,bashOutputCompactionTimeoutMs:yt}))},t[28]=ge):ge=t[28];const ve=ge;if(!i||r||!n){let it;return t[29]===Symbol.for("react.memo_cache_sentinel")?(it=l.jsxs("div",{className:"flex items-center justify-center gap-2 py-12",children:[l.jsx(pn,{className:"text-muted h-5 w-5 animate-spin"}),l.jsx("span",{className:"text-muted text-sm",children:"Loading settings..."})]}),t[29]=it):it=t[29],it}let De;t[30]!==n?(De=VA(n),t[30]=n,t[31]=De):De=t[31];const $e=De,Qe=a.bashOutputCompactionMinLines??On.bashOutputCompactionMinLines.default,Be=a.bashOutputCompactionMinTotalBytes??On.bashOutputCompactionMinTotalBytes.default,ie=a.bashOutputCompactionMaxKeptLines??On.bashOutputCompactionMaxKeptLines.default,Te=a.bashOutputCompactionHeuristicFallback??eu.bashOutputCompactionHeuristicFallback??!0,Ne=a.bashOutputCompactionTimeoutMs??On.bashOutputCompactionTimeoutMs.default,Re=Math.floor(Be/1024),Le=Math.floor(Ne/1e3),Ae="space-y-6",bt="border-border-medium overflow-hidden rounded-md border";let nt;t[32]===Symbol.for("react.memo_cache_sentinel")?(nt=l.jsx("div",{className:"border-border-medium bg-background-secondary/50 border-b px-2 py-1.5 md:px-3",children:l.jsx("span",{className:"text-muted text-xs font-medium",children:"System 1 Defaults"})}),t[32]=nt):nt=t[32];const ct="divide-border-medium divide-y";let pt;t[33]===Symbol.for("react.memo_cache_sentinel")?(pt=l.jsxs("div",{className:"w-32 shrink-0",children:[l.jsx("div",{className:"text-muted text-xs",children:"System 1 Model"}),l.jsx("div",{className:"text-muted-light text-[10px]",children:"Context optimization"})]}),t[33]=pt):pt=t[33];let be;t[34]===Symbol.for("react.memo_cache_sentinel")?(be={value:"",label:"Use workspace model"},t[34]=be):be=t[34];let We;t[35]!==$e||t[36]!==C||t[37]!==v?(We=l.jsxs("div",{className:"flex items-center gap-4 px-2 py-2 md:px-3",children:[pt,l.jsx("div",{className:"min-w-0 flex-1",children:l.jsx(j_,{value:v,onChange:C,models:$e,emptyOption:be})})]}),t[35]=$e,t[36]=C,t[37]=v,t[38]=We):We=t[38];const He="flex items-center gap-4 px-2 py-2 md:px-3";let Je;t[39]===Symbol.for("react.memo_cache_sentinel")?(Je=l.jsxs("div",{className:"w-32 shrink-0",children:[l.jsx("div",{className:"text-muted text-xs",children:"System 1 Reasoning"}),l.jsx("div",{className:"text-muted-light text-[10px]",children:"Log filtering"})]}),t[39]=Je):Je=t[39];const ye="min-w-0 flex-1",Ze=Ar,qe=H.length<=1;let ft;t[40]===Symbol.for("react.memo_cache_sentinel")?(ft=l.jsx(Tr,{className:"border-border-medium bg-modal-bg h-9 w-full",children:l.jsx(Ir,{})}),t[40]=ft):ft=t[40];const Et=Er,At=H.map(it=>l.jsx(Un,{value:it,children:y3(it,O)},it));let dt;t[41]!==Et||t[42]!==At?(dt=l.jsx(Et,{children:At}),t[41]=Et,t[42]=At,t[43]=dt):dt=t[43];let Mt;t[44]!==Ze||t[45]!==D||t[46]!==B||t[47]!==qe||t[48]!==ft||t[49]!==dt?(Mt=l.jsx("div",{className:ye,children:l.jsxs(Ze,{value:D,onValueChange:B,disabled:qe,children:[ft,dt]})}),t[44]=Ze,t[45]=D,t[46]=B,t[47]=qe,t[48]=ft,t[49]=dt,t[50]=Mt):Mt=t[50];let Gt;t[51]!==Je||t[52]!==Mt?(Gt=l.jsxs("div",{className:He,children:[Je,Mt]}),t[51]=Je,t[52]=Mt,t[53]=Gt):Gt=t[53];let tn;t[54]!==We||t[55]!==Gt?(tn=l.jsxs("div",{className:ct,children:[We,Gt]}),t[54]=We,t[55]=Gt,t[56]=tn):tn=t[56];let It;t[57]!==nt||t[58]!==tn?(It=l.jsxs("div",{className:bt,children:[nt,tn]}),t[57]=nt,t[58]=tn,t[59]=It):It=t[59];let zt;t[60]===Symbol.for("react.memo_cache_sentinel")?(zt=l.jsx("h3",{className:"text-foreground mb-4 text-sm font-medium",children:"Bash Output Compaction"}),t[60]=zt):zt=t[60];let Vt;t[61]===Symbol.for("react.memo_cache_sentinel")?(Vt=l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-foreground text-sm",children:"Heuristic Fallback"}),l.jsx("div",{className:"text-muted text-xs",children:"If System 1 returns invalid keep_ranges, fall back to deterministic filtering instead of showing full output."})]}),t[61]=Vt):Vt=t[61];let qt;t[62]!==Te||t[63]!==_e?(qt=l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[Vt,l.jsx(li,{checked:Te,onCheckedChange:_e,"aria-label":"Toggle heuristic fallback for bash output compaction"})]}),t[62]=Te,t[63]=_e,t[64]=qt):qt=t[64];let Pt;t[65]===Symbol.for("react.memo_cache_sentinel")?(Pt=l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-foreground text-sm",children:"Min Lines"}),l.jsxs("div",{className:"text-muted text-xs",children:["Filter when output has more than this many lines. Range"," ",On.bashOutputCompactionMinLines.min,"",On.bashOutputCompactionMinLines.max,"."]})]}),t[65]=Pt):Pt=t[65];let et;t[66]!==se?(et=it=>se(it.target.value),t[66]=se,t[67]=et):et=t[67];let rt;t[68]!==Qe||t[69]!==et?(rt=l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[Pt,l.jsx(xr,{type:"number",value:Qe,min:On.bashOutputCompactionMinLines.min,max:On.bashOutputCompactionMinLines.max,onChange:et,className:"border-border-medium bg-background-secondary h-9 w-28"})]}),t[68]=Qe,t[69]=et,t[70]=rt):rt=t[70];let jt;t[71]===Symbol.for("react.memo_cache_sentinel")?(jt=l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-foreground text-sm",children:"Min Total (KB)"}),l.jsxs("div",{className:"text-muted text-xs",children:["Filter when output exceeds this many kilobytes. Range"," ",On.bashOutputCompactionMinTotalBytes.min/1024,"",On.bashOutputCompactionMinTotalBytes.max/1024,"."]})]}),t[71]=jt):jt=t[71];let ze;t[72]!==ue?(ze=it=>ue(it.target.value),t[72]=ue,t[73]=ze):ze=t[73];let Ve;t[74]!==Re||t[75]!==ze?(Ve=l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[jt,l.jsx(xr,{type:"number",value:Re,min:On.bashOutputCompactionMinTotalBytes.min/1024,max:On.bashOutputCompactionMinTotalBytes.max/1024,step:1,onChange:ze,className:"border-border-medium bg-background-secondary h-9 w-28"})]}),t[74]=Re,t[75]=ze,t[76]=Ve):Ve=t[76];let $t;t[77]===Symbol.for("react.memo_cache_sentinel")?($t=l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-foreground text-sm",children:"Max Kept Lines"}),l.jsxs("div",{className:"text-muted text-xs",children:["Keep at most this many lines. Range"," ",On.bashOutputCompactionMaxKeptLines.min,"",On.bashOutputCompactionMaxKeptLines.max,"."]})]}),t[77]=$t):$t=t[77];let Wt;t[78]!==ke?(Wt=it=>ke(it.target.value),t[78]=ke,t[79]=Wt):Wt=t[79];let sn;t[80]!==ie||t[81]!==Wt?(sn=l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[$t,l.jsx(xr,{type:"number",value:ie,min:On.bashOutputCompactionMaxKeptLines.min,max:On.bashOutputCompactionMaxKeptLines.max,onChange:Wt,className:"border-border-medium bg-background-secondary h-9 w-28"})]}),t[80]=ie,t[81]=Wt,t[82]=sn):sn=t[82];let En;t[83]===Symbol.for("react.memo_cache_sentinel")?(En=l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-foreground text-sm",children:"Timeout (seconds)"}),l.jsxs("div",{className:"text-muted text-xs",children:["Abort filtering if it takes longer than this many seconds. Range"," ",On.bashOutputCompactionTimeoutMs.min/1e3,"",On.bashOutputCompactionTimeoutMs.max/1e3,"."]})]}),t[83]=En):En=t[83];let ot;t[84]!==ve?(ot=it=>ve(it.target.value),t[84]=ve,t[85]=ot):ot=t[85];let Ue;t[86]!==Le||t[87]!==ot?(Ue=l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[En,l.jsx(xr,{type:"number",value:Le,min:On.bashOutputCompactionTimeoutMs.min/1e3,max:On.bashOutputCompactionTimeoutMs.max/1e3,step:1,onChange:ot,className:"border-border-medium bg-background-secondary h-9 w-28"})]}),t[86]=Le,t[87]=ot,t[88]=Ue):Ue=t[88];let Se;t[89]!==qt||t[90]!==rt||t[91]!==Ve||t[92]!==sn||t[93]!==Ue?(Se=l.jsxs("div",{className:"space-y-4",children:[qt,rt,Ve,sn,Ue]}),t[89]=qt,t[90]=rt,t[91]=Ve,t[92]=sn,t[93]=Ue,t[94]=Se):Se=t[94];let le;t[95]!==d?(le=d?l.jsx("div",{className:"text-danger-light mt-4 text-xs",children:d}):null,t[95]=d,t[96]=le):le=t[96];let Ie;t[97]!==Se||t[98]!==le?(Ie=l.jsxs("div",{children:[zt,Se,le]}),t[97]=Se,t[98]=le,t[99]=Ie):Ie=t[99];let we;return t[100]!==It||t[101]!==Ie?(we=l.jsxs("div",{className:Ae,children:[It,Ie]}),t[100]=It,t[101]=Ie,t[102]=we):we=t[102],we}function gZe(){}function bZe(t,e){return t.maxParallelAgentTasks===e.maxParallelAgentTasks&&t.maxTaskNestingDepth===e.maxTaskNestingDepth&&t.bashOutputCompactionMinLines===e.bashOutputCompactionMinLines&&t.bashOutputCompactionMinTotalBytes===e.bashOutputCompactionMinTotalBytes&&t.bashOutputCompactionMaxKeptLines===e.bashOutputCompactionMaxKeptLines&&t.bashOutputCompactionTimeoutMs===e.bashOutputCompactionTimeoutMs&&t.bashOutputCompactionHeuristicFallback===e.bashOutputCompactionHeuristicFallback}function xZe(){const t=new URLSearchParams(window.location.search).get("token")?.trim();return t?.length?t:kx()}function yZe(){const{api:t}=Kt(),e=!!window.api,n=Oi(),[r,a]=b.useState(null),[s,i]=b.useState(null),[o,c]=b.useState(!0),[u,d]=b.useState(!1),[m,h]=b.useState(null),[p,f]=b.useState(!1),[g,x]=b.useState(""),[y,w]=b.useState(null),[v,k]=b.useState(null),[C,_]=b.useState("idle"),[S,T]=b.useState(null),[N,j]=b.useState(null),R=b.useRef(0),I=b.useRef(null);b.useEffect(()=>{if(!t)return;const G=t;async function H(){try{const D=await G.config.getConfig();a(D.muxGovernorEnrolled),i(D.muxGovernorUrl)}catch{a(!1),i(null)}finally{c(!1)}}H()},[t]);const A=b.useRef(N);A.current=N;const $=b.useRef(t);$.current=t,b.useEffect(()=>()=>{e&&$.current&&A.current&&$.current.muxGovernorOauth.cancelDesktopFlow({flowId:A.current}),I.current?.(),I.current=null,R.current+=1},[e]);const E=G=>{if(!G.trim())return{valid:!1};try{const H=new URL(G.trim());if(H.protocol!=="http:"&&H.protocol!=="https:")return{valid:!1};const D=H.protocol==="http:"?"Warning: Using HTTP is not secure. Use HTTPS in production.":void 0;return{valid:!0,origin:H.origin,warning:D}}catch{return{valid:!1}}},M=G=>{x(G),w(null);const H=E(G);G.trim()&&!H.valid?(w("Please enter a valid URL (e.g., https://governor.corp.com)"),k(null)):k(H.warning??null)},F=async()=>{if(!t)return;const G=E(g);if(!G.valid||!G.origin){w("Please enter a valid URL");return}const H=G.origin,D=++R.current;if(f(!1),_("starting"),T(null),e){const U=await t.muxGovernorOauth.startDesktopFlow({governorOrigin:H});if(D!==R.current)return;if(!U.success){_("error"),T(U.error);return}const{flowId:B,authorizeUrl:q}=U.data;j(B),_("waiting"),window.open(q,"_blank","noopener");const V=await t.muxGovernorOauth.waitForDesktopFlow({flowId:B});if(D!==R.current)return;if(V.success){_("success");const Z=await t.config.getConfig();a(Z.muxGovernorEnrolled),i(Z.muxGovernorUrl)}else _("error"),T(V.error)}else{let U=function(re){return typeof re=="object"&&re!==null&&re.type==="mux-governor-oauth"};const B=window.open("about:blank","mux-governor-oauth","width=600,height=700,popup=1");if(!B){_("error"),T("Failed to open popup. Please allow popups for this site.");return}_("waiting");const q=vx(),V=new URL(`${q}/auth/mux-governor/start`);V.searchParams.set("governorUrl",H);const Z=xZe();let W;try{const re=await fetch(V.toString(),{headers:Z?{Authorization:`Bearer ${Z}`}:void 0}),ue=re.headers.get("content-type")??"";if(!ue.includes("application/json")){const ke=(await re.text()).trim().slice(0,80);throw new Error(`Unexpected response (expected JSON, got ${ue||"unknown"}): ${ke}`)}if(W=await re.json(),!re.ok){const he=typeof W.error=="string"?W.error:`HTTP ${re.status}`;throw new Error(he)}}catch(re){if(B.close(),D!==R.current)return;_("error"),T(re instanceof Error?re.message:String(re));return}if(D!==R.current){B.close();return}if(typeof W.authorizeUrl!="string"||typeof W.state!="string"){B.close(),_("error"),T("Invalid response from start endpoint");return}const K=W.state,J=new URL(q).origin;B.location.href=W.authorizeUrl;const ee=re=>{re.origin===J&&U(re.data)&&re.data.state===K&&(window.removeEventListener("message",ee),D===R.current&&(re.data.ok?(_("success"),(async()=>{const ue=await t.config.getConfig();a(ue.muxGovernorEnrolled),i(ue.muxGovernorUrl)})()):(_("error"),T(re.data.error??"OAuth failed"))))};window.addEventListener("message",ee);const se=setInterval(()=>{B.closed&&(clearInterval(se),window.removeEventListener("message",ee),I.current=null,D===R.current&&_("idle"))},500);I.current=()=>{clearInterval(se),window.removeEventListener("message",ee),B.close()}}},L=async()=>{if(t){d(!0),h(null);try{const G=await t.policy.refreshNow();G.success||h(G.error)}catch(G){h(G instanceof Error?G.message:String(G))}finally{d(!1)}}},Y=async()=>{if(t)try{await t.config.unenrollMuxGovernor(),a(!1),i(null),h(null)}catch(G){console.error("Failed to unenroll from Governor:",G)}},O=()=>{x(""),w(null),k(null),f(!0)};return o?l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Mux Governor"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Loading..."})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Mux Governor"}),r?l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-muted-foreground text-sm",children:"You are enrolled in Mux Governor for enterprise policy delivery."}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(qm,{className:"h-4 w-4 text-green-500"}),l.jsx("span",{className:"font-medium",children:"Governor URL:"}),l.jsx("code",{className:"rounded bg-zinc-700/50 px-2 py-0.5",children:s})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx(tt,{variant:"secondary",size:"sm",onClick:()=>void L(),disabled:u,children:u?"Refreshing...":"Refresh policy"}),l.jsx(tt,{variant:"destructive",size:"sm",onClick:()=>void Y(),children:"Unenroll from Mux Governor"})]}),m&&l.jsxs("div",{className:"text-destructive flex items-start gap-2 text-sm",children:[l.jsx(ir,{className:"mt-0.5 h-4 w-4"}),l.jsx("span",{children:m})]}),l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{className:"font-medium",children:"Policy source:"}),l.jsx("code",{className:"rounded bg-zinc-700/50 px-2 py-0.5",children:n.source})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{className:"font-medium",children:"Policy status:"}),l.jsx("code",{className:"rounded bg-zinc-700/50 px-2 py-0.5",children:n.status.state}),n.status.state==="blocked"&&n.status.reason&&l.jsxs("span",{className:"text-destructive text-xs",children:["(",n.status.reason,")"]})]}),n.policy&&l.jsxs("div",{className:"space-y-1",children:[l.jsx("span",{className:"text-sm font-medium",children:"Effective policy:"}),l.jsx(oc,{value:n.policy})]})]})]}):C==="idle"||C==="success"?l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-muted-foreground text-sm",children:"Mux Governor enables enterprise policy delivery for centralized agent control. Enroll to connect to your organization's Governor server."}),l.jsxs(tt,{onClick:O,children:[l.jsx(pl,{className:"mr-2 h-4 w-4"}),"Enroll in Mux Governor"]})]}):C==="starting"?l.jsx("div",{className:"space-y-4",children:l.jsx("p",{className:"text-muted-foreground text-sm",children:"Starting enrollment..."})}):C==="waiting"?l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-muted-foreground text-sm",children:"Complete the sign-in in your browser, then return here."}),l.jsx(tt,{variant:"secondary",onClick:()=>{R.current+=1,e&&N&&t&&t.muxGovernorOauth.cancelDesktopFlow({flowId:N}),_("idle"),j(null)},children:"Cancel"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"text-destructive flex items-start gap-2 text-sm",children:[l.jsx(ir,{className:"mt-0.5 h-4 w-4"}),l.jsx("span",{children:S??"Enrollment failed"})]}),l.jsx(tt,{onClick:O,children:"Try Again"})]}),l.jsx(sa,{open:p,onOpenChange:f,children:l.jsxs(ia,{children:[l.jsx(Sa,{children:l.jsx(oa,{children:"Enter Governor URL"})}),l.jsxs("div",{className:"space-y-4 pt-4",children:[l.jsx("p",{className:"text-muted-foreground text-sm",children:"Enter the URL of your organization's Mux Governor server."}),l.jsx(xr,{placeholder:"https://governor.corp.com",value:g,onChange:G=>M(G.target.value),onKeyDown:G=>{G.key==="Enter"&&!y&&F()}}),y&&l.jsx("p",{className:"text-destructive text-sm",children:y}),v&&l.jsxs("div",{className:"flex items-start gap-2 rounded-md border border-yellow-500/50 bg-yellow-500/10 p-3 text-sm text-yellow-600 dark:text-yellow-400",children:[l.jsx(Mr,{className:"mt-0.5 h-4 w-4 shrink-0"}),l.jsx("span",{children:v})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(tt,{variant:"secondary",onClick:()=>f(!1),children:"Cancel"}),l.jsx(tt,{onClick:()=>void F(),disabled:!g.trim()||!!y,children:"Continue"})]})]})]})})]})}function wZe(){const t=globalThis.crypto;if(t&&typeof t.randomUUID=="function"){const n=t.randomUUID();return mt(typeof n=="string"&&n.length>0,"randomUUID() must return a non-empty string"),n}const e=`mcp_header_${Date.now()}_${Math.random().toString(16).slice(2)}`;return mt(e.length>0,"generated id must be non-empty"),e}function E_(t){const e={id:t?.id??wZe(),name:t?.name??"",kind:t?.kind??"text",value:t?.value??""};return mt(e.kind==="text"||e.kind==="secret","row.kind must be text or secret"),e}function vZe(t){return t?Object.entries(t).map(([e,n])=>E_(typeof n=="string"?{name:e,kind:"text",value:n}:{name:e,kind:"secret",value:n.secret})):[]}function p3(t){return/[\r\n]/.test(t)}function $d(t,e){mt(Array.isArray(t),"rows must be an array");const n=[],r=[],a={},s=new Map;for(const o of t){mt(o&&typeof o=="object","row must be an object"),mt(typeof o.name=="string","row.name must be a string"),mt(typeof o.value=="string","row.value must be a string"),mt(o.kind==="text"||o.kind==="secret","row.kind must be text or secret");const c=o.name.trim();if(c===""&&o.value.trim()==="")continue;if(c===""){n.push("Header name is required");continue}if(p3(c)){n.push(`Header name '${c}' must not contain newlines`);continue}if(c.includes(":")){n.push(`Header name '${c}' must not include ':'`);continue}const d=c.toLowerCase(),m=s.get(d);if(m){n.push(`Duplicate header '${c}' (conflicts with '${m}')`);continue}if(s.set(d,c),o.kind==="text"){if(p3(o.value)){n.push(`Header '${c}' value must not contain newlines`);continue}a[c]=o.value;continue}const h=o.value.trim();if(h===""){n.push(`Secret name is required for header '${c}'`);continue}if(p3(h)){n.push(`Secret name '${h}' must not contain newlines`);continue}a[c]={secret:h},e?.knownSecretKeys&&!e.knownSecretKeys.has(h)&&r.push(`Secret '${h}' is not defined in this project`)}return{headers:Object.keys(a).length===0?void 0:a,validation:{errors:n,warnings:r}}}const eA=t=>{const e=ae.c(20),[n,r]=xe.useState(null);let a,s,i,o,c;if(e[0]!==n||e[1]!==t){const m=t.secretKeys.slice().sort(kZe),{validation:h}=$d(t.rows,{knownSecretKeys:new Set(t.secretKeys)});let p;e[7]!==t?(p=()=>{t.onChange([...t.rows,E_()])},e[7]=t,e[8]=p):p=e[8],a=p;const f=y=>{t.onChange(t.rows.filter(w=>w.id!==y)),n===y&&r(null)};let g;e[9]!==t?(g=(y,w)=>{t.onChange(t.rows.map(v=>v.id!==y?v:{...v,...w}))},e[9]=t,e[10]=g):g=e[10];const x=g;s="space-y-2",i=t.rows.length===0?l.jsx("div",{className:"text-muted border-border-medium rounded-md border border-dashed px-3 py-3 text-center text-xs",children:"No headers configured"}):l.jsxs("div",{className:"[&>label]:text-muted grid grid-cols-[1fr_auto_1fr_auto] items-end gap-1 [&>label]:mb-0.5 [&>label]:text-[11px]",children:[l.jsx("label",{children:"Header"}),l.jsx("label",{children:"Type"}),l.jsx("label",{children:"Value"}),l.jsx("div",{}),t.rows.map(y=>l.jsxs(xe.Fragment,{children:[l.jsx("input",{type:"text",value:y.name,onChange:w=>x(y.id,{name:w.target.value}),placeholder:"Authorization",disabled:t.disabled,spellCheck:!1,className:"bg-modal-bg border-border-medium focus:border-accent placeholder:text-dim text-foreground w-full rounded border px-2.5 py-1.5 font-mono text-[13px] focus:outline-none disabled:opacity-50"}),l.jsxs(fu,{type:"single",value:y.kind,onValueChange:w=>{w!=="text"&&w!=="secret"||(x(y.id,{kind:w}),w!=="secret"&&n===y.id&&r(null))},size:"sm",disabled:t.disabled,className:"h-[34px]",children:[l.jsx(As,{value:"text",size:"sm",className:"h-[26px] px-3 text-[13px]",children:"Text"}),l.jsx(As,{value:"secret",size:"sm",className:"h-[26px] px-3 text-[13px]",children:"Secret"})]}),y.kind==="secret"?l.jsxs("div",{className:"flex items-stretch gap-1",children:[l.jsx("input",{type:"text",value:y.value,onChange:w=>x(y.id,{value:w.target.value}),placeholder:"MCP_TOKEN",disabled:t.disabled,spellCheck:!1,className:"bg-modal-bg border-border-medium focus:border-accent placeholder:text-dim text-foreground w-full flex-1 rounded border px-2.5 py-1.5 font-mono text-[13px] focus:outline-none disabled:opacity-50"}),m.length>0&&l.jsxs(yc,{open:n===y.id,onOpenChange:w=>r(w?y.id:null),children:[l.jsx(Vm,{asChild:!0,children:l.jsx("button",{type:"button","aria-label":"Choose secret",title:"Choose secret",disabled:t.disabled,className:"bg-modal-bg border-border-medium focus:border-accent hover:bg-hover text-muted hover:text-foreground flex cursor-pointer items-center justify-center rounded border px-2.5 py-1.5 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50",children:l.jsx(Fs,{className:"h-4 w-4"})})}),l.jsx(gl,{align:"end",sideOffset:4,className:"p-1",children:l.jsx("div",{className:"max-h-48 overflow-auto",children:(y.value.trim()===""?m:m.filter(w=>w.toLowerCase().includes(y.value.trim().toLowerCase()))).map(w=>l.jsx("button",{type:"button",onClick:()=>{x(y.id,{value:w}),r(null)},className:"hover:bg-hover text-foreground w-full cursor-pointer rounded px-2 py-1 text-left font-mono text-xs",children:w},w))})})]})]}):l.jsx("input",{type:"text",value:y.value,onChange:w=>x(y.id,{value:w.target.value}),placeholder:"value",disabled:t.disabled,spellCheck:!1,className:"bg-modal-bg border-border-medium focus:border-accent placeholder:text-dim text-foreground w-full rounded border px-2.5 py-1.5 font-mono text-[13px] focus:outline-none disabled:opacity-50"}),l.jsx("button",{type:"button",onClick:()=>f(y.id),disabled:t.disabled,className:"text-danger-light border-danger-light hover:bg-danger-light/10 cursor-pointer rounded border bg-transparent px-2.5 py-1.5 text-[13px] transition-all duration-200 disabled:cursor-not-allowed disabled:opacity-50",title:"Remove header",children:""})]},y.id))]}),o=h.errors.length>0&&l.jsx("div",{className:"bg-destructive/10 text-destructive rounded-md px-3 py-2 text-xs",children:h.errors.map(_Ze)}),c=h.errors.length===0&&h.warnings.length>0&&l.jsx("div",{className:"text-muted rounded-md px-1 text-xs",children:h.warnings.map(CZe)}),e[0]=n,e[1]=t,e[2]=a,e[3]=s,e[4]=i,e[5]=o,e[6]=c}else a=e[2],s=e[3],i=e[4],o=e[5],c=e[6];let u;e[11]!==a||e[12]!==t.disabled?(u=l.jsx("button",{type:"button",onClick:a,disabled:t.disabled,className:"text-muted border-border-medium hover:bg-hover hover:border-border-darker hover:text-foreground w-full cursor-pointer rounded border border-dashed bg-transparent px-3 py-2 text-[13px] transition-all duration-200 disabled:cursor-not-allowed disabled:opacity-50",children:"+ Add header"}),e[11]=a,e[12]=t.disabled,e[13]=u):u=e[13];let d;return e[14]!==s||e[15]!==i||e[16]!==o||e[17]!==c||e[18]!==u?(d=l.jsxs("div",{className:s,children:[i,o,c,u]}),e[14]=s,e[15]=i,e[16]=o,e[17]=c,e[18]=u,e[19]=d):d=e[19],d};function kZe(t,e){return t.localeCompare(e,void 0,{sensitivity:"base"})}function _Ze(t,e){return l.jsx("div",{children:t},e)}function CZe(t,e){return l.jsx("div",{children:t},e)}const SZe=({serverName:t,availableTools:e,currentAllowlist:n,testedAt:r})=>{const{api:a}=Kt(),[s,i]=b.useState(!1),[o,c]=b.useState(!1),[u,d]=b.useState(()=>n??[...e]);b.useEffect(()=>{d(n??[...e])},[n,e]);const m=u.length===e.length,h=u.length===0,p=b.useCallback(async(x,y)=>{if(!a)return;const w=y?[...u,x]:u.filter(v=>v!==x);d(w),c(!0);try{const v=await a.mcp.setToolAllowlist({name:t,toolAllowlist:w});v.success||(d(n??[...e]),console.error("Failed to update tool allowlist:",v.error))}catch(v){d(n??[...e]),console.error("Failed to update tool allowlist:",v)}finally{c(!1)}},[a,t,u,n,e]),f=b.useCallback(async()=>{if(!a||m)return;const x=[...e];d(x),c(!0);try{const y=await a.mcp.setToolAllowlist({name:t,toolAllowlist:x});y.success||(d(n??[...e]),console.error("Failed to clear tool allowlist:",y.error))}catch(y){d(n??[...e]),console.error("Failed to clear tool allowlist:",y)}finally{c(!1)}},[a,t,m,n,e]),g=b.useCallback(async()=>{if(!(!a||h)){d([]),c(!0);try{const x=await a.mcp.setToolAllowlist({name:t,toolAllowlist:[]});x.success||(d(n??[...e]),console.error("Failed to set empty tool allowlist:",x.error))}catch(x){d(n??[...e]),console.error("Failed to set empty tool allowlist:",x)}finally{c(!1)}}},[a,t,h,n,e]);return l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>i(!s),className:"text-muted hover:text-foreground flex items-center gap-1 text-xs",children:[s?l.jsx(Fs,{className:"h-3 w-3"}):l.jsx(na,{className:"h-3 w-3"}),l.jsxs("span",{children:["Tools: ",u.length,"/",e.length]}),l.jsxs("span",{className:"text-muted/60 ml-1",children:["(",qf(r),")"]}),o&&l.jsx(pn,{className:"ml-1 h-3 w-3 animate-spin"})]}),s&&l.jsx("div",{className:"mt-2",children:l.jsx(zY,{availableTools:e,allowedTools:u,onToggle:(x,y)=>void p(x,y),onSelectAll:()=>void f(),onSelectNone:()=>void g(),disabled:o})})]})};function lX(t){if(t===null)return!1;const e=typeof t;return e==="object"||e==="function"}function dm(t){if(!t)return null;const e=Reflect.get(t,"mcpOauth");if(!lX(e))return null;const n=["getAuthStatus","logout"];for(const s of n)if(typeof e[s]!="function")return null;const r=typeof e.startDesktopFlow=="function"&&typeof e.waitForDesktopFlow=="function"&&typeof e.cancelDesktopFlow=="function",a=typeof e.startServerFlow=="function"&&typeof e.waitForServerFlow=="function"&&typeof e.cancelServerFlow=="function";return!r&&!a?null:e}function hx(t){const e=t.mcpOauthApi;if(!e||!lX(e))return null;const n=typeof e.startDesktopFlow=="function"&&typeof e.waitForDesktopFlow=="function"&&typeof e.cancelDesktopFlow=="function",r=typeof e.startServerFlow=="function"&&typeof e.waitForServerFlow=="function"&&typeof e.cancelServerFlow=="function";return t.isDesktop?n?"desktop":null:r?"server":null}function cX(t){const{api:e,isDesktop:n,serverName:r,pendingServer:a,onSuccess:s}=t,i=b.useRef(0),[o,c]=b.useState(null),[u,d]=b.useState("idle"),[m,h]=b.useState(null),p=u==="starting"||u==="waiting",f=b.useCallback(()=>{i.current++;const x=dm(e),y=hx({isDesktop:n,mcpOauthApi:x});x&&o&&y==="desktop"&&x.cancelDesktopFlow({flowId:o}),x&&o&&y==="server"&&x.cancelServerFlow({flowId:o}),c(null),d("idle"),h(null)},[e,o,n]),g=b.useCallback(async()=>{const x=++i.current;try{if(h(null),c(null),!e){d("error"),h("Mux API not connected.");return}if(!r.trim()){d("error"),h("Server name is required to start OAuth login.");return}const y=dm(e);if(!y){d("error"),h("OAuth is not available in this environment.");return}const w=hx({isDesktop:n,mcpOauthApi:y});if(!w){d("error"),h("OAuth login is not available in this environment.");return}d("starting");const v=w==="desktop"?await y.startDesktopFlow({serverName:r,pendingServer:a}):await y.startServerFlow({serverName:r,pendingServer:a});if(x!==i.current){v.success&&(w==="desktop"?y.cancelDesktopFlow({flowId:v.data.flowId}):y.cancelServerFlow({flowId:v.data.flowId}));return}if(!v.success){d("error"),h(v.error);return}const{flowId:k,authorizeUrl:C}=v.data;c(k),d("waiting");try{window.open(C,"_blank","noopener")}catch{}if(x!==i.current)return;const _=w==="desktop"?await y.waitForDesktopFlow({flowId:k}):await y.waitForServerFlow({flowId:k});if(x!==i.current)return;if(_.success){d("success"),await s?.();return}d("error"),h(_.error)}catch(y){if(x!==i.current)return;const w=y instanceof Error?y.message:String(y);d("error"),h(w)}},[e,n,s,a,r]);return{loginStatus:u,loginError:m,loginInProgress:p,startLogin:g,cancelLogin:f}}const tA=t=>{const e=ae.c(43),{serverName:n,pendingServer:r,disabledReason:a,onLoginSuccess:s}=t,{api:i}=Kt(),o=!!window.api;let c;e[0]!==i||e[1]!==s||e[2]!==r||e[3]!==n?(c={api:i,isDesktop:o,serverName:n,pendingServer:r,onSuccess:s},e[0]=i,e[1]=s,e[2]=r,e[3]=n,e[4]=c):c=e[4];const{loginStatus:u,loginError:d,loginInProgress:m,startLogin:h,cancelLogin:p}=cX(c);let f,g;e[5]!==i?(f=dm(i),g=hx({isDesktop:o,mcpOauthApi:f}),e[5]=i,e[6]=f,e[7]=g):(f=e[6],g=e[7]);const x=g,y=a??(i?f?x?void 0:o?"OAuth login is not available in this environment.":"OAuth login is only available in the desktop app.":"OAuth is not available in this environment.":"Mux API not connected"),w=!!a||!i||!x||m;let v;e[8]!==h?(v=()=>{h()},e[8]=h,e[9]=v):v=e[9];let k;e[10]!==m?(k=m?l.jsxs(l.Fragment,{children:[l.jsx(pn,{className:"h-3.5 w-3.5 animate-spin"}),"Waiting for login..."]}):"Login via OAuth",e[10]=m,e[11]=k):k=e[11];let C;e[12]!==w||e[13]!==v||e[14]!==k?(C=l.jsx(tt,{size:"sm",onClick:v,disabled:w,"aria-label":"Login via OAuth",children:k}),e[12]=w,e[13]=v,e[14]=k,e[15]=C):C=e[15];const _=C;let S;e[16]===Symbol.for("react.memo_cache_sentinel")?(S=l.jsx("p",{className:"font-medium",children:"This server requires OAuth."}),e[16]=S):S=e[16];let T;e[17]!==a?(T=a&&l.jsx("p",{className:"text-muted mt-0.5",children:a}),e[17]=a,e[18]=T):T=e[18];let N;e[19]!==u?(N=u==="waiting"&&l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-muted mt-0.5",children:"Finish the login flow in your browser, then return here."}),!o&&l.jsx("p",{className:"text-muted mt-0.5",children:"If a new tab didn't open, your browser may have blocked the popup. Allow popups and try again."})]}),e[19]=u,e[20]=N):N=e[20];let j;e[21]!==u?(j=u==="success"&&l.jsx("p",{className:"text-muted mt-0.5",children:"Logged in."}),e[21]=u,e[22]=j):j=e[22];let R;e[23]!==d||e[24]!==u?(R=u==="error"&&d&&l.jsxs("p",{className:"text-destructive mt-0.5",children:["OAuth error: ",d]}),e[23]=d,e[24]=u,e[25]=R):R=e[25];let I;e[26]!==R||e[27]!==T||e[28]!==N||e[29]!==j?(I=l.jsxs("div",{className:"min-w-0",children:[S,T,N,j,R]}),e[26]=R,e[27]=T,e[28]=N,e[29]=j,e[30]=I):I=e[30];let A;e[31]!==y||e[32]!==_?(A=y?l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:_})}),l.jsx(Ke,{side:"top",children:y})]}):_,e[31]=y,e[32]=_,e[33]=A):A=e[33];let $;e[34]!==p||e[35]!==u?($=u==="waiting"&&l.jsx(tt,{variant:"secondary",size:"sm",onClick:p,children:"Cancel"}),e[34]=p,e[35]=u,e[36]=$):$=e[36];let E;e[37]!==A||e[38]!==$?(E=l.jsxs("div",{className:"flex shrink-0 items-center gap-2",children:[A,$]}),e[37]=A,e[38]=$,e[39]=E):E=e[39];let M;return e[40]!==I||e[41]!==E?(M=l.jsx("div",{className:"bg-warning/10 border-warning/30 text-warning rounded-md border px-3 py-2 text-xs",children:l.jsxs("div",{className:"flex items-start justify-between gap-3",children:[I,E]})}),e[40]=I,e[41]=E,e[42]=M):M=e[42],M},jZe=({serverName:t,transport:e,url:n,oauthRefreshNonce:r})=>{const{api:a}=Kt(),s=!!window.api,[i,o]=b.useState(null),[c,u]=b.useState(!1),[d,m]=b.useState(null),[h,p]=b.useState(!1),[f,g]=b.useState(null),x=b.useCallback(async()=>{const F=dm(a);if(!F){o(null),u(!1),m(null);return}u(!0),m(null);try{const L=await F.getAuthStatus({serverUrl:n});o(L)}catch(L){o(null),m(L instanceof Error?L.message:"Failed to load OAuth status")}finally{u(!1)}},[a,n]);b.useEffect(()=>{x()},[x,e,n,r]);const{loginStatus:y,loginError:w,loginInProgress:v,startLogin:k,cancelLogin:C}=cX({api:a,isDesktop:s,serverName:t,onSuccess:x}),_=dm(a),S=!!_,T=hx({isDesktop:s,mcpOauthApi:_}),N=S&&!!T,j=(i?.isLoggedIn??!1)||y==="success",R=[d?{label:"Status",message:d}:null,y==="error"&&w?{label:"Login",message:w}:null,f?{label:"Logout",message:f}:null].filter(F=>F!==null),I=S?c?"Checking...":v?"Waiting...":R.length>0?"Error":j?"Logged in":"Not logged in":"Not available",A=S&&j&&i?.updatedAtMs?` (${qf(i.updatedAtMs)})`:"",$=y==="error"?"Retry":"Login",E=y==="error"?"Retry login":"Re-login",M=b.useCallback(async()=>{const F=dm(a);if(!F){g("OAuth is not available in this environment.");return}g(null),C(),p(!0);try{const L=await F.logout({serverUrl:n});if(!L.success){g(L.error);return}await x()}catch(L){const Y=L instanceof Error?L.message:String(L);g(Y)}finally{p(!1)}},[a,C,x,n]);return l.jsxs("div",{className:"mt-1 flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-2 text-xs",children:[l.jsx("span",{className:"text-foreground font-medium",children:"OAuth"}),l.jsxs("span",{className:"text-muted truncate",children:[I,A]}),R.length>0&&l.jsxs("details",{className:"group inline-block",children:[l.jsx("summary",{className:"text-muted hover:text-foreground cursor-pointer list-none text-[11px] underline-offset-2 group-open:underline",children:"Details"}),l.jsx("div",{className:"border-border-medium bg-background-secondary mt-1 space-y-1 rounded-md border px-2 py-1 text-xs",children:R.map(F=>l.jsxs("div",{className:"text-destructive break-words",children:[l.jsxs("span",{className:"font-medium",children:[F.label,":"]})," ",F.message]},F.label))})]})]}),N&&l.jsx("div",{className:"flex shrink-0 items-center gap-1",children:v?l.jsxs(l.Fragment,{children:[l.jsxs(tt,{variant:"outline",size:"sm",className:"h-7 px-2",disabled:!0,children:[l.jsx(pn,{className:"h-3 w-3 animate-spin"}),j?"Re-login":"Login"]}),l.jsx(tt,{variant:"ghost",size:"sm",className:"h-7 px-2",onClick:C,children:"Cancel"})]}):j?l.jsxs(l.Fragment,{children:[h&&l.jsx(pn,{className:"text-muted h-3 w-3 animate-spin"}),l.jsx(VS,{className:"h-7 w-7 px-0 text-xs",items:[{label:E,onClick:()=>{k()},disabled:h},{label:h?"Logging out...":"Logout",onClick:()=>{M()},disabled:h}]})]}):l.jsxs(tt,{variant:"outline",size:"sm",className:"h-7 px-2",onClick:()=>{k()},disabled:h,children:[l.jsx(Yee,{}),$]})})]})},TZe=()=>{const{api:t}=Kt(),e=Oi(),n=e.status.state==="enforced"?e.policy?.mcp.allowUserDefined:void 0,r=n?.stdio===!1&&n.remote===!1,[a,s]=b.useState({}),[i,o]=b.useState(!1),[c,u]=b.useState([]),[d,m]=b.useState(null),{cache:h,setResult:p,clearResult:f}=BY("__global__"),[g,x]=b.useState(null),[y,w]=b.useState(0);b.useEffect(()=>{if(!n)return;const W=K=>K==="stdio"?n.stdio:n.remote;k(K=>{if(W(K.transport))return K;const J=n.stdio?"stdio":n.remote?"http":null;return J?{...K,transport:J,value:"",headersRows:[]}:K})},[n]);const[v,k]=b.useState({name:"",transport:"stdio",value:"",headersRows:[]}),[C,_]=b.useState(!1),[S,T]=b.useState(!1),[N,j]=b.useState(null),[R,I]=b.useState(null),[A,$]=b.useState(!1),E=b.useCallback(async()=>{if(t){o(!0);try{const W=await t.mcp.list({});s(W??{}),m(null)}catch(W){m(W instanceof Error?W.message:"Failed to load MCP servers")}finally{o(!1)}}},[t]);b.useEffect(()=>{if(!t){u([]);return}let W=!1;return(async()=>{try{const K=await t.secrets.get({});if(W)return;u(K.map(J=>J.key))}catch(K){if(W)return;console.error("Failed to load global secrets:",K),u([])}})(),()=>{W=!0}},[t]),b.useEffect(()=>{E()},[E]),b.useEffect(()=>{j(null)},[v.transport,v.value,v.headersRows]);const M=b.useCallback(async W=>{if(t){o(!0);try{const K=await t.mcp.remove({name:W});K.success?(f(W),await E()):m(K.error??"Failed to remove MCP server")}catch(K){m(K instanceof Error?K.message:"Failed to remove MCP server")}finally{o(!1)}}},[t,E,f]),F=b.useCallback(async(W,K)=>{if(t){s(J=>({...J,[W]:{...J[W],disabled:!K}}));try{const J=await t.mcp.setEnabled({name:W,enabled:K});J.success||(s(ee=>({...ee,[W]:{...ee[W],disabled:K}})),m(J.error??"Failed to update server"))}catch(J){s(ee=>({...ee,[W]:{...ee[W],disabled:K}})),m(J instanceof Error?J.message:"Failed to update server")}}},[t]),L=b.useCallback(async W=>{if(t){x(W);try{const K=await t.mcp.test({name:W});p(W,K)}catch(K){p(W,{success:!1,error:K instanceof Error?K.message:"Test failed"})}finally{x(null)}}},[t,p]),Y=W=>W.transport==="stdio"?W.command:W.url,O=b.useCallback(async()=>{if(!(!t||!v.value.trim())){T(!0),j(null);try{const{headers:W,validation:K}=v.transport==="stdio"?{headers:void 0,validation:{errors:[],warnings:[]}}:$d(v.headersRows,{knownSecretKeys:new Set(c)});if(K.errors.length>0)throw new Error(K.errors[0]);const J=v.name.trim(),ee=await t.mcp.test({...v.transport==="stdio"?{command:v.value.trim()}:{...J?{name:J}:{},transport:v.transport,url:v.value.trim(),headers:W}});j({result:ee,testedAt:Date.now()})}catch(W){j({result:{success:!1,error:W instanceof Error?W.message:"Test failed"},testedAt:Date.now()})}finally{T(!1)}}},[t,v.name,v.transport,v.value,v.headersRows,c]),G=b.useCallback(async()=>{if(!t||!v.name.trim()||!v.value.trim())return;const W=v.name.trim(),K=v.transport,J=v.value.trim(),ee=v.headersRows,se=N;_(!0),m(null);try{const{headers:re,validation:ue}=K==="stdio"?{headers:void 0,validation:{errors:[],warnings:[]}}:$d(ee,{knownSecretKeys:new Set(c)});if(ue.errors.length>0)throw new Error(ue.errors[0]);const he=await t.mcp.add({name:W,...K==="stdio"?{transport:"stdio",command:J}:{transport:K,url:J,headers:re}});if(!he.success){m(he.error??"Failed to add MCP server");return}if(k({name:"",transport:"stdio",value:"",headersRows:[]}),j(null),await E(),K==="stdio"){se?.result.success&&p(W,se.result);return}x(W);try{const ke=await t.mcp.test({name:W});p(W,ke)}catch(ke){p(W,{success:!1,error:ke instanceof Error?ke.message:"Test failed"})}finally{x(null)}}catch(re){m(re instanceof Error?re.message:"Failed to add MCP server")}finally{_(!1)}},[t,v,N,E,p,c]),H=b.useCallback((W,K)=>{I({name:W,transport:K.transport,value:K.transport==="stdio"?K.command:K.url,headersRows:K.transport==="stdio"?[]:vZe(K.headers)})},[]),D=b.useCallback(()=>{I(null)},[]),U=b.useCallback(async()=>{if(!(!t||!R?.value.trim())){$(!0),m(null);try{const{headers:W,validation:K}=R.transport==="stdio"?{headers:void 0,validation:{errors:[],warnings:[]}}:$d(R.headersRows,{knownSecretKeys:new Set(c)});if(K.errors.length>0)throw new Error(K.errors[0]);const J=await t.mcp.add({name:R.name,...R.transport==="stdio"?{transport:"stdio",command:R.value.trim()}:{transport:R.transport,url:R.value.trim(),headers:W}});J.success?(f(R.name),I(null),await E()):m(J.error??"Failed to update MCP server")}catch(W){m(W instanceof Error?W.message:"Failed to update MCP server")}finally{$(!1)}}},[t,R,E,f,c]),B=v.transport==="stdio"?{errors:[]}:$d(v.headersRows,{knownSecretKeys:new Set(c)}).validation,q=v.name.trim().length>0&&v.value.trim().length>0&&(v.transport==="stdio"||B.errors.length===0),V=v.value.trim().length>0&&(v.transport==="stdio"||B.errors.length===0),Z=R&&R.transport!=="stdio"?$d(R.headersRows,{knownSecretKeys:new Set(c)}).validation:{errors:[]};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{children:l.jsxs("p",{className:"text-muted mb-4 text-xs",children:["Configure global MCP servers. Global config lives in"," ",l.jsx("code",{className:"text-accent",children:"~/.mux/mcp.jsonc"}),", with optional repo overrides in"," ",l.jsx("code",{className:"text-accent",children:"./.mux/mcp.jsonc"})," and workspace overrides in"," ",l.jsx("code",{className:"text-accent",children:".mux/mcp.local.jsonc"}),"."]})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-foreground mb-4 text-sm font-medium",children:"MCP Servers"}),r?l.jsx("p",{className:"text-muted py-2 text-sm",children:"MCP servers are disabled by policy."}):l.jsxs(l.Fragment,{children:[d&&l.jsxs("div",{className:"bg-destructive/10 text-destructive mb-3 flex items-center gap-2 rounded-md px-3 py-2 text-sm",children:[l.jsx(Wd,{className:"h-4 w-4 shrink-0"}),d]}),l.jsx("div",{className:"space-y-2",children:i?l.jsxs("div",{className:"text-muted flex items-center gap-2 py-4 text-sm",children:[l.jsx(pn,{className:"h-4 w-4 animate-spin"}),"Loading servers"]}):Object.keys(a).length===0?l.jsx("p",{className:"text-muted py-2 text-sm",children:"No MCP servers configured yet."}):Object.entries(a).map(([W,K])=>{const J=g===W,ee=h[W],se=R?.name===W,re=!K.disabled,ue=K.transport==="stdio"?null:K;return l.jsxs("div",{className:"border-border-medium bg-background-secondary overflow-hidden rounded-md border",children:[l.jsxs("div",{className:"grid grid-cols-[auto_minmax(0,1fr)_auto] items-start gap-x-3 px-3 py-2",children:[l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("div",{className:"mt-0.5 shrink-0",children:l.jsx(li,{checked:re,onCheckedChange:he=>void F(W,he),"aria-label":`Toggle ${W} enabled`})})}),l.jsx(Ke,{side:"top",children:re?"Disable server":"Enable server"})]}),l.jsxs("div",{className:ce("min-w-0",!re&&"opacity-50"),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-foreground text-sm font-medium",children:W}),ee?.result.success&&!se&&re&&l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsxs("span",{className:"rounded bg-green-500/10 px-1.5 py-0.5 text-xs text-green-500",children:[ee.result.tools.length," tools"]})}),l.jsxs(Ke,{side:"top",children:["Tested ",qf(ee.testedAt)]})]}),!re&&l.jsx("span",{className:"text-muted text-xs",children:"disabled"})]}),se?l.jsxs("div",{className:"mt-2 space-y-2",children:[l.jsxs("p",{className:"text-muted text-xs",children:["transport: ",R.transport]}),l.jsx("input",{type:"text",value:R.value,onChange:he=>I({...R,value:he.target.value}),className:"bg-modal-bg border-border-medium focus:border-accent w-full rounded border px-2 py-1.5 font-mono text-xs focus:outline-none",autoFocus:!0,spellCheck:!1,onKeyDown:ZA({onSave:()=>void U(),onCancel:D})}),R.transport!=="stdio"&&l.jsxs("div",{children:[l.jsx("div",{className:"text-muted mb-1 text-[11px]",children:"HTTP headers (optional)"}),l.jsx(eA,{rows:R.headersRows,onChange:he=>I({...R,headersRows:he}),secretKeys:c,disabled:A})]})]}):l.jsx("p",{className:"text-muted mt-0.5 font-mono text-xs break-all",children:Y(K)})]}),l.jsx("div",{className:"flex shrink-0 items-center gap-0.5",children:se?l.jsxs(l.Fragment,{children:[l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(tt,{variant:"ghost",size:"icon",onClick:()=>void U(),disabled:A||!R.value.trim()||Z.errors.length>0,className:"h-7 w-7 text-green-500 hover:text-green-400","aria-label":"Save",children:A?l.jsx(pn,{className:"h-4 w-4 animate-spin"}):l.jsx(Hn,{className:"h-4 w-4"})})})}),l.jsx(Ke,{side:"top",children:"Save (Enter)"})]}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(tt,{variant:"ghost",size:"icon",onClick:D,disabled:A,className:"text-muted hover:text-foreground h-7 w-7","aria-label":"Cancel",children:l.jsx(ir,{className:"h-4 w-4"})})})}),l.jsx(Ke,{side:"top",children:"Cancel (Esc)"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(tt,{variant:"ghost",size:"icon",onClick:()=>void L(W),disabled:J,className:"text-muted hover:text-accent h-7 w-7","aria-label":"Test connection",children:J?l.jsx(pn,{className:"h-4 w-4 animate-spin"}):l.jsx(_1,{className:"h-4 w-4"})})})}),l.jsx(Ke,{side:"top",children:"Test connection"})]}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(tt,{variant:"ghost",size:"icon",onClick:()=>H(W,K),className:"text-muted hover:text-accent h-7 w-7","aria-label":"Edit server",children:l.jsx(Rs,{className:"h-4 w-4"})})})}),l.jsx(Ke,{side:"top",children:"Edit server"})]}),l.jsxs(Ye,{children:[l.jsx(Xe,{asChild:!0,children:l.jsx("span",{className:"inline-flex",children:l.jsx(tt,{variant:"ghost",size:"icon",onClick:()=>void M(W),disabled:i,className:"text-muted hover:text-error h-7 w-7","aria-label":"Remove server",children:l.jsx(fa,{className:"h-4 w-4"})})})}),l.jsx(Ke,{side:"top",children:"Remove server"})]})]})}),!se&&ue&&l.jsx("div",{className:ce("col-start-2 col-span-2 min-w-0",!re&&"opacity-50"),children:l.jsx(jZe,{serverName:W,transport:ue.transport,url:ue.url,oauthRefreshNonce:y})})]}),ee&&!ee.result.success&&!se&&l.jsxs("div",{className:"border-border-medium border-t px-3 py-2 text-xs",children:[l.jsxs("div",{className:"text-destructive flex items-start gap-1.5",children:[l.jsx(Wd,{className:"mt-0.5 h-3 w-3 shrink-0"}),l.jsx("span",{children:ee.result.error})]}),ee.result.oauthChallenge&&l.jsx("div",{className:"mt-2",children:l.jsx(tA,{serverName:W,disabledReason:ue?void 0:"OAuth login is only supported for remote (http/sse) MCP servers.",onLoginSuccess:async()=>{w(he=>he+1),await L(W)}})})]}),ee?.result.success&&ee.result.tools.length>0&&!se&&l.jsx("div",{className:"border-border-medium border-t px-3 py-2",children:l.jsx(SZe,{serverName:W,availableTools:ee.result.tools,currentAllowlist:K.toolAllowlist,testedAt:ee.testedAt})})]},W)})}),l.jsxs("details",{className:"group mt-3",children:[l.jsxs("summary",{className:"text-accent hover:text-accent/80 flex cursor-pointer list-none items-center gap-1 text-sm font-medium",children:[l.jsx(na,{className:"h-4 w-4 transition-transform group-open:rotate-90"}),"Add server"]}),l.jsxs("div",{className:"border-border-medium bg-background-secondary mt-2 space-y-3 rounded-md border p-3",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"server-name",className:"text-muted mb-1 block text-xs",children:"Name"}),l.jsx("input",{id:"server-name",type:"text",placeholder:"e.g., memory",value:v.name,onChange:W=>k(K=>({...K,name:W.target.value})),className:"bg-modal-bg border-border-medium focus:border-accent w-full rounded border px-2 py-1.5 text-sm focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-muted mb-1 block text-xs",children:"Transport"}),l.jsxs(Ar,{value:v.transport,onValueChange:W=>k(K=>({...K,transport:W,value:"",headersRows:[]})),children:[l.jsx(Tr,{className:"border-border-medium bg-modal-bg h-8 w-full text-sm",children:l.jsx(Ir,{})}),l.jsxs(Er,{children:[n?.stdio!==!1&&l.jsx(Un,{value:"stdio",children:"Stdio"}),n?.remote!==!1&&l.jsxs(l.Fragment,{children:[l.jsx(Un,{value:"http",children:"HTTP (Streamable)"}),l.jsx(Un,{value:"sse",children:"SSE (Legacy)"}),l.jsx(Un,{value:"auto",children:"Auto (HTTP  SSE)"})]})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"server-value",className:"text-muted mb-1 block text-xs",children:v.transport==="stdio"?"Command":"URL"}),l.jsx("input",{id:"server-value",type:"text",placeholder:v.transport==="stdio"?"e.g., npx -y @modelcontextprotocol/server-memory":"e.g., http://localhost:3333/mcp",value:v.value,onChange:W=>k(K=>({...K,value:W.target.value})),spellCheck:!1,className:"bg-modal-bg border-border-medium focus:border-accent w-full rounded border px-2 py-1.5 font-mono text-sm focus:outline-none"})]}),v.transport!=="stdio"&&l.jsxs("div",{children:[l.jsx("label",{className:"text-muted mb-1 block text-xs",children:"HTTP headers (optional)"}),l.jsx(eA,{rows:v.headersRows,onChange:W=>k(K=>({...K,headersRows:W})),secretKeys:c,disabled:C||S})]}),N&&l.jsx("div",{className:ce("flex items-start gap-2 rounded-md px-3 py-2 text-sm",N.result.success?"bg-green-500/10 text-green-500":"bg-destructive/10 text-destructive"),children:N.result.success?l.jsxs(l.Fragment,{children:[l.jsx(Y_,{className:"mt-0.5 h-4 w-4 shrink-0"}),l.jsxs("div",{children:[l.jsxs("span",{className:"font-medium",children:["Connected  ",N.result.tools.length," tools"]}),N.result.tools.length>0&&l.jsx("p",{className:"mt-0.5 text-xs opacity-80",children:N.result.tools.join(", ")})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(Wd,{className:"mt-0.5 h-4 w-4 shrink-0"}),l.jsx("span",{children:N.result.error})]})}),N&&!N.result.success&&N.result.oauthChallenge&&l.jsx("div",{className:"mt-2",children:l.jsx(tA,{serverName:v.name.trim(),pendingServer:(()=>{const W=v.name.trim();if(!W||a[W]||v.transport==="stdio")return;const J=v.value.trim();if(J)return{transport:v.transport,url:J}})(),disabledReason:(()=>{const W=v.name.trim();if(!W)return"Enter a server name to enable OAuth login.";if((a[W]?.transport??v.transport)==="stdio")return"OAuth login is only supported for remote (http/sse) MCP servers."})(),onLoginSuccess:async()=>{w(W=>W+1),await O()}})}),l.jsxs("div",{className:"flex gap-2 pt-1",children:[l.jsxs(tt,{variant:"outline",size:"sm",onClick:()=>void O(),disabled:!V||S,children:[S?l.jsx(pn,{className:"h-3.5 w-3.5 animate-spin"}):l.jsx(_1,{className:"h-3.5 w-3.5"}),S?"Testing":"Test"]}),l.jsxs(tt,{size:"sm",onClick:()=>void G(),disabled:!q||C,children:[C?l.jsx(pn,{className:"h-3.5 w-3.5 animate-spin"}):l.jsx(uu,{className:"h-3.5 w-3.5"}),C?"Adding":"Add"]})]})]})]})]})]})]})},EZe=t=>{const e=ae.c(2);if(t.visible){let r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),l.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}),e[0]=r):r=e[0],r}let n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=l.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),l.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),e[1]=n):n=e[1],n};function tu(t){return typeof t=="object"&&t!==null&&"secret"in t&&typeof t.secret=="string"}function NZe(t,e){return typeof t=="string"&&typeof e=="string"?t===e:tu(t)&&tu(e)?t.secret===e.secret:!1}function $Ze(t){return typeof t=="string"?t.trim()!=="":tu(t)?t.secret.trim()!=="":!1}function AZe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){const r=t[n],a=e[n];if(!r||!a||r.key!==a.key||!NZe(r.value,a.value))return!1}return!0}const IZe=()=>{const{api:t}=Kt(),{projects:e}=Bm(),n=Array.from(e.keys()),[r,a]=b.useState("global"),[s,i]=b.useState(""),[o,c]=b.useState([]),[u,d]=b.useState([]),[m,h]=b.useState(()=>new Set),[p,f]=b.useState([]),[g,x]=b.useState(!1),[y,w]=b.useState(!1),[v,k]=b.useState(null),C=r==="global"?"Global":"Project";b.useEffect(()=>{r==="project"&&(s&&n.includes(s)||i(n[0]??""))},[n,r,s]);const _=r==="project"?s:void 0,S=!AZe(u,o),T=p.slice().sort((L,Y)=>L.localeCompare(Y,void 0,{sensitivity:"base"})),N=b.useCallback(async()=>{if(!t){c([]),d([]),h(new Set),k(null);return}if(r==="project"&&!_){c([]),d([]),h(new Set),k(null);return}x(!0),k(null);try{const L=await t.secrets.get(r==="project"?{projectPath:_}:{});c(L),d(L),h(new Set)}catch(L){const Y=L instanceof Error?L.message:"Failed to load secrets";c([]),d([]),h(new Set),k(Y)}finally{x(!1)}},[t,_,r]);b.useEffect(()=>{N()},[N]),b.useEffect(()=>{if(!t){f([]);return}let L=!1;return(async()=>{try{const Y=await t.secrets.get({});if(L)return;f(Y.map(O=>O.key))}catch(Y){if(L)return;console.error("Failed to load global secrets:",Y),f([])}})(),()=>{L=!0}},[t]);const j=b.useCallback(()=>{d(L=>[...L,{key:"",value:""}])},[]),R=b.useCallback(L=>{d(Y=>Y.filter((O,G)=>G!==L)),h(Y=>{const O=new Set;for(const G of Y)G!==L&&O.add(G>L?G-1:G);return O})},[]),I=b.useCallback((L,Y)=>{d(O=>{const G=[...O],H=G[L]??{key:"",value:""};return G[L]={...H,key:Y.toUpperCase()},G})},[]),A=b.useCallback((L,Y)=>{d(O=>{const G=[...O],H=G[L]??{key:"",value:""};return G[L]={...H,value:Y},G})},[]),$=b.useCallback((L,Y)=>{d(O=>{const G=[...O],H=G[L]??{key:"",value:""};if(Y==="literal")return G[L]={...H,value:typeof H.value=="string"?H.value:""},G;if(tu(H.value))return G;const D=p[0]??"";return G[L]={...H,value:{secret:D}},G})},[p]),E=b.useCallback(L=>{h(Y=>{const O=new Set(Y);return O.has(L)?O.delete(L):O.add(L),O})},[]),M=b.useCallback(()=>{d(o),h(new Set),k(null)},[o]),F=b.useCallback(async()=>{if(t){if(r==="project"&&!_){k("Select a project to save project secrets.");return}w(!0),k(null);try{const L=u.filter(O=>O.key.trim()!==""&&$Ze(O.value)),Y=await t.secrets.update(r==="project"?{projectPath:_,secrets:L}:{secrets:L});if(!Y.success){k(Y.error??"Failed to save secrets");return}c(L),d(L),r==="global"&&f(L.map(O=>O.key)),h(new Set)}catch(L){k(L instanceof Error?L.message:"Failed to save secrets")}finally{w(!1)}}},[t,_,r,u]);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-muted text-xs",children:["Secrets are stored in ",l.jsx("code",{className:"text-accent",children:"~/.mux/secrets.json"})," (kept out of source control)."]}),l.jsxs("p",{className:"text-muted mt-1 text-xs",children:["Scope: ",l.jsx("span",{className:"text-foreground",children:C})]})]}),l.jsxs(fu,{type:"single",value:r,onValueChange:L=>{L!=="global"&&L!=="project"||a(L)},size:"sm",className:"h-9",disabled:y,children:[l.jsx(As,{value:"global",size:"sm",className:"h-7 px-3 text-[13px]",children:"Global"}),l.jsx(As,{value:"project",size:"sm",className:"h-7 px-3 text-[13px]",children:"Project"})]})]}),r==="project"&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-foreground text-sm",children:"Project"}),l.jsx("div",{className:"text-muted text-xs",children:"Select a project to configure"})]}),l.jsxs(Ar,{value:s,onValueChange:i,children:[l.jsx(Tr,{className:"border-border-medium bg-background-secondary hover:bg-hover h-9 w-auto min-w-[160px] cursor-pointer rounded-md border px-3 text-sm transition-colors","aria-label":"Project",children:l.jsx(Ir,{placeholder:"Select project"})}),l.jsx(Er,{children:n.map(L=>l.jsx(Un,{value:L,children:L.split(/[\\/]/).pop()??L},L))})]})]}),v&&l.jsx("div",{className:"bg-destructive/10 text-destructive flex items-center gap-2 rounded-md px-3 py-2 text-sm",children:v}),g?l.jsxs("div",{className:"text-muted flex items-center gap-2 py-4 text-sm",children:[l.jsx(pn,{className:"h-4 w-4 animate-spin"}),"Loading secrets"]}):r==="project"&&!_?l.jsx("div",{className:"text-muted py-2 text-sm",children:"No projects configured. Add a project first to manage project secrets."}):u.length===0?l.jsx("div",{className:"text-muted border-border-medium rounded-md border border-dashed px-3 py-3 text-center text-xs",children:"No secrets configured"}):l.jsxs("div",{className:`[&>label]:text-muted grid ${r==="project"?"grid-cols-[1fr_auto_1fr_auto_auto]":"grid-cols-[1fr_1fr_auto_auto]"} items-end gap-1 [&>label]:mb-0.5 [&>label]:text-[11px]`,children:[l.jsx("label",{children:"Key"}),r==="project"&&l.jsx("label",{children:"Type"}),l.jsx("label",{children:"Value"}),l.jsx("div",{}),l.jsx("div",{}),u.map((L,Y)=>{const O=r==="project"&&tu(L.value),G=O?"global":"literal",H=tu(L.value)?L.value.secret:"",D=H&&!T.includes(H)?[H,...T]:T;return l.jsxs(xe.Fragment,{children:[l.jsx("input",{type:"text",value:L.key,onChange:U=>I(Y,U.target.value),placeholder:"SECRET_NAME","aria-label":"Secret key",disabled:y,spellCheck:!1,className:"bg-modal-bg border-border-medium focus:border-accent placeholder:text-dim text-foreground w-full rounded border px-2.5 py-1.5 font-mono text-[13px] focus:outline-none disabled:opacity-50"}),r==="project"&&l.jsxs(fu,{type:"single",value:G,onValueChange:U=>{U!=="literal"&&U!=="global"||$(Y,U)},size:"sm",className:"h-[34px]",disabled:y,children:[l.jsx(As,{value:"literal",size:"sm",className:"h-[26px] px-3 text-[13px]",children:"Value"}),l.jsx(As,{value:"global",size:"sm",className:"h-[26px] px-3 text-[13px]",disabled:D.length===0,children:"Global"})]}),O?l.jsxs(Ar,{value:H||void 0,onValueChange:U=>A(Y,{secret:U}),disabled:y,children:[l.jsx(Tr,{className:"border-border-medium bg-modal-bg hover:bg-hover h-[34px] w-full px-2.5 font-mono text-[13px]","aria-label":"Global secret key",children:l.jsx(Ir,{placeholder:"Select global secret"})}),l.jsx(Er,{children:D.map(U=>l.jsx(Un,{value:U,children:U},U))})]}):l.jsx("input",{type:m.has(Y)?"text":"password",value:typeof L.value=="string"?L.value:tu(L.value)?L.value.secret:"",onChange:U=>A(Y,U.target.value),placeholder:"secret value","aria-label":"Secret value",disabled:y,spellCheck:!1,className:"bg-modal-bg border-border-medium focus:border-accent placeholder:text-dim text-foreground w-full rounded border px-2.5 py-1.5 font-mono text-[13px] focus:outline-none disabled:opacity-50"}),O?l.jsx("div",{}):l.jsx("button",{type:"button",onClick:()=>E(Y),disabled:y,className:"text-muted hover:text-foreground flex cursor-pointer items-center justify-center self-center rounded-sm border-none bg-transparent px-1 py-0.5 text-base transition-all duration-200 disabled:cursor-not-allowed disabled:opacity-50","aria-label":m.has(Y)?"Hide secret":"Show secret",children:l.jsx(EZe,{visible:m.has(Y)})}),l.jsx("button",{type:"button",onClick:()=>R(Y),disabled:y,className:"text-danger-light border-danger-light hover:bg-danger-light/10 cursor-pointer rounded border bg-transparent px-2.5 py-1.5 text-[13px] transition-all duration-200 disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Remove secret",children:l.jsx(fa,{className:"h-4 w-4"})})]},Y)})]}),l.jsx("button",{onClick:j,disabled:y||r==="project"&&!_,className:"text-muted border-border-medium hover:bg-hover hover:border-border-darker hover:text-foreground w-full cursor-pointer rounded border border-dashed bg-transparent px-3 py-2 text-[13px] transition-all duration-200 disabled:cursor-not-allowed disabled:opacity-50",children:"+ Add Secret"}),l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx(tt,{variant:"secondary",type:"button",onClick:M,disabled:!S||y||g,children:"Reset"}),l.jsx(tt,{type:"button",onClick:()=>void F(),disabled:!S||y||g,children:y?"Saving...":"Save"})]})]})},uX=b.createContext(null);function dX(){const t=b.useContext(uX);if(!t)throw new Error("useUILayouts must be used within UILayoutsProvider");return t}function RZe(t){const e=ae.c(39),{api:n}=Kt(),[r,a]=b.useState(Op),[s,i]=b.useState(!1),[o,c]=b.useState(!1);let u;e[0]!==n?(u=async()=>{if(!n){a(Op),i(!0),c(!1);return}try{const $=await n.uiLayouts.getAll();a(__($)),i(!0),c(!1)}catch{a(Op),i(!0),c(!0)}},e[0]=n,e[1]=u):u=e[1];const d=u;let m;e[2]!==n||e[3]!==r?(m=async()=>{if(!n)return r;try{const $=await n.uiLayouts.getAll(),E=__($);return a(E),i(!0),c(!1),E}catch{return r}},e[2]=n,e[3]=r,e[4]=m):m=e[4];const h=m;let p;e[5]!==n?(p=async $=>{const E=Pm($);if(!n)throw new Error("ORPC client not initialized");await n.uiLayouts.saveAll({layoutPresets:E}),a(E)},e[5]=n,e[6]=p):p=e[6];const f=p;let g,x;e[7]!==d?(g=()=>{d()},x=[d],e[7]=d,e[8]=g,e[9]=x):(g=e[8],x=e[9]),b.useEffect(g,x);let y;e[10]!==n||e[11]!==r?(y=async($,E)=>{const M=cm(r,E);M&&await dYe(n??null,$,M)},e[10]=n,e[11]=r,e[12]=y):y=e[12];const w=y;let v;e[13]!==h||e[14]!==f?(v=async($,E,M)=>{mt(typeof $=="string"&&$.length>0,"workspaceId must be non-empty");const F=await h(),L=cm(F,E),Y=M?.trim(),O=Y&&Y.length>0?Y:L?.name??`Slot ${E}`,G=oYe($,O,L?.id);return await f(z$(F,E,G)),G},e[13]=h,e[14]=f,e[15]=v):v=e[15];const k=v;let C;e[16]!==h||e[17]!==f?(C=async($,E)=>{const M=E.trim();if(!M)return;const F=await h(),L=cm(F,$);L&&await f(z$(F,$,{...L,name:M}))},e[16]=h,e[17]=f,e[18]=C):C=e[18];const _=C;let S;e[19]!==h||e[20]!==f?(S=async $=>{const E=await h();await f(hYe(E,$))},e[19]=h,e[20]=f,e[21]=S):S=e[21];const T=S;let N;e[22]!==h||e[23]!==f?(N=async($,E)=>{const M=await h();await f(mYe(M,$,E))},e[22]=h,e[23]=f,e[24]=N):N=e[24];const j=N;let R;e[25]!==w||e[26]!==T||e[27]!==r||e[28]!==o||e[29]!==s||e[30]!==d||e[31]!==_||e[32]!==f||e[33]!==k||e[34]!==j?(R={layoutPresets:r,loaded:s,loadFailed:o,refresh:d,saveAll:f,applySlotToWorkspace:w,saveCurrentWorkspaceToSlot:k,renameSlot:_,deleteSlot:T,setSlotKeybindOverride:j},e[25]=w,e[26]=T,e[27]=r,e[28]=o,e[29]=s,e[30]=d,e[31]=_,e[32]=f,e[33]=k,e[34]=j,e[35]=R):R=e[35];const I=R;let A;return e[36]!==t.children||e[37]!==I?(A=l.jsx(uX.Provider,{value:I,children:t.children}),e[36]=t.children,e[37]=I,e[38]=A):A=e[38],A}function MZe(t){return t==="Shift"||t==="Control"||t==="Alt"||t==="Meta"}function DZe(t){if(!t.key||MZe(t.key))return null;const e=KA(),n=t.ctrlKey?!0:e?t.metaKey:!1,r=e?!1:t.metaKey;return{key:t.key,ctrl:n?!0:void 0,alt:t.altKey?!0:void 0,shift:t.shiftKey?!0:void 0,meta:r?!0:void 0}}function nA(t,e){if(t.key.toLowerCase()!==e.key.toLowerCase())return!1;for(const n of[!1,!0])for(const r of[!1,!0])for(const a of[!1,!0])for(const s of[!1,!0]){const i=new KeyboardEvent("keydown",{key:t.key,ctrlKey:n,altKey:r,shiftKey:a,metaKey:s});if(bn(i,t)&&bn(i,e))return!0}return!1}function LZe(t){if(![t.keybind.ctrl,t.keybind.alt,t.keybind.shift,t.keybind.meta].some(n=>n===!0))return"Keybind must include at least one modifier key.";for(const n of Object.values(st))if(nA(t.keybind,n))return`Conflicts with an existing mux shortcut (${Bt(n)}).`;for(const n of t.existing)if(n.slot!==t.slot&&nA(t.keybind,n.keybind))return`Conflicts with Slot ${n.slot} (${Bt(n.keybind)}).`;return null}function OZe(){const t=ae.c(55),{layoutPresets:e,loaded:n,loadFailed:r,applySlotToWorkspace:a,saveCurrentWorkspaceToSlot:s,renameSlot:i,deleteSlot:o,setSlotKeybindOverride:c}=dX(),{selectedWorkspace:u}=uc(),[d,m]=b.useState(null),[h,p]=b.useState(null),[f,g]=b.useState(null),[x,y]=b.useState(null),[w,v]=b.useState(null),k=u?.workspaceId??null;let C;t[0]!==u?(C=u?`${u.projectName}/${u.namedWorkspacePath.split("/").pop()??u.namedWorkspacePath}`:null,t[0]=u,t[1]=C):C=t[1];const _=C;let S;if(t[2]!==e){S=[];for(const re of[1,2,3,4,5,6,7,8,9]){const ue=cx(e,re);mt(ue,`Slot ${re} must have a default keybind`),S.push({slot:re,keybind:ue})}for(const re of e.slots)re.slot<=9||re.keybindOverride&&S.push({slot:re.slot,keybind:re.keybindOverride});t[2]=e,t[3]=S}else S=t[3];const T=S;let N;t[4]!==e.slots?(N=e.slots.filter(FZe).sort(PZe),t[4]=e.slots,t[5]=N):N=t[5];const j=N,R=new Set;for(const re of e.slots)re.preset&&R.add(re.slot);let I=1;for(;R.has(I);)I=I+1;const A=I;let $;t[6]!==i?($=async(re,ue)=>{const he=ue.trim();if(!he){g("Name cannot be empty.");return}try{await i(re,he),p(null),g(null)}catch{g("Failed to rename.")}},t[6]=i,t[7]=$):$=t[7];const E=$;let M;t[8]!==A||t[9]!==s||t[10]!==k?(M=async()=>{if(m(null),!k){m("Select a workspace to capture its layout.");return}try{const re=await s(k,A,`Layout ${A}`);p({slot:A,value:re.name,original:re.name}),g(null)}catch{m("Failed to add layout.")}},t[8]=A,t[9]=s,t[10]=k,t[11]=M):M=t[11];const F=M;let L;t[12]!==T||t[13]!==c?(L=(re,ue)=>{if(ue.key==="Escape"){ue.preventDefault(),es(ue),y(null),v(null);return}const he=DZe(ue.nativeEvent);if(!he)return;ue.preventDefault(),es(ue);const ke=LZe({slot:re,keybind:he,existing:T});if(ke){v(ke);return}c(re,he).catch(()=>{v("Failed to save keybind override.")}),y(null),v(null)},t[12]=T,t[13]=c,t[14]=L):L=t[14];const Y=L;let O,G,H;t[15]===Symbol.for("react.memo_cache_sentinel")?(O=l.jsx("h3",{className:"text-foreground text-sm font-medium",children:"Layout Slots"}),G=l.jsx("div",{className:"text-muted mt-1 text-xs",children:"Layouts are saved globally and can be applied to any workspace."}),H=l.jsx("div",{className:"text-muted mt-1 text-xs",children:"Slots 19 have default Ctrl/Cmd+Alt+1..9 hotkeys. Additional layouts can be added and assigned custom hotkeys."}),t[15]=O,t[16]=G,t[17]=H):(O=t[15],G=t[16],H=t[17]);let D;t[18]!==_?(D=_?null:l.jsx("div",{className:"text-muted mt-1 text-xs",children:"Select a workspace to capture or apply layouts."}),t[18]=_,t[19]=D):D=t[19];let U;t[20]!==D?(U=l.jsxs("div",{children:[O,G,H,D]}),t[20]=D,t[21]=U):U=t[21];let B;t[22]!==n?(B=n?null:l.jsx("div",{className:"text-muted text-sm",children:"Loading"}),t[22]=n,t[23]=B):B=t[23];let q;t[24]!==r?(q=r?l.jsx("div",{className:"text-muted text-sm",children:"Failed to load layouts from config. Using defaults."}):null,t[24]=r,t[25]=q):q=t[25];let V;t[26]!==d?(V=d?l.jsx("div",{className:"text-sm text-red-500",children:d}):null,t[26]=d,t[27]=V):V=t[27];let Z;t[28]!==a||t[29]!==w||t[30]!==x||t[31]!==o||t[32]!==h||t[33]!==Y||t[34]!==e||t[35]!==f||t[36]!==s||t[37]!==c||t[38]!==E||t[39]!==j||t[40]!==k?(Z=j.length>0?l.jsx("div",{className:"space-y-2",children:j.map(re=>{const ue=re.slot,he=re.preset,ke=cx(e,ue),je=h?.slot===ue,_e=x===ue,ge=[{label:"Apply",disabled:!k,tooltip:k?void 0:"Select a workspace to apply layouts.",onClick:()=>{m(null),k&&a(k,ue).catch(()=>{m("Failed to apply layout.")})}},{label:"Update from current workspace",disabled:!k,tooltip:k?void 0:"Select a workspace to capture its layout.",onClick:()=>{if(m(null),!k){m("Select a workspace to capture its layout.");return}s(k,ue).catch(()=>{m("Failed to update layout.")})}},{label:"Delete layout",onClick:()=>{confirm(`Delete layout "${he.name}"?`)&&(m(null),p(null),y(null),v(null),o(ue).catch(()=>{m("Failed to delete layout.")}))}}];return l.jsxs("div",{className:"border-border-medium bg-background-secondary flex flex-col gap-1 rounded border px-3 py-2",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[l.jsxs("div",{className:"text-muted shrink-0 text-xs",children:["Slot ",ue]}),l.jsx("div",{className:"min-w-0 flex-1",children:je?l.jsx("input",{className:"bg-input-bg text-input-text border-input-border focus:border-input-border-focus w-full min-w-0 rounded-sm border px-1 text-sm outline-none",value:h.value,onChange:ve=>p({...h,value:ve.target.value}),onKeyDown:ve=>{es(ve),ve.key==="Enter"?(ve.preventDefault(),E(ue,h.value)):ve.key==="Escape"&&(ve.preventDefault(),p(null),g(null))},onBlur:()=>void E(ue,h.value),autoFocus:!0,"aria-label":`Rename layout Slot ${ue}`}):l.jsxs(Ye,{disableHoverableContent:!0,children:[l.jsx(Xe,{asChild:!0,children:l.jsx("span",{className:"text-foreground block truncate text-sm font-medium",onDoubleClick:ve=>{ve.stopPropagation(),m(null),y(null),v(null),p({slot:ue,value:he.name,original:he.name}),g(null)},title:"Double-click to rename",children:he.name})}),l.jsx(Ke,{align:"start",children:"Double-click to rename"})]})})]}),l.jsxs("div",{className:"flex shrink-0 items-center gap-2",children:[_e?l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs("div",{className:"relative",children:[l.jsx("kbd",{className:"bg-background-secondary text-foreground border-border-medium rounded border px-2 py-0.5 font-mono text-xs",children:"Press keys"}),l.jsx("input",{className:"absolute inset-0 h-full w-full opacity-0",autoFocus:!0,onKeyDown:ve=>Y(ue,ve),"aria-label":`Set hotkey for Slot ${ue}`})]}),re.keybindOverride?l.jsxs(Ye,{disableHoverableContent:!0,children:[l.jsx(Xe,{asChild:!0,children:l.jsx(tt,{variant:"secondary",size:"icon",className:"h-6 w-6 [&_svg]:size-3",onClick:ve=>{ve.preventDefault(),ve.stopPropagation(),m(null),c(ue,void 0).then(()=>{y(null),v(null)}).catch(()=>{v("Failed to reset hotkey.")})},"aria-label":ue<=9?`Reset hotkey for Slot ${ue}`:`Clear hotkey for Slot ${ue}`,children:l.jsx(ir,{})})}),l.jsx(Ke,{align:"end",children:ue<=9?"Reset to default":"Clear hotkey"})]}):null]}):l.jsxs(Ye,{disableHoverableContent:!0,children:[l.jsx(Xe,{asChild:!0,children:l.jsx("kbd",{className:"bg-background-secondary text-foreground border-border-medium cursor-pointer rounded border px-2 py-0.5 font-mono text-xs",onDoubleClick:ve=>{ve.preventDefault(),ve.stopPropagation(),m(null),p(null),g(null),y(ue),v(null)},children:ke?Bt(ke):"No hotkey"})}),l.jsx(Ke,{align:"end",children:"Double-click to change hotkey"})]}),l.jsx(VS,{items:ge})]})]}),_e?l.jsxs("div",{className:"text-muted text-xs",children:["Press a key combo (Esc to cancel)",w?l.jsx("div",{className:"mt-1 text-red-500",children:w}):null]}):null,je&&f?l.jsx("div",{className:"text-xs text-red-500",children:f}):null]},ue)})}):null,t[28]=a,t[29]=w,t[30]=x,t[31]=o,t[32]=h,t[33]=Y,t[34]=e,t[35]=f,t[36]=s,t[37]=c,t[38]=E,t[39]=j,t[40]=k,t[41]=Z):Z=t[41];const W=!k;let K;t[42]!==F?(K=()=>void F(),t[42]=F,t[43]=K):K=t[43];let J;t[44]===Symbol.for("react.memo_cache_sentinel")?(J=l.jsx(uu,{}),t[44]=J):J=t[44];let ee;t[45]!==W||t[46]!==K?(ee=l.jsxs(tt,{variant:"secondary",size:"lg",className:"w-full",disabled:W,onClick:K,children:[J,"Add layout"]}),t[45]=W,t[46]=K,t[47]=ee):ee=t[47];let se;return t[48]!==B||t[49]!==q||t[50]!==V||t[51]!==Z||t[52]!==ee||t[53]!==U?(se=l.jsxs("div",{className:"space-y-6",children:[U,B,q,V,Z,ee]}),t[48]=B,t[49]=q,t[50]=V,t[51]=Z,t[52]=ee,t[53]=U,t[54]=se):se=t[54],se}function PZe(t,e){return t.slot-e.slot}function FZe(t){return t.preset!==void 0}function BZe(t){const e=ae.c(20),[n,r]=WQ(t.experimentId),a=GQ(t.experimentId),s=hy(),{onToggle:i,experimentId:o}=t;let c;e[0]!==o||e[1]!==i||e[2]!==a?.value||e[3]!==r||e[4]!==s?(c=x=>{r(x),s.experimentOverridden(o,a?.value??null,x),i?.(x)},e[0]=o,e[1]=i,e[2]=a?.value,e[3]=r,e[4]=s,e[5]=c):c=e[5],a?.value;const u=c;let d;e[6]!==t.name?(d=l.jsx("div",{className:"text-foreground text-sm font-medium",children:t.name}),e[6]=t.name,e[7]=d):d=e[7];let m;e[8]!==t.description?(m=l.jsx("div",{className:"text-muted mt-0.5 text-xs",children:t.description}),e[8]=t.description,e[9]=m):m=e[9];let h;e[10]!==d||e[11]!==m?(h=l.jsxs("div",{className:"flex-1 pr-4",children:[d,m]}),e[10]=d,e[11]=m,e[12]=h):h=e[12];const p=`Toggle ${t.name}`;let f;e[13]!==n||e[14]!==u||e[15]!==p?(f=l.jsx(li,{checked:n,onCheckedChange:u,"aria-label":p}),e[13]=n,e[14]=u,e[15]=p,e[16]=f):f=e[16];let g;return e[17]!==h||e[18]!==f?(g=l.jsxs("div",{className:"flex items-center justify-between py-3",children:[h,f]}),e[17]=h,e[18]=f,e[19]=g):g=e[19],g}function Ag(t){return t instanceof Error?t.message:String(t)}function zZe(){const t=w3(Uo.CONFIGURABLE_BIND_URL),{api:e}=Kt(),[n,r]=b.useState(null),[a,s]=b.useState("localhost"),[i,o]=b.useState(""),[c,u]=b.useState(!1),[d,m]=b.useState("random"),[h,p]=b.useState(""),[f,g]=b.useState(!1),[x,y]=b.useState(!1),[w,v]=b.useState(null),k=b.useRef(0),C=b.useCallback(E=>{const M=E.configuredBindHost;!M||M==="127.0.0.1"||M==="localhost"?(s("localhost"),o("")):M==="0.0.0.0"?(s("all"),o("")):(s("custom"),o(M)),u(E.configuredServeWebUi);const F=E.configuredPort;F?(m("fixed"),p(String(F))):(m("random"),p(""))},[]),_=b.useCallback(async()=>{if(!e)return;const E=k.current+1;k.current=E,g(!0),v(null);try{const M=await e.server.getApiServerStatus();if(k.current!==E)return;r(M),C(M)}catch(M){if(k.current!==E)return;v(Ag(M))}finally{k.current===E&&g(!1)}},[e,C]);b.useEffect(()=>{t&&_().catch(()=>{})},[t,_]);const S=b.useCallback(async()=>{if(!e)return;v(null);let E;if(a==="localhost")E=null;else if(a==="all")E="0.0.0.0";else{const F=i.trim();if(!F){v("Custom bind host is required.");return}E=F}let M;if(d==="random")M=null;else{const F=Number.parseInt(h,10);if(!Number.isFinite(F)||!Number.isInteger(F)){v("Port must be an integer.");return}if(F===0){v("Port 0 means random. Choose Random instead.");return}if(F<1||F>65535){v("Port must be between 1 and 65535.");return}M=F}y(!0);try{const F=await e.server.setApiServerSettings({bindHost:E,port:M,serveWebUi:c?!0:null});r(F),C(F)}catch(F){v(Ag(F))}finally{y(!1)}},[e,a,d,i,h,c,C]);if(!t)return null;if(!e)return l.jsx("div",{className:"bg-background-secondary px-4 py-3",children:l.jsx("div",{className:"text-muted text-xs",children:"Connect to mux to configure this setting."})});const T=n?.token?encodeURIComponent(n.token):null,N=n?.baseUrl?`${n.baseUrl}/`:null,j=n?.baseUrl&&T?`${n.baseUrl}/?token=${T}`:null,R=n?.networkBaseUrls.map(E=>`${E}/`)??[],I=T?n?.networkBaseUrls.map(E=>`${E}/?token=${T}`)??[]:[],A=n?.baseUrl?`${n.baseUrl}/api/docs`:null,$=n?.networkBaseUrls.map(E=>`${E}/api/docs`)??[];return l.jsxs("div",{className:"bg-background-secondary space-y-4 px-4 py-3",children:[l.jsx("div",{className:"text-warning text-xs",children:"Exposes muxs API server to your LAN/VPN. Devices on your local network can connect if they have the auth token. Traffic is unencrypted HTTP; enable only on trusted networks (Tailscale recommended)."}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-foreground text-sm",children:"Bind host"}),l.jsx("div",{className:"text-muted text-xs",children:"Where mux listens for HTTP + WS connections"})]}),l.jsxs(Ar,{value:a,onValueChange:E=>s(E),children:[l.jsx(Tr,{className:"border-border-medium bg-background-secondary hover:bg-hover h-9 w-64 cursor-pointer rounded-md border px-3 text-sm transition-colors",children:l.jsx(Ir,{})}),l.jsxs(Er,{children:[l.jsx(Un,{value:"localhost",children:"Localhost only (127.0.0.1)"}),l.jsx(Un,{value:"all",children:"All interfaces (0.0.0.0)"}),l.jsx(Un,{value:"custom",children:"Custom"})]})]})]}),a==="custom"&&l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-foreground text-sm",children:"Custom host"}),l.jsx("div",{className:"text-muted text-xs",children:"Example: 192.168.1.10 or 100.x.y.z"})]}),l.jsx(xr,{value:i,onChange:E=>o(E.target.value),placeholder:"e.g. 192.168.1.10",className:"border-border-medium bg-background-secondary h-9 w-64"})]}),l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-foreground text-sm",children:"Port"}),l.jsx("div",{className:"text-muted text-xs",children:"Use a fixed port to avoid changing URLs each time mux restarts"})]}),l.jsxs(Ar,{value:d,onValueChange:E=>m(E),children:[l.jsx(Tr,{className:"border-border-medium bg-background-secondary hover:bg-hover h-9 w-64 cursor-pointer rounded-md border px-3 text-sm transition-colors",children:l.jsx(Ir,{})}),l.jsxs(Er,{children:[l.jsx(Un,{value:"random",children:"Random (changes on restart)"}),l.jsx(Un,{value:"fixed",children:"Fixed"})]})]})]}),d==="fixed"&&l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-foreground text-sm",children:"Fixed port"}),l.jsx("div",{className:"text-muted text-xs",children:"165535"})]}),l.jsx(xr,{value:h,onChange:E=>p(E.target.value),placeholder:"e.g. 9999",className:"border-border-medium bg-background-secondary h-9 w-64"})]}),l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-foreground text-sm",children:"Serve mux web UI"}),l.jsx("div",{className:"text-muted text-xs",children:"Serve the mux web interface at / (browser mode)"})]}),l.jsx(li,{checked:c,onCheckedChange:E=>u(E),"aria-label":"Toggle serving mux web UI"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-muted text-xs",children:f?"Loading server status":n?.running?"Server is running":"Server is not running"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(tt,{variant:"outline",size:"sm",onClick:()=>{_().catch(E=>{v(Ag(E))})},disabled:f||x,children:"Refresh"}),l.jsx(tt,{variant:"default",size:"sm",onClick:()=>{S().catch(E=>{v(Ag(E))})},disabled:f||x,children:x?"Applying":"Apply"})]})]}),w&&l.jsx("div",{className:"text-error text-xs",children:w})]}),n&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"text-foreground text-sm font-medium",children:"Connection info"}),A&&l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-muted text-xs",children:"Local docs URL"}),l.jsx("div",{className:"font-mono text-xs break-all",children:A})]}),l.jsx(qc,{text:A})]}),$.length>0?l.jsx("div",{className:"space-y-2",children:$.map(E=>l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-muted text-xs",children:"Network docs URL"}),l.jsx("div",{className:"font-mono text-xs break-all",children:E})]}),l.jsx(qc,{text:E})]},E))}):l.jsx("div",{className:"text-muted text-xs",children:"No network URLs detected (bind host may still be localhost)."}),n.configuredServeWebUi?l.jsxs(l.Fragment,{children:[(j??N)&&l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-muted text-xs",children:"Local web UI URL"}),l.jsx("div",{className:"font-mono text-xs break-all",children:j??N})]}),l.jsx(qc,{text:j??N??""})]}),(T?I:R).length>0?l.jsx("div",{className:"space-y-2",children:(T?I:R).map(E=>l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-muted text-xs",children:"Network web UI URL"}),l.jsx("div",{className:"font-mono text-xs break-all",children:E})]}),l.jsx(qc,{text:E})]},E))}):l.jsx("div",{className:"text-muted text-xs",children:"No network URLs detected for the web UI (bind host may still be localhost)."})]}):l.jsx("div",{className:"text-muted text-xs",children:"Web UI serving is disabled (enable Serve mux web UI and Apply to access /)."}),n.token&&l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-muted text-xs",children:"Auth token"}),l.jsx("div",{className:"font-mono text-xs break-all",children:n.token})]}),l.jsx(qc,{text:n.token})]})]})]})}function HZe(){const t=ae.c(12);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=UQ(),t[0]=e):e=t[0];const n=e,{api:r}=Kt();let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=n.filter(UZe),t[1]=a):a=t[1];const s=a;let i;t[2]!==r?.server?(i=p=>{p||r?.server.setApiServerSettings({bindHost:null,port:null,serveWebUi:null}).catch(qZe)},t[2]=r?.server,t[3]=i):i=t[3];const o=i;let c;t[4]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx("p",{className:"text-muted mb-4 text-xs",children:"Experimental features that are still in development. Enable at your own risk."}),t[4]=c):c=t[4];let u;t[5]!==o?(u=s.map(p=>l.jsxs(xe.Fragment,{children:[l.jsx(BZe,{experimentId:p.id,name:p.name,description:p.description,onToggle:p.id===Uo.CONFIGURABLE_BIND_URL?o:void 0}),p.id===Uo.CONFIGURABLE_BIND_URL&&l.jsx(zZe,{})]},p.id)),t[5]=o,t[6]=u):u=t[6];let d;t[7]!==u?(d=l.jsx("div",{className:"divide-border-light divide-y",children:u}),t[7]=u,t[8]=d):d=t[8];let m;t[9]===Symbol.for("react.memo_cache_sentinel")?(m=s.length===0&&l.jsx("p",{className:"text-muted py-4 text-center text-sm",children:"No experiments available at this time."}),t[9]=m):m=t[9];let h;return t[10]!==d?(h=l.jsxs("div",{className:"space-y-2",children:[c,d,m]}),t[10]=d,t[11]=h):h=t[11],h}function qZe(){}function UZe(t){return t.showInSettings!==!1&&t.userOverridable===!0}const WZe={TOGGLE_AGENT:"Open agent picker",CYCLE_AGENT:"Cycle agent",SEND_MESSAGE:"Send message",NEW_LINE:"Insert newline",CANCEL:"Cancel / Close modal",CANCEL_EDIT:"Cancel editing message",SAVE_EDIT:"Save edit",INTERRUPT_STREAM_VIM:"Interrupt stream (Vim mode)",INTERRUPT_STREAM_NORMAL:"Interrupt stream",FOCUS_INPUT_I:"Focus input (i)",FOCUS_INPUT_A:"Focus input (a)",NEW_WORKSPACE:"New workspace",ARCHIVE_WORKSPACE:"Archive workspace",JUMP_TO_BOTTOM:"Jump to bottom",NEXT_WORKSPACE:"Next workspace",PREV_WORKSPACE:"Previous workspace",TOGGLE_SIDEBAR:"Toggle sidebar",CYCLE_MODEL:"Cycle model",OPEN_TERMINAL:"New terminal",OPEN_IN_EDITOR:"Open in editor",SHARE_TRANSCRIPT:"Share transcript",OPEN_COMMAND_PALETTE:"Command palette",TOGGLE_THINKING:"Toggle thinking",FOCUS_CHAT:"Focus chat input",CLOSE_TAB:"Close tab",SIDEBAR_TAB_1:"Tab 1",SIDEBAR_TAB_2:"Tab 2",SIDEBAR_TAB_3:"Tab 3",SIDEBAR_TAB_4:"Tab 4",SIDEBAR_TAB_5:"Tab 5",SIDEBAR_TAB_6:"Tab 6",SIDEBAR_TAB_7:"Tab 7",SIDEBAR_TAB_8:"Tab 8",SIDEBAR_TAB_9:"Tab 9",REFRESH_REVIEW:"Refresh diff",FOCUS_REVIEW_SEARCH:"Search in review",FOCUS_REVIEW_SEARCH_QUICK:"Search in review (quick)",TOGGLE_HUNK_READ:"Toggle hunk read",MARK_HUNK_READ:"Mark hunk read",MARK_HUNK_UNREAD:"Mark hunk unread",MARK_FILE_READ:"Mark file read",TOGGLE_HUNK_COLLAPSE:"Toggle hunk collapse",OPEN_SETTINGS:"Open settings",TOGGLE_VOICE_INPUT:"Toggle voice input",NAVIGATE_BACK:"Navigate back",NAVIGATE_FORWARD:"Navigate forward",TOGGLE_NOTIFICATIONS:"Toggle notifications",TOGGLE_POWER_MODE:""},GZe=[{label:"General",keys:["TOGGLE_AGENT","CYCLE_AGENT","OPEN_COMMAND_PALETTE","OPEN_SETTINGS","TOGGLE_SIDEBAR","CYCLE_MODEL","TOGGLE_THINKING","TOGGLE_NOTIFICATIONS","SHARE_TRANSCRIPT"]},{label:"Chat",keys:["SEND_MESSAGE","NEW_LINE","FOCUS_CHAT","FOCUS_INPUT_I","FOCUS_INPUT_A","CANCEL","INTERRUPT_STREAM_NORMAL","INTERRUPT_STREAM_VIM","TOGGLE_VOICE_INPUT"]},{label:"Editing",keys:["SAVE_EDIT","CANCEL_EDIT"]},{label:"Navigation",keys:["NEW_WORKSPACE","ARCHIVE_WORKSPACE","NEXT_WORKSPACE","PREV_WORKSPACE","NAVIGATE_BACK","NAVIGATE_FORWARD","JUMP_TO_BOTTOM"]},{label:"Sidebar Tabs",keys:["SIDEBAR_TAB_1","SIDEBAR_TAB_2","SIDEBAR_TAB_3","SIDEBAR_TAB_4","SIDEBAR_TAB_5","SIDEBAR_TAB_6","SIDEBAR_TAB_7","SIDEBAR_TAB_8","SIDEBAR_TAB_9","CLOSE_TAB"]},{label:"Code Review",keys:["REFRESH_REVIEW","FOCUS_REVIEW_SEARCH","FOCUS_REVIEW_SEARCH_QUICK","TOGGLE_HUNK_READ","MARK_HUNK_READ","MARK_HUNK_UNREAD","MARK_FILE_READ","TOGGLE_HUNK_COLLAPSE"]},{label:"External",keys:["OPEN_TERMINAL","OPEN_IN_EDITOR"]}];function VZe(){const t=ae.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsx("div",{className:"space-y-6",children:GZe.map(KZe)}),t[0]=e):e=t[0],e}function KZe(t){return l.jsxs("div",{children:[l.jsx("h3",{className:"text-foreground mb-3 text-sm font-medium",children:t.label}),l.jsx("div",{className:"space-y-1",children:t.keys.map(YZe)})]},t.label)}function YZe(t){return l.jsxs("div",{className:"flex items-center justify-between rounded px-2 py-1.5 text-sm",children:[l.jsx("span",{className:"text-muted",children:WZe[t]}),l.jsx("kbd",{className:"bg-background-secondary text-foreground border-border-medium rounded border px-2 py-0.5 font-mono text-xs",children:Bt(st[t])})]},t)}function XZe(){const{api:t}=Kt(),{activeThemeId:e,refetchTheme:n}=VQ(),[r,a]=b.useState([]),[s,i]=b.useState(!0),[o,c]=b.useState(!1),[u,d]=b.useState(null),[m,h]=b.useState(null),p=b.useRef(null),f=b.useCallback(async()=>{if(t){i(!0);try{const v=await t.iconTheme.getInstalledThemes();a(v)}catch(v){console.error("Failed to load themes:",v),d("Failed to load installed themes.")}finally{i(!1)}}},[t]);b.useEffect(()=>{f()},[f]),b.useEffect(()=>{if(!m)return;const v=setTimeout(()=>h(null),3e3);return()=>clearTimeout(v)},[m]);const g=b.useCallback(async v=>{if(t){d(null);try{await t.iconTheme.setActiveTheme({themeId:v}),await n(),h("Theme activated!"),await f()}catch{d("Failed to activate theme.")}}},[t,f,n]),x=b.useCallback(async(v,k)=>{if(!(!t||!confirm(`Delete icon theme "${k}"? This cannot be undone.`))){d(null);try{await t.iconTheme.deleteTheme({themeId:v}),h(`"${k}" deleted.`),await f()}catch{d("Failed to delete theme.")}}},[t,f]),y=b.useCallback(async v=>{if(t){c(!0),d(null);try{const k=await v.arrayBuffer(),C=new Uint8Array(k);let _="";for(let N=0;N<C.length;N++)_+=String.fromCharCode(C[N]);const S=btoa(_),T=await t.iconTheme.importVsix({vsixBase64:S});T.errors.length>0&&d(`Import warnings: ${T.errors.join(", ")}`),T.importedThemeIds.length>0?(h(`Imported ${T.importedThemeIds.length} theme(s): ${T.importedThemeIds.join(", ")}`),await t.iconTheme.setActiveTheme({themeId:T.importedThemeIds[0]}),await n(),await f()):T.errors.length===0&&d("No icon themes found in the .vsix file.")}catch(k){console.error("Import failed:",k),d("Failed to import .vsix file. Make sure it's a valid VS Code icon theme extension.")}finally{c(!1),p.current&&(p.current.value="")}}},[t,f,n]),w=b.useCallback(v=>{const k=v.target.files?.[0];k&&y(k)},[y]);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-foreground text-sm font-medium",children:"Icon Theme"}),l.jsx("div",{className:"text-muted mt-1 text-xs",children:"Choose which icon theme to use for file and folder icons. Import .vsix files from VS Code Marketplace extensions."})]}),u&&l.jsx("div",{className:"rounded border border-red-500/30 bg-red-500/10 px-3 py-2 text-xs text-red-400",children:u}),m&&l.jsx("div",{className:"rounded border border-green-500/30 bg-green-500/10 px-3 py-2 text-xs text-green-400",children:m}),s?l.jsx("div",{className:"text-muted text-sm",children:"Loading themes"}):l.jsxs("div",{className:"space-y-2",children:[l.jsx(rA,{id:P2,label:"MUP Default",description:"Built-in file icons",isActive:e===P2,isBuiltin:!0,onActivate:()=>void g(P2)}),r.filter(v=>!v.isBuiltin).map(v=>l.jsx(rA,{id:v.id,label:v.label,description:[v.publisher,v.version&&`v${v.version}`].filter(Boolean).join("  ")||void 0,isActive:e===v.id,isBuiltin:!1,onActivate:()=>void g(v.id),onDelete:()=>void x(v.id,v.label)},v.id))]}),l.jsxs("div",{children:[l.jsx("input",{ref:p,type:"file",accept:".vsix",className:"hidden",onChange:w}),l.jsxs(tt,{variant:"secondary",size:"lg",className:"w-full",disabled:o,onClick:()=>p.current?.click(),children:[l.jsx(a5,{className:"mr-2 h-4 w-4"}),o?"Importing":"Import .vsix Icon Theme"]})]})]})}function rA(t){const e=ae.c(31),{label:n,description:r,isActive:a,isBuiltin:s,onActivate:i,onDelete:o}=t,c=`border-border-medium bg-background-secondary flex items-center justify-between gap-3 rounded border px-3 py-2 ${a?"ring-accent/40 ring-1":""}`,u=`h-4 w-4 shrink-0 ${a?"text-accent":"text-muted"}`;let d;e[0]!==u?(d=l.jsx(t5,{className:u}),e[0]=u,e[1]=d):d=e[1];let m;e[2]!==n?(m=l.jsx("span",{className:"truncate",children:n}),e[2]=n,e[3]=m):m=e[3];let h;e[4]!==a?(h=a&&l.jsx("span",{className:"bg-accent/20 text-accent shrink-0 rounded px-1.5 py-0.5 text-[10px] font-semibold uppercase",children:"Active"}),e[4]=a,e[5]=h):h=e[5];let p;e[6]!==m||e[7]!==h?(p=l.jsxs("div",{className:"text-foreground flex items-center gap-2 text-sm font-medium",children:[m,h]}),e[6]=m,e[7]=h,e[8]=p):p=e[8];let f;e[9]!==r?(f=r&&l.jsx("div",{className:"text-muted truncate text-xs",children:r}),e[9]=r,e[10]=f):f=e[10];let g;e[11]!==p||e[12]!==f?(g=l.jsxs("div",{className:"min-w-0",children:[p,f]}),e[11]=p,e[12]=f,e[13]=g):g=e[13];let x;e[14]!==d||e[15]!==g?(x=l.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[d,g]}),e[14]=d,e[15]=g,e[16]=x):x=e[16];let y;e[17]!==a||e[18]!==i?(y=!a&&l.jsxs(tt,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:i,children:[l.jsx(Hn,{className:"mr-1 h-3 w-3"}),"Activate"]}),e[17]=a,e[18]=i,e[19]=y):y=e[19];let w;e[20]!==s||e[21]!==n||e[22]!==o?(w=!s&&o&&l.jsx(tt,{variant:"ghost",size:"icon",className:"h-7 w-7 text-muted hover:text-red-400",onClick:o,"aria-label":`Delete ${n}`,children:l.jsx(fa,{className:"h-3.5 w-3.5"})}),e[20]=s,e[21]=n,e[22]=o,e[23]=w):w=e[23];let v;e[24]!==y||e[25]!==w?(v=l.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[y,w]}),e[24]=y,e[25]=w,e[26]=v):v=e[26];let k;return e[27]!==c||e[28]!==v||e[29]!==x?(k=l.jsxs("div",{className:c,children:[x,v]}),e[27]=c,e[28]=v,e[29]=x,e[30]=k):k=e[30],k}const Ig=[{id:"general",label:"General",icon:l.jsx(Hm,{className:"h-4 w-4"}),component:TXe},{id:"appearance",label:"Appearance",icon:l.jsx(t5,{className:"h-4 w-4"}),component:XZe},{id:"tasks",label:"Agents",icon:l.jsx(x1,{className:"h-4 w-4"}),component:AXe},{id:"providers",label:"Providers",icon:l.jsx(Oee,{className:"h-4 w-4"}),component:XXe},{id:"models",label:"Models",icon:l.jsx(J_,{className:"h-4 w-4"}),component:lZe},{id:"mcp",label:"MCP",icon:l.jsx(Bl,{className:"h-4 w-4"}),component:TZe},{id:"secrets",label:"Secrets",icon:l.jsx(oI,{className:"h-4 w-4"}),component:IZe},{id:"layouts",label:"Layouts",icon:l.jsx(ate,{className:"h-4 w-4"}),component:OZe},{id:"experiments",label:"Experiments",icon:l.jsx(gee,{className:"h-4 w-4"}),component:HZe},{id:"keybinds",label:"Keybinds",icon:l.jsx(Fee,{className:"h-4 w-4"}),component:VZe}];function ZZe(){const t=ae.c(73),{isOpen:e,close:n,activeSection:r,setActiveSection:a}=as(),s=w3(Uo.SYSTEM_1),i=w3(Uo.MUX_GOVERNOR);let o,c;t[0]!==r||t[1]!==i||t[2]!==a||t[3]!==s?(o=()=>{!s&&r==="system1"&&a(Ig[0]?.id??"general"),!i&&r==="governor"&&a(Ig[0]?.id??"general")},c=[r,a,s,i],t[0]=r,t[1]=i,t[2]=a,t[3]=s,t[4]=o,t[5]=c):(o=t[4],c=t[5]),xe.useEffect(o,c);let u,d,m,h,p,f,g,x,y,w,v,k,C,_,S;if(t[6]!==r||t[7]!==n||t[8]!==i||t[9]!==e||t[10]!==a||t[11]!==s){let L=Ig;if(s){let H;t[27]===Symbol.for("react.memo_cache_sentinel")?(H=l.jsx(vJ,{className:"h-4 w-4"}),t[27]=H):H=t[27],L=[...Ig,{id:"system1",label:"System 1",icon:H,component:fZe}]}if(i){let H;t[28]===Symbol.for("react.memo_cache_sentinel")?(H=l.jsx(qm,{className:"h-4 w-4"}),t[28]=H):H=t[28],L=[...L,{id:"governor",label:"Governor",icon:H,component:yZe}]}h=L.find(H=>H.id===r)??L[0],u=h.component,m=sa,f=e,t[29]!==n?(g=H=>!H&&n(),t[29]=n,t[30]=g):g=t[30],d=ia,k=!1,C="800px",_=void 0,S="flex h-[80vh] max-h-[600px] flex-col gap-0 overflow-hidden p-0 md:h-[70vh] md:flex-row",t[31]===Symbol.for("react.memo_cache_sentinel")?(p=l.jsx(yA,{children:l.jsx(oa,{children:"Settings"})}),t[31]=p):p=t[31],w="border-border-medium flex shrink-0 flex-col border-b md:w-48 md:border-r md:border-b-0";let Y;t[32]===Symbol.for("react.memo_cache_sentinel")?(Y=l.jsx("span",{className:"text-foreground text-sm font-semibold",children:"Settings"}),t[32]=Y):Y=t[32];let O;t[33]===Symbol.for("react.memo_cache_sentinel")?(O=l.jsx(ir,{className:"h-4 w-4"}),t[33]=O):O=t[33],t[34]!==n?(v=l.jsxs("div",{className:"border-border-medium flex h-12 items-center justify-between border-b px-4 md:justify-start",children:[Y,l.jsx(tt,{variant:"ghost",size:"icon",onClick:n,className:"h-6 w-6 md:hidden","aria-label":"Close settings",children:O})]}),t[34]=n,t[35]=v):v=t[35],x="flex gap-1 overflow-x-auto p-2 md:flex-1 md:flex-col md:overflow-y-auto";let G;t[36]!==r||t[37]!==a?(G=H=>l.jsxs(tt,{variant:"ghost",onClick:()=>a(H.id),className:`flex h-auto shrink-0 items-center justify-start gap-2 rounded-md px-3 py-2 text-left text-sm whitespace-nowrap md:w-full ${r===H.id?"bg-accent/20 text-accent hover:bg-accent/20 hover:text-accent":"text-muted hover:bg-hover hover:text-foreground"}`,children:[H.icon,H.label]},H.id),t[36]=r,t[37]=a,t[38]=G):G=t[38],y=L.map(G),t[6]=r,t[7]=n,t[8]=i,t[9]=e,t[10]=a,t[11]=s,t[12]=u,t[13]=d,t[14]=m,t[15]=h,t[16]=p,t[17]=f,t[18]=g,t[19]=x,t[20]=y,t[21]=w,t[22]=v,t[23]=k,t[24]=C,t[25]=_,t[26]=S}else u=t[12],d=t[13],m=t[14],h=t[15],p=t[16],f=t[17],g=t[18],x=t[19],y=t[20],w=t[21],v=t[22],k=t[23],C=t[24],_=t[25],S=t[26];let T;t[39]!==x||t[40]!==y?(T=l.jsx("nav",{className:x,children:y}),t[39]=x,t[40]=y,t[41]=T):T=t[41];let N;t[42]!==T||t[43]!==w||t[44]!==v?(N=l.jsxs("div",{className:w,children:[v,T]}),t[42]=T,t[43]=w,t[44]=v,t[45]=N):N=t[45];let j;t[46]!==h.label?(j=l.jsx("span",{className:"text-foreground text-sm font-medium",children:h.label}),t[46]=h.label,t[47]=j):j=t[47];let R;t[48]===Symbol.for("react.memo_cache_sentinel")?(R=l.jsx(ir,{className:"h-4 w-4"}),t[48]=R):R=t[48];let I;t[49]!==n?(I=l.jsx(tt,{variant:"ghost",size:"icon",onClick:n,className:"h-6 w-6","aria-label":"Close settings",children:R}),t[49]=n,t[50]=I):I=t[50];let A;t[51]!==j||t[52]!==I?(A=l.jsxs("div",{className:"border-border-medium hidden h-12 items-center justify-between border-b px-6 md:flex",children:[j,I]}),t[51]=j,t[52]=I,t[53]=A):A=t[53];let $;t[54]!==u?($=l.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:l.jsx(u,{})}),t[54]=u,t[55]=$):$=t[55];let E;t[56]!==A||t[57]!==$?(E=l.jsxs("div",{className:"flex min-h-0 flex-1 flex-col overflow-hidden",children:[A,$]}),t[56]=A,t[57]=$,t[58]=E):E=t[58];let M;t[59]!==d||t[60]!==p||t[61]!==N||t[62]!==E||t[63]!==k||t[64]!==C||t[65]!==_||t[66]!==S?(M=l.jsxs(d,{showCloseButton:k,maxWidth:C,"aria-describedby":_,className:S,children:[p,N,E]}),t[59]=d,t[60]=p,t[61]=N,t[62]=E,t[63]=k,t[64]=C,t[65]=_,t[66]=S,t[67]=M):M=t[67];let F;return t[68]!==m||t[69]!==f||t[70]!==g||t[71]!==M?(F=l.jsx(m,{open:f,onOpenChange:g,children:M}),t[68]=m,t[69]=f,t[70]=g,t[71]=M,t[72]=F):F=t[72],F}function QZe(){const t=new URLSearchParams(window.location.search).get("token")?.trim();return t?.length?t:kx()}function JZe(){const[t,e]=b.useState(!1),[n,r]=b.useState(null),[a,s]=b.useState(!1);b.useEffect(()=>{if(typeof window>"u")return;const c=()=>{r(null),s(!1),e(!0)};return window.addEventListener(Rn.MUX_GATEWAY_SESSION_EXPIRED,c),()=>{window.removeEventListener(Rn.MUX_GATEWAY_SESSION_EXPIRED,c)}},[]);const i=()=>{e(!1),r(null),s(!1)},o=async()=>{if(!a){s(!0),r(null);try{if(!!window.api){const f=window.__ORPC_CLIENT__;if(!f)throw new Error("Mux API not connected.");const g=await f.muxGatewayOauth.startDesktopFlow();if(!g.success)throw new Error(g.error);window.open(g.data.authorizeUrl,"_blank","noopener"),i();return}const u=window.open("about:blank","_blank");if(!u)throw new Error("Popup blocked - please allow popups and try again.");const d=vx(),m=new URL(`${d}/auth/mux-gateway/start`),h=QZe();let p;try{const f=await fetch(m,{headers:h?{Authorization:`Bearer ${h}`}:void 0}),g=f.headers.get("content-type")??"";if(!g.includes("application/json")){const y=(await f.text()).trim().slice(0,80);throw new Error(`Unexpected response from ${m.toString()} (expected JSON, got ${g||"unknown"}): ${y}`)}if(p=await f.json(),!f.ok){const x=typeof p.error=="string"?p.error:`HTTP ${f.status}`;throw new Error(x)}}catch(f){throw u.close(),f}if(typeof p.authorizeUrl!="string")throw u.close(),new Error(`Invalid response from ${m.pathname}`);u.location.href=p.authorizeUrl,i()}catch(c){const u=c instanceof Error?c.message:String(c);s(!1),r(u)}}};return t?l.jsxs(RY,{title:"Mux Gateway session expired",onDismiss:i,dismissOnPrimaryAction:!1,primaryAction:{label:a?"Starting login...":"Login to mux gateway",disabled:a,onClick:()=>{o()}},dismissLabel:"Cancel",children:[l.jsx("p",{className:"text-muted text-sm",children:EA}),n&&l.jsxs("p",{className:"mt-3 text-sm",children:[l.jsx("strong",{className:"text-destructive",children:"Login failed:"})," ",n]})]}):null}function aA(t){const e=t.isInitializing===!0?"initializing":"",n=t.isRemoving===!0?"removing":"";return[t.id,t.name,t.title??"",e,n,t.parentWorkspaceId??"",t.agentType??"",t.sectionId??""].join("|")}const eQe="windowsToolchainBannerDismissedAt",tQe=720*60*60*1e3;function nQe(){const[t,e]=Tt(eQe,null),[n,r]=b.useState(()=>window.api?.platform&&window.api.platform!=="win32"?!1:window.api?.isWindowsWslShell===!0?!0:window.api?.isWindowsWslShell===!1?!1:null);b.useEffect(()=>{if(n!==null)return;let i=!1;return(async()=>{try{const o=await window.api?.getIsWindowsWslShell?.();i||r(o===!0)}catch{i||r(!1)}})(),()=>{i=!0}},[n]);const a=Date.now(),s=t!==null&&a<t+tQe;return n!==!0||s?null:l.jsxs("div",{className:"bg-warning/10 border-warning/30 text-warning flex items-center justify-between gap-3 border-b px-4 py-2 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Mr,{className:"text-warning size-4 shrink-0"}),l.jsxs("span",{children:["Your default shell appears to be WSL. Mux requires Git for Windows (Git Bash) on Windows for reliable git + path handling.",l.jsx("a",{href:"https://mux.coder.com/install#windows",target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:"Install Git for Windows"})," ","and restart Mux."]})]}),l.jsx("button",{type:"button",onClick:()=>e(a),className:"hover:text-warning/80 shrink-0 p-1 transition-colors","aria-label":"Dismiss Windows toolchain warning",children:l.jsx(ir,{className:"size-4"})})]})}const rQe="rosettaBannerDismissedAt",aQe=720*60*60*1e3,sQe=()=>{const[t,e]=Tt(rQe,null),[n,r]=b.useState(()=>window.api?.isRosetta===!0?!0:window.api?.isRosetta===!1?!1:null);b.useEffect(()=>{if(n!==null)return;let s=!1;return(async()=>{try{const o=await window.api?.getIsRosetta?.();if(s)return;r(o===!0)}catch{if(s)return;r(!1)}})(),()=>{s=!0}},[n]);const a=t!==null&&Date.now()-t<aQe;return n!==!0||a?null:l.jsxs("div",{className:ce("bg-warning/10 border-warning/30 text-warning flex items-center justify-between gap-3 border-b px-4 py-2 text-sm"),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Mr,{className:"text-warning size-4 shrink-0"}),l.jsxs("span",{children:["Mux is running under Rosetta. For better performance,"," ",l.jsx("a",{href:"https://mux.coder.com/install#downloads",target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:"download the native Apple Silicon version"}),"."]})]}),l.jsx("button",{type:"button",onClick:()=>e(Date.now()),className:"hover:text-warning/80 shrink-0 p-1 transition-colors","aria-label":"Dismiss Rosetta warning",children:l.jsx(ir,{className:"size-4"})})]})};function iQe(){const{workspaceMetadata:t,loading:e,setWorkspaceMetadata:n,removeWorkspace:r,renameWorkspace:a,selectedWorkspace:s,setSelectedWorkspace:i,pendingNewWorkspaceProject:o,pendingNewWorkspaceSectionId:c,pendingNewWorkspaceDraftId:u,beginWorkspaceCreation:d}=uc(),{currentWorkspaceId:m}=H_(),{theme:h,setTheme:p,toggleTheme:f}=Lu(),{open:g,isOpen:x}=as(),y=b.useCallback(be=>{p(be)},[p]),{layoutPresets:w,applySlotToWorkspace:v,saveCurrentWorkspaceToSlot:k}=dX(),{api:C,status:_,error:S,authenticate:T}=Kt(),{projects:N,refreshProjects:j,removeProject:R,openProjectCreateModal:I,isProjectCreateModalOpen:A,closeProjectCreateModal:$,addProject:E}=Bm(),M=typeof window<"u"&&window.innerWidth<=768,[F,L]=Tt(P_,M,{listener:!0}),Y=fL({enabled:!0,defaultWidth:288,minWidth:200,maxWidth:600,getMaxWidthPx:()=>typeof window<"u"&&window.matchMedia("(max-width: 768px) and (pointer: coarse)").matches?Number.POSITIVE_INFINITY:(typeof window<"u"?window.innerWidth:1200)-384,storageKey:F_,side:"left"});b.useEffect(()=>{document.documentElement.dataset.leftSidebarCollapsed=String(F)},[F]);const O=sX(N),G=!s&&!m?o??O:null,H=YQ(),D=eXe({projects:N,beginWorkspaceCreation:d}),U=b.useCallback(()=>{L(be=>!be)},[L]),B=hy(),q=Du(),{statsTabState:V}=uC();b.useEffect(()=>{q.setStatsEnabled(!!V?.enabled)},[q,V?.enabled]);const Z=b.useRef(null),W=b.useRef(s);W.current=s,b.useEffect(()=>{const be=Z.current;be&&s&&be.workspaceId!==s.workspaceId&&B.workspaceSwitched(be.workspaceId,s.workspaceId),Z.current=s},[s,B]),gYe(s);const K=b.useRef(t);b.useEffect(()=>{K.current=t},[t]),fYe(),b.useEffect(()=>{if(s){const be=t.get(s.workspaceId),He=`${be?.title??be?.name??s.workspaceId} - ${s.projectName} - mux`;document.title=He,C?.window.setTitle({title:He})}else document.title="mux",C?.window.setTitle({title:"mux"})},[s,t,C]),b.useEffect(()=>{if(s){const be=t.get(s.workspaceId);be?!s.namedWorkspacePath&&be.namedWorkspacePath&&(console.log(`Updating workspace ${s.workspaceId} with missing fields`),i(vd(be))):(console.warn(`Workspace ${s.workspaceId} no longer exists, clearing selection`),i(null))}},[s,t,i]);const J=cC(),ee=b.useCallback(async be=>(s?.projectPath===be&&i(null),R(be)),[s,i]),se=XQ(),re=yYe(()=>xae(N,t,se),(be,We)=>xYe(be,We,(He,Je)=>He.length!==Je.length?!1:He.every((ye,Ze)=>{const qe=Je[Ze];return qe&&aA(ye)===aA(qe)})),[N,t,se]),ue=t.get(qo)?.projectPath??null,he=b.useCallback(be=>{const We=document.querySelectorAll("[data-workspace-id][data-workspace-path]"),He=Array.from(We).map(qe=>qe.getAttribute("data-workspace-id"));if(He.length===0)return;const Je=s?He.indexOf(s.workspaceId):-1;let ye;Je===-1?ye=be==="next"?0:He.length-1:be==="next"?ye=(Je+1)%He.length:ye=Je===0?He.length-1:Je-1;const Ze=t.get(He[ye]);Ze&&i(vd(Ze))},[s,t,i]),{registerSource:ke,isOpen:je,open:_e,close:ge}=YY(),ve=b.useCallback(be=>{const We=zm(),He=_n(gs(be),We);return Vl(He||We)},[]),De=b.useCallback(be=>{if(!be)return"off";const We=lu(be),He=_n(We,void 0);if(He!==void 0)return ru.includes(He)?He:"off";const Je=ve(be),ye=_n(fA(Je),void 0);return ye!==void 0&&ru.includes(ye)?(rn(We,ye),ye):"off"},[ve]),$e=b.useCallback((be,We)=>{if(!be)return;const He=ru.includes(We)?We:"off",Je=ve(be),ye=lu(be);rn(ye,He);const Ze=_n(tl(be),"exec").trim().toLowerCase()||"exec";rn(Nf(be),qe=>({...qe&&typeof qe=="object"?qe:{},[Ze]:{model:Je,thinkingLevel:He}}),{}),C&&(q_(be,Ze,{model:Je,thinkingLevel:He}),C.workspace.updateAgentAISettings({workspaceId:be,agentId:Ze,aiSettings:{model:Je,thinkingLevel:He}}).then(qe=>{qe.success||hm(be,Ze)}).catch(()=>{hm(be,Ze)})),typeof window<"u"&&window.dispatchEvent(new CustomEvent(Rn.THINKING_LEVEL_TOAST,{detail:{workspaceId:be,level:He}}))},[C,ve]),Qe=b.useRef(null),Be=b.useCallback(be=>{D(be)},[D]),ie=b.useCallback(async be=>{const We=be.trim();if(We){if(!C){typeof window<"u"&&window.alert("Cannot archive merged workspaces: API not connected");return}try{const He=await C.workspace.archiveMergedInProject({projectPath:We});if(!He.success){typeof window<"u"&&window.alert(He.error);return}const Je=He.data.errors.length;if(Je>0){const ye=He.data.archivedWorkspaceIds.length,Ze=He.data.skippedWorkspaceIds.length,qe=5,ft=He.data.errors.slice(0,qe).map(dt=>`- ${dt.workspaceId}: ${dt.error}`).join(`
`),Et=Math.max(0,Je-qe),At=Et>0?`
 and ${Et} more.`:"";typeof window<"u"&&window.alert(`Archived merged workspaces with some errors.

Archived: ${ye}
Skipped: ${Ze}
Errors: ${Je}

Errors:
${ft}${At}`)}}catch(He){const Je=He instanceof Error?He.message:String(He);typeof window<"u"&&window.alert(Je)}}},[C]),Te=b.useCallback(async be=>{if(!C)return{branches:[],recommendedTrunk:null};const We=await C.projects.listBranches({projectPath:be}),He=We.branches.filter(ye=>typeof ye=="string"),Je=We.recommendedTrunk&&He.includes(We.recommendedTrunk)?We.recommendedTrunk:He[0]??null;return{branches:He,recommendedTrunk:Je}},[C]),Ne=b.useCallback(be=>{i(be)},[i]),Re=b.useCallback(async be=>r(be),[r]),Le=b.useCallback(async(be,We)=>a(be,We),[a]),Ae=b.useCallback(()=>{I()},[I]),bt=b.useCallback(be=>{ee(be)},[ee]),nt=b.useCallback(()=>{L(be=>!be)},[L]),ct=b.useCallback(be=>{he(be)},[he]);Qe.current={projects:N,workspaceMetadata:t,selectedWorkspace:s,theme:h,getThinkingLevel:De,onSetThinkingLevel:$e,onStartWorkspaceCreation:Be,onArchiveMergedWorkspacesInProject:ie,getBranchesForProject:Te,onSelectWorkspace:Ne,onRemoveWorkspace:Re,onRenameWorkspace:Le,onAddProject:Ae,onRemoveProject:bt,onToggleSidebar:nt,onNavigateWorkspace:ct,onOpenWorkspaceInTerminal:(be,We)=>{J(be,We).catch(()=>{})},onToggleTheme:f,onSetTheme:y,onOpenSettings:g,layoutPresets:w,onApplyLayoutSlot:(be,We)=>{v(be,We).catch(()=>{})},onCaptureLayoutSlot:async(be,We,He)=>{try{await k(be,We,He)}catch{}},onClearTimingStats:be=>q.clearTimingStats(be),api:C},b.useEffect(()=>ke(()=>{const We=Qe.current;if(!We)return[];const He=q.getAllStates(),Je=We.selectedWorkspace?He.get(We.selectedWorkspace.workspaceId)??null:null,ye=new Map;for(const[ft,Et]of He)Et.canInterrupt&&Et.currentModel&&ye.set(ft,Et.currentModel);const Ze=ZYe({...We,streamingModels:ye,selectedWorkspaceState:Je}),qe=[];for(const ft of Ze)qe.push(...ft());return qe}),[ke,q]),b.useEffect(()=>{const be=We=>{bn(We,st.NEXT_WORKSPACE)?(We.preventDefault(),he("next")):bn(We,st.PREV_WORKSPACE)?(We.preventDefault(),he("prev")):bn(We,st.OPEN_COMMAND_PALETTE)?(We.preventDefault(),je?ge():_e()):bn(We,st.TOGGLE_SIDEBAR)?(We.preventDefault(),L(He=>!He)):bn(We,st.OPEN_SETTINGS)?(We.preventDefault(),g()):bn(We,st.NAVIGATE_BACK)?(We.preventDefault(),H(-1)):bn(We,st.NAVIGATE_FORWARD)&&(We.preventDefault(),H(1))};return window.addEventListener("keydown",be),()=>window.removeEventListener("keydown",be)},[he,L,je,ge,_e,G,g,H]);const pt=b.useCallback(be=>{be.button===3?(be.preventDefault(),H(-1)):be.button===4&&(be.preventDefault(),H(1))},[H]);return b.useEffect(()=>{const be=We=>{pYe(We,{isCommandPaletteOpen:je,isSettingsOpen:x,selectedWorkspaceId:s?.workspaceId??null,layoutPresets:w,applySlotToWorkspace:v})};return window.addEventListener("keydown",be,{capture:!0}),()=>window.removeEventListener("keydown",be,{capture:!0})},[je,x,s,w,v]),b.useEffect(()=>{if(!C)return;const be=new AbortController,We=be.signal;return(async()=>{try{const He=await C.menu.onOpenSettings(void 0,{signal:We});for await(const Je of He){if(We.aborted)break;g()}}catch{}})(),()=>be.abort()},[C,g]),b.useEffect(()=>{const be=We=>{if(!ZQ(We))return;const He=We.detail;N.get(He.projectPath)||(console.warn(`[Frontend] Project not found for forked workspace path: ${He.projectPath} (will refresh)`),j()),He.createdAt||(console.warn(`[Frontend] Workspace ${He.id} missing createdAt in fork switch - using default (2025-01-01)`),He.createdAt="2025-01-01T00:00:00.000Z"),n(ye=>{const Ze=new Map(ye);return Ze.set(He.id,He),Ze}),i(vd(He))};return window.addEventListener(Rn.WORKSPACE_FORK_SWITCH,be),()=>window.removeEventListener(Rn.WORKSPACE_FORK_SWITCH,be)},[N,j,i,n]),b.useEffect(()=>{const be=Je=>{const ye=K.current.get(Je);ye&&i(vd(ye))};q.setNavigateToWorkspace(be);const We=(Je,ye,Ze,qe,ft)=>{if(!Ze||ft?.hasContinueMessage||document.hasFocus()&&W.current?.workspaceId===Je||!_n(D_(Je),!1))return;const dt=K.current.get(Je),Mt=dt?.title??dt?.name??"Response complete",Gt=ft?"Compaction complete":qe?qe.length>200?`${qe.slice(0,197)}`:qe:"Response complete";if("Notification"in window){const tn=()=>{const It=new Notification(Mt,{body:Gt});It.onclick=()=>{window.focus(),be(Je)}};Notification.permission==="granted"?tn():Notification.permission!=="denied"&&Notification.requestPermission().then(It=>{It==="granted"&&tn()})}};q.setOnResponseComplete(We);const He=window.api?.onNotificationClicked?.(Je=>{q.navigateToWorkspace(Je.workspaceId)});return()=>{He?.()}},[i,q]),_==="auth_required"?l.jsx(jZ,{isOpen:!0,onSubmit:T,error:S}):l.jsx(l.Fragment,{children:l.jsxs("div",{className:"bg-bg-dark mobile-layout flex h-full overflow-hidden pt-[env(safe-area-inset-top)] pr-[env(safe-area-inset-right)] pb-[min(env(safe-area-inset-bottom,0px),40px)] pl-[env(safe-area-inset-left)]",onMouseUp:pt,children:[l.jsx(Qme,{collapsed:F,onToggleCollapsed:U,widthPx:Y.width,isResizing:Y.isResizing,onStartResize:Y.startResize,sortedWorkspacesByProject:re,workspaceRecency:se,muxChatProjectPath:ue}),l.jsxs("div",{className:"mobile-main-content flex min-w-0 flex-1 flex-col overflow-hidden",children:[l.jsx(nQe,{}),l.jsx(sQe,{}),l.jsx("div",{className:"mobile-layout flex flex-1 overflow-hidden",children:s?(()=>{const be=t.get(s.workspaceId);if(!be)return null;const We=be.name??s.namedWorkspacePath?.split("/").pop()??s.workspaceId,He=be.namedWorkspacePath??s.namedWorkspacePath??"";return l.jsx(lk,{workspaceInfo:`${s.projectName}/${We}`,children:l.jsx(HKe,{workspaceId:s.workspaceId,projectPath:s.projectPath,projectName:s.projectName,leftSidebarCollapsed:F,onToggleLeftSidebarCollapsed:U,workspaceName:We,namedWorkspacePath:He,runtimeConfig:be.runtimeConfig,incompatibleRuntime:be.incompatibleRuntime,isInitializing:be.isInitializing===!0})})})():G?(()=>{const be=G,We=be.split("/").pop()??be.split("\\").pop()??"Project";return l.jsx(_Xe,{projectPath:be,projectName:We,leftSidebarCollapsed:F,onToggleLeftSidebarCollapsed:U,pendingSectionId:c,pendingDraftId:u,onWorkspaceCreated:(He,Je)=>{q.addWorkspace(He),n(ye=>new Map(ye).set(He.id,He)),Je?.autoNavigate!==!1&&i(ye=>ye!==null?ye:vd(He)),B.workspaceCreated(He.id,WA(He.runtimeConfig))}})})():l.jsxs("div",{className:"bg-dark flex flex-1 flex-col overflow-hidden",children:[l.jsx("div",{className:ce("bg-sidebar border-border-light flex shrink-0 items-center border-b px-[15px] [@media(max-width:768px)]:h-auto [@media(max-width:768px)]:py-2",$i()?"h-10 titlebar-drag":"h-8"),children:F&&l.jsx(tt,{variant:"ghost",size:"icon",onClick:U,title:"Open sidebar","aria-label":"Open sidebar menu",className:ce("mobile-menu-btn text-muted hover:text-foreground hidden h-6 w-6 shrink-0",$i()&&"titlebar-no-drag"),children:l.jsx(lI,{className:"h-4 w-4"})})}),l.jsxs("div",{className:"[&_p]:text-muted [&_h2]:text-foreground mx-auto w-full max-w-3xl flex-1 text-center [&_h2]:mb-4 [&_h2]:font-bold [&_h2]:tracking-tight [&_p]:leading-[1.6]",style:{padding:"clamp(40px, 10vh, 100px) 20px",fontSize:"clamp(14px, 2vw, 16px)"},children:[l.jsx("h2",{style:{fontSize:"clamp(24px, 5vw, 36px)",letterSpacing:"-1px"},children:m?"Opening workspace":"Welcome to Mux"}),l.jsx("p",{children:m?e?"Loading workspace metadata":"Workspace not found.":"Add a project from the sidebar to get started."})]})]})})]}),l.jsx(YYe,{getSlashContext:()=>({workspaceId:s?.workspaceId})}),l.jsx(nhe,{isOpen:A,onClose:$,onSuccess:(be,We)=>{E(be,We),rn(L_(be),!0),rn(pA,He=>[...Array.isArray(He)?He:[],be],[]),d(be)}}),l.jsx(ZZe,{}),l.jsx(JZe,{})]})})}function oQe(){const t=ae.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsx(KQ,{children:l.jsx(phe,{children:l.jsx(RZe,{children:l.jsx(I3,{delayDuration:200,children:l.jsx(Ume,{children:l.jsx(bhe,{children:l.jsx(rVe,{children:l.jsx(aVe,{children:l.jsx(wYe,{children:l.jsx(pVe,{children:l.jsx(iQe,{})})})})})})})})})})}),t[0]=e):e=t[0],e}const gJe=Object.freeze(Object.defineProperty({__proto__:null,default:oQe},Symbol.toStringTag,{value:"Module"})),lQe=Object.freeze(Object.defineProperty({__proto__:null,Mermaid:hH},Symbol.toStringTag,{value:"Module"}));export{l0 as $,nJe as A,g8e as B,BQe as C,UQe as D,Ap as E,TTe as F,rEe as G,C8e as H,jS as I,cIe as J,La as K,jH as L,tDe as M,rAe as N,l7 as O,FEe as P,Am as Q,HQe as R,l2 as S,Di as T,a8e as U,W6 as V,w7 as W,K$e as X,n1 as Y,GMe as Z,X as _,r4 as a,f0 as a$,vn as a0,mo as a1,U$e as a2,B7 as a3,F7 as a4,JQe as a5,KQe as a6,ZQe as a7,XQe as a8,GQe as a9,Tz as aA,Iz as aB,Az as aC,Nz as aD,t4 as aE,ep as aF,n4 as aG,Ez as aH,e4 as aI,Jk as aJ,HMe as aK,MRe as aL,DMe as aM,bS as aN,FN as aO,AOe as aP,dJe as aQ,hJe as aR,cJe as aS,nn as aT,uJe as aU,hOe as aV,lOe as aW,oOe as aX,fLe as aY,W$e as aZ,zQe as a_,gd as aa,aS as ab,QQe as ac,VQe as ad,tJe as ae,eJe as af,YQe as ag,eDe as ah,m8e as ai,o0 as aj,Xt as ak,cn as al,DH as am,BLe as an,MV as ao,mJe as ap,dIe as aq,aa as ar,_c as as,gS as at,iG as au,Ju as av,IW as aw,B6 as ax,jz as ay,z6 as az,x8e as b,e_ as b$,hLe as b0,mLe as b1,eS as b2,Ll as b3,R7 as b4,CNe as b5,gf as b6,Xu as b7,qMe as b8,CW as b9,MMe as bA,vRe as bB,xS as bC,fMe as bD,WMe as bE,h0 as bF,mh as bG,Hb as bH,jMe as bI,ePe as bJ,m0 as bK,Ub as bL,wMe as bM,bW as bN,CRe as bO,SRe as bP,Pc as bQ,iN as bR,jRe as bS,yS as bT,_Re as bU,NRe as bV,hh as bW,kc as bX,tN as bY,wS as bZ,yW as b_,r2 as ba,o2 as bb,Wb as bc,jW as bd,_W as be,yMe as bf,en as bg,mW as bh,fs as bi,bNe as bj,J6 as bk,YH as bl,u0 as bm,QH as bn,WQe as bo,nEe as bp,T6e as bq,th as br,BC as bs,eP as bt,tP as bu,i8 as bv,TF as bw,jy as bx,bwe as by,zMe as bz,b8e as c,UMe as c0,i2 as c1,SQe as c2,jQe as c3,TQe as c4,EQe as c5,NQe as c6,$Qe as c7,AQe as c8,IQe as c9,RQe as ca,MQe as cb,DQe as cc,LQe as cd,OQe as ce,PQe as cf,gJe as cg,er as d,qn as e,Tn as f,w8e as g,MH as h,ea as i,ll as j,ii as k,ut as l,bIe as m,uh as n,MW as o,H9e as p,qQe as q,fJe as r,y8e as s,pJe as t,vi as u,v8e as v,aDe as w,k8e as x,uIe as y,aOe as z};
