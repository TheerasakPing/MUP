[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
FAIL src/node/services/costTrackingService.test.ts
  CostTrackingService
    ΓêÜ should initialize correctly (2 ms)
    recordCost
      ├ù should read existing file, append entry, and write back (5 ms)
      ΓêÜ should handle read errors by initializing empty state (1 ms)
    trackCost
      ΓêÜ should calculate cost for known model and record it (2 ms)
    pruneOldEntries
      ΓêÜ should remove entries older than retention period (2 ms)

  ΓùÅ CostTrackingService ΓÇ║ recordCost ΓÇ║ should read existing file, append entry, and write back

    expect(received).toBeDefined()

    Received: undefined

      68 |             // Should also update daily summary
      69 |             const today = new Date().toISOString().slice(0, 10);
    > 70 |             expect(writtenData.dailySummaries[today]).toBeDefined();
         |                                                       ^
      71 |             expect(writtenData.dailySummaries[today].totalCost).toBe(0.05);
      72 |         });
      73 |

      at Object.toBeDefined (src/node/services/costTrackingService.test.ts:70:55)

Test Suites: 1 failed, 1 total
Tests:       1 failed, 4 passed, 5 total
Snapshots:   0 total
Time:        1.072 s
Ran all test suites matching src/node/services/costTrackingService.test.ts.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
